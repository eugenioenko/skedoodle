var ww=Object.defineProperty;var qm=e=>{throw TypeError(e)};var bw=(e,t,n)=>t in e?ww(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var B=(e,t,n)=>bw(e,typeof t!="symbol"?t+"":t,n),Gm=(e,t,n)=>t.has(e)||qm("Cannot "+n);var kn=(e,t,n)=>(Gm(e,t,"read from private field"),n?n.call(e):t.get(e)),Qm=(e,t,n)=>t.has(e)?qm("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Zm=(e,t,n,i)=>(Gm(e,t,"write to private field"),i?i.call(e,n):t.set(e,n),n);function kw(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in e)){const l=Object.getOwnPropertyDescriptor(i,o);l&&Object.defineProperty(e,o,l.get?l:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function k_(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Sh={exports:{}},jl={},Eh={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jm;function Sw(){if(Jm)return Fe;Jm=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),m=Symbol.iterator;function v(L){return L===null||typeof L!="object"?null:(L=m&&L[m]||L["@@iterator"],typeof L=="function"?L:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,b={};function S(L,Y,we){this.props=L,this.context=Y,this.refs=b,this.updater=we||y}S.prototype.isReactComponent={},S.prototype.setState=function(L,Y){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,Y,"setState")},S.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function k(){}k.prototype=S.prototype;function w(L,Y,we){this.props=L,this.context=Y,this.refs=b,this.updater=we||y}var C=w.prototype=new k;C.constructor=w,x(C,S.prototype),C.isPureReactComponent=!0;var M=Array.isArray,P=Object.prototype.hasOwnProperty,N={current:null},j={key:!0,ref:!0,__self:!0,__source:!0};function X(L,Y,we){var fe,oe={},Q=null,se=null;if(Y!=null)for(fe in Y.ref!==void 0&&(se=Y.ref),Y.key!==void 0&&(Q=""+Y.key),Y)P.call(Y,fe)&&!j.hasOwnProperty(fe)&&(oe[fe]=Y[fe]);var ee=arguments.length-2;if(ee===1)oe.children=we;else if(1<ee){for(var Ce=Array(ee),Me=0;Me<ee;Me++)Ce[Me]=arguments[Me+2];oe.children=Ce}if(L&&L.defaultProps)for(fe in ee=L.defaultProps,ee)oe[fe]===void 0&&(oe[fe]=ee[fe]);return{$$typeof:e,type:L,key:Q,ref:se,props:oe,_owner:N.current}}function z(L,Y){return{$$typeof:e,type:L.type,key:Y,ref:L.ref,props:L.props,_owner:L._owner}}function W(L){return typeof L=="object"&&L!==null&&L.$$typeof===e}function K(L){var Y={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(we){return Y[we]})}var q=/\/+/g;function ae(L,Y){return typeof L=="object"&&L!==null&&L.key!=null?K(""+L.key):Y.toString(36)}function te(L,Y,we,fe,oe){var Q=typeof L;(Q==="undefined"||Q==="boolean")&&(L=null);var se=!1;if(L===null)se=!0;else switch(Q){case"string":case"number":se=!0;break;case"object":switch(L.$$typeof){case e:case t:se=!0}}if(se)return se=L,oe=oe(se),L=fe===""?"."+ae(se,0):fe,M(oe)?(we="",L!=null&&(we=L.replace(q,"$&/")+"/"),te(oe,Y,we,"",function(Me){return Me})):oe!=null&&(W(oe)&&(oe=z(oe,we+(!oe.key||se&&se.key===oe.key?"":(""+oe.key).replace(q,"$&/")+"/")+L)),Y.push(oe)),1;if(se=0,fe=fe===""?".":fe+":",M(L))for(var ee=0;ee<L.length;ee++){Q=L[ee];var Ce=fe+ae(Q,ee);se+=te(Q,Y,we,Ce,oe)}else if(Ce=v(L),typeof Ce=="function")for(L=Ce.call(L),ee=0;!(Q=L.next()).done;)Q=Q.value,Ce=fe+ae(Q,ee++),se+=te(Q,Y,we,Ce,oe);else if(Q==="object")throw Y=String(L),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return se}function re(L,Y,we){if(L==null)return L;var fe=[],oe=0;return te(L,fe,"","",function(Q){return Y.call(we,Q,oe++)}),fe}function ue(L){if(L._status===-1){var Y=L._result;Y=Y(),Y.then(function(we){(L._status===0||L._status===-1)&&(L._status=1,L._result=we)},function(we){(L._status===0||L._status===-1)&&(L._status=2,L._result=we)}),L._status===-1&&(L._status=0,L._result=Y)}if(L._status===1)return L._result.default;throw L._result}var Z={current:null},D={transition:null},$={ReactCurrentDispatcher:Z,ReactCurrentBatchConfig:D,ReactCurrentOwner:N};function G(){throw Error("act(...) is not supported in production builds of React.")}return Fe.Children={map:re,forEach:function(L,Y,we){re(L,function(){Y.apply(this,arguments)},we)},count:function(L){var Y=0;return re(L,function(){Y++}),Y},toArray:function(L){return re(L,function(Y){return Y})||[]},only:function(L){if(!W(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Fe.Component=S,Fe.Fragment=n,Fe.Profiler=o,Fe.PureComponent=w,Fe.StrictMode=i,Fe.Suspense=h,Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$,Fe.act=G,Fe.cloneElement=function(L,Y,we){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var fe=x({},L.props),oe=L.key,Q=L.ref,se=L._owner;if(Y!=null){if(Y.ref!==void 0&&(Q=Y.ref,se=N.current),Y.key!==void 0&&(oe=""+Y.key),L.type&&L.type.defaultProps)var ee=L.type.defaultProps;for(Ce in Y)P.call(Y,Ce)&&!j.hasOwnProperty(Ce)&&(fe[Ce]=Y[Ce]===void 0&&ee!==void 0?ee[Ce]:Y[Ce])}var Ce=arguments.length-2;if(Ce===1)fe.children=we;else if(1<Ce){ee=Array(Ce);for(var Me=0;Me<Ce;Me++)ee[Me]=arguments[Me+2];fe.children=ee}return{$$typeof:e,type:L.type,key:oe,ref:Q,props:fe,_owner:se}},Fe.createContext=function(L){return L={$$typeof:a,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:l,_context:L},L.Consumer=L},Fe.createElement=X,Fe.createFactory=function(L){var Y=X.bind(null,L);return Y.type=L,Y},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(L){return{$$typeof:c,render:L}},Fe.isValidElement=W,Fe.lazy=function(L){return{$$typeof:g,_payload:{_status:-1,_result:L},_init:ue}},Fe.memo=function(L,Y){return{$$typeof:d,type:L,compare:Y===void 0?null:Y}},Fe.startTransition=function(L){var Y=D.transition;D.transition={};try{L()}finally{D.transition=Y}},Fe.unstable_act=G,Fe.useCallback=function(L,Y){return Z.current.useCallback(L,Y)},Fe.useContext=function(L){return Z.current.useContext(L)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(L){return Z.current.useDeferredValue(L)},Fe.useEffect=function(L,Y){return Z.current.useEffect(L,Y)},Fe.useId=function(){return Z.current.useId()},Fe.useImperativeHandle=function(L,Y,we){return Z.current.useImperativeHandle(L,Y,we)},Fe.useInsertionEffect=function(L,Y){return Z.current.useInsertionEffect(L,Y)},Fe.useLayoutEffect=function(L,Y){return Z.current.useLayoutEffect(L,Y)},Fe.useMemo=function(L,Y){return Z.current.useMemo(L,Y)},Fe.useReducer=function(L,Y,we){return Z.current.useReducer(L,Y,we)},Fe.useRef=function(L){return Z.current.useRef(L)},Fe.useState=function(L){return Z.current.useState(L)},Fe.useSyncExternalStore=function(L,Y,we){return Z.current.useSyncExternalStore(L,Y,we)},Fe.useTransition=function(){return Z.current.useTransition()},Fe.version="18.3.1",Fe}var ey;function Vd(){return ey||(ey=1,Eh.exports=Sw()),Eh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ty;function Ew(){if(ty)return jl;ty=1;var e=Vd(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function a(c,h,d){var g,m={},v=null,y=null;d!==void 0&&(v=""+d),h.key!==void 0&&(v=""+h.key),h.ref!==void 0&&(y=h.ref);for(g in h)i.call(h,g)&&!l.hasOwnProperty(g)&&(m[g]=h[g]);if(c&&c.defaultProps)for(g in h=c.defaultProps,h)m[g]===void 0&&(m[g]=h[g]);return{$$typeof:t,type:c,key:v,ref:y,props:m,_owner:o.current}}return jl.Fragment=n,jl.jsx=a,jl.jsxs=a,jl}var ny;function Cw(){return ny||(ny=1,Sh.exports=Ew()),Sh.exports}var A=Cw(),E=Vd();const st=k_(E),Rw=kw({__proto__:null,default:st},[E]);var Su={},Ch={exports:{}},Sn={},Rh={exports:{}},Th={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ry;function Tw(){return ry||(ry=1,function(e){function t(D,$){var G=D.length;D.push($);e:for(;0<G;){var L=G-1>>>1,Y=D[L];if(0<o(Y,$))D[L]=$,D[G]=Y,G=L;else break e}}function n(D){return D.length===0?null:D[0]}function i(D){if(D.length===0)return null;var $=D[0],G=D.pop();if(G!==$){D[0]=G;e:for(var L=0,Y=D.length,we=Y>>>1;L<we;){var fe=2*(L+1)-1,oe=D[fe],Q=fe+1,se=D[Q];if(0>o(oe,G))Q<Y&&0>o(se,oe)?(D[L]=se,D[Q]=G,L=Q):(D[L]=oe,D[fe]=G,L=fe);else if(Q<Y&&0>o(se,G))D[L]=se,D[Q]=G,L=Q;else break e}}return $}function o(D,$){var G=D.sortIndex-$.sortIndex;return G!==0?G:D.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var a=Date,c=a.now();e.unstable_now=function(){return a.now()-c}}var h=[],d=[],g=1,m=null,v=3,y=!1,x=!1,b=!1,S=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(D){for(var $=n(d);$!==null;){if($.callback===null)i(d);else if($.startTime<=D)i(d),$.sortIndex=$.expirationTime,t(h,$);else break;$=n(d)}}function M(D){if(b=!1,C(D),!x)if(n(h)!==null)x=!0,ue(P);else{var $=n(d);$!==null&&Z(M,$.startTime-D)}}function P(D,$){x=!1,b&&(b=!1,k(X),X=-1),y=!0;var G=v;try{for(C($),m=n(h);m!==null&&(!(m.expirationTime>$)||D&&!K());){var L=m.callback;if(typeof L=="function"){m.callback=null,v=m.priorityLevel;var Y=L(m.expirationTime<=$);$=e.unstable_now(),typeof Y=="function"?m.callback=Y:m===n(h)&&i(h),C($)}else i(h);m=n(h)}if(m!==null)var we=!0;else{var fe=n(d);fe!==null&&Z(M,fe.startTime-$),we=!1}return we}finally{m=null,v=G,y=!1}}var N=!1,j=null,X=-1,z=5,W=-1;function K(){return!(e.unstable_now()-W<z)}function q(){if(j!==null){var D=e.unstable_now();W=D;var $=!0;try{$=j(!0,D)}finally{$?ae():(N=!1,j=null)}}else N=!1}var ae;if(typeof w=="function")ae=function(){w(q)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,re=te.port2;te.port1.onmessage=q,ae=function(){re.postMessage(null)}}else ae=function(){S(q,0)};function ue(D){j=D,N||(N=!0,ae())}function Z(D,$){X=S(function(){D(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){x||y||(x=!0,ue(P))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(h)},e.unstable_next=function(D){switch(v){case 1:case 2:case 3:var $=3;break;default:$=v}var G=v;v=$;try{return D()}finally{v=G}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,$){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var G=v;v=D;try{return $()}finally{v=G}},e.unstable_scheduleCallback=function(D,$,G){var L=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?L+G:L):G=L,D){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=G+Y,D={id:g++,callback:$,priorityLevel:D,startTime:G,expirationTime:Y,sortIndex:-1},G>L?(D.sortIndex=G,t(d,D),n(h)===null&&D===n(d)&&(b?(k(X),X=-1):b=!0,Z(M,G-L))):(D.sortIndex=Y,t(h,D),x||y||(x=!0,ue(P))),D},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(D){var $=v;return function(){var G=v;v=$;try{return D.apply(this,arguments)}finally{v=G}}}}(Th)),Th}var iy;function Mw(){return iy||(iy=1,Rh.exports=Tw()),Rh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sy;function Aw(){if(sy)return Sn;sy=1;var e=Vd(),t=Mw();function n(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,u=1;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(r,s){a(r,s),a(r+"Capture",s)}function a(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},m={};function v(r){return h.call(m,r)?!0:h.call(g,r)?!1:d.test(r)?m[r]=!0:(g[r]=!0,!1)}function y(r,s,u,f){if(u!==null&&u.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return f?!1:u!==null?!u.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function x(r,s,u,f){if(s===null||typeof s>"u"||y(r,s,u,f))return!0;if(f)return!1;if(u!==null)switch(u.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function b(r,s,u,f,p,_,R){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=f,this.attributeNamespace=p,this.mustUseProperty=u,this.propertyName=r,this.type=s,this.sanitizeURL=_,this.removeEmptyString=R}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){S[r]=new b(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];S[s]=new b(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){S[r]=new b(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){S[r]=new b(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){S[r]=new b(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){S[r]=new b(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){S[r]=new b(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){S[r]=new b(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){S[r]=new b(r,5,!1,r.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function w(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(k,w);S[s]=new b(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(k,w);S[s]=new b(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(k,w);S[s]=new b(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){S[r]=new b(r,1,!1,r.toLowerCase(),null,!1,!1)}),S.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){S[r]=new b(r,1,!1,r.toLowerCase(),null,!0,!0)});function C(r,s,u,f){var p=S.hasOwnProperty(s)?S[s]:null;(p!==null?p.type!==0:f||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(x(s,u,p,f)&&(u=null),f||p===null?v(s)&&(u===null?r.removeAttribute(s):r.setAttribute(s,""+u)):p.mustUseProperty?r[p.propertyName]=u===null?p.type===3?!1:"":u:(s=p.attributeName,f=p.attributeNamespace,u===null?r.removeAttribute(s):(p=p.type,u=p===3||p===4&&u===!0?"":""+u,f?r.setAttributeNS(f,s,u):r.setAttribute(s,u))))}var M=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),N=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),X=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),K=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),re=Symbol.for("react.memo"),ue=Symbol.for("react.lazy"),Z=Symbol.for("react.offscreen"),D=Symbol.iterator;function $(r){return r===null||typeof r!="object"?null:(r=D&&r[D]||r["@@iterator"],typeof r=="function"?r:null)}var G=Object.assign,L;function Y(r){if(L===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);L=s&&s[1]||""}return`
`+L+r}var we=!1;function fe(r,s){if(!r||we)return"";we=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(H){var f=H}Reflect.construct(r,[],s)}else{try{s.call()}catch(H){f=H}r.call(s.prototype)}else{try{throw Error()}catch(H){f=H}r()}}catch(H){if(H&&f&&typeof H.stack=="string"){for(var p=H.stack.split(`
`),_=f.stack.split(`
`),R=p.length-1,O=_.length-1;1<=R&&0<=O&&p[R]!==_[O];)O--;for(;1<=R&&0<=O;R--,O--)if(p[R]!==_[O]){if(R!==1||O!==1)do if(R--,O--,0>O||p[R]!==_[O]){var F=`
`+p[R].replace(" at new "," at ");return r.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",r.displayName)),F}while(1<=R&&0<=O);break}}}finally{we=!1,Error.prepareStackTrace=u}return(r=r?r.displayName||r.name:"")?Y(r):""}function oe(r){switch(r.tag){case 5:return Y(r.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return r=fe(r.type,!1),r;case 11:return r=fe(r.type.render,!1),r;case 1:return r=fe(r.type,!0),r;default:return""}}function Q(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case j:return"Fragment";case N:return"Portal";case z:return"Profiler";case X:return"StrictMode";case ae:return"Suspense";case te:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case K:return(r.displayName||"Context")+".Consumer";case W:return(r._context.displayName||"Context")+".Provider";case q:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case re:return s=r.displayName||null,s!==null?s:Q(r.type)||"Memo";case ue:s=r._payload,r=r._init;try{return Q(r(s))}catch{}}return null}function se(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Q(s);case 8:return s===X?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function ee(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ce(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Me(r){var s=Ce(r)?"checked":"value",u=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),f=""+r[s];if(!r.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,_=u.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return p.call(this)},set:function(R){f=""+R,_.call(this,R)}}),Object.defineProperty(r,s,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(R){f=""+R},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function We(r){r._valueTracker||(r._valueTracker=Me(r))}function gt(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var u=s.getValue(),f="";return r&&(f=Ce(r)?r.checked?"true":"false":r.value),r=f,r!==u?(s.setValue(r),!0):!1}function Ut(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function At(r,s){var u=s.checked;return G({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??r._wrapperState.initialChecked})}function mt(r,s){var u=s.defaultValue==null?"":s.defaultValue,f=s.checked!=null?s.checked:s.defaultChecked;u=ee(s.value!=null?s.value:u),r._wrapperState={initialChecked:f,initialValue:u,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Vt(r,s){s=s.checked,s!=null&&C(r,"checked",s,!1)}function on(r,s){Vt(r,s);var u=ee(s.value),f=s.type;if(u!=null)f==="number"?(u===0&&r.value===""||r.value!=u)&&(r.value=""+u):r.value!==""+u&&(r.value=""+u);else if(f==="submit"||f==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Ht(r,s.type,u):s.hasOwnProperty("defaultValue")&&Ht(r,s.type,ee(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Kn(r,s,u){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var f=s.type;if(!(f!=="submit"&&f!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,u||s===r.value||(r.value=s),r.defaultValue=s}u=r.name,u!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,u!==""&&(r.name=u)}function Ht(r,s,u){(s!=="number"||Ut(r.ownerDocument)!==r)&&(u==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+u&&(r.defaultValue=""+u))}var qn=Array.isArray;function On(r,s,u,f){if(r=r.options,s){s={};for(var p=0;p<u.length;p++)s["$"+u[p]]=!0;for(u=0;u<r.length;u++)p=s.hasOwnProperty("$"+r[u].value),r[u].selected!==p&&(r[u].selected=p),p&&f&&(r[u].defaultSelected=!0)}else{for(u=""+ee(u),s=null,p=0;p<r.length;p++){if(r[p].value===u){r[p].selected=!0,f&&(r[p].defaultSelected=!0);return}s!==null||r[p].disabled||(s=r[p])}s!==null&&(s.selected=!0)}}function Tr(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return G({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Ln(r,s){var u=s.value;if(u==null){if(u=s.children,s=s.defaultValue,u!=null){if(s!=null)throw Error(n(92));if(qn(u)){if(1<u.length)throw Error(n(93));u=u[0]}s=u}s==null&&(s=""),u=s}r._wrapperState={initialValue:ee(u)}}function mn(r,s){var u=ee(s.value),f=ee(s.defaultValue);u!=null&&(u=""+u,u!==r.value&&(r.value=u),s.defaultValue==null&&r.defaultValue!==u&&(r.defaultValue=u)),f!=null&&(r.defaultValue=""+f)}function Mr(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function Qr(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gn(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?Qr(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Fn,ln=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,u,f,p){MSApp.execUnsafeLocalFunction(function(){return r(s,u,f,p)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Fn=Fn||document.createElement("div"),Fn.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Fn.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function Qn(r,s){if(s){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=s;return}}r.textContent=s}var Nn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$c=["Webkit","ms","Moz","O"];Object.keys(Nn).forEach(function(r){$c.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Nn[s]=Nn[r]})});function is(r,s,u){return s==null||typeof s=="boolean"||s===""?"":u||typeof s!="number"||s===0||Nn.hasOwnProperty(r)&&Nn[r]?(""+s).trim():s+"px"}function da(r,s){r=r.style;for(var u in s)if(s.hasOwnProperty(u)){var f=u.indexOf("--")===0,p=is(u,s[u],f);u==="float"&&(u="cssFloat"),f?r.setProperty(u,p):r[u]=p}}var pa=G({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _i(r,s){if(s){if(pa[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function Hs(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ko=null;function Ws(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Zn=null,vi=null,ht=null;function Zr(r){if(r=bl(r)){if(typeof Zn!="function")throw Error(n(280));var s=r.stateNode;s&&(s=za(s),Zn(r.stateNode,r.type,s))}}function ss(r){vi?ht?ht.push(r):ht=[r]:vi=r}function qo(){if(vi){var r=vi,s=ht;if(ht=vi=null,Zr(r),s)for(r=0;r<s.length;r++)Zr(s[r])}}function ga(r,s){return r(s)}function ma(){}var Jr=!1;function Go(r,s,u){if(Jr)return r(s,u);Jr=!0;try{return ga(r,s,u)}finally{Jr=!1,(vi!==null||ht!==null)&&(ma(),qo())}}function os(r,s){var u=r.stateNode;if(u===null)return null;var f=za(u);if(f===null)return null;u=f[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(r=r.type,f=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!f;break e;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(n(231,s,typeof u));return u}var Qo=!1;if(c)try{var ei={};Object.defineProperty(ei,"passive",{get:function(){Qo=!0}}),window.addEventListener("test",ei,ei),window.removeEventListener("test",ei,ei)}catch{Qo=!1}function ya(r,s,u,f,p,_,R,O,F){var H=Array.prototype.slice.call(arguments,3);try{s.apply(u,H)}catch(ie){this.onError(ie)}}var xi=!1,Ys=null,Xs=!1,Ks=null,Zo={onError:function(r){xi=!0,Ys=r}};function _a(r,s,u,f,p,_,R,O,F){xi=!1,Ys=null,ya.apply(Zo,arguments)}function Uc(r,s,u,f,p,_,R,O,F){if(_a.apply(this,arguments),xi){if(xi){var H=Ys;xi=!1,Ys=null}else throw Error(n(198));Xs||(Xs=!0,Ks=H)}}function ti(r){var s=r,u=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(u=s.return),r=s.return;while(r)}return s.tag===3?u:null}function Jo(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function el(r){if(ti(r)!==r)throw Error(n(188))}function ls(r){var s=r.alternate;if(!s){if(s=ti(r),s===null)throw Error(n(188));return s!==r?null:r}for(var u=r,f=s;;){var p=u.return;if(p===null)break;var _=p.alternate;if(_===null){if(f=p.return,f!==null){u=f;continue}break}if(p.child===_.child){for(_=p.child;_;){if(_===u)return el(p),r;if(_===f)return el(p),s;_=_.sibling}throw Error(n(188))}if(u.return!==f.return)u=p,f=_;else{for(var R=!1,O=p.child;O;){if(O===u){R=!0,u=p,f=_;break}if(O===f){R=!0,f=p,u=_;break}O=O.sibling}if(!R){for(O=_.child;O;){if(O===u){R=!0,u=_,f=p;break}if(O===f){R=!0,f=_,u=p;break}O=O.sibling}if(!R)throw Error(n(189))}}if(u.alternate!==f)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?r:s}function va(r){return r=ls(r),r!==null?tl(r):null}function tl(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=tl(r);if(s!==null)return s;r=r.sibling}return null}var nl=t.unstable_scheduleCallback,rl=t.unstable_cancelCallback,Vc=t.unstable_shouldYield,Ve=t.unstable_requestPaint,ge=t.unstable_now,Ye=t.unstable_getCurrentPriorityLevel,Ke=t.unstable_ImmediatePriority,yt=t.unstable_UserBlockingPriority,In=t.unstable_NormalPriority,hr=t.unstable_LowPriority,Jn=t.unstable_IdlePriority,yn=null,Pt=null;function wi(r){if(Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(yn,r,void 0,(r.current.flags&128)===128)}catch{}}var xt=Math.clz32?Math.clz32:B1,qs=Math.log,xa=Math.LN2;function B1(r){return r>>>=0,r===0?32:31-(qs(r)/xa|0)|0}var wa=64,ba=4194304;function il(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function ka(r,s){var u=r.pendingLanes;if(u===0)return 0;var f=0,p=r.suspendedLanes,_=r.pingedLanes,R=u&268435455;if(R!==0){var O=R&~p;O!==0?f=il(O):(_&=R,_!==0&&(f=il(_)))}else R=u&~p,R!==0?f=il(R):_!==0&&(f=il(_));if(f===0)return 0;if(s!==0&&s!==f&&!(s&p)&&(p=f&-f,_=s&-s,p>=_||p===16&&(_&4194240)!==0))return s;if(f&4&&(f|=u&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=f;0<s;)u=31-xt(s),p=1<<u,f|=r[u],s&=~p;return f}function $1(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function U1(r,s){for(var u=r.suspendedLanes,f=r.pingedLanes,p=r.expirationTimes,_=r.pendingLanes;0<_;){var R=31-xt(_),O=1<<R,F=p[R];F===-1?(!(O&u)||O&f)&&(p[R]=$1(O,s)):F<=s&&(r.expiredLanes|=O),_&=~O}}function Hc(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Cp(){var r=wa;return wa<<=1,!(wa&4194240)&&(wa=64),r}function Wc(r){for(var s=[],u=0;31>u;u++)s.push(r);return s}function sl(r,s,u){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-xt(s),r[s]=u}function V1(r,s){var u=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var f=r.eventTimes;for(r=r.expirationTimes;0<u;){var p=31-xt(u),_=1<<p;s[p]=0,f[p]=-1,r[p]=-1,u&=~_}}function Yc(r,s){var u=r.entangledLanes|=s;for(r=r.entanglements;u;){var f=31-xt(u),p=1<<f;p&s|r[f]&s&&(r[f]|=s),u&=~p}}var Xe=0;function Rp(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var Tp,Xc,Mp,Ap,Pp,Kc=!1,Sa=[],bi=null,ki=null,Si=null,ol=new Map,ll=new Map,Ei=[],H1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Op(r,s){switch(r){case"focusin":case"focusout":bi=null;break;case"dragenter":case"dragleave":ki=null;break;case"mouseover":case"mouseout":Si=null;break;case"pointerover":case"pointerout":ol.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":ll.delete(s.pointerId)}}function al(r,s,u,f,p,_){return r===null||r.nativeEvent!==_?(r={blockedOn:s,domEventName:u,eventSystemFlags:f,nativeEvent:_,targetContainers:[p]},s!==null&&(s=bl(s),s!==null&&Xc(s)),r):(r.eventSystemFlags|=f,s=r.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),r)}function W1(r,s,u,f,p){switch(s){case"focusin":return bi=al(bi,r,s,u,f,p),!0;case"dragenter":return ki=al(ki,r,s,u,f,p),!0;case"mouseover":return Si=al(Si,r,s,u,f,p),!0;case"pointerover":var _=p.pointerId;return ol.set(_,al(ol.get(_)||null,r,s,u,f,p)),!0;case"gotpointercapture":return _=p.pointerId,ll.set(_,al(ll.get(_)||null,r,s,u,f,p)),!0}return!1}function Lp(r){var s=as(r.target);if(s!==null){var u=ti(s);if(u!==null){if(s=u.tag,s===13){if(s=Jo(u),s!==null){r.blockedOn=s,Pp(r.priority,function(){Mp(u)});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Ea(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var u=Gc(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(u===null){u=r.nativeEvent;var f=new u.constructor(u.type,u);Ko=f,u.target.dispatchEvent(f),Ko=null}else return s=bl(u),s!==null&&Xc(s),r.blockedOn=u,!1;s.shift()}return!0}function Fp(r,s,u){Ea(r)&&u.delete(s)}function Y1(){Kc=!1,bi!==null&&Ea(bi)&&(bi=null),ki!==null&&Ea(ki)&&(ki=null),Si!==null&&Ea(Si)&&(Si=null),ol.forEach(Fp),ll.forEach(Fp)}function ul(r,s){r.blockedOn===s&&(r.blockedOn=null,Kc||(Kc=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Y1)))}function cl(r){function s(p){return ul(p,r)}if(0<Sa.length){ul(Sa[0],r);for(var u=1;u<Sa.length;u++){var f=Sa[u];f.blockedOn===r&&(f.blockedOn=null)}}for(bi!==null&&ul(bi,r),ki!==null&&ul(ki,r),Si!==null&&ul(Si,r),ol.forEach(s),ll.forEach(s),u=0;u<Ei.length;u++)f=Ei[u],f.blockedOn===r&&(f.blockedOn=null);for(;0<Ei.length&&(u=Ei[0],u.blockedOn===null);)Lp(u),u.blockedOn===null&&Ei.shift()}var Gs=M.ReactCurrentBatchConfig,Ca=!0;function X1(r,s,u,f){var p=Xe,_=Gs.transition;Gs.transition=null;try{Xe=1,qc(r,s,u,f)}finally{Xe=p,Gs.transition=_}}function K1(r,s,u,f){var p=Xe,_=Gs.transition;Gs.transition=null;try{Xe=4,qc(r,s,u,f)}finally{Xe=p,Gs.transition=_}}function qc(r,s,u,f){if(Ca){var p=Gc(r,s,u,f);if(p===null)pf(r,s,f,Ra,u),Op(r,f);else if(W1(p,r,s,u,f))f.stopPropagation();else if(Op(r,f),s&4&&-1<H1.indexOf(r)){for(;p!==null;){var _=bl(p);if(_!==null&&Tp(_),_=Gc(r,s,u,f),_===null&&pf(r,s,f,Ra,u),_===p)break;p=_}p!==null&&f.stopPropagation()}else pf(r,s,f,null,u)}}var Ra=null;function Gc(r,s,u,f){if(Ra=null,r=Ws(f),r=as(r),r!==null)if(s=ti(r),s===null)r=null;else if(u=s.tag,u===13){if(r=Jo(s),r!==null)return r;r=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Ra=r,null}function Np(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ye()){case Ke:return 1;case yt:return 4;case In:case hr:return 16;case Jn:return 536870912;default:return 16}default:return 16}}var Ci=null,Qc=null,Ta=null;function Ip(){if(Ta)return Ta;var r,s=Qc,u=s.length,f,p="value"in Ci?Ci.value:Ci.textContent,_=p.length;for(r=0;r<u&&s[r]===p[r];r++);var R=u-r;for(f=1;f<=R&&s[u-f]===p[_-f];f++);return Ta=p.slice(r,1<f?1-f:void 0)}function Ma(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Aa(){return!0}function jp(){return!1}function jn(r){function s(u,f,p,_,R){this._reactName=u,this._targetInst=p,this.type=f,this.nativeEvent=_,this.target=R,this.currentTarget=null;for(var O in r)r.hasOwnProperty(O)&&(u=r[O],this[O]=u?u(_):_[O]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Aa:jp,this.isPropagationStopped=jp,this}return G(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Aa)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Aa)},persist:function(){},isPersistent:Aa}),s}var Qs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zc=jn(Qs),fl=G({},Qs,{view:0,detail:0}),q1=jn(fl),Jc,ef,hl,Pa=G({},fl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nf,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==hl&&(hl&&r.type==="mousemove"?(Jc=r.screenX-hl.screenX,ef=r.screenY-hl.screenY):ef=Jc=0,hl=r),Jc)},movementY:function(r){return"movementY"in r?r.movementY:ef}}),Dp=jn(Pa),G1=G({},Pa,{dataTransfer:0}),Q1=jn(G1),Z1=G({},fl,{relatedTarget:0}),tf=jn(Z1),J1=G({},Qs,{animationName:0,elapsedTime:0,pseudoElement:0}),ex=jn(J1),tx=G({},Qs,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),nx=jn(tx),rx=G({},Qs,{data:0}),zp=jn(rx),ix={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ox={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lx(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=ox[r])?!!s[r]:!1}function nf(){return lx}var ax=G({},fl,{key:function(r){if(r.key){var s=ix[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Ma(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?sx[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nf,charCode:function(r){return r.type==="keypress"?Ma(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ma(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),ux=jn(ax),cx=G({},Pa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bp=jn(cx),fx=G({},fl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nf}),hx=jn(fx),dx=G({},Qs,{propertyName:0,elapsedTime:0,pseudoElement:0}),px=jn(dx),gx=G({},Pa,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),mx=jn(gx),yx=[9,13,27,32],rf=c&&"CompositionEvent"in window,dl=null;c&&"documentMode"in document&&(dl=document.documentMode);var _x=c&&"TextEvent"in window&&!dl,$p=c&&(!rf||dl&&8<dl&&11>=dl),Up=" ",Vp=!1;function Hp(r,s){switch(r){case"keyup":return yx.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wp(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Zs=!1;function vx(r,s){switch(r){case"compositionend":return Wp(s);case"keypress":return s.which!==32?null:(Vp=!0,Up);case"textInput":return r=s.data,r===Up&&Vp?null:r;default:return null}}function xx(r,s){if(Zs)return r==="compositionend"||!rf&&Hp(r,s)?(r=Ip(),Ta=Qc=Ci=null,Zs=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return $p&&s.locale!=="ko"?null:s.data;default:return null}}var wx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yp(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!wx[r.type]:s==="textarea"}function Xp(r,s,u,f){ss(f),s=Ia(s,"onChange"),0<s.length&&(u=new Zc("onChange","change",null,u,f),r.push({event:u,listeners:s}))}var pl=null,gl=null;function bx(r){fg(r,0)}function Oa(r){var s=ro(r);if(gt(s))return r}function kx(r,s){if(r==="change")return s}var Kp=!1;if(c){var sf;if(c){var of="oninput"in document;if(!of){var qp=document.createElement("div");qp.setAttribute("oninput","return;"),of=typeof qp.oninput=="function"}sf=of}else sf=!1;Kp=sf&&(!document.documentMode||9<document.documentMode)}function Gp(){pl&&(pl.detachEvent("onpropertychange",Qp),gl=pl=null)}function Qp(r){if(r.propertyName==="value"&&Oa(gl)){var s=[];Xp(s,gl,r,Ws(r)),Go(bx,s)}}function Sx(r,s,u){r==="focusin"?(Gp(),pl=s,gl=u,pl.attachEvent("onpropertychange",Qp)):r==="focusout"&&Gp()}function Ex(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Oa(gl)}function Cx(r,s){if(r==="click")return Oa(s)}function Rx(r,s){if(r==="input"||r==="change")return Oa(s)}function Tx(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var dr=typeof Object.is=="function"?Object.is:Tx;function ml(r,s){if(dr(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var u=Object.keys(r),f=Object.keys(s);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var p=u[f];if(!h.call(s,p)||!dr(r[p],s[p]))return!1}return!0}function Zp(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Jp(r,s){var u=Zp(r);r=0;for(var f;u;){if(u.nodeType===3){if(f=r+u.textContent.length,r<=s&&f>=s)return{node:u,offset:s-r};r=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Zp(u)}}function eg(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?eg(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function tg(){for(var r=window,s=Ut();s instanceof r.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)r=s.contentWindow;else break;s=Ut(r.document)}return s}function lf(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function Mx(r){var s=tg(),u=r.focusedElem,f=r.selectionRange;if(s!==u&&u&&u.ownerDocument&&eg(u.ownerDocument.documentElement,u)){if(f!==null&&lf(u)){if(s=f.start,r=f.end,r===void 0&&(r=s),"selectionStart"in u)u.selectionStart=s,u.selectionEnd=Math.min(r,u.value.length);else if(r=(s=u.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var p=u.textContent.length,_=Math.min(f.start,p);f=f.end===void 0?_:Math.min(f.end,p),!r.extend&&_>f&&(p=f,f=_,_=p),p=Jp(u,_);var R=Jp(u,f);p&&R&&(r.rangeCount!==1||r.anchorNode!==p.node||r.anchorOffset!==p.offset||r.focusNode!==R.node||r.focusOffset!==R.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),r.removeAllRanges(),_>f?(r.addRange(s),r.extend(R.node,R.offset)):(s.setEnd(R.node,R.offset),r.addRange(s)))}}for(s=[],r=u;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<s.length;u++)r=s[u],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var Ax=c&&"documentMode"in document&&11>=document.documentMode,Js=null,af=null,yl=null,uf=!1;function ng(r,s,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;uf||Js==null||Js!==Ut(f)||(f=Js,"selectionStart"in f&&lf(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),yl&&ml(yl,f)||(yl=f,f=Ia(af,"onSelect"),0<f.length&&(s=new Zc("onSelect","select",null,s,u),r.push({event:s,listeners:f}),s.target=Js)))}function La(r,s){var u={};return u[r.toLowerCase()]=s.toLowerCase(),u["Webkit"+r]="webkit"+s,u["Moz"+r]="moz"+s,u}var eo={animationend:La("Animation","AnimationEnd"),animationiteration:La("Animation","AnimationIteration"),animationstart:La("Animation","AnimationStart"),transitionend:La("Transition","TransitionEnd")},cf={},rg={};c&&(rg=document.createElement("div").style,"AnimationEvent"in window||(delete eo.animationend.animation,delete eo.animationiteration.animation,delete eo.animationstart.animation),"TransitionEvent"in window||delete eo.transitionend.transition);function Fa(r){if(cf[r])return cf[r];if(!eo[r])return r;var s=eo[r],u;for(u in s)if(s.hasOwnProperty(u)&&u in rg)return cf[r]=s[u];return r}var ig=Fa("animationend"),sg=Fa("animationiteration"),og=Fa("animationstart"),lg=Fa("transitionend"),ag=new Map,ug="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ri(r,s){ag.set(r,s),l(s,[r])}for(var ff=0;ff<ug.length;ff++){var hf=ug[ff],Px=hf.toLowerCase(),Ox=hf[0].toUpperCase()+hf.slice(1);Ri(Px,"on"+Ox)}Ri(ig,"onAnimationEnd"),Ri(sg,"onAnimationIteration"),Ri(og,"onAnimationStart"),Ri("dblclick","onDoubleClick"),Ri("focusin","onFocus"),Ri("focusout","onBlur"),Ri(lg,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lx=new Set("cancel close invalid load scroll toggle".split(" ").concat(_l));function cg(r,s,u){var f=r.type||"unknown-event";r.currentTarget=u,Uc(f,s,void 0,r),r.currentTarget=null}function fg(r,s){s=(s&4)!==0;for(var u=0;u<r.length;u++){var f=r[u],p=f.event;f=f.listeners;e:{var _=void 0;if(s)for(var R=f.length-1;0<=R;R--){var O=f[R],F=O.instance,H=O.currentTarget;if(O=O.listener,F!==_&&p.isPropagationStopped())break e;cg(p,O,H),_=F}else for(R=0;R<f.length;R++){if(O=f[R],F=O.instance,H=O.currentTarget,O=O.listener,F!==_&&p.isPropagationStopped())break e;cg(p,O,H),_=F}}}if(Xs)throw r=Ks,Xs=!1,Ks=null,r}function Ze(r,s){var u=s[xf];u===void 0&&(u=s[xf]=new Set);var f=r+"__bubble";u.has(f)||(hg(s,r,2,!1),u.add(f))}function df(r,s,u){var f=0;s&&(f|=4),hg(u,r,f,s)}var Na="_reactListening"+Math.random().toString(36).slice(2);function vl(r){if(!r[Na]){r[Na]=!0,i.forEach(function(u){u!=="selectionchange"&&(Lx.has(u)||df(u,!1,r),df(u,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Na]||(s[Na]=!0,df("selectionchange",!1,s))}}function hg(r,s,u,f){switch(Np(s)){case 1:var p=X1;break;case 4:p=K1;break;default:p=qc}u=p.bind(null,s,u,r),p=void 0,!Qo||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),f?p!==void 0?r.addEventListener(s,u,{capture:!0,passive:p}):r.addEventListener(s,u,!0):p!==void 0?r.addEventListener(s,u,{passive:p}):r.addEventListener(s,u,!1)}function pf(r,s,u,f,p){var _=f;if(!(s&1)&&!(s&2)&&f!==null)e:for(;;){if(f===null)return;var R=f.tag;if(R===3||R===4){var O=f.stateNode.containerInfo;if(O===p||O.nodeType===8&&O.parentNode===p)break;if(R===4)for(R=f.return;R!==null;){var F=R.tag;if((F===3||F===4)&&(F=R.stateNode.containerInfo,F===p||F.nodeType===8&&F.parentNode===p))return;R=R.return}for(;O!==null;){if(R=as(O),R===null)return;if(F=R.tag,F===5||F===6){f=_=R;continue e}O=O.parentNode}}f=f.return}Go(function(){var H=_,ie=Ws(u),le=[];e:{var ne=ag.get(r);if(ne!==void 0){var me=Zc,ve=r;switch(r){case"keypress":if(Ma(u)===0)break e;case"keydown":case"keyup":me=ux;break;case"focusin":ve="focus",me=tf;break;case"focusout":ve="blur",me=tf;break;case"beforeblur":case"afterblur":me=tf;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=Dp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=Q1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=hx;break;case ig:case sg:case og:me=ex;break;case lg:me=px;break;case"scroll":me=q1;break;case"wheel":me=mx;break;case"copy":case"cut":case"paste":me=nx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=Bp}var be=(s&4)!==0,_t=!be&&r==="scroll",U=be?ne!==null?ne+"Capture":null:ne;be=[];for(var I=H,V;I!==null;){V=I;var he=V.stateNode;if(V.tag===5&&he!==null&&(V=he,U!==null&&(he=os(I,U),he!=null&&be.push(xl(I,he,V)))),_t)break;I=I.return}0<be.length&&(ne=new me(ne,ve,null,u,ie),le.push({event:ne,listeners:be}))}}if(!(s&7)){e:{if(ne=r==="mouseover"||r==="pointerover",me=r==="mouseout"||r==="pointerout",ne&&u!==Ko&&(ve=u.relatedTarget||u.fromElement)&&(as(ve)||ve[ni]))break e;if((me||ne)&&(ne=ie.window===ie?ie:(ne=ie.ownerDocument)?ne.defaultView||ne.parentWindow:window,me?(ve=u.relatedTarget||u.toElement,me=H,ve=ve?as(ve):null,ve!==null&&(_t=ti(ve),ve!==_t||ve.tag!==5&&ve.tag!==6)&&(ve=null)):(me=null,ve=H),me!==ve)){if(be=Dp,he="onMouseLeave",U="onMouseEnter",I="mouse",(r==="pointerout"||r==="pointerover")&&(be=Bp,he="onPointerLeave",U="onPointerEnter",I="pointer"),_t=me==null?ne:ro(me),V=ve==null?ne:ro(ve),ne=new be(he,I+"leave",me,u,ie),ne.target=_t,ne.relatedTarget=V,he=null,as(ie)===H&&(be=new be(U,I+"enter",ve,u,ie),be.target=V,be.relatedTarget=_t,he=be),_t=he,me&&ve)t:{for(be=me,U=ve,I=0,V=be;V;V=to(V))I++;for(V=0,he=U;he;he=to(he))V++;for(;0<I-V;)be=to(be),I--;for(;0<V-I;)U=to(U),V--;for(;I--;){if(be===U||U!==null&&be===U.alternate)break t;be=to(be),U=to(U)}be=null}else be=null;me!==null&&dg(le,ne,me,be,!1),ve!==null&&_t!==null&&dg(le,_t,ve,be,!0)}}e:{if(ne=H?ro(H):window,me=ne.nodeName&&ne.nodeName.toLowerCase(),me==="select"||me==="input"&&ne.type==="file")var Ee=kx;else if(Yp(ne))if(Kp)Ee=Rx;else{Ee=Ex;var Re=Sx}else(me=ne.nodeName)&&me.toLowerCase()==="input"&&(ne.type==="checkbox"||ne.type==="radio")&&(Ee=Cx);if(Ee&&(Ee=Ee(r,H))){Xp(le,Ee,u,ie);break e}Re&&Re(r,ne,H),r==="focusout"&&(Re=ne._wrapperState)&&Re.controlled&&ne.type==="number"&&Ht(ne,"number",ne.value)}switch(Re=H?ro(H):window,r){case"focusin":(Yp(Re)||Re.contentEditable==="true")&&(Js=Re,af=H,yl=null);break;case"focusout":yl=af=Js=null;break;case"mousedown":uf=!0;break;case"contextmenu":case"mouseup":case"dragend":uf=!1,ng(le,u,ie);break;case"selectionchange":if(Ax)break;case"keydown":case"keyup":ng(le,u,ie)}var Te;if(rf)e:{switch(r){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Zs?Hp(r,u)&&(Oe="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(Oe="onCompositionStart");Oe&&($p&&u.locale!=="ko"&&(Zs||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Zs&&(Te=Ip()):(Ci=ie,Qc="value"in Ci?Ci.value:Ci.textContent,Zs=!0)),Re=Ia(H,Oe),0<Re.length&&(Oe=new zp(Oe,r,null,u,ie),le.push({event:Oe,listeners:Re}),Te?Oe.data=Te:(Te=Wp(u),Te!==null&&(Oe.data=Te)))),(Te=_x?vx(r,u):xx(r,u))&&(H=Ia(H,"onBeforeInput"),0<H.length&&(ie=new zp("onBeforeInput","beforeinput",null,u,ie),le.push({event:ie,listeners:H}),ie.data=Te))}fg(le,s)})}function xl(r,s,u){return{instance:r,listener:s,currentTarget:u}}function Ia(r,s){for(var u=s+"Capture",f=[];r!==null;){var p=r,_=p.stateNode;p.tag===5&&_!==null&&(p=_,_=os(r,u),_!=null&&f.unshift(xl(r,_,p)),_=os(r,s),_!=null&&f.push(xl(r,_,p))),r=r.return}return f}function to(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function dg(r,s,u,f,p){for(var _=s._reactName,R=[];u!==null&&u!==f;){var O=u,F=O.alternate,H=O.stateNode;if(F!==null&&F===f)break;O.tag===5&&H!==null&&(O=H,p?(F=os(u,_),F!=null&&R.unshift(xl(u,F,O))):p||(F=os(u,_),F!=null&&R.push(xl(u,F,O)))),u=u.return}R.length!==0&&r.push({event:s,listeners:R})}var Fx=/\r\n?/g,Nx=/\u0000|\uFFFD/g;function pg(r){return(typeof r=="string"?r:""+r).replace(Fx,`
`).replace(Nx,"")}function ja(r,s,u){if(s=pg(s),pg(r)!==s&&u)throw Error(n(425))}function Da(){}var gf=null,mf=null;function yf(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var _f=typeof setTimeout=="function"?setTimeout:void 0,Ix=typeof clearTimeout=="function"?clearTimeout:void 0,gg=typeof Promise=="function"?Promise:void 0,jx=typeof queueMicrotask=="function"?queueMicrotask:typeof gg<"u"?function(r){return gg.resolve(null).then(r).catch(Dx)}:_f;function Dx(r){setTimeout(function(){throw r})}function vf(r,s){var u=s,f=0;do{var p=u.nextSibling;if(r.removeChild(u),p&&p.nodeType===8)if(u=p.data,u==="/$"){if(f===0){r.removeChild(p),cl(s);return}f--}else u!=="$"&&u!=="$?"&&u!=="$!"||f++;u=p}while(u);cl(s)}function Ti(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function mg(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"){if(s===0)return r;s--}else u==="/$"&&s++}r=r.previousSibling}return null}var no=Math.random().toString(36).slice(2),Ar="__reactFiber$"+no,wl="__reactProps$"+no,ni="__reactContainer$"+no,xf="__reactEvents$"+no,zx="__reactListeners$"+no,Bx="__reactHandles$"+no;function as(r){var s=r[Ar];if(s)return s;for(var u=r.parentNode;u;){if(s=u[ni]||u[Ar]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(r=mg(r);r!==null;){if(u=r[Ar])return u;r=mg(r)}return s}r=u,u=r.parentNode}return null}function bl(r){return r=r[Ar]||r[ni],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function ro(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function za(r){return r[wl]||null}var wf=[],io=-1;function Mi(r){return{current:r}}function Je(r){0>io||(r.current=wf[io],wf[io]=null,io--)}function qe(r,s){io++,wf[io]=r.current,r.current=s}var Ai={},Wt=Mi(Ai),_n=Mi(!1),us=Ai;function so(r,s){var u=r.type.contextTypes;if(!u)return Ai;var f=r.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===s)return f.__reactInternalMemoizedMaskedChildContext;var p={},_;for(_ in u)p[_]=s[_];return f&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=p),p}function vn(r){return r=r.childContextTypes,r!=null}function Ba(){Je(_n),Je(Wt)}function yg(r,s,u){if(Wt.current!==Ai)throw Error(n(168));qe(Wt,s),qe(_n,u)}function _g(r,s,u){var f=r.stateNode;if(s=s.childContextTypes,typeof f.getChildContext!="function")return u;f=f.getChildContext();for(var p in f)if(!(p in s))throw Error(n(108,se(r)||"Unknown",p));return G({},u,f)}function $a(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Ai,us=Wt.current,qe(Wt,r),qe(_n,_n.current),!0}function vg(r,s,u){var f=r.stateNode;if(!f)throw Error(n(169));u?(r=_g(r,s,us),f.__reactInternalMemoizedMergedChildContext=r,Je(_n),Je(Wt),qe(Wt,r)):Je(_n),qe(_n,u)}var ri=null,Ua=!1,bf=!1;function xg(r){ri===null?ri=[r]:ri.push(r)}function $x(r){Ua=!0,xg(r)}function Pi(){if(!bf&&ri!==null){bf=!0;var r=0,s=Xe;try{var u=ri;for(Xe=1;r<u.length;r++){var f=u[r];do f=f(!0);while(f!==null)}ri=null,Ua=!1}catch(p){throw ri!==null&&(ri=ri.slice(r+1)),nl(Ke,Pi),p}finally{Xe=s,bf=!1}}return null}var oo=[],lo=0,Va=null,Ha=0,er=[],tr=0,cs=null,ii=1,si="";function fs(r,s){oo[lo++]=Ha,oo[lo++]=Va,Va=r,Ha=s}function wg(r,s,u){er[tr++]=ii,er[tr++]=si,er[tr++]=cs,cs=r;var f=ii;r=si;var p=32-xt(f)-1;f&=~(1<<p),u+=1;var _=32-xt(s)+p;if(30<_){var R=p-p%5;_=(f&(1<<R)-1).toString(32),f>>=R,p-=R,ii=1<<32-xt(s)+p|u<<p|f,si=_+r}else ii=1<<_|u<<p|f,si=r}function kf(r){r.return!==null&&(fs(r,1),wg(r,1,0))}function Sf(r){for(;r===Va;)Va=oo[--lo],oo[lo]=null,Ha=oo[--lo],oo[lo]=null;for(;r===cs;)cs=er[--tr],er[tr]=null,si=er[--tr],er[tr]=null,ii=er[--tr],er[tr]=null}var Dn=null,zn=null,nt=!1,pr=null;function bg(r,s){var u=sr(5,null,null,0);u.elementType="DELETED",u.stateNode=s,u.return=r,s=r.deletions,s===null?(r.deletions=[u],r.flags|=16):s.push(u)}function kg(r,s){switch(r.tag){case 5:var u=r.type;return s=s.nodeType!==1||u.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,Dn=r,zn=Ti(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,Dn=r,zn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(u=cs!==null?{id:ii,overflow:si}:null,r.memoizedState={dehydrated:s,treeContext:u,retryLane:1073741824},u=sr(18,null,null,0),u.stateNode=s,u.return=r,r.child=u,Dn=r,zn=null,!0):!1;default:return!1}}function Ef(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Cf(r){if(nt){var s=zn;if(s){var u=s;if(!kg(r,s)){if(Ef(r))throw Error(n(418));s=Ti(u.nextSibling);var f=Dn;s&&kg(r,s)?bg(f,u):(r.flags=r.flags&-4097|2,nt=!1,Dn=r)}}else{if(Ef(r))throw Error(n(418));r.flags=r.flags&-4097|2,nt=!1,Dn=r}}}function Sg(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Dn=r}function Wa(r){if(r!==Dn)return!1;if(!nt)return Sg(r),nt=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!yf(r.type,r.memoizedProps)),s&&(s=zn)){if(Ef(r))throw Eg(),Error(n(418));for(;s;)bg(r,s),s=Ti(s.nextSibling)}if(Sg(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var u=r.data;if(u==="/$"){if(s===0){zn=Ti(r.nextSibling);break e}s--}else u!=="$"&&u!=="$!"&&u!=="$?"||s++}r=r.nextSibling}zn=null}}else zn=Dn?Ti(r.stateNode.nextSibling):null;return!0}function Eg(){for(var r=zn;r;)r=Ti(r.nextSibling)}function ao(){zn=Dn=null,nt=!1}function Rf(r){pr===null?pr=[r]:pr.push(r)}var Ux=M.ReactCurrentBatchConfig;function kl(r,s,u){if(r=u.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var f=u.stateNode}if(!f)throw Error(n(147,r));var p=f,_=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===_?s.ref:(s=function(R){var O=p.refs;R===null?delete O[_]:O[_]=R},s._stringRef=_,s)}if(typeof r!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,r))}return r}function Ya(r,s){throw r=Object.prototype.toString.call(s),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Cg(r){var s=r._init;return s(r._payload)}function Rg(r){function s(U,I){if(r){var V=U.deletions;V===null?(U.deletions=[I],U.flags|=16):V.push(I)}}function u(U,I){if(!r)return null;for(;I!==null;)s(U,I),I=I.sibling;return null}function f(U,I){for(U=new Map;I!==null;)I.key!==null?U.set(I.key,I):U.set(I.index,I),I=I.sibling;return U}function p(U,I){return U=zi(U,I),U.index=0,U.sibling=null,U}function _(U,I,V){return U.index=V,r?(V=U.alternate,V!==null?(V=V.index,V<I?(U.flags|=2,I):V):(U.flags|=2,I)):(U.flags|=1048576,I)}function R(U){return r&&U.alternate===null&&(U.flags|=2),U}function O(U,I,V,he){return I===null||I.tag!==6?(I=_h(V,U.mode,he),I.return=U,I):(I=p(I,V),I.return=U,I)}function F(U,I,V,he){var Ee=V.type;return Ee===j?ie(U,I,V.props.children,he,V.key):I!==null&&(I.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===ue&&Cg(Ee)===I.type)?(he=p(I,V.props),he.ref=kl(U,I,V),he.return=U,he):(he=mu(V.type,V.key,V.props,null,U.mode,he),he.ref=kl(U,I,V),he.return=U,he)}function H(U,I,V,he){return I===null||I.tag!==4||I.stateNode.containerInfo!==V.containerInfo||I.stateNode.implementation!==V.implementation?(I=vh(V,U.mode,he),I.return=U,I):(I=p(I,V.children||[]),I.return=U,I)}function ie(U,I,V,he,Ee){return I===null||I.tag!==7?(I=vs(V,U.mode,he,Ee),I.return=U,I):(I=p(I,V),I.return=U,I)}function le(U,I,V){if(typeof I=="string"&&I!==""||typeof I=="number")return I=_h(""+I,U.mode,V),I.return=U,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case P:return V=mu(I.type,I.key,I.props,null,U.mode,V),V.ref=kl(U,null,I),V.return=U,V;case N:return I=vh(I,U.mode,V),I.return=U,I;case ue:var he=I._init;return le(U,he(I._payload),V)}if(qn(I)||$(I))return I=vs(I,U.mode,V,null),I.return=U,I;Ya(U,I)}return null}function ne(U,I,V,he){var Ee=I!==null?I.key:null;if(typeof V=="string"&&V!==""||typeof V=="number")return Ee!==null?null:O(U,I,""+V,he);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case P:return V.key===Ee?F(U,I,V,he):null;case N:return V.key===Ee?H(U,I,V,he):null;case ue:return Ee=V._init,ne(U,I,Ee(V._payload),he)}if(qn(V)||$(V))return Ee!==null?null:ie(U,I,V,he,null);Ya(U,V)}return null}function me(U,I,V,he,Ee){if(typeof he=="string"&&he!==""||typeof he=="number")return U=U.get(V)||null,O(I,U,""+he,Ee);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case P:return U=U.get(he.key===null?V:he.key)||null,F(I,U,he,Ee);case N:return U=U.get(he.key===null?V:he.key)||null,H(I,U,he,Ee);case ue:var Re=he._init;return me(U,I,V,Re(he._payload),Ee)}if(qn(he)||$(he))return U=U.get(V)||null,ie(I,U,he,Ee,null);Ya(I,he)}return null}function ve(U,I,V,he){for(var Ee=null,Re=null,Te=I,Oe=I=0,Ft=null;Te!==null&&Oe<V.length;Oe++){Te.index>Oe?(Ft=Te,Te=null):Ft=Te.sibling;var $e=ne(U,Te,V[Oe],he);if($e===null){Te===null&&(Te=Ft);break}r&&Te&&$e.alternate===null&&s(U,Te),I=_($e,I,Oe),Re===null?Ee=$e:Re.sibling=$e,Re=$e,Te=Ft}if(Oe===V.length)return u(U,Te),nt&&fs(U,Oe),Ee;if(Te===null){for(;Oe<V.length;Oe++)Te=le(U,V[Oe],he),Te!==null&&(I=_(Te,I,Oe),Re===null?Ee=Te:Re.sibling=Te,Re=Te);return nt&&fs(U,Oe),Ee}for(Te=f(U,Te);Oe<V.length;Oe++)Ft=me(Te,U,Oe,V[Oe],he),Ft!==null&&(r&&Ft.alternate!==null&&Te.delete(Ft.key===null?Oe:Ft.key),I=_(Ft,I,Oe),Re===null?Ee=Ft:Re.sibling=Ft,Re=Ft);return r&&Te.forEach(function(Bi){return s(U,Bi)}),nt&&fs(U,Oe),Ee}function be(U,I,V,he){var Ee=$(V);if(typeof Ee!="function")throw Error(n(150));if(V=Ee.call(V),V==null)throw Error(n(151));for(var Re=Ee=null,Te=I,Oe=I=0,Ft=null,$e=V.next();Te!==null&&!$e.done;Oe++,$e=V.next()){Te.index>Oe?(Ft=Te,Te=null):Ft=Te.sibling;var Bi=ne(U,Te,$e.value,he);if(Bi===null){Te===null&&(Te=Ft);break}r&&Te&&Bi.alternate===null&&s(U,Te),I=_(Bi,I,Oe),Re===null?Ee=Bi:Re.sibling=Bi,Re=Bi,Te=Ft}if($e.done)return u(U,Te),nt&&fs(U,Oe),Ee;if(Te===null){for(;!$e.done;Oe++,$e=V.next())$e=le(U,$e.value,he),$e!==null&&(I=_($e,I,Oe),Re===null?Ee=$e:Re.sibling=$e,Re=$e);return nt&&fs(U,Oe),Ee}for(Te=f(U,Te);!$e.done;Oe++,$e=V.next())$e=me(Te,U,Oe,$e.value,he),$e!==null&&(r&&$e.alternate!==null&&Te.delete($e.key===null?Oe:$e.key),I=_($e,I,Oe),Re===null?Ee=$e:Re.sibling=$e,Re=$e);return r&&Te.forEach(function(xw){return s(U,xw)}),nt&&fs(U,Oe),Ee}function _t(U,I,V,he){if(typeof V=="object"&&V!==null&&V.type===j&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case P:e:{for(var Ee=V.key,Re=I;Re!==null;){if(Re.key===Ee){if(Ee=V.type,Ee===j){if(Re.tag===7){u(U,Re.sibling),I=p(Re,V.props.children),I.return=U,U=I;break e}}else if(Re.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===ue&&Cg(Ee)===Re.type){u(U,Re.sibling),I=p(Re,V.props),I.ref=kl(U,Re,V),I.return=U,U=I;break e}u(U,Re);break}else s(U,Re);Re=Re.sibling}V.type===j?(I=vs(V.props.children,U.mode,he,V.key),I.return=U,U=I):(he=mu(V.type,V.key,V.props,null,U.mode,he),he.ref=kl(U,I,V),he.return=U,U=he)}return R(U);case N:e:{for(Re=V.key;I!==null;){if(I.key===Re)if(I.tag===4&&I.stateNode.containerInfo===V.containerInfo&&I.stateNode.implementation===V.implementation){u(U,I.sibling),I=p(I,V.children||[]),I.return=U,U=I;break e}else{u(U,I);break}else s(U,I);I=I.sibling}I=vh(V,U.mode,he),I.return=U,U=I}return R(U);case ue:return Re=V._init,_t(U,I,Re(V._payload),he)}if(qn(V))return ve(U,I,V,he);if($(V))return be(U,I,V,he);Ya(U,V)}return typeof V=="string"&&V!==""||typeof V=="number"?(V=""+V,I!==null&&I.tag===6?(u(U,I.sibling),I=p(I,V),I.return=U,U=I):(u(U,I),I=_h(V,U.mode,he),I.return=U,U=I),R(U)):u(U,I)}return _t}var uo=Rg(!0),Tg=Rg(!1),Xa=Mi(null),Ka=null,co=null,Tf=null;function Mf(){Tf=co=Ka=null}function Af(r){var s=Xa.current;Je(Xa),r._currentValue=s}function Pf(r,s,u){for(;r!==null;){var f=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,f!==null&&(f.childLanes|=s)):f!==null&&(f.childLanes&s)!==s&&(f.childLanes|=s),r===u)break;r=r.return}}function fo(r,s){Ka=r,Tf=co=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&s&&(xn=!0),r.firstContext=null)}function nr(r){var s=r._currentValue;if(Tf!==r)if(r={context:r,memoizedValue:s,next:null},co===null){if(Ka===null)throw Error(n(308));co=r,Ka.dependencies={lanes:0,firstContext:r}}else co=co.next=r;return s}var hs=null;function Of(r){hs===null?hs=[r]:hs.push(r)}function Mg(r,s,u,f){var p=s.interleaved;return p===null?(u.next=u,Of(s)):(u.next=p.next,p.next=u),s.interleaved=u,oi(r,f)}function oi(r,s){r.lanes|=s;var u=r.alternate;for(u!==null&&(u.lanes|=s),u=r,r=r.return;r!==null;)r.childLanes|=s,u=r.alternate,u!==null&&(u.childLanes|=s),u=r,r=r.return;return u.tag===3?u.stateNode:null}var Oi=!1;function Lf(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ag(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function li(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function Li(r,s,u){var f=r.updateQueue;if(f===null)return null;if(f=f.shared,De&2){var p=f.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),f.pending=s,oi(r,u)}return p=f.interleaved,p===null?(s.next=s,Of(f)):(s.next=p.next,p.next=s),f.interleaved=s,oi(r,u)}function qa(r,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194240)!==0)){var f=s.lanes;f&=r.pendingLanes,u|=f,s.lanes=u,Yc(r,u)}}function Pg(r,s){var u=r.updateQueue,f=r.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var p=null,_=null;if(u=u.firstBaseUpdate,u!==null){do{var R={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};_===null?p=_=R:_=_.next=R,u=u.next}while(u!==null);_===null?p=_=s:_=_.next=s}else p=_=s;u={baseState:f.baseState,firstBaseUpdate:p,lastBaseUpdate:_,shared:f.shared,effects:f.effects},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=s:r.next=s,u.lastBaseUpdate=s}function Ga(r,s,u,f){var p=r.updateQueue;Oi=!1;var _=p.firstBaseUpdate,R=p.lastBaseUpdate,O=p.shared.pending;if(O!==null){p.shared.pending=null;var F=O,H=F.next;F.next=null,R===null?_=H:R.next=H,R=F;var ie=r.alternate;ie!==null&&(ie=ie.updateQueue,O=ie.lastBaseUpdate,O!==R&&(O===null?ie.firstBaseUpdate=H:O.next=H,ie.lastBaseUpdate=F))}if(_!==null){var le=p.baseState;R=0,ie=H=F=null,O=_;do{var ne=O.lane,me=O.eventTime;if((f&ne)===ne){ie!==null&&(ie=ie.next={eventTime:me,lane:0,tag:O.tag,payload:O.payload,callback:O.callback,next:null});e:{var ve=r,be=O;switch(ne=s,me=u,be.tag){case 1:if(ve=be.payload,typeof ve=="function"){le=ve.call(me,le,ne);break e}le=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=be.payload,ne=typeof ve=="function"?ve.call(me,le,ne):ve,ne==null)break e;le=G({},le,ne);break e;case 2:Oi=!0}}O.callback!==null&&O.lane!==0&&(r.flags|=64,ne=p.effects,ne===null?p.effects=[O]:ne.push(O))}else me={eventTime:me,lane:ne,tag:O.tag,payload:O.payload,callback:O.callback,next:null},ie===null?(H=ie=me,F=le):ie=ie.next=me,R|=ne;if(O=O.next,O===null){if(O=p.shared.pending,O===null)break;ne=O,O=ne.next,ne.next=null,p.lastBaseUpdate=ne,p.shared.pending=null}}while(!0);if(ie===null&&(F=le),p.baseState=F,p.firstBaseUpdate=H,p.lastBaseUpdate=ie,s=p.shared.interleaved,s!==null){p=s;do R|=p.lane,p=p.next;while(p!==s)}else _===null&&(p.shared.lanes=0);gs|=R,r.lanes=R,r.memoizedState=le}}function Og(r,s,u){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var f=r[s],p=f.callback;if(p!==null){if(f.callback=null,f=u,typeof p!="function")throw Error(n(191,p));p.call(f)}}}var Sl={},Pr=Mi(Sl),El=Mi(Sl),Cl=Mi(Sl);function ds(r){if(r===Sl)throw Error(n(174));return r}function Ff(r,s){switch(qe(Cl,s),qe(El,r),qe(Pr,Sl),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Gn(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=Gn(s,r)}Je(Pr),qe(Pr,s)}function ho(){Je(Pr),Je(El),Je(Cl)}function Lg(r){ds(Cl.current);var s=ds(Pr.current),u=Gn(s,r.type);s!==u&&(qe(El,r),qe(Pr,u))}function Nf(r){El.current===r&&(Je(Pr),Je(El))}var ot=Mi(0);function Qa(r){for(var s=r;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var If=[];function jf(){for(var r=0;r<If.length;r++)If[r]._workInProgressVersionPrimary=null;If.length=0}var Za=M.ReactCurrentDispatcher,Df=M.ReactCurrentBatchConfig,ps=0,lt=null,St=null,Ot=null,Ja=!1,Rl=!1,Tl=0,Vx=0;function Yt(){throw Error(n(321))}function zf(r,s){if(s===null)return!1;for(var u=0;u<s.length&&u<r.length;u++)if(!dr(r[u],s[u]))return!1;return!0}function Bf(r,s,u,f,p,_){if(ps=_,lt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Za.current=r===null||r.memoizedState===null?Xx:Kx,r=u(f,p),Rl){_=0;do{if(Rl=!1,Tl=0,25<=_)throw Error(n(301));_+=1,Ot=St=null,s.updateQueue=null,Za.current=qx,r=u(f,p)}while(Rl)}if(Za.current=nu,s=St!==null&&St.next!==null,ps=0,Ot=St=lt=null,Ja=!1,s)throw Error(n(300));return r}function $f(){var r=Tl!==0;return Tl=0,r}function Or(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?lt.memoizedState=Ot=r:Ot=Ot.next=r,Ot}function rr(){if(St===null){var r=lt.alternate;r=r!==null?r.memoizedState:null}else r=St.next;var s=Ot===null?lt.memoizedState:Ot.next;if(s!==null)Ot=s,St=r;else{if(r===null)throw Error(n(310));St=r,r={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},Ot===null?lt.memoizedState=Ot=r:Ot=Ot.next=r}return Ot}function Ml(r,s){return typeof s=="function"?s(r):s}function Uf(r){var s=rr(),u=s.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=r;var f=St,p=f.baseQueue,_=u.pending;if(_!==null){if(p!==null){var R=p.next;p.next=_.next,_.next=R}f.baseQueue=p=_,u.pending=null}if(p!==null){_=p.next,f=f.baseState;var O=R=null,F=null,H=_;do{var ie=H.lane;if((ps&ie)===ie)F!==null&&(F=F.next={lane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),f=H.hasEagerState?H.eagerState:r(f,H.action);else{var le={lane:ie,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null};F===null?(O=F=le,R=f):F=F.next=le,lt.lanes|=ie,gs|=ie}H=H.next}while(H!==null&&H!==_);F===null?R=f:F.next=O,dr(f,s.memoizedState)||(xn=!0),s.memoizedState=f,s.baseState=R,s.baseQueue=F,u.lastRenderedState=f}if(r=u.interleaved,r!==null){p=r;do _=p.lane,lt.lanes|=_,gs|=_,p=p.next;while(p!==r)}else p===null&&(u.lanes=0);return[s.memoizedState,u.dispatch]}function Vf(r){var s=rr(),u=s.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=r;var f=u.dispatch,p=u.pending,_=s.memoizedState;if(p!==null){u.pending=null;var R=p=p.next;do _=r(_,R.action),R=R.next;while(R!==p);dr(_,s.memoizedState)||(xn=!0),s.memoizedState=_,s.baseQueue===null&&(s.baseState=_),u.lastRenderedState=_}return[_,f]}function Fg(){}function Ng(r,s){var u=lt,f=rr(),p=s(),_=!dr(f.memoizedState,p);if(_&&(f.memoizedState=p,xn=!0),f=f.queue,Hf(Dg.bind(null,u,f,r),[r]),f.getSnapshot!==s||_||Ot!==null&&Ot.memoizedState.tag&1){if(u.flags|=2048,Al(9,jg.bind(null,u,f,p,s),void 0,null),Lt===null)throw Error(n(349));ps&30||Ig(u,s,p)}return p}function Ig(r,s,u){r.flags|=16384,r={getSnapshot:s,value:u},s=lt.updateQueue,s===null?(s={lastEffect:null,stores:null},lt.updateQueue=s,s.stores=[r]):(u=s.stores,u===null?s.stores=[r]:u.push(r))}function jg(r,s,u,f){s.value=u,s.getSnapshot=f,zg(s)&&Bg(r)}function Dg(r,s,u){return u(function(){zg(s)&&Bg(r)})}function zg(r){var s=r.getSnapshot;r=r.value;try{var u=s();return!dr(r,u)}catch{return!0}}function Bg(r){var s=oi(r,1);s!==null&&_r(s,r,1,-1)}function $g(r){var s=Or();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ml,lastRenderedState:r},s.queue=r,r=r.dispatch=Yx.bind(null,lt,r),[s.memoizedState,r]}function Al(r,s,u,f){return r={tag:r,create:s,destroy:u,deps:f,next:null},s=lt.updateQueue,s===null?(s={lastEffect:null,stores:null},lt.updateQueue=s,s.lastEffect=r.next=r):(u=s.lastEffect,u===null?s.lastEffect=r.next=r:(f=u.next,u.next=r,r.next=f,s.lastEffect=r)),r}function Ug(){return rr().memoizedState}function eu(r,s,u,f){var p=Or();lt.flags|=r,p.memoizedState=Al(1|s,u,void 0,f===void 0?null:f)}function tu(r,s,u,f){var p=rr();f=f===void 0?null:f;var _=void 0;if(St!==null){var R=St.memoizedState;if(_=R.destroy,f!==null&&zf(f,R.deps)){p.memoizedState=Al(s,u,_,f);return}}lt.flags|=r,p.memoizedState=Al(1|s,u,_,f)}function Vg(r,s){return eu(8390656,8,r,s)}function Hf(r,s){return tu(2048,8,r,s)}function Hg(r,s){return tu(4,2,r,s)}function Wg(r,s){return tu(4,4,r,s)}function Yg(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Xg(r,s,u){return u=u!=null?u.concat([r]):null,tu(4,4,Yg.bind(null,s,r),u)}function Wf(){}function Kg(r,s){var u=rr();s=s===void 0?null:s;var f=u.memoizedState;return f!==null&&s!==null&&zf(s,f[1])?f[0]:(u.memoizedState=[r,s],r)}function qg(r,s){var u=rr();s=s===void 0?null:s;var f=u.memoizedState;return f!==null&&s!==null&&zf(s,f[1])?f[0]:(r=r(),u.memoizedState=[r,s],r)}function Gg(r,s,u){return ps&21?(dr(u,s)||(u=Cp(),lt.lanes|=u,gs|=u,r.baseState=!0),s):(r.baseState&&(r.baseState=!1,xn=!0),r.memoizedState=u)}function Hx(r,s){var u=Xe;Xe=u!==0&&4>u?u:4,r(!0);var f=Df.transition;Df.transition={};try{r(!1),s()}finally{Xe=u,Df.transition=f}}function Qg(){return rr().memoizedState}function Wx(r,s,u){var f=ji(r);if(u={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null},Zg(r))Jg(s,u);else if(u=Mg(r,s,u,f),u!==null){var p=un();_r(u,r,f,p),em(u,s,f)}}function Yx(r,s,u){var f=ji(r),p={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null};if(Zg(r))Jg(s,p);else{var _=r.alternate;if(r.lanes===0&&(_===null||_.lanes===0)&&(_=s.lastRenderedReducer,_!==null))try{var R=s.lastRenderedState,O=_(R,u);if(p.hasEagerState=!0,p.eagerState=O,dr(O,R)){var F=s.interleaved;F===null?(p.next=p,Of(s)):(p.next=F.next,F.next=p),s.interleaved=p;return}}catch{}finally{}u=Mg(r,s,p,f),u!==null&&(p=un(),_r(u,r,f,p),em(u,s,f))}}function Zg(r){var s=r.alternate;return r===lt||s!==null&&s===lt}function Jg(r,s){Rl=Ja=!0;var u=r.pending;u===null?s.next=s:(s.next=u.next,u.next=s),r.pending=s}function em(r,s,u){if(u&4194240){var f=s.lanes;f&=r.pendingLanes,u|=f,s.lanes=u,Yc(r,u)}}var nu={readContext:nr,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useInsertionEffect:Yt,useLayoutEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useMutableSource:Yt,useSyncExternalStore:Yt,useId:Yt,unstable_isNewReconciler:!1},Xx={readContext:nr,useCallback:function(r,s){return Or().memoizedState=[r,s===void 0?null:s],r},useContext:nr,useEffect:Vg,useImperativeHandle:function(r,s,u){return u=u!=null?u.concat([r]):null,eu(4194308,4,Yg.bind(null,s,r),u)},useLayoutEffect:function(r,s){return eu(4194308,4,r,s)},useInsertionEffect:function(r,s){return eu(4,2,r,s)},useMemo:function(r,s){var u=Or();return s=s===void 0?null:s,r=r(),u.memoizedState=[r,s],r},useReducer:function(r,s,u){var f=Or();return s=u!==void 0?u(s):s,f.memoizedState=f.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},f.queue=r,r=r.dispatch=Wx.bind(null,lt,r),[f.memoizedState,r]},useRef:function(r){var s=Or();return r={current:r},s.memoizedState=r},useState:$g,useDebugValue:Wf,useDeferredValue:function(r){return Or().memoizedState=r},useTransition:function(){var r=$g(!1),s=r[0];return r=Hx.bind(null,r[1]),Or().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,u){var f=lt,p=Or();if(nt){if(u===void 0)throw Error(n(407));u=u()}else{if(u=s(),Lt===null)throw Error(n(349));ps&30||Ig(f,s,u)}p.memoizedState=u;var _={value:u,getSnapshot:s};return p.queue=_,Vg(Dg.bind(null,f,_,r),[r]),f.flags|=2048,Al(9,jg.bind(null,f,_,u,s),void 0,null),u},useId:function(){var r=Or(),s=Lt.identifierPrefix;if(nt){var u=si,f=ii;u=(f&~(1<<32-xt(f)-1)).toString(32)+u,s=":"+s+"R"+u,u=Tl++,0<u&&(s+="H"+u.toString(32)),s+=":"}else u=Vx++,s=":"+s+"r"+u.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},Kx={readContext:nr,useCallback:Kg,useContext:nr,useEffect:Hf,useImperativeHandle:Xg,useInsertionEffect:Hg,useLayoutEffect:Wg,useMemo:qg,useReducer:Uf,useRef:Ug,useState:function(){return Uf(Ml)},useDebugValue:Wf,useDeferredValue:function(r){var s=rr();return Gg(s,St.memoizedState,r)},useTransition:function(){var r=Uf(Ml)[0],s=rr().memoizedState;return[r,s]},useMutableSource:Fg,useSyncExternalStore:Ng,useId:Qg,unstable_isNewReconciler:!1},qx={readContext:nr,useCallback:Kg,useContext:nr,useEffect:Hf,useImperativeHandle:Xg,useInsertionEffect:Hg,useLayoutEffect:Wg,useMemo:qg,useReducer:Vf,useRef:Ug,useState:function(){return Vf(Ml)},useDebugValue:Wf,useDeferredValue:function(r){var s=rr();return St===null?s.memoizedState=r:Gg(s,St.memoizedState,r)},useTransition:function(){var r=Vf(Ml)[0],s=rr().memoizedState;return[r,s]},useMutableSource:Fg,useSyncExternalStore:Ng,useId:Qg,unstable_isNewReconciler:!1};function gr(r,s){if(r&&r.defaultProps){s=G({},s),r=r.defaultProps;for(var u in r)s[u]===void 0&&(s[u]=r[u]);return s}return s}function Yf(r,s,u,f){s=r.memoizedState,u=u(f,s),u=u==null?s:G({},s,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var ru={isMounted:function(r){return(r=r._reactInternals)?ti(r)===r:!1},enqueueSetState:function(r,s,u){r=r._reactInternals;var f=un(),p=ji(r),_=li(f,p);_.payload=s,u!=null&&(_.callback=u),s=Li(r,_,p),s!==null&&(_r(s,r,p,f),qa(s,r,p))},enqueueReplaceState:function(r,s,u){r=r._reactInternals;var f=un(),p=ji(r),_=li(f,p);_.tag=1,_.payload=s,u!=null&&(_.callback=u),s=Li(r,_,p),s!==null&&(_r(s,r,p,f),qa(s,r,p))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var u=un(),f=ji(r),p=li(u,f);p.tag=2,s!=null&&(p.callback=s),s=Li(r,p,f),s!==null&&(_r(s,r,f,u),qa(s,r,f))}};function tm(r,s,u,f,p,_,R){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(f,_,R):s.prototype&&s.prototype.isPureReactComponent?!ml(u,f)||!ml(p,_):!0}function nm(r,s,u){var f=!1,p=Ai,_=s.contextType;return typeof _=="object"&&_!==null?_=nr(_):(p=vn(s)?us:Wt.current,f=s.contextTypes,_=(f=f!=null)?so(r,p):Ai),s=new s(u,_),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=ru,r.stateNode=s,s._reactInternals=r,f&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=p,r.__reactInternalMemoizedMaskedChildContext=_),s}function rm(r,s,u,f){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,f),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,f),s.state!==r&&ru.enqueueReplaceState(s,s.state,null)}function Xf(r,s,u,f){var p=r.stateNode;p.props=u,p.state=r.memoizedState,p.refs={},Lf(r);var _=s.contextType;typeof _=="object"&&_!==null?p.context=nr(_):(_=vn(s)?us:Wt.current,p.context=so(r,_)),p.state=r.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(Yf(r,s,_,u),p.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(s=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),s!==p.state&&ru.enqueueReplaceState(p,p.state,null),Ga(r,u,p,f),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308)}function po(r,s){try{var u="",f=s;do u+=oe(f),f=f.return;while(f);var p=u}catch(_){p=`
Error generating stack: `+_.message+`
`+_.stack}return{value:r,source:s,stack:p,digest:null}}function Kf(r,s,u){return{value:r,source:null,stack:u??null,digest:s??null}}function qf(r,s){try{console.error(s.value)}catch(u){setTimeout(function(){throw u})}}var Gx=typeof WeakMap=="function"?WeakMap:Map;function im(r,s,u){u=li(-1,u),u.tag=3,u.payload={element:null};var f=s.value;return u.callback=function(){cu||(cu=!0,ch=f),qf(r,s)},u}function sm(r,s,u){u=li(-1,u),u.tag=3;var f=r.type.getDerivedStateFromError;if(typeof f=="function"){var p=s.value;u.payload=function(){return f(p)},u.callback=function(){qf(r,s)}}var _=r.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(u.callback=function(){qf(r,s),typeof f!="function"&&(Ni===null?Ni=new Set([this]):Ni.add(this));var R=s.stack;this.componentDidCatch(s.value,{componentStack:R!==null?R:""})}),u}function om(r,s,u){var f=r.pingCache;if(f===null){f=r.pingCache=new Gx;var p=new Set;f.set(s,p)}else p=f.get(s),p===void 0&&(p=new Set,f.set(s,p));p.has(u)||(p.add(u),r=cw.bind(null,r,s,u),s.then(r,r))}function lm(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function am(r,s,u,f,p){return r.mode&1?(r.flags|=65536,r.lanes=p,r):(r===s?r.flags|=65536:(r.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(s=li(-1,1),s.tag=2,Li(u,s,1))),u.lanes|=1),r)}var Qx=M.ReactCurrentOwner,xn=!1;function an(r,s,u,f){s.child=r===null?Tg(s,null,u,f):uo(s,r.child,u,f)}function um(r,s,u,f,p){u=u.render;var _=s.ref;return fo(s,p),f=Bf(r,s,u,f,_,p),u=$f(),r!==null&&!xn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,ai(r,s,p)):(nt&&u&&kf(s),s.flags|=1,an(r,s,f,p),s.child)}function cm(r,s,u,f,p){if(r===null){var _=u.type;return typeof _=="function"&&!yh(_)&&_.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(s.tag=15,s.type=_,fm(r,s,_,f,p)):(r=mu(u.type,null,f,s,s.mode,p),r.ref=s.ref,r.return=s,s.child=r)}if(_=r.child,!(r.lanes&p)){var R=_.memoizedProps;if(u=u.compare,u=u!==null?u:ml,u(R,f)&&r.ref===s.ref)return ai(r,s,p)}return s.flags|=1,r=zi(_,f),r.ref=s.ref,r.return=s,s.child=r}function fm(r,s,u,f,p){if(r!==null){var _=r.memoizedProps;if(ml(_,f)&&r.ref===s.ref)if(xn=!1,s.pendingProps=f=_,(r.lanes&p)!==0)r.flags&131072&&(xn=!0);else return s.lanes=r.lanes,ai(r,s,p)}return Gf(r,s,u,f,p)}function hm(r,s,u){var f=s.pendingProps,p=f.children,_=r!==null?r.memoizedState:null;if(f.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(mo,Bn),Bn|=u;else{if(!(u&1073741824))return r=_!==null?_.baseLanes|u:u,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,qe(mo,Bn),Bn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=_!==null?_.baseLanes:u,qe(mo,Bn),Bn|=f}else _!==null?(f=_.baseLanes|u,s.memoizedState=null):f=u,qe(mo,Bn),Bn|=f;return an(r,s,p,u),s.child}function dm(r,s){var u=s.ref;(r===null&&u!==null||r!==null&&r.ref!==u)&&(s.flags|=512,s.flags|=2097152)}function Gf(r,s,u,f,p){var _=vn(u)?us:Wt.current;return _=so(s,_),fo(s,p),u=Bf(r,s,u,f,_,p),f=$f(),r!==null&&!xn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,ai(r,s,p)):(nt&&f&&kf(s),s.flags|=1,an(r,s,u,p),s.child)}function pm(r,s,u,f,p){if(vn(u)){var _=!0;$a(s)}else _=!1;if(fo(s,p),s.stateNode===null)su(r,s),nm(s,u,f),Xf(s,u,f,p),f=!0;else if(r===null){var R=s.stateNode,O=s.memoizedProps;R.props=O;var F=R.context,H=u.contextType;typeof H=="object"&&H!==null?H=nr(H):(H=vn(u)?us:Wt.current,H=so(s,H));var ie=u.getDerivedStateFromProps,le=typeof ie=="function"||typeof R.getSnapshotBeforeUpdate=="function";le||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(O!==f||F!==H)&&rm(s,R,f,H),Oi=!1;var ne=s.memoizedState;R.state=ne,Ga(s,f,R,p),F=s.memoizedState,O!==f||ne!==F||_n.current||Oi?(typeof ie=="function"&&(Yf(s,u,ie,f),F=s.memoizedState),(O=Oi||tm(s,u,O,f,ne,F,H))?(le||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(s.flags|=4194308)):(typeof R.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=f,s.memoizedState=F),R.props=f,R.state=F,R.context=H,f=O):(typeof R.componentDidMount=="function"&&(s.flags|=4194308),f=!1)}else{R=s.stateNode,Ag(r,s),O=s.memoizedProps,H=s.type===s.elementType?O:gr(s.type,O),R.props=H,le=s.pendingProps,ne=R.context,F=u.contextType,typeof F=="object"&&F!==null?F=nr(F):(F=vn(u)?us:Wt.current,F=so(s,F));var me=u.getDerivedStateFromProps;(ie=typeof me=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(O!==le||ne!==F)&&rm(s,R,f,F),Oi=!1,ne=s.memoizedState,R.state=ne,Ga(s,f,R,p);var ve=s.memoizedState;O!==le||ne!==ve||_n.current||Oi?(typeof me=="function"&&(Yf(s,u,me,f),ve=s.memoizedState),(H=Oi||tm(s,u,H,f,ne,ve,F)||!1)?(ie||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(f,ve,F),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(f,ve,F)),typeof R.componentDidUpdate=="function"&&(s.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof R.componentDidUpdate!="function"||O===r.memoizedProps&&ne===r.memoizedState||(s.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||O===r.memoizedProps&&ne===r.memoizedState||(s.flags|=1024),s.memoizedProps=f,s.memoizedState=ve),R.props=f,R.state=ve,R.context=F,f=H):(typeof R.componentDidUpdate!="function"||O===r.memoizedProps&&ne===r.memoizedState||(s.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||O===r.memoizedProps&&ne===r.memoizedState||(s.flags|=1024),f=!1)}return Qf(r,s,u,f,_,p)}function Qf(r,s,u,f,p,_){dm(r,s);var R=(s.flags&128)!==0;if(!f&&!R)return p&&vg(s,u,!1),ai(r,s,_);f=s.stateNode,Qx.current=s;var O=R&&typeof u.getDerivedStateFromError!="function"?null:f.render();return s.flags|=1,r!==null&&R?(s.child=uo(s,r.child,null,_),s.child=uo(s,null,O,_)):an(r,s,O,_),s.memoizedState=f.state,p&&vg(s,u,!0),s.child}function gm(r){var s=r.stateNode;s.pendingContext?yg(r,s.pendingContext,s.pendingContext!==s.context):s.context&&yg(r,s.context,!1),Ff(r,s.containerInfo)}function mm(r,s,u,f,p){return ao(),Rf(p),s.flags|=256,an(r,s,u,f),s.child}var Zf={dehydrated:null,treeContext:null,retryLane:0};function Jf(r){return{baseLanes:r,cachePool:null,transitions:null}}function ym(r,s,u){var f=s.pendingProps,p=ot.current,_=!1,R=(s.flags&128)!==0,O;if((O=R)||(O=r!==null&&r.memoizedState===null?!1:(p&2)!==0),O?(_=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(p|=1),qe(ot,p&1),r===null)return Cf(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(s.mode&1?r.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(R=f.children,r=f.fallback,_?(f=s.mode,_=s.child,R={mode:"hidden",children:R},!(f&1)&&_!==null?(_.childLanes=0,_.pendingProps=R):_=yu(R,f,0,null),r=vs(r,f,u,null),_.return=s,r.return=s,_.sibling=r,s.child=_,s.child.memoizedState=Jf(u),s.memoizedState=Zf,r):eh(s,R));if(p=r.memoizedState,p!==null&&(O=p.dehydrated,O!==null))return Zx(r,s,R,f,O,p,u);if(_){_=f.fallback,R=s.mode,p=r.child,O=p.sibling;var F={mode:"hidden",children:f.children};return!(R&1)&&s.child!==p?(f=s.child,f.childLanes=0,f.pendingProps=F,s.deletions=null):(f=zi(p,F),f.subtreeFlags=p.subtreeFlags&14680064),O!==null?_=zi(O,_):(_=vs(_,R,u,null),_.flags|=2),_.return=s,f.return=s,f.sibling=_,s.child=f,f=_,_=s.child,R=r.child.memoizedState,R=R===null?Jf(u):{baseLanes:R.baseLanes|u,cachePool:null,transitions:R.transitions},_.memoizedState=R,_.childLanes=r.childLanes&~u,s.memoizedState=Zf,f}return _=r.child,r=_.sibling,f=zi(_,{mode:"visible",children:f.children}),!(s.mode&1)&&(f.lanes=u),f.return=s,f.sibling=null,r!==null&&(u=s.deletions,u===null?(s.deletions=[r],s.flags|=16):u.push(r)),s.child=f,s.memoizedState=null,f}function eh(r,s){return s=yu({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function iu(r,s,u,f){return f!==null&&Rf(f),uo(s,r.child,null,u),r=eh(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function Zx(r,s,u,f,p,_,R){if(u)return s.flags&256?(s.flags&=-257,f=Kf(Error(n(422))),iu(r,s,R,f)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(_=f.fallback,p=s.mode,f=yu({mode:"visible",children:f.children},p,0,null),_=vs(_,p,R,null),_.flags|=2,f.return=s,_.return=s,f.sibling=_,s.child=f,s.mode&1&&uo(s,r.child,null,R),s.child.memoizedState=Jf(R),s.memoizedState=Zf,_);if(!(s.mode&1))return iu(r,s,R,null);if(p.data==="$!"){if(f=p.nextSibling&&p.nextSibling.dataset,f)var O=f.dgst;return f=O,_=Error(n(419)),f=Kf(_,f,void 0),iu(r,s,R,f)}if(O=(R&r.childLanes)!==0,xn||O){if(f=Lt,f!==null){switch(R&-R){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=p&(f.suspendedLanes|R)?0:p,p!==0&&p!==_.retryLane&&(_.retryLane=p,oi(r,p),_r(f,r,p,-1))}return mh(),f=Kf(Error(n(421))),iu(r,s,R,f)}return p.data==="$?"?(s.flags|=128,s.child=r.child,s=fw.bind(null,r),p._reactRetry=s,null):(r=_.treeContext,zn=Ti(p.nextSibling),Dn=s,nt=!0,pr=null,r!==null&&(er[tr++]=ii,er[tr++]=si,er[tr++]=cs,ii=r.id,si=r.overflow,cs=s),s=eh(s,f.children),s.flags|=4096,s)}function _m(r,s,u){r.lanes|=s;var f=r.alternate;f!==null&&(f.lanes|=s),Pf(r.return,s,u)}function th(r,s,u,f,p){var _=r.memoizedState;_===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:p}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=f,_.tail=u,_.tailMode=p)}function vm(r,s,u){var f=s.pendingProps,p=f.revealOrder,_=f.tail;if(an(r,s,f.children,u),f=ot.current,f&2)f=f&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&_m(r,u,s);else if(r.tag===19)_m(r,u,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}f&=1}if(qe(ot,f),!(s.mode&1))s.memoizedState=null;else switch(p){case"forwards":for(u=s.child,p=null;u!==null;)r=u.alternate,r!==null&&Qa(r)===null&&(p=u),u=u.sibling;u=p,u===null?(p=s.child,s.child=null):(p=u.sibling,u.sibling=null),th(s,!1,p,u,_);break;case"backwards":for(u=null,p=s.child,s.child=null;p!==null;){if(r=p.alternate,r!==null&&Qa(r)===null){s.child=p;break}r=p.sibling,p.sibling=u,u=p,p=r}th(s,!0,u,null,_);break;case"together":th(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function su(r,s){!(s.mode&1)&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function ai(r,s,u){if(r!==null&&(s.dependencies=r.dependencies),gs|=s.lanes,!(u&s.childLanes))return null;if(r!==null&&s.child!==r.child)throw Error(n(153));if(s.child!==null){for(r=s.child,u=zi(r,r.pendingProps),s.child=u,u.return=s;r.sibling!==null;)r=r.sibling,u=u.sibling=zi(r,r.pendingProps),u.return=s;u.sibling=null}return s.child}function Jx(r,s,u){switch(s.tag){case 3:gm(s),ao();break;case 5:Lg(s);break;case 1:vn(s.type)&&$a(s);break;case 4:Ff(s,s.stateNode.containerInfo);break;case 10:var f=s.type._context,p=s.memoizedProps.value;qe(Xa,f._currentValue),f._currentValue=p;break;case 13:if(f=s.memoizedState,f!==null)return f.dehydrated!==null?(qe(ot,ot.current&1),s.flags|=128,null):u&s.child.childLanes?ym(r,s,u):(qe(ot,ot.current&1),r=ai(r,s,u),r!==null?r.sibling:null);qe(ot,ot.current&1);break;case 19:if(f=(u&s.childLanes)!==0,r.flags&128){if(f)return vm(r,s,u);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),qe(ot,ot.current),f)break;return null;case 22:case 23:return s.lanes=0,hm(r,s,u)}return ai(r,s,u)}var xm,nh,wm,bm;xm=function(r,s){for(var u=s.child;u!==null;){if(u.tag===5||u.tag===6)r.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},nh=function(){},wm=function(r,s,u,f){var p=r.memoizedProps;if(p!==f){r=s.stateNode,ds(Pr.current);var _=null;switch(u){case"input":p=At(r,p),f=At(r,f),_=[];break;case"select":p=G({},p,{value:void 0}),f=G({},f,{value:void 0}),_=[];break;case"textarea":p=Tr(r,p),f=Tr(r,f),_=[];break;default:typeof p.onClick!="function"&&typeof f.onClick=="function"&&(r.onclick=Da)}_i(u,f);var R;u=null;for(H in p)if(!f.hasOwnProperty(H)&&p.hasOwnProperty(H)&&p[H]!=null)if(H==="style"){var O=p[H];for(R in O)O.hasOwnProperty(R)&&(u||(u={}),u[R]="")}else H!=="dangerouslySetInnerHTML"&&H!=="children"&&H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(o.hasOwnProperty(H)?_||(_=[]):(_=_||[]).push(H,null));for(H in f){var F=f[H];if(O=p!=null?p[H]:void 0,f.hasOwnProperty(H)&&F!==O&&(F!=null||O!=null))if(H==="style")if(O){for(R in O)!O.hasOwnProperty(R)||F&&F.hasOwnProperty(R)||(u||(u={}),u[R]="");for(R in F)F.hasOwnProperty(R)&&O[R]!==F[R]&&(u||(u={}),u[R]=F[R])}else u||(_||(_=[]),_.push(H,u)),u=F;else H==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,O=O?O.__html:void 0,F!=null&&O!==F&&(_=_||[]).push(H,F)):H==="children"?typeof F!="string"&&typeof F!="number"||(_=_||[]).push(H,""+F):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&(o.hasOwnProperty(H)?(F!=null&&H==="onScroll"&&Ze("scroll",r),_||O===F||(_=[])):(_=_||[]).push(H,F))}u&&(_=_||[]).push("style",u);var H=_;(s.updateQueue=H)&&(s.flags|=4)}},bm=function(r,s,u,f){u!==f&&(s.flags|=4)};function Pl(r,s){if(!nt)switch(r.tailMode){case"hidden":s=r.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:f.sibling=null}}function Xt(r){var s=r.alternate!==null&&r.alternate.child===r.child,u=0,f=0;if(s)for(var p=r.child;p!==null;)u|=p.lanes|p.childLanes,f|=p.subtreeFlags&14680064,f|=p.flags&14680064,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)u|=p.lanes|p.childLanes,f|=p.subtreeFlags,f|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=f,r.childLanes=u,s}function ew(r,s,u){var f=s.pendingProps;switch(Sf(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(s),null;case 1:return vn(s.type)&&Ba(),Xt(s),null;case 3:return f=s.stateNode,ho(),Je(_n),Je(Wt),jf(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(r===null||r.child===null)&&(Wa(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,pr!==null&&(dh(pr),pr=null))),nh(r,s),Xt(s),null;case 5:Nf(s);var p=ds(Cl.current);if(u=s.type,r!==null&&s.stateNode!=null)wm(r,s,u,f,p),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!f){if(s.stateNode===null)throw Error(n(166));return Xt(s),null}if(r=ds(Pr.current),Wa(s)){f=s.stateNode,u=s.type;var _=s.memoizedProps;switch(f[Ar]=s,f[wl]=_,r=(s.mode&1)!==0,u){case"dialog":Ze("cancel",f),Ze("close",f);break;case"iframe":case"object":case"embed":Ze("load",f);break;case"video":case"audio":for(p=0;p<_l.length;p++)Ze(_l[p],f);break;case"source":Ze("error",f);break;case"img":case"image":case"link":Ze("error",f),Ze("load",f);break;case"details":Ze("toggle",f);break;case"input":mt(f,_),Ze("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!_.multiple},Ze("invalid",f);break;case"textarea":Ln(f,_),Ze("invalid",f)}_i(u,_),p=null;for(var R in _)if(_.hasOwnProperty(R)){var O=_[R];R==="children"?typeof O=="string"?f.textContent!==O&&(_.suppressHydrationWarning!==!0&&ja(f.textContent,O,r),p=["children",O]):typeof O=="number"&&f.textContent!==""+O&&(_.suppressHydrationWarning!==!0&&ja(f.textContent,O,r),p=["children",""+O]):o.hasOwnProperty(R)&&O!=null&&R==="onScroll"&&Ze("scroll",f)}switch(u){case"input":We(f),Kn(f,_,!0);break;case"textarea":We(f),Mr(f);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(f.onclick=Da)}f=p,s.updateQueue=f,f!==null&&(s.flags|=4)}else{R=p.nodeType===9?p:p.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Qr(u)),r==="http://www.w3.org/1999/xhtml"?u==="script"?(r=R.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof f.is=="string"?r=R.createElement(u,{is:f.is}):(r=R.createElement(u),u==="select"&&(R=r,f.multiple?R.multiple=!0:f.size&&(R.size=f.size))):r=R.createElementNS(r,u),r[Ar]=s,r[wl]=f,xm(r,s,!1,!1),s.stateNode=r;e:{switch(R=Hs(u,f),u){case"dialog":Ze("cancel",r),Ze("close",r),p=f;break;case"iframe":case"object":case"embed":Ze("load",r),p=f;break;case"video":case"audio":for(p=0;p<_l.length;p++)Ze(_l[p],r);p=f;break;case"source":Ze("error",r),p=f;break;case"img":case"image":case"link":Ze("error",r),Ze("load",r),p=f;break;case"details":Ze("toggle",r),p=f;break;case"input":mt(r,f),p=At(r,f),Ze("invalid",r);break;case"option":p=f;break;case"select":r._wrapperState={wasMultiple:!!f.multiple},p=G({},f,{value:void 0}),Ze("invalid",r);break;case"textarea":Ln(r,f),p=Tr(r,f),Ze("invalid",r);break;default:p=f}_i(u,p),O=p;for(_ in O)if(O.hasOwnProperty(_)){var F=O[_];_==="style"?da(r,F):_==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,F!=null&&ln(r,F)):_==="children"?typeof F=="string"?(u!=="textarea"||F!=="")&&Qn(r,F):typeof F=="number"&&Qn(r,""+F):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(o.hasOwnProperty(_)?F!=null&&_==="onScroll"&&Ze("scroll",r):F!=null&&C(r,_,F,R))}switch(u){case"input":We(r),Kn(r,f,!1);break;case"textarea":We(r),Mr(r);break;case"option":f.value!=null&&r.setAttribute("value",""+ee(f.value));break;case"select":r.multiple=!!f.multiple,_=f.value,_!=null?On(r,!!f.multiple,_,!1):f.defaultValue!=null&&On(r,!!f.multiple,f.defaultValue,!0);break;default:typeof p.onClick=="function"&&(r.onclick=Da)}switch(u){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Xt(s),null;case 6:if(r&&s.stateNode!=null)bm(r,s,r.memoizedProps,f);else{if(typeof f!="string"&&s.stateNode===null)throw Error(n(166));if(u=ds(Cl.current),ds(Pr.current),Wa(s)){if(f=s.stateNode,u=s.memoizedProps,f[Ar]=s,(_=f.nodeValue!==u)&&(r=Dn,r!==null))switch(r.tag){case 3:ja(f.nodeValue,u,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&ja(f.nodeValue,u,(r.mode&1)!==0)}_&&(s.flags|=4)}else f=(u.nodeType===9?u:u.ownerDocument).createTextNode(f),f[Ar]=s,s.stateNode=f}return Xt(s),null;case 13:if(Je(ot),f=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(nt&&zn!==null&&s.mode&1&&!(s.flags&128))Eg(),ao(),s.flags|=98560,_=!1;else if(_=Wa(s),f!==null&&f.dehydrated!==null){if(r===null){if(!_)throw Error(n(318));if(_=s.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(n(317));_[Ar]=s}else ao(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Xt(s),_=!1}else pr!==null&&(dh(pr),pr=null),_=!0;if(!_)return s.flags&65536?s:null}return s.flags&128?(s.lanes=u,s):(f=f!==null,f!==(r!==null&&r.memoizedState!==null)&&f&&(s.child.flags|=8192,s.mode&1&&(r===null||ot.current&1?Et===0&&(Et=3):mh())),s.updateQueue!==null&&(s.flags|=4),Xt(s),null);case 4:return ho(),nh(r,s),r===null&&vl(s.stateNode.containerInfo),Xt(s),null;case 10:return Af(s.type._context),Xt(s),null;case 17:return vn(s.type)&&Ba(),Xt(s),null;case 19:if(Je(ot),_=s.memoizedState,_===null)return Xt(s),null;if(f=(s.flags&128)!==0,R=_.rendering,R===null)if(f)Pl(_,!1);else{if(Et!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(R=Qa(r),R!==null){for(s.flags|=128,Pl(_,!1),f=R.updateQueue,f!==null&&(s.updateQueue=f,s.flags|=4),s.subtreeFlags=0,f=u,u=s.child;u!==null;)_=u,r=f,_.flags&=14680066,R=_.alternate,R===null?(_.childLanes=0,_.lanes=r,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=R.childLanes,_.lanes=R.lanes,_.child=R.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=R.memoizedProps,_.memoizedState=R.memoizedState,_.updateQueue=R.updateQueue,_.type=R.type,r=R.dependencies,_.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),u=u.sibling;return qe(ot,ot.current&1|2),s.child}r=r.sibling}_.tail!==null&&ge()>yo&&(s.flags|=128,f=!0,Pl(_,!1),s.lanes=4194304)}else{if(!f)if(r=Qa(R),r!==null){if(s.flags|=128,f=!0,u=r.updateQueue,u!==null&&(s.updateQueue=u,s.flags|=4),Pl(_,!0),_.tail===null&&_.tailMode==="hidden"&&!R.alternate&&!nt)return Xt(s),null}else 2*ge()-_.renderingStartTime>yo&&u!==1073741824&&(s.flags|=128,f=!0,Pl(_,!1),s.lanes=4194304);_.isBackwards?(R.sibling=s.child,s.child=R):(u=_.last,u!==null?u.sibling=R:s.child=R,_.last=R)}return _.tail!==null?(s=_.tail,_.rendering=s,_.tail=s.sibling,_.renderingStartTime=ge(),s.sibling=null,u=ot.current,qe(ot,f?u&1|2:u&1),s):(Xt(s),null);case 22:case 23:return gh(),f=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==f&&(s.flags|=8192),f&&s.mode&1?Bn&1073741824&&(Xt(s),s.subtreeFlags&6&&(s.flags|=8192)):Xt(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function tw(r,s){switch(Sf(s),s.tag){case 1:return vn(s.type)&&Ba(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return ho(),Je(_n),Je(Wt),jf(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 5:return Nf(s),null;case 13:if(Je(ot),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(n(340));ao()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Je(ot),null;case 4:return ho(),null;case 10:return Af(s.type._context),null;case 22:case 23:return gh(),null;case 24:return null;default:return null}}var ou=!1,Kt=!1,nw=typeof WeakSet=="function"?WeakSet:Set,ye=null;function go(r,s){var u=r.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(f){dt(r,s,f)}else u.current=null}function rh(r,s,u){try{u()}catch(f){dt(r,s,f)}}var km=!1;function rw(r,s){if(gf=Ca,r=tg(),lf(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else e:{u=(u=r.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var p=f.anchorOffset,_=f.focusNode;f=f.focusOffset;try{u.nodeType,_.nodeType}catch{u=null;break e}var R=0,O=-1,F=-1,H=0,ie=0,le=r,ne=null;t:for(;;){for(var me;le!==u||p!==0&&le.nodeType!==3||(O=R+p),le!==_||f!==0&&le.nodeType!==3||(F=R+f),le.nodeType===3&&(R+=le.nodeValue.length),(me=le.firstChild)!==null;)ne=le,le=me;for(;;){if(le===r)break t;if(ne===u&&++H===p&&(O=R),ne===_&&++ie===f&&(F=R),(me=le.nextSibling)!==null)break;le=ne,ne=le.parentNode}le=me}u=O===-1||F===-1?null:{start:O,end:F}}else u=null}u=u||{start:0,end:0}}else u=null;for(mf={focusedElem:r,selectionRange:u},Ca=!1,ye=s;ye!==null;)if(s=ye,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,ye=r;else for(;ye!==null;){s=ye;try{var ve=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ve!==null){var be=ve.memoizedProps,_t=ve.memoizedState,U=s.stateNode,I=U.getSnapshotBeforeUpdate(s.elementType===s.type?be:gr(s.type,be),_t);U.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var V=s.stateNode.containerInfo;V.nodeType===1?V.textContent="":V.nodeType===9&&V.documentElement&&V.removeChild(V.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(he){dt(s,s.return,he)}if(r=s.sibling,r!==null){r.return=s.return,ye=r;break}ye=s.return}return ve=km,km=!1,ve}function Ol(r,s,u){var f=s.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var p=f=f.next;do{if((p.tag&r)===r){var _=p.destroy;p.destroy=void 0,_!==void 0&&rh(s,u,_)}p=p.next}while(p!==f)}}function lu(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var u=s=s.next;do{if((u.tag&r)===r){var f=u.create;u.destroy=f()}u=u.next}while(u!==s)}}function ih(r){var s=r.ref;if(s!==null){var u=r.stateNode;switch(r.tag){case 5:r=u;break;default:r=u}typeof s=="function"?s(r):s.current=r}}function Sm(r){var s=r.alternate;s!==null&&(r.alternate=null,Sm(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[Ar],delete s[wl],delete s[xf],delete s[zx],delete s[Bx])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Em(r){return r.tag===5||r.tag===3||r.tag===4}function Cm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Em(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function sh(r,s,u){var f=r.tag;if(f===5||f===6)r=r.stateNode,s?u.nodeType===8?u.parentNode.insertBefore(r,s):u.insertBefore(r,s):(u.nodeType===8?(s=u.parentNode,s.insertBefore(r,u)):(s=u,s.appendChild(r)),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=Da));else if(f!==4&&(r=r.child,r!==null))for(sh(r,s,u),r=r.sibling;r!==null;)sh(r,s,u),r=r.sibling}function oh(r,s,u){var f=r.tag;if(f===5||f===6)r=r.stateNode,s?u.insertBefore(r,s):u.appendChild(r);else if(f!==4&&(r=r.child,r!==null))for(oh(r,s,u),r=r.sibling;r!==null;)oh(r,s,u),r=r.sibling}var It=null,mr=!1;function Fi(r,s,u){for(u=u.child;u!==null;)Rm(r,s,u),u=u.sibling}function Rm(r,s,u){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(yn,u)}catch{}switch(u.tag){case 5:Kt||go(u,s);case 6:var f=It,p=mr;It=null,Fi(r,s,u),It=f,mr=p,It!==null&&(mr?(r=It,u=u.stateNode,r.nodeType===8?r.parentNode.removeChild(u):r.removeChild(u)):It.removeChild(u.stateNode));break;case 18:It!==null&&(mr?(r=It,u=u.stateNode,r.nodeType===8?vf(r.parentNode,u):r.nodeType===1&&vf(r,u),cl(r)):vf(It,u.stateNode));break;case 4:f=It,p=mr,It=u.stateNode.containerInfo,mr=!0,Fi(r,s,u),It=f,mr=p;break;case 0:case 11:case 14:case 15:if(!Kt&&(f=u.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){p=f=f.next;do{var _=p,R=_.destroy;_=_.tag,R!==void 0&&(_&2||_&4)&&rh(u,s,R),p=p.next}while(p!==f)}Fi(r,s,u);break;case 1:if(!Kt&&(go(u,s),f=u.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=u.memoizedProps,f.state=u.memoizedState,f.componentWillUnmount()}catch(O){dt(u,s,O)}Fi(r,s,u);break;case 21:Fi(r,s,u);break;case 22:u.mode&1?(Kt=(f=Kt)||u.memoizedState!==null,Fi(r,s,u),Kt=f):Fi(r,s,u);break;default:Fi(r,s,u)}}function Tm(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var u=r.stateNode;u===null&&(u=r.stateNode=new nw),s.forEach(function(f){var p=hw.bind(null,r,f);u.has(f)||(u.add(f),f.then(p,p))})}}function yr(r,s){var u=s.deletions;if(u!==null)for(var f=0;f<u.length;f++){var p=u[f];try{var _=r,R=s,O=R;e:for(;O!==null;){switch(O.tag){case 5:It=O.stateNode,mr=!1;break e;case 3:It=O.stateNode.containerInfo,mr=!0;break e;case 4:It=O.stateNode.containerInfo,mr=!0;break e}O=O.return}if(It===null)throw Error(n(160));Rm(_,R,p),It=null,mr=!1;var F=p.alternate;F!==null&&(F.return=null),p.return=null}catch(H){dt(p,s,H)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Mm(s,r),s=s.sibling}function Mm(r,s){var u=r.alternate,f=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(yr(s,r),Lr(r),f&4){try{Ol(3,r,r.return),lu(3,r)}catch(be){dt(r,r.return,be)}try{Ol(5,r,r.return)}catch(be){dt(r,r.return,be)}}break;case 1:yr(s,r),Lr(r),f&512&&u!==null&&go(u,u.return);break;case 5:if(yr(s,r),Lr(r),f&512&&u!==null&&go(u,u.return),r.flags&32){var p=r.stateNode;try{Qn(p,"")}catch(be){dt(r,r.return,be)}}if(f&4&&(p=r.stateNode,p!=null)){var _=r.memoizedProps,R=u!==null?u.memoizedProps:_,O=r.type,F=r.updateQueue;if(r.updateQueue=null,F!==null)try{O==="input"&&_.type==="radio"&&_.name!=null&&Vt(p,_),Hs(O,R);var H=Hs(O,_);for(R=0;R<F.length;R+=2){var ie=F[R],le=F[R+1];ie==="style"?da(p,le):ie==="dangerouslySetInnerHTML"?ln(p,le):ie==="children"?Qn(p,le):C(p,ie,le,H)}switch(O){case"input":on(p,_);break;case"textarea":mn(p,_);break;case"select":var ne=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!_.multiple;var me=_.value;me!=null?On(p,!!_.multiple,me,!1):ne!==!!_.multiple&&(_.defaultValue!=null?On(p,!!_.multiple,_.defaultValue,!0):On(p,!!_.multiple,_.multiple?[]:"",!1))}p[wl]=_}catch(be){dt(r,r.return,be)}}break;case 6:if(yr(s,r),Lr(r),f&4){if(r.stateNode===null)throw Error(n(162));p=r.stateNode,_=r.memoizedProps;try{p.nodeValue=_}catch(be){dt(r,r.return,be)}}break;case 3:if(yr(s,r),Lr(r),f&4&&u!==null&&u.memoizedState.isDehydrated)try{cl(s.containerInfo)}catch(be){dt(r,r.return,be)}break;case 4:yr(s,r),Lr(r);break;case 13:yr(s,r),Lr(r),p=r.child,p.flags&8192&&(_=p.memoizedState!==null,p.stateNode.isHidden=_,!_||p.alternate!==null&&p.alternate.memoizedState!==null||(uh=ge())),f&4&&Tm(r);break;case 22:if(ie=u!==null&&u.memoizedState!==null,r.mode&1?(Kt=(H=Kt)||ie,yr(s,r),Kt=H):yr(s,r),Lr(r),f&8192){if(H=r.memoizedState!==null,(r.stateNode.isHidden=H)&&!ie&&r.mode&1)for(ye=r,ie=r.child;ie!==null;){for(le=ye=ie;ye!==null;){switch(ne=ye,me=ne.child,ne.tag){case 0:case 11:case 14:case 15:Ol(4,ne,ne.return);break;case 1:go(ne,ne.return);var ve=ne.stateNode;if(typeof ve.componentWillUnmount=="function"){f=ne,u=ne.return;try{s=f,ve.props=s.memoizedProps,ve.state=s.memoizedState,ve.componentWillUnmount()}catch(be){dt(f,u,be)}}break;case 5:go(ne,ne.return);break;case 22:if(ne.memoizedState!==null){Om(le);continue}}me!==null?(me.return=ne,ye=me):Om(le)}ie=ie.sibling}e:for(ie=null,le=r;;){if(le.tag===5){if(ie===null){ie=le;try{p=le.stateNode,H?(_=p.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(O=le.stateNode,F=le.memoizedProps.style,R=F!=null&&F.hasOwnProperty("display")?F.display:null,O.style.display=is("display",R))}catch(be){dt(r,r.return,be)}}}else if(le.tag===6){if(ie===null)try{le.stateNode.nodeValue=H?"":le.memoizedProps}catch(be){dt(r,r.return,be)}}else if((le.tag!==22&&le.tag!==23||le.memoizedState===null||le===r)&&le.child!==null){le.child.return=le,le=le.child;continue}if(le===r)break e;for(;le.sibling===null;){if(le.return===null||le.return===r)break e;ie===le&&(ie=null),le=le.return}ie===le&&(ie=null),le.sibling.return=le.return,le=le.sibling}}break;case 19:yr(s,r),Lr(r),f&4&&Tm(r);break;case 21:break;default:yr(s,r),Lr(r)}}function Lr(r){var s=r.flags;if(s&2){try{e:{for(var u=r.return;u!==null;){if(Em(u)){var f=u;break e}u=u.return}throw Error(n(160))}switch(f.tag){case 5:var p=f.stateNode;f.flags&32&&(Qn(p,""),f.flags&=-33);var _=Cm(r);oh(r,_,p);break;case 3:case 4:var R=f.stateNode.containerInfo,O=Cm(r);sh(r,O,R);break;default:throw Error(n(161))}}catch(F){dt(r,r.return,F)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function iw(r,s,u){ye=r,Am(r)}function Am(r,s,u){for(var f=(r.mode&1)!==0;ye!==null;){var p=ye,_=p.child;if(p.tag===22&&f){var R=p.memoizedState!==null||ou;if(!R){var O=p.alternate,F=O!==null&&O.memoizedState!==null||Kt;O=ou;var H=Kt;if(ou=R,(Kt=F)&&!H)for(ye=p;ye!==null;)R=ye,F=R.child,R.tag===22&&R.memoizedState!==null?Lm(p):F!==null?(F.return=R,ye=F):Lm(p);for(;_!==null;)ye=_,Am(_),_=_.sibling;ye=p,ou=O,Kt=H}Pm(r)}else p.subtreeFlags&8772&&_!==null?(_.return=p,ye=_):Pm(r)}}function Pm(r){for(;ye!==null;){var s=ye;if(s.flags&8772){var u=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Kt||lu(5,s);break;case 1:var f=s.stateNode;if(s.flags&4&&!Kt)if(u===null)f.componentDidMount();else{var p=s.elementType===s.type?u.memoizedProps:gr(s.type,u.memoizedProps);f.componentDidUpdate(p,u.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var _=s.updateQueue;_!==null&&Og(s,_,f);break;case 3:var R=s.updateQueue;if(R!==null){if(u=null,s.child!==null)switch(s.child.tag){case 5:u=s.child.stateNode;break;case 1:u=s.child.stateNode}Og(s,R,u)}break;case 5:var O=s.stateNode;if(u===null&&s.flags&4){u=O;var F=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":F.autoFocus&&u.focus();break;case"img":F.src&&(u.src=F.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var H=s.alternate;if(H!==null){var ie=H.memoizedState;if(ie!==null){var le=ie.dehydrated;le!==null&&cl(le)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Kt||s.flags&512&&ih(s)}catch(ne){dt(s,s.return,ne)}}if(s===r){ye=null;break}if(u=s.sibling,u!==null){u.return=s.return,ye=u;break}ye=s.return}}function Om(r){for(;ye!==null;){var s=ye;if(s===r){ye=null;break}var u=s.sibling;if(u!==null){u.return=s.return,ye=u;break}ye=s.return}}function Lm(r){for(;ye!==null;){var s=ye;try{switch(s.tag){case 0:case 11:case 15:var u=s.return;try{lu(4,s)}catch(F){dt(s,u,F)}break;case 1:var f=s.stateNode;if(typeof f.componentDidMount=="function"){var p=s.return;try{f.componentDidMount()}catch(F){dt(s,p,F)}}var _=s.return;try{ih(s)}catch(F){dt(s,_,F)}break;case 5:var R=s.return;try{ih(s)}catch(F){dt(s,R,F)}}}catch(F){dt(s,s.return,F)}if(s===r){ye=null;break}var O=s.sibling;if(O!==null){O.return=s.return,ye=O;break}ye=s.return}}var sw=Math.ceil,au=M.ReactCurrentDispatcher,lh=M.ReactCurrentOwner,ir=M.ReactCurrentBatchConfig,De=0,Lt=null,wt=null,jt=0,Bn=0,mo=Mi(0),Et=0,Ll=null,gs=0,uu=0,ah=0,Fl=null,wn=null,uh=0,yo=1/0,ui=null,cu=!1,ch=null,Ni=null,fu=!1,Ii=null,hu=0,Nl=0,fh=null,du=-1,pu=0;function un(){return De&6?ge():du!==-1?du:du=ge()}function ji(r){return r.mode&1?De&2&&jt!==0?jt&-jt:Ux.transition!==null?(pu===0&&(pu=Cp()),pu):(r=Xe,r!==0||(r=window.event,r=r===void 0?16:Np(r.type)),r):1}function _r(r,s,u,f){if(50<Nl)throw Nl=0,fh=null,Error(n(185));sl(r,u,f),(!(De&2)||r!==Lt)&&(r===Lt&&(!(De&2)&&(uu|=u),Et===4&&Di(r,jt)),bn(r,f),u===1&&De===0&&!(s.mode&1)&&(yo=ge()+500,Ua&&Pi()))}function bn(r,s){var u=r.callbackNode;U1(r,s);var f=ka(r,r===Lt?jt:0);if(f===0)u!==null&&rl(u),r.callbackNode=null,r.callbackPriority=0;else if(s=f&-f,r.callbackPriority!==s){if(u!=null&&rl(u),s===1)r.tag===0?$x(Nm.bind(null,r)):xg(Nm.bind(null,r)),jx(function(){!(De&6)&&Pi()}),u=null;else{switch(Rp(f)){case 1:u=Ke;break;case 4:u=yt;break;case 16:u=In;break;case 536870912:u=Jn;break;default:u=In}u=Vm(u,Fm.bind(null,r))}r.callbackPriority=s,r.callbackNode=u}}function Fm(r,s){if(du=-1,pu=0,De&6)throw Error(n(327));var u=r.callbackNode;if(_o()&&r.callbackNode!==u)return null;var f=ka(r,r===Lt?jt:0);if(f===0)return null;if(f&30||f&r.expiredLanes||s)s=gu(r,f);else{s=f;var p=De;De|=2;var _=jm();(Lt!==r||jt!==s)&&(ui=null,yo=ge()+500,ys(r,s));do try{aw();break}catch(O){Im(r,O)}while(!0);Mf(),au.current=_,De=p,wt!==null?s=0:(Lt=null,jt=0,s=Et)}if(s!==0){if(s===2&&(p=Hc(r),p!==0&&(f=p,s=hh(r,p))),s===1)throw u=Ll,ys(r,0),Di(r,f),bn(r,ge()),u;if(s===6)Di(r,f);else{if(p=r.current.alternate,!(f&30)&&!ow(p)&&(s=gu(r,f),s===2&&(_=Hc(r),_!==0&&(f=_,s=hh(r,_))),s===1))throw u=Ll,ys(r,0),Di(r,f),bn(r,ge()),u;switch(r.finishedWork=p,r.finishedLanes=f,s){case 0:case 1:throw Error(n(345));case 2:_s(r,wn,ui);break;case 3:if(Di(r,f),(f&130023424)===f&&(s=uh+500-ge(),10<s)){if(ka(r,0)!==0)break;if(p=r.suspendedLanes,(p&f)!==f){un(),r.pingedLanes|=r.suspendedLanes&p;break}r.timeoutHandle=_f(_s.bind(null,r,wn,ui),s);break}_s(r,wn,ui);break;case 4:if(Di(r,f),(f&4194240)===f)break;for(s=r.eventTimes,p=-1;0<f;){var R=31-xt(f);_=1<<R,R=s[R],R>p&&(p=R),f&=~_}if(f=p,f=ge()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*sw(f/1960))-f,10<f){r.timeoutHandle=_f(_s.bind(null,r,wn,ui),f);break}_s(r,wn,ui);break;case 5:_s(r,wn,ui);break;default:throw Error(n(329))}}}return bn(r,ge()),r.callbackNode===u?Fm.bind(null,r):null}function hh(r,s){var u=Fl;return r.current.memoizedState.isDehydrated&&(ys(r,s).flags|=256),r=gu(r,s),r!==2&&(s=wn,wn=u,s!==null&&dh(s)),r}function dh(r){wn===null?wn=r:wn.push.apply(wn,r)}function ow(r){for(var s=r;;){if(s.flags&16384){var u=s.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var f=0;f<u.length;f++){var p=u[f],_=p.getSnapshot;p=p.value;try{if(!dr(_(),p))return!1}catch{return!1}}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Di(r,s){for(s&=~ah,s&=~uu,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var u=31-xt(s),f=1<<u;r[u]=-1,s&=~f}}function Nm(r){if(De&6)throw Error(n(327));_o();var s=ka(r,0);if(!(s&1))return bn(r,ge()),null;var u=gu(r,s);if(r.tag!==0&&u===2){var f=Hc(r);f!==0&&(s=f,u=hh(r,f))}if(u===1)throw u=Ll,ys(r,0),Di(r,s),bn(r,ge()),u;if(u===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,_s(r,wn,ui),bn(r,ge()),null}function ph(r,s){var u=De;De|=1;try{return r(s)}finally{De=u,De===0&&(yo=ge()+500,Ua&&Pi())}}function ms(r){Ii!==null&&Ii.tag===0&&!(De&6)&&_o();var s=De;De|=1;var u=ir.transition,f=Xe;try{if(ir.transition=null,Xe=1,r)return r()}finally{Xe=f,ir.transition=u,De=s,!(De&6)&&Pi()}}function gh(){Bn=mo.current,Je(mo)}function ys(r,s){r.finishedWork=null,r.finishedLanes=0;var u=r.timeoutHandle;if(u!==-1&&(r.timeoutHandle=-1,Ix(u)),wt!==null)for(u=wt.return;u!==null;){var f=u;switch(Sf(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&Ba();break;case 3:ho(),Je(_n),Je(Wt),jf();break;case 5:Nf(f);break;case 4:ho();break;case 13:Je(ot);break;case 19:Je(ot);break;case 10:Af(f.type._context);break;case 22:case 23:gh()}u=u.return}if(Lt=r,wt=r=zi(r.current,null),jt=Bn=s,Et=0,Ll=null,ah=uu=gs=0,wn=Fl=null,hs!==null){for(s=0;s<hs.length;s++)if(u=hs[s],f=u.interleaved,f!==null){u.interleaved=null;var p=f.next,_=u.pending;if(_!==null){var R=_.next;_.next=p,f.next=R}u.pending=f}hs=null}return r}function Im(r,s){do{var u=wt;try{if(Mf(),Za.current=nu,Ja){for(var f=lt.memoizedState;f!==null;){var p=f.queue;p!==null&&(p.pending=null),f=f.next}Ja=!1}if(ps=0,Ot=St=lt=null,Rl=!1,Tl=0,lh.current=null,u===null||u.return===null){Et=1,Ll=s,wt=null;break}e:{var _=r,R=u.return,O=u,F=s;if(s=jt,O.flags|=32768,F!==null&&typeof F=="object"&&typeof F.then=="function"){var H=F,ie=O,le=ie.tag;if(!(ie.mode&1)&&(le===0||le===11||le===15)){var ne=ie.alternate;ne?(ie.updateQueue=ne.updateQueue,ie.memoizedState=ne.memoizedState,ie.lanes=ne.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var me=lm(R);if(me!==null){me.flags&=-257,am(me,R,O,_,s),me.mode&1&&om(_,H,s),s=me,F=H;var ve=s.updateQueue;if(ve===null){var be=new Set;be.add(F),s.updateQueue=be}else ve.add(F);break e}else{if(!(s&1)){om(_,H,s),mh();break e}F=Error(n(426))}}else if(nt&&O.mode&1){var _t=lm(R);if(_t!==null){!(_t.flags&65536)&&(_t.flags|=256),am(_t,R,O,_,s),Rf(po(F,O));break e}}_=F=po(F,O),Et!==4&&(Et=2),Fl===null?Fl=[_]:Fl.push(_),_=R;do{switch(_.tag){case 3:_.flags|=65536,s&=-s,_.lanes|=s;var U=im(_,F,s);Pg(_,U);break e;case 1:O=F;var I=_.type,V=_.stateNode;if(!(_.flags&128)&&(typeof I.getDerivedStateFromError=="function"||V!==null&&typeof V.componentDidCatch=="function"&&(Ni===null||!Ni.has(V)))){_.flags|=65536,s&=-s,_.lanes|=s;var he=sm(_,O,s);Pg(_,he);break e}}_=_.return}while(_!==null)}zm(u)}catch(Ee){s=Ee,wt===u&&u!==null&&(wt=u=u.return);continue}break}while(!0)}function jm(){var r=au.current;return au.current=nu,r===null?nu:r}function mh(){(Et===0||Et===3||Et===2)&&(Et=4),Lt===null||!(gs&268435455)&&!(uu&268435455)||Di(Lt,jt)}function gu(r,s){var u=De;De|=2;var f=jm();(Lt!==r||jt!==s)&&(ui=null,ys(r,s));do try{lw();break}catch(p){Im(r,p)}while(!0);if(Mf(),De=u,au.current=f,wt!==null)throw Error(n(261));return Lt=null,jt=0,Et}function lw(){for(;wt!==null;)Dm(wt)}function aw(){for(;wt!==null&&!Vc();)Dm(wt)}function Dm(r){var s=Um(r.alternate,r,Bn);r.memoizedProps=r.pendingProps,s===null?zm(r):wt=s,lh.current=null}function zm(r){var s=r;do{var u=s.alternate;if(r=s.return,s.flags&32768){if(u=tw(u,s),u!==null){u.flags&=32767,wt=u;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Et=6,wt=null;return}}else if(u=ew(u,s,Bn),u!==null){wt=u;return}if(s=s.sibling,s!==null){wt=s;return}wt=s=r}while(s!==null);Et===0&&(Et=5)}function _s(r,s,u){var f=Xe,p=ir.transition;try{ir.transition=null,Xe=1,uw(r,s,u,f)}finally{ir.transition=p,Xe=f}return null}function uw(r,s,u,f){do _o();while(Ii!==null);if(De&6)throw Error(n(327));u=r.finishedWork;var p=r.finishedLanes;if(u===null)return null;if(r.finishedWork=null,r.finishedLanes=0,u===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var _=u.lanes|u.childLanes;if(V1(r,_),r===Lt&&(wt=Lt=null,jt=0),!(u.subtreeFlags&2064)&&!(u.flags&2064)||fu||(fu=!0,Vm(In,function(){return _o(),null})),_=(u.flags&15990)!==0,u.subtreeFlags&15990||_){_=ir.transition,ir.transition=null;var R=Xe;Xe=1;var O=De;De|=4,lh.current=null,rw(r,u),Mm(u,r),Mx(mf),Ca=!!gf,mf=gf=null,r.current=u,iw(u),Ve(),De=O,Xe=R,ir.transition=_}else r.current=u;if(fu&&(fu=!1,Ii=r,hu=p),_=r.pendingLanes,_===0&&(Ni=null),wi(u.stateNode),bn(r,ge()),s!==null)for(f=r.onRecoverableError,u=0;u<s.length;u++)p=s[u],f(p.value,{componentStack:p.stack,digest:p.digest});if(cu)throw cu=!1,r=ch,ch=null,r;return hu&1&&r.tag!==0&&_o(),_=r.pendingLanes,_&1?r===fh?Nl++:(Nl=0,fh=r):Nl=0,Pi(),null}function _o(){if(Ii!==null){var r=Rp(hu),s=ir.transition,u=Xe;try{if(ir.transition=null,Xe=16>r?16:r,Ii===null)var f=!1;else{if(r=Ii,Ii=null,hu=0,De&6)throw Error(n(331));var p=De;for(De|=4,ye=r.current;ye!==null;){var _=ye,R=_.child;if(ye.flags&16){var O=_.deletions;if(O!==null){for(var F=0;F<O.length;F++){var H=O[F];for(ye=H;ye!==null;){var ie=ye;switch(ie.tag){case 0:case 11:case 15:Ol(8,ie,_)}var le=ie.child;if(le!==null)le.return=ie,ye=le;else for(;ye!==null;){ie=ye;var ne=ie.sibling,me=ie.return;if(Sm(ie),ie===H){ye=null;break}if(ne!==null){ne.return=me,ye=ne;break}ye=me}}}var ve=_.alternate;if(ve!==null){var be=ve.child;if(be!==null){ve.child=null;do{var _t=be.sibling;be.sibling=null,be=_t}while(be!==null)}}ye=_}}if(_.subtreeFlags&2064&&R!==null)R.return=_,ye=R;else e:for(;ye!==null;){if(_=ye,_.flags&2048)switch(_.tag){case 0:case 11:case 15:Ol(9,_,_.return)}var U=_.sibling;if(U!==null){U.return=_.return,ye=U;break e}ye=_.return}}var I=r.current;for(ye=I;ye!==null;){R=ye;var V=R.child;if(R.subtreeFlags&2064&&V!==null)V.return=R,ye=V;else e:for(R=I;ye!==null;){if(O=ye,O.flags&2048)try{switch(O.tag){case 0:case 11:case 15:lu(9,O)}}catch(Ee){dt(O,O.return,Ee)}if(O===R){ye=null;break e}var he=O.sibling;if(he!==null){he.return=O.return,ye=he;break e}ye=O.return}}if(De=p,Pi(),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(yn,r)}catch{}f=!0}return f}finally{Xe=u,ir.transition=s}}return!1}function Bm(r,s,u){s=po(u,s),s=im(r,s,1),r=Li(r,s,1),s=un(),r!==null&&(sl(r,1,s),bn(r,s))}function dt(r,s,u){if(r.tag===3)Bm(r,r,u);else for(;s!==null;){if(s.tag===3){Bm(s,r,u);break}else if(s.tag===1){var f=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Ni===null||!Ni.has(f))){r=po(u,r),r=sm(s,r,1),s=Li(s,r,1),r=un(),s!==null&&(sl(s,1,r),bn(s,r));break}}s=s.return}}function cw(r,s,u){var f=r.pingCache;f!==null&&f.delete(s),s=un(),r.pingedLanes|=r.suspendedLanes&u,Lt===r&&(jt&u)===u&&(Et===4||Et===3&&(jt&130023424)===jt&&500>ge()-uh?ys(r,0):ah|=u),bn(r,s)}function $m(r,s){s===0&&(r.mode&1?(s=ba,ba<<=1,!(ba&130023424)&&(ba=4194304)):s=1);var u=un();r=oi(r,s),r!==null&&(sl(r,s,u),bn(r,u))}function fw(r){var s=r.memoizedState,u=0;s!==null&&(u=s.retryLane),$m(r,u)}function hw(r,s){var u=0;switch(r.tag){case 13:var f=r.stateNode,p=r.memoizedState;p!==null&&(u=p.retryLane);break;case 19:f=r.stateNode;break;default:throw Error(n(314))}f!==null&&f.delete(s),$m(r,u)}var Um;Um=function(r,s,u){if(r!==null)if(r.memoizedProps!==s.pendingProps||_n.current)xn=!0;else{if(!(r.lanes&u)&&!(s.flags&128))return xn=!1,Jx(r,s,u);xn=!!(r.flags&131072)}else xn=!1,nt&&s.flags&1048576&&wg(s,Ha,s.index);switch(s.lanes=0,s.tag){case 2:var f=s.type;su(r,s),r=s.pendingProps;var p=so(s,Wt.current);fo(s,u),p=Bf(null,s,f,r,p,u);var _=$f();return s.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,vn(f)?(_=!0,$a(s)):_=!1,s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Lf(s),p.updater=ru,s.stateNode=p,p._reactInternals=s,Xf(s,f,r,u),s=Qf(null,s,f,!0,_,u)):(s.tag=0,nt&&_&&kf(s),an(null,s,p,u),s=s.child),s;case 16:f=s.elementType;e:{switch(su(r,s),r=s.pendingProps,p=f._init,f=p(f._payload),s.type=f,p=s.tag=pw(f),r=gr(f,r),p){case 0:s=Gf(null,s,f,r,u);break e;case 1:s=pm(null,s,f,r,u);break e;case 11:s=um(null,s,f,r,u);break e;case 14:s=cm(null,s,f,gr(f.type,r),u);break e}throw Error(n(306,f,""))}return s;case 0:return f=s.type,p=s.pendingProps,p=s.elementType===f?p:gr(f,p),Gf(r,s,f,p,u);case 1:return f=s.type,p=s.pendingProps,p=s.elementType===f?p:gr(f,p),pm(r,s,f,p,u);case 3:e:{if(gm(s),r===null)throw Error(n(387));f=s.pendingProps,_=s.memoizedState,p=_.element,Ag(r,s),Ga(s,f,null,u);var R=s.memoizedState;if(f=R.element,_.isDehydrated)if(_={element:f,isDehydrated:!1,cache:R.cache,pendingSuspenseBoundaries:R.pendingSuspenseBoundaries,transitions:R.transitions},s.updateQueue.baseState=_,s.memoizedState=_,s.flags&256){p=po(Error(n(423)),s),s=mm(r,s,f,u,p);break e}else if(f!==p){p=po(Error(n(424)),s),s=mm(r,s,f,u,p);break e}else for(zn=Ti(s.stateNode.containerInfo.firstChild),Dn=s,nt=!0,pr=null,u=Tg(s,null,f,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(ao(),f===p){s=ai(r,s,u);break e}an(r,s,f,u)}s=s.child}return s;case 5:return Lg(s),r===null&&Cf(s),f=s.type,p=s.pendingProps,_=r!==null?r.memoizedProps:null,R=p.children,yf(f,p)?R=null:_!==null&&yf(f,_)&&(s.flags|=32),dm(r,s),an(r,s,R,u),s.child;case 6:return r===null&&Cf(s),null;case 13:return ym(r,s,u);case 4:return Ff(s,s.stateNode.containerInfo),f=s.pendingProps,r===null?s.child=uo(s,null,f,u):an(r,s,f,u),s.child;case 11:return f=s.type,p=s.pendingProps,p=s.elementType===f?p:gr(f,p),um(r,s,f,p,u);case 7:return an(r,s,s.pendingProps,u),s.child;case 8:return an(r,s,s.pendingProps.children,u),s.child;case 12:return an(r,s,s.pendingProps.children,u),s.child;case 10:e:{if(f=s.type._context,p=s.pendingProps,_=s.memoizedProps,R=p.value,qe(Xa,f._currentValue),f._currentValue=R,_!==null)if(dr(_.value,R)){if(_.children===p.children&&!_n.current){s=ai(r,s,u);break e}}else for(_=s.child,_!==null&&(_.return=s);_!==null;){var O=_.dependencies;if(O!==null){R=_.child;for(var F=O.firstContext;F!==null;){if(F.context===f){if(_.tag===1){F=li(-1,u&-u),F.tag=2;var H=_.updateQueue;if(H!==null){H=H.shared;var ie=H.pending;ie===null?F.next=F:(F.next=ie.next,ie.next=F),H.pending=F}}_.lanes|=u,F=_.alternate,F!==null&&(F.lanes|=u),Pf(_.return,u,s),O.lanes|=u;break}F=F.next}}else if(_.tag===10)R=_.type===s.type?null:_.child;else if(_.tag===18){if(R=_.return,R===null)throw Error(n(341));R.lanes|=u,O=R.alternate,O!==null&&(O.lanes|=u),Pf(R,u,s),R=_.sibling}else R=_.child;if(R!==null)R.return=_;else for(R=_;R!==null;){if(R===s){R=null;break}if(_=R.sibling,_!==null){_.return=R.return,R=_;break}R=R.return}_=R}an(r,s,p.children,u),s=s.child}return s;case 9:return p=s.type,f=s.pendingProps.children,fo(s,u),p=nr(p),f=f(p),s.flags|=1,an(r,s,f,u),s.child;case 14:return f=s.type,p=gr(f,s.pendingProps),p=gr(f.type,p),cm(r,s,f,p,u);case 15:return fm(r,s,s.type,s.pendingProps,u);case 17:return f=s.type,p=s.pendingProps,p=s.elementType===f?p:gr(f,p),su(r,s),s.tag=1,vn(f)?(r=!0,$a(s)):r=!1,fo(s,u),nm(s,f,p),Xf(s,f,p,u),Qf(null,s,f,!0,r,u);case 19:return vm(r,s,u);case 22:return hm(r,s,u)}throw Error(n(156,s.tag))};function Vm(r,s){return nl(r,s)}function dw(r,s,u,f){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sr(r,s,u,f){return new dw(r,s,u,f)}function yh(r){return r=r.prototype,!(!r||!r.isReactComponent)}function pw(r){if(typeof r=="function")return yh(r)?1:0;if(r!=null){if(r=r.$$typeof,r===q)return 11;if(r===re)return 14}return 2}function zi(r,s){var u=r.alternate;return u===null?(u=sr(r.tag,s,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=s,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&14680064,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,s=r.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u}function mu(r,s,u,f,p,_){var R=2;if(f=r,typeof r=="function")yh(r)&&(R=1);else if(typeof r=="string")R=5;else e:switch(r){case j:return vs(u.children,p,_,s);case X:R=8,p|=8;break;case z:return r=sr(12,u,s,p|2),r.elementType=z,r.lanes=_,r;case ae:return r=sr(13,u,s,p),r.elementType=ae,r.lanes=_,r;case te:return r=sr(19,u,s,p),r.elementType=te,r.lanes=_,r;case Z:return yu(u,p,_,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case W:R=10;break e;case K:R=9;break e;case q:R=11;break e;case re:R=14;break e;case ue:R=16,f=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return s=sr(R,u,s,p),s.elementType=r,s.type=f,s.lanes=_,s}function vs(r,s,u,f){return r=sr(7,r,f,s),r.lanes=u,r}function yu(r,s,u,f){return r=sr(22,r,f,s),r.elementType=Z,r.lanes=u,r.stateNode={isHidden:!1},r}function _h(r,s,u){return r=sr(6,r,null,s),r.lanes=u,r}function vh(r,s,u){return s=sr(4,r.children!==null?r.children:[],r.key,s),s.lanes=u,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function gw(r,s,u,f,p){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wc(0),this.expirationTimes=Wc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wc(0),this.identifierPrefix=f,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function xh(r,s,u,f,p,_,R,O,F){return r=new gw(r,s,u,O,F),s===1?(s=1,_===!0&&(s|=8)):s=0,_=sr(3,null,null,s),r.current=_,_.stateNode=r,_.memoizedState={element:f,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lf(_),r}function mw(r,s,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:N,key:f==null?null:""+f,children:r,containerInfo:s,implementation:u}}function Hm(r){if(!r)return Ai;r=r._reactInternals;e:{if(ti(r)!==r||r.tag!==1)throw Error(n(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(vn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(r.tag===1){var u=r.type;if(vn(u))return _g(r,u,s)}return s}function Wm(r,s,u,f,p,_,R,O,F){return r=xh(u,f,!0,r,p,_,R,O,F),r.context=Hm(null),u=r.current,f=un(),p=ji(u),_=li(f,p),_.callback=s??null,Li(u,_,p),r.current.lanes=p,sl(r,p,f),bn(r,f),r}function _u(r,s,u,f){var p=s.current,_=un(),R=ji(p);return u=Hm(u),s.context===null?s.context=u:s.pendingContext=u,s=li(_,R),s.payload={element:r},f=f===void 0?null:f,f!==null&&(s.callback=f),r=Li(p,s,R),r!==null&&(_r(r,p,R,_),qa(r,p,R)),R}function vu(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Ym(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<s?u:s}}function wh(r,s){Ym(r,s),(r=r.alternate)&&Ym(r,s)}var Xm=typeof reportError=="function"?reportError:function(r){console.error(r)};function bh(r){this._internalRoot=r}xu.prototype.render=bh.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(n(409));_u(r,s,null,null)},xu.prototype.unmount=bh.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;ms(function(){_u(null,r,null,null)}),s[ni]=null}};function xu(r){this._internalRoot=r}xu.prototype.unstable_scheduleHydration=function(r){if(r){var s=Ap();r={blockedOn:null,target:r,priority:s};for(var u=0;u<Ei.length&&s!==0&&s<Ei[u].priority;u++);Ei.splice(u,0,r),u===0&&Lp(r)}};function kh(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function wu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Km(){}function yw(r,s,u,f,p){if(p){if(typeof f=="function"){var _=f;f=function(){var H=vu(R);_.call(H)}}var R=Wm(s,f,r,0,null,!1,!1,"",Km);return r._reactRootContainer=R,r[ni]=R.current,vl(r.nodeType===8?r.parentNode:r),ms(),R}for(;p=r.lastChild;)r.removeChild(p);if(typeof f=="function"){var O=f;f=function(){var H=vu(F);O.call(H)}}var F=xh(r,0,!1,null,null,!1,!1,"",Km);return r._reactRootContainer=F,r[ni]=F.current,vl(r.nodeType===8?r.parentNode:r),ms(function(){_u(s,F,u,f)}),F}function bu(r,s,u,f,p){var _=u._reactRootContainer;if(_){var R=_;if(typeof p=="function"){var O=p;p=function(){var F=vu(R);O.call(F)}}_u(s,R,r,p)}else R=yw(u,s,r,p,f);return vu(R)}Tp=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var u=il(s.pendingLanes);u!==0&&(Yc(s,u|1),bn(s,ge()),!(De&6)&&(yo=ge()+500,Pi()))}break;case 13:ms(function(){var f=oi(r,1);if(f!==null){var p=un();_r(f,r,1,p)}}),wh(r,1)}},Xc=function(r){if(r.tag===13){var s=oi(r,134217728);if(s!==null){var u=un();_r(s,r,134217728,u)}wh(r,134217728)}},Mp=function(r){if(r.tag===13){var s=ji(r),u=oi(r,s);if(u!==null){var f=un();_r(u,r,s,f)}wh(r,s)}},Ap=function(){return Xe},Pp=function(r,s){var u=Xe;try{return Xe=r,s()}finally{Xe=u}},Zn=function(r,s,u){switch(s){case"input":if(on(r,u),s=u.name,u.type==="radio"&&s!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<u.length;s++){var f=u[s];if(f!==r&&f.form===r.form){var p=za(f);if(!p)throw Error(n(90));gt(f),on(f,p)}}}break;case"textarea":mn(r,u);break;case"select":s=u.value,s!=null&&On(r,!!u.multiple,s,!1)}},ga=ph,ma=ms;var _w={usingClientEntryPoint:!1,Events:[bl,ro,za,ss,qo,ph]},Il={findFiberByHostInstance:as,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vw={bundleType:Il.bundleType,version:Il.version,rendererPackageName:Il.rendererPackageName,rendererConfig:Il.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=va(r),r===null?null:r.stateNode},findFiberByHostInstance:Il.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ku=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ku.isDisabled&&ku.supportsFiber)try{yn=ku.inject(vw),Pt=ku}catch{}}return Sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_w,Sn.createPortal=function(r,s){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kh(s))throw Error(n(200));return mw(r,s,null,u)},Sn.createRoot=function(r,s){if(!kh(r))throw Error(n(299));var u=!1,f="",p=Xm;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=xh(r,1,!1,null,null,u,!1,f,p),r[ni]=s.current,vl(r.nodeType===8?r.parentNode:r),new bh(s)},Sn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=va(s),r=r===null?null:r.stateNode,r},Sn.flushSync=function(r){return ms(r)},Sn.hydrate=function(r,s,u){if(!wu(s))throw Error(n(200));return bu(null,r,s,!0,u)},Sn.hydrateRoot=function(r,s,u){if(!kh(r))throw Error(n(405));var f=u!=null&&u.hydratedSources||null,p=!1,_="",R=Xm;if(u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(_=u.identifierPrefix),u.onRecoverableError!==void 0&&(R=u.onRecoverableError)),s=Wm(s,null,r,1,u??null,p,!1,_,R),r[ni]=s.current,vl(r),f)for(r=0;r<f.length;r++)u=f[r],p=u._getVersion,p=p(u._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[u,p]:s.mutableSourceEagerHydrationData.push(u,p);return new xu(s)},Sn.render=function(r,s,u){if(!wu(s))throw Error(n(200));return bu(null,r,s,!1,u)},Sn.unmountComponentAtNode=function(r){if(!wu(r))throw Error(n(40));return r._reactRootContainer?(ms(function(){bu(null,null,r,!1,function(){r._reactRootContainer=null,r[ni]=null})}),!0):!1},Sn.unstable_batchedUpdates=ph,Sn.unstable_renderSubtreeIntoContainer=function(r,s,u,f){if(!wu(u))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return bu(r,s,u,!1,f)},Sn.version="18.3.1-next-f1338f8080-20240426",Sn}var oy;function S_(){if(oy)return Ch.exports;oy=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Ch.exports=Aw(),Ch.exports}var ly;function Pw(){if(ly)return Su;ly=1;var e=S_();return Su.createRoot=e.createRoot,Su.hydrateRoot=e.hydrateRoot,Su}var Ow=Pw();const ay=e=>{let t;const n=new Set,i=(d,g)=>{const m=typeof d=="function"?d(t):d;if(!Object.is(m,t)){const v=t;t=g??(typeof m!="object"||m===null)?m:Object.assign({},t,m),n.forEach(y=>y(t,v))}},o=()=>t,c={setState:i,getState:o,getInitialState:()=>h,subscribe:d=>(n.add(d),()=>n.delete(d))},h=t=e(i,o,c);return c},Lw=e=>e?ay(e):ay,Fw=e=>e;function Nw(e,t=Fw){const n=st.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return st.useDebugValue(n),n}const Iw=e=>{const t=Lw(e),n=i=>Nw(t,i);return Object.assign(n,t),n},Rr=e=>Iw;function jw(e,t){let n;try{n=e()}catch{return}return{getItem:o=>{var l;const a=h=>h===null?null:JSON.parse(h,void 0),c=(l=n.getItem(o))!=null?l:null;return c instanceof Promise?c.then(a):a(c)},setItem:(o,l)=>n.setItem(o,JSON.stringify(l,void 0)),removeItem:o=>n.removeItem(o)}}const ud=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(i){return ud(i)(n)},catch(i){return this}}}catch(n){return{then(i){return this},catch(i){return ud(i)(n)}}}},Dw=(e,t)=>(n,i,o)=>{let l={storage:jw(()=>localStorage),partialize:b=>b,version:0,merge:(b,S)=>({...S,...b}),...t},a=!1;const c=new Set,h=new Set;let d=l.storage;if(!d)return e((...b)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),n(...b)},i,o);const g=()=>{const b=l.partialize({...i()});return d.setItem(l.name,{state:b,version:l.version})},m=o.setState;o.setState=(b,S)=>{m(b,S),g()};const v=e((...b)=>{n(...b),g()},i,o);o.getInitialState=()=>v;let y;const x=()=>{var b,S;if(!d)return;a=!1,c.forEach(w=>{var C;return w((C=i())!=null?C:v)});const k=((S=l.onRehydrateStorage)==null?void 0:S.call(l,(b=i())!=null?b:v))||void 0;return ud(d.getItem.bind(d))(l.name).then(w=>{if(w)if(typeof w.version=="number"&&w.version!==l.version){if(l.migrate){const C=l.migrate(w.state,w.version);return C instanceof Promise?C.then(M=>[!0,M]):[!0,C]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,w.state];return[!1,void 0]}).then(w=>{var C;const[M,P]=w;if(y=l.merge(P,(C=i())!=null?C:v),n(y,!0),M)return g()}).then(()=>{k==null||k(y,void 0),y=i(),a=!0,h.forEach(w=>w(y))}).catch(w=>{k==null||k(void 0,w)})};return o.persist={setOptions:b=>{l={...l,...b},b.storage&&(d=b.storage)},clearStorage:()=>{d==null||d.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>x(),hasHydrated:()=>a,onHydrate:b=>(c.add(b),()=>{c.delete(b)}),onFinishHydration:b=>(h.add(b),()=>{h.delete(b)})},l.skipHydration||x(),y||v},fc=Dw,rn=Rr()(e=>({doodler:void 0,cursor:void 0,doodles:[],setDoodler:t=>e(()=>({doodler:t})),setContainer:t=>e(()=>({container:t})),setCursor:t=>e(()=>({cursor:t})),setDoodles:t=>e(()=>({doodles:t}))})),ze=Rr()(fc(e=>({canvasColor:{r:249,g:250,b:251,a:1},throttleRate:1,selectedTool:"brush",activeTool:void 0,restoreTool:void 0,toolOption:"",isPanelOpen:!0,gridSize:20,gridType:"dots",gridColor:{r:0,g:0,b:0,a:.15},gridMinZoom:50,setSelectedTool:t=>e(()=>({selectedTool:t})),setActiveTool:t=>e(()=>({activeTool:t})),setRestoreTool:t=>e(()=>({restoreTool:t})),setToolOption:t=>e(()=>({toolOption:t})),setCanvasColor:t=>e(()=>({canvasColor:t})),setThrottleRate:t=>e(()=>({throttleRate:t})),setIsPanelOpen:t=>e(()=>({isPanelOpen:t})),setGridSize:t=>e(()=>({gridSize:t})),setGridType:t=>e(()=>({gridType:t})),setGridColor:t=>e(()=>({gridColor:t})),setGridMinZoom:t=>e(()=>({gridMinZoom:t}))}),{name:"options",version:1}));/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var zw={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=(e,t,n,i)=>{const o=E.forwardRef(({color:l="currentColor",size:a=24,stroke:c=2,title:h,className:d,children:g,...m},v)=>E.createElement("svg",{ref:v,...zw[e],width:a,height:a,className:["tabler-icon",`tabler-icon-${t}`,d].join(" "),strokeWidth:c,stroke:l,...m},[h&&E.createElement("title",{key:"svg-title"},h),...i.map(([y,x])=>E.createElement(y,x)),...Array.isArray(g)?g:[g]]));return o.displayName=`${n}`,o};/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bw=[["path",{d:"M21 19h-18l9 -15",key:"svg-0"}],["path",{d:"M20.615 15.171h.015",key:"svg-1"}],["path",{d:"M19.515 11.771h.015",key:"svg-2"}],["path",{d:"M17.715 8.671h.015",key:"svg-3"}],["path",{d:"M15.415 5.971h.015",key:"svg-4"}]],E_=Ne("outline","angle","Angle",Bw);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const $w=[["path",{d:"M9 14l-4 -4l4 -4",key:"svg-0"}],["path",{d:"M5 10h11a4 4 0 1 1 0 8h-1",key:"svg-1"}]],C_=Ne("outline","arrow-back-up","ArrowBackUp",$w);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uw=[["path",{d:"M15 14l4 -4l-4 -4",key:"svg-0"}],["path",{d:"M19 10h-11a4 4 0 1 0 0 8h1",key:"svg-1"}]],R_=Ne("outline","arrow-forward-up","ArrowForwardUp",Uw);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vw=[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M15 16l4 -4",key:"svg-1"}],["path",{d:"M15 8l4 4",key:"svg-2"}]],T_=Ne("outline","arrow-narrow-right","ArrowNarrowRight",Vw);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hw=[["path",{d:"M7 8l-4 4l4 4",key:"svg-0"}],["path",{d:"M17 8l4 4l-4 4",key:"svg-1"}],["path",{d:"M3 12l18 0",key:"svg-2"}]],Ww=Ne("outline","arrows-horizontal","ArrowsHorizontal",Hw);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yw=[["path",{d:"M4 20v-10a6 6 0 0 1 6 -6h10",key:"svg-0"}]],M_=Ne("outline","border-corner-rounded","BorderCornerRounded",Yw);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xw=[["path",{d:"M3 21v-4a4 4 0 1 1 4 4h-4",key:"svg-0"}],["path",{d:"M21 3a16 16 0 0 0 -12.8 10.2",key:"svg-1"}],["path",{d:"M21 3a16 16 0 0 1 -10.2 12.8",key:"svg-2"}],["path",{d:"M10.6 9a9 9 0 0 1 4.4 4.4",key:"svg-3"}]],Hd=Ne("outline","brush","Brush",Xw);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kw=[["path",{d:"M3 20l9 -7",key:"svg-0"}],["path",{d:"M12 3v10l9 7",key:"svg-1"}],["path",{d:"M17 12v.015",key:"svg-2"}],["path",{d:"M17 4.015v.015",key:"svg-3"}],["path",{d:"M21 8.015v.015",key:"svg-4"}],["path",{d:"M12 19.015v.015",key:"svg-5"}],["path",{d:"M3 12.015v.015",key:"svg-6"}],["path",{d:"M7 8.015v.015",key:"svg-7"}],["path",{d:"M3 4.015v.015",key:"svg-8"}]],qw=Ne("outline","chart-scatter-3d","ChartScatter3d",Kw);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gw=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}]],Qw=Ne("outline","circle","Circle",Gw);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zw=[["path",{d:"M6 4h10l4 4v10a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2",key:"svg-0"}],["path",{d:"M10 14a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M14 4l0 4l-6 0l0 -4",key:"svg-2"}]],Jw=Ne("outline","device-floppy","DeviceFloppy",Zw);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=[["path",{d:"M3 5h11",key:"svg-0"}],["path",{d:"M12 7l2 -2l-2 -2",key:"svg-1"}],["path",{d:"M5 3l-2 2l2 2",key:"svg-2"}],["path",{d:"M19 10v11",key:"svg-3"}],["path",{d:"M17 19l2 2l2 -2",key:"svg-4"}],["path",{d:"M21 12l-2 -2l-2 2",key:"svg-5"}],["path",{d:"M3 12a2 2 0 0 1 2 -2h7a2 2 0 0 1 2 2v7a2 2 0 0 1 -2 2h-7a2 2 0 0 1 -2 -2l0 -7",key:"svg-6"}]],t2=Ne("outline","dimensions","Dimensions",e2);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=[["path",{d:"M19 20h-10.5l-4.21 -4.3a1 1 0 0 1 0 -1.41l10 -10a1 1 0 0 1 1.41 0l5 5a1 1 0 0 1 0 1.41l-9.2 9.3",key:"svg-0"}],["path",{d:"M18 13.3l-6.3 -6.3",key:"svg-1"}]],r2=Ne("outline","eraser","Eraser",n2);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=[["path",{d:"M10.585 10.587a2 2 0 0 0 2.829 2.828",key:"svg-0"}],["path",{d:"M16.681 16.673a8.717 8.717 0 0 1 -4.681 1.327c-3.6 0 -6.6 -2 -9 -6c1.272 -2.12 2.712 -3.678 4.32 -4.674m2.86 -1.146a9.055 9.055 0 0 1 1.82 -.18c3.6 0 6.6 2 9 6c-.666 1.11 -1.379 2.067 -2.138 2.87",key:"svg-1"}],["path",{d:"M3 3l18 18",key:"svg-2"}]],s2=Ne("outline","eye-off","EyeOff",i2);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2",key:"svg-1"}],["path",{d:"M12 17v.01",key:"svg-2"}],["path",{d:"M12 14a1.5 1.5 0 1 0 -1.14 -2.474",key:"svg-3"}]],l2=Ne("outline","file-unknown","FileUnknown",o2);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=[["path",{d:"M11.5 12a.5 .5 0 1 0 1 0a.5 .5 0 1 0 -1 0",fill:"currentColor",key:"svg-0"}],["path",{d:"M5 12a7 7 0 1 0 14 0a7 7 0 1 0 -14 0",key:"svg-1"}],["path",{d:"M12 3l0 2",key:"svg-2"}],["path",{d:"M3 12l2 0",key:"svg-3"}],["path",{d:"M12 19l0 2",key:"svg-4"}],["path",{d:"M19 12l2 0",key:"svg-5"}]],u2=Ne("outline","focus-2","Focus2",a2);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=[["path",{d:"M4 5a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M11 5a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M18 5a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}],["path",{d:"M4 12a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-3"}],["path",{d:"M11 12a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-4"}],["path",{d:"M18 12a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-5"}],["path",{d:"M4 19a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-6"}],["path",{d:"M11 19a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-7"}],["path",{d:"M18 19a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-8"}]],uy=Ne("outline","grid-dots","GridDots",c2);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=[["path",{d:"M8 13v-7.5a1.5 1.5 0 0 1 3 0v6.5",key:"svg-0"}],["path",{d:"M11 5.5v-2a1.5 1.5 0 1 1 3 0v8.5",key:"svg-1"}],["path",{d:"M14 5.5a1.5 1.5 0 0 1 3 0v6.5",key:"svg-2"}],["path",{d:"M17 7.5a1.5 1.5 0 0 1 3 0v8.5a6 6 0 0 1 -6 6h-2h.208a6 6 0 0 1 -5.012 -2.7a69.74 69.74 0 0 1 -.196 -.3c-.312 -.479 -1.407 -2.388 -3.286 -5.728a1.5 1.5 0 0 1 .536 -2.022a1.867 1.867 0 0 1 2.28 .28l1.47 1.47",key:"svg-3"}]],h2=Ne("outline","hand-stop","HandStop",f2);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=[["path",{d:"M4 5a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1l0 -4",key:"svg-0"}],["path",{d:"M14 5a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1l0 -4",key:"svg-1"}],["path",{d:"M4 15a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1l0 -4",key:"svg-2"}],["path",{d:"M14 15a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1l0 -4",key:"svg-3"}]],p2=Ne("outline","layout-grid","LayoutGrid",d2);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=[["path",{d:"M6 4l12 0",key:"svg-0"}],["path",{d:"M12 4l0 16",key:"svg-1"}]],Wd=Ne("outline","letter-t","LetterT",g2);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=[["path",{d:"M4 18a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-0"}],["path",{d:"M16 6a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M7.5 16.5l9 -9",key:"svg-2"}]],hc=Ne("outline","line","Line",m2);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=[["path",{d:"M4 6l16 0",key:"svg-0"}],["path",{d:"M4 12l16 0",key:"svg-1"}],["path",{d:"M4 18l16 0",key:"svg-2"}]],_2=Ne("outline","menu-2","Menu2",y2);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2=[["path",{d:"M16 17a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M6 7a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M6 18l12 -12",key:"svg-2"}]],x2=Ne("outline","percentage","Percentage",v2);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2=[["path",{d:"M7.904 17.563a1.2 1.2 0 0 0 2.228 .308l2.09 -3.093l4.907 4.907a1.067 1.067 0 0 0 1.509 0l1.047 -1.047a1.067 1.067 0 0 0 0 -1.509l-4.907 -4.907l3.113 -2.09a1.2 1.2 0 0 0 -.309 -2.228l-13.582 -3.904l3.904 13.563",key:"svg-0"}]],b2=Ne("outline","pointer","Pointer",w2);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=[["path",{d:"M3 7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-10",key:"svg-0"}]],S2=Ne("outline","rectangle","Rectangle",k2);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2=[["path",{d:"M12 19.875c0 .621 -.512 1.125 -1.143 1.125h-5.714a1.134 1.134 0 0 1 -1.143 -1.125v-15.875a1 1 0 0 1 1 -1h5.857c.631 0 1.143 .504 1.143 1.125l0 15.75",key:"svg-0"}],["path",{d:"M12 9h-2",key:"svg-1"}],["path",{d:"M12 6h-3",key:"svg-2"}],["path",{d:"M12 12h-3",key:"svg-3"}],["path",{d:"M12 18h-3",key:"svg-4"}],["path",{d:"M12 15h-2",key:"svg-5"}],["path",{d:"M21 3h-4",key:"svg-6"}],["path",{d:"M19 3v18",key:"svg-7"}],["path",{d:"M21 21h-4",key:"svg-8"}]],C2=Ne("outline","ruler-measure-2","RulerMeasure2",E2);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=[["path",{d:"M19.875 12c.621 0 1.125 .512 1.125 1.143v5.714c0 .631 -.504 1.143 -1.125 1.143h-15.875a1 1 0 0 1 -1 -1v-5.857c0 -.631 .504 -1.143 1.125 -1.143h15.75",key:"svg-0"}],["path",{d:"M9 12v2",key:"svg-1"}],["path",{d:"M6 12v3",key:"svg-2"}],["path",{d:"M12 12v3",key:"svg-3"}],["path",{d:"M18 12v3",key:"svg-4"}],["path",{d:"M15 12v2",key:"svg-5"}],["path",{d:"M3 3v4",key:"svg-6"}],["path",{d:"M3 5h18",key:"svg-7"}],["path",{d:"M21 3v4",key:"svg-8"}]],T2=Ne("outline","ruler-measure","RulerMeasure",R2);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=[["path",{d:"M8 9l4 -4l4 4",key:"svg-0"}],["path",{d:"M16 15l-4 4l-4 -4",key:"svg-1"}]],A2=Ne("outline","selector","Selector",M2);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=[["path",{d:"M4 5.205v13.59a1 1 0 0 0 1.184 .983l14 -2.625a1 1 0 0 0 .816 -.983v-8.34a1 1 0 0 0 -.816 -.983l-14 -2.625a1 1 0 0 0 -1.184 .983",key:"svg-0"}]],O2=Ne("outline","skew-x","SkewX",P2);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=[["path",{d:"M4.326 19h15.348a1 1 0 0 0 .962 -1.275l-3.429 -12a1 1 0 0 0 -.961 -.725h-8.492a1 1 0 0 0 -.961 .725l-3.429 12a1 1 0 0 0 .962 1.275",key:"svg-0"}]],F2=Ne("outline","skew-y","SkewY",L2);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=[["path",{d:"M3 5a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-14",key:"svg-0"}],["path",{d:"M10 8l4 8",key:"svg-1"}],["path",{d:"M10 16l4 -8",key:"svg-2"}]],I2=Ne("outline","square-letter-x","SquareLetterX",N2);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=[["path",{d:"M3 5a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-14",key:"svg-0"}],["path",{d:"M10 8l2 5l2 -5",key:"svg-1"}],["path",{d:"M12 16v-3",key:"svg-2"}]],D2=Ne("outline","square-letter-y","SquareLetterY",j2);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=[["path",{d:"M3 5a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-14",key:"svg-0"}]],A_=Ne("outline","square","Square",z2);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=[["path",{d:"M3 15a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1l0 -2",key:"svg-0"}],["path",{d:"M17 15a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1l0 -2",key:"svg-1"}],["path",{d:"M10 7a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1l0 -2",key:"svg-2"}],["path",{d:"M10 8.5a6 6 0 0 0 -5 5.5",key:"svg-3"}],["path",{d:"M14 8.5a6 6 0 0 1 5 5.5",key:"svg-4"}],["path",{d:"M10 8l-6 0",key:"svg-5"}],["path",{d:"M20 8l-6 0",key:"svg-6"}],["path",{d:"M2 8a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-7"}],["path",{d:"M20 8a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-8"}]],P_=Ne("outline","vector-bezier","VectorBezier",B2);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=[["path",{d:"M17 4a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1l0 -2",key:"svg-0"}],["path",{d:"M3 18a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1l0 -2",key:"svg-1"}],["path",{d:"M17 5c-6.627 0 -12 5.373 -12 12",key:"svg-2"}]],U2=Ne("outline","vector-spline","VectorSpline",$2);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=[["path",{d:"M10 5a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1l0 -2",key:"svg-0"}],["path",{d:"M3 18a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1l0 -2",key:"svg-1"}],["path",{d:"M17 18a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1l0 -2",key:"svg-2"}],["path",{d:"M6.5 17.1l5 -9.1",key:"svg-3"}],["path",{d:"M17.5 17.1l-5 -9.1",key:"svg-4"}],["path",{d:"M7 19l10 0",key:"svg-5"}]],H2=Ne("outline","vector-triangle","VectorTriangle",V2);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=[["path",{d:"M21 12h-2c-.894 0 -1.662 -.857 -1.761 -2c-.296 -3.45 -.749 -6 -2.749 -6s-2.5 3.582 -2.5 8s-.5 8 -2.5 8s-2.452 -2.547 -2.749 -6c-.1 -1.147 -.867 -2 -1.763 -2h-2",key:"svg-0"}]],O_=Ne("outline","wave-sine","WaveSine",W2);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=[["path",{d:"M3 10a7 7 0 1 0 14 0a7 7 0 1 0 -14 0",key:"svg-0"}],["path",{d:"M7 10l6 0",key:"svg-1"}],["path",{d:"M21 21l-6 -6",key:"svg-2"}]],X2=Ne("outline","zoom-out","ZoomOut",Y2);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=[["path",{d:"M3 10a7 7 0 1 0 14 0a7 7 0 1 0 -14 0",key:"svg-0"}],["path",{d:"M21 21l-6 -6",key:"svg-1"}]],q2=Ne("outline","zoom","Zoom",K2);function dc(){return typeof window<"u"}function ns(e){return L_(e)?(e.nodeName||"").toLowerCase():"#document"}function An(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Xr(e){var t;return(t=(L_(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function L_(e){return dc()?e instanceof Node||e instanceof An(e).Node:!1}function Qe(e){return dc()?e instanceof Element||e instanceof An(e).Element:!1}function Mt(e){return dc()?e instanceof HTMLElement||e instanceof An(e).HTMLElement:!1}function cd(e){return!dc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof An(e).ShadowRoot}function ra(e){const{overflow:t,overflowX:n,overflowY:i,display:o}=fr(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+n)&&!["inline","contents"].includes(o)}function G2(e){return["table","td","th"].includes(ns(e))}function pc(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Yd(e){const t=gc(),n=Qe(e)?fr(e):e;return["transform","translate","scale","rotate","perspective"].some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(i=>(n.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(n.contain||"").includes(i))}function Q2(e){let t=yi(e);for(;Mt(t)&&!Zi(t);){if(Yd(t))return t;if(pc(t))return null;t=yi(t)}return null}function gc(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Zi(e){return["html","body","#document"].includes(ns(e))}function fr(e){return An(e).getComputedStyle(e)}function mc(e){return Qe(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function yi(e){if(ns(e)==="html")return e;const t=e.assignedSlot||e.parentNode||cd(e)&&e.host||Xr(e);return cd(t)?t.host:t}function F_(e){const t=yi(e);return Zi(t)?e.ownerDocument?e.ownerDocument.body:e.body:Mt(t)&&ra(t)?t:F_(t)}function Qi(e,t,n){var i;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=F_(e),l=o===((i=e.ownerDocument)==null?void 0:i.body),a=An(o);if(l){const c=fd(a);return t.concat(a,a.visualViewport||[],ra(o)?o:[],c&&n?Qi(c):[])}return t.concat(o,Qi(o,[],n))}function fd(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function di(e){let t=e.activeElement;for(;((n=t)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;t=t.shadowRoot.activeElement}return t}function Zt(e,t){if(!e||!t)return!1;const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&cd(n)){let i=t;for(;i;){if(e===i)return!0;i=i.parentNode||i.host}}return!1}function N_(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function I_(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:i}=t;return n+"/"+i}).join(" "):navigator.userAgent}function Z2(e){return e.mozInputSource===0&&e.isTrusted?!0:hd()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function j_(e){return eb()?!1:!hd()&&e.width===0&&e.height===0||hd()&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType==="touch"}function D_(){return/apple/i.test(navigator.vendor)}function hd(){const e=/android/i;return e.test(N_())||e.test(I_())}function J2(){return N_().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function eb(){return I_().includes("jsdom/")}function Gl(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function tb(e){return"nativeEvent"in e}function nb(e){return e.matches("html,body")}function Jt(e){return(e==null?void 0:e.ownerDocument)||document}function Mh(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function Wi(e){return"composedPath"in e?e.composedPath()[0]:e.target}const rb="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function Xd(e){return Mt(e)&&e.matches(rb)}function Ah(e){e.preventDefault(),e.stopPropagation()}function ib(e){return e?e.getAttribute("role")==="combobox"&&Xd(e):!1}const Yu=Math.min,Ps=Math.max,Xu=Math.round,Eu=Math.floor,$r=e=>({x:e,y:e}),sb={left:"right",right:"left",bottom:"top",top:"bottom"},ob={start:"end",end:"start"};function cy(e,t,n){return Ps(e,Yu(t,n))}function yc(e,t){return typeof e=="function"?e(t):e}function Ns(e){return e.split("-")[0]}function _c(e){return e.split("-")[1]}function z_(e){return e==="x"?"y":"x"}function B_(e){return e==="y"?"height":"width"}function Do(e){return["top","bottom"].includes(Ns(e))?"y":"x"}function $_(e){return z_(Do(e))}function lb(e,t,n){n===void 0&&(n=!1);const i=_c(e),o=$_(e),l=B_(o);let a=o==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[l]>t.floating[l]&&(a=Ku(a)),[a,Ku(a)]}function ab(e){const t=Ku(e);return[dd(e),t,dd(t)]}function dd(e){return e.replace(/start|end/g,t=>ob[t])}function ub(e,t,n){const i=["left","right"],o=["right","left"],l=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:i:t?i:o;case"left":case"right":return t?l:a;default:return[]}}function cb(e,t,n,i){const o=_c(e);let l=ub(Ns(e),n==="start",i);return o&&(l=l.map(a=>a+"-"+o),t&&(l=l.concat(l.map(dd)))),l}function Ku(e){return e.replace(/left|right|bottom|top/g,t=>sb[t])}function fb(e){return{top:0,right:0,bottom:0,left:0,...e}}function hb(e){return typeof e!="number"?fb(e):{top:e,right:e,bottom:e,left:e}}function qu(e){const{x:t,y:n,width:i,height:o}=e;return{width:i,height:o,top:n,left:t,right:t+i,bottom:n+o,x:t,y:n}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var db=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Gu=db.join(","),U_=typeof Element>"u",zo=U_?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Qu=!U_&&Element.prototype.getRootNode?function(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}:function(e){return e==null?void 0:e.ownerDocument},Zu=function e(t,n){var i;n===void 0&&(n=!0);var o=t==null||(i=t.getAttribute)===null||i===void 0?void 0:i.call(t,"inert"),l=o===""||o==="true",a=l||n&&t&&e(t.parentNode);return a},pb=function(t){var n,i=t==null||(n=t.getAttribute)===null||n===void 0?void 0:n.call(t,"contenteditable");return i===""||i==="true"},gb=function(t,n,i){if(Zu(t))return[];var o=Array.prototype.slice.apply(t.querySelectorAll(Gu));return n&&zo.call(t,Gu)&&o.unshift(t),o=o.filter(i),o},mb=function e(t,n,i){for(var o=[],l=Array.from(t);l.length;){var a=l.shift();if(!Zu(a,!1))if(a.tagName==="SLOT"){var c=a.assignedElements(),h=c.length?c:a.children,d=e(h,!0,i);i.flatten?o.push.apply(o,d):o.push({scopeParent:a,candidates:d})}else{var g=zo.call(a,Gu);g&&i.filter(a)&&(n||!t.includes(a))&&o.push(a);var m=a.shadowRoot||typeof i.getShadowRoot=="function"&&i.getShadowRoot(a),v=!Zu(m,!1)&&(!i.shadowRootFilter||i.shadowRootFilter(a));if(m&&v){var y=e(m===!0?a.children:m.children,!0,i);i.flatten?o.push.apply(o,y):o.push({scopeParent:a,candidates:y})}else l.unshift.apply(l,a.children)}}return o},V_=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},H_=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||pb(t))&&!V_(t)?0:t.tabIndex},yb=function(t,n){var i=H_(t);return i<0&&n&&!V_(t)?0:i},_b=function(t,n){return t.tabIndex===n.tabIndex?t.documentOrder-n.documentOrder:t.tabIndex-n.tabIndex},W_=function(t){return t.tagName==="INPUT"},vb=function(t){return W_(t)&&t.type==="hidden"},xb=function(t){var n=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(i){return i.tagName==="SUMMARY"});return n},wb=function(t,n){for(var i=0;i<t.length;i++)if(t[i].checked&&t[i].form===n)return t[i]},bb=function(t){if(!t.name)return!0;var n=t.form||Qu(t),i=function(c){return n.querySelectorAll('input[type="radio"][name="'+c+'"]')},o;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")o=i(window.CSS.escape(t.name));else try{o=i(t.name)}catch(a){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",a.message),!1}var l=wb(o,t.form);return!l||l===t},kb=function(t){return W_(t)&&t.type==="radio"},Sb=function(t){return kb(t)&&!bb(t)},Eb=function(t){var n,i=t&&Qu(t),o=(n=i)===null||n===void 0?void 0:n.host,l=!1;if(i&&i!==t){var a,c,h;for(l=!!((a=o)!==null&&a!==void 0&&(c=a.ownerDocument)!==null&&c!==void 0&&c.contains(o)||t!=null&&(h=t.ownerDocument)!==null&&h!==void 0&&h.contains(t));!l&&o;){var d,g,m;i=Qu(o),o=(d=i)===null||d===void 0?void 0:d.host,l=!!((g=o)!==null&&g!==void 0&&(m=g.ownerDocument)!==null&&m!==void 0&&m.contains(o))}}return l},fy=function(t){var n=t.getBoundingClientRect(),i=n.width,o=n.height;return i===0&&o===0},Cb=function(t,n){var i=n.displayCheck,o=n.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var l=zo.call(t,"details>summary:first-of-type"),a=l?t.parentElement:t;if(zo.call(a,"details:not([open]) *"))return!0;if(!i||i==="full"||i==="legacy-full"){if(typeof o=="function"){for(var c=t;t;){var h=t.parentElement,d=Qu(t);if(h&&!h.shadowRoot&&o(h)===!0)return fy(t);t.assignedSlot?t=t.assignedSlot:!h&&d!==t.ownerDocument?t=d.host:t=h}t=c}if(Eb(t))return!t.getClientRects().length;if(i!=="legacy-full")return!0}else if(i==="non-zero-area")return fy(t);return!1},Rb=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var n=t.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var i=0;i<n.children.length;i++){var o=n.children.item(i);if(o.tagName==="LEGEND")return zo.call(n,"fieldset[disabled] *")?!0:!o.contains(t)}return!0}n=n.parentElement}return!1},Tb=function(t,n){return!(n.disabled||Zu(n)||vb(n)||Cb(n,t)||xb(n)||Rb(n))},pd=function(t,n){return!(Sb(n)||H_(n)<0||!Tb(t,n))},Mb=function(t){var n=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},Ab=function e(t){var n=[],i=[];return t.forEach(function(o,l){var a=!!o.scopeParent,c=a?o.scopeParent:o,h=yb(c,a),d=a?e(o.candidates):c;h===0?a?n.push.apply(n,d):n.push(c):i.push({documentOrder:l,tabIndex:h,item:o,isScope:a,content:d})}),i.sort(_b).reduce(function(o,l){return l.isScope?o.push.apply(o,l.content):o.push(l.content),o},[]).concat(n)},vc=function(t,n){n=n||{};var i;return n.getShadowRoot?i=mb([t],n.includeContainer,{filter:pd.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:Mb}):i=gb(t,n.includeContainer,pd.bind(null,n)),Ab(i)},Pb=function(t,n){if(n=n||{},!t)throw new Error("No node provided");return zo.call(t,Gu)===!1?!1:pd(n,t)},Kd=S_();function hy(e,t,n){let{reference:i,floating:o}=e;const l=Do(t),a=$_(t),c=B_(a),h=Ns(t),d=l==="y",g=i.x+i.width/2-o.width/2,m=i.y+i.height/2-o.height/2,v=i[c]/2-o[c]/2;let y;switch(h){case"top":y={x:g,y:i.y-o.height};break;case"bottom":y={x:g,y:i.y+i.height};break;case"right":y={x:i.x+i.width,y:m};break;case"left":y={x:i.x-o.width,y:m};break;default:y={x:i.x,y:i.y}}switch(_c(t)){case"start":y[a]-=v*(n&&d?-1:1);break;case"end":y[a]+=v*(n&&d?-1:1);break}return y}const Ob=async(e,t,n)=>{const{placement:i="bottom",strategy:o="absolute",middleware:l=[],platform:a}=n,c=l.filter(Boolean),h=await(a.isRTL==null?void 0:a.isRTL(t));let d=await a.getElementRects({reference:e,floating:t,strategy:o}),{x:g,y:m}=hy(d,i,h),v=i,y={},x=0;for(let b=0;b<c.length;b++){const{name:S,fn:k}=c[b],{x:w,y:C,data:M,reset:P}=await k({x:g,y:m,initialPlacement:i,placement:v,strategy:o,middlewareData:y,rects:d,platform:a,elements:{reference:e,floating:t}});g=w??g,m=C??m,y={...y,[S]:{...y[S],...M}},P&&x<=50&&(x++,typeof P=="object"&&(P.placement&&(v=P.placement),P.rects&&(d=P.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:o}):P.rects),{x:g,y:m}=hy(d,v,h)),b=-1)}return{x:g,y:m,placement:v,strategy:o,middlewareData:y}};async function Y_(e,t){var n;t===void 0&&(t={});const{x:i,y:o,platform:l,rects:a,elements:c,strategy:h}=e,{boundary:d="clippingAncestors",rootBoundary:g="viewport",elementContext:m="floating",altBoundary:v=!1,padding:y=0}=yc(t,e),x=hb(y),S=c[v?m==="floating"?"reference":"floating":m],k=qu(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(S)))==null||n?S:S.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(c.floating)),boundary:d,rootBoundary:g,strategy:h})),w=m==="floating"?{x:i,y:o,width:a.floating.width,height:a.floating.height}:a.reference,C=await(l.getOffsetParent==null?void 0:l.getOffsetParent(c.floating)),M=await(l.isElement==null?void 0:l.isElement(C))?await(l.getScale==null?void 0:l.getScale(C))||{x:1,y:1}:{x:1,y:1},P=qu(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:w,offsetParent:C,strategy:h}):w);return{top:(k.top-P.top+x.top)/M.y,bottom:(P.bottom-k.bottom+x.bottom)/M.y,left:(k.left-P.left+x.left)/M.x,right:(P.right-k.right+x.right)/M.x}}const Lb=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,i;const{placement:o,middlewareData:l,rects:a,initialPlacement:c,platform:h,elements:d}=t,{mainAxis:g=!0,crossAxis:m=!0,fallbackPlacements:v,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:b=!0,...S}=yc(e,t);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const k=Ns(o),w=Do(c),C=Ns(c)===c,M=await(h.isRTL==null?void 0:h.isRTL(d.floating)),P=v||(C||!b?[Ku(c)]:ab(c)),N=x!=="none";!v&&N&&P.push(...cb(c,b,x,M));const j=[c,...P],X=await Y_(t,S),z=[];let W=((i=l.flip)==null?void 0:i.overflows)||[];if(g&&z.push(X[k]),m){const te=lb(o,a,M);z.push(X[te[0]],X[te[1]])}if(W=[...W,{placement:o,overflows:z}],!z.every(te=>te<=0)){var K,q;const te=(((K=l.flip)==null?void 0:K.index)||0)+1,re=j[te];if(re)return{data:{index:te,overflows:W},reset:{placement:re}};let ue=(q=W.filter(Z=>Z.overflows[0]<=0).sort((Z,D)=>Z.overflows[1]-D.overflows[1])[0])==null?void 0:q.placement;if(!ue)switch(y){case"bestFit":{var ae;const Z=(ae=W.filter(D=>{if(N){const $=Do(D.placement);return $===w||$==="y"}return!0}).map(D=>[D.placement,D.overflows.filter($=>$>0).reduce(($,G)=>$+G,0)]).sort((D,$)=>D[1]-$[1])[0])==null?void 0:ae[0];Z&&(ue=Z);break}case"initialPlacement":ue=c;break}if(o!==ue)return{reset:{placement:ue}}}return{}}}};async function Fb(e,t){const{placement:n,platform:i,elements:o}=e,l=await(i.isRTL==null?void 0:i.isRTL(o.floating)),a=Ns(n),c=_c(n),h=Do(n)==="y",d=["left","top"].includes(a)?-1:1,g=l&&h?-1:1,m=yc(t,e);let{mainAxis:v,crossAxis:y,alignmentAxis:x}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return c&&typeof x=="number"&&(y=c==="end"?x*-1:x),h?{x:y*g,y:v*d}:{x:v*d,y:y*g}}const Nb=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,i;const{x:o,y:l,placement:a,middlewareData:c}=t,h=await Fb(t,e);return a===((n=c.offset)==null?void 0:n.placement)&&(i=c.arrow)!=null&&i.alignmentOffset?{}:{x:o+h.x,y:l+h.y,data:{...h,placement:a}}}}},Ib=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:i,placement:o}=t,{mainAxis:l=!0,crossAxis:a=!1,limiter:c={fn:S=>{let{x:k,y:w}=S;return{x:k,y:w}}},...h}=yc(e,t),d={x:n,y:i},g=await Y_(t,h),m=Do(Ns(o)),v=z_(m);let y=d[v],x=d[m];if(l){const S=v==="y"?"top":"left",k=v==="y"?"bottom":"right",w=y+g[S],C=y-g[k];y=cy(w,y,C)}if(a){const S=m==="y"?"top":"left",k=m==="y"?"bottom":"right",w=x+g[S],C=x-g[k];x=cy(w,x,C)}const b=c.fn({...t,[v]:y,[m]:x});return{...b,data:{x:b.x-n,y:b.y-i,enabled:{[v]:l,[m]:a}}}}}};function X_(e){const t=fr(e);let n=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const o=Mt(e),l=o?e.offsetWidth:n,a=o?e.offsetHeight:i,c=Xu(n)!==l||Xu(i)!==a;return c&&(n=l,i=a),{width:n,height:i,$:c}}function qd(e){return Qe(e)?e:e.contextElement}function Lo(e){const t=qd(e);if(!Mt(t))return $r(1);const n=t.getBoundingClientRect(),{width:i,height:o,$:l}=X_(t);let a=(l?Xu(n.width):n.width)/i,c=(l?Xu(n.height):n.height)/o;return(!a||!Number.isFinite(a))&&(a=1),(!c||!Number.isFinite(c))&&(c=1),{x:a,y:c}}const jb=$r(0);function K_(e){const t=An(e);return!gc()||!t.visualViewport?jb:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Db(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==An(e)?!1:t}function Is(e,t,n,i){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),l=qd(e);let a=$r(1);t&&(i?Qe(i)&&(a=Lo(i)):a=Lo(e));const c=Db(l,n,i)?K_(l):$r(0);let h=(o.left+c.x)/a.x,d=(o.top+c.y)/a.y,g=o.width/a.x,m=o.height/a.y;if(l){const v=An(l),y=i&&Qe(i)?An(i):i;let x=v,b=fd(x);for(;b&&i&&y!==x;){const S=Lo(b),k=b.getBoundingClientRect(),w=fr(b),C=k.left+(b.clientLeft+parseFloat(w.paddingLeft))*S.x,M=k.top+(b.clientTop+parseFloat(w.paddingTop))*S.y;h*=S.x,d*=S.y,g*=S.x,m*=S.y,h+=C,d+=M,x=An(b),b=fd(x)}}return qu({width:g,height:m,x:h,y:d})}function Gd(e,t){const n=mc(e).scrollLeft;return t?t.left+n:Is(Xr(e)).left+n}function q_(e,t,n){n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=i.left+t.scrollLeft-(n?0:Gd(e,i)),l=i.top+t.scrollTop;return{x:o,y:l}}function zb(e){let{elements:t,rect:n,offsetParent:i,strategy:o}=e;const l=o==="fixed",a=Xr(i),c=t?pc(t.floating):!1;if(i===a||c&&l)return n;let h={scrollLeft:0,scrollTop:0},d=$r(1);const g=$r(0),m=Mt(i);if((m||!m&&!l)&&((ns(i)!=="body"||ra(a))&&(h=mc(i)),Mt(i))){const y=Is(i);d=Lo(i),g.x=y.x+i.clientLeft,g.y=y.y+i.clientTop}const v=a&&!m&&!l?q_(a,h,!0):$r(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-h.scrollLeft*d.x+g.x+v.x,y:n.y*d.y-h.scrollTop*d.y+g.y+v.y}}function Bb(e){return Array.from(e.getClientRects())}function $b(e){const t=Xr(e),n=mc(e),i=e.ownerDocument.body,o=Ps(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),l=Ps(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let a=-n.scrollLeft+Gd(e);const c=-n.scrollTop;return fr(i).direction==="rtl"&&(a+=Ps(t.clientWidth,i.clientWidth)-o),{width:o,height:l,x:a,y:c}}function Ub(e,t){const n=An(e),i=Xr(e),o=n.visualViewport;let l=i.clientWidth,a=i.clientHeight,c=0,h=0;if(o){l=o.width,a=o.height;const d=gc();(!d||d&&t==="fixed")&&(c=o.offsetLeft,h=o.offsetTop)}return{width:l,height:a,x:c,y:h}}function Vb(e,t){const n=Is(e,!0,t==="fixed"),i=n.top+e.clientTop,o=n.left+e.clientLeft,l=Mt(e)?Lo(e):$r(1),a=e.clientWidth*l.x,c=e.clientHeight*l.y,h=o*l.x,d=i*l.y;return{width:a,height:c,x:h,y:d}}function dy(e,t,n){let i;if(t==="viewport")i=Ub(e,n);else if(t==="document")i=$b(Xr(e));else if(Qe(t))i=Vb(t,n);else{const o=K_(e);i={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return qu(i)}function G_(e,t){const n=yi(e);return n===t||!Qe(n)||Zi(n)?!1:fr(n).position==="fixed"||G_(n,t)}function Hb(e,t){const n=t.get(e);if(n)return n;let i=Qi(e,[],!1).filter(c=>Qe(c)&&ns(c)!=="body"),o=null;const l=fr(e).position==="fixed";let a=l?yi(e):e;for(;Qe(a)&&!Zi(a);){const c=fr(a),h=Yd(a);!h&&c.position==="fixed"&&(o=null),(l?!h&&!o:!h&&c.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||ra(a)&&!h&&G_(e,a))?i=i.filter(g=>g!==a):o=c,a=yi(a)}return t.set(e,i),i}function Wb(e){let{element:t,boundary:n,rootBoundary:i,strategy:o}=e;const a=[...n==="clippingAncestors"?pc(t)?[]:Hb(t,this._c):[].concat(n),i],c=a[0],h=a.reduce((d,g)=>{const m=dy(t,g,o);return d.top=Ps(m.top,d.top),d.right=Yu(m.right,d.right),d.bottom=Yu(m.bottom,d.bottom),d.left=Ps(m.left,d.left),d},dy(t,c,o));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function Yb(e){const{width:t,height:n}=X_(e);return{width:t,height:n}}function Xb(e,t,n){const i=Mt(t),o=Xr(t),l=n==="fixed",a=Is(e,!0,l,t);let c={scrollLeft:0,scrollTop:0};const h=$r(0);if(i||!i&&!l)if((ns(t)!=="body"||ra(o))&&(c=mc(t)),i){const v=Is(t,!0,l,t);h.x=v.x+t.clientLeft,h.y=v.y+t.clientTop}else o&&(h.x=Gd(o));const d=o&&!i&&!l?q_(o,c):$r(0),g=a.left+c.scrollLeft-h.x-d.x,m=a.top+c.scrollTop-h.y-d.y;return{x:g,y:m,width:a.width,height:a.height}}function Ph(e){return fr(e).position==="static"}function py(e,t){if(!Mt(e)||fr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Xr(e)===n&&(n=n.ownerDocument.body),n}function Q_(e,t){const n=An(e);if(pc(e))return n;if(!Mt(e)){let o=yi(e);for(;o&&!Zi(o);){if(Qe(o)&&!Ph(o))return o;o=yi(o)}return n}let i=py(e,t);for(;i&&G2(i)&&Ph(i);)i=py(i,t);return i&&Zi(i)&&Ph(i)&&!Yd(i)?n:i||Q2(e)||n}const Kb=async function(e){const t=this.getOffsetParent||Q_,n=this.getDimensions,i=await n(e.floating);return{reference:Xb(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function qb(e){return fr(e).direction==="rtl"}const Gb={convertOffsetParentRelativeRectToViewportRelativeRect:zb,getDocumentElement:Xr,getClippingRect:Wb,getOffsetParent:Q_,getElementRects:Kb,getClientRects:Bb,getDimensions:Yb,getScale:Lo,isElement:Qe,isRTL:qb};function Z_(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Qb(e,t){let n=null,i;const o=Xr(e);function l(){var c;clearTimeout(i),(c=n)==null||c.disconnect(),n=null}function a(c,h){c===void 0&&(c=!1),h===void 0&&(h=1),l();const d=e.getBoundingClientRect(),{left:g,top:m,width:v,height:y}=d;if(c||t(),!v||!y)return;const x=Eu(m),b=Eu(o.clientWidth-(g+v)),S=Eu(o.clientHeight-(m+y)),k=Eu(g),C={rootMargin:-x+"px "+-b+"px "+-S+"px "+-k+"px",threshold:Ps(0,Yu(1,h))||1};let M=!0;function P(N){const j=N[0].intersectionRatio;if(j!==h){if(!M)return a();j?a(!1,j):i=setTimeout(()=>{a(!1,1e-7)},1e3)}j===1&&!Z_(d,e.getBoundingClientRect())&&a(),M=!1}try{n=new IntersectionObserver(P,{...C,root:o.ownerDocument})}catch{n=new IntersectionObserver(P,C)}n.observe(e)}return a(!0),l}function J_(e,t,n,i){i===void 0&&(i={});const{ancestorScroll:o=!0,ancestorResize:l=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:h=!1}=i,d=qd(e),g=o||l?[...d?Qi(d):[],...Qi(t)]:[];g.forEach(k=>{o&&k.addEventListener("scroll",n,{passive:!0}),l&&k.addEventListener("resize",n)});const m=d&&c?Qb(d,n):null;let v=-1,y=null;a&&(y=new ResizeObserver(k=>{let[w]=k;w&&w.target===d&&y&&(y.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var C;(C=y)==null||C.observe(t)})),n()}),d&&!h&&y.observe(d),y.observe(t));let x,b=h?Is(e):null;h&&S();function S(){const k=Is(e);b&&!Z_(b,k)&&n(),b=k,x=requestAnimationFrame(S)}return n(),()=>{var k;g.forEach(w=>{o&&w.removeEventListener("scroll",n),l&&w.removeEventListener("resize",n)}),m==null||m(),(k=y)==null||k.disconnect(),y=null,h&&cancelAnimationFrame(x)}}const Zb=Nb,Jb=Ib,ek=Lb,tk=(e,t,n)=>{const i=new Map,o={platform:Gb,...n},l={...o.platform,_c:i};return Ob(e,t,{...o,platform:l})};var zu=typeof document<"u"?E.useLayoutEffect:E.useEffect;function Ju(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,i,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(i=n;i--!==0;)if(!Ju(e[i],t[i]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(i=n;i--!==0;)if(!{}.hasOwnProperty.call(t,o[i]))return!1;for(i=n;i--!==0;){const l=o[i];if(!(l==="_owner"&&e.$$typeof)&&!Ju(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}function ev(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function gy(e,t){const n=ev(e);return Math.round(t*n)/n}function Oh(e){const t=E.useRef(e);return zu(()=>{t.current=e}),t}function nk(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:i=[],platform:o,elements:{reference:l,floating:a}={},transform:c=!0,whileElementsMounted:h,open:d}=e,[g,m]=E.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[v,y]=E.useState(i);Ju(v,i)||y(i);const[x,b]=E.useState(null),[S,k]=E.useState(null),w=E.useCallback(D=>{D!==N.current&&(N.current=D,b(D))},[]),C=E.useCallback(D=>{D!==j.current&&(j.current=D,k(D))},[]),M=l||x,P=a||S,N=E.useRef(null),j=E.useRef(null),X=E.useRef(g),z=h!=null,W=Oh(h),K=Oh(o),q=Oh(d),ae=E.useCallback(()=>{if(!N.current||!j.current)return;const D={placement:t,strategy:n,middleware:v};K.current&&(D.platform=K.current),tk(N.current,j.current,D).then($=>{const G={...$,isPositioned:q.current!==!1};te.current&&!Ju(X.current,G)&&(X.current=G,Kd.flushSync(()=>{m(G)}))})},[v,t,n,K,q]);zu(()=>{d===!1&&X.current.isPositioned&&(X.current.isPositioned=!1,m(D=>({...D,isPositioned:!1})))},[d]);const te=E.useRef(!1);zu(()=>(te.current=!0,()=>{te.current=!1}),[]),zu(()=>{if(M&&(N.current=M),P&&(j.current=P),M&&P){if(W.current)return W.current(M,P,ae);ae()}},[M,P,ae,W,z]);const re=E.useMemo(()=>({reference:N,floating:j,setReference:w,setFloating:C}),[w,C]),ue=E.useMemo(()=>({reference:M,floating:P}),[M,P]),Z=E.useMemo(()=>{const D={position:n,left:0,top:0};if(!ue.floating)return D;const $=gy(ue.floating,g.x),G=gy(ue.floating,g.y);return c?{...D,transform:"translate("+$+"px, "+G+"px)",...ev(ue.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:$,top:G}},[n,c,ue.floating,g.x,g.y]);return E.useMemo(()=>({...g,update:ae,refs:re,elements:ue,floatingStyles:Z}),[g,ae,re,ue,Z])}const tv=(e,t)=>({...Zb(e),options:[e,t]}),nv=(e,t)=>({...Jb(e),options:[e,t]}),rv=(e,t)=>({...ek(e),options:[e,t]});function xc(e){return E.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})},e)}const iv={...Rw},rk=iv.useInsertionEffect,ik=rk||(e=>e());function br(e){const t=E.useRef(()=>{});return ik(()=>{t.current=e}),E.useCallback(function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t.current==null?void 0:t.current(...i)},[])}var Rn=typeof document<"u"?E.useLayoutEffect:E.useEffect;function ec(){return ec=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ec.apply(this,arguments)}let my=!1,sk=0;const yy=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+sk++;function ok(){const[e,t]=E.useState(()=>my?yy():void 0);return Rn(()=>{e==null&&t(yy())},[]),E.useEffect(()=>{my=!0},[]),e}const lk=iv.useId,ia=lk||ok;function ak(){const e=new Map;return{emit(t,n){var i;(i=e.get(t))==null||i.forEach(o=>o(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var i;e.set(t,((i=e.get(t))==null?void 0:i.filter(o=>o!==n))||[])}}}const uk=E.createContext(null),ck=E.createContext(null),Qd=()=>{var e;return((e=E.useContext(uk))==null?void 0:e.id)||null},wc=()=>E.useContext(ck);function js(e){return"data-floating-ui-"+e}function Fo(e){const t=E.useRef(e);return Rn(()=>{t.current=e}),t}const _y=js("safe-polygon");function Lh(e,t,n){return n&&!Gl(n)?0:typeof e=="number"?e:e==null?void 0:e[t]}function fk(e,t){t===void 0&&(t={});const{open:n,onOpenChange:i,dataRef:o,events:l,elements:a}=e,{enabled:c=!0,delay:h=0,handleClose:d=null,mouseOnly:g=!1,restMs:m=0,move:v=!0}=t,y=wc(),x=Qd(),b=Fo(d),S=Fo(h),k=Fo(n),w=E.useRef(),C=E.useRef(-1),M=E.useRef(),P=E.useRef(-1),N=E.useRef(!0),j=E.useRef(!1),X=E.useRef(()=>{}),z=E.useRef(!1),W=E.useCallback(()=>{var Z;const D=(Z=o.current.openEvent)==null?void 0:Z.type;return(D==null?void 0:D.includes("mouse"))&&D!=="mousedown"},[o]);E.useEffect(()=>{if(!c)return;function Z(D){let{open:$}=D;$||(clearTimeout(C.current),clearTimeout(P.current),N.current=!0,z.current=!1)}return l.on("openchange",Z),()=>{l.off("openchange",Z)}},[c,l]),E.useEffect(()=>{if(!c||!b.current||!n)return;function Z($){W()&&i(!1,$,"hover")}const D=Jt(a.floating).documentElement;return D.addEventListener("mouseleave",Z),()=>{D.removeEventListener("mouseleave",Z)}},[a.floating,n,i,c,b,W]);const K=E.useCallback(function(Z,D,$){D===void 0&&(D=!0),$===void 0&&($="hover");const G=Lh(S.current,"close",w.current);G&&!M.current?(clearTimeout(C.current),C.current=window.setTimeout(()=>i(!1,Z,$),G)):D&&(clearTimeout(C.current),i(!1,Z,$))},[S,i]),q=br(()=>{X.current(),M.current=void 0}),ae=br(()=>{if(j.current){const Z=Jt(a.floating).body;Z.style.pointerEvents="",Z.removeAttribute(_y),j.current=!1}}),te=br(()=>o.current.openEvent?["click","mousedown"].includes(o.current.openEvent.type):!1);E.useEffect(()=>{if(!c)return;function Z(L){if(clearTimeout(C.current),N.current=!1,g&&!Gl(w.current)||m>0&&!Lh(S.current,"open"))return;const Y=Lh(S.current,"open",w.current);Y?C.current=window.setTimeout(()=>{k.current||i(!0,L,"hover")},Y):n||i(!0,L,"hover")}function D(L){if(te())return;X.current();const Y=Jt(a.floating);if(clearTimeout(P.current),z.current=!1,b.current&&o.current.floatingContext){n||clearTimeout(C.current),M.current=b.current({...o.current.floatingContext,tree:y,x:L.clientX,y:L.clientY,onClose(){ae(),q(),te()||K(L,!0,"safe-polygon")}});const fe=M.current;Y.addEventListener("mousemove",fe),X.current=()=>{Y.removeEventListener("mousemove",fe)};return}(w.current==="touch"?!Zt(a.floating,L.relatedTarget):!0)&&K(L)}function $(L){te()||o.current.floatingContext&&(b.current==null||b.current({...o.current.floatingContext,tree:y,x:L.clientX,y:L.clientY,onClose(){ae(),q(),te()||K(L)}})(L))}if(Qe(a.domReference)){var G;const L=a.domReference;return n&&L.addEventListener("mouseleave",$),(G=a.floating)==null||G.addEventListener("mouseleave",$),v&&L.addEventListener("mousemove",Z,{once:!0}),L.addEventListener("mouseenter",Z),L.addEventListener("mouseleave",D),()=>{var Y;n&&L.removeEventListener("mouseleave",$),(Y=a.floating)==null||Y.removeEventListener("mouseleave",$),v&&L.removeEventListener("mousemove",Z),L.removeEventListener("mouseenter",Z),L.removeEventListener("mouseleave",D)}}},[a,c,e,g,m,v,K,q,ae,i,n,k,y,S,b,o,te]),Rn(()=>{var Z;if(c&&n&&(Z=b.current)!=null&&Z.__options.blockPointerEvents&&W()){j.current=!0;const $=a.floating;if(Qe(a.domReference)&&$){var D;const G=Jt(a.floating).body;G.setAttribute(_y,"");const L=a.domReference,Y=y==null||(D=y.nodesRef.current.find(we=>we.id===x))==null||(D=D.context)==null?void 0:D.elements.floating;return Y&&(Y.style.pointerEvents=""),G.style.pointerEvents="none",L.style.pointerEvents="auto",$.style.pointerEvents="auto",()=>{G.style.pointerEvents="",L.style.pointerEvents="",$.style.pointerEvents=""}}}},[c,n,x,a,y,b,W]),Rn(()=>{n||(w.current=void 0,z.current=!1,q(),ae())},[n,q,ae]),E.useEffect(()=>()=>{q(),clearTimeout(C.current),clearTimeout(P.current),ae()},[c,a.domReference,q,ae]);const re=E.useMemo(()=>{function Z(D){w.current=D.pointerType}return{onPointerDown:Z,onPointerEnter:Z,onMouseMove(D){const{nativeEvent:$}=D;function G(){!N.current&&!k.current&&i(!0,$,"hover")}g&&!Gl(w.current)||n||m===0||z.current&&D.movementX**2+D.movementY**2<2||(clearTimeout(P.current),w.current==="touch"?G():(z.current=!0,P.current=window.setTimeout(G,m)))}}},[g,i,n,k,m]),ue=E.useMemo(()=>({onMouseEnter(){clearTimeout(C.current)},onMouseLeave(Z){te()||K(Z.nativeEvent,!1)}}),[K,te]);return E.useMemo(()=>c?{reference:re,floating:ue}:{},[c,re,ue])}let vy=0;function vo(e,t){t===void 0&&(t={});const{preventScroll:n=!1,cancelPrevious:i=!0,sync:o=!1}=t;i&&cancelAnimationFrame(vy);const l=()=>e==null?void 0:e.focus({preventScroll:n});o?l():vy=requestAnimationFrame(l)}function hk(e,t){var n;let i=[],o=(n=e.find(l=>l.id===t))==null?void 0:n.parentId;for(;o;){const l=e.find(a=>a.id===o);o=l==null?void 0:l.parentId,l&&(i=i.concat(l))}return i}function Wl(e,t){let n=e.filter(o=>{var l;return o.parentId===t&&((l=o.context)==null?void 0:l.open)}),i=n;for(;i.length;)i=e.filter(o=>{var l;return(l=i)==null?void 0:l.some(a=>{var c;return o.parentId===a.id&&((c=o.context)==null?void 0:c.open)})}),n=n.concat(i);return n}let xo=new WeakMap,Cu=new WeakSet,Ru={},Fh=0;const dk=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,sv=e=>e&&(e.host||sv(e.parentNode)),pk=(e,t)=>t.map(n=>{if(e.contains(n))return n;const i=sv(n);return e.contains(i)?i:null}).filter(n=>n!=null);function gk(e,t,n,i){const o="data-floating-ui-inert",l=i?"inert":n?"aria-hidden":null,a=pk(t,e),c=new Set,h=new Set(a),d=[];Ru[o]||(Ru[o]=new WeakMap);const g=Ru[o];a.forEach(m),v(t),c.clear();function m(y){!y||c.has(y)||(c.add(y),y.parentNode&&m(y.parentNode))}function v(y){!y||h.has(y)||[].forEach.call(y.children,x=>{if(ns(x)!=="script")if(c.has(x))v(x);else{const b=l?x.getAttribute(l):null,S=b!==null&&b!=="false",k=(xo.get(x)||0)+1,w=(g.get(x)||0)+1;xo.set(x,k),g.set(x,w),d.push(x),k===1&&S&&Cu.add(x),w===1&&x.setAttribute(o,""),!S&&l&&x.setAttribute(l,"true")}})}return Fh++,()=>{d.forEach(y=>{const x=(xo.get(y)||0)-1,b=(g.get(y)||0)-1;xo.set(y,x),g.set(y,b),x||(!Cu.has(y)&&l&&y.removeAttribute(l),Cu.delete(y)),b||y.removeAttribute(o)}),Fh--,Fh||(xo=new WeakMap,xo=new WeakMap,Cu=new WeakSet,Ru={})}}function xy(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=Jt(e[0]).body;return gk(e.concat(Array.from(i.querySelectorAll("[aria-live]"))),i,t,n)}const Ql=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function ov(e,t){const n=vc(e,Ql());t==="prev"&&n.reverse();const i=n.indexOf(di(Jt(e)));return n.slice(i+1)[0]}function lv(){return ov(document.body,"next")}function av(){return ov(document.body,"prev")}function Yl(e,t){const n=t||e.currentTarget,i=e.relatedTarget;return!i||!Zt(n,i)}function mk(e){vc(e,Ql()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function wy(e){e.querySelectorAll("[data-tabindex]").forEach(n=>{const i=n.dataset.tabindex;delete n.dataset.tabindex,i?n.setAttribute("tabindex",i):n.removeAttribute("tabindex")})}const bc={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let yk;function by(e){e.key==="Tab"&&(e.target,clearTimeout(yk))}const tc=E.forwardRef(function(t,n){const[i,o]=E.useState();Rn(()=>(D_()&&o("button"),document.addEventListener("keydown",by),()=>{document.removeEventListener("keydown",by)}),[]);const l={ref:n,tabIndex:0,role:i,"aria-hidden":i?void 0:!0,[js("focus-guard")]:"",style:bc};return E.createElement("span",ec({},t,l))}),uv=E.createContext(null),ky=js("portal");function _k(e){e===void 0&&(e={});const{id:t,root:n}=e,i=ia(),o=fv(),[l,a]=E.useState(null),c=E.useRef(null);return Rn(()=>()=>{l==null||l.remove(),queueMicrotask(()=>{c.current=null})},[l]),Rn(()=>{if(!i||c.current)return;const h=t?document.getElementById(t):null;if(!h)return;const d=document.createElement("div");d.id=i,d.setAttribute(ky,""),h.appendChild(d),c.current=d,a(d)},[t,i]),Rn(()=>{if(n===null||!i||c.current)return;let h=n||(o==null?void 0:o.portalNode);h&&!Qe(h)&&(h=h.current),h=h||document.body;let d=null;t&&(d=document.createElement("div"),d.id=t,h.appendChild(d));const g=document.createElement("div");g.id=i,g.setAttribute(ky,""),h=d||h,h.appendChild(g),c.current=g,a(g)},[t,n,i,o]),l}function cv(e){const{children:t,id:n,root:i,preserveTabOrder:o=!0}=e,l=_k({id:n,root:i}),[a,c]=E.useState(null),h=E.useRef(null),d=E.useRef(null),g=E.useRef(null),m=E.useRef(null),v=a==null?void 0:a.modal,y=a==null?void 0:a.open,x=!!a&&!a.modal&&a.open&&o&&!!(i||l);return E.useEffect(()=>{if(!l||!o||v)return;function b(S){l&&Yl(S)&&(S.type==="focusin"?wy:mk)(l)}return l.addEventListener("focusin",b,!0),l.addEventListener("focusout",b,!0),()=>{l.removeEventListener("focusin",b,!0),l.removeEventListener("focusout",b,!0)}},[l,o,v]),E.useEffect(()=>{l&&(y||wy(l))},[y,l]),E.createElement(uv.Provider,{value:E.useMemo(()=>({preserveTabOrder:o,beforeOutsideRef:h,afterOutsideRef:d,beforeInsideRef:g,afterInsideRef:m,portalNode:l,setFocusManagerState:c}),[o,l])},x&&l&&E.createElement(tc,{"data-type":"outside",ref:h,onFocus:b=>{if(Yl(b,l)){var S;(S=g.current)==null||S.focus()}else{const k=av()||(a==null?void 0:a.refs.domReference.current);k==null||k.focus()}}}),x&&l&&E.createElement("span",{"aria-owns":l.id,style:bc}),l&&Kd.createPortal(t,l),x&&l&&E.createElement(tc,{"data-type":"outside",ref:d,onFocus:b=>{if(Yl(b,l)){var S;(S=m.current)==null||S.focus()}else{const k=lv()||(a==null?void 0:a.refs.domReference.current);k==null||k.focus(),a!=null&&a.closeOnFocusOut&&(a==null||a.onOpenChange(!1,b.nativeEvent,"focus-out"))}}}))}const fv=()=>E.useContext(uv),gd="data-floating-ui-focusable";function vk(e){return e?e.hasAttribute(gd)?e:e.querySelector("["+gd+"]")||e:null}const xk=20;let xs=[];function Nh(e){xs=xs.filter(n=>n.isConnected);let t=e;if(!(!t||ns(t)==="body")){if(!Pb(t,Ql())){const n=vc(t,Ql())[0];n&&(t=n)}xs.push(t),xs.length>xk&&(xs=xs.slice(-20))}}function Sy(){return xs.slice().reverse().find(e=>e.isConnected)}const wk=E.forwardRef(function(t,n){return E.createElement("button",ec({},t,{type:"button",ref:n,tabIndex:-1,style:bc}))});function bk(e){const{context:t,children:n,disabled:i=!1,order:o=["content"],guards:l=!0,initialFocus:a=0,returnFocus:c=!0,restoreFocus:h=!1,modal:d=!0,visuallyHiddenDismiss:g=!1,closeOnFocusOut:m=!0}=e,{open:v,refs:y,nodeId:x,onOpenChange:b,events:S,dataRef:k,floatingId:w,elements:{domReference:C,floating:M}}=t,P=typeof a=="number"&&a<0,N=ib(C)&&P,j=dk()?l:!0,X=Fo(o),z=Fo(a),W=Fo(c),K=wc(),q=fv(),ae=E.useRef(null),te=E.useRef(null),re=E.useRef(!1),ue=E.useRef(!1),Z=E.useRef(-1),D=q!=null,$=vk(M),G=br(function(fe){return fe===void 0&&(fe=$),fe?vc(fe,Ql()):[]}),L=br(fe=>{const oe=G(fe);return X.current.map(Q=>C&&Q==="reference"?C:$&&Q==="floating"?$:oe).filter(Boolean).flat()});E.useEffect(()=>{if(i||!d)return;function fe(Q){if(Q.key==="Tab"){Zt($,di(Jt($)))&&G().length===0&&!N&&Ah(Q);const se=L(),ee=Wi(Q);X.current[0]==="reference"&&ee===C&&(Ah(Q),Q.shiftKey?vo(se[se.length-1]):vo(se[1])),X.current[1]==="floating"&&ee===$&&Q.shiftKey&&(Ah(Q),vo(se[0]))}}const oe=Jt($);return oe.addEventListener("keydown",fe),()=>{oe.removeEventListener("keydown",fe)}},[i,C,$,d,X,N,G,L]),E.useEffect(()=>{if(i||!M)return;function fe(oe){const Q=Wi(oe),ee=G().indexOf(Q);ee!==-1&&(Z.current=ee)}return M.addEventListener("focusin",fe),()=>{M.removeEventListener("focusin",fe)}},[i,M,G]),E.useEffect(()=>{if(i||!m)return;function fe(){ue.current=!0,setTimeout(()=>{ue.current=!1})}function oe(Q){const se=Q.relatedTarget;queueMicrotask(()=>{const ee=!(Zt(C,se)||Zt(M,se)||Zt(se,M)||Zt(q==null?void 0:q.portalNode,se)||se!=null&&se.hasAttribute(js("focus-guard"))||K&&(Wl(K.nodesRef.current,x).find(Ce=>{var Me,We;return Zt((Me=Ce.context)==null?void 0:Me.elements.floating,se)||Zt((We=Ce.context)==null?void 0:We.elements.domReference,se)})||hk(K.nodesRef.current,x).find(Ce=>{var Me,We;return((Me=Ce.context)==null?void 0:Me.elements.floating)===se||((We=Ce.context)==null?void 0:We.elements.domReference)===se})));if(h&&ee&&di(Jt($))===Jt($).body){Mt($)&&$.focus();const Ce=Z.current,Me=G(),We=Me[Ce]||Me[Me.length-1]||$;Mt(We)&&We.focus()}(N||!d)&&se&&ee&&!ue.current&&se!==Sy()&&(re.current=!0,b(!1,Q,"focus-out"))})}if(M&&Mt(C))return C.addEventListener("focusout",oe),C.addEventListener("pointerdown",fe),M.addEventListener("focusout",oe),()=>{C.removeEventListener("focusout",oe),C.removeEventListener("pointerdown",fe),M.removeEventListener("focusout",oe)}},[i,C,M,$,d,x,K,q,b,m,h,G,N]),E.useEffect(()=>{var fe;if(i)return;const oe=Array.from((q==null||(fe=q.portalNode)==null?void 0:fe.querySelectorAll("["+js("portal")+"]"))||[]);if(M){const Q=[M,...oe,ae.current,te.current,X.current.includes("reference")||N?C:null].filter(ee=>ee!=null),se=d||N?xy(Q,j,!j):xy(Q);return()=>{se()}}},[i,C,M,d,X,q,N,j]),Rn(()=>{if(i||!Mt($))return;const fe=Jt($),oe=di(fe);queueMicrotask(()=>{const Q=L($),se=z.current,ee=(typeof se=="number"?Q[se]:se.current)||$,Ce=Zt($,oe);!P&&!Ce&&v&&vo(ee,{preventScroll:ee===$})})},[i,v,$,P,L,z]),Rn(()=>{if(i||!$)return;let fe=!1;const oe=Jt($),Q=di(oe);let ee=k.current.openEvent;Nh(Q);function Ce(gt){let{open:Ut,reason:At,event:mt,nested:Vt}=gt;Ut&&(ee=mt),At==="escape-key"&&y.domReference.current&&Nh(y.domReference.current),At==="hover"&&mt.type==="mouseleave"&&(re.current=!0),At==="outside-press"&&(Vt?(re.current=!1,fe=!0):re.current=!(Z2(mt)||j_(mt)))}S.on("openchange",Ce);const Me=oe.createElement("span");Me.setAttribute("tabindex","-1"),Me.setAttribute("aria-hidden","true"),Object.assign(Me.style,bc),D&&C&&C.insertAdjacentElement("afterend",Me);function We(){return typeof W.current=="boolean"?Sy()||Me:W.current.current||Me}return()=>{S.off("openchange",Ce);const gt=di(oe),Ut=Zt(M,gt)||K&&Wl(K.nodesRef.current,x).some(Vt=>{var on;return Zt((on=Vt.context)==null?void 0:on.elements.floating,gt)});(Ut||ee&&["click","mousedown"].includes(ee.type))&&y.domReference.current&&Nh(y.domReference.current);const mt=We();queueMicrotask(()=>{W.current&&!re.current&&Mt(mt)&&(!(mt!==gt&&gt!==oe.body)||Ut)&&mt.focus({preventScroll:fe}),Me.remove()})}},[i,M,$,W,k,y,S,K,x,D,C]),E.useEffect(()=>{queueMicrotask(()=>{re.current=!1})},[i]),Rn(()=>{if(!i&&q)return q.setFocusManagerState({modal:d,closeOnFocusOut:m,open:v,onOpenChange:b,refs:y}),()=>{q.setFocusManagerState(null)}},[i,q,d,v,b,y,m]),Rn(()=>{if(i||!$||typeof MutationObserver!="function"||P)return;const fe=()=>{const Q=$.getAttribute("tabindex"),se=G(),ee=di(Jt(M)),Ce=se.indexOf(ee);Ce!==-1&&(Z.current=Ce),X.current.includes("floating")||ee!==y.domReference.current&&se.length===0?Q!=="0"&&$.setAttribute("tabindex","0"):Q!=="-1"&&$.setAttribute("tabindex","-1")};fe();const oe=new MutationObserver(fe);return oe.observe($,{childList:!0,subtree:!0,attributes:!0}),()=>{oe.disconnect()}},[i,M,$,y,X,G,P]);function Y(fe){return i||!g||!d?null:E.createElement(wk,{ref:fe==="start"?ae:te,onClick:oe=>b(!1,oe.nativeEvent)},typeof g=="string"?g:"Dismiss")}const we=!i&&j&&(d?!N:!0)&&(D||d);return E.createElement(E.Fragment,null,we&&E.createElement(tc,{"data-type":"inside",ref:q==null?void 0:q.beforeInsideRef,onFocus:fe=>{if(d){const Q=L();vo(o[0]==="reference"?Q[0]:Q[Q.length-1])}else if(q!=null&&q.preserveTabOrder&&q.portalNode)if(re.current=!1,Yl(fe,q.portalNode)){const Q=lv()||C;Q==null||Q.focus()}else{var oe;(oe=q.beforeOutsideRef.current)==null||oe.focus()}}}),!N&&Y("start"),n,Y("end"),we&&E.createElement(tc,{"data-type":"inside",ref:q==null?void 0:q.afterInsideRef,onFocus:fe=>{if(d)vo(L()[0]);else if(q!=null&&q.preserveTabOrder&&q.portalNode)if(m&&(re.current=!0),Yl(fe,q.portalNode)){const Q=av()||C;Q==null||Q.focus()}else{var oe;(oe=q.afterOutsideRef.current)==null||oe.focus()}}}))}function Ey(e){return Mt(e.target)&&e.target.tagName==="BUTTON"}function Cy(e){return Xd(e)}function kk(e,t){t===void 0&&(t={});const{open:n,onOpenChange:i,dataRef:o,elements:{domReference:l}}=e,{enabled:a=!0,event:c="click",toggle:h=!0,ignoreMouse:d=!1,keyboardHandlers:g=!0,stickIfOpen:m=!0}=t,v=E.useRef(),y=E.useRef(!1),x=E.useMemo(()=>({onPointerDown(b){v.current=b.pointerType},onMouseDown(b){const S=v.current;b.button===0&&c!=="click"&&(Gl(S,!0)&&d||(n&&h&&(!(o.current.openEvent&&m)||o.current.openEvent.type==="mousedown")?i(!1,b.nativeEvent,"click"):(b.preventDefault(),i(!0,b.nativeEvent,"click"))))},onClick(b){const S=v.current;if(c==="mousedown"&&v.current){v.current=void 0;return}Gl(S,!0)&&d||(n&&h&&(!(o.current.openEvent&&m)||o.current.openEvent.type==="click")?i(!1,b.nativeEvent,"click"):i(!0,b.nativeEvent,"click"))},onKeyDown(b){v.current=void 0,!(b.defaultPrevented||!g||Ey(b))&&(b.key===" "&&!Cy(l)&&(b.preventDefault(),y.current=!0),b.key==="Enter"&&i(!(n&&h),b.nativeEvent,"click"))},onKeyUp(b){b.defaultPrevented||!g||Ey(b)||Cy(l)||b.key===" "&&y.current&&(y.current=!1,i(!(n&&h),b.nativeEvent,"click"))}}),[o,l,c,d,g,i,n,m,h]);return E.useMemo(()=>a?{reference:x}:{},[a,x])}const Sk={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},Ek={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Ry=e=>{var t,n;return{escapeKey:typeof e=="boolean"?e:(t=e==null?void 0:e.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(n=e==null?void 0:e.outsidePress)!=null?n:!0}};function hv(e,t){t===void 0&&(t={});const{open:n,onOpenChange:i,elements:o,dataRef:l}=e,{enabled:a=!0,escapeKey:c=!0,outsidePress:h=!0,outsidePressEvent:d="pointerdown",referencePress:g=!1,referencePressEvent:m="pointerdown",ancestorScroll:v=!1,bubbles:y,capture:x}=t,b=wc(),S=br(typeof h=="function"?h:()=>!1),k=typeof h=="function"?S:h,w=E.useRef(!1),C=E.useRef(!1),{escapeKey:M,outsidePress:P}=Ry(y),{escapeKey:N,outsidePress:j}=Ry(x),X=E.useRef(!1),z=br(re=>{var ue;if(!n||!a||!c||re.key!=="Escape"||X.current)return;const Z=(ue=l.current.floatingContext)==null?void 0:ue.nodeId,D=b?Wl(b.nodesRef.current,Z):[];if(!M&&(re.stopPropagation(),D.length>0)){let $=!0;if(D.forEach(G=>{var L;if((L=G.context)!=null&&L.open&&!G.context.dataRef.current.__escapeKeyBubbles){$=!1;return}}),!$)return}i(!1,tb(re)?re.nativeEvent:re,"escape-key")}),W=br(re=>{var ue;const Z=()=>{var D;z(re),(D=Wi(re))==null||D.removeEventListener("keydown",Z)};(ue=Wi(re))==null||ue.addEventListener("keydown",Z)}),K=br(re=>{var ue;const Z=w.current;w.current=!1;const D=C.current;if(C.current=!1,d==="click"&&D||Z||typeof k=="function"&&!k(re))return;const $=Wi(re),G="["+js("inert")+"]",L=Jt(o.floating).querySelectorAll(G);let Y=Qe($)?$:null;for(;Y&&!Zi(Y);){const Q=yi(Y);if(Zi(Q)||!Qe(Q))break;Y=Q}if(L.length&&Qe($)&&!nb($)&&!Zt($,o.floating)&&Array.from(L).every(Q=>!Zt(Y,Q)))return;if(Mt($)&&te){const Q=$.clientWidth>0&&$.scrollWidth>$.clientWidth,se=$.clientHeight>0&&$.scrollHeight>$.clientHeight;let ee=se&&re.offsetX>$.clientWidth;if(se&&fr($).direction==="rtl"&&(ee=re.offsetX<=$.offsetWidth-$.clientWidth),ee||Q&&re.offsetY>$.clientHeight)return}const we=(ue=l.current.floatingContext)==null?void 0:ue.nodeId,fe=b&&Wl(b.nodesRef.current,we).some(Q=>{var se;return Mh(re,(se=Q.context)==null?void 0:se.elements.floating)});if(Mh(re,o.floating)||Mh(re,o.domReference)||fe)return;const oe=b?Wl(b.nodesRef.current,we):[];if(oe.length>0){let Q=!0;if(oe.forEach(se=>{var ee;if((ee=se.context)!=null&&ee.open&&!se.context.dataRef.current.__outsidePressBubbles){Q=!1;return}}),!Q)return}i(!1,re,"outside-press")}),q=br(re=>{var ue;const Z=()=>{var D;K(re),(D=Wi(re))==null||D.removeEventListener(d,Z)};(ue=Wi(re))==null||ue.addEventListener(d,Z)});E.useEffect(()=>{if(!n||!a)return;l.current.__escapeKeyBubbles=M,l.current.__outsidePressBubbles=P;let re=-1;function ue(L){i(!1,L,"ancestor-scroll")}function Z(){window.clearTimeout(re),X.current=!0}function D(){re=window.setTimeout(()=>{X.current=!1},gc()?5:0)}const $=Jt(o.floating);c&&($.addEventListener("keydown",N?W:z,N),$.addEventListener("compositionstart",Z),$.addEventListener("compositionend",D)),k&&$.addEventListener(d,j?q:K,j);let G=[];return v&&(Qe(o.domReference)&&(G=Qi(o.domReference)),Qe(o.floating)&&(G=G.concat(Qi(o.floating))),!Qe(o.reference)&&o.reference&&o.reference.contextElement&&(G=G.concat(Qi(o.reference.contextElement)))),G=G.filter(L=>{var Y;return L!==((Y=$.defaultView)==null?void 0:Y.visualViewport)}),G.forEach(L=>{L.addEventListener("scroll",ue,{passive:!0})}),()=>{c&&($.removeEventListener("keydown",N?W:z,N),$.removeEventListener("compositionstart",Z),$.removeEventListener("compositionend",D)),k&&$.removeEventListener(d,j?q:K,j),G.forEach(L=>{L.removeEventListener("scroll",ue)}),window.clearTimeout(re)}},[l,o,c,k,d,n,i,v,a,M,P,z,N,W,K,j,q]),E.useEffect(()=>{w.current=!1},[k,d]);const ae=E.useMemo(()=>({onKeyDown:z,[Sk[m]]:re=>{g&&i(!1,re.nativeEvent,"reference-press")}}),[z,i,g,m]),te=E.useMemo(()=>({onKeyDown:z,onMouseDown(){C.current=!0},onMouseUp(){C.current=!0},[Ek[d]]:()=>{w.current=!0}}),[z,d]);return E.useMemo(()=>a?{reference:ae,floating:te}:{},[a,ae,te])}function Ck(e){const{open:t=!1,onOpenChange:n,elements:i}=e,o=ia(),l=E.useRef({}),[a]=E.useState(()=>ak()),c=Qd()!=null,[h,d]=E.useState(i.reference),g=br((y,x,b)=>{l.current.openEvent=y?x:void 0,a.emit("openchange",{open:y,event:x,reason:b,nested:c}),n==null||n(y,x,b)}),m=E.useMemo(()=>({setPositionReference:d}),[]),v=E.useMemo(()=>({reference:h||i.reference||null,floating:i.floating||null,domReference:i.reference}),[h,i.reference,i.floating]);return E.useMemo(()=>({dataRef:l,open:t,onOpenChange:g,elements:v,events:a,floatingId:o,refs:m}),[t,g,v,a,o,m])}function dv(e){e===void 0&&(e={});const{nodeId:t}=e,n=Ck({...e,elements:{reference:null,floating:null,...e.elements}}),i=e.rootContext||n,o=i.elements,[l,a]=E.useState(null),[c,h]=E.useState(null),g=(o==null?void 0:o.domReference)||l,m=E.useRef(null),v=wc();Rn(()=>{g&&(m.current=g)},[g]);const y=nk({...e,elements:{...o,...c&&{reference:c}}}),x=E.useCallback(C=>{const M=Qe(C)?{getBoundingClientRect:()=>C.getBoundingClientRect(),contextElement:C}:C;h(M),y.refs.setReference(M)},[y.refs]),b=E.useCallback(C=>{(Qe(C)||C===null)&&(m.current=C,a(C)),(Qe(y.refs.reference.current)||y.refs.reference.current===null||C!==null&&!Qe(C))&&y.refs.setReference(C)},[y.refs]),S=E.useMemo(()=>({...y.refs,setReference:b,setPositionReference:x,domReference:m}),[y.refs,b,x]),k=E.useMemo(()=>({...y.elements,domReference:g}),[y.elements,g]),w=E.useMemo(()=>({...y,...i,refs:S,elements:k,nodeId:t}),[y,S,k,t,i]);return Rn(()=>{i.dataRef.current.floatingContext=w;const C=v==null?void 0:v.nodesRef.current.find(M=>M.id===t);C&&(C.context=w)}),E.useMemo(()=>({...y,context:w,refs:S,elements:k}),[y,S,k,w])}function Rk(e,t){t===void 0&&(t={});const{open:n,onOpenChange:i,events:o,dataRef:l,elements:a}=e,{enabled:c=!0,visibleOnly:h=!0}=t,d=E.useRef(!1),g=E.useRef(),m=E.useRef(!0);E.useEffect(()=>{if(!c)return;const y=An(a.domReference);function x(){!n&&Mt(a.domReference)&&a.domReference===di(Jt(a.domReference))&&(d.current=!0)}function b(){m.current=!0}return y.addEventListener("blur",x),y.addEventListener("keydown",b,!0),()=>{y.removeEventListener("blur",x),y.removeEventListener("keydown",b,!0)}},[a.domReference,n,c]),E.useEffect(()=>{if(!c)return;function y(x){let{reason:b}=x;(b==="reference-press"||b==="escape-key")&&(d.current=!0)}return o.on("openchange",y),()=>{o.off("openchange",y)}},[o,c]),E.useEffect(()=>()=>{clearTimeout(g.current)},[]);const v=E.useMemo(()=>({onPointerDown(y){j_(y.nativeEvent)||(m.current=!1)},onMouseLeave(){d.current=!1},onFocus(y){if(d.current)return;const x=Wi(y.nativeEvent);if(h&&Qe(x))try{if(D_()&&J2())throw Error();if(!x.matches(":focus-visible"))return}catch{if(!m.current&&!Xd(x))return}i(!0,y.nativeEvent,"focus")},onBlur(y){d.current=!1;const x=y.relatedTarget,b=y.nativeEvent,S=Qe(x)&&x.hasAttribute(js("focus-guard"))&&x.getAttribute("data-type")==="outside";g.current=window.setTimeout(()=>{var k;const w=di(a.domReference?a.domReference.ownerDocument:document);!x&&w===a.domReference||Zt((k=l.current.floatingContext)==null?void 0:k.refs.floating.current,w)||Zt(a.domReference,w)||S||i(!1,b,"focus")})}}),[l,a.domReference,i,h]);return E.useMemo(()=>c?{reference:v}:{},[c,v])}const Ty="active",My="selected";function Ih(e,t,n){const i=new Map,o=n==="item";let l=e;if(o&&e){const{[Ty]:a,[My]:c,...h}=e;l=h}return{...n==="floating"&&{tabIndex:-1,[gd]:""},...l,...t.map(a=>{const c=a?a[n]:null;return typeof c=="function"?e?c(e):null:c}).concat(e).reduce((a,c)=>(c&&Object.entries(c).forEach(h=>{let[d,g]=h;if(!(o&&[Ty,My].includes(d)))if(d.indexOf("on")===0){if(i.has(d)||i.set(d,[]),typeof g=="function"){var m;(m=i.get(d))==null||m.push(g),a[d]=function(){for(var v,y=arguments.length,x=new Array(y),b=0;b<y;b++)x[b]=arguments[b];return(v=i.get(d))==null?void 0:v.map(S=>S(...x)).find(S=>S!==void 0)}}}else a[d]=g}),a),{})}}function pv(e){e===void 0&&(e=[]);const t=e.map(c=>c==null?void 0:c.reference),n=e.map(c=>c==null?void 0:c.floating),i=e.map(c=>c==null?void 0:c.item),o=E.useCallback(c=>Ih(c,e,"reference"),t),l=E.useCallback(c=>Ih(c,e,"floating"),n),a=E.useCallback(c=>Ih(c,e,"item"),i);return E.useMemo(()=>({getReferenceProps:o,getFloatingProps:l,getItemProps:a}),[o,l,a])}const Tk=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function gv(e,t){var n;t===void 0&&(t={});const{open:i,floatingId:o}=e,{enabled:l=!0,role:a="dialog"}=t,c=(n=Tk.get(a))!=null?n:a,h=ia(),g=Qd()!=null,m=E.useMemo(()=>c==="tooltip"||a==="label"?{["aria-"+(a==="label"?"labelledby":"describedby")]:i?o:void 0}:{"aria-expanded":i?"true":"false","aria-haspopup":c==="alertdialog"?"dialog":c,"aria-controls":i?o:void 0,...c==="listbox"&&{role:"combobox"},...c==="menu"&&{id:h},...c==="menu"&&g&&{role:"menuitem"},...a==="select"&&{"aria-autocomplete":"none"},...a==="combobox"&&{"aria-autocomplete":"list"}},[c,o,g,i,h,a]),v=E.useMemo(()=>{const x={id:o,...c&&{role:c}};return c==="tooltip"||a==="label"?x:{...x,...c==="menu"&&{"aria-labelledby":h}}},[c,o,h,a]),y=E.useCallback(x=>{let{active:b,selected:S}=x;const k={role:"option",...b&&{id:o+"-option"}};switch(a){case"select":return{...k,"aria-selected":b&&S};case"combobox":return{...k,...b&&{"aria-selected":!0}}}return{}},[o,a]);return E.useMemo(()=>l?{reference:m,floating:v,item:y}:{},[l,m,v,y])}function Mk({initialOpen:e=!1,placement:t="top",open:n,onOpenChange:i}={}){const[o,l]=E.useState(e),a=n??o,c=i??l,h=dv({placement:t,open:a,onOpenChange:c,whileElementsMounted:J_,middleware:[tv(5),rv({crossAxis:t.includes("-"),fallbackAxisSideDirection:"start",padding:5}),nv({padding:5})]}),d=h.context,g=fk(d,{move:!1,enabled:n==null,delay:{open:1e3,close:0}}),m=Rk(d,{enabled:n==null}),v=hv(d),y=gv(d,{role:"tooltip"}),x=pv([g,m,v,y]);return E.useMemo(()=>({open:a,setOpen:c,...x,...h}),[a,c,x,h])}const mv=E.createContext(null),yv=()=>{const e=E.useContext(mv);if(e==null)throw new Error("Tooltip components must be wrapped in <Tooltip />");return e};function Ak({children:e,...t}){const n=Mk(t);return A.jsx(mv.Provider,{value:n,children:e})}const Pk=E.forwardRef(function({children:t,asChild:n=!1,...i},o){const l=yv(),a=t.ref,c=xc([l.refs.setReference,o,a]);return n&&E.isValidElement(t)?E.cloneElement(t,l.getReferenceProps({ref:c,...i,...t.props,"data-state":l.open?"open":"closed"})):A.jsx("div",{ref:c,"data-state":l.open?"open":"closed",...l.getReferenceProps(i),children:t})}),Ok=E.forwardRef(function({style:t,...n},i){const o=yv(),l=xc([o.refs.setFloating,i]);return o.open?A.jsx(cv,{children:A.jsx("div",{ref:l,style:{...o.floatingStyles,...t},...o.getFloatingProps(n)})}):null}),Rt=({children:e,tooltip:t,...n})=>E.isValidElement(e)?A.jsxs(Ak,{children:[A.jsx(Pk,{children:E.cloneElement(e,n)}),A.jsx(Ok,{className:"py-1 px-2 bg-default-2 border border-default-1 text-white rounded text-xs font-normal max-w-sm",children:t})]}):(console.error("WithTooltip expects a single element as a child."),null),Lk=()=>A.jsx("div",{className:"absolute bottom-0 left-0 h-14 min-h-14 right-0 md:right-auto md:top-0  md:h-auto md:w-14",children:A.jsxs("div",{className:"h-full bg-default-2 border-t md:border-r md:border-t-0 border-default-1 flex md:flex-col justify-center md:justify-start items-center gap-4 py-2 md:pt-4",children:[A.jsx(Rt,{tooltip:"Hand tool [H]",children:A.jsx(Fr,{value:"hand",children:A.jsx(h2,{stroke:1})})}),A.jsx(Rt,{tooltip:"Pointer tool [P]",children:A.jsx(Fr,{value:"pointer",children:A.jsx(b2,{stroke:1})})}),A.jsx(Rt,{tooltip:"Eraser tool [E]",children:A.jsx(Fr,{value:"eraser",children:A.jsx(r2,{stroke:1})})}),A.jsx(Rt,{tooltip:"Brush tool [B]",children:A.jsx(Fr,{value:"brush",children:A.jsx(Hd,{stroke:1})})}),A.jsx(Rt,{tooltip:"Rectangle tool [R]",children:A.jsx(Fr,{value:"square",children:A.jsx(A_,{stroke:1})})}),A.jsx(Rt,{tooltip:"Line tool [L]",children:A.jsx(Fr,{value:"line",children:A.jsx(hc,{stroke:1})})}),A.jsx(Rt,{tooltip:"Arrow tool [A]",children:A.jsx(Fr,{value:"arrow",children:A.jsx(T_,{stroke:1})})}),A.jsx(Rt,{tooltip:"Pen tool [C]",children:A.jsx(Fr,{value:"bezier",children:A.jsx(P_,{stroke:1})})}),A.jsx(Rt,{tooltip:"Text tool [T]",children:A.jsx(Fr,{value:"text",children:A.jsx(Wd,{stroke:1})})}),A.jsx(Rt,{tooltip:"Zoom tool [Z]",children:A.jsx(Fr,{value:"zoom",children:A.jsx(q2,{stroke:1})})})]})}),Fr=({value:e,children:t})=>{let n=ze(a=>a.selectedTool);const i=ze(a=>a.restoreTool);i&&(n=i);const o=ze(a=>a.setSelectedTool),l=n===e;return A.jsx("button",{type:"button",className:`p-1 rounded  ${l?"bg-primary":"hover:bg-default-3"}`,onClick:()=>o(e),children:t})};function _v(e,t){let n=0,i=null;return function(...o){const l=Date.now();l-n>=t?(n=l,e.apply(this,o)):(i&&clearTimeout(i),i=setTimeout(()=>{n=Date.now(),e.apply(this,o)},t-(l-n)))}}const md="Sketch: ",vv=e=>`${md}${e}`;function Fk(e){const t=localStorage.getItem(vv(e));if(t)try{return JSON.parse(t)}catch(n){return console.error("Failed to parse localStorage item",n),null}return null}function Nk(e,t){try{const n=JSON.stringify(t);localStorage.setItem(vv(e),n)}catch(n){console.error("Failed to stringify or set localStorage item",n)}}function Ik(){const e=[];for(let t=0;t<localStorage.length;t++){const n=localStorage.key(t);n&&n.startsWith(md)&&e.push(n.substring(md.length))}return e}var xv=Object.defineProperty,jk=Object.defineProperties,Dk=Object.getOwnPropertyDescriptors,Ay=Object.getOwnPropertySymbols,zk=Object.prototype.hasOwnProperty,Bk=Object.prototype.propertyIsEnumerable,yd=(e,t,n)=>t in e?xv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Zd=(e,t)=>{for(var n in t||(t={}))zk.call(t,n)&&yd(e,n,t[n]);if(Ay)for(var n of Ay(t))Bk.call(t,n)&&yd(e,n,t[n]);return e},Jd=(e,t)=>jk(e,Dk(t)),wv=(e,t)=>{for(var n in t)xv(e,n,{get:t[n],enumerable:!0})},T=(e,t,n)=>(yd(e,typeof t!="symbol"?t+"":t,n),n),bv=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},En=(e,t,n)=>(bv(e,t,"read from private field"),n?n.call(e):t.get(e)),kv=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},$k=(e,t,n,i)=>(bv(e,t,"write to private field"),t.set(e,n),n),fn={Image:null,isHeadless:!1,shim:function(e,t){return e.tagName=e.nodeName=t||"canvas",e.nodeType=1,e.getAttribute=function(n){return this[n]},e.setAttribute=function(n,i){return this[n]=i,this},e},polyfill:function(e,t){return fn.shim(e),typeof t<"u"&&(fn.Image=t),fn.isHeadless=!0,e}},Sv={};wv(Sv,{Curve:()=>$o,getAnchorsFromArcData:()=>Hk,getComponentOnCubicBezier:()=>Zl,getControlPoints:()=>Fv,getCurveBoundingBox:()=>Pv,getCurveFromPoints:()=>Lv,getCurveLength:()=>Av,getReflection:()=>_d,integrate:()=>Ov,subdivide:()=>ep});var Ev={};wv(Ev,{HALF_PI:()=>Tt,NumArray:()=>Br,TWO_PI:()=>tn,decomposeMatrix:()=>Bo,getComputedMatrix:()=>Tv,getPoT:()=>Mv,lerp:()=>Vn,mod:()=>Xn,setMatrix:()=>Rv,toFixed:()=>He});var ct;typeof window<"u"?ct=window:typeof global<"u"?ct=global:typeof self<"u"&&(ct=self);var Cv,tn=Math.PI*2,Tt=Math.PI*.5;function Bo(e,t,n,i,o,l){let a;return arguments.length<=1?(a=e.a,t=e.b,n=e.c,i=e.d,o=e.e,l=e.f):a=e,{translateX:o,translateY:l,scaleX:Math.sqrt(a*a+t*t),scaleY:Math.sqrt(n*n+i*i),rotation:180*Math.atan2(t,a)/Math.PI}}function Rv(e){Cv=e}function Tv(e,t){t=t&&t.identity()||new Cv;let n=e;const i=[];for(;n&&n._matrix;)i.push(n._matrix),n=n.parent;i.reverse();for(let o=0;o<i.length;o++){const a=i[o].elements;t.multiply(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9])}return t}function Vn(e,t,n){return n*(t-e)+e}var jh=[2,4,8,16,32,64,128,256,512,1024,2048,4096];function Mv(e){let t=0;for(;jh[t]&&jh[t]<e;)t++;return jh[t]}function Xn(e,t){for(;e<0;)e+=t;return e%t}var Br=ct.Float32Array||Array,Uk=Math.floor;function He(e){return Uk(e*1e6)/1e6}var de={move:"M",line:"L",curve:"C",arc:"A",close:"Z"},J=class{constructor(){T(this,"_events",{}),T(this,"_bound",!1)}addEventListener(t,n){return(this._events[t]||(this._events[t]=[])).push(n),this._bound=!0,this}on(){return this.addEventListener.apply(this,arguments)}bind(){return this.addEventListener.apply(this,arguments)}removeEventListener(t,n){if(!this._events)return this;if(!t&&!n)return this._events={},this._bound=!1,this;const i=t?[t]:Object.keys(this._events);for(let o=0,l=i.length;o<l;o++){t=i[o];let a=this._events[t];if(a){let c=[];if(n)for(let h=0,d=a.length;h<d;h++){let g=a[h];g=g.handler?g.handler:g,n!==g&&c.push(g)}this._events[t]=c}}return this}off(){return this.removeEventListener.apply(this,arguments)}unbind(){return this.removeEventListener.apply(this,arguments)}dispatchEvent(t){if(!this._events)return this;const n=Array.prototype.slice.call(arguments,1),i=this._events[t];if(i)for(let o=0;o<i.length;o++)i[o].call(this,...n);return this}trigger(){return this.dispatchEvent.apply(this,arguments)}listen(t,n,i){const o=this;t&&(l.obj=t,l.name=n,l.handler=i,t.on(n,l));function l(){i.apply(o,arguments)}return o}ignore(t,n,i){return t.off(n,i),this}};T(J,"Types",{play:"play",pause:"pause",update:"update",render:"render",resize:"resize",change:"change",remove:"remove",insert:"insert",order:"order",load:"load"});T(J,"Methods",["addEventListener","on","removeEventListener","off","unbind","dispatchEvent","trigger","listen","ignore"]);var Py={x:{enumerable:!0,get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this._bound&&this.dispatchEvent(J.Types.change))}},y:{enumerable:!0,get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this._bound&&this.dispatchEvent(J.Types.change))}}},kr=class extends J{constructor(e=0,t=0){super(),T(this,"_x",0),T(this,"_y",0);for(let n in Py)Object.defineProperty(this,n,Py[n]);this.x=e,this.y=t}static add(e,t){return new kr(e.x+t.x,e.y+t.y)}static sub(e,t){return new kr(e.x-t.x,e.y-t.y)}static subtract(e,t){return kr.sub(e,t)}static ratioBetween(e,t){return(e.x*t.x+e.y*t.y)/(e.length()*t.length())}static angleBetween(e,t){if(arguments.length>=4){const o=arguments[0]-arguments[2],l=arguments[1]-arguments[3];return Math.atan2(l,o)}const n=e.x-t.x,i=e.y-t.y;return Math.atan2(i,n)}static distanceBetween(e,t){return Math.sqrt(kr.distanceBetweenSquared(e,t))}static distanceBetweenSquared(e,t){const n=e.x-t.x,i=e.y-t.y;return n*n+i*i}set(e,t){return this.x=e,this.y=t,this}copy(e){return this.x=e.x,this.y=e.y,this}clear(){return this.x=0,this.y=0,this}clone(){return new kr(this.x,this.y)}add(e,t){return arguments.length<=0?this:(arguments.length<=1?typeof e=="number"?(this.x+=e,this.y+=e):e&&typeof e.x=="number"&&typeof e.y=="number"&&(this.x+=e.x,this.y+=e.y):(this.x+=e,this.y+=t),this)}addSelf(e){return this.add.apply(this,arguments)}sub(e,t){return arguments.length<=0?this:(arguments.length<=1?typeof e=="number"?(this.x-=e,this.y-=e):e&&typeof e.x=="number"&&typeof e.y=="number"&&(this.x-=e.x,this.y-=e.y):(this.x-=e,this.y-=t),this)}subtract(){return this.sub.apply(this,arguments)}subSelf(e){return this.sub.apply(this,arguments)}subtractSelf(e){return this.sub.apply(this,arguments)}multiply(e,t){return arguments.length<=0?this:(arguments.length<=1?typeof e=="number"?(this.x*=e,this.y*=e):e&&typeof e.x=="number"&&typeof e.y=="number"&&(this.x*=e.x,this.y*=e.y):(this.x*=e,this.y*=t),this)}multiplySelf(e){return this.multiply.apply(this,arguments)}multiplyScalar(e){return this.multiply(e)}divide(e,t){return arguments.length<=0?this:(arguments.length<=1?typeof e=="number"?(this.x/=e,this.y/=e):e&&typeof e.x=="number"&&typeof e.y=="number"&&(this.x/=e.x,this.y/=e.y):(this.x/=e,this.y/=t),isNaN(this.x)&&(this.x=0),isNaN(this.y)&&(this.y=0),this)}divideSelf(e){return this.divide.apply(this,arguments)}divideScalar(e){return this.divide(e)}negate(){return this.multiply(-1)}dot(e){return this.x*e.x+this.y*e.y}length(){return Math.sqrt(this.lengthSquared())}lengthSquared(){return this.x*this.x+this.y*this.y}normalize(){return this.divideScalar(this.length())}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}setLength(e){return this.normalize().multiplyScalar(e)}equals(e,t){return t=typeof t>"u"?1e-4:t,this.distanceTo(e)<t}lerp(e,t){const n=(e.x-this.x)*t+this.x,i=(e.y-this.y)*t+this.y;return this.set(n,i)}isZero(e){return e=typeof e>"u"?1e-4:e,this.length()<e}toString(){return this.x+", "+this.y}toObject(){return{x:He(this.x),y:He(this.y)}}rotate(e){const t=this.x,n=this.y,i=Math.cos(e),o=Math.sin(e);return this.x=t*i-n*o,this.y=t*o+n*i,this}},ce=kr;T(ce,"zero",new kr);T(ce,"left",new kr(-1,0));T(ce,"right",new kr(1,0));T(ce,"up",new kr(0,-1));T(ce,"down",new kr(0,1));var Le=class extends ce{constructor(t=0,n=0,i=0,o=0,l=0,a=0,c=de.move){super(t,n),T(this,"controls",{left:new ce,right:new ce}),T(this,"_command",de.move),T(this,"_relative",!0),T(this,"_rx",0),T(this,"_ry",0),T(this,"_xAxisRotation",0),T(this,"_largeArcFlag",0),T(this,"_sweepFlag",1);for(let d in Oy)Object.defineProperty(this,d,Oy[d]);this.command=c,this.relative=!0;const h=Le.makeBroadcast(this);this.controls.left.set(i,o).addEventListener(J.Types.change,h),this.controls.right.set(l,a).addEventListener(J.Types.change,h)}static makeBroadcast(t){return n;function n(){t._bound&&t.dispatchEvent(J.Types.change)}}static fromObject(t){return new Le().copy(t)}copy(t){return this.x=t.x,this.y=t.y,typeof t.command=="string"&&(this.command=t.command),t.controls&&(t.controls.left&&this.controls.left.copy(t.controls.left),t.controls.right&&this.controls.right.copy(t.controls.right)),typeof t.relative=="boolean"&&(this.relative=t.relative),typeof t.rx=="number"&&(this.rx=t.rx),typeof t.ry=="number"&&(this.ry=t.ry),typeof t.xAxisRotation=="number"&&(this.xAxisRotation=t.xAxisRotation),typeof t.largeArcFlag=="number"&&(this.largeArcFlag=t.largeArcFlag),typeof t.sweepFlag=="number"&&(this.sweepFlag=t.sweepFlag),this}clone(){return new Le().copy(this)}toObject(){return{x:He(this.x),y:He(this.y),command:this.command,relative:this.relative,controls:{left:this.controls.left.toObject(),right:this.controls.right.toObject()},rx:He(this.rx),ry:He(this.ry),xAxisRotation:He(this.xAxisRotation),largeArcFlag:He(this.largeArcFlag),sweepFlag:He(this.sweepFlag)}}toString(){return JSON.stringify(this.toObject())}},Oy={command:{enumerable:!0,get:function(){return this._command},set:function(e){this._command!==e&&(this._command=e,this._bound&&this.dispatchEvent(J.Types.change))}},relative:{enumerable:!0,get:function(){return this._relative},set:function(e){this._relative!==!!e&&(this._relative=!!e,this._bound&&this.dispatchEvent(J.Types.change))}},rx:{enumerable:!0,get:function(){return this._rx},set:function(e){this._rx!==e&&(this._rx=e,this._bound&&this.dispatchEvent(J.Types.change))}},ry:{enumerable:!0,get:function(){return this._ry},set:function(e){this._ry!==e&&(this._ry=e,this._bound&&this.dispatchEvent(J.Types.change))}},xAxisRotation:{enumerable:!0,get:function(){return this._xAxisRotation},set:function(e){this._xAxisRotation!==e&&(this._xAxisRotation=e,this._bound&&this.dispatchEvent(J.Types.change))}},largeArcFlag:{enumerable:!0,get:function(){return this._largeArcFlag},set:function(e){this._largeArcFlag!==e&&(this._largeArcFlag=e,this._bound&&this.dispatchEvent(J.Types.change))}},sweepFlag:{get:function(){return this._sweepFlag},set:function(e){this._sweepFlag!==e&&(this._sweepFlag=e,this._bound&&this.dispatchEvent(J.Types.change))}}},Vk=0,gn={nextFrameID:null,Types:{webgl:"WebGLRenderer",svg:"SVGRenderer",canvas:"CanvasRenderer"},Version:"v0.8.15",PublishDate:"2025-01-01T01:30:08.872Z",Identifier:"two-",Resolution:12,AutoCalculateImportedMatrices:!0,Instances:[],uniqueId:function(){return Vk++}},$o={CollinearityEpsilon:Math.pow(10,-30),RecursionLimit:16,CuspLimit:0,Tolerance:{distance:.25,angle:0,epsilon:Number.EPSILON},abscissas:[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],weights:[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]]};function Zl(e,t,n,i,o){const l=1-e;return l*l*l*t+3*l*l*e*n+3*l*e*e*i+e*e*e*o}function ep(e,t,n,i,o,l,a,c,h){h=h||$o.RecursionLimit;const d=h+1;if(Math.abs(e-a)<.001&&Math.abs(t-c)<.001)return[new Le(a,c)];const g=[];for(let m=0;m<d;m++){const v=m/d,y=Zl(v,e,n,o,a),x=Zl(v,t,i,l,c);g.push(new Le(y,x))}return g}function Av(e,t,n,i,o,l,a,c,h){if(e===n&&t===i&&o===a&&l===c){const S=a-e,k=c-t;return Math.sqrt(S*S+k*k)}const d=9*(n-o)+3*(a-e),g=6*(e+o)-12*n,m=3*(n-e),v=9*(i-l)+3*(c-t),y=6*(t+l)-12*i,x=3*(i-t);function b(S){const k=(d*S+g)*S+m,w=(v*S+y)*S+x;return Math.sqrt(k*k+w*w)}return Ov(b,0,1,h||$o.RecursionLimit)}function Pv(e,t,n,i,o,l,a,c){const h=[],d=[[],[]];let g,m,v,y,x,b,S,k;for(let P=0;P<2;++P){if(P==0?(m=6*e-12*n+6*o,g=-3*e+9*n-9*o+3*a,v=3*n-3*e):(m=6*t-12*i+6*l,g=-3*t+9*i-9*l+3*c,v=3*i-3*t),Math.abs(g)<1e-12){if(Math.abs(m)<1e-12)continue;y=-v/m,0<y&&y<1&&h.push(y);continue}S=m*m-4*v*g,k=Math.sqrt(S),!(S<0)&&(x=(-m+k)/(2*g),0<x&&x<1&&h.push(x),b=(-m-k)/(2*g),0<b&&b<1&&h.push(b))}let w=h.length,C=w,M;for(;w--;)y=h[w],M=1-y,d[0][w]=M*M*M*e+3*M*M*y*n+3*M*y*y*o+y*y*y*a,d[1][w]=M*M*M*t+3*M*M*y*i+3*M*y*y*l+y*y*y*c;return d[0][C]=e,d[1][C]=t,d[0][C+1]=a,d[1][C+1]=c,d[0].length=d[1].length=C+2,{min:{x:Math.min.apply(0,d[0]),y:Math.min.apply(0,d[1])},max:{x:Math.max.apply(0,d[0]),y:Math.max.apply(0,d[1])}}}function Ov(e,t,n,i){let o=$o.abscissas[i-2],l=$o.weights[i-2],a=.5*(n-t),c=a+t,h=0,d=i+1>>1,g=i&1?l[h++]*e(c):0;for(;h<d;){const m=a*o[h];g+=l[h++]*(e(c+m)+e(c-m))}return a*g}function Lv(e,t){const n=e.length,i=n-1;for(let o=0;o<n;o++){const l=e[o],a=t?Xn(o-1,n):Math.max(o-1,0),c=t?Xn(o+1,n):Math.min(o+1,i),h=e[a],d=l,g=e[c];Fv(h,d,g),d.command=o===0?de.move:de.curve}}function Fv(e,t,n){const i=ce.angleBetween(e,t),o=ce.angleBetween(n,t);let l=ce.distanceBetween(e,t),a=ce.distanceBetween(n,t),c=(i+o)/2;return l<1e-4||a<1e-4?(typeof t.relative=="boolean"&&!t.relative&&(t.controls.left.copy(t),t.controls.right.copy(t)),t):(l*=.33,a*=.33,o<i?c+=Tt:c-=Tt,t.controls.left.x=Math.cos(c)*l,t.controls.left.y=Math.sin(c)*l,c-=Math.PI,t.controls.right.x=Math.cos(c)*a,t.controls.right.y=Math.sin(c)*a,typeof t.relative=="boolean"&&!t.relative&&(t.controls.left.x+=t.x,t.controls.left.y+=t.y,t.controls.right.x+=t.x,t.controls.right.y+=t.y),t)}function _d(e,t,n){return new ce(2*e.x-(t.x+e.x)-(n?e.x:0),2*e.y-(t.y+e.y)-(n?e.y:0))}function Hk(e,t,n,i,o,l,a){const c=gn.Resolution;for(let h=0;h<c;h++){let d=(h+1)/c;a&&(d=1-d);const g=d*l+o,m=n*Math.cos(g),v=i*Math.sin(g),y=new Le(m,v);y.command=de.line}}var Ly=Array.prototype.slice;function Wk(e){if(e==null)return!1;const t=e.length;return typeof t=="number"&&t>=0&&t<4294967296}var Se={isNaN:function(e){return typeof e=="number"&&e!==+e},isElement:function(e){return!!(e&&e.nodeType===1)},isObject:function(e){const t=typeof e;return t==="function"||t==="object"&&!!e},extend:function(e){const t=Ly.call(arguments,1);for(let n=0;n<t.length;n++){const i=t[n];for(let o in i)e[o]=i[o]}return e},defaults:function(e){const t=Ly.call(arguments,1);for(let n=0;n<t.length;n++){const i=t[n];for(let o in i)e[o]===void 0&&(e[o]=i[o])}return e},each:function(e,t,n){const i=n||this,o=!Wk(e)&&Object.keys(e),l=(o||e).length;for(let a=0;a<l;a++){const c=o?o[a]:a;t.call(i,e[c],c,e)}return e},performance:ct.performance&&ct.performance.now?ct.performance:Date},Hn={hasEventListeners:typeof ct.addEventListener=="function",bind:function(e,t,n,i){return this.hasEventListeners?e.addEventListener(t,n,!!i):e.attachEvent("on"+t,n),Hn},unbind:function(e,t,n,i){return Hn.hasEventListeners?e.removeEventListeners(t,n,!!i):e.detachEvent("on"+t,n),Hn},getRequestAnimationFrame:function(){const e=["ms","moz","webkit","o"];let t=0,n=ct.requestAnimationFrame;if(!n){for(let o=0;o<e.length;o++)n=ct[e[o]+"RequestAnimationFrame"]||n;n=n||i}function i(o,l){const a=new Date().getTime(),c=Math.max(0,16-(a-t)),h=ct.setTimeout(d,c);t=a+c;function d(){o(a+c)}return h}return n}},Mo=ct.document?ct.document.createElement("div"):{};Mo.id="help-two-load";Object.defineProperty(Hn,"temp",{enumerable:!0,get:function(){return Se.isElement(Mo)&&!ct.document.head.contains(Mo)&&(Mo.style.display="none",ct.document.head.appendChild(Mo)),Mo}});var Yn=class extends Error{constructor(t){super(),T(this,"name","Two.js"),T(this,"message"),this.message=t}},Yk=ct.devicePixelRatio||1;function Xk(e){return e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1}function tp(e){return Yk/Xk(e)}var kc=class{constructor(){T(this,"map",{})}add(t,n){return this.map[t]=n,this}remove(t){return delete this.map[t],this}get(t){return this.map[t]}contains(t){return t in this.map}},qt,Ji=class extends Array{constructor(){super(),kv(this,qt,new J),arguments[0]&&Array.isArray(arguments[0])?arguments[0].length>0&&this.push.apply(this,arguments[0]):arguments.length>0&&this.push.apply(this,arguments)}get _events(){return En(this,qt)}set _events(t){$k(this,qt,t)}get _bound(){return En(this,qt)._bound}set _bound(t){En(this,qt)._bound=t}addEventListener(){return En(this,qt).addEventListener.apply(this,arguments)}on(){return En(this,qt).on.apply(this,arguments)}bind(){return En(this,qt).bind.apply(this,arguments)}removeEventListener(){return En(this,qt).removeEventListener.apply(this,arguments)}off(){return En(this,qt).off.apply(this,arguments)}unbind(){return En(this,qt).unbind.apply(this,arguments)}dispatchEvent(){return En(this,qt).dispatchEvent.apply(this,arguments)}trigger(){return En(this,qt).trigger.apply(this,arguments)}listen(){return En(this,qt).listen.apply(this,arguments)}ignore(){return En(this,qt).ignore.apply(this,arguments)}pop(){const t=super.pop.apply(this,arguments);return this.trigger(J.Types.remove,[t]),t}shift(){const t=super.shift.apply(this,arguments);return this.trigger(J.Types.remove,[t]),t}push(){const t=super.push.apply(this,arguments);return this.trigger(J.Types.insert,arguments),t}unshift(){const t=super.unshift.apply(this,arguments);return this.trigger(J.Types.insert,arguments),t}splice(){const t=super.splice.apply(this,arguments);if(this.trigger(J.Types.remove,t),arguments.length>2){const n=this.slice(arguments[0],arguments[0]+arguments.length-2);this.trigger(J.Types.insert,n),this.trigger(J.Types.order)}return t}sort(){return super.sort.apply(this,arguments),this.trigger(J.Types.order),this}reverse(){return super.reverse.apply(this,arguments),this.trigger(J.Types.order),this}indexOf(){return super.indexOf.apply(this,arguments)}map(t,n){const i=[];for(let o=0;o<this.length;o++){const l=this[o];let a;n?a=t.call(n,l,o):a=t(l,o),i.push(a)}return i}};qt=new WeakMap;var Ho=class extends J{constructor(){super(),T(this,"_flagId",!1),T(this,"_flagClassName",!1),T(this,"_renderer",{}),T(this,"_id",gn.Identifier+gn.uniqueId()),T(this,"_className",""),T(this,"classList",[]);for(let t in Fy)Object.defineProperty(this,t,Fy[t])}static fromObject(t){const n=new Ho().copy(t);return"id"in t&&(n.id=t.id),n}flagReset(){this._flagId=this._flagClassName=!1}copy(t){return this.renderer.type=t.renderer.type,this.className=t.className,this}toObject(){return{renderer:{type:this.renderer.type},id:this.id,className:this.className}}},Fy={renderer:{enumerable:!1,get:function(){return this._renderer}},id:{enumerable:!0,get:function(){return this._id},set:function(e){const t=this._id;e!==this._id&&(this._id=e,this._flagId=!0,this.parent&&(delete this.parent.children.ids[t],this.parent.children.ids[this._id]=this))}},className:{enumerable:!0,get:function(){return this._className},set:function(e){this._className!==e&&(this._flagClassName=!0,this.classList=e.split(/\s+?/),this._className=e)}}},Bu,Nv={video:/\.(mp4|webm|ogg)$/i,image:/\.(jpe?g|png|gif|tiff|webp)$/i,effect:/texture|gradient/i};ct.document&&(Bu=document.createElement("a"));var Ct=class extends Ho{constructor(e,t){super(),T(this,"_flagSrc",!1),T(this,"_flagImage",!1),T(this,"_flagVideo",!1),T(this,"_flagLoaded",!1),T(this,"_flagRepeat",!1),T(this,"_flagOffset",!1),T(this,"_flagScale",!1),T(this,"_src",""),T(this,"_image",null),T(this,"_loaded",!1),T(this,"_repeat","no-repeat"),T(this,"_scale",1),T(this,"_offset",null);for(let n in Ny)Object.defineProperty(this,n,Ny[n]);if(this._renderer.type="texture",this._renderer.flagOffset=Kk.bind(this),this._renderer.flagScale=qk.bind(this),this.loaded=!1,this.repeat="no-repeat",this.offset=new ce,typeof t=="function"){const n=(function(){this.unbind(J.Types.load,n),typeof t=="function"&&t()}).bind(this);this.bind(J.Types.load,n)}if(typeof e=="string")this.src=e;else if(typeof e=="object"){const n=Object.prototype.toString.call(e);(n==="[object HTMLImageElement]"||n==="[object HTMLCanvasElement]"||n==="[object HTMLVideoElement]"||n==="[object Image]")&&(this.image=e)}this._update()}fromObject(e){const t=new Ct().copy(e);return"id"in e&&(t.id=e.id),t}static getAbsoluteURL(e){return Bu?(Bu.href=e,Bu.href):e}static loadHeadlessBuffer(e,t){e.image.onload=t,e.image.src=e.src}static getTag(e){return e&&e.nodeName&&e.nodeName.toLowerCase()||"img"}static getImage(e){const t=Ct.getAbsoluteURL(e);if(Ct.ImageRegistry.contains(t))return Ct.ImageRegistry.get(t);let n;return fn.Image?(n=new fn.Image,fn.shim(n,"img")):ct.document?Nv.video.test(t)?n=document.createElement("video"):n=document.createElement("img"):console.warn("Two.js: no prototypical image defined for Two.Texture"),n.crossOrigin="anonymous",n.referrerPolicy="no-referrer",n}static load(e,t){let n=e.image,i=Ct.getTag(n);e._flagImage&&(/canvas/i.test(i)?Ct.Register.canvas(e,t):(e._src=!fn.isHeadless&&n.getAttribute("two-src")||n.src,Ct.Register[i](e,t))),e._flagSrc&&(n||(n=Ct.getImage(e.src),e.image=n),i=Ct.getTag(n),Ct.Register[i](e,t))}clone(){const e=new Ct(this.src);return e.repeat=this.repeat,e.offset.copy(this.offset),e.scale=this.scale,e}copy(e){return this.src=e.src,this.repeat=e.repeat,this.offset=typeof e.offset=="number"||e.offset instanceof ce?e.offset:new ce().copy(e.offset),this.scale=typeof e.scale=="number"||e.scale instanceof ce?e.scale:new ce().copy(e.scale),this}toObject(){const e=super.toObject.call(this);return e.renderer.type="texture",e.src=this.src,e.repeat=this.repeat,e.offset=this.offset.toObject(),e.scale=typeof this.scale=="number"?this.scale:this.scale.toObject(),e}_update(){return(this._flagSrc||this._flagImage)&&(this.trigger(J.Types.change),(this._flagSrc||this._flagImage)&&(this.loaded=!1,Ct.load(this,(function(){this.loaded=!0,this.trigger(J.Types.change).trigger(J.Types.load)}).bind(this)))),this._image&&this._image.readyState>=4&&(this._flagVideo=!0),this}flagReset(){return this._flagSrc=this._flagImage=this._flagLoaded=this._flagRepeat=this._flagVideo=this._flagScale=this._flagOffset=!1,super.flagReset.call(this),this}},Be=Ct;T(Be,"Properties",["src","loaded","repeat","scale","offset","image"]);T(Be,"RegularExpressions",Nv);T(Be,"ImageRegistry",new kc);T(Be,"Register",{canvas:function(e,t){e._src="#"+e.id,Ct.ImageRegistry.add(e.src,e.image),typeof t=="function"&&t()},img:function(e,t){const n=e.image,i=function(l){!fn.isHeadless&&n.removeEventListener&&typeof n.removeEventListener=="function"&&(n.removeEventListener("load",i,!1),n.removeEventListener("error",o,!1)),typeof t=="function"&&t()},o=function(l){throw!fn.isHeadless&&typeof n.removeEventListener=="function"&&(n.removeEventListener("load",i,!1),n.removeEventListener("error",o,!1)),new Yn("unable to load "+e.src)};typeof n.width=="number"&&n.width>0&&typeof n.height=="number"&&n.height>0?i():!fn.isHeadless&&typeof n.addEventListener=="function"&&(n.addEventListener("load",i,!1),n.addEventListener("error",o,!1)),e._src=Ct.getAbsoluteURL(e._src),!(!fn.isHeadless&&n&&n.getAttribute("two-src"))&&(fn.isHeadless||n.setAttribute("two-src",e.src),Ct.ImageRegistry.add(e.src,n),fn.isHeadless?Ct.loadHeadlessBuffer(e,i):e.image.src=e.src)},video:function(e,t){if(fn.isHeadless)throw new Yn("video textures are not implemented in headless environments.");const n=function(o){e.image.removeEventListener("canplaythrough",n,!1),e.image.removeEventListener("error",i,!1),e.image.width=e.image.videoWidth,e.image.height=e.image.videoHeight,typeof t=="function"&&t()},i=function(o){throw e.image.removeEventListener("canplaythrough",n,!1),e.image.removeEventListener("error",i,!1),new Yn("unable to load "+e.src)};e._src=Ct.getAbsoluteURL(e._src),e.image.getAttribute("two-src")||(e.image.setAttribute("two-src",e.src),Ct.ImageRegistry.add(e.src,e.image)),e.image.readyState>=4?n():(e.image.addEventListener("canplaythrough",n,!1),e.image.addEventListener("error",i,!1),e.image.src=e.src,e.image.load())}});var Ny={src:{enumerable:!0,get:function(){return this._src},set:function(e){this._src=e,this._flagSrc=!0}},loaded:{enumerable:!0,get:function(){return this._loaded},set:function(e){this._loaded=e,this._flagLoaded=!0}},repeat:{enumerable:!0,get:function(){return this._repeat},set:function(e){this._repeat=e,this._flagRepeat=!0}},image:{enumerable:!0,get:function(){return this._image},set:function(e){const t=Be.getTag(e);let n;switch(t){case"canvas":n="#"+e.id;break;default:n=e.src}Be.ImageRegistry.contains(n)?this._image=Be.ImageRegistry.get(e.src):this._image=e,this._flagImage=!0}},offset:{enumerable:!0,get:function(){return this._offset},set:function(e){this._offset&&this._offset.unbind(J.Types.change,this._renderer.flagOffset),this._offset=e,this._offset.bind(J.Types.change,this._renderer.flagOffset),this._flagOffset=!0}},scale:{enumerable:!0,get:function(){return this._scale},set:function(e){this._scale instanceof ce&&this._scale.unbind(J.Types.change,this._renderer.flagScale),this._scale=e,this._scale instanceof ce&&this._scale.bind(J.Types.change,this._renderer.flagScale),this._flagScale=!0}}};function Kk(){this._flagOffset=!0}function qk(){this._flagScale=!0}var vr=class extends Ho{constructor(e,t,n){super(),T(this,"_flagOffset",!0),T(this,"_flagOpacity",!0),T(this,"_flagColor",!0),T(this,"_offset",0),T(this,"_opacity",1),T(this,"_color","#fff");for(let i in Iy)Object.defineProperty(this,i,Iy[i]);this._renderer.type="stop",this.offset=typeof e=="number"?e:vr.Index<=0?0:1,this.opacity=typeof n=="number"?n:1,this.color=typeof t=="string"?t:vr.Index<=0?"#fff":"#000",vr.Index=(vr.Index+1)%2}static fromObject(e){const t=new vr().copy(e);return"id"in e&&(t.id=e.id),t}copy(e){super.copy.call(this,e);for(let t=0;t<vr.Properties.length;t++){const n=vr.Properties[t];n in e&&(this[n]=e[n])}return this}clone(e){const t=new vr;return Se.each(vr.Properties,function(n){t[n]=this[n]},this),e&&e.stops&&e.stops.push(t),t}toObject(){const e=super.toObject.call(this);return e.renderer.type="stop",Se.each(vr.Properties,t=>{e[t]=this[t]},this),e}flagReset(){return this._flagOffset=this._flagColor=this._flagOpacity=!1,super.flagReset.call(this),this}},Hr=vr;T(Hr,"Index",0);T(Hr,"Properties",["offset","opacity","color"]);var Iy={offset:{enumerable:!0,get:function(){return this._offset},set:function(e){this._offset=e,this._flagOffset=!0,this.parent&&(this.parent._flagStops=!0)}},opacity:{enumerable:!0,get:function(){return this._opacity},set:function(e){this._opacity=e,this._flagOpacity=!0,this.parent&&(this.parent._flagStops=!0)}},color:{enumerable:!0,get:function(){return this._color},set:function(e){this._color=e,this._flagColor=!0,this.parent&&(this.parent._flagStops=!0)}}},ws=class extends Ho{constructor(e){super(),T(this,"_flagStops",!1),T(this,"_flagSpread",!1),T(this,"_flagUnits",!1),T(this,"_spread",""),T(this,"_units","");for(let t in jy)Object.defineProperty(this,t,jy[t]);this._renderer.type="gradient",this._renderer.flagStops=Gk.bind(this),this._renderer.bindStops=Qk.bind(this),this._renderer.unbindStops=Zk.bind(this),this.spread="pad",this.units="objectBoundingBox",e&&(this.stops=e)}static fromObject(e){let t=e.stops;t&&t.length>0&&(t=t.map(i=>i instanceof Hr?i:new Hr().copy(i)));const n=new ws().copy(e);return"id"in e&&(n.id=e.id),n}clone(e){const t=this.stops.map(i=>i.clone()),n=new ws(t);return Se.each(ws.Properties,i=>{n[i]=this[i]},this),e&&e.add(n),n}copy(e){super.copy.call(this,e);for(let t=0;t<ws.Properties.length;t++){const n=ws.Properties[t];n in e&&(this[n]=e[n])}return this}toObject(){const e={stops:this.stops.map(t=>t.toObject())};return Se.each(ws.Properties,t=>{e[t]=this[t]},this),e}_update(){return(this._flagSpread||this._flagStops)&&this.trigger(J.Types.change),this}flagReset(){return this._flagSpread=this._flagUnits=this._flagStops=!1,super.flagReset.call(this),this}},vt=ws;T(vt,"Stop",Hr);T(vt,"Properties",["spread","stops","units"]);var jy={spread:{enumerable:!0,get:function(){return this._spread},set:function(e){this._spread=e,this._flagSpread=!0}},units:{enumerable:!0,get:function(){return this._units},set:function(e){this._units=e,this._flagUnits=!0}},stops:{enumerable:!0,get:function(){return this._stops},set:function(e){const t=this._renderer.bindStops,n=this._renderer.unbindStops;this._stops&&this._stops.unbind(J.Types.insert,t).unbind(J.Types.remove,n),this._stops=new Ji((e||[]).slice(0)),this._stops.bind(J.Types.insert,t).bind(J.Types.remove,n),t(this._stops)}}};function Gk(){this._flagStops=!0}function Qk(e){let t=e.length;for(;t--;)e[t].bind(J.Types.change,this._renderer.flagStops),e[t].parent=this;this._renderer.flagStops()}function Zk(e){let t=e.length;for(;t--;)e[t].unbind(J.Types.change,this._renderer.flagStops),delete e[t].parent;this._renderer.flagStops()}var Bl=class extends vt{constructor(e,t,n,i,o){super(o),T(this,"_flagEndPoints",!1),T(this,"_left",null),T(this,"_right",null);for(let l in Dy)Object.defineProperty(this,l,Dy[l]);this._renderer.type="linear-gradient",this._renderer.flagEndPoints=Jk.bind(this),this.left=new ce,this.right=new ce,typeof e=="number"&&(this.left.x=e),typeof t=="number"&&(this.left.y=t),typeof n=="number"&&(this.right.x=n),typeof i=="number"&&(this.right.y=i)}static fromObject(e){const t=new Bl().copy(e);return"id"in e&&(t.id=e.id),t}copy(e){super.copy.call(this,e);for(let t=0;t<Bl.Properties.length;t++){const n=Bl.Properties[t];n in e&&(this[n]=e[n]instanceof ce?e[n]:new ce().copy(e[n]))}return this}clone(e){const t=this.stops.map(function(i){return i.clone()}),n=new Bl(this.left._x,this.left._y,this.right._x,this.right._y,t);return Se.each(vt.Properties,function(i){n[i]=this[i]},this),e&&e.add(n),n}toObject(){const e=super.toObject.call(this);return e.left=this.left.toObject(),e.right=this.right.toObject(),e}_update(){return(this._flagEndPoints||this._flagSpread||this._flagStops)&&this.trigger(J.Types.change),this}flagReset(){return this._flagEndPoints=!1,super.flagReset.call(this),this}},et=Bl;T(et,"Stop",Hr);T(et,"Properties",["left","right"]);var Dy={left:{enumerable:!0,get:function(){return this._left},set:function(e){this._left instanceof ce&&this._left.unbind(J.Types.change,this._renderer.flagEndPoints),this._left=e,this._left.bind(J.Types.change,this._renderer.flagEndPoints),this._flagEndPoints=!0}},right:{enumerable:!0,get:function(){return this._right},set:function(e){this._right instanceof ce&&this._right.unbind(J.Types.change,this._renderer.flagEndPoints),this._right=e,this._right.bind(J.Types.change,this._renderer.flagEndPoints),this._flagEndPoints=!0}}};function Jk(){this._flagEndPoints=!0}var bs=class extends vt{constructor(e,t,n,i,o,l){super(i),T(this,"_flagRadius",!1),T(this,"_flagCenter",!1),T(this,"_flagFocal",!1),T(this,"_radius",0),T(this,"_center",null),T(this,"_focal",null);for(let a in zy)Object.defineProperty(this,a,zy[a]);this._renderer.type="radial-gradient",this._renderer.flagCenter=eS.bind(this),this._renderer.flagFocal=tS.bind(this),this.center=new ce,this.radius=typeof n=="number"?n:1,this.focal=new ce,typeof e=="number"&&(this.center.x=e),typeof t=="number"&&(this.center.y=t),this.focal.copy(this.center),typeof o=="number"&&(this.focal.x=o),typeof l=="number"&&(this.focal.y=l)}static fromObject(e){const t=new bs().copy(e);return"id"in e&&(t.id=e.id),t}copy(e){super.copy.call(this,e);for(let t=0;t<bs.Properties.length;t++){const n=bs.Properties[t];n in e&&(/(center|focal)i/.test(n)?this[n]=e[n]instanceof ce?e[n]:new ce().copy(e[n]):typeof e[n]=="number"&&(this[n]=e[MediaKeySystemAccess]))}return this}clone(e){const t=this.stops.map(function(i){return i.clone()}),n=new bs(this.center._x,this.center._y,this._radius,t,this.focal._x,this.focal._y);return Se.each(vt.Properties.concat(bs.Properties),function(i){n[i]=this[i]},this),e&&e.add(n),n}toObject(){const e=super.toObject.call(this);return Se.each(bs.Properties,function(t){e[t]=this[t]},this),e.center=this.center.toObject(),e.focal=this.focal.toObject(),e}_update(){return(this._flagRadius||this._flatCenter||this._flagFocal||this._flagSpread||this._flagStops)&&this.trigger(J.Types.change),this}flagReset(){return this._flagRadius=this._flagCenter=this._flagFocal=!1,super.flagReset.call(this),this}},tt=bs;T(tt,"Stop",Hr);T(tt,"Properties",["center","radius","focal"]);var zy={radius:{enumerable:!0,get:function(){return this._radius},set:function(e){this._radius=e,this._flagRadius=!0}},center:{enumerable:!0,get:function(){return this._center},set:function(e){this._center&&this._center.unbind(J.Types.change,this._renderer.flagCenter),this._center=e,this._center.bind(J.Types.change,this._renderer.flagCenter),this._flagCenter=!0}},focal:{enumerable:!0,get:function(){return this._focal},set:function(e){this._focal&&this._focal.unbind(J.Types.change,this._renderer.flagFocal),this._focal=e,this._focal.bind(J.Types.change,this._renderer.flagFocal),this._flagFocal=!0}}};function eS(){this._flagCenter=!0}function tS(){this._flagFocal=!0}function By(e,t){if(t===0||t===1)return!0;const i=e._length*t;let o=0;for(let l=0;l<e._lengths.length;l++){const a=e._lengths[l];if(o>=i)return i-o>=0;o+=a}return!1}function nc(e,t){const n=e._length;if(t<=0)return 0;if(t>=n)return e._lengths.length-1;for(let i=0,o=0;i<e._lengths.length;i++){if(o+e._lengths[i]>=t)return t-=o,Math.max(i-1,0)+t/e._lengths[i];o+=e._lengths[i]}return-1}function Iv(e,t,n){let i,o,l,a,c,h,d,g;const m=t.controls&&t.controls.right,v=e.controls&&e.controls.left;return i=t.x,c=t.y,o=(m||t).x,h=(m||t).y,l=(v||e).x,d=(v||e).y,a=e.x,g=e.y,m&&t._relative&&(o+=t.x,h+=t.y),v&&e._relative&&(l+=e.x,d+=e.y),Av(i,c,o,h,l,d,a,g,n)}function $y(e,t,n){let i,o,l,a,c,h,d,g;const m=t.controls&&t.controls.right,v=e.controls&&e.controls.left;return i=t.x,c=t.y,o=(m||t).x,h=(m||t).y,l=(v||e).x,d=(v||e).y,a=e.x,g=e.y,m&&t._relative&&(o+=t.x,h+=t.y),v&&e._relative&&(l+=e.x,d+=e.y),ep(i,c,o,h,l,d,a,g,n)}function Ds(e){switch(e.renderer.type){case"texture":return Be.fromObject(e);case"gradient":return vt.fromObject(e);case"linear-gradient":return et.fromObject(e);case"radial-gradient":return tt.fromObject(e)}return e}var nS=Math.cos,rS=Math.sin,Uy=Math.tan,Dh=[],$n=class extends J{constructor(e,t,n,i,o,l){super(),T(this,"elements",new Br(9)),T(this,"manual",!1);let a=e;Array.isArray(a)||(a=Array.prototype.slice.call(arguments)),this.identity(),a.length>0&&this.set(a)}static Multiply(e,t,n){if(t.length<=3){const P=e;let N,j,X;const z=t[0]||0,W=t[1]||0,K=t[2]||0;return N=P[0]*z+P[1]*W+P[2]*K,j=P[3]*z+P[4]*W+P[5]*K,X=P[6]*z+P[7]*W+P[8]*K,[N,j,X]}const i=e[0],o=e[1],l=e[2],a=e[3],c=e[4],h=e[5],d=e[6],g=e[7],m=e[8],v=t[0],y=t[1],x=t[2],b=t[3],S=t[4],k=t[5],w=t[6],C=t[7],M=t[8];return n=n||new Br(9),n[0]=i*v+o*b+l*w,n[1]=i*y+o*S+l*C,n[2]=i*x+o*k+l*M,n[3]=a*v+c*b+h*w,n[4]=a*y+c*S+h*C,n[5]=a*x+c*k+h*M,n[6]=d*v+g*b+m*w,n[7]=d*y+g*S+m*C,n[8]=d*x+g*k+m*M,n}static fromObject(e){return new $n().copy(e)}set(e,t,n,i,o,l,a,c,h){if(typeof t>"u"){const d=e;e=d[0],t=d[1],n=d[2],i=d[3],o=d[4],l=d[5],a=d[6],c=d[7],h=d[8]}return this.elements[0]=e,this.elements[1]=t,this.elements[2]=n,this.elements[3]=i,this.elements[4]=o,this.elements[5]=l,this.elements[6]=a,this.elements[7]=c,this.elements[8]=h,this.trigger(J.Types.change)}copy(e){return this.elements[0]=e.elements[0],this.elements[1]=e.elements[1],this.elements[2]=e.elements[2],this.elements[3]=e.elements[3],this.elements[4]=e.elements[4],this.elements[5]=e.elements[5],this.elements[6]=e.elements[6],this.elements[7]=e.elements[7],this.elements[8]=e.elements[8],this.manual=e.manual,this.trigger(J.Types.change)}identity(){return this.elements[0]=$n.Identity[0],this.elements[1]=$n.Identity[1],this.elements[2]=$n.Identity[2],this.elements[3]=$n.Identity[3],this.elements[4]=$n.Identity[4],this.elements[5]=$n.Identity[5],this.elements[6]=$n.Identity[6],this.elements[7]=$n.Identity[7],this.elements[8]=$n.Identity[8],this.trigger(J.Types.change)}multiply(e,t,n,i,o,l,a,c,h){if(typeof t>"u")return this.elements[0]*=e,this.elements[1]*=e,this.elements[2]*=e,this.elements[3]*=e,this.elements[4]*=e,this.elements[5]*=e,this.elements[6]*=e,this.elements[7]*=e,this.elements[8]*=e,this.trigger(J.Types.change);if(typeof n>"u"&&(n=1),typeof i>"u"){e=e||0,t=t||0,n=n||0,o=this.elements;const ae=o[0]*e+o[1]*t+o[2]*n,te=o[3]*e+o[4]*t+o[5]*n,re=o[6]*e+o[7]*t+o[8]*n;return[ae,te,re]}const d=this.elements,g=[e,t,n,i,o,l,a,c,h],m=d[0],v=d[1],y=d[2],x=d[3],b=d[4],S=d[5],k=d[6],w=d[7],C=d[8],M=g[0],P=g[1],N=g[2],j=g[3],X=g[4],z=g[5],W=g[6],K=g[7],q=g[8];return this.elements[0]=m*M+v*j+y*W,this.elements[1]=m*P+v*X+y*K,this.elements[2]=m*N+v*z+y*q,this.elements[3]=x*M+b*j+S*W,this.elements[4]=x*P+b*X+S*K,this.elements[5]=x*N+b*z+S*q,this.elements[6]=k*M+w*j+C*W,this.elements[7]=k*P+w*X+C*K,this.elements[8]=k*N+w*z+C*q,this.trigger(J.Types.change)}inverse(e){const t=this.elements;e=e||new $n;const n=t[0],i=t[1],o=t[2],l=t[3],a=t[4],c=t[5],h=t[6],d=t[7],g=t[8],m=g*a-c*d,v=-g*l+c*h,y=d*l-a*h;let x=n*m+i*v+o*y;return x?(x=1/x,e.elements[0]=m*x,e.elements[1]=(-g*i+o*d)*x,e.elements[2]=(c*i-o*a)*x,e.elements[3]=v*x,e.elements[4]=(g*n-o*h)*x,e.elements[5]=(-c*n+o*l)*x,e.elements[6]=y*x,e.elements[7]=(-d*n+i*h)*x,e.elements[8]=(a*n-i*l)*x,e):null}scale(e,t){return arguments.length<=1&&(t=e),this.multiply(e,0,0,0,t,0,0,0,1)}rotate(e){const t=nS(e),n=rS(e);return this.multiply(t,-n,0,n,t,0,0,0,1)}translate(e,t){return this.multiply(1,0,e,0,1,t,0,0,1)}skewX(e){const t=Uy(e);return this.multiply(1,t,0,0,1,0,0,0,1)}skewY(e){const t=Uy(e);return this.multiply(1,0,0,t,1,0,0,0,1)}toString(e){return Dh.length=0,this.toTransformArray(e,Dh),Dh.map(He).join(" ")}toTransformArray(e,t){const n=this.elements,i=!!t,o=n[0],l=n[1],a=n[2],c=n[3],h=n[4],d=n[5];if(e){const g=n[6],m=n[7],v=n[8];if(i){t[0]=o,t[1]=c,t[2]=g,t[3]=l,t[4]=h,t[5]=m,t[6]=a,t[7]=d,t[8]=v;return}return[o,c,g,l,h,m,a,d,v]}if(i){t[0]=o,t[1]=c,t[2]=l,t[3]=h,t[4]=a,t[5]=d;return}return[o,c,l,h,a,d]}toArray(e,t){const n=this.elements,i=!!t,o=n[0],l=n[1],a=n[2],c=n[3],h=n[4],d=n[5];if(e){const g=n[6],m=n[7],v=n[8];if(i){t[0]=o,t[1]=l,t[2]=a,t[3]=c,t[4]=h,t[5]=d,t[6]=g,t[7]=m,t[8]=v;return}return[o,l,a,c,h,d,g,m,v]}if(i){t[0]=o,t[1]=l,t[2]=a,t[3]=c,t[4]=h,t[5]=d;return}return[o,l,a,c,h,d]}toObject(){return{renderer:{type:"matrix"},elements:this.toArray(!0),manual:!!this.manual}}clone(){return new $n().copy(this)}},zs=$n;T(zs,"Identity",[1,0,0,0,1,0,0,0,1]);Rv(zs);var Ur=class extends Ho{constructor(){super(),T(this,"_flagMatrix",!0),T(this,"_flagScale",!1),T(this,"_matrix",null),T(this,"_worldMatrix",null),T(this,"_position",null),T(this,"_rotation",0),T(this,"_scale",1),T(this,"_skewX",0),T(this,"_skewY",0);for(let t in Tu)Object.defineProperty(this,t,Tu[t]);this._renderer.flagMatrix=jv.bind(this),this.isShape=!0,this.matrix=new zs,this.worldMatrix=new zs,this.position=new ce,this.rotation=0,this.scale=1,this.skewX=0,this.skewY=0}static fromObject(t){const n=new Ur().copy(t);return"id"in t&&(n.id=t.id),n}get renderer(){return this._renderer}set renderer(t){this._renderer=t}get translation(){return Tu.position.get.apply(this,arguments)}set translation(t){Tu.position.set.apply(this,arguments)}addTo(t){return t.add(this),this}remove(){return this.parent?(this.parent.remove(this),this):this}copy(t){return super.copy.call(this,t),"position"in t&&(t.position instanceof ce?this.position=t.position:this.position.copy(t.position)),"rotation"in t&&(this.rotation=t.rotation),"scale"in t&&(this.scale=typeof t.scale=="number"||t.scale instanceof ce?t.scale:new ce(t.scale.x,t.scale.y)),"skewX"in t&&(this.skewX=t.skewX),"skewY"in t&&(this.skewY=t.skewY),"matrix"in t&&t.matrix.manual&&(this.matrix.copy(t.matrix),this.matrix.manual=!0),this}clone(t){const n=new Ur;return n.position.copy(this.position),n.rotation=this.rotation,n.scale=this.scale,n.skewX=this.skewX,n.skewY=this.skewY,this.matrix.manual&&n.matrix.copy(this.matrix),t&&t.add(n),n._update()}toObject(){const t=super.toObject.call(this);return t.renderer={type:"shape"},t.isShape=!0,t.translation=this.translation.toObject(),t.rotation=this.translation.rotation,t.scale=this.scale instanceof ce?this.scale.toObject():this.scale,t.skewX=this.skewX,t.skewY=this.skewY,t.matrix=this.matrix.toObject(),t}_update(t){return!this._matrix.manual&&this._flagMatrix&&(this._matrix.identity().translate(this.position.x,this.position.y),this._scale instanceof ce?this._matrix.scale(this._scale.x,this._scale.y):this._matrix.scale(this._scale),this._matrix.rotate(this.rotation),this._matrix.skewX(this.skewX),this._matrix.skewY(this.skewY)),t&&this.parent&&this.parent._update&&this.parent._update(),this}flagReset(){return this._flagMatrix=this._flagScale=!1,super.flagReset.call(this),this}},Tu={position:{enumerable:!0,get:function(){return this._position},set:function(e){this._position&&this._position.unbind(J.Types.change,this._renderer.flagMatrix),this._position=e,this._position.bind(J.Types.change,this._renderer.flagMatrix),jv.call(this)}},rotation:{enumerable:!0,get:function(){return this._rotation},set:function(e){this._rotation=e,this._flagMatrix=!0}},scale:{enumerable:!0,get:function(){return this._scale},set:function(e){this._scale instanceof ce&&this._scale.unbind(J.Types.change,this._renderer.flagMatrix),this._scale=e,this._scale instanceof ce&&this._scale.bind(J.Types.change,this._renderer.flagMatrix),this._flagMatrix=!0,this._flagScale=!0}},skewX:{enumerable:!0,get:function(){return this._skewX},set:function(e){this._skewX=e,this._flagMatrix=!0}},skewY:{enumerable:!0,get:function(){return this._skewY},set:function(e){this._skewY=e,this._flagMatrix=!0}},matrix:{enumerable:!0,get:function(){return this._matrix},set:function(e){this._matrix=e,this._flagMatrix=!0}},worldMatrix:{enumerable:!0,get:function(){return Tv(this,this._worldMatrix),this._worldMatrix},set:function(e){this._worldMatrix=e}}};function jv(){this._flagMatrix=!0}var wo=Math.min,bo=Math.max,iS=Math.ceil,sS=Math.floor,oS=new ce,Ui=class extends Ur{constructor(e,t,n,i){super(),T(this,"_flagVertices",!0),T(this,"_flagLength",!0),T(this,"_flagFill",!0),T(this,"_flagStroke",!0),T(this,"_flagLinewidth",!0),T(this,"_flagOpacity",!0),T(this,"_flagVisible",!0),T(this,"_flagCap",!0),T(this,"_flagJoin",!0),T(this,"_flagMiter",!0),T(this,"_flagMask",!1),T(this,"_flagClip",!1),T(this,"_length",0),T(this,"_fill","#fff"),T(this,"_stroke","#000"),T(this,"_linewidth",1),T(this,"_opacity",1),T(this,"_visible",!0),T(this,"_cap","round"),T(this,"_join","round"),T(this,"_miter",4),T(this,"_closed",!0),T(this,"_curved",!1),T(this,"_automatic",!0),T(this,"_beginning",0),T(this,"_ending",1),T(this,"_mask",null),T(this,"_clip",!1),T(this,"_dashes",null);for(let o in Vy)Object.defineProperty(this,o,Vy[o]);this._renderer.type="path",this._renderer.flagVertices=Dv.bind(this),this._renderer.bindVertices=zv.bind(this),this._renderer.unbindVertices=Bv.bind(this),this._renderer.flagFill=$v.bind(this),this._renderer.flagStroke=Uv.bind(this),this._renderer.vertices=[],this._renderer.collection=[],this.closed=!!t,this.curved=!!n,this.beginning=0,this.ending=1,this.fill="#fff",this.stroke="#000",this.linewidth=1,this.opacity=1,this.className="",this.visible=!0,this.cap="butt",this.join="miter",this.miter=4,this.vertices=e,this.automatic=!i,this.dashes=[],this.dashes.offset=0}static fromObject(e){const t=typeof e.fill=="string"?e.fill:Ds(e.fill),n=typeof e.stroke=="string"?e.stroke:Ds(e.stroke),i=new Ui().copy(Jd(Zd({},e),{fill:t,stroke:n}));return"id"in e&&(i.id=e.id),i}copy(e){super.copy.call(this,e),this.vertices=[];for(let t=0;t<e.vertices.length;t++){const n=e.vertices[t];n instanceof Le?this.vertices.push(e.vertices[t].clone()):this.vertices.push(new Le().copy(n))}for(let t=0;t<Ui.Properties.length;t++){const n=Ui.Properties[t];n in e&&(this[n]=e[n])}return this}clone(e){const t=new Ui;for(let n=0;n<this.vertices.length;n++)t.vertices.push(this.vertices[n].clone());for(let n=0;n<Ui.Properties.length;n++){const i=Ui.Properties[n];t[i]=this[i]}return t.className=this.className,t.translation.copy(this.translation),t.rotation=this.rotation,t.scale=this.scale,t.skewX=this.skewX,t.skewY=this.skewY,this.matrix.manual&&t.matrix.copy(this.matrix),e&&e.add(t),t._update()}toObject(){const e=super.toObject.call(this);return e.renderer.type="path",e.vertices=this.vertices.map(t=>t.toObject()),Se.each(Ui.Properties,t=>{typeof this[t]<"u"&&(this[t].toObject?e[t]=this[t].toObject():e[t]=this[t])},this),e}noFill(){return this.fill="none",this}noStroke(){return this.stroke="none",this.linewidth=0,this}corner(){const e=this.getBoundingClientRect(!0),t=e.width/2,n=e.height/2,i=e.left+e.width/2,o=e.top+e.height/2;for(let l=0;l<this.vertices.length;l++){const a=this.vertices[l];a.x-=i,a.y-=o,a.x+=t,a.y+=n}return this.mask&&(this.mask.translation.x-=i,this.mask.translation.x+=t,this.mask.translation.y-=o,this.mask.translation.y+=n),this}center(){const e=this.getBoundingClientRect(!0),t=e.left+e.width/2-this.translation.x,n=e.top+e.height/2-this.translation.y;for(let i=0;i<this.vertices.length;i++){const o=this.vertices[i];o.x-=t,o.y-=n}return this.mask&&(this.mask.translation.x-=t,this.mask.translation.y-=n),this}getBoundingClientRect(e){let t,n,i,o,l,a,c=1/0,h=-1/0,d=1/0,g=-1/0;if(this._update(!0),t=e?this.matrix:this.worldMatrix,n=(this.linewidth||0)/2,i=this._renderer.vertices.length,this.linewidth>0||this.stroke&&!/(transparent|none)/i.test(this.stroke))if(this.matrix.manual){const{scaleX:m,scaleY:v}=Bo(t.elements[0],t.elements[3],t.elements[1],t.elements[4],t.elements[2],t.elements[5]);typeof m=="number"&&typeof v=="number"&&(n=Math.max(m,v)*(this.linewidth||0)/2)}else n*=typeof this.scale=="number"?this.scale:Math.max(this.scale.x,this.scale.y);if(i<=0)return{width:0,height:0};for(o=0;o<i;o++){a=this._renderer.vertices[o],l=this._renderer.vertices[(o+i-1)%i];const[m,v]=t.multiply(l.x,l.y),[y,x]=t.multiply(a.x,a.y);if(l.controls&&a.controls){let b=l.controls.right.x,S=l.controls.right.y;l.relative&&(b+=l.x,S+=l.y);let[k,w]=t.multiply(b,S),C=a.controls.left.x,M=a.controls.left.y;a.relative&&(C+=a.x,M+=a.y);let[P,N]=t.multiply(C,M);const j=Pv(m,v,k,w,P,N,y,x);d=wo(j.min.y-n,d),c=wo(j.min.x-n,c),h=bo(j.max.x+n,h),g=bo(j.max.y+n,g)}else o<=1&&(d=wo(v-n,d),c=wo(m-n,c),h=bo(m+n,h),g=bo(v+n,g)),d=wo(x-n,d),c=wo(y-n,c),h=bo(y+n,h),g=bo(x+n,g)}return{top:d,left:c,right:h,bottom:g,width:h-c,height:g-d}}getPointAt(e,t){let n,i,o,l,a,c,h,d,g,m,v,y,x,b,S,k=this.length*Math.min(Math.max(e,0),1);const w=this.vertices.length,C=w-1;let M=null,P=null;for(let ue=0,Z=this._lengths.length,D=0;ue<Z;ue++){if(D+this._lengths[ue]>=k){this._closed?(n=Xn(ue,w),i=Xn(ue-1,w),ue===0&&(n=i,i=ue)):(n=ue,i=Math.min(Math.max(ue-1,0),C)),M=this.vertices[n],P=this.vertices[i],k-=D,this._lengths[ue]!==0?e=k/this._lengths[ue]:e=0;break}D+=this._lengths[ue]}if(M===null||P===null)return null;if(M){if(!P)return M}else return P;S=P.controls&&P.controls.right,b=M.controls&&M.controls.left,a=P.x,m=P.y,c=(S||P).x,v=(S||P).y,h=(b||M).x,y=(b||M).y,d=M.x,x=M.y,S&&P.relative&&(c+=P.x,v+=P.y),b&&M.relative&&(h+=M.x,y+=M.y),l=Zl(e,a,c,h,d),g=Zl(e,m,v,y,x);const N=Vn(a,c,e),j=Vn(m,v,e),X=Vn(c,h,e),z=Vn(v,y,e),W=Vn(h,d,e),K=Vn(y,x,e),q=Vn(N,X,e),ae=Vn(j,z,e),te=Vn(X,W,e),re=Vn(z,K,e);return Se.isObject(t)?(t.x=l,t.y=g,t instanceof Le&&(t.controls.left.x=q,t.controls.left.y=ae,t.controls.right.x=te,t.controls.right.y=re,(typeof t.relative!="boolean"||t.relative)&&(t.controls.left.x-=l,t.controls.left.y-=g,t.controls.right.x-=l,t.controls.right.y-=g)),t.t=e,t):(o=new Le(l,g,q-l,ae-g,te-l,re-g,this._curved?de.curve:de.line),o.t=e,o)}plot(){if(this.curved)return Lv(this._collection,this.closed),this;for(let e=0;e<this._collection.length;e++)this._collection[e].command=e===0?de.move:de.line;return this}subdivide(e){this._update();const t=this.vertices.length-1,n=this._closed||this.vertices[t]._command===de.close;let i=this.vertices[t],o=[],l;return Se.each(this.vertices,function(a,c){if(c<=0&&!n){i=a;return}if(a.command===de.move){o.push(new Le(i.x,i.y)),c>0&&(o[o.length-1].command=de.line),i=a;return}l=$y(a,i,e),o=o.concat(l),Se.each(l,function(h,d){d<=0&&i.command===de.move?h.command=de.move:h.command=de.line}),c>=t&&(this._closed&&this._automatic?(i=a,l=$y(a,i,e),o=o.concat(l),Se.each(l,function(h,d){d<=0&&i.command===de.move?h.command=de.move:h.command=de.line})):n&&o.push(new Le(a.x,a.y)),o[o.length-1].command=n?de.close:de.line),i=a},this),this._automatic=!1,this._curved=!1,this.vertices=o,this}_updateLength(e,t){t||this._update();const i=this.vertices.length-1;let o=this.vertices[i],l=0;return typeof this._lengths>"u"&&(this._lengths=[]),Se.each(this.vertices,function(a,c){if(c<=0||a.command===de.move){o=a,this._lengths[c]=0;return}this._lengths[c]=Iv(a,o,e),l+=this._lengths[c],o=a},this),this._length=l,this._flagLength=!1,this}_update(){if(this._flagVertices){this._automatic&&this.plot(),this._flagLength&&this._updateLength(void 0,!0);const e=this._collection.length,t=this._closed,n=Math.min(this._beginning,this._ending),i=Math.max(this._beginning,this._ending),o=nc(this,n*this._length),l=nc(this,i*this._length),a=iS(o),c=sS(l);let h,d,g,m,v,y;for(this._renderer.vertices.length=0,y=0;y<e;y++)this._renderer.collection.length<=y&&this._renderer.collection.push(new Le),y>c&&!d?(v=this._renderer.collection[y].copy(this._collection[y]),this.getPointAt(i,v),v.command=this._renderer.collection[y].command,this._renderer.vertices.push(v),d=v,g=this._collection[y-1],g&&g.controls&&(v.relative?v.controls.right.clear():v.controls.right.copy(v),g.relative?this._renderer.collection[y-1].controls.right.copy(g.controls.right).lerp(ce.zero,1-v.t):this._renderer.collection[y-1].controls.right.copy(g.controls.right).lerp(g,1-v.t))):y>=a&&y<=c&&(v=this._renderer.collection[y].copy(this._collection[y]),this._renderer.vertices.push(v),y===c&&By(this,i)?(d=v,!t&&d.controls&&(d.relative?d.controls.right.clear():d.controls.right.copy(d))):y===a&&By(this,n)&&(h=v,h.command=de.move,!t&&h.controls&&(h.relative?h.controls.left.clear():h.controls.left.copy(h))));a>0&&!h&&(y=a-1,v=this._renderer.collection[y].copy(this._collection[y]),this.getPointAt(n,v),v.command=de.move,this._renderer.vertices.unshift(v),m=this._collection[y+1],m&&m.controls&&(v.controls.left.clear(),m.relative?this._renderer.collection[y+1].controls.left.copy(m.controls.left).lerp(ce.zero,v.t):(oS.copy(m),this._renderer.collection[y+1].controls.left.copy(m.controls.left).lerp(m,v.t))))}return Ur.prototype._update.apply(this,arguments),this}flagReset(){return this._flagVertices=this._flagLength=this._flagFill=this._flagStroke=this._flagLinewidth=this._flagOpacity=this._flagVisible=this._flagCap=this._flagJoin=this._flagMiter=this._flagClip=!1,Ur.prototype.flagReset.call(this),this}},Ie=Ui;T(Ie,"Properties",["fill","stroke","linewidth","opacity","visible","cap","join","miter","closed","curved","automatic","beginning","ending","dashes"]);T(Ie,"Utils",{getCurveLength:Iv});var Vy={linewidth:{enumerable:!0,get:function(){return this._linewidth},set:function(e){this._linewidth=e,this._flagLinewidth=!0}},opacity:{enumerable:!0,get:function(){return this._opacity},set:function(e){this._opacity=e,this._flagOpacity=!0}},visible:{enumerable:!0,get:function(){return this._visible},set:function(e){this._visible=e,this._flagVisible=!0}},cap:{enumerable:!0,get:function(){return this._cap},set:function(e){this._cap=e,this._flagCap=!0}},join:{enumerable:!0,get:function(){return this._join},set:function(e){this._join=e,this._flagJoin=!0}},miter:{enumerable:!0,get:function(){return this._miter},set:function(e){this._miter=e,this._flagMiter=!0}},fill:{enumerable:!0,get:function(){return this._fill},set:function(e){(this._fill instanceof vt||this._fill instanceof et||this._fill instanceof tt||this._fill instanceof Be)&&this._fill.unbind(J.Types.change,this._renderer.flagFill),this._fill=e,this._flagFill=!0,(this._fill instanceof vt||this._fill instanceof et||this._fill instanceof tt||this._fill instanceof Be)&&this._fill.bind(J.Types.change,this._renderer.flagFill)}},stroke:{enumerable:!0,get:function(){return this._stroke},set:function(e){(this._stroke instanceof vt||this._stroke instanceof et||this._stroke instanceof tt||this._stroke instanceof Be)&&this._stroke.unbind(J.Types.change,this._renderer.flagStroke),this._stroke=e,this._flagStroke=!0,(this._stroke instanceof vt||this._stroke instanceof et||this._stroke instanceof tt||this._stroke instanceof Be)&&this._stroke.bind(J.Types.change,this._renderer.flagStroke)}},length:{get:function(){return this._flagLength&&this._updateLength(),this._length}},closed:{enumerable:!0,get:function(){return this._closed},set:function(e){this._closed=!!e,this._flagVertices=!0}},curved:{enumerable:!0,get:function(){return this._curved},set:function(e){this._curved=!!e,this._flagVertices=!0}},automatic:{enumerable:!0,get:function(){return this._automatic},set:function(e){if(e===this._automatic)return;this._automatic=!!e;const t=this._automatic?"ignore":"listen";Se.each(this.vertices,function(n){n[t]()})}},beginning:{enumerable:!0,get:function(){return this._beginning},set:function(e){this._beginning=e,this._flagVertices=!0}},ending:{enumerable:!0,get:function(){return this._ending},set:function(e){this._ending=e,this._flagVertices=!0}},vertices:{enumerable:!0,get:function(){return this._collection},set:function(e){const t=this._renderer.bindVertices,n=this._renderer.unbindVertices;this._collection&&this._collection.unbind(J.Types.insert,t).unbind(J.Types.remove,n),e instanceof Ji?this._collection=e:this._collection=new Ji(e||[]),this._collection.bind(J.Types.insert,t).bind(J.Types.remove,n),t(this._collection)}},mask:{enumerable:!0,get:function(){return this._mask},set:function(e){this._mask=e,this._flagMask=!0,Se.isObject(e)&&!e.clip&&(e.clip=!0)}},clip:{enumerable:!0,get:function(){return this._clip},set:function(e){this._clip=e,this._flagClip=!0}},dashes:{enumerable:!0,get:function(){return this._dashes},set:function(e){typeof e.offset!="number"&&(e.offset=this.dashes&&this._dashes.offset||0),this._dashes=e}}};function Dv(){this._flagVertices=!0,this._flagLength=!0,this.parent&&(this.parent._flagLength=!0)}function zv(e){let t=e.length;for(;t--;)e[t].bind(J.Types.change,this._renderer.flagVertices);this._renderer.flagVertices()}function Bv(e){let t=e.length;for(;t--;)e[t].unbind(J.Types.change,this._renderer.flagVertices);this._renderer.flagVertices()}function $v(){this._flagFill=!0}function Uv(){this._flagStroke=!0}var $l=class extends Ie{constructor(e,t,n,i){const o=[new Le,new Le,new Le,new Le];super(o,!0,!1,!0),T(this,"_flagWidth",0),T(this,"_flagHeight",0),T(this,"_width",0),T(this,"_height",0),T(this,"_origin",null),this._renderer.type="rectangle";for(let l in Hy)Object.defineProperty(this,l,Hy[l]);this.width=typeof n=="number"?n:1,this.height=typeof i=="number"?i:1,this.origin=new ce,typeof e=="number"&&(this.translation.x=e),typeof t=="number"&&(this.translation.y=t),this._update()}static fromObject(e){const t=new $l().copy(e);return"id"in e&&(t.id=e.id),t}copy(e){super.copy.call(this,e);for(let t=0;t<$l.Properties.length;t++){const n=$l.Properties[t];n in e&&typeof e[n]=="number"&&(this[n]=e[n])}return this}_update(){if(this._flagVertices||this._flagWidth||this._flagHeight){const e=this._width/2,t=this._height/2;!this._closed&&this.vertices.length===4&&this.vertices.push(new Le),this.vertices[0].set(-e,-t).sub(this._origin).command=de.move,this.vertices[1].set(e,-t).sub(this._origin).command=de.line,this.vertices[2].set(e,t).sub(this._origin).command=de.line,this.vertices[3].set(-e,t).sub(this._origin).command=de.line,this.vertices[4]&&(this.vertices[4].set(-e,-t).sub(this._origin).command=de.line)}return super._update.call(this),this}flagReset(){return this._flagWidth=this._flagHeight=!1,super.flagReset.call(this),this}clone(e){const t=new $l(0,0,this.width,this.height);t.translation.copy(this.translation),t.rotation=this.rotation,t.scale=this.scale,t.skewX=this.skewX,t.skewY=this.skewY,this.matrix.manual&&t.matrix.copy(this.matrix);for(let n=0;n<Ie.Properties.length;n++){const i=Ie.Properties[n];t[i]=this[i]}return e&&e.add(t),t}toObject(){const e=super.toObject.call(this);return e.renderer.type="rectangle",e.width=this.width,e.height=this.height,e.origin=this.origin.toObject(),e}},rs=$l;T(rs,"Properties",["width","height"]);var Hy={width:{enumerable:!0,get:function(){return this._width},set:function(e){this._width=e,this._flagWidth=!0}},height:{enumerable:!0,get:function(){return this._height},set:function(e){this._height=e,this._flagHeight=!0}},origin:{enumerable:!0,get:function(){return this._origin},set:function(e){this._origin&&this._origin.unbind(J.Types.change,this._renderer.flagVertices),this._origin=e,this._origin.bind(J.Types.change,this._renderer.flagVertices),this._renderer.flagVertices()}}},Ul=class extends rs{constructor(e,t,n,i,o,l){super(t,n,0,0),T(this,"_flagTexture",!1),T(this,"_flagColumns",!1),T(this,"_flagRows",!1),T(this,"_flagFrameRate",!1),T(this,"_flagIndex",!1),T(this,"_amount",1),T(this,"_duration",0),T(this,"_startTime",0),T(this,"_playing",!1),T(this,"_firstFrame",0),T(this,"_lastFrame",0),T(this,"_loop",!0),T(this,"_texture",null),T(this,"_columns",1),T(this,"_rows",1),T(this,"_frameRate",0),T(this,"_index",0),T(this,"_origin",null);for(let a in Wy)Object.defineProperty(this,a,Wy[a]);this.noStroke(),this.noFill(),e instanceof Be?this.texture=e:typeof e=="string"&&(this.texture=new Be(e)),this.origin=new ce,this._update(),typeof i=="number"&&(this.columns=i),typeof o=="number"&&(this.rows=o),typeof l=="number"&&(this.frameRate=l),this.index=0}static fromObject(e){const t=new Ul().copy(e);return"id"in e&&(t.id=e.id),t}copy(e){super.copy.call(this,e);for(let t=0;t<Ul.Properties.length;t++){const n=Ul.Properties[t];n in e&&(this[n]=e[n])}return this}play(e,t,n){return this._playing=!0,this._firstFrame=0,this._lastFrame=this.amount-1,this._startTime=Se.performance.now(),typeof e=="number"&&(this._firstFrame=e),typeof t=="number"&&(this._lastFrame=t),typeof n=="function"?this._onLastFrame=n:delete this._onLastFrame,this._index!==this._firstFrame&&(this._startTime-=1e3*Math.abs(this._index-this._firstFrame)/this._frameRate),this}pause(){return this._playing=!1,this}stop(){return this._playing=!1,this._index=0,this}clone(e){const t=new Ul(this.texture,this.translation.x,this.translation.y,this.columns,this.rows,this.frameRate);return this.playing&&t.play(this._firstFrame,this._lastFrame),t.loop=this.loop,t.firstFrame=this.firstFrame,t.lastFrame=this.lastFrame,e&&e.add(t),t}toObject(){const e=super.toObject.call(this);return e.texture=this.texture.toObject(),e.columns=this.columns,e.rows=this.rows,e.frameRate=this.frameRate,e.index=this.index,e.firstFrame=this.firstFrame,e.lastFrame=this.lastFrame,e.loop=this.loop,e}_update(){const e=this._texture,t=this._columns,n=this._rows;let i,o,l,a,c,h,d,g,m;if(e&&((this._flagColumns||this._flagRows)&&(this._amount=this._columns*this._rows),this._flagFrameRate&&(this._duration=1e3*this._amount/this._frameRate),this._flagTexture&&(this.fill=e),e.loaded)){d=e.image.width,g=e.image.height,i=d/t,o=g/n,a=this._amount,this.width!==i&&(this.width=i),this.height!==o&&(this.height=o),this._playing&&this._frameRate>0&&(Se.isNaN(this._lastFrame)&&(this._lastFrame=a-1),l=Se.performance.now()-this._startTime,m=this._lastFrame+1,c=1e3*(m-this._firstFrame)/this._frameRate,this._loop?l=l%c:l=Math.min(l,c),h=Vn(this._firstFrame,m,l/c),h=Math.floor(h),h!==this._index&&(this._index=h,h>=this._lastFrame-1&&this._onLastFrame&&this._onLastFrame()));const v=this._index%t,y=Math.floor(this._index/t),x=-i*v+(d-i)/2,b=-o*y+(g-o)/2;x!==e.offset.x&&(e.offset.x=x),b!==e.offset.y&&(e.offset.y=b)}return super._update.call(this),this}flagReset(){return this._flagTexture=this._flagColumns=this._flagRows=this._flagFrameRate=!1,super.flagReset.call(this),this}},Sc=Ul;T(Sc,"Properties",["texture","columns","rows","frameRate","index","firstFrame","lastFrame","loop"]);var Wy={texture:{enumerable:!0,get:function(){return this._texture},set:function(e){this._texture=e,this._flagTexture=!0}},columns:{enumerable:!0,get:function(){return this._columns},set:function(e){this._columns=e,this._flagColumns=!0}},rows:{enumerable:!0,get:function(){return this._rows},set:function(e){this._rows=e,this._flagRows=!0}},frameRate:{enumerable:!0,get:function(){return this._frameRate},set:function(e){this._frameRate=e,this._flagFrameRate=!0}},index:{enumerable:!0,get:function(){return this._index},set:function(e){this._index=e,this._flagIndex=!0}},firstFrame:{enumerable:!0,get:function(){return this._firstFrame},set:function(e){this._firstFrame=e}},lastFrame:{enumerable:!0,get:function(){return this._lastFrame},set:function(e){this._lastFrame=e}},loop:{enumerable:!0,get:function(){return this._loop},set:function(e){this._loop=!!e}}},vd,Vv=class extends Ji{constructor(e){e=Array.isArray(e)?e:Array.prototype.slice.call(arguments),super(e),kv(this,vd,{}),this.attach(e),this.on(J.Types.insert,this.attach),this.on(J.Types.remove,this.detach)}get ids(){return En(this,vd)}attach(e){for(let t=0;t<e.length;t++){const n=e[t];n&&n.id&&(this.ids[n.id]=n)}return this}detach(e){for(let t=0;t<e.length;t++)delete this.ids[e[t].id];return this}};vd=new WeakMap;var ks=class extends Ie{constructor(e,t,n,i,o,l,a){const c=a||gn.Resolution*3,h=[];for(let d=0;d<c;d++)h.push(new Le);super(h,!0,!1,!0),T(this,"_flagStartAngle",!1),T(this,"_flagEndAngle",!1),T(this,"_flagInnerRadius",!1),T(this,"_flagOuterRadius",!1),T(this,"_startAngle",0),T(this,"_endAngle",tn),T(this,"_innerRadius",0),T(this,"_outerRadius",0),this._renderer.type="arc-segment";for(let d in Yy)Object.defineProperty(this,d,Yy[d]);typeof n=="number"&&(this.innerRadius=n),typeof i=="number"&&(this.outerRadius=i),typeof o=="number"&&(this.startAngle=o),typeof l=="number"&&(this.endAngle=l),this._update(),typeof e=="number"&&(this.translation.x=e),typeof t=="number"&&(this.translation.y=t)}static fromObject(e){const t=new ks().copy(e);return"id"in e&&(t.id=e.id),t}copy(e){super.copy.call(this,e);for(let t=0;t<ks.Properties.length;t++){const n=ks.Properties[t];n in e&&typeof e[n]=="number"&&(this[n]=e[n])}return this}_update(){if(this._flagVertices||this._flagStartAngle||this._flagEndAngle||this._flagInnerRadius||this._flagOuterRadius){const e=this._startAngle,t=this._endAngle,n=this._innerRadius,i=this._outerRadius,o=Xn(e,tn)===Xn(t,tn),l=n>0,a=this.vertices;let c=l?a.length/2:a.length,h,d=0,g,m,v,y,x,b,S,k,w;for(o?c--:l||(c-=2),g=0,m=c-1;g<c;g++){switch(v=g/m,y=a[d],x=v*(t-e)+e,b=(t-e)/c,S=i*Math.cos(x),k=i*Math.sin(x),g){case 0:h=de.move;break;default:h=de.curve}y.command=h,y.x=S,y.y=k,y.controls.left.clear(),y.controls.right.clear(),y.command===de.curve&&(w=i*b/Math.PI,y.controls.left.x=w*Math.cos(x-Tt),y.controls.left.y=w*Math.sin(x-Tt),y.controls.right.x=w*Math.cos(x+Tt),y.controls.right.y=w*Math.sin(x+Tt),g===1&&y.controls.left.multiplyScalar(2),g===m&&y.controls.right.multiplyScalar(2)),d++}if(l){for(o?(a[d].command=de.close,d++):(c--,m=c-1),g=0;g<c;g++)v=g/m,y=a[d],x=(1-v)*(t-e)+e,b=(t-e)/c,S=n*Math.cos(x),k=n*Math.sin(x),h=de.curve,g<=0&&(h=o?de.move:de.line),y.command=h,y.x=S,y.y=k,y.controls.left.clear(),y.controls.right.clear(),y.command===de.curve&&(w=n*b/Math.PI,y.controls.left.x=w*Math.cos(x+Tt),y.controls.left.y=w*Math.sin(x+Tt),y.controls.right.x=w*Math.cos(x-Tt),y.controls.right.y=w*Math.sin(x-Tt),g===1&&y.controls.left.multiplyScalar(2),g===m&&y.controls.right.multiplyScalar(2)),d++;a[d].copy(a[0]),a[d].command=de.line}else o||(a[d].command=de.line,a[d].x=0,a[d].y=0,d++,a[d].copy(a[0]),a[d].command=de.line)}return super._update.call(this),this}flagReset(){return super.flagReset.call(this),this._flagStartAngle=this._flagEndAngle=this._flagInnerRadius=this._flagOuterRadius=!1,this}clone(e){const t=this.innerRadius,n=this.outerRadius,i=this.startAngle,o=this.endAngle,l=this.vertices.length,a=new ks(0,0,t,n,i,o,l);a.translation.copy(this.translation),a.rotation=this.rotation,a.scale=this.scale,a.skewX=this.skewX,a.skewY=this.skewY,this.matrix.manual&&a.matrix.copy(this.matrix);for(let c=0;c<Ie.Properties.length;c++){const h=Ie.Properties[c];a[h]=this[h]}return e&&e.add(a),a}toObject(){const e=super.toObject.call(this);e.renderer.type="arc-segment";for(let t=0;t<ks.Properties.length;t++){const n=ks.Properties[t];e[n]=this[n]}return e}},Ec=ks;T(Ec,"Properties",["startAngle","endAngle","innerRadius","outerRadius"]);var Yy={startAngle:{enumerable:!0,get:function(){return this._startAngle},set:function(e){this._startAngle=e,this._flagStartAngle=!0}},endAngle:{enumerable:!0,get:function(){return this._endAngle},set:function(e){this._endAngle=e,this._flagEndAngle=!0}},innerRadius:{enumerable:!0,get:function(){return this._innerRadius},set:function(e){this._innerRadius=e,this._flagInnerRadius=!0}},outerRadius:{enumerable:!0,get:function(){return this._outerRadius},set:function(e){this._outerRadius=e,this._flagOuterRadius=!0}}},zh=Math.cos,Bh=Math.sin,Ss=class extends Ie{constructor(e,t,n,i){const o=i?Math.max(i,2):4,l=[];for(let a=0;a<o;a++)l.push(new Le(0,0,0,0,0,0));super(l,!0,!0,!0),T(this,"_flagRadius",!1),T(this,"_radius",0),this._renderer.type="circle";for(let a in Xy)Object.defineProperty(this,a,Xy[a]);typeof n=="number"&&(this.radius=n),this._update(),typeof e=="number"&&(this.translation.x=e),typeof t=="number"&&(this.translation.y=t)}static fromObject(e){const t=new Ss().copy(e);return"id"in e&&(t.id=e.id),t}copy(e){super.copy.call(this,e);for(let t=0;t<Ss.Properties.length;t++){const n=Ss.Properties[t];n in e&&typeof e[n]=="number"&&(this[n]=e[n])}return this}_update(){if(this._flagVertices||this._flagRadius){let e=this.vertices.length;!this._closed&&e>2&&(e-=1);const t=4/3*Math.tan(Math.PI/(e*2)),n=this._radius,i=n*t;for(let o=0;o<this.vertices.length;o++){const a=o/e*tn,c=n*zh(a),h=n*Bh(a),d=i*zh(a-Tt),g=i*Bh(a-Tt),m=i*zh(a+Tt),v=i*Bh(a+Tt),y=this.vertices[o];y.command=o===0?de.move:de.curve,y.set(c,h),y.controls.left.set(d,g),y.controls.right.set(m,v)}}return super._update.call(this),this}flagReset(){return this._flagRadius=!1,super.flagReset.call(this),this}clone(e){const t=new Ss(0,0,this.radius,this.vertices.length);t.translation.copy(this.translation),t.rotation=this.rotation,t.scale=this.scale,t.skewX=this.skewX,t.skewY=this.skewY,this.matrix.manual&&t.matrix.copy(this.matrix);for(let n=0;n<Ie.Properties.length;n++){const i=Ie.Properties[n];t[i]=this[i]}return e&&e.add(t),t}toObject(){const e=super.toObject.call(this);e.renderer.type="circle";for(let t=0;t<Ss.Properties.length;t++){const n=Ss.Properties[t];e[n]=this[n]}return e}},sa=Ss;T(sa,"Properties",["radius"]);var Xy={radius:{enumerable:!0,get:function(){return this._radius},set:function(e){this._radius=e,this._flagRadius=!0}}},$h=Math.cos,Uh=Math.sin,Es=class extends Ie{constructor(e,t,n,i,o){typeof i!="number"&&typeof n=="number"&&(i=n);const l=o?Math.max(o,2):4,a=[];for(let c=0;c<l;c++)a.push(new Le);super(a,!0,!0,!0),T(this,"_flagWidth",!1),T(this,"_flagHeight",!1),T(this,"_width",0),T(this,"_height",0),this._renderer.type="ellipse";for(let c in Ky)Object.defineProperty(this,c,Ky[c]);typeof n=="number"&&(this.width=n*2),typeof i=="number"&&(this.height=i*2),this._update(),typeof e=="number"&&(this.translation.x=e),typeof t=="number"&&(this.translation.y=t)}static fromObject(e){const t=new Es().copy(e);return"id"in e&&(t.id=e.id),t}copy(e){super.copy.call(this,e);for(let t=0;t<Es.Properties.length;t++){const n=Es.Properties[t];n in e&&typeof e[n]=="number"&&(this[n]=e[n])}return this}_update(){if(this._flagVertices||this._flagWidth||this._flagHeight){let e=this.vertices.length;!this._closed&&e>2&&(e-=1);const t=4/3*Math.tan(Math.PI/(this.vertices.length*2)),n=this._width/2,i=this._height/2;for(let o=0;o<this.vertices.length;o++){const a=o/e*tn,c=n*$h(a),h=i*Uh(a),d=n*t*$h(a-Tt),g=i*t*Uh(a-Tt),m=n*t*$h(a+Tt),v=i*t*Uh(a+Tt),y=this.vertices[o];y.command=o===0?de.move:de.curve,y.set(c,h),y.controls.left.set(d,g),y.controls.right.set(m,v)}}return super._update.call(this),this}flagReset(){return this._flagWidth=this._flagHeight=!1,super.flagReset.call(this),this}clone(e){const t=this.width/2,n=this.height/2,i=this.vertices.length,o=new Es(0,0,t,n,i);o.translation.copy(this.translation),o.rotation=this.rotation,o.scale=this.scale,o.skewX=this.skewX,o.skewY=this.skewY,this.matrix.manual&&o.matrix.copy(this.matrix);for(let l=0;l<Ie.Properties.length;l++){const a=Ie.Properties[l];o[a]=this[a]}return e&&e.add(o),o}toObject(){const e=super.toObject.call(this);e.renderer.type="ellipse";for(let t=0;t<Es.Properties.length;t++){const n=Es.Properties[t];e[n]=this[n]}return e}},oa=Es;T(oa,"Properties",["width","height"]);var Ky={width:{enumerable:!0,get:function(){return this._width},set:function(e){this._width=e,this._flagWidth=!0}},height:{enumerable:!0,get:function(){return this._height},set:function(e){this._height=e,this._flagHeight=!0}}},lS=Math.ceil,aS=Math.floor,Vi=class extends Ur{constructor(e){super(),T(this,"_flagVertices",!0),T(this,"_flagLength",!0),T(this,"_flagFill",!0),T(this,"_flagStroke",!0),T(this,"_flagLinewidth",!0),T(this,"_flagOpacity",!0),T(this,"_flagVisible",!0),T(this,"_flagSize",!0),T(this,"_flagSizeAttenuation",!0),T(this,"_length",0),T(this,"_fill","#fff"),T(this,"_stroke","#000"),T(this,"_linewidth",1),T(this,"_opacity",1),T(this,"_visible",!0),T(this,"_size",1),T(this,"_sizeAttenuation",!1),T(this,"_beginning",0),T(this,"_ending",1),T(this,"_dashes",null),T(this,"noFill",Ie.prototype.noFill),T(this,"noStroke",Ie.prototype.noStroke),T(this,"corner",Ie.prototype.corner),T(this,"center",Ie.prototype.center),T(this,"getBoundingClientRect",Ie.prototype.getBoundingClientRect),T(this,"_updateLength",Ie.prototype._updateLength);for(let t in qy)Object.defineProperty(this,t,qy[t]);this._renderer.type="points",this._renderer.flagVertices=Dv.bind(this),this._renderer.bindVertices=zv.bind(this),this._renderer.unbindVertices=Bv.bind(this),this._renderer.flagFill=$v.bind(this),this._renderer.flagStroke=Uv.bind(this),this._renderer.vertices=null,this._renderer.collection=null,this.sizeAttenuation=!1,this.beginning=0,this.ending=1,this.fill="#fff",this.stroke="#000",this.className="",this.visible=!0,this.vertices=e,this.dashes=[],this.dashes.offset=0}static fromObject(e){const t=typeof e.fill=="string"?e.fill:Ds(e.fill),n=typeof e.stroke=="string"?e.stroke:Ds(e.stroke),i=new Vi().copy(Jd(Zd({},e),{fill:t,stroke:n}));return"id"in e&&(i.id=e.id),i}copy(e){super.copy.call(this,e);for(let t=0;t<e.vertices.length;t++){const n=e.vertices[t];n instanceof Le?this.vertices.push(e.vertices[t].clone()):this.vertices.push(new Le().copy(n))}for(let t=0;t<Vi.Properties.length;t++){const n=Vi.Properties[t];n in e&&(this[n]=e[n])}return this}clone(e){const t=new Vi;for(let n=0;n<this.vertices.length;n++)t.vertices.push(this.vertices[n].clone());for(let n=0;n<Vi.Properties.length;n++){const i=Vi.Properties[n];t[i]=this[i]}return t.className=this.className,t.translation.copy(this.translation),t.rotation=this.rotation,t.scale=this.scale,t.skewX=this.skewX,t.skewY=this.skewY,this.matrix.manual&&t.matrix.copy(this.matrix),e&&e.add(t),t._update()}toObject(){const e=super.toObject.call(this);return e.renderer.type="points",e.vertices=this.vertices.map(t=>t.toObject()),Se.each(Vi.Properties,function(t){typeof this[t]<"u"&&(this[t].toObject?e[t]=this[t].toObject():e[t]=this[t])},this),e}subdivide(e){this._update();let t=[];for(let n=0;n<this.vertices.length;n++){const i=this.vertices[n],o=this.vertices[n-1];if(!o)continue;const l=i.x,a=i.y,c=o.x,h=o.y,d=ep(l,a,l,a,c,h,c,h,e);t=t.concat(d)}return this.vertices=t,this}_update(){if(this._flagVertices){this._flagLength&&this._updateLength(void 0,!0);const e=Math.min(this._beginning,this._ending),t=Math.max(this._beginning,this._ending),n=nc(this,e*this._length),i=nc(this,t*this._length),o=lS(n),l=aS(i);let a=0,c;this._renderer.vertices=[],this._renderer.collection=[];for(let h=0;h<this._collection.length;h++)h>=o&&h<=l&&(c=this._collection[h],this._renderer.collection.push(c),this._renderer.vertices[a*2+0]=c.x,this._renderer.vertices[a*2+1]=c.y,a++)}return super._update.apply(this,arguments),this}flagReset(){return this._flagVertices=this._flagLength=this._flagFill=this._flagStroke=this._flagLinewidth=this._flagOpacity=this._flagVisible=this._flagSize=this._flagSizeAttenuation=!1,super.flagReset.call(this),this}},Cc=Vi;T(Cc,"Properties",["fill","stroke","linewidth","opacity","visible","size","sizeAttenuation","beginning","ending","dashes"]);var qy={linewidth:{enumerable:!0,get:function(){return this._linewidth},set:function(e){this._linewidth=e,this._flagLinewidth=!0}},opacity:{enumerable:!0,get:function(){return this._opacity},set:function(e){this._opacity=e,this._flagOpacity=!0}},visible:{enumerable:!0,get:function(){return this._visible},set:function(e){this._visible=e,this._flagVisible=!0}},size:{enumerable:!0,get:function(){return this._size},set:function(e){this._size=e,this._flagSize=!0}},sizeAttenuation:{enumerable:!0,get:function(){return this._sizeAttenuation},set:function(e){this._sizeAttenuation=e,this._flagSizeAttenuation=!0}},fill:{enumerable:!0,get:function(){return this._fill},set:function(e){(this._fill instanceof vt||this._fill instanceof et||this._fill instanceof tt||this._fill instanceof Be)&&this._fill.unbind(J.Types.change,this._renderer.flagFill),this._fill=e,this._flagFill=!0,(this._fill instanceof vt||this._fill instanceof et||this._fill instanceof tt||this._fill instanceof Be)&&this._fill.bind(J.Types.change,this._renderer.flagFill)}},stroke:{enumerable:!0,get:function(){return this._stroke},set:function(e){(this._stroke instanceof vt||this._stroke instanceof et||this._stroke instanceof tt||this._stroke instanceof Be)&&this._stroke.unbind(J.Types.change,this._renderer.flagStroke),this._stroke=e,this._flagStroke=!0,(this._stroke instanceof vt||this._stroke instanceof et||this._stroke instanceof tt||this._stroke instanceof Be)&&this._stroke.bind(J.Types.change,this._renderer.flagStroke)}},length:{get:function(){return this._flagLength&&this._updateLength(),this._length}},beginning:{enumerable:!0,get:function(){return this._beginning},set:function(e){this._beginning=e,this._flagVertices=!0}},ending:{enumerable:!0,get:function(){return this._ending},set:function(e){this._ending=e,this._flagVertices=!0}},vertices:{enumerable:!0,get:function(){return this._collection},set:function(e){const t=this._renderer.bindVertices,n=this._renderer.unbindVertices;this._collection&&this._collection.unbind(J.Types.insert,t).unbind(J.Types.remove,n),e instanceof Ji?this._collection=e:this._collection=new Ji(e||[]),this._collection.bind(J.Types.insert,t).bind(J.Types.remove,n),t(this._collection)}},dashes:{enumerable:!0,get:function(){return this._dashes},set:function(e){typeof e.offset!="number"&&(e.offset=this.dashes&&this._dashes.offset||0),this._dashes=e}}},uS=Math.cos,cS=Math.sin,Cs=class extends Ie{constructor(e,t,n,i){i=Math.max(i||0,3),super(),T(this,"_flagWidth",!1),T(this,"_flagHeight",!1),T(this,"_flagSides",!1),T(this,"_radius",0),T(this,"_width",0),T(this,"_height",0),T(this,"_sides",0),this._renderer.type="polygon";for(let o in Gy)Object.defineProperty(this,o,Gy[o]);this.closed=!0,this.automatic=!1,typeof n=="number"&&(this.radius=n),typeof i=="number"&&(this.sides=i),this._update(),typeof e=="number"&&(this.translation.x=e),typeof t=="number"&&(this.translation.y=t)}static fromObject(e){const t=new Cs().copy(e);return"id"in e&&(t.id=e.id),t}copy(e){super.copy.call(this,e);for(let t=0;t<Cs.Properties.length;t++){const n=Cs.Properties[t];n in e&&typeof e[n]=="number"&&(this[n]=e[n])}return this}_update(){if(this._flagVertices||this._flagWidth||this._flagHeight||this._flagSides){const e=this._sides,t=e+1;let n=this.vertices.length;n>e&&(this.vertices.splice(e-1,n-e),n=e);for(let i=0;i<t;i++){const o=(i+.5)/e,l=tn*o+Math.PI/2,a=this._width*uS(l)/2,c=this._height*cS(l)/2;i>=n?this.vertices.push(new Le(a,c)):this.vertices[i].set(a,c),this.vertices[i].command=i===0?de.move:de.line}}return super._update.call(this),this}flagReset(){return this._flagWidth=this._flagHeight=this._flagSides=!1,super.flagReset.call(this),this}clone(e){const t=new Cs(0,0,0,this.sides);t.translation.copy(this.translation),t.rotation=this.rotation,t.scale=this.scale,t.skewX=this.skewX,t.skewY=this.skewY,t.width=this.width,t.height=this.height,this.matrix.manual&&t.matrix.copy(this.matrix);for(let n=0;n<Ie.Properties.length;n++){const i=Ie.Properties[n];t[i]=this[i]}return e&&e.add(t),t}toObject(){const e=super.toObject.call(this);e.renderer.type="polygon";for(let t=0;t<Cs.Properties.length;t++){const n=Cs.Properties[t];e[n]=this[n]}return e}},Rc=Cs;T(Rc,"Properties",["width","height","sides"]);var Gy={radius:{enumerable:!0,get:function(){return this._radius},set:function(e){this._radius=e,this.width=e*2,this.height=e*2}},width:{enumerable:!0,get:function(){return this._width},set:function(e){this._width=e,this._flagWidth=!0,this._radius=Math.max(this.width,this.height)/2}},height:{enumerable:!0,get:function(){return this._height},set:function(e){this._height=e,this._flagHeight=!0,this._radius=Math.max(this.width,this.height)/2}},sides:{enumerable:!0,get:function(){return this._sides},set:function(e){this._sides=e,this._flagSides=!0}}},Rs=class extends Ie{constructor(e,t,n,i,o){typeof o>"u"&&typeof n=="number"&&typeof i=="number"&&(o=Math.floor(Math.min(n,i)/12));const l=[];for(let a=0;a<10;a++)l.push(new Le(0,0,0,0,0,0,a===0?de.move:de.curve));super(l),T(this,"_flagWidth",!1),T(this,"_flagHeight",!1),T(this,"_flagRadius",!1),T(this,"_width",0),T(this,"_height",0),T(this,"_radius",12),this._renderer.type="rounded-rectangle";for(let a in Qy)Object.defineProperty(this,a,Qy[a]);this.closed=!0,this.automatic=!1,this._renderer.flagRadius=fS.bind(this),typeof n=="number"&&(this.width=n),typeof i=="number"&&(this.height=i),typeof o=="number"&&(this.radius=o),this._update(),typeof e=="number"&&(this.translation.x=e),typeof t=="number"&&(this.translation.y=t)}static fromObject(e){const t=new Rs().copy(e);return"id"in e&&(t.id=e.id),t}copy(e){super.copy.call(this,e);for(let t=0;t<Rs.Properties.length;t++){const n=Rs.Properties[t];if(n in e){const i=e[n];/radius/i.test(n)?this[n]=typeof i=="number"||i instanceof ce?i:new ce().copy(i):typeof i=="number"&&(this[n]=i)}}return this}_update(){if(this._flagVertices||this._flagWidth||this._flagHeight||this._flagRadius){const e=this._width,t=this._height;let n,i;this._radius instanceof ce?(n=this._radius.x,i=this._radius.y):(n=this._radius,i=this._radius);let o,l=e/2,a=t/2;o=this.vertices[0],o.x=-(l-n),o.y=-a,o=this.vertices[1],o.x=l-n,o.y=-a,o.controls.left.clear(),o.controls.right.x=n,o.controls.right.y=0,o=this.vertices[2],o.x=l,o.y=-(a-i),o.controls.right.clear(),o.controls.left.clear(),o=this.vertices[3],o.x=l,o.y=a-i,o.controls.left.clear(),o.controls.right.x=0,o.controls.right.y=i,o=this.vertices[4],o.x=l-n,o.y=a,o.controls.right.clear(),o.controls.left.clear(),o=this.vertices[5],o.x=-(l-n),o.y=a,o.controls.left.clear(),o.controls.right.x=-n,o.controls.right.y=0,o=this.vertices[6],o.x=-l,o.y=a-i,o.controls.left.clear(),o.controls.right.clear(),o=this.vertices[7],o.x=-l,o.y=-(a-i),o.controls.left.clear(),o.controls.right.x=0,o.controls.right.y=-i,o=this.vertices[8],o.x=-(l-n),o.y=-a,o.controls.left.clear(),o.controls.right.clear(),o=this.vertices[9],o.copy(this.vertices[8])}return super._update.call(this),this}flagReset(){return this._flagWidth=this._flagHeight=this._flagRadius=!1,super.flagReset.call(this),this}clone(e){const t=this.width,n=this.height,i=this.radius,o=new Rs(0,0,t,n,i);o.translation.copy(this.translation),o.rotation=this.rotation,o.scale=this.scale,o.skewX=this.skewX,o.skewY=this.skewY,this.matrix.manual&&o.matrix.copy(this.matrix);for(let l=0;l<Ie.Properties.length;l++){const a=Ie.Properties[l];o[a]=this[a]}return e&&e.add(o),o}toObject(){const e=super.toObject.call(this);e.renderer.type="rounded-rectangle";for(let t=0;t<Rs.Properties.length;t++){const n=Rs.Properties[t];e[n]=this[n]}return e.radius=typeof this.radius=="number"?this.radius:this.radius.toObject(),e}},la=Rs;T(la,"Properties",["width","height","radius"]);var Qy={width:{enumerable:!0,get:function(){return this._width},set:function(e){this._width=e,this._flagWidth=!0}},height:{enumerable:!0,get:function(){return this._height},set:function(e){this._height=e,this._flagHeight=!0}},radius:{enumerable:!0,get:function(){return this._radius},set:function(e){this._radius instanceof ce&&this._radius.unbind(J.Types.change,this._renderer.flagRadius),this._radius=e,this._radius instanceof ce&&this._radius.bind(J.Types.change,this._renderer.flagRadius),this._flagRadius=!0}}};function fS(){this._flagRadius=!0}var hS=Math.cos,dS=Math.sin,Ts=class extends Ie{constructor(e,t,n,i,o){arguments.length<=3&&(i=n,n=i/2),(typeof o!="number"||o<=0)&&(o=5),super(),T(this,"_flagInnerRadius",!1),T(this,"_flagOuterRadius",!1),T(this,"_flagSides",!1),T(this,"_innerRadius",0),T(this,"_outerRadius",0),T(this,"_sides",0),this._renderer.type="star";for(let l in Zy)Object.defineProperty(this,l,Zy[l]);this.closed=!0,this.automatic=!1,typeof n=="number"&&(this.innerRadius=n),typeof i=="number"&&(this.outerRadius=i),typeof o=="number"&&(this.sides=o),this._update(),typeof e=="number"&&(this.translation.x=e),typeof t=="number"&&(this.translation.y=t)}static fromObject(e){const t=new Ts().copy(e);return"id"in e&&(t.id=e.id),t}copy(e){super.copy.call(this,e);for(let t=0;t<Ts.Properties.length;t++){const n=Ts.Properties[t];n in e&&typeof e[n]=="number"&&(this[n]=e[n])}return this}_update(){if(this._flagVertices||this._flagInnerRadius||this._flagOuterRadius||this._flagSides){const e=this._sides*2,t=e+1;let n=this.vertices.length;n>e&&(this.vertices.splice(e-1,n-e),n=e);for(let i=0;i<t;i++){const o=(i+.5)/e,l=tn*o,a=(i%2?this._outerRadius:this._innerRadius)/2,c=a*hS(l),h=a*dS(l);i>=n?this.vertices.push(new Le(c,h)):this.vertices[i].set(c,h),this.vertices[i].command=i===0?de.move:de.line}}return super._update.call(this),this}flagReset(){return this._flagInnerRadius=this._flagOuterRadius=this._flagSides=!1,super.flagReset.call(this),this}clone(e){const t=this.innerRadius,n=this.outerRadius,i=this.sides,o=new Ts(0,0,t,n,i);o.translation.copy(this.translation),o.rotation=this.rotation,o.scale=this.scale,o.skewX=this.skewX,o.skewY=this.skewY,this.matrix.manual&&o.matrix.copy(this.matrix);for(let l=0;l<Ie.Properties.length;l++){const a=Ie.Properties[l];o[a]=this[a]}return e&&e.add(o),o}toObject(){const e=super.toObject.call(this);e.renderer.type="star";for(let t=0;t<Ts.Properties.length;t++){const n=Ts.Properties[t];e[n]=this[n]}return e}},Tc=Ts;T(Tc,"Properties",["innerRadius","outerRadius","sides"]);var Zy={innerRadius:{enumerable:!0,get:function(){return this._innerRadius},set:function(e){this._innerRadius=e,this._flagInnerRadius=!0}},outerRadius:{enumerable:!0,get:function(){return this._outerRadius},set:function(e){this._outerRadius=e,this._flagOuterRadius=!0}},sides:{enumerable:!0,get:function(){return this._sides},set:function(e){this._sides=e,this._flagSides=!0}}},xd,Jy=Math.min,e0=Math.max;ct.document&&(xd=document.createElement("canvas"));var Un=class extends Ur{constructor(e,t,n,i){super(),T(this,"_flagValue",!0),T(this,"_flagFamily",!0),T(this,"_flagSize",!0),T(this,"_flagLeading",!0),T(this,"_flagAlignment",!0),T(this,"_flagBaseline",!0),T(this,"_flagStyle",!0),T(this,"_flagWeight",!0),T(this,"_flagDecoration",!0),T(this,"_flagFill",!0),T(this,"_flagStroke",!0),T(this,"_flagLinewidth",!0),T(this,"_flagOpacity",!0),T(this,"_flagVisible",!0),T(this,"_flagMask",!1),T(this,"_flagClip",!1),T(this,"_flagDirection",!0),T(this,"_value",""),T(this,"_family","sans-serif"),T(this,"_size",13),T(this,"_leading",17),T(this,"_alignment","center"),T(this,"_baseline","middle"),T(this,"_style","normal"),T(this,"_weight",500),T(this,"_decoration","none"),T(this,"_direction","ltr"),T(this,"_fill","#000"),T(this,"_stroke","none"),T(this,"_linewidth",1),T(this,"_opacity",1),T(this,"_visible",!0),T(this,"_mask",null),T(this,"_clip",!1),T(this,"_dashes",null);for(let o in t0)Object.defineProperty(this,o,t0[o]);if(this._renderer.type="text",this._renderer.flagFill=pS.bind(this),this._renderer.flagStroke=gS.bind(this),this.value=e,typeof t=="number"&&(this.translation.x=t),typeof n=="number"&&(this.translation.y=n),this.dashes=[],this.dashes.offset=0,!Se.isObject(i))return this;for(let o=0;o<Un.Properties.length;o++){const l=Un.Properties[o];l in i&&(this[l]=i[l])}}static Measure(e){if(xd){const t=xd.getContext("2d");t.font=[e._style,e._weight,`${e._size}px/${e._leading}px`,e._family].join(" ");const n=t.measureText(e.value,0,0),i=n.actualBoundingBoxDescent+n.actualBoundingBoxAscent;return{width:n.width,height:i}}else{const t=this.value.length*this.size*Un.Ratio,n=this.leading;return console.warn("Two.Text: unable to accurately measure text, so using an approximation."),{width:t,height:n}}}static fromObject(e){const t=typeof e.fill=="string"?e.fill:Ds(e.fill),n=typeof e.stroke=="string"?e.stroke:Ds(e.stroke),i=new Un().copy(Jd(Zd({},e),{fill:t,stroke:n}));return"id"in e&&(i.id=e.id),i}copy(e){super.copy.call(this,e);for(let t=0;t<Un.Properties.length;t++){const n=Un.Properties[t];n in e&&(this[n]=e[n])}return this}clone(e){const t=new Un(this.value);t.translation.copy(this.translation),t.rotation=this.rotation,t.scale=this.scale;for(let n=0;n<Un.Properties.length;n++){const i=Un.Properties[n];t[i]=this[i]}return this.matrix.manual&&t.matrix.copy(this.matrix),e&&e.add(t),t._update()}toObject(){const e=super.toObject.call(this);e.renderer.type="text";for(let t=0;t<Un.Properties.length;t++){const n=Un.Properties[t];e[n]=this[n]}return e}noFill(){return this.fill="none",this}noStroke(){return this.stroke="none",this.linewidth=0,this}getBoundingClientRect(e){let t,n,i,o,l;this._update(!0),t=e?this.matrix:this.worldMatrix;const{width:a,height:c}=Un.Measure(this),h=(this._linewidth||0)/2;switch(this.alignment){case"left":n=-h,i=a+h;break;case"right":n=-(a+h),i=h;break;default:n=-(a/2+h),i=a/2+h}switch(this.baseline){case"middle":o=-(c/2+h),l=c/2+h;break;default:o=-(c+h),l=h}const[d,g]=t.multiply(n,o),[m,v]=t.multiply(n,l),[y,x]=t.multiply(i,o),[b,S]=t.multiply(i,l);return o=Jy(g,v,x,S),n=Jy(d,m,y,b),i=e0(d,m,y,b),l=e0(g,v,x,S),{top:o,left:n,right:i,bottom:l,width:i-n,height:l-o}}flagReset(){return super.flagReset.call(this),this._flagValue=this._flagFamily=this._flagSize=this._flagLeading=this._flagAlignment=this._flagFill=this._flagStroke=this._flagLinewidth=this._flagOpacity=this._flagVisible=this._flagClip=this._flagDecoration=this._flagClassName=this._flagBaseline=this._flagWeight=this._flagStyle=this._flagDirection=!1,this}},ar=Un;T(ar,"Ratio",.6);T(ar,"Properties",["value","family","size","leading","alignment","linewidth","style","weight","decoration","direction","baseline","opacity","visible","fill","stroke","dashes"]);var t0={value:{enumerable:!0,get:function(){return this._value},set:function(e){this._value=e,this._flagValue=!0}},family:{enumerable:!0,get:function(){return this._family},set:function(e){this._family=e,this._flagFamily=!0}},size:{enumerable:!0,get:function(){return this._size},set:function(e){this._size=e,this._flagSize=!0}},leading:{enumerable:!0,get:function(){return this._leading},set:function(e){this._leading=e,this._flagLeading=!0}},alignment:{enumerable:!0,get:function(){return this._alignment},set:function(e){this._alignment=e,this._flagAlignment=!0}},linewidth:{enumerable:!0,get:function(){return this._linewidth},set:function(e){this._linewidth=e,this._flagLinewidth=!0}},style:{enumerable:!0,get:function(){return this._style},set:function(e){this._style=e,this._flagStyle=!0}},weight:{enumerable:!0,get:function(){return this._weight},set:function(e){this._weight=e,this._flagWeight=!0}},decoration:{enumerable:!0,get:function(){return this._decoration},set:function(e){this._decoration=e,this._flagDecoration=!0}},direction:{enumerable:!0,get:function(){return this._direction},set:function(e){this._direction=e,this._flagDirection=!0}},baseline:{enumerable:!0,get:function(){return this._baseline},set:function(e){this._baseline=e,this._flagBaseline=!0}},opacity:{enumerable:!0,get:function(){return this._opacity},set:function(e){this._opacity=e,this._flagOpacity=!0}},visible:{enumerable:!0,get:function(){return this._visible},set:function(e){this._visible=e,this._flagVisible=!0}},fill:{enumerable:!0,get:function(){return this._fill},set:function(e){(this._fill instanceof vt||this._fill instanceof et||this._fill instanceof tt||this._fill instanceof Be)&&this._fill.unbind(J.Types.change,this._renderer.flagFill),this._fill=e,this._flagFill=!0,(this._fill instanceof vt||this._fill instanceof et||this._fill instanceof tt||this._fill instanceof Be)&&this._fill.bind(J.Types.change,this._renderer.flagFill)}},stroke:{enumerable:!0,get:function(){return this._stroke},set:function(e){(this._stroke instanceof vt||this._stroke instanceof et||this._stroke instanceof tt||this._stroke instanceof Be)&&this._stroke.unbind(J.Types.change,this._renderer.flagStroke),this._stroke=e,this._flagStroke=!0,(this._stroke instanceof vt||this._stroke instanceof et||this._stroke instanceof tt||this._stroke instanceof Be)&&this._stroke.bind(J.Types.change,this._renderer.flagStroke)}},mask:{enumerable:!0,get:function(){return this._mask},set:function(e){this._mask=e,this._flagMask=!0,Se.isObject(e)&&!e.clip&&(e.clip=!0)}},clip:{enumerable:!0,get:function(){return this._clip},set:function(e){this._clip=e,this._flagClip=!0}},dashes:{enumerable:!0,get:function(){return this._dashes},set:function(e){typeof e.offset!="number"&&(e.offset=this.dashes&&this._dashes.offset||0),this._dashes=e}}};function pS(){this._flagFill=!0}function gS(){this._flagStroke=!0}var Mu=Math.min,Au=Math.max,Ao=class extends Ur{constructor(e){super(),T(this,"_flagAdditions",!1),T(this,"_flagSubtractions",!1),T(this,"_flagOrder",!1),T(this,"_flagOpacity",!0),T(this,"_flagBeginning",!1),T(this,"_flagEnding",!1),T(this,"_flagLength",!1),T(this,"_flagMask",!1),T(this,"_fill","#fff"),T(this,"_stroke","#000"),T(this,"_linewidth",1),T(this,"_opacity",1),T(this,"_visible",!0),T(this,"_cap","round"),T(this,"_join","round"),T(this,"_miter",4),T(this,"_closed",!0),T(this,"_curved",!1),T(this,"_automatic",!0),T(this,"_beginning",0),T(this,"_ending",1),T(this,"_length",0),T(this,"_mask",null);for(let t in n0)Object.defineProperty(this,t,n0[t]);this._renderer.type="group",this.additions=[],this.subtractions=[],this.children=Array.isArray(e)?e:Array.prototype.slice.call(arguments)}static InsertChildren(e){for(let t=0;t<e.length;t++)r0.call(this,e[t],this)}static RemoveChildren(e){for(let t=0;t<e.length;t++)r0.call(this,e[t])}static OrderChildren(e){this._flagOrder=!0}static fromObject(e){const t=new Ao;for(let i=0;i<Ao.Properties.length;i++){const o=Ao.Properties[i];o in e&&(/(fill|stroke)/i.test(o)?t[o]=typeof e[o]=="string"?e[o]:Ds(e[o]):t[o]=e[o])}return"mask"in e&&(t.mask=n(e.mask)),"id"in e&&(t.id=e.id),t.children=e.children.map(n),t;function n(i){if(i&&i.renderer)switch(i.renderer.type){case"arc-segment":return Ec.fromObject(i);case"circle":return sa.fromObject(i);case"ellipse":return oa.fromObject(i);case"points":return Cc.fromObject(i);case"polygon":return Rc.fromObject(i);case"rectangle":return rs.fromObject(i);case"rounded-rectangle":return la.fromObject(i);case"star":return Tc.fromObject(i);case"path":return Ie.fromObject(i);case"text":return ar.fromObject(i);case"group":return Ao.fromObject(i);case"shape":return Ur.fromObject(i);case"element":return Ho.fromObject(i)}return i}}copy(e){return super.copy.call(this,e),console.warn("Two.Group.copy is not supported yet."),this}clone(e){const t=new Ao,n=this.children.map(function(i){return i.clone()});return t.add(n),t.opacity=this.opacity,this.mask&&(t.mask=this.mask),t.translation.copy(this.translation),t.rotation=this.rotation,t.scale=this.scale,t.className=this.className,this.matrix.manual&&t.matrix.copy(this.matrix),e&&e.add(t),t._update()}toObject(){const e=super.toObject.call(this);return e.renderer.type="group",e.children=[],e.opacity=this.opacity,e.className=this.className,e.mask=this.mask?this.mask.toObject():null,Se.each(this.children,(t,n)=>{e.children[n]=t.toObject()},this),e}corner(){const e=this.getBoundingClientRect(!0);for(let t=0;t<this.children.length;t++){const n=this.children[t];n.translation.x-=e.left,n.translation.y-=e.top}return this.mask&&(this.mask.translation.x-=e.left,this.mask.translation.y-=e.top),this}center(){const e=this.getBoundingClientRect(!0),t=e.left+e.width/2-this.translation.x,n=e.top+e.height/2-this.translation.y;for(let i=0;i<this.children.length;i++){const o=this.children[i];o.isShape&&(o.translation.x-=t,o.translation.y-=n)}return this.mask&&(this.mask.translation.x-=t,this.mask.translation.y-=n),this}getById(e){let t=null;function n(i){if(i.id===e)return i;if(i.children){for(let o=0;o<i.children.length;o++)if(t=n(i.children[o]),t)return t}return null}return n(this)}getByClassName(e){const t=[];function n(i){if(Array.prototype.indexOf.call(i.classList,e)>=0&&t.push(i),i.children)for(let o=0;o<i.children.length;o++){const l=i.children[o];n(l)}return t}return n(this)}getByType(e){const t=[];function n(i){if(i instanceof e&&t.push(i),i.children)for(let o=0;o<i.children.length;o++){const l=i.children[o];n(l)}return t}return n(this)}add(e){e instanceof Array?e=e.slice():e=Array.prototype.slice.call(arguments);for(let t=0;t<e.length;t++){const n=e[t];if(!(n&&n.id))continue;const i=Array.prototype.indexOf.call(this.children,n);i>=0&&this.children.splice(i,1),this.children.push(n)}return this}remove(e){const t=arguments.length,n=this.parent;if(t<=0&&n)return n.remove(this),this;e instanceof Array?e=e.slice():e=Array.prototype.slice.call(arguments);for(let i=0;i<e.length;i++){const o=e[i];if(!o||!this.children.ids[o.id])continue;const l=this.children.indexOf(o);l>=0&&this.children.splice(l,1)}return this}getBoundingClientRect(e){let t,n,i,o,l,a;this._update(!0);let c=1/0,h=-1/0,d=1/0,g=-1/0;const m=/texture|gradient/i;n=e?this.matrix:this.worldMatrix;for(let v=0;v<this.children.length;v++){const y=this.children[v];if(!(!y.visible||m.test(y._renderer.type))&&(t=y.getBoundingClientRect(e),i=typeof t.top!="number"||Se.isNaN(t.top)||!isFinite(t.top),o=typeof t.left!="number"||Se.isNaN(t.left)||!isFinite(t.left),l=typeof t.right!="number"||Se.isNaN(t.right)||!isFinite(t.right),a=typeof t.bottom!="number"||Se.isNaN(t.bottom)||!isFinite(t.bottom),!(i||o||l||a)))if(e){const[x,b]=n.multiply(t.left,t.top),[S,k]=n.multiply(t.right,t.top),[w,C]=n.multiply(t.left,t.bottom),[M,P]=n.multiply(t.right,t.bottom);d=Mu(b,k,C,P),c=Mu(x,S,w,M),h=Au(x,S,w,M),g=Au(b,k,C,P)}else d=Mu(t.top,d),c=Mu(t.left,c),h=Au(t.right,h),g=Au(t.bottom,g)}return{top:d,left:c,right:h,bottom:g,width:h-c,height:g-d}}noFill(){return this.children.forEach(function(e){e.noFill()}),this}noStroke(){return this.children.forEach(function(e){e.noStroke()}),this}subdivide(){const e=arguments;return this.children.forEach(function(t){t.subdivide.apply(t,e)}),this}_update(){let e,t,n;if(this._flagBeginning||this._flagEnding){const i=Math.min(this._beginning,this._ending),o=Math.max(this._beginning,this._ending),l=this.length;let a=0;const c=i*l,h=o*l;for(e=0;e<this.children.length;e++)n=this.children[e],t=n.length,c>a+t?(n.beginning=1,n.ending=1):h<a?(n.beginning=0,n.ending=0):c>a&&c<a+t?(n.beginning=(c-a)/t,n.ending=1):h>a&&h<a+t?(n.beginning=0,n.ending=(h-a)/t):(n.beginning=0,n.ending=1),a+=t}return super._update.apply(this,arguments)}flagReset(){return this._flagAdditions&&(this.additions.length=0,this._flagAdditions=!1),this._flagSubtractions&&(this.subtractions.length=0,this._flagSubtractions=!1),this._flagOrder=this._flagMask=this._flagOpacity=this._flagBeginning=this._flagEnding=!1,super.flagReset.call(this),this}},kt=Ao;T(kt,"Children",Vv);T(kt,"Properties",["fill","stroke","linewidth","cap","join","miter","closed","curved","automatic"]);var n0={visible:{enumerable:!0,get:function(){return this._visible},set:function(e){this._flagVisible=this._visible!==e||this._flagVisible,this._visible=e}},opacity:{enumerable:!0,get:function(){return this._opacity},set:function(e){this._flagOpacity=this._opacity!==e||this._flagOpacity,this._opacity=e}},beginning:{enumerable:!0,get:function(){return this._beginning},set:function(e){this._flagBeginning=this._beginning!==e||this._flagBeginning,this._beginning=e}},ending:{enumerable:!0,get:function(){return this._ending},set:function(e){this._flagEnding=this._ending!==e||this._flagEnding,this._ending=e}},length:{enumerable:!0,get:function(){if(this._flagLength||this._length<=0){if(this._length=0,!this.children)return this._length;for(let e=0;e<this.children.length;e++){const t=this.children[e];this._length+=t.length}}return this._length}},fill:{enumerable:!0,get:function(){return this._fill},set:function(e){this._fill=e;for(let t=0;t<this.children.length;t++){const n=this.children[t];n.fill=e}}},stroke:{enumerable:!0,get:function(){return this._stroke},set:function(e){this._stroke=e;for(let t=0;t<this.children.length;t++){const n=this.children[t];n.stroke=e}}},linewidth:{enumerable:!0,get:function(){return this._linewidth},set:function(e){this._linewidth=e;for(let t=0;t<this.children.length;t++){const n=this.children[t];n.linewidth=e}}},join:{enumerable:!0,get:function(){return this._join},set:function(e){this._join=e;for(let t=0;t<this.children.length;t++){const n=this.children[t];n.join=e}}},miter:{enumerable:!0,get:function(){return this._miter},set:function(e){this._miter=e;for(let t=0;t<this.children.length;t++){const n=this.children[t];n.miter=e}}},cap:{enumerable:!0,get:function(){return this._cap},set:function(e){this._cap=e;for(let t=0;t<this.children.length;t++){const n=this.children[t];n.cap=e}}},closed:{enumerable:!0,get:function(){return this._closed},set:function(e){this._closed=e;for(let t=0;t<this.children.length;t++){const n=this.children[t];n.closed=e}}},curved:{enumerable:!0,get:function(){return this._curved},set:function(e){this._curved=e;for(let t=0;t<this.children.length;t++){const n=this.children[t];n.curved=e}}},automatic:{enumerable:!0,get:function(){return this._automatic},set:function(e){this._automatic=e;for(let t=0;t<this.children.length;t++){const n=this.children[t];n.automatic=e}}},children:{enumerable:!0,get:function(){return this._children},set:function(e){const t=kt.InsertChildren.bind(this),n=kt.RemoveChildren.bind(this),i=kt.OrderChildren.bind(this);this._children&&(this._children.unbind(),this._children.length>0&&n(this._children)),this._children=new Vv(e),this._children.bind(J.Types.insert,t),this._children.bind(J.Types.remove,n),this._children.bind(J.Types.order,i),e.length>0&&t(e)}},mask:{enumerable:!0,get:function(){return this._mask},set:function(e){this._mask=e,this._flagMask=!0,Se.isObject(e)&&!e.clip&&(e.clip=!0)}}};function r0(e,t){const n=e.parent;let i;if(n===t){o();return}if(n&&n.children.ids[e.id]&&(i=Array.prototype.indexOf.call(n.children,e),n.children.splice(i,1),l()),t){o();return}l(),n._flagAdditions&&n.additions.length===0&&(n._flagAdditions=!1),n._flagSubtractions&&n.subtractions.length===0&&(n._flagSubtractions=!1),delete e.parent;function o(){t.subtractions.length>0&&(i=Array.prototype.indexOf.call(t.subtractions,e),i>=0&&t.subtractions.splice(i,1)),t.additions.length>0&&(i=Array.prototype.indexOf.call(t.additions,e),i>=0&&t.additions.splice(i,1)),e.parent=t,t.additions.push(e),t._flagAdditions=!0}function l(){i=Array.prototype.indexOf.call(n.additions,e),i>=0&&n.additions.splice(i,1),i=Array.prototype.indexOf.call(n.subtractions,e),i<0&&(n.subtractions.push(e),n._flagSubtractions=!0)}}var np=class extends Ie{constructor(e,t,n,i){const o=[new Le(e,t),new Le(n,i)];super(o);for(let l in i0)Object.defineProperty(this,l,i0[l]);this.vertices[0].command=de.move,this.vertices[1].command=de.line,this.automatic=!1}},i0={left:{enumerable:!0,get:function(){return this.vertices[0]},set:function(e){if(Se.isObject(e))this.vertices.splice(0,1,e);else{const t=new Yn("Two.Line.x argument is not an object.");console.warn(t.name,t.message)}}},right:{enumerable:!0,get:function(){return this.vertices[1]},set:function(e){if(Se.isObject(e))this.vertices.splice(1,1,e);else{const t=new Yn("Two.Line.y argument is not an object.");console.warn(t.name,t.message)}}}},zr={path:/[+-]?(?:\d*\.\d+|\d+)(?:[eE][+-]\d+)?/g,cssBackgroundImage:/url\(['"]?#([\w\d-_]*)['"]?\)/i,unitSuffix:/[a-zA-Z%]*/i},mS={start:"left",middle:"center",end:"right"},s0=["id","class","transform","xmlns","viewBox"],yS=["x","y","width","height","href","xlink:href"];function _S(e){return mS[e]}function vS(e){const t=e.getAttribute("dominant-baseline"),n=e.getAttribute("alignment-baseline");return t||n}function Jl(e){return e.replace(/svg:/gi,"").toLowerCase()}function o0(e,t){if(t.x+=e.translateX,t.y+=e.translateY,t.x*=e.scaleX,t.y*=e.scaleY,e.rotation!==0){const n=t.length();t.x=n*Math.cos(e.rotation),t.y=n*Math.sin(e.rotation)}}function xS(e,t){t||(t={});const n=e.split(";");for(let i=0;i<n.length;i++){const o=n[i].split(":"),l=o[0],a=o[1];typeof l>"u"||typeof a>"u"||(t[l]=a.replace(/\s/,""))}return t}function wS(e){const t={},n=bS(e),i=Math.max(n.length,e.style.length);for(let o=0;o<i;o++){const l=e.style[o],a=n[o];l&&(t[l]=e.style[l]),a&&(t[a]=e.getAttribute(a))}return t}function bS(e){const t=e.getAttributeNames();for(let n=0;n<s0.length;n++){const i=s0[n],o=Array.prototype.indexOf.call(t,i);o>=0&&t.splice(o,1)}return t}function kS(e,t){const n=t.split(/[\s,]/),i=-parseFloat(n[0]),o=-parseFloat(n[1]),l=parseFloat(n[2]),a=parseFloat(n[3]);if(i&&o)for(let m=0;m<e.children.length;m++){const v=e.children[m];"translation"in v?v.translation.add(i,o):"x"in v?v.x=i:"y"in v&&(v.y=o)}const c=typeof e.x=="number",h=typeof e.y=="number",d=typeof e.width=="number",g=typeof e.height=="number";return c&&(e.translation.x+=e.x),h&&(e.translation.y+=e.y),(d||g)&&(e.scale=new ce(1,1)),d&&(e.scale.x=e.width/l),g&&(e.scale.y=e.height/a),e.mask=new rs(0,0,l,a),e.mask.origin.set(-l/2,-a/2),e}function or(e,t,n){const i={},o={},l={};let a,c,h,d,g,m,v,y,x,b,S,k,w,C,M,P,N;if(e===null)return i;if(ct.getComputedStyle){const j=ct.getComputedStyle(e);for(a=j.length;a--;)h=j[a],d=j[h],typeof d<"u"&&(i[h]=d)}for(a=0;a<e.attributes.length;a++)m=e.attributes[a],/style/i.test(m.nodeName)?xS(m.value,l):o[m.nodeName]=m.value;typeof i.opacity<"u"&&(i["stroke-opacity"]=i.opacity,i["fill-opacity"]=i.opacity,delete i.opacity),n&&Se.defaults(i,n),Se.extend(i,l,o),i.visible=!(typeof i.display>"u"&&/none/i.test(i.display))||typeof i.visibility>"u"&&/hidden/i.test(i.visibility);for(h in i)switch(d=i[h],h){case"gradientTransform":if(/none/i.test(d)||(c=e.gradientTransform&&e.gradientTransform.baseVal&&e.gradientTransform.baseVal.length>0?e.gradientTransform.baseVal[0].matrix:e.getCTM?e.getCTM():null,c===null))break;switch(v=Bo(c),t._renderer.type){case"linear-gradient":o0(v,t.left),o0(v,t.right);break;case"radial-gradient":t.center.x+=v.translateX,t.center.y+=v.translateY,t.focal.x+=v.translateX,t.focal.y+=v.translateY,t.radius*=Math.max(v.scaleX,v.scaleY);break}break;case"transform":if(/none/i.test(d)||(c=e.transform&&e.transform.baseVal&&e.transform.baseVal.length>0?e.transform.baseVal[0].matrix:e.getCTM?e.getCTM():null,c===null))break;v=Bo(c),t.translation.set(v.translateX,v.translateY),t.rotation=Math.PI*(v.rotation/180),t.scale=new ce(v.scaleX,v.scaleY),y=parseFloat((i.x+"").replace("px")),x=parseFloat((i.y+"").replace("px")),y&&(t.translation.x=y),x&&(t.translation.y=x);break;case"visible":if(t instanceof kt){t._visible=d;break}t.visible=d;break;case"stroke-linecap":if(t instanceof kt){t._cap=d;break}t.cap=d;break;case"stroke-linejoin":if(t instanceof kt){t._join=d;break}t.join=d;break;case"stroke-miterlimit":if(t instanceof kt){t._miter=d;break}t.miter=d;break;case"stroke-width":if(t instanceof kt){t._linewidth=parseFloat(d);break}t.linewidth=parseFloat(d);break;case"opacity":case"stroke-opacity":case"fill-opacity":if(t instanceof kt){t._opacity=parseFloat(d);break}t.opacity=parseFloat(d);break;case"clip-path":if(zr.cssBackgroundImage.test(d)&&(b=d.replace(zr.cssBackgroundImage,"$1"),rt.defs.current&&rt.defs.current.contains(b)&&(k=rt.defs.current.get(b),k&&k.childNodes.length>0)))switch(k=k.childNodes[0],w=Jl(k.nodeName),t.mask=rt[w].call(this,k,{}),t._renderer.type){case"text":case"path":t.position.add(t.mask.position),t.mask.position.clear();break}break;case"fill":case"stroke":g=(t instanceof kt?"_":"")+h,zr.cssBackgroundImage.test(d)?(b=d.replace(zr.cssBackgroundImage,"$1"),rt.defs.current&&rt.defs.current.contains(b)?(k=rt.defs.current.get(b),k.object||(w=Jl(k.nodeName),k.object=rt[w].call(this,k,{})),k=k.object):(S=ES(this),k=S.getById(b)),t[g]=k):t[g]=d;break;case"id":t.id=d;break;case"class":case"className":t.classList=d.split(" "),t._flagClassName=!0;break;case"x":case"y":if(C=t instanceof vt,M=t instanceof et,P=t instanceof tt,C||M||P)break;d.match("[a-z%]$")&&!d.endsWith("px")&&(N=new Yn("only pixel values are supported with the "+h+" attribute."),console.warn(N.name,N.message)),t.translation[h]=parseFloat(d);break;case"font-family":t instanceof ar&&(t.family=d);break;case"font-size":t instanceof ar&&(t.size=d);break;case"font-weight":t instanceof ar&&(t.weight=d);break;case"font-style":t instanceof ar&&(t.style=d);break;case"text-decoration":t instanceof ar&&(t.decoration=d);break;case"line-height":t instanceof ar&&(t.leading=d);break}return Object.keys(e.dataset).length&&(t.dataset=e.dataset),i}function SS(e,t){for(let n=0,i=e.childNodes.length;n<i;n++){const o=e.childNodes[n];!o.id||Jl(e.nodeName)==="#text"||t.add(o.id,o)}}function ES(e){for(;e.parent;)e=e.parent;return e.scene}var rt={svg:function(e){const t=rt.defs.current=new kc,n=e.getElementsByTagName("defs");for(let x=0;x<n.length;x++)SS(n[x],t);const i=rt.g.call(this,e),o=e.getAttribute("viewBox"),l=e.getAttribute("x"),a=e.getAttribute("y"),c=e.getAttribute("width"),h=e.getAttribute("height");i.defs=t;const d=o!==null,g=l!==null,m=a!==null,v=c!==null,y=h!==null;return g&&(i.x=parseFloat(l.replace(zr.unitSuffix,""))),m&&(i.y=parseFloat(a.replace(zr.unitSuffix,""))),v&&(i.width=parseFloat(c.replace(zr.unitSuffix,""))),y&&(i.height=parseFloat(h.replace(zr.unitSuffix,""))),d&&kS(i,o),delete rt.defs.current,i},defs:function(e){return null},use:function(e,t){let n;const i=e.getAttribute("href")||e.getAttribute("xlink:href");if(!i)return n=new Yn("encountered <use /> with no href."),console.warn(n.name,n.message),null;const o=i.slice(1);if(!rt.defs.current.contains(o))return n=new Yn("unable to find element for reference "+i+"."),console.warn(n.name,n.message),null;const a=rt.defs.current.get(o).cloneNode(!0);for(let h=0;h<e.attributes.length;h++){const d=e.attributes[h],g=yS.includes(d.nodeName),m=!a.hasAttribute(d.nodeName);(g||m)&&a.setAttribute(d.nodeName,d.value)}const c=Jl(a.nodeName);return rt[c].call(this,a,t)},g:function(e,t){const n=new kt;or.call(this,e,n,t),this.add(n);const i=wS.call(this,e);for(let o=0,l=e.childNodes.length;o<l;o++){const a=e.childNodes[o],c=a.nodeName;if(!c)return;const h=Jl(c);if(h in rt){const d=rt[h].call(n,a,i);d&&!d.parent&&n.add(d)}}return n},polygon:function(e,t){let n;typeof e=="string"?n=e:n=e.getAttribute("points");const i=[];n.replace(/(-?[\d.eE-]+)[,|\s](-?[\d.eE-]+)/g,function(l,a,c){i.push(new Le(parseFloat(a),parseFloat(c)))});const o=new Ie(i,!0);return o.stroke="none",o.fill="black",or.call(this,e,o,t),o},polyline:function(e,t){const n=rt.polygon.call(this,e,t);return n.closed=!1,n},path:function(e,t){let n;typeof e=="string"?(n=e,e=null):n=e.getAttribute("d");let i=[],o=!1,l=!1;if(n){let c=new Le,h,d,g=n.match(/[a-df-z][^a-df-z]*/gi);const m=g.length-1;Se.each(g.slice(0),function(v,y){const x=v.slice(1).trim().match(zr.path),b=v[0],S=b.toLowerCase();let k,w,C,M,P;const N=[];switch(y===0&&(g=[]),S){case"h":case"v":x.length>1&&(k=1);break;case"m":case"l":case"t":x.length>2&&(k=2);break;case"s":case"q":x.length>4&&(k=4);break;case"c":x.length>6&&(k=6);break;case"a":x.length>7&&(k=7);break}if(k){for(w=0,C=x.length,P=0;w<C;w+=k){if(M=b,P>0)switch(b){case"m":M="l";break;case"M":M="L";break}N.push(M+x.slice(w,w+k).join(" ")),P++}g=Array.prototype.concat.apply(g,N)}else g.push(v)}),Se.each(g,function(v,y){let x,b,S;const k=v[0],w=k.toLowerCase();d=v.slice(1).trim().match(zr.path),l=k===w;let C,M,P,N,j,X,z,W,K,q,ae,te,re,ue,Z,D,$;switch(w){case"z":if(y>=m)o=!0;else{b=c.x,S=c.y,x=new Le(b,S,void 0,void 0,void 0,void 0,de.close);for(let G=i.length-1;G>=0;G--){const L=i[G];if(/m/i.test(L.command)){c=L;break}}}break;case"m":case"l":h=void 0,b=parseFloat(d[0]),S=parseFloat(d[1]),x=new Le(b,S,void 0,void 0,void 0,void 0,/m/i.test(w)?de.move:de.line),l&&x.addSelf(c),c=x;break;case"h":case"v":q=/h/i.test(w)?"x":"y",ae=/x/i.test(q)?"y":"x",x=new Le(void 0,void 0,void 0,void 0,void 0,void 0,de.line),x[q]=parseFloat(d[0]),x[ae]=c[ae],l&&(x[q]+=c[q]),c=x;break;case"c":case"s":C=c.x,M=c.y,h||(h=new ce),/c/i.test(w)?(P=parseFloat(d[0]),N=parseFloat(d[1]),j=parseFloat(d[2]),X=parseFloat(d[3]),z=parseFloat(d[4]),W=parseFloat(d[5])):(K=_d(c,h,l),P=K.x,N=K.y,j=parseFloat(d[0]),X=parseFloat(d[1]),z=parseFloat(d[2]),W=parseFloat(d[3])),l&&(P+=C,N+=M,j+=C,X+=M,z+=C,W+=M),c.controls.right.set(P-c.x,N-c.y),x=new Le(z,W,j-z,X-W,void 0,void 0,de.curve),c=x,h=x.controls.left;break;case"t":case"q":C=c.x,M=c.y,h||(h=new ce),/q/i.test(w)?(P=parseFloat(d[0]),N=parseFloat(d[1]),j=parseFloat(d[0]),X=parseFloat(d[1]),z=parseFloat(d[2]),W=parseFloat(d[3])):(K=_d(c,h,l),P=K.x,N=K.y,j=K.x,X=K.y,z=parseFloat(d[0]),W=parseFloat(d[1])),l&&(P+=C,N+=M,j+=C,X+=M,z+=C,W+=M),c.controls.right.set((P-c.x)*.33,(N-c.y)*.33),x=new Le(z,W,j-z,X-W,void 0,void 0,de.curve),c=x,h=x.controls.left;break;case"a":C=c.x,M=c.y,re=parseFloat(d[0]),ue=parseFloat(d[1]),Z=parseFloat(d[2]),D=parseFloat(d[3]),$=parseFloat(d[4]),z=parseFloat(d[5]),W=parseFloat(d[6]),l&&(z+=C,W+=M),te=new Le(z,W),te.command=de.arc,te.rx=re,te.ry=ue,te.xAxisRotation=Z,te.largeArcFlag=D,te.sweepFlag=$,x=te,c=te,h=void 0;break}x&&(Array.isArray(x)?i=i.concat(x):i.push(x))})}n=new Ie(i,o,void 0,!0),n.stroke="none",n.fill="black";const a=n.getBoundingClientRect(!0);return a.centroid={x:a.left+a.width/2,y:a.top+a.height/2},Se.each(n.vertices,function(c){c.subSelf(a.centroid)}),or.call(this,e,n,t),n.translation.addSelf(a.centroid),n},circle:function(e,t){const n=parseFloat(e.getAttribute("cx")),i=parseFloat(e.getAttribute("cy")),o=parseFloat(e.getAttribute("r")),l=new sa(0,0,o);return l.stroke="none",l.fill="black",or.call(this,e,l,t),l.translation.x=n,l.translation.y=i,l},ellipse:function(e,t){const n=parseFloat(e.getAttribute("cx")),i=parseFloat(e.getAttribute("cy")),o=parseFloat(e.getAttribute("rx")),l=parseFloat(e.getAttribute("ry")),a=new oa(0,0,o,l);return a.stroke="none",a.fill="black",or.call(this,e,a,t),a.translation.x=n,a.translation.y=i,a},rect:function(e,t){const n=parseFloat(e.getAttribute("rx")),i=parseFloat(e.getAttribute("ry"));if(!Se.isNaN(n)||!Se.isNaN(i))return rt["rounded-rect"](e);const o=parseFloat(e.getAttribute("width")),l=parseFloat(e.getAttribute("height")),a=o/2,c=l/2,h=new rs(0,0,o,l);return h.stroke="none",h.fill="black",or.call(this,e,h,t),h.translation.x+=a,h.translation.y+=c,h},"rounded-rect":function(e,t){const n=parseFloat(e.getAttribute("rx"))||0,i=parseFloat(e.getAttribute("ry"))||0,o=parseFloat(e.getAttribute("width")),l=parseFloat(e.getAttribute("height")),a=o/2,c=l/2,h=new ce(n,i),d=new la(0,0,o,l,h);return d.stroke="none",d.fill="black",or.call(this,e,d,t),d.translation.x+=a,d.translation.y+=c,d},line:function(e,t){const n=parseFloat(e.getAttribute("x1")),i=parseFloat(e.getAttribute("y1")),o=parseFloat(e.getAttribute("x2")),l=parseFloat(e.getAttribute("y2")),a=new np(n,i,o,l).noFill();return or.call(this,e,a,t),a},lineargradient:function(e,t){let n=e.getAttribute("gradientUnits"),i=e.getAttribute("spreadMethod");n||(n="objectBoundingBox"),i||(i="pad");let o=parseFloat(e.getAttribute("x1")||0),l=parseFloat(e.getAttribute("y1")||0),a=parseFloat(e.getAttribute("x2")||0),c=parseFloat(e.getAttribute("y2")||0);const h=(a+o)/2,d=(c+l)/2;/userSpaceOnUse/i.test(n)&&(o-=h,l-=d,a-=h,c-=d);const g=[];for(let v=0;v<e.children.length;v++){const y=e.children[v];let x=y.getAttribute("offset");/%/gi.test(x)&&(x=parseFloat(x.replace(/%/gi,""))/100),x=parseFloat(x);let b=y.getAttribute("stop-color"),S=y.getAttribute("stop-opacity"),k=y.getAttribute("style"),w;b===null&&(w=k?k.match(/stop-color:\s?([#a-fA-F0-9]*)/):!1,b=w&&w.length>1?w[1]:void 0),S===null?(w=k?k.match(/stop-opacity:\s?([0-9.-]*)/):!1,S=w&&w.length>1?parseFloat(w[1]):1):S=parseFloat(S),g.push(new Hr(x,b,S))}const m=new et(o,l,a,c,g);return m.spread=i,m.units=n,or.call(this,e,m,t),m},radialgradient:function(e,t){let n=e.getAttribute("gradientUnits"),i=e.getAttribute("spreadMethod");n||(n="objectBoundingBox"),i||(i="pad");let o=parseFloat(e.getAttribute("cx"))||0,l=parseFloat(e.getAttribute("cy"))||0,a=parseFloat(e.getAttribute("r")),c=parseFloat(e.getAttribute("fx")),h=parseFloat(e.getAttribute("fy"));Se.isNaN(c)&&(c=o),Se.isNaN(h)&&(h=l);const d=Math.abs(o+c)/2,g=Math.abs(l+h)/2;/userSpaceOnUse/i.test(n)&&(o-=d,l-=g,c-=d,h-=g);const m=[];for(let y=0;y<e.children.length;y++){const x=e.children[y];let b=x.getAttribute("offset");/%/gi.test(b)&&(b=parseFloat(b.replace(/%/gi,""))/100),b=parseFloat(b);let S=x.getAttribute("stop-color"),k=x.getAttribute("stop-opacity"),w=x.getAttribute("style"),C;S===null&&(C=w?w.match(/stop-color:\s?([#a-fA-F0-9]*)/):!1,S=C&&C.length>1?C[1]:void 0),k===null?(C=w?w.match(/stop-opacity:\s?([0-9.-]*)/):!1,k=C&&C.length>1?parseFloat(C[1]):1):k=parseFloat(k),m.push(new Hr(b,S,k))}const v=new tt(o,l,a,m,c,h);return v.spread=i,v.units=n,or.call(this,e,v,t),v},text:function(e,t){const n=_S(e.getAttribute("text-anchor"))||"left",i=vS(e)||"baseline",o=e.textContent,l=new ar(o);return or.call(this,e,l,t),l.alignment=n,l.baseline=i,l},clippath:function(e,t){return rt.defs.current&&!rt.defs.current.contains(e.id)&&rt.defs.current.add(e.id,e),null},image:function(e,t){let n;const i=e.getAttribute("href")||e.getAttribute("xlink:href");if(!i)return n=new Yn("encountered <image /> with no href."),console.warn(n.name,n.message),null;const o=parseFloat(e.getAttribute("x"))||0,l=parseFloat(e.getAttribute("y"))||0,a=parseFloat(e.getAttribute("width")),c=parseFloat(e.getAttribute("height")),h=new Sc(i,o,l);return Se.isNaN(a)||(h.width=a),Se.isNaN(c)||(h.height=c),or.call(this,e,h,t),h}};function Hv(e,t){const n=new XMLHttpRequest;return n.open("GET",e),n.onreadystatechange=function(){n.readyState===4&&n.status===200&&t(n.responseText)},n.send(),n}var Po=class extends rs{constructor(e,t,n,i){super(t,n,0,0),T(this,"_flagTextures",!1),T(this,"_flagFrameRate",!1),T(this,"_flagIndex",!1),T(this,"_amount",1),T(this,"_duration",0),T(this,"_index",0),T(this,"_startTime",0),T(this,"_playing",!1),T(this,"_firstFrame",0),T(this,"_lastFrame",0),T(this,"_loop",!0),T(this,"_textures",null),T(this,"_frameRate",0),T(this,"_origin",null);for(let o in l0)Object.defineProperty(this,o,l0[o]);this._renderer.flagTextures=CS.bind(this),this._renderer.bindTextures=RS.bind(this),this._renderer.unbindTextures=TS.bind(this),this.noStroke(),this.noFill(),Array.isArray(e)?this.textures=e.map(a0.bind(this)):this.textures=[a0(e)],this.origin=new ce,this._update(),typeof i=="number"?this.frameRate=i:this.frameRate=Po.DefaultFrameRate,this.index=0}static fromObject(e){const t=new Po().copy(e);return"id"in e&&(t.id=e.id),t}copy(e){super.copy.call(this,e);for(let t=0;t<Po.Properties.length;t++){const n=Po.Properties[t];n in e&&(this[n]=e[n])}return this}play(e,t,n){return this._playing=!0,this._firstFrame=0,this._lastFrame=this.amount-1,this._startTime=Se.performance.now(),typeof e=="number"&&(this._firstFrame=e),typeof t=="number"&&(this._lastFrame=t),typeof n=="function"?this._onLastFrame=n:delete this._onLastFrame,this._index!==this._firstFrame&&(this._startTime-=1e3*Math.abs(this._index-this._firstFrame)/this._frameRate),this}pause(){return this._playing=!1,this}stop(){return this._playing=!1,this._index=this._firstFrame,this}clone(e){const t=new Po(this.textures,this.translation.x,this.translation.y,this.frameRate);return t._loop=this._loop,this._playing&&t.play(),e&&e.add(t),t}toObject(){const e=super.toObject.call(this);return e.textures=this.textures.map(function(t){return t.toObject()}),e.frameRate=this.frameRate,e.index=this.index,e.firstFrame=this.firstFrame,e.lastFrame=this.lastFrame,e.loop=this.loop,e}_update(){const e=this._textures;let t,n,i,o,l,a,c,h;return e&&(this._flagTextures&&(this._amount=e.length),this._flagFrameRate&&(this._duration=1e3*this._amount/this._frameRate),this._playing&&this._frameRate>0?(o=this._amount,Se.isNaN(this._lastFrame)&&(this._lastFrame=o-1),i=Se.performance.now()-this._startTime,h=this._lastFrame+1,l=1e3*(h-this._firstFrame)/this._frameRate,this._loop?i=i%l:i=Math.min(i,l),c=Vn(this._firstFrame,h,i/l),c=Math.floor(c),c!==this._index&&(this._index=c,a=e[this._index],a.loaded&&(t=a.image.width,n=a.image.height,this.width!==t&&(this.width=t),this.height!==n&&(this.height=n),this.fill=a,c>=this._lastFrame-1&&this._onLastFrame&&this._onLastFrame()))):(this._flagIndex||!(this.fill instanceof Be))&&(a=e[this._index],a.loaded&&(t=a.image.width,n=a.image.height,this.width!==t&&(this.width=t),this.height!==n&&(this.height=n)),this.fill=a)),super._update.call(this),this}flagReset(){return this._flagTextures=this._flagFrameRate=!1,super.flagReset.call(this),this}},Mc=Po;T(Mc,"Properties",["textures","frameRate","index","firstFrame","lastFrame","loop"]);T(Mc,"DefaultFrameRate",30);var l0={frameRate:{enumerable:!0,get:function(){return this._frameRate},set:function(e){this._frameRate=e,this._flagFrameRate=!0}},index:{enumerable:!0,get:function(){return this._index},set:function(e){this._index=e,this._flagIndex=!0}},textures:{enumerable:!0,get:function(){return this._textures},set:function(e){const t=this._renderer.bindTextures,n=this._renderer.unbindTextures;this._textures&&this._textures.unbind(J.Types.insert,t).unbind(J.Types.remove,n),this._textures=new Ji((e||[]).slice(0)),this._textures.bind(J.Types.insert,t).bind(J.Types.remove,n),t(this._textures)}},firstFrame:{enumerable:!0,get:function(){return this._firstFrame},set:function(e){this._firstFrame=e}},lastFrame:{enumerable:!0,get:function(){return this._lastFrame},set:function(e){this._lastFrame=e}},loop:{enumerable:!0,get:function(){return this._loop},set:function(e){this._loop=!!e}}};function CS(){this._flagTextures=!0}function RS(e){let t=e.length;for(;t--;)e[t].bind(J.Types.change,this._renderer.flagTextures);this._renderer.flagTextures()}function TS(e){let t=e.length;for(;t--;)e[t].unbind(J.Types.change,this._renderer.flagTextures);this._renderer.flagTextures()}function a0(e){if(e instanceof Be)return e;if(typeof e=="string")return new Be(e)}var Vh=[],wd=Math.max,MS=Math.min,u0=Math.abs,Pu=Math.sin,Ou=Math.cos,AS=Math.acos,rc=Math.sqrt,je={isHidden:/(undefined|none|transparent)/i,alignments:{left:"start",middle:"center",right:"end"},baselines:{top:"top",middle:"middle",bottom:"bottom",baseline:"alphabetic"},getRendererType:function(e){return e in je?e:"path"},group:{renderChild:function(e){const t=je.getRendererType(e._renderer.type);je[t].render.call(e,this.ctx,!0,this.clip)},render:function(e){if(!this._visible)return this;this._update();const t=this._matrix.elements,n=this.parent;this._renderer.opacity=this._opacity*(n&&n._renderer?n._renderer.opacity:1);const i=this._mask,o=Lu(t),l=!o||!!i;if(this._renderer.context||(this._renderer.context={}),this._renderer.context.ctx=e,l&&(e.save(),o||e.transform(t[0],t[3],t[1],t[4],t[2],t[5])),i){const a=je.getRendererType(i._renderer.type);je[a].render.call(i,e,!0)}if(this._opacity>0&&this._scale!==0)for(let a=0;a<this.children.length;a++){const c=this.children[a],h=je.getRendererType(c._renderer.type);je[h].render.call(c,e)}return l&&e.restore(),this.flagReset()}},path:{render:function(e,t,n){let i,o,l,a,c,h,d,g,m,v,y,x,b,S,k,w,C,M,P,N,j,X,z,W,K,q,ae,te,re,ue,Z,D,$,G;if(G=this.parent&&this.parent._renderer?this.parent._renderer.opacity:1,re=this._mask,ue=this._clip,c=this._opacity*(G||1),h=this._visible,!t&&(!h||ue||c===0))return this;if(this._update(),i=this._matrix.elements,o=this._stroke,l=this._linewidth,a=this._fill,d=this._cap,g=this._join,m=this._miter,v=this._closed,y=this._renderer.vertices,x=y.length,b=x-1,Z=Lu(i),$=this.dashes,Z||(e.save(),e.transform(i[0],i[3],i[1],i[4],i[2],i[5])),re){const ee=je.getRendererType(re._renderer.type);je[ee].render.call(re,e,!0)}if(a)if(typeof a=="string")e.fillStyle=a;else{const ee=je.getRendererType(a._renderer.type);je[ee].render.call(a,e,this),e.fillStyle=a._renderer.effect}if(o){if(typeof o=="string")e.strokeStyle=o;else{const ee=je.getRendererType(o._renderer.type);je[ee].render.call(o,e,this),e.strokeStyle=o._renderer.effect}l&&(e.lineWidth=l),m&&(e.miterLimit=m),g&&(e.lineJoin=g),!v&&d&&(e.lineCap=d)}typeof c=="number"&&(e.globalAlpha=c),$&&$.length>0&&(e.lineDashOffset=$.offset||0,e.setLineDash($)),e.beginPath();let L,Y,we,fe,oe,Q,se;for(let ee=0;ee<x;ee++)switch(w=y[ee],ae=w.x,te=w.y,w.command){case de.close:e.closePath();break;case de.arc:L=w.rx,Y=w.ry,we=w.xAxisRotation,fe=w.largeArcFlag,oe=w.sweepFlag,S=v?Xn(ee-1,x):wd(ee-1,0),k=y[S],Q=k.x,se=k.y,je.renderSvgArcCommand(e,Q,se,L,Y,fe,oe,we,ae,te);break;case de.curve:S=v?Xn(ee-1,x):Math.max(ee-1,0),k=y[S],z=k.controls&&k.controls.right||ce.zero,W=w.controls&&w.controls.left||ce.zero,k._relative?(j=z.x+k.x,X=z.y+k.y):(j=z.x,X=z.y),w._relative?(P=W.x+w.x,N=W.y+w.y):(P=W.x,N=W.y),e.bezierCurveTo(j,X,P,N,ae,te),ee>=b&&v&&(C=M,K=w.controls&&w.controls.right||ce.zero,q=C.controls&&C.controls.left||ce.zero,w._relative?(j=K.x+w.x,X=K.y+w.y):(j=K.x,X=K.y),C._relative?(P=q.x+C.x,N=q.y+C.y):(P=q.x,N=q.y),ae=C.x,te=C.y,e.bezierCurveTo(j,X,P,N,ae,te));break;case de.line:e.lineTo(ae,te);break;case de.move:M=w,e.moveTo(ae,te);break}return v&&e.closePath(),!ue&&!n&&(je.isHidden.test(a)||(D=a._renderer&&a._renderer.offset,D&&(e.save(),e.translate(-a._renderer.offset.x,-a._renderer.offset.y),e.scale(a._renderer.scale.x,a._renderer.scale.y)),e.fill(),D&&e.restore()),je.isHidden.test(o)||(D=o._renderer&&o._renderer.offset,D&&(e.save(),e.translate(-o._renderer.offset.x,-o._renderer.offset.y),e.scale(o._renderer.scale.x,o._renderer.scale.y),e.lineWidth=l/o._renderer.scale.x),e.stroke(),D&&e.restore())),Z||e.restore(),ue&&!n&&e.clip(),$&&$.length>0&&e.setLineDash(Vh),this.flagReset()}},points:{render:function(e,t,n){let i,o,l,a,c,h,d,g,m,v,y,x,b,S,k,w;if(w=this.parent&&this.parent._renderer?this.parent._renderer.opacity:1,c=this._opacity*(w||1),h=this._visible,!t&&(!h||c===0))return this;if(this._update(),i=this._matrix.elements,o=this._stroke,l=this._linewidth,a=this._fill,g=this._renderer.collection,m=g.length,b=Lu(i),k=this.dashes,d=this._size,b||(e.save(),e.transform(i[0],i[3],i[1],i[4],i[2],i[5])),a)if(typeof a=="string")e.fillStyle=a;else{const P=je.getRendererType(a._renderer.type);je[P].render.call(a,e,this),e.fillStyle=a._renderer.effect}if(o){if(typeof o=="string")e.strokeStyle=o;else{const P=je.getRendererType(o._renderer.type);je[P].render.call(o,e,this),e.strokeStyle=o._renderer.effect}l&&(e.lineWidth=l)}typeof c=="number"&&(e.globalAlpha=c),k&&k.length>0&&(e.lineDashOffset=k.offset||0,e.setLineDash(k)),e.beginPath();let C=d*.5,M;this._sizeAttenuation||(M=this.worldMatrix.elements,M=Bo(M[0],M[3],M[1],M[4],M[2],M[5]),C/=Math.max(M.scaleX,M.scaleY));for(let P=0;P<m;P++)v=g[P],y=v.x,x=v.y,e.moveTo(y+C,x),e.arc(y,x,C,0,tn);return n||(je.isHidden.test(a)||(S=a._renderer&&a._renderer.offset,S&&(e.save(),e.translate(-a._renderer.offset.x,-a._renderer.offset.y),e.scale(a._renderer.scale.x,a._renderer.scale.y)),e.fill(),S&&e.restore()),je.isHidden.test(o)||(S=o._renderer&&o._renderer.offset,S&&(e.save(),e.translate(-o._renderer.offset.x,-o._renderer.offset.y),e.scale(o._renderer.scale.x,o._renderer.scale.y),e.lineWidth=l/o._renderer.scale.x),e.stroke(),S&&e.restore())),b||e.restore(),k&&k.length>0&&e.setLineDash(Vh),this.flagReset()}},text:{render:function(e,t,n){const i=this.parent&&this.parent._renderer?this.parent._renderer.opacity:1,o=this._opacity*i,l=this._visible,a=this._mask,c=this._clip;if(!t&&(!l||c||o===0))return this;this._update();const h=this._matrix.elements,d=this._stroke,g=this._linewidth,m=this._fill,v=this._decoration,y=this._direction,x=Lu(h),b=m._renderer&&m._renderer.offset&&d._renderer&&d._renderer.offset,S=this.dashes,k=je.alignments[this._alignment]||this._alignment,w=je.baselines[this._baseline]||this._baseline;let C,M,P,N,j,X,z,W,K,q,ae;if(x||(e.save(),e.transform(h[0],h[3],h[1],h[4],h[2],h[5])),a){const te=je.getRendererType(a._renderer.type);je[te].render.call(a,e,!0)}if(b||(e.font=[this._style,this._weight,this._size+"px/"+this._leading+"px",this._family].join(" ")),e.textAlign=k,e.textBaseline=w,e.direction=y,m)if(typeof m=="string")e.fillStyle=m;else{const te=je.getRendererType(m._renderer.type);je[te].render.call(m,e,this),e.fillStyle=m._renderer.effect}if(d){if(typeof d=="string")e.strokeStyle=d;else{const te=je.getRendererType(d._renderer.type);je[te].render.call(d,e,this),e.strokeStyle=d._renderer.effect}g&&(e.lineWidth=g)}if(typeof o=="number"&&(e.globalAlpha=o),S&&S.length>0&&(e.lineDashOffset=S.offset||0,e.setLineDash(S)),!c&&!n&&(je.isHidden.test(m)||(m._renderer&&m._renderer.offset?(X=m._renderer.scale.x,z=m._renderer.scale.y,e.save(),e.translate(-m._renderer.offset.x,-m._renderer.offset.y),e.scale(X,z),C=this._size/m._renderer.scale.y,M=this._leading/m._renderer.scale.y,e.font=[this._style,this._weight,C+"px/",M+"px",this._family].join(" "),P=m._renderer.offset.x/m._renderer.scale.x,N=m._renderer.offset.y/m._renderer.scale.y,e.fillText(this.value,P,N),e.restore()):e.fillText(this.value,0,0)),je.isHidden.test(d)||(d._renderer&&d._renderer.offset?(X=d._renderer.scale.x,z=d._renderer.scale.y,e.save(),e.translate(-d._renderer.offset.x,-d._renderer.offset.y),e.scale(X,z),C=this._size/d._renderer.scale.y,M=this._leading/d._renderer.scale.y,e.font=[this._style,this._weight,C+"px/",M+"px",this._family].join(" "),P=d._renderer.offset.x/d._renderer.scale.x,N=d._renderer.offset.y/d._renderer.scale.y,j=g/d._renderer.scale.x,e.lineWidth=j,e.strokeText(this.value,P,N),e.restore()):e.strokeText(this.value,0,0))),/(underline|strikethrough)/i.test(v)){const te=e.measureText(this.value);let re=1;switch(v){case"underline":K=te.actualBoundingBoxDescent,ae=te.actualBoundingBoxDescent;break;case"strikethrough":K=0,ae=0,re=.5;break}switch(w){case"top":K+=this._size*re,ae+=this._size*re;break;case"baseline":case"bottom":K-=this._size*re,ae-=this._size*re;break}switch(k){case"left":case"start":W=0,q=te.width;break;case"right":case"end":W=-te.width,q=0;break;default:W=-te.width/2,q=te.width/2}e.lineWidth=Math.max(Math.floor(this._size/15),1),e.strokeStyle=e.fillStyle,e.beginPath(),e.moveTo(W,K),e.lineTo(q,ae),e.stroke()}return x||e.restore(),c&&!n&&e.clip(),S&&S.length>0&&e.setLineDash(Vh),this.flagReset()}},"linear-gradient":{render:function(e,t){if(t){if(this._update(),!this._renderer.effect||this._flagEndPoints||this._flagStops||this._flagUnits){let n,i=this.left._x,o=this.left._y,l=this.right._x,a=this.right._y;/objectBoundingBox/i.test(this._units)&&(n=t.getBoundingClientRect(!0),i=(i-.5)*n.width,o=(o-.5)*n.height,l=(l-.5)*n.width,a=(a-.5)*n.height),this._renderer.effect=e.createLinearGradient(i,o,l,a);for(let c=0;c<this.stops.length;c++){const h=this.stops[c];this._renderer.effect.addColorStop(h._offset,h._color)}}return this.flagReset()}}},"radial-gradient":{render:function(e,t){if(t){if(this._update(),!this._renderer.effect||this._flagCenter||this._flagFocal||this._flagRadius||this._flagStops||this._flagUnits){let n,i=this.center._x,o=this.center._y,l=this.focal._x,a=this.focal._y,c=this._radius;/objectBoundingBox/i.test(this._units)&&(n=t.getBoundingClientRect(!0),i=(i-.5)*n.width*.5,o=(o-.5)*n.height*.5,l=(l-.5)*n.width*.5,a=(a-.5)*n.height*.5,c*=Math.min(n.width,n.height)),this._renderer.effect=e.createRadialGradient(i,o,0,l,a,c);for(let h=0;h<this.stops.length;h++){const d=this.stops[h];this._renderer.effect.addColorStop(d._offset,d._color)}}return this.flagReset()}}},texture:{render:function(e){this._update();const t=this.image;return(!this._renderer.effect||(this._flagLoaded||this._flagImage||this._flagVideo||this._flagRepeat)&&this.loaded)&&(this._renderer.effect=e.createPattern(this.image,this._repeat)),(this._flagOffset||this._flagLoaded||this._flagScale)&&(this._renderer.offset instanceof ce||(this._renderer.offset=new ce),this._renderer.offset.x=-this._offset.x,this._renderer.offset.y=-this._offset.y,t&&(this._renderer.offset.x+=t.width/2,this._renderer.offset.y+=t.height/2,this._scale instanceof ce?(this._renderer.offset.x*=this._scale.x,this._renderer.offset.y*=this._scale.y):(this._renderer.offset.x*=this._scale,this._renderer.offset.y*=this._scale))),(this._flagScale||this._flagLoaded)&&(this._renderer.scale instanceof ce||(this._renderer.scale=new ce),this._scale instanceof ce?this._renderer.scale.copy(this._scale):this._renderer.scale.set(this._scale,this._scale)),this.flagReset()}},renderSvgArcCommand:function(e,t,n,i,o,l,a,c,h,d){c=c*Math.PI/180,i=u0(i),o=u0(o);const g=(t-h)/2,m=(n-d)/2,v=Ou(c)*g+Pu(c)*m,y=-Pu(c)*g+Ou(c)*m,x=v*v,b=y*y;let S=i*i,k=o*o;const w=x/S+b/k;if(w>1){const te=rc(w);i=te*i,o=te*o,S=i*i,k=o*o}const C=S*b+k*x,M=(S*k-C)/C;let P=rc(wd(0,M));l===a&&(P=-P);const N=P*i*y/o,j=-P*o*v/i,X=Ou(c)*N-Pu(c)*j+(t+h)/2,z=Pu(c)*N+Ou(c)*j+(n+d)/2,W=c0(1,0,(v-N)/i,(y-j)/o),K=c0((v-N)/i,(y-j)/o,(-v-N)/i,(-y-j)/o)%tn,q=W+K;PS(e,X,z,i,o,W,q,a===0,c)}},Qt=class extends J{constructor(e){super();const t=e.smoothing!==!1;this.domElement=e.domElement||document.createElement("canvas"),this.ctx=this.domElement.getContext("2d"),this.overdraw=e.overdraw||!1,typeof this.ctx.imageSmoothingEnabled<"u"&&(this.ctx.imageSmoothingEnabled=t),this.scene=new kt,this.scene.parent=this}setSize(e,t,n){return this.width=e,this.height=t,this.ratio=typeof n>"u"?tp(this.ctx):n,this.domElement.width=e*this.ratio,this.domElement.height=t*this.ratio,this.domElement.style&&Se.extend(this.domElement.style,{width:e+"px",height:t+"px"}),this.trigger(J.Types.resize,e,t,n)}render(){const e=this.ratio===1;return e||(this.ctx.save(),this.ctx.scale(this.ratio,this.ratio)),this.overdraw||this.ctx.clearRect(0,0,this.width,this.height),je.group.render.call(this.scene,this.ctx),e||this.ctx.restore(),this}};T(Qt,"Utils",je);function PS(e,t,n,i,o,l,a,c,h){const d=a-l,g=$o.Tolerance.epsilon,m=Math.abs(d)<g;let v=Xn(d,tn);v<g&&(m?v=0:v=tn),c===!0&&!m&&(v===tn?v=-tn:v=v-tn);for(let y=0;y<gn.Resolution;y++){const x=y/(gn.Resolution-1),b=l+x*v;let S=t+i*Math.cos(b),k=n+o*Math.sin(b);if(h!==0){const w=Math.cos(h),C=Math.sin(h),M=S-t,P=k-n;S=M*w-P*C+t,k=M*C+P*w+n}e.lineTo(S,k)}}function c0(e,t,n,i){const o=e*n+t*i,l=rc(e*e+t*t)*rc(n*n+i*i);let a=AS(wd(-1,MS(1,o/l)));return e*i-t*n<0&&(a=-a),a}function Lu(e){return e[0]==1&&e[3]==0&&e[1]==0&&e[4]==1&&e[2]==0&&e[5]==0}var ke={version:1.1,ns:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",alignments:{left:"start",center:"middle",right:"end"},baselines:{top:"hanging",middle:"middle",bottom:"ideographic",baseline:"alphabetic"},createElement:function(e,t){const n=e,i=document.createElementNS(ke.ns,n);return n==="svg"&&(t=Se.defaults(t||{},{version:ke.version})),t&&Object.keys(t).length>0&&ke.setAttributes(i,t),i},setAttributes:function(e,t){const n=Object.keys(t);for(let i=0;i<n.length;i++)/href/.test(n[i])?e.setAttributeNS(ke.xlink,n[i],t[n[i]]):e.setAttribute(n[i],t[n[i]]);return this},removeAttributes:function(e,t){for(let n in t)e.removeAttribute(n);return this},toString:function(e,t){let n=e.length,i=n-1,o,l="";for(let a=0;a<n;a++){const c=e[a],h=t?Xn(a-1,n):Math.max(a-1,0),d=e[h];let g,m,v,y,x,b,S,k,w,C,M,P,N,j,X,z=He(c.x),W=He(c.y);switch(c.command){case de.close:g=de.close;break;case de.arc:M=c.rx,P=c.ry,N=c.xAxisRotation,j=c.largeArcFlag,X=c.sweepFlag,g=de.arc+" "+M+" "+P+" "+N+" "+j+" "+X+" "+z+" "+W;break;case de.curve:S=d.controls&&d.controls.right||ce.zero,k=c.controls&&c.controls.left||ce.zero,d.relative?(v=He(S.x+d.x),y=He(S.y+d.y)):(v=He(S.x),y=He(S.y)),c.relative?(x=He(k.x+c.x),b=He(k.y+c.y)):(x=He(k.x),b=He(k.y)),g=(a===0?de.move:de.curve)+" "+v+" "+y+" "+x+" "+b+" "+z+" "+W;break;case de.move:o=c,g=de.move+" "+z+" "+W;break;default:g=c.command+" "+z+" "+W}a>=i&&t&&(c.command===de.curve&&(m=o,w=c.controls&&c.controls.right||c,C=m.controls&&m.controls.left||m,c.relative?(v=He(w.x+c.x),y=He(w.y+c.y)):(v=He(w.x),y=He(w.y)),m.relative?(x=He(C.x+m.x),b=He(C.y+m.y)):(x=He(C.x),b=He(C.y)),z=He(m.x),W=He(m.y),g+=" C "+v+" "+y+" "+x+" "+b+" "+z+" "+W),c.command!==de.close&&(g+=" Z")),l+=g+" "}return l},pointsToString:function(e,t){let n="";const i=t*.5;for(let o=0;o<e.length;o++){const l=e[o].x,a=e[o].y-i;n+=de.move+" "+l+" "+a+" ",n+="a "+i+" "+i+" 0 1 0 0.001 0 Z"}return n},getClip:function(e,t){let n=e._renderer.clip;return n||(n=e._renderer.clip=ke.createElement("clipPath",{"clip-rule":"nonzero"})),n.parentNode===null&&t.defs.appendChild(n),n},getRendererType:function(e){return e in ke?e:"path"},defs:{update:function(e){const{defs:t}=e;if(t._flagUpdate){const n=Array.prototype.slice.call(t.children,0);for(let i=0;i<n.length;i++){const o=n[i],l=o.id,a=`[fill="url(#${l})"],[stroke="url(#${l})"],[clip-path="url(#${l})"]`;e.querySelector(a)||t.removeChild(o)}t._flagUpdate=!1}}},group:{appendChild:function(e){const t=e._renderer.elem;if(!t)return;const n=t.nodeName;!n||/(radial|linear)gradient/i.test(n)||e._clip||this.elem.appendChild(t)},removeChild:function(e){const t=e._renderer.elem;!t||t.parentNode!=this.elem||!t.nodeName||e._clip||this.elem.removeChild(t)},orderChild:function(e){this.elem.appendChild(e._renderer.elem)},renderChild:function(e){const t=ke.getRendererType(e._renderer.type);ke[t].render.call(e,this)},render:function(e){if(!this._visible&&!this._flagVisible||this._opacity===0&&!this._flagOpacity)return this;this._update(),this._renderer.elem||(this._renderer.elem=ke.createElement("g",{id:this.id}),e.appendChild(this._renderer.elem));const t=this._matrix.manual||this._flagMatrix,n={domElement:e,elem:this._renderer.elem};t&&this._renderer.elem.setAttribute("transform","matrix("+this._matrix.toString()+")");for(let i=0;i<this.children.length;i++){const o=this.children[i],l=ke.getRendererType(o._renderer.type);ke[l].render.call(o,e)}if(this._flagId&&this._renderer.elem.setAttribute("id",this._id),this._flagOpacity&&this._renderer.elem.setAttribute("opacity",this._opacity),this._flagVisible&&this._renderer.elem.setAttribute("display",this._visible?"inline":"none"),this._flagClassName&&this._renderer.elem.setAttribute("class",this.classList.join(" ")),this._flagAdditions&&this.additions.forEach(ke.group.appendChild,n),this._flagSubtractions&&this.subtractions.forEach(ke.group.removeChild,n),this._flagOrder&&this.children.forEach(ke.group.orderChild,n),this._flagMask)if(this._mask){const i=ke.getRendererType(this._mask._renderer.type);ke[i].render.call(this._mask,e),this._renderer.elem.setAttribute("clip-path","url(#"+this._mask.id+")")}else this._renderer.elem.removeAttribute("clip-path");return this.dataset&&Object.assign(this._renderer.elem.dataset,this.dataset),this.flagReset()}},path:{render:function(e){if(this._opacity===0&&!this._flagOpacity)return this;this._update();const t={};if((this._matrix.manual||this._flagMatrix)&&(t.transform="matrix("+this._matrix.toString()+")"),this._flagId&&(t.id=this._id),this._flagVertices){const i=ke.toString(this._renderer.vertices,this._closed);t.d=i}if(this._fill&&this._fill._renderer){this._renderer.hasFillEffect=!0,this._fill._update();const i=ke.getRendererType(this._fill._renderer.type);ke[i].render.call(this._fill,e,!0)}if(this._flagFill&&(t.fill=this._fill&&this._fill.id?"url(#"+this._fill.id+")":this._fill,this._renderer.hasFillEffect&&typeof this._fill.id>"u"&&(e.defs._flagUpdate=!0,delete this._renderer.hasFillEffect)),this._stroke&&this._stroke._renderer){this._renderer.hasStrokeEffect=!0,this._stroke._update();const i=ke.getRendererType(this._stroke._renderer.type);ke[i].render.call(this._stroke,e,!0)}if(this._flagStroke&&(t.stroke=this._stroke&&this._stroke.id?"url(#"+this._stroke.id+")":this._stroke,this._renderer.hasStrokeEffect&&typeof this._stroke.id>"u"&&(e.defs._flagUpdate=!0,delete this._renderer.hasStrokeEffect)),this._flagLinewidth&&(t["stroke-width"]=this._linewidth),this._flagOpacity&&(t["stroke-opacity"]=this._opacity,t["fill-opacity"]=this._opacity),this._flagClassName&&(t.class=this.classList.join(" ")),this._flagVisible&&(t.visibility=this._visible?"visible":"hidden"),this._flagCap&&(t["stroke-linecap"]=this._cap),this._flagJoin&&(t["stroke-linejoin"]=this._join),this._flagMiter&&(t["stroke-miterlimit"]=this._miter),this.dashes&&this.dashes.length>0&&(t["stroke-dasharray"]=this.dashes.join(" "),t["stroke-dashoffset"]=this.dashes.offset||0),this._renderer.elem?ke.setAttributes(this._renderer.elem,t):(t.id=this._id,this._renderer.elem=ke.createElement("path",t),e.appendChild(this._renderer.elem)),this._flagClip){const i=ke.getClip(this,e),o=this._renderer.elem;this._clip?(o.removeAttribute("id"),i.setAttribute("id",this.id),i.appendChild(o)):(i.removeAttribute("id"),o.setAttribute("id",this.id),this.parent._renderer.elem.appendChild(o))}if(this._flagMask)if(this._mask){const i=ke.getRendererType(this._mask._renderer.type);ke[i].render.call(this._mask,e),this._renderer.elem.setAttribute("clip-path","url(#"+this._mask.id+")")}else this._renderer.elem.removeAttribute("clip-path");return this.flagReset()}},points:{render:function(e){if(this._opacity===0&&!this._flagOpacity)return this;this._update();const t={};if((this._matrix.manual||this._flagMatrix)&&(t.transform="matrix("+this._matrix.toString()+")"),this._flagId&&(t.id=this._id),this._flagVertices||this._flagSize||this._flagSizeAttenuation){let i=this._size;if(!this._sizeAttenuation){const l=this.worldMatrix.elements,a=Bo(l[0],l[3],l[1],l[4],l[2],l[5]);i/=Math.max(a.scaleX,a.scaleY)}const o=ke.pointsToString(this._renderer.collection,i);t.d=o}if(this._fill&&this._fill._renderer){this._renderer.hasFillEffect=!0,this._fill._update();const i=ke.getRendererType(this._fill._renderer.type);ke[i].render.call(this._fill,e,!0)}if(this._flagFill&&(t.fill=this._fill&&this._fill.id?"url(#"+this._fill.id+")":this._fill,this._renderer.hasFillEffect&&typeof this._fill.id>"u"&&(e.defs._flagUpdate=!0,delete this._renderer.hasFillEffect)),this._stroke&&this._stroke._renderer){this._renderer.hasStrokeEffect=!0,this._stroke._update();const i=ke.getRendererType(this._stroke._renderer.type);ke[i].render.call(this._stroke,e,!0)}return this._flagStroke&&(t.stroke=this._stroke&&this._stroke.id?"url(#"+this._stroke.id+")":this._stroke,this._renderer.hasStrokeEffect&&typeof this._stroke.id>"u"&&(e.defs._flagUpdate=!0,delete this._renderer.hasStrokeEffect)),this._flagLinewidth&&(t["stroke-width"]=this._linewidth),this._flagOpacity&&(t["stroke-opacity"]=this._opacity,t["fill-opacity"]=this._opacity),this._flagClassName&&(t.class=this.classList.join(" ")),this._flagVisible&&(t.visibility=this._visible?"visible":"hidden"),this.dashes&&this.dashes.length>0&&(t["stroke-dasharray"]=this.dashes.join(" "),t["stroke-dashoffset"]=this.dashes.offset||0),this._renderer.elem?ke.setAttributes(this._renderer.elem,t):(t.id=this._id,this._renderer.elem=ke.createElement("path",t),e.appendChild(this._renderer.elem)),this.flagReset()}},text:{render:function(e){this._update();const t={};if((this._matrix.manual||this._flagMatrix)&&(t.transform="matrix("+this._matrix.toString()+")"),this._flagId&&(t.id=this._id),this._flagFamily&&(t["font-family"]=this._family),this._flagSize&&(t["font-size"]=this._size),this._flagLeading&&(t["line-height"]=this._leading),this._flagAlignment&&(t["text-anchor"]=ke.alignments[this._alignment]||this._alignment),this._flagBaseline&&(t["dominant-baseline"]=ke.baselines[this._baseline]||this._baseline),this._flagStyle&&(t["font-style"]=this._style),this._flagWeight&&(t["font-weight"]=this._weight),this._flagDecoration&&(t["text-decoration"]=this._decoration),this._flagDirection&&(t.direction=this._direction),this._fill&&this._fill._renderer){this._renderer.hasFillEffect=!0,this._fill._update();const i=ke.getRendererType(this._fill._renderer.type);ke[i].render.call(this._fill,e,!0)}if(this._flagFill&&(t.fill=this._fill&&this._fill.id?"url(#"+this._fill.id+")":this._fill,this._renderer.hasFillEffect&&typeof this._fill.id>"u"&&(e.defs._flagUpdate=!0,delete this._renderer.hasFillEffect)),this._stroke&&this._stroke._renderer){this._renderer.hasStrokeEffect=!0,this._stroke._update();const i=ke.getRendererType(this._stroke._renderer.type);ke[i].render.call(this._stroke,e,!0)}if(this._flagStroke&&(t.stroke=this._stroke&&this._stroke.id?"url(#"+this._stroke.id+")":this._stroke,this._renderer.hasStrokeEffect&&typeof this._stroke.id>"u"&&(e.defs._flagUpdate=!0,delete this._renderer.hasStrokeEffect)),this._flagLinewidth&&(t["stroke-width"]=this._linewidth),this._flagOpacity&&(t.opacity=this._opacity),this._flagClassName&&(t.class=this.classList.join(" ")),this._flagVisible&&(t.visibility=this._visible?"visible":"hidden"),this.dashes&&this.dashes.length>0&&(t["stroke-dasharray"]=this.dashes.join(" "),t["stroke-dashoffset"]=this.dashes.offset||0),this._renderer.elem?ke.setAttributes(this._renderer.elem,t):(t.id=this._id,this._renderer.elem=ke.createElement("text",t),e.appendChild(this._renderer.elem)),this._flagClip){const i=ke.getClip(this,e),o=this._renderer.elem;this._clip?(o.removeAttribute("id"),i.setAttribute("id",this.id),i.appendChild(o)):(i.removeAttribute("id"),o.setAttribute("id",this.id),this.parent._renderer.elem.appendChild(o))}if(this._flagMask)if(this._mask){const i=ke.getRendererType(this._mask._renderer.type);ke[i].render.call(this._mask,e),this._renderer.elem.setAttribute("clip-path","url(#"+this._mask.id+")")}else this._renderer.elem.removeAttribute("clip-path");return this._flagValue&&(this._renderer.elem.textContent=this._value),this.flagReset()}},"linear-gradient":{render:function(e,t){t||this._update();const n={};if(this._flagId&&(n.id=this._id),this._flagEndPoints&&(n.x1=this.left._x,n.y1=this.left._y,n.x2=this.right._x,n.y2=this.right._y),this._flagSpread&&(n.spreadMethod=this._spread),this._flagUnits&&(n.gradientUnits=this._units),this._renderer.elem?ke.setAttributes(this._renderer.elem,n):(n.id=this._id,this._renderer.elem=ke.createElement("linearGradient",n)),this._renderer.elem.parentNode===null&&e.defs.appendChild(this._renderer.elem),this._flagStops){const i=this._renderer.elem.childNodes.length!==this.stops.length;if(i)for(;this._renderer.elem.lastChild;)this._renderer.elem.removeChild(this._renderer.elem.lastChild);for(let o=0;o<this.stops.length;o++){const l=this.stops[o],a={};l._flagOffset&&(a.offset=100*l._offset+"%"),l._flagColor&&(a["stop-color"]=l._color),l._flagOpacity&&(a["stop-opacity"]=l._opacity),l._renderer.elem?ke.setAttributes(l._renderer.elem,a):l._renderer.elem=ke.createElement("stop",a),i&&this._renderer.elem.appendChild(l._renderer.elem),l.flagReset()}}return this.flagReset()}},"radial-gradient":{render:function(e,t){t||this._update();const n={};if(this._flagId&&(n.id=this._id),this._flagCenter&&(n.cx=this.center._x,n.cy=this.center._y),this._flagFocal&&(n.fx=this.focal._x,n.fy=this.focal._y),this._flagRadius&&(n.r=this._radius),this._flagSpread&&(n.spreadMethod=this._spread),this._flagUnits&&(n.gradientUnits=this._units),this._renderer.elem?ke.setAttributes(this._renderer.elem,n):(n.id=this._id,this._renderer.elem=ke.createElement("radialGradient",n)),this._renderer.elem.parentNode===null&&e.defs.appendChild(this._renderer.elem),this._flagStops){const i=this._renderer.elem.childNodes.length!==this.stops.length;if(i)for(;this._renderer.elem.lastChild;)this._renderer.elem.removeChild(this._renderer.elem.lastChild);for(let o=0;o<this.stops.length;o++){const l=this.stops[o],a={};l._flagOffset&&(a.offset=100*l._offset+"%"),l._flagColor&&(a["stop-color"]=l._color),l._flagOpacity&&(a["stop-opacity"]=l._opacity),l._renderer.elem?ke.setAttributes(l._renderer.elem,a):l._renderer.elem=ke.createElement("stop",a),i&&this._renderer.elem.appendChild(l._renderer.elem),l.flagReset()}}return this.flagReset()}},texture:{render:function(e,t){t||this._update();const n={},i={x:0,y:0},o=this.image;if(this._flagId&&(n.id=this._id),this._flagLoaded&&this.loaded)switch(o.nodeName.toLowerCase()){case"canvas":i.href=i["xlink:href"]=o.toDataURL("image/png");break;case"img":case"image":i.href=i["xlink:href"]=this.src;break}if((this._flagOffset||this._flagLoaded||this._flagScale)&&(n.x=this._offset.x,n.y=this._offset.y,o&&(n.x-=o.width/2,n.y-=o.height/2,this._scale instanceof ce?(n.x*=this._scale.x,n.y*=this._scale.y):(n.x*=this._scale,n.y*=this._scale)),n.x>0&&(n.x*=-1),n.y>0&&(n.y*=-1)),(this._flagScale||this._flagLoaded||this._flagRepeat)&&(n.width=0,n.height=0,o)){switch(n.width=o.width,n.height=o.height,this._repeat){case"no-repeat":n.width+=1,n.height+=1;break}this._scale instanceof ce?(n.width*=this._scale.x,n.height*=this._scale.y):(n.width*=this._scale,n.height*=this._scale),i.width=n.width,i.height=n.height}return(this._flagScale||this._flagLoaded)&&(this._renderer.image?ke.setAttributes(this._renderer.image,i):this._renderer.image=ke.createElement("image",i)),this._renderer.elem?Object.keys(n).length!==0&&ke.setAttributes(this._renderer.elem,n):(n.id=this._id,n.patternUnits="userSpaceOnUse",this._renderer.elem=ke.createElement("pattern",n)),this._renderer.elem.parentNode===null&&e.defs.appendChild(this._renderer.elem),this._renderer.elem&&this._renderer.image&&!this._renderer.appended&&(this._renderer.elem.appendChild(this._renderer.image),this._renderer.appended=!0),this.flagReset()}}},Wv=class extends J{constructor(e){super(),this.domElement=e.domElement||ke.createElement("svg"),this.scene=new kt,this.scene.parent=this,this.defs=ke.createElement("defs"),this.defs._flagUpdate=!1,this.domElement.appendChild(this.defs),this.domElement.defs=this.defs,this.domElement.style.overflow="hidden"}setSize(e,t){return this.width=e,this.height=t,ke.setAttributes(this.domElement,{width:e,height:t}),this.trigger(J.Types.resize,e,t)}render(){return ke.group.render.call(this.scene,this.domElement),ke.defs.update(this.domElement),this}};T(Wv,"Utils",ke);var lr={create:function(e,t,n){const i=e.createShader(e[n]);if(e.shaderSource(i,t),e.compileShader(i),!e.getShaderParameter(i,e.COMPILE_STATUS)){const l=e.getShaderInfoLog(i);throw e.deleteShader(i),new Yn("unable to compile shader "+i+": "+l)}return i},types:{vertex:"VERTEX_SHADER",fragment:"FRAGMENT_SHADER"},path:{vertex:`
      precision mediump float;
      attribute vec2 a_position;

      uniform mat3 u_matrix;
      uniform vec2 u_resolution;
      uniform vec4 u_rect;

      varying vec2 v_textureCoords;

      void main() {
        vec2 rectCoords = (a_position * (u_rect.zw - u_rect.xy)) + u_rect.xy;
        vec2 projected = (u_matrix * vec3(rectCoords, 1.0)).xy;
        vec2 normal = projected / u_resolution;
        vec2 clipspace = (normal * 2.0) - 1.0;

        gl_Position = vec4(clipspace * vec2(1.0, -1.0), 0.0, 1.0);
        v_textureCoords = a_position;
      }
    `,fragment:`
      precision mediump float;

      uniform sampler2D u_image;
      varying vec2 v_textureCoords;

      void main() {
        vec4 texel = texture2D(u_image, v_textureCoords);
        if (texel.a == 0.0) {
          discard;
        }
        gl_FragColor = texel;
      }
    `},points:{vertex:`
      precision mediump float;
      attribute vec2 a_position;

      uniform float u_size;
      uniform mat3 u_matrix;
      uniform vec2 u_resolution;

      varying vec2 v_textureCoords;

      void main() {
        vec2 projected = (u_matrix * vec3(a_position, 1.0)).xy;
        vec2 normal = projected / u_resolution;
        vec2 clipspace = (normal * 2.0) - 1.0;

        gl_PointSize = u_size;
        gl_Position = vec4(clipspace * vec2(1.0, -1.0), 0.0, 1.0);
        v_textureCoords = a_position;
      }
    `,fragment:`
      precision mediump float;

      uniform sampler2D u_image;

      void main() {
        vec4 texel = texture2D(u_image, gl_PointCoord);
        if (texel.a == 0.0) {
          discard;
        }
        gl_FragColor = texel;
      }
    `}},Fu=zs.Multiply,OS=[1,0,0,0,1,0,0,0,1],$i=new Br(9),LS=Qt.Utils,f0=new ce,bd=new Br([0,0,1,0,0,1,0,1,1,0,1,1]),Pe={precision:.9,isHidden:/(undefined|none|transparent)/i,canvas:ct.document?ct.document.createElement("canvas"):{getContext:function(){}},alignments:{left:"start",middle:"center",right:"end"},matrix:new zs,group:{removeChild:function(e,t){if(e.children)for(let n=0;n<e.children.length;n++)Pe.group.removeChild(e.children[n],t);e._renderer.texture&&(t.deleteTexture(e._renderer.texture),delete e._renderer.texture),e._renderer.positionBuffer&&(t.deleteBuffer(e._renderer.positionBuffer),delete e._renderer.positionBuffer)},render:function(e,t){if(!this._visible)return;this._update();const n=this.parent,i=n._matrix&&n._matrix.manual||n._flagMatrix,o=this._matrix.manual||this._flagMatrix;if((i||o)&&(this._renderer.matrix||(this._renderer.matrix=new Br(9)),this._matrix.toTransformArray(!0,$i),Fu($i,n._renderer.matrix,this._renderer.matrix),this._renderer.scale instanceof ce||(this._renderer.scale=new ce),this._scale instanceof ce?(this._renderer.scale.x=this._scale.x,this._renderer.scale.y=this._scale.y):(this._renderer.scale.x=this._scale,this._renderer.scale.y=this._scale),/renderer/i.test(n._renderer.type)||(this._renderer.scale.x*=n._renderer.scale.x,this._renderer.scale.y*=n._renderer.scale.y),i&&(this._flagMatrix=!0)),this._mask){e.clear(e.STENCIL_BUFFER_BIT),e.enable(e.STENCIL_TEST),e.stencilFunc(e.ALWAYS,1,0),e.stencilOp(e.KEEP,e.KEEP,e.REPLACE),e.colorMask(!1,!1,!1,!1);const a=Qt.Utils.getRendererType(this._mask._renderer.type);Pe[a].render.call(this._mask,e,t,this),e.stencilFunc(e.EQUAL,1,255),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.colorMask(!0,!0,!0,!0)}this._flagOpacity=n._flagOpacity||this._flagOpacity,this._renderer.opacity=this._opacity*(n&&n._renderer?n._renderer.opacity:1);let l;if(this._flagSubtractions)for(l=0;l<this.subtractions.length;l++)Pe.group.removeChild(this.subtractions[l],e);for(l=0;l<this.children.length;l++){const a=this.children[l],c=Qt.Utils.getRendererType(a._renderer.type);Pe[c].render.call(a,e,t)}return this._mask&&e.disable(e.STENCIL_TEST),this.flagReset()}},path:{updateCanvas:function(e,t){let n,i,o,l,a,c,h,d,g,m,v,y,x,b;const S=t._renderer.vertices,k=this.canvas,w=this.ctx,C=e.renderer.ratio,M=f0.copy(t._renderer.scale).multiply(C),P=t._stroke,N=t._linewidth,j=t._fill,X=t._renderer.opacity||t._opacity,z=t._cap,W=t._join,K=t._miter,q=t._closed,ae=t.dashes,te=S.length,re=te-1;k.width=Math.max(Math.ceil(t._renderer.rect.width*M.x),1),k.height=Math.max(Math.ceil(t._renderer.rect.height*M.y),1);const ue=t._renderer.rect.centroid,Z=ue.x,D=ue.y;if(w.clearRect(0,0,k.width,k.height),j)if(typeof j=="string")w.fillStyle=j;else{const se=Qt.Utils.getRendererType(j._renderer.type);Pe[se].render.call(j,w,t),w.fillStyle=j._renderer.effect}if(P){if(typeof P=="string")w.strokeStyle=P;else{const se=Qt.Utils.getRendererType(P._renderer.type);Pe[se].render.call(P,w,t),w.strokeStyle=P._renderer.effect}N&&(w.lineWidth=N),K&&(w.miterLimit=K),W&&(w.lineJoin=W),!q&&z&&(w.lineCap=z)}typeof X=="number"&&(w.globalAlpha=X),ae&&ae.length>0&&(w.lineDashOffset=ae.offset||0,w.setLineDash(ae));let $,G,L,Y,we,fe,oe,Q;w.save(),w.scale(M.x,M.y),w.translate(Z,D),w.beginPath();for(let se=0;se<S.length;se++){const ee=S[se];switch(y=ee.x,x=ee.y,ee.command){case de.close:w.closePath();break;case de.arc:G=ee.rx,L=ee.ry,Y=ee.xAxisRotation,we=ee.largeArcFlag,fe=ee.sweepFlag,n=q?Xn(se-1,te):Math.max(se-1,0),i=S[n],oe=i.x,Q=i.y,LS.renderSvgArcCommand(w,oe,Q,G,L,we,fe,Y,y,x);break;case de.curve:n=q?Xn(se-1,te):Math.max(se-1,0),i=S[n],d=i.controls&&i.controls.right||ce.zero,g=ee.controls&&ee.controls.left||ce.zero,i._relative?(c=d.x+i.x,h=d.y+i.y):(c=d.x,h=d.y),ee._relative?(l=g.x+ee.x,a=g.y+ee.y):(l=g.x,a=g.y),w.bezierCurveTo(c,h,l,a,y,x),se>=re&&q&&(o=$,m=ee.controls&&ee.controls.right||ce.zero,v=o.controls&&o.controls.left||ce.zero,ee._relative?(c=m.x+ee.x,h=m.y+ee.y):(c=m.x,h=m.y),o._relative?(l=v.x+o.x,a=v.y+o.y):(l=v.x,a=v.y),y=o.x,x=o.y,w.bezierCurveTo(c,h,l,a,y,x));break;case de.line:w.lineTo(y,x);break;case de.move:$=ee,w.moveTo(y,x);break}}q&&w.closePath(),Pe.isHidden.test(j)||(b=j._renderer&&j._renderer.offset,b&&(w.save(),w.translate(-j._renderer.offset.x,-j._renderer.offset.y),w.scale(j._renderer.scale.x,j._renderer.scale.y)),w.fill(),b&&w.restore()),Pe.isHidden.test(P)||(b=P._renderer&&P._renderer.offset,b&&(w.save(),w.translate(-P._renderer.offset.x,-P._renderer.offset.y),w.scale(P._renderer.scale.x,P._renderer.scale.y),w.lineWidth=N/P._renderer.scale.x),w.stroke(),b&&w.restore()),w.restore()},getBoundingClientRect:function(e,t,n){let i=1/0,o=-1/0,l=1/0,a=-1/0,c,h;e.forEach(function(d){const g=d.x,m=d.y,v=d.controls;let y,x,b,S,k,w;l=Math.min(m,l),i=Math.min(g,i),o=Math.max(g,o),a=Math.max(m,a),d.controls&&(k=v.left,w=v.right,!(!k||!w)&&(y=d._relative?k.x+g:k.x,x=d._relative?k.y+m:k.y,b=d._relative?w.x+g:w.x,S=d._relative?w.y+m:w.y,!(!y||!x||!b||!S)&&(l=Math.min(x,S,l),i=Math.min(y,b,i),o=Math.max(y,b,o),a=Math.max(x,S,a))))}),typeof t=="number"&&(l-=t,i-=t,o+=t,a+=t),c=o-i,h=a-l,n.top=l,n.left=i,n.right=o,n.bottom=a,n.width=c,n.height=h,n.centroid||(n.centroid={}),n.centroid.x=-i,n.centroid.y=-l},render:function(e,t,n){if(!this._visible||!this._opacity)return this;this._update();const i=n||this.parent,o=Qt.Utils.getRendererType(this._renderer.type),l=t[o],a=i._matrix.manual||i._flagMatrix,c=this._matrix.manual||this._flagMatrix,h=this._renderer.parent!==i,d=this._flagVertices||this._flagFill||this._fill instanceof et&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagEndPoints)||this._fill instanceof tt&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagRadius||this._fill._flagCenter||this._fill._flagFocal)||this._fill instanceof Be&&(this._fill._flagLoaded&&this._fill.loaded||this._fill._flagImage||this._fill._flagVideo||this._fill._flagRepeat||this._fill._flagOffset||this._fill._flagScale)||this._stroke instanceof et&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagEndPoints)||this._stroke instanceof tt&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagRadius||this._stroke._flagCenter||this._stroke._flagFocal)||this._stroke instanceof Be&&(this._stroke._flagLoaded&&this._stroke.loaded||this._stroke._flagImage||this._stroke._flagVideo||this._stroke._flagRepeat||this._stroke._flagOffset||this._fill._flagScale)||this._flagStroke||this._flagLinewidth||this._flagOpacity||i._flagOpacity||this._flagVisible||this._flagCap||this._flagJoin||this._flagMiter||this._flagScale||this.dashes&&this.dashes.length>0||!this._renderer.texture;if(a||c||h){this._renderer.matrix||(this._renderer.matrix=new Br(9)),this._matrix.toTransformArray(!0,$i),Fu($i,i._renderer.matrix,this._renderer.matrix),this._renderer.scale instanceof ce||(this._renderer.scale=new ce);let m,v;this._scale instanceof ce?(m=this._scale.x*i._renderer.scale.x,v=this._scale.y*i._renderer.scale.y):(m=this._scale*i._renderer.scale.x,v=this._scale*i._renderer.scale.y),this._renderer.scale.x=m<0?-m:m,this._renderer.scale.y=v<0?-v:v,h&&(this._renderer.parent=i)}if(this._mask){e.clear(e.STENCIL_BUFFER_BIT),e.enable(e.STENCIL_TEST),e.stencilFunc(e.ALWAYS,1,0),e.stencilOp(e.KEEP,e.KEEP,e.REPLACE),e.colorMask(!1,!1,!1,!1);const m=Qt.Utils.getRendererType(this._mask._renderer.type);Pe[m].render.call(this._mask,e,t,this),e.stencilFunc(e.EQUAL,1,255),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.colorMask(!0,!0,!0,!0)}if(d?(this._renderer.rect||(this._renderer.rect={}),this._renderer.opacity=this._opacity*i._renderer.opacity,Pe.path.getBoundingClientRect(this._renderer.vertices,this._linewidth,this._renderer.rect),Pe.updateTexture.call(Pe,e,this)):(this._fill&&this._fill._update&&this._fill._update(),this._stroke&&this._stroke._update&&this._stroke._update()),this._clip&&!n||!this._renderer.texture)return this;t.current!==l&&(e.useProgram(l),e.bindBuffer(e.ARRAY_BUFFER,t.buffers.position),e.vertexAttribPointer(l.position,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(l.position),e.bufferData(e.ARRAY_BUFFER,bd,e.STATIC_DRAW),t.resolution.flagged||e.uniform2f(e.getUniformLocation(l,"u_resolution"),t.resolution.width,t.resolution.height),t.current=l),t.resolution.flagged&&e.uniform2f(e.getUniformLocation(l,"u_resolution"),t.resolution.width,t.resolution.height),e.bindTexture(e.TEXTURE_2D,this._renderer.texture);const g=this._renderer.rect;return e.uniformMatrix3fv(l.matrix,!1,this._renderer.matrix),e.uniform4f(l.rect,g.left,g.top,g.right,g.bottom),e.drawArrays(e.TRIANGLES,0,6),this._mask&&e.disable(e.STENCIL_TEST),this.flagReset()}},points:{updateCanvas:function(e,t){let n;const i=this.canvas,o=this.ctx,l=e.renderer.ratio,a=t._stroke,c=t._linewidth,h=t._fill,d=t._renderer.opacity||t._opacity,g=t.dashes,m=t._size*l;let v=m;Pe.isHidden.test(a)||(v+=c),i.width=Mv(v),i.height=i.width;const y=v/i.width,x=i.width/2,b=i.height/2;if(o.clearRect(0,0,i.width,i.height),h)if(typeof h=="string")o.fillStyle=h;else{const S=Qt.Utils.getRendererType(h._renderer.type);Pe[S].render.call(h,o,t),o.fillStyle=h._renderer.effect}if(a){if(typeof a=="string")o.strokeStyle=a;else{const S=Qt.Utils.getRendererType(a._renderer.type);Pe[S].render.call(a,o,t),o.strokeStyle=a._renderer.effect}c&&(o.lineWidth=c/y)}typeof d=="number"&&(o.globalAlpha=d),g&&g.length>0&&(o.lineDashOffset=g.offset||0,o.setLineDash(g)),o.save(),o.translate(x,b),o.scale(Pe.precision,Pe.precision),o.beginPath(),o.arc(0,0,m/y*.5,0,tn),o.restore(),closed&&o.closePath(),Pe.isHidden.test(h)||(n=h._renderer&&h._renderer.offset,n&&(o.save(),o.translate(-h._renderer.offset.x,-h._renderer.offset.y),o.scale(h._renderer.scale.x,h._renderer.scale.y)),o.fill(),n&&o.restore()),Pe.isHidden.test(a)||(n=a._renderer&&a._renderer.offset,n&&(o.save(),o.translate(-a._renderer.offset.x,-a._renderer.offset.y),o.scale(a._renderer.scale.x,a._renderer.scale.y),o.lineWidth=c/a._renderer.scale.x),o.stroke(),n&&o.restore())},render:function(e,t,n){if(!this._visible||!this._opacity)return this;this._update();let i=this._size;const o=n||this.parent,l=t[this._renderer.type],a=this._sizeAttenuation,c=this._stroke,h=this._linewidth,d=o._matrix.manual||o._flagMatrix,g=this._matrix.manual||this._flagMatrix,m=this._renderer.parent!==o,v=this._renderer.vertices,y=this._renderer.collection.length,x=this._flagVertices,b=this._flagFill||this._fill instanceof et&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagEndPoints)||this._fill instanceof tt&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagRadius||this._fill._flagCenter||this._fill._flagFocal)||this._fill instanceof Be&&(this._fill._flagLoaded&&this._fill.loaded||this._fill._flagImage||this._fill._flagVideo||this._fill._flagRepeat||this._fill._flagOffset||this._fill._flagScale)||this._stroke instanceof et&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagEndPoints)||this._stroke instanceof tt&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagRadius||this._stroke._flagCenter||this._stroke._flagFocal)||this._stroke instanceof Be&&(this._stroke._flagLoaded&&this._stroke.loaded||this._stroke._flagImage||this._stroke._flagVideo||this._stroke._flagRepeat||this._stroke._flagOffset||this._fill._flagScale)||this._flagStroke||this._flagLinewidth||this._flagOpacity||o._flagOpacity||this._flagVisible||this._flagScale||this.dashes&&this.dashes.length>0||!this._renderer.texture;if(d||g||m){this._renderer.matrix||(this._renderer.matrix=new Br(9)),this._matrix.toTransformArray(!0,$i),Fu($i,o._renderer.matrix,this._renderer.matrix),this._renderer.scale instanceof ce||(this._renderer.scale=new ce);let S,k;this._scale instanceof ce?(S=this._scale.x*o._renderer.scale.x,k=this._scale.y*o._renderer.scale.y):(S=this._scale*o._renderer.scale.x,k=this._scale*o._renderer.scale.y),this._renderer.scale.x=S<0?-S:S,this._renderer.scale.y=k<0?-k:k,m&&(this._renderer.parent=o)}if(x){const S=this._renderer.positionBuffer;S&&e.deleteBuffer(S),this._renderer.positionBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this._renderer.positionBuffer),e.vertexAttribPointer(l.position,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(l.position),e.bufferData(e.ARRAY_BUFFER,v,e.STATIC_DRAW)}return b?(this._renderer.opacity=this._opacity*o._renderer.opacity,Pe.updateTexture.call(Pe,e,this)):(this._fill&&this._fill._update&&this._fill._update(),this._stroke&&this._stroke._update&&this._stroke._update()),this._clip&&!n||!this._renderer.texture?this:(Pe.isHidden.test(c)||(i+=h),i/=Pe.precision,a&&(i*=Math.max(this._renderer.scale.x,this._renderer.scale.y)),t.current!==l&&(e.useProgram(l),t.resolution.flagged||e.uniform2f(e.getUniformLocation(l,"u_resolution"),t.resolution.width,t.resolution.height),t.current=l),t.resolution.flagged&&e.uniform2f(e.getUniformLocation(l,"u_resolution"),t.resolution.width,t.resolution.height),e.bindTexture(e.TEXTURE_2D,this._renderer.texture),e.uniformMatrix3fv(l.matrix,!1,this._renderer.matrix),e.uniform1f(l.size,i*t.resolution.ratio),e.drawArrays(e.POINTS,0,y),this.flagReset())}},text:{updateCanvas:function(e,t){const n=this.canvas,i=this.ctx,o=e.renderer.ratio,l=f0.copy(t._renderer.scale).multiply(o),a=t._stroke,c=t._linewidth,h=t._fill,d=t._renderer.opacity||t._opacity,g=t.dashes,m=t._decoration,v=t._direction;n.width=Math.max(Math.ceil(t._renderer.rect.width*l.x),1),n.height=Math.max(Math.ceil(t._renderer.rect.height*l.y),1);const y=t._renderer.rect.centroid,x=y.x,b=y.y;let S,k,w,C,M,P,N,j,X,z,W;const K=h._renderer&&h._renderer.offset&&a._renderer&&a._renderer.offset;if(i.clearRect(0,0,n.width,n.height),K||(i.font=[t._style,t._weight,t._size+"px/"+t._leading+"px",t._family].join(" ")),i.textAlign="center",i.textBaseline="middle",i.textDirection=v,h)if(typeof h=="string")i.fillStyle=h;else{const q=Qt.Utils.getRendererType(h._renderer.type);Pe[q].render.call(h,i,t),i.fillStyle=h._renderer.effect}if(a){if(typeof a=="string")i.strokeStyle=a;else{const q=Qt.Utils.getRendererType(a._renderer.type);Pe[q].render.call(a,i,t),i.strokeStyle=a._renderer.effect}c&&(i.lineWidth=c)}if(typeof d=="number"&&(i.globalAlpha=d),g&&g.length>0&&(i.lineDashOffset=g.offset||0,i.setLineDash(g)),i.save(),i.scale(l.x,l.y),i.translate(x,b),Pe.isHidden.test(h)||(h._renderer&&h._renderer.offset?(P=h._renderer.scale.x,N=h._renderer.scale.y,i.save(),i.translate(-h._renderer.offset.x,-h._renderer.offset.y),i.scale(P,N),S=t._size/h._renderer.scale.y,k=t._leading/h._renderer.scale.y,i.font=[t._style,t._weight,S+"px/",k+"px",t._family].join(" "),w=h._renderer.offset.x/h._renderer.scale.x,C=h._renderer.offset.y/h._renderer.scale.y,i.fillText(t.value,w,C),i.restore()):i.fillText(t.value,0,0)),Pe.isHidden.test(a)||(a._renderer&&a._renderer.offset?(P=a._renderer.scale.x,N=a._renderer.scale.y,i.save(),i.translate(-a._renderer.offset.x,-a._renderer.offset.y),i.scale(P,N),S=t._size/a._renderer.scale.y,k=t._leading/a._renderer.scale.y,i.font=[t._style,t._weight,S+"px/",k+"px",t._family].join(" "),w=a._renderer.offset.x/a._renderer.scale.x,C=a._renderer.offset.y/a._renderer.scale.y,M=c/a._renderer.scale.x,i.lineWidth=M,i.strokeText(t.value,w,C),i.restore()):i.strokeText(t.value,0,0)),/(underline|strikethrough)/i.test(m)){const q=i.measureText(t.value);switch(m){case"underline":X=q.actualBoundingBoxDescent,W=q.actualBoundingBoxDescent;break;case"strikethrough":X=0,W=0;break}j=-q.width/2,z=q.width/2,i.lineWidth=Math.max(Math.floor(t._size/15),1),i.strokeStyle=i.fillStyle,i.beginPath(),i.moveTo(j,X),i.lineTo(z,W),i.stroke()}i.restore()},getBoundingClientRect:function(e,t){const n=Pe.ctx;n.font=[e._style,e._weight,e._size+"px/"+e._leading+"px",e._family].join(" "),n.textAlign="center",n.textBaseline=Qt.Utils.baselines[e._baseline]||e._baseline;const i=n.measureText(e._value);let o=i.width,l=1.15*(i.actualBoundingBoxAscent+i.actualBoundingBoxDescent);this._linewidth&&!Pe.isHidden.test(this._stroke)&&(o+=this._linewidth*2,l+=this._linewidth*2);const a=o/2,c=l/2;switch(Pe.alignments[e._alignment]||e._alignment){case Pe.alignments.left:e.direction==="ltr"?(t.left=0,t.right=o):(t.left=-o,t.right=0);break;case Pe.alignments.right:e.direction==="ltr"?(t.left=-o,t.right=0):(t.left=0,t.right=o);break;default:t.left=-a,t.right=a}switch(e._baseline){case"bottom":t.top=-l,t.bottom=0;break;case"top":t.top=0,t.bottom=l;break;case"baseline":t.top=-c*1.5,t.bottom=c*.5;break;default:t.top=-c,t.bottom=c}t.width=o,t.height=l,t.centroid||(t.centroid={}),t.centroid.x=a,t.centroid.y=c},render:function(e,t,n){if(!this._visible||!this._opacity)return this;this._update();const i=n||this.parent,o=t[this._renderer.type],l=i._matrix.manual||i._flagMatrix,a=this._matrix.manual||this._flagMatrix,c=this._renderer.parent!==i,h=this._flagVertices||this._flagFill||this._fill instanceof et&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagEndPoints)||this._fill instanceof tt&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagRadius||this._fill._flagCenter||this._fill._flagFocal)||this._fill instanceof Be&&(this._fill._flagLoaded&&this._fill.loaded||this._fill._flagImage||this._fill._flagVideo||this._fill._flagRepeat||this._fill._flagOffset||this._fill._flagScale)||this._stroke instanceof et&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagEndPoints)||this._stroke instanceof tt&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagRadius||this._stroke._flagCenter||this._stroke._flagFocal)||this._stroke instanceof Be&&(this._stroke._flagLoaded&&this._stroke.loaded||this._stroke._flagImage||this._stroke._flagVideo||this._stroke._flagRepeat||this._stroke._flagOffset||this._fill._flagScale)||this._flagStroke||this._flagLinewidth||this._flagOpacity||i._flagOpacity||this._flagVisible||this._flagScale||this._flagValue||this._flagFamily||this._flagSize||this._flagLeading||this._flagAlignment||this._flagBaseline||this._flagStyle||this._flagWeight||this._flagDecoration||this.dashes&&this.dashes.length>0||!this._renderer.texture;if(l||a||c){this._renderer.matrix||(this._renderer.matrix=new Br(9)),this._matrix.toTransformArray(!0,$i),Fu($i,i._renderer.matrix,this._renderer.matrix),this._renderer.scale instanceof ce||(this._renderer.scale=new ce);let g,m;this._scale instanceof ce?(g=this._scale.x*i._renderer.scale.x,m=this._scale.y*i._renderer.scale.y):(g=this._scale*i._renderer.scale.x,m=this._scale*i._renderer.scale.y),this._renderer.scale.x=g<0?-g:g,this._renderer.scale.y=m<0?-m:m,c&&(this._renderer.parent=i)}if(this._mask){e.clear(e.STENCIL_BUFFER_BIT),e.enable(e.STENCIL_TEST),e.stencilFunc(e.ALWAYS,1,0),e.stencilOp(e.KEEP,e.KEEP,e.REPLACE),e.colorMask(!1,!1,!1,!1);const g=Qt.Utils.getRendererType(this._mask._renderer.type);Pe[g].render.call(this._mask,e,t,this),e.stencilFunc(e.EQUAL,1,255),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.colorMask(!0,!0,!0,!0)}if(h?(this._renderer.rect||(this._renderer.rect={}),this._renderer.opacity=this._opacity*i._renderer.opacity,Pe.text.getBoundingClientRect(this,this._renderer.rect),Pe.updateTexture.call(Pe,e,this)):(this._fill&&this._fill._update&&this._fill._update(),this._stroke&&this._stroke._update&&this._stroke._update()),this._clip&&!n||!this._renderer.texture)return this;t.current!==o&&(e.useProgram(o),e.bindBuffer(e.ARRAY_BUFFER,t.buffers.position),e.vertexAttribPointer(o.position,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(o.position),e.bufferData(e.ARRAY_BUFFER,bd,e.STATIC_DRAW),t.resolution.flagged||e.uniform2f(e.getUniformLocation(o,"u_resolution"),t.resolution.width,t.resolution.height),t.current=o),t.resolution.flagged&&e.uniform2f(e.getUniformLocation(o,"u_resolution"),t.resolution.width,t.resolution.height),e.bindTexture(e.TEXTURE_2D,this._renderer.texture);const d=this._renderer.rect;return e.uniformMatrix3fv(o.matrix,!1,this._renderer.matrix),e.uniform4f(o.rect,d.left,d.top,d.right,d.bottom),e.drawArrays(e.TRIANGLES,0,6),this._mask&&e.disable(e.STENCIL_TEST),this.flagReset()}},"linear-gradient":{render:function(e,t){if(!(!e.canvas.getContext("2d")||!t)){if(this._update(),!this._renderer.effect||this._flagEndPoints||this._flagStops||this._flagUnits){let n,i=this.left._x,o=this.left._y,l=this.right._x,a=this.right._y;/objectBoundingBox/i.test(this._units)&&(n=t.getBoundingClientRect(!0),i=(i-.5)*n.width,o=(o-.5)*n.height,l=(l-.5)*n.width,a=(a-.5)*n.height),this._renderer.effect=e.createLinearGradient(i,o,l,a);for(let c=0;c<this.stops.length;c++){const h=this.stops[c];this._renderer.effect.addColorStop(h._offset,h._color)}}return this.flagReset()}}},"radial-gradient":{render:function(e,t){if(!(!e.canvas.getContext("2d")||!t)){if(this._update(),!this._renderer.effect||this._flagCenter||this._flagFocal||this._flagRadius||this._flagStops||this._flagUnits){let n,i=this.center._x,o=this.center._y,l=this.focal._x,a=this.focal._y,c=this._radius;/objectBoundingBox/i.test(this._units)&&(n=t.getBoundingClientRect(!0),i=(i-.5)*n.width*.5,o=(o-.5)*n.height*.5,l=(l-.5)*n.width*.5,a=(a-.5)*n.height*.5,c*=Math.min(n.width,n.height)),this._renderer.effect=e.createRadialGradient(i,o,0,l,a,c);for(let h=0;h<this.stops.length;h++){const d=this.stops[h];this._renderer.effect.addColorStop(d._offset,d._color)}}return this.flagReset()}}},texture:{render:function(e,t){if(!e.canvas.getContext("2d"))return;this._update();const n=this.image;if((this._flagLoaded||this._flagImage||this._flagVideo||this._flagRepeat)&&this.loaded)this._renderer.effect=e.createPattern(n,this._repeat);else if(!this._renderer.effect)return this.flagReset();if((this._flagOffset||this._flagLoaded||this._flagScale)&&(this._renderer.offset instanceof ce||(this._renderer.offset=new ce),this._renderer.offset.x=-this._offset.x,this._renderer.offset.y=-this._offset.y,n&&(this._renderer.offset.x+=n.width/2,this._renderer.offset.y+=n.height/2,this._scale instanceof ce?(this._renderer.offset.x*=this._scale.x,this._renderer.offset.y*=this._scale.y):(this._renderer.offset.x*=this._scale,this._renderer.offset.y*=this._scale))),this._flagScale||this._flagLoaded){this._renderer.scale instanceof ce||(this._renderer.scale=new ce);let i,o;this._scale instanceof ce?(i=this._scale.x,o=this._scale.y):(i=this._scale,o=this._scale),this._renderer.scale.x=i<0?-i:i,this._renderer.scale.y=o<0?-o:o}return this.flagReset()}},updateTexture:function(e,t){const n=Qt.Utils.getRendererType(t._renderer.type);if(this[n].updateCanvas.call(Pe,e,t),this.canvas.width<=0||this.canvas.height<=0){t._renderer.texture&&e.deleteTexture(t._renderer.texture),delete t._renderer.texture;return}t._renderer.texture||(t._renderer.texture=e.createTexture()),e.bindTexture(e.TEXTURE_2D,t._renderer.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,this.canvas),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR)},program:{create:function(e,t){let n,i,o;if(n=e.createProgram(),Se.each(t,function(l){e.attachShader(n,l)}),e.linkProgram(n),i=e.getProgramParameter(n,e.LINK_STATUS),!i)throw o=e.getProgramInfoLog(n),e.deleteProgram(n),new Yn("unable to link program: "+o);return n}},extensions:{init:function(e){const t={},n=["EXT_texture_filter_anisotropic","WEBGL_compressed_texture_s3tc","OES_texture_float_linear","WEBGL_multisampled_render_to_texture"];for(let i=0;i<n.length;i++){const o=n[i];t[o]=Pe.extensions.get(e,o)}return t},get:function(e,t){return e.getExtension(t)||e.getExtension(`MOZ_${t}`)||e.getExtension(`WEBKIT_${t}`)}},TextureRegistry:new kc};Pe.ctx=Pe.canvas.getContext("2d");var Yv=class extends J{constructor(e){super();let t,n,i,o;if(this.domElement=e.domElement||document.createElement("canvas"),typeof e.offscreenElement<"u"&&(Pe.canvas=e.offscreenElement,Pe.ctx=Pe.canvas.getContext("2d")),this.scene=new kt,this.scene.parent=this,this._renderer={type:"renderer",matrix:new Br(OS),scale:1,opacity:1},this._flagMatrix=!0,e=Se.defaults(e||{},{antialias:!1,alpha:!0,premultipliedAlpha:!0,stencil:!0,preserveDrawingBuffer:!0,overdraw:!1}),this.overdraw=e.overdraw,t=this.ctx=this.domElement.getContext("webgl",e)||this.domElement.getContext("experimental-webgl",e),!this.ctx)throw new Yn("unable to create a webgl context. Try using another renderer.");i=lr.create(t,lr.path.vertex,lr.types.vertex),o=lr.create(t,lr.path.fragment,lr.types.fragment),this.programs={current:null,buffers:{position:t.createBuffer()},resolution:{width:0,height:0,ratio:1,flagged:!1}},n=this.programs.path=Pe.program.create(t,[i,o]),this.programs.text=this.programs.path,t.extensions=Pe.extensions.init(t),t.renderer=this,n.position=t.getAttribLocation(n,"a_position"),n.matrix=t.getUniformLocation(n,"u_matrix"),n.rect=t.getUniformLocation(n,"u_rect");const l=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,l),t.vertexAttribPointer(n.position,2,t.FLOAT,!1,0,0),t.enableVertexAttribArray(n.position),t.bufferData(t.ARRAY_BUFFER,bd,t.STATIC_DRAW),i=lr.create(t,lr.points.vertex,lr.types.vertex),o=lr.create(t,lr.points.fragment,lr.types.fragment),n=this.programs.points=Pe.program.create(t,[i,o]),n.position=t.getAttribLocation(n,"a_position"),n.matrix=t.getUniformLocation(n,"u_matrix"),n.size=t.getUniformLocation(n,"u_size"),t.enable(t.BLEND),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA)}setSize(e,t,n){let i,o;const l=this.ctx;return this.width=e,this.height=t,this.ratio=typeof n>"u"?tp(l):n,this.domElement.width=e*this.ratio,this.domElement.height=t*this.ratio,Se.isObject(this.domElement.style)&&Se.extend(this.domElement.style,{width:e+"px",height:t+"px"}),this._renderer.matrix[0]=this._renderer.matrix[4]=this._renderer.scale=this.ratio,this._flagMatrix=!0,i=e*this.ratio,o=t*this.ratio,l.viewport(0,0,i,o),this.programs.resolution.width=i,this.programs.resolution.height=o,this.programs.resolution.ratio=this.ratio,this.programs.resolution.flagged=!0,this.trigger(J.Types.resize,e,t,n)}render(){const e=this.ctx;return this.overdraw||e.clear(e.COLOR_BUFFER_BIT),Pe.group.render.call(this.scene,e,this.programs),this._flagMatrix=!1,this.programs.resolution.flagged=!0,this}};T(Yv,"Utils",Pe);var FS=Se.extend({Error:Yn,getRatio:tp,read:rt,xhr:Hv},Se,fn,Sv,Ev),Vl=class{constructor(e){T(this,"_events",new J),T(this,"type",""),T(this,"renderer",null),T(this,"scene",null),T(this,"width",0),T(this,"height",0),T(this,"frameCount",0),T(this,"timeDelta",0),T(this,"playing",!1);const t=Se.defaults(e||{},{fullscreen:!1,fitted:!1,width:640,height:480,type:Vl.Types.svg,autostart:!1});if(Se.each(t,function(n,i){/fullscreen/i.test(i)||/autostart/i.test(i)||(this[i]=n)},this),Se.isElement(t.domElement)){const n=t.domElement.tagName.toLowerCase();/^(CanvasRenderer-canvas|WebGLRenderer-canvas|SVGRenderer-svg)$/.test(this.type+"-"+n)||(this.type=Vl.Types[n])}this.renderer=new Vl[this.type](this),this.setPlaying(t.autostart),this.frameCount=0,t.fullscreen?(this.fit=NS.bind(this),this.fit.domElement=window,this.fit.attached=!0,Se.extend(document.body.style,{overflow:"hidden",margin:0,padding:0,top:0,left:0,right:0,bottom:0,position:"fixed"}),Se.extend(this.renderer.domElement.style,{display:"block",top:0,left:0,right:0,bottom:0,position:"fixed"}),Hn.bind(this.fit.domElement,"resize",this.fit),this.fit()):t.fitted?(this.fit=IS.bind(this),Se.extend(this.renderer.domElement.style,{display:"block"})):Se.isElement(t.domElement)||(this.renderer.setSize(t.width,t.height,this.ratio),this.width=t.width,this.height=t.height),this.renderer.bind(J.Types.resize,jS.bind(this)),this.scene=this.renderer.scene,Vl.Instances.push(this),t.autostart&&ea.init()}get _bound(){return this._events._bound}set _bound(e){this._events._bound=e}addEventListener(){return this._events.addEventListener.apply(this,arguments)}on(){return this._events.addEventListener.apply(this,arguments)}bind(){return this._events.addEventListener.apply(this,arguments)}removeEventListener(){return this._events.removeEventListener.apply(this,arguments)}off(){return this._events.removeEventListener.apply(this,arguments)}unbind(){return this._events.removeEventListener.apply(this,arguments)}dispatchEvent(){return this._events.dispatchEvent.apply(this,arguments)}trigger(){return this._events.dispatchEvent.apply(this,arguments)}listen(){return this._events.listen.apply(this,arguments)}ignore(){return this._events.ignore.apply(this,arguments)}appendTo(e){return e.appendChild(this.renderer.domElement),this.fit&&(this.fit.domElement!==window&&(this.fit.domElement=e,this.fit.attached=!1),this.update()),this}play(){return this.playing=!0,ea.init(),this.trigger(J.Types.play)}pause(){return this.playing=!1,this.trigger(J.Types.pause)}setPlaying(e){this.playing=e}release(e){let t,n,i;if(!Se.isObject(e))return this.release(this.scene);if(typeof e.unbind=="function"&&e.unbind(),e.vertices)for(typeof e.vertices.unbind=="function"&&e.vertices.unbind(),t=0;t<e.vertices.length;t++)n=e.vertices[t],typeof n.unbind=="function"&&n.unbind(),n.controls&&(n.controls.left&&typeof n.controls.left.unbind=="function"&&n.controls.left.unbind(),n.controls.right&&typeof n.controls.right.unbind=="function"&&n.controls.right.unbind());if(e.children){for(t=0;t<e.children.length;t++)i=e.children[t],this.release(i);typeof e.children.unbind=="function"&&e.children.unbind()}return e}update(){const e=!!this._lastFrame,t=Se.performance.now();e&&(this.timeDelta=parseFloat((t-this._lastFrame).toFixed(3))),this._lastFrame=t,this.fit&&this.fit.domElement&&!this.fit.attached&&(Hn.bind(this.fit.domElement,"resize",this.fit),this.fit.attached=!0,this.fit());const n=this.width,i=this.height,o=this.renderer;return(n!==o.width||i!==o.height)&&o.setSize(n,i,this.ratio),this.trigger(J.Types.update,this.frameCount,this.timeDelta),this.render()}render(){return this.renderer.render(),this.trigger(J.Types.render,this.frameCount++)}add(e){return e instanceof Array||(e=Array.prototype.slice.call(arguments)),this.scene.add(e),this}remove(e){return e instanceof Array||(e=Array.prototype.slice.call(arguments)),this.scene.remove(e),this}clear(){return this.scene.remove(this.scene.children),this}makeLine(e,t,n,i){const o=new np(e,t,n,i);return this.scene.add(o),o}makeArrow(e,t,n,i,o){const l=typeof o=="number"?o:10,a=Math.atan2(i-t,n-e),c=[new Le(e,t,void 0,void 0,void 0,void 0,de.move),new Le(n,i,void 0,void 0,void 0,void 0,de.line),new Le(n-l*Math.cos(a-Math.PI/4),i-l*Math.sin(a-Math.PI/4),void 0,void 0,void 0,void 0,de.line),new Le(n,i,void 0,void 0,void 0,void 0,de.move),new Le(n-l*Math.cos(a+Math.PI/4),i-l*Math.sin(a+Math.PI/4),void 0,void 0,void 0,void 0,de.line)],h=new Ie(c,!1,!1,!0);return h.noFill(),h.cap="round",h.join="round",this.scene.add(h),h}makeRectangle(e,t,n,i){const o=new rs(e,t,n,i);return this.scene.add(o),o}makeRoundedRectangle(e,t,n,i,o){const l=new la(e,t,n,i,o);return this.scene.add(l),l}makeCircle(e,t,n,i){const o=new sa(e,t,n,i);return this.scene.add(o),o}makeEllipse(e,t,n,i,o){const l=new oa(e,t,n,i,o);return this.scene.add(l),l}makeStar(e,t,n,i,o){const l=new Tc(e,t,n,i,o);return this.scene.add(l),l}makeCurve(e){const t=arguments.length;if(!Array.isArray(e)){e=[];for(let l=0;l<t;l+=2){const a=arguments[l];if(typeof a!="number")break;const c=arguments[l+1];e.push(new Le(a,c))}}const n=arguments[t-1],i=new Ie(e,!(typeof n=="boolean"&&n),!0),o=i.getBoundingClientRect();return i.center().translation.set(o.left+o.width/2,o.top+o.height/2),this.scene.add(i),i}makePolygon(e,t,n,i){const o=new Rc(e,t,n,i);return this.scene.add(o),o}makeArcSegment(e,t,n,i,o,l,a){const c=new Ec(e,t,n,i,o,l,a);return this.scene.add(c),c}makePoints(e){const t=arguments.length;let n=e;if(!Array.isArray(e)){n=[];for(let o=0;o<t;o+=2){const l=arguments[o];if(typeof l!="number")break;const a=arguments[o+1];n.push(new ce(l,a))}}const i=new Cc(n);return this.scene.add(i),i}makePath(e){const t=arguments.length;let n=e;if(!Array.isArray(e)){n=[];for(let a=0;a<t;a+=2){const c=arguments[a];if(typeof c!="number")break;const h=arguments[a+1];n.push(new Le(c,h))}}const i=arguments[t-1],o=new Ie(n,!(typeof i=="boolean"&&i)),l=o.getBoundingClientRect();return typeof l.top=="number"&&typeof l.left=="number"&&typeof l.right=="number"&&typeof l.bottom=="number"&&o.center().translation.set(l.left+l.width/2,l.top+l.height/2),this.scene.add(o),o}makeText(e,t,n,i){const o=new ar(e,t,n,i);return this.add(o),o}makeLinearGradient(e,t,n,i){const o=Array.prototype.slice.call(arguments,4),l=new et(e,t,n,i,o);return this.add(l),l}makeRadialGradient(e,t,n){const i=Array.prototype.slice.call(arguments,3),o=new tt(e,t,n,i);return this.add(o),o}makeSprite(e,t,n,i,o,l,a){const c=new Sc(e,t,n,i,o,l);return a&&c.play(),this.add(c),c}makeImageSequence(e,t,n,i,o){const l=new Mc(e,t,n,i);return o&&l.play(),this.add(l),l}makeTexture(e,t){return new Be(e,t)}makeGroup(e){e instanceof Array||(e=Array.prototype.slice.call(arguments));const t=new kt;return this.scene.add(t),t.add(e),t}interpret(e,t,n){const i=e.tagName.toLowerCase();if(n=typeof n<"u"?n:!0,!(i in rt))return null;const o=rt[i].call(this,e);return n?this.add(t&&o instanceof kt?o.children:o):o.parent&&o.remove(),o}load(e,t){const n=new kt;let i,o,l;const a=(function(c){for(Hn.temp.innerHTML=c,o=0;o<Hn.temp.children.length;o++)i=Hn.temp.children[o],l=this.interpret(i,!1,!1),l!==null&&n.add(l);if(typeof t=="function"){const h=Hn.temp.children.length<=1?Hn.temp.children[0]:Hn.temp.children;t(n,h)}}).bind(this);return/\.svg$/i.test(e)?(Hv(e,a),n):(a(e),n)}},xe=Vl;T(xe,"nextFrameID",gn.nextFrameID);T(xe,"Types",gn.Types);T(xe,"Version",gn.Version);T(xe,"PublishDate",gn.PublishDate);T(xe,"Identifier",gn.Identifier);T(xe,"Resolution",gn.Resolution);T(xe,"AutoCalculateImportedMatrices",gn.AutoCalculateImportedMatrices);T(xe,"Instances",gn.Instances);T(xe,"uniqueId",gn.uniqueId);T(xe,"Anchor",Le);T(xe,"Collection",Ji);T(xe,"Events",J);T(xe,"Group",kt);T(xe,"Matrix",zs);T(xe,"Path",Ie);T(xe,"Registry",kc);T(xe,"Shape",Ur);T(xe,"Text",ar);T(xe,"Vector",ce);T(xe,"Gradient",vt);T(xe,"ImageSequence",Mc);T(xe,"LinearGradient",et);T(xe,"RadialGradient",tt);T(xe,"Sprite",Sc);T(xe,"Stop",Hr);T(xe,"Texture",Be);T(xe,"ArcSegment",Ec);T(xe,"Circle",sa);T(xe,"Ellipse",oa);T(xe,"Line",np);T(xe,"Points",Cc);T(xe,"Polygon",Rc);T(xe,"Rectangle",rs);T(xe,"RoundedRectangle",la);T(xe,"Star",Tc);T(xe,"CanvasRenderer",Qt);T(xe,"SVGRenderer",Wv);T(xe,"WebGLRenderer",Yv);T(xe,"Commands",de);T(xe,"Utils",FS);function NS(){const e=document.body.getBoundingClientRect(),t=this.width=e.width,n=this.height=e.height;this.renderer.setSize(t,n,this.ratio)}function IS(){const e=this.renderer.domElement.parentElement;if(!e){console.warn("Two.js: Attempting to fit to parent, but no parent found.");return}const t=e.getBoundingClientRect(),n=this.width=t.width,i=this.height=t.height;this.renderer.setSize(n,i,this.ratio)}function jS(e,t){this.width=e,this.height=t,this.trigger(J.Types.resize,e,t)}var ea=Hn.getRequestAnimationFrame();function Xv(){for(let e=0;e<xe.Instances.length;e++){const t=xe.Instances[e];t.playing&&t.update()}xe.nextFrameID=ea(Xv)}ea.init=function(){Xv(),ea.init=function(){}};const Ge={move:"M",line:"L",curve:"C",arc:"A",close:"Z"};class pe{constructor(){B(this,"_events",{});B(this,"_bound",!1)}addEventListener(t,n){return(this._events[t]||(this._events[t]=[])).push(n),this._bound=!0,this}on(){return this.addEventListener.apply(this,arguments)}bind(){return this.addEventListener.apply(this,arguments)}removeEventListener(t,n){if(!this._events)return this;if(!t&&!n)return this._events={},this._bound=!1,this;const i=t?[t]:Object.keys(this._events);for(let o=0,l=i.length;o<l;o++){t=i[o];let a=this._events[t];if(a){let c=[];if(n)for(let h=0,d=a.length;h<d;h++){let g=a[h];g=g.handler?g.handler:g,n!==g&&c.push(g)}this._events[t]=c}}return this}off(){return this.removeEventListener.apply(this,arguments)}unbind(){return this.removeEventListener.apply(this,arguments)}dispatchEvent(t){if(!this._events)return this;const n=Array.prototype.slice.call(arguments,1),i=this._events[t];if(i)for(let o=0;o<i.length;o++)i[o].call(this,...n);return this}trigger(){return this.dispatchEvent.apply(this,arguments)}listen(t,n,i){const o=this;t&&(l.obj=t,l.name=n,l.handler=i,t.on(n,l));function l(){i.apply(o,arguments)}return o}ignore(t,n,i){return t.off(n,i),this}}B(pe,"Types",{play:"play",pause:"pause",update:"update",render:"render",resize:"resize",change:"change",remove:"remove",insert:"insert",order:"order",load:"load"}),B(pe,"Methods",["addEventListener","on","removeEventListener","off","unbind","dispatchEvent","trigger","listen","ignore"]);var zt;class kd extends Array{constructor(){super();Qm(this,zt,new pe);arguments[0]&&Array.isArray(arguments[0])?arguments[0].length>0&&this.push.apply(this,arguments[0]):arguments.length>0&&this.push.apply(this,arguments)}get _events(){return kn(this,zt)}set _events(n){Zm(this,zt,n)}get _bound(){return kn(this,zt)._bound}set _bound(n){kn(this,zt)._bound=n}addEventListener(){return kn(this,zt).addEventListener.apply(this,arguments)}on(){return kn(this,zt).on.apply(this,arguments)}bind(){return kn(this,zt).bind.apply(this,arguments)}removeEventListener(){return kn(this,zt).removeEventListener.apply(this,arguments)}off(){return kn(this,zt).off.apply(this,arguments)}unbind(){return kn(this,zt).unbind.apply(this,arguments)}dispatchEvent(){return kn(this,zt).dispatchEvent.apply(this,arguments)}trigger(){return kn(this,zt).trigger.apply(this,arguments)}listen(){return kn(this,zt).listen.apply(this,arguments)}ignore(){return kn(this,zt).ignore.apply(this,arguments)}pop(){const n=super.pop.apply(this,arguments);return this.trigger(pe.Types.remove,[n]),n}shift(){const n=super.shift.apply(this,arguments);return this.trigger(pe.Types.remove,[n]),n}push(){const n=super.push.apply(this,arguments);return this.trigger(pe.Types.insert,arguments),n}unshift(){const n=super.unshift.apply(this,arguments);return this.trigger(pe.Types.insert,arguments),n}splice(){const n=super.splice.apply(this,arguments);if(this.trigger(pe.Types.remove,n),arguments.length>2){const i=this.slice(arguments[0],arguments[0]+arguments.length-2);this.trigger(pe.Types.insert,i),this.trigger(pe.Types.order)}return n}sort(){return super.sort.apply(this,arguments),this.trigger(pe.Types.order),this}reverse(){return super.reverse.apply(this,arguments),this.trigger(pe.Types.order),this}indexOf(){return super.indexOf.apply(this,arguments)}map(n,i){const o=[];for(let l=0;l<this.length;l++){const a=this[l];let c;i?c=n.call(i,a,l):c=n(a,l),o.push(c)}return o}}zt=new WeakMap;let Vr;typeof window<"u"?Vr=window:typeof global<"u"?Vr=global:typeof self<"u"&&(Vr=self);let Kv;const DS=Math.PI*2,Oo=Math.PI*.5;function zS(e,t,n,i,o,l){let a;return arguments.length<=1?(a=e.a,t=e.b,n=e.c,i=e.d,o=e.e,l=e.f):a=e,{translateX:o,translateY:l,scaleX:Math.sqrt(a*a+t*t),scaleY:Math.sqrt(n*n+i*i),rotation:180*Math.atan2(t,a)/Math.PI}}function BS(e){Kv=e}function $S(e,t){t=t&&t.identity()||new Kv;let n=e;const i=[];for(;n&&n._matrix;)i.push(n._matrix),n=n.parent;i.reverse();for(let o=0;o<i.length;o++){const a=i[o].elements;t.multiply(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9])}return t}function Nr(e,t,n){return n*(t-e)+e}function ic(e,t){for(;e<0;)e+=t;return e%t}const h0=Vr.Float32Array||Array,US=Math.floor;function Dr(e){return US(e*1e6)/1e6}const d0={x:{enumerable:!0,get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this._bound&&this.dispatchEvent(pe.Types.change))}},y:{enumerable:!0,get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this._bound&&this.dispatchEvent(pe.Types.change))}}},Dt=class Dt extends pe{constructor(n=0,i=0){super();B(this,"_x",0);B(this,"_y",0);for(let o in d0)Object.defineProperty(this,o,d0[o]);this.x=n,this.y=i}static add(n,i){return new Dt(n.x+i.x,n.y+i.y)}static sub(n,i){return new Dt(n.x-i.x,n.y-i.y)}static subtract(n,i){return Dt.sub(n,i)}static ratioBetween(n,i){return(n.x*i.x+n.y*i.y)/(n.length()*i.length())}static angleBetween(n,i){if(arguments.length>=4){const a=arguments[0]-arguments[2],c=arguments[1]-arguments[3];return Math.atan2(c,a)}const o=n.x-i.x,l=n.y-i.y;return Math.atan2(l,o)}static distanceBetween(n,i){return Math.sqrt(Dt.distanceBetweenSquared(n,i))}static distanceBetweenSquared(n,i){const o=n.x-i.x,l=n.y-i.y;return o*o+l*l}set(n,i){return this.x=n,this.y=i,this}copy(n){return this.x=n.x,this.y=n.y,this}clear(){return this.x=0,this.y=0,this}clone(){return new Dt(this.x,this.y)}add(n,i){return arguments.length<=0?this:(arguments.length<=1?typeof n=="number"?(this.x+=n,this.y+=n):n&&typeof n.x=="number"&&typeof n.y=="number"&&(this.x+=n.x,this.y+=n.y):(this.x+=n,this.y+=i),this)}addSelf(n){return this.add.apply(this,arguments)}sub(n,i){return arguments.length<=0?this:(arguments.length<=1?typeof n=="number"?(this.x-=n,this.y-=n):n&&typeof n.x=="number"&&typeof n.y=="number"&&(this.x-=n.x,this.y-=n.y):(this.x-=n,this.y-=i),this)}subtract(){return this.sub.apply(this,arguments)}subSelf(n){return this.sub.apply(this,arguments)}subtractSelf(n){return this.sub.apply(this,arguments)}multiply(n,i){return arguments.length<=0?this:(arguments.length<=1?typeof n=="number"?(this.x*=n,this.y*=n):n&&typeof n.x=="number"&&typeof n.y=="number"&&(this.x*=n.x,this.y*=n.y):(this.x*=n,this.y*=i),this)}multiplySelf(n){return this.multiply.apply(this,arguments)}multiplyScalar(n){return this.multiply(n)}divide(n,i){return arguments.length<=0?this:(arguments.length<=1?typeof n=="number"?(this.x/=n,this.y/=n):n&&typeof n.x=="number"&&typeof n.y=="number"&&(this.x/=n.x,this.y/=n.y):(this.x/=n,this.y/=i),isNaN(this.x)&&(this.x=0),isNaN(this.y)&&(this.y=0),this)}divideSelf(n){return this.divide.apply(this,arguments)}divideScalar(n){return this.divide(n)}negate(){return this.multiply(-1)}dot(n){return this.x*n.x+this.y*n.y}length(){return Math.sqrt(this.lengthSquared())}lengthSquared(){return this.x*this.x+this.y*this.y}normalize(){return this.divideScalar(this.length())}distanceTo(n){return Math.sqrt(this.distanceToSquared(n))}distanceToSquared(n){const i=this.x-n.x,o=this.y-n.y;return i*i+o*o}setLength(n){return this.normalize().multiplyScalar(n)}equals(n,i){return i=typeof i>"u"?1e-4:i,this.distanceTo(n)<i}lerp(n,i){const o=(n.x-this.x)*i+this.x,l=(n.y-this.y)*i+this.y;return this.set(o,l)}isZero(n){return n=typeof n>"u"?1e-4:n,this.length()<n}toString(){return this.x+", "+this.y}toObject(){return{x:Dr(this.x),y:Dr(this.y)}}rotate(n){const i=this.x,o=this.y,l=Math.cos(n),a=Math.sin(n);return this.x=i*l-o*a,this.y=i*a+o*l,this}};B(Dt,"zero",new Dt),B(Dt,"left",new Dt(-1,0)),B(Dt,"right",new Dt(1,0)),B(Dt,"up",new Dt(0,-1)),B(Dt,"down",new Dt(0,1));let Ae=Dt;class hn extends Ae{constructor(n=0,i=0,o=0,l=0,a=0,c=0,h=Ge.move){super(n,i);B(this,"controls",{left:new Ae,right:new Ae});B(this,"_command",Ge.move);B(this,"_relative",!0);B(this,"_rx",0);B(this,"_ry",0);B(this,"_xAxisRotation",0);B(this,"_largeArcFlag",0);B(this,"_sweepFlag",1);for(let g in p0)Object.defineProperty(this,g,p0[g]);this.command=h,this.relative=!0;const d=hn.makeBroadcast(this);this.controls.left.set(o,l).addEventListener(pe.Types.change,d),this.controls.right.set(a,c).addEventListener(pe.Types.change,d)}static makeBroadcast(n){return i;function i(){n._bound&&n.dispatchEvent(pe.Types.change)}}static fromObject(n){return new hn().copy(n)}copy(n){return this.x=n.x,this.y=n.y,typeof n.command=="string"&&(this.command=n.command),n.controls&&(n.controls.left&&this.controls.left.copy(n.controls.left),n.controls.right&&this.controls.right.copy(n.controls.right)),typeof n.relative=="boolean"&&(this.relative=n.relative),typeof n.rx=="number"&&(this.rx=n.rx),typeof n.ry=="number"&&(this.ry=n.ry),typeof n.xAxisRotation=="number"&&(this.xAxisRotation=n.xAxisRotation),typeof n.largeArcFlag=="number"&&(this.largeArcFlag=n.largeArcFlag),typeof n.sweepFlag=="number"&&(this.sweepFlag=n.sweepFlag),this}clone(){return new hn().copy(this)}toObject(){return{x:Dr(this.x),y:Dr(this.y),command:this.command,relative:this.relative,controls:{left:this.controls.left.toObject(),right:this.controls.right.toObject()},rx:Dr(this.rx),ry:Dr(this.ry),xAxisRotation:Dr(this.xAxisRotation),largeArcFlag:Dr(this.largeArcFlag),sweepFlag:Dr(this.sweepFlag)}}toString(){return JSON.stringify(this.toObject())}}const p0={command:{enumerable:!0,get:function(){return this._command},set:function(e){this._command!==e&&(this._command=e,this._bound&&this.dispatchEvent(pe.Types.change))}},relative:{enumerable:!0,get:function(){return this._relative},set:function(e){this._relative!==!!e&&(this._relative=!!e,this._bound&&this.dispatchEvent(pe.Types.change))}},rx:{enumerable:!0,get:function(){return this._rx},set:function(e){this._rx!==e&&(this._rx=e,this._bound&&this.dispatchEvent(pe.Types.change))}},ry:{enumerable:!0,get:function(){return this._ry},set:function(e){this._ry!==e&&(this._ry=e,this._bound&&this.dispatchEvent(pe.Types.change))}},xAxisRotation:{enumerable:!0,get:function(){return this._xAxisRotation},set:function(e){this._xAxisRotation!==e&&(this._xAxisRotation=e,this._bound&&this.dispatchEvent(pe.Types.change))}},largeArcFlag:{enumerable:!0,get:function(){return this._largeArcFlag},set:function(e){this._largeArcFlag!==e&&(this._largeArcFlag=e,this._bound&&this.dispatchEvent(pe.Types.change))}},sweepFlag:{get:function(){return this._sweepFlag},set:function(e){this._sweepFlag!==e&&(this._sweepFlag=e,this._bound&&this.dispatchEvent(pe.Types.change))}}};let VS=0;const g0={nextFrameID:null,Types:{webgl:"WebGLRenderer",svg:"SVGRenderer",canvas:"CanvasRenderer"},Version:"<%= version %>",PublishDate:"<%= publishDate %>",Identifier:"two-",Resolution:12,AutoCalculateImportedMatrices:!0,Instances:[],uniqueId:function(){return VS++}},sc={CollinearityEpsilon:Math.pow(10,-30),RecursionLimit:16,CuspLimit:0,Tolerance:{distance:.25,angle:0,epsilon:Number.EPSILON},abscissas:[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],weights:[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]]};function oc(e,t,n,i,o){const l=1-e;return l*l*l*t+3*l*l*e*n+3*l*e*e*i+e*e*e*o}function HS(e,t,n,i,o,l,a,c,h){h=h||sc.RecursionLimit;const d=h+1;if(Math.abs(e-a)<.001&&Math.abs(t-c)<.001)return[new hn(a,c)];const g=[];for(let m=0;m<d;m++){const v=m/d,y=oc(v,e,n,o,a),x=oc(v,t,i,l,c);g.push(new hn(y,x))}return g}function WS(e,t,n,i,o,l,a,c,h){if(e===n&&t===i&&o===a&&l===c){const S=a-e,k=c-t;return Math.sqrt(S*S+k*k)}const d=9*(n-o)+3*(a-e),g=6*(e+o)-12*n,m=3*(n-e),v=9*(i-l)+3*(c-t),y=6*(t+l)-12*i,x=3*(i-t);function b(S){const k=(d*S+g)*S+m,w=(v*S+y)*S+x;return Math.sqrt(k*k+w*w)}return XS(b,0,1,h||sc.RecursionLimit)}function YS(e,t,n,i,o,l,a,c){const h=[],d=[[],[]];let g,m,v,y,x,b,S,k;for(let P=0;P<2;++P){if(P==0?(m=6*e-12*n+6*o,g=-3*e+9*n-9*o+3*a,v=3*n-3*e):(m=6*t-12*i+6*l,g=-3*t+9*i-9*l+3*c,v=3*i-3*t),Math.abs(g)<1e-12){if(Math.abs(m)<1e-12)continue;y=-v/m,0<y&&y<1&&h.push(y);continue}S=m*m-4*v*g,k=Math.sqrt(S),!(S<0)&&(x=(-m+k)/(2*g),0<x&&x<1&&h.push(x),b=(-m-k)/(2*g),0<b&&b<1&&h.push(b))}let w=h.length,C=w,M;for(;w--;)y=h[w],M=1-y,d[0][w]=M*M*M*e+3*M*M*y*n+3*M*y*y*o+y*y*y*a,d[1][w]=M*M*M*t+3*M*M*y*i+3*M*y*y*l+y*y*y*c;return d[0][C]=e,d[1][C]=t,d[0][C+1]=a,d[1][C+1]=c,d[0].length=d[1].length=C+2,{min:{x:Math.min.apply(0,d[0]),y:Math.min.apply(0,d[1])},max:{x:Math.max.apply(0,d[0]),y:Math.max.apply(0,d[1])}}}function XS(e,t,n,i){let o=sc.abscissas[i-2],l=sc.weights[i-2],a=.5*(n-t),c=a+t,h=0,d=i+1>>1,g=i&1?l[h++]*e(c):0;for(;h<d;){const m=a*o[h];g+=l[h++]*(e(c+m)+e(c-m))}return a*g}function KS(e,t){const n=e.length,i=n-1;for(let o=0;o<n;o++){const l=e[o],a=t?ic(o-1,n):Math.max(o-1,0),c=t?ic(o+1,n):Math.min(o+1,i),h=e[a],d=l,g=e[c];qS(h,d,g),d.command=o===0?Ge.move:Ge.curve}}function qS(e,t,n){const i=Ae.angleBetween(e,t),o=Ae.angleBetween(n,t);let l=Ae.distanceBetween(e,t),a=Ae.distanceBetween(n,t),c=(i+o)/2;return l<1e-4||a<1e-4?(typeof t.relative=="boolean"&&!t.relative&&(t.controls.left.copy(t),t.controls.right.copy(t)),t):(l*=.33,a*=.33,o<i?c+=Oo:c-=Oo,t.controls.left.x=Math.cos(c)*l,t.controls.left.y=Math.sin(c)*l,c-=Math.PI,t.controls.right.x=Math.cos(c)*a,t.controls.right.y=Math.sin(c)*a,typeof t.relative=="boolean"&&!t.relative&&(t.controls.left.x+=t.x,t.controls.left.y+=t.y,t.controls.right.x+=t.x,t.controls.right.y+=t.y),t)}let Ac=class qv extends pe{constructor(){super();B(this,"_flagId",!1);B(this,"_flagClassName",!1);B(this,"_renderer",{});B(this,"_id",g0.Identifier+g0.uniqueId());B(this,"_className","");B(this,"classList",[]);for(let n in m0)Object.defineProperty(this,n,m0[n])}static fromObject(n){const i=new qv().copy(n);return"id"in n&&(i.id=n.id),i}flagReset(){this._flagId=this._flagClassName=!1}copy(n){return this.renderer.type=n.renderer.type,this.className=n.className,this}toObject(){return{renderer:{type:this.renderer.type},id:this.id,className:this.className}}};const m0={renderer:{enumerable:!1,get:function(){return this._renderer}},id:{enumerable:!0,get:function(){return this._id},set:function(e){const t=this._id;e!==this._id&&(this._id=e,this._flagId=!0,this.parent&&(delete this.parent.children.ids[t],this.parent.children.ids[this._id]=this))}},className:{enumerable:!0,get:function(){return this._className},set:function(e){this._className!==e&&(this._flagClassName=!0,this.classList=e.split(/\s+?/),this._className=e)}}};class y0 extends Error{constructor(n){super();B(this,"name","Two.js");B(this,"message");this.message=n}}class GS{constructor(){B(this,"map",{})}add(t,n){return this.map[t]=n,this}remove(t){return delete this.map[t],this}get(t){return this.map[t]}contains(t){return t in this.map}}let $u;const _0={video:/\.(mp4|webm|ogg)$/i,image:/\.(jpe?g|png|gif|tiff|webp)$/i,effect:/texture|gradient/i};Vr.document&&($u=document.createElement("a"));const at=class at extends Ac{constructor(n,i){super();B(this,"_flagSrc",!1);B(this,"_flagImage",!1);B(this,"_flagVideo",!1);B(this,"_flagLoaded",!1);B(this,"_flagRepeat",!1);B(this,"_flagOffset",!1);B(this,"_flagScale",!1);B(this,"_src","");B(this,"_image",null);B(this,"_loaded",!1);B(this,"_repeat","no-repeat");B(this,"_scale",1);B(this,"_offset",null);for(let o in v0)Object.defineProperty(this,o,v0[o]);if(this._renderer.type="texture",this._renderer.flagOffset=QS.bind(this),this._renderer.flagScale=ZS.bind(this),this.loaded=!1,this.repeat="no-repeat",this.offset=new Ae,typeof i=="function"){const o=(function(){this.unbind(pe.Types.load,o),typeof i=="function"&&i()}).bind(this);this.bind(pe.Types.load,o)}if(typeof n=="string")this.src=n;else if(typeof n=="object"){const o=Object.prototype.toString.call(n);(o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]"||o==="[object HTMLVideoElement]"||o==="[object Image]")&&(this.image=n)}this._update()}fromObject(n){const i=new at().copy(n);return"id"in n&&(i.id=n.id),i}static getAbsoluteURL(n){return $u?($u.href=n,$u.href):n}static loadHeadlessBuffer(n,i){n.image.onload=i,n.image.src=n.src}static getTag(n){return n&&n.nodeName&&n.nodeName.toLowerCase()||"img"}static getImage(n){const i=at.getAbsoluteURL(n);if(at.ImageRegistry.contains(i))return at.ImageRegistry.get(i);let o;return Vr.document?_0.video.test(i)?o=document.createElement("video"):o=document.createElement("img"):console.warn("Two.js: no prototypical image defined for Two.Texture"),o.crossOrigin="anonymous",o.referrerPolicy="no-referrer",o}static load(n,i){let o=n.image,l=at.getTag(o);n._flagImage&&(/canvas/i.test(l)?at.Register.canvas(n,i):(n._src=o.getAttribute("two-src")||o.src,at.Register[l](n,i))),n._flagSrc&&(o||(o=at.getImage(n.src),n.image=o),l=at.getTag(o),at.Register[l](n,i))}clone(){const n=new at(this.src);return n.repeat=this.repeat,n.offset.copy(this.offset),n.scale=this.scale,n}copy(n){return this.src=n.src,this.repeat=n.repeat,this.offset=typeof n.offset=="number"||n.offset instanceof Ae?n.offset:new Ae().copy(n.offset),this.scale=typeof n.scale=="number"||n.scale instanceof Ae?n.scale:new Ae().copy(n.scale),this}toObject(){const n=super.toObject.call(this);return n.renderer.type="texture",n.src=this.src,n.repeat=this.repeat,n.offset=this.offset.toObject(),n.scale=typeof this.scale=="number"?this.scale:this.scale.toObject(),n}_update(){return(this._flagSrc||this._flagImage)&&(this.trigger(pe.Types.change),(this._flagSrc||this._flagImage)&&(this.loaded=!1,at.load(this,(function(){this.loaded=!0,this.trigger(pe.Types.change).trigger(pe.Types.load)}).bind(this)))),this._image&&this._image.readyState>=4&&(this._flagVideo=!0),this}flagReset(){return this._flagSrc=this._flagImage=this._flagLoaded=this._flagRepeat=this._flagVideo=this._flagScale=this._flagOffset=!1,super.flagReset.call(this),this}};B(at,"Properties",["src","loaded","repeat","scale","offset","image"]),B(at,"RegularExpressions",_0),B(at,"ImageRegistry",new GS),B(at,"Register",{canvas:function(n,i){n._src="#"+n.id,at.ImageRegistry.add(n.src,n.image),typeof i=="function"&&i()},img:function(n,i){const o=n.image,l=function(c){o.removeEventListener&&typeof o.removeEventListener=="function"&&(o.removeEventListener("load",l,!1),o.removeEventListener("error",a,!1)),typeof i=="function"&&i()},a=function(c){throw typeof o.removeEventListener=="function"&&(o.removeEventListener("load",l,!1),o.removeEventListener("error",a,!1)),new y0("unable to load "+n.src)};typeof o.width=="number"&&o.width>0&&typeof o.height=="number"&&o.height>0?l():typeof o.addEventListener=="function"&&(o.addEventListener("load",l,!1),o.addEventListener("error",a,!1)),n._src=at.getAbsoluteURL(n._src),!(o&&o.getAttribute("two-src"))&&(o.setAttribute("two-src",n.src),at.ImageRegistry.add(n.src,o),n.image.src=n.src)},video:function(n,i){const o=function(a){n.image.removeEventListener("canplaythrough",o,!1),n.image.removeEventListener("error",l,!1),n.image.width=n.image.videoWidth,n.image.height=n.image.videoHeight,typeof i=="function"&&i()},l=function(a){throw n.image.removeEventListener("canplaythrough",o,!1),n.image.removeEventListener("error",l,!1),new y0("unable to load "+n.src)};n._src=at.getAbsoluteURL(n._src),n.image.getAttribute("two-src")||(n.image.setAttribute("two-src",n.src),at.ImageRegistry.add(n.src,n.image)),n.image.readyState>=4?o():(n.image.addEventListener("canplaythrough",o,!1),n.image.addEventListener("error",l,!1),n.image.src=n.src,n.image.load())}});let Tn=at;const v0={src:{enumerable:!0,get:function(){return this._src},set:function(e){this._src=e,this._flagSrc=!0}},loaded:{enumerable:!0,get:function(){return this._loaded},set:function(e){this._loaded=e,this._flagLoaded=!0}},repeat:{enumerable:!0,get:function(){return this._repeat},set:function(e){this._repeat=e,this._flagRepeat=!0}},image:{enumerable:!0,get:function(){return this._image},set:function(e){const t=Tn.getTag(e);let n;switch(t){case"canvas":n="#"+e.id;break;default:n=e.src}Tn.ImageRegistry.contains(n)?this._image=Tn.ImageRegistry.get(e.src):this._image=e,this._flagImage=!0}},offset:{enumerable:!0,get:function(){return this._offset},set:function(e){this._offset&&this._offset.unbind(pe.Types.change,this._renderer.flagOffset),this._offset=e,this._offset.bind(pe.Types.change,this._renderer.flagOffset),this._flagOffset=!0}},scale:{enumerable:!0,get:function(){return this._scale},set:function(e){this._scale instanceof Ae&&this._scale.unbind(pe.Types.change,this._renderer.flagScale),this._scale=e,this._scale instanceof Ae&&this._scale.bind(pe.Types.change,this._renderer.flagScale),this._flagScale=!0}}};function QS(){this._flagOffset=!0}function ZS(){this._flagScale=!0}const x0=Array.prototype.slice;function JS(e){if(e==null)return!1;const t=e.length;return typeof t=="number"&&t>=0&&t<4294967296}const $t={isNaN:function(e){return typeof e=="number"&&e!==+e},isElement:function(e){return!!(e&&e.nodeType===1)},isObject:function(e){const t=typeof e;return t==="function"||t==="object"&&!!e},extend:function(e){const t=x0.call(arguments,1);for(let n=0;n<t.length;n++){const i=t[n];for(let o in i)e[o]=i[o]}return e},defaults:function(e){const t=x0.call(arguments,1);for(let n=0;n<t.length;n++){const i=t[n];for(let o in i)e[o]===void 0&&(e[o]=i[o])}return e},each:function(e,t,n){const i=n||this,o=!JS(e)&&Object.keys(e),l=(o||e).length;for(let a=0;a<l;a++){const c=o?o[a]:a;t.call(i,e[c],c,e)}return e},performance:Vr.performance&&Vr.performance.now?Vr.performance:Date},Cn=class Cn extends Ac{constructor(n,i,o){super();B(this,"_flagOffset",!0);B(this,"_flagOpacity",!0);B(this,"_flagColor",!0);B(this,"_offset",0);B(this,"_opacity",1);B(this,"_color","#fff");for(let l in w0)Object.defineProperty(this,l,w0[l]);this._renderer.type="stop",this.offset=typeof n=="number"?n:Cn.Index<=0?0:1,this.opacity=typeof o=="number"?o:1,this.color=typeof i=="string"?i:Cn.Index<=0?"#fff":"#000",Cn.Index=(Cn.Index+1)%2}static fromObject(n){const i=new Cn().copy(n);return"id"in n&&(i.id=n.id),i}copy(n){super.copy.call(this,n);for(let i=0;i<Cn.Properties.length;i++){const o=Cn.Properties[i];o in n&&(this[o]=n[o])}return this}clone(n){const i=new Cn;return $t.each(Cn.Properties,function(o){i[o]=this[o]},this),n&&n.stops&&n.stops.push(i),i}toObject(){const n=super.toObject.call(this);return n.renderer.type="stop",$t.each(Cn.Properties,i=>{n[i]=this[i]},this),n}flagReset(){return this._flagOffset=this._flagColor=this._flagOpacity=!1,super.flagReset.call(this),this}};B(Cn,"Index",0),B(Cn,"Properties",["offset","opacity","color"]);let Os=Cn;const w0={offset:{enumerable:!0,get:function(){return this._offset},set:function(e){this._offset=e,this._flagOffset=!0,this.parent&&(this.parent._flagStops=!0)}},opacity:{enumerable:!0,get:function(){return this._opacity},set:function(e){this._opacity=e,this._flagOpacity=!0,this.parent&&(this.parent._flagStops=!0)}},color:{enumerable:!0,get:function(){return this._color},set:function(e){this._color=e,this._flagColor=!0,this.parent&&(this.parent._flagStops=!0)}}},Ir=class Ir extends Ac{constructor(n){super();B(this,"_flagStops",!1);B(this,"_flagSpread",!1);B(this,"_flagUnits",!1);B(this,"_spread","");B(this,"_units","");for(let i in b0)Object.defineProperty(this,i,b0[i]);this._renderer.type="gradient",this._renderer.flagStops=eE.bind(this),this._renderer.bindStops=tE.bind(this),this._renderer.unbindStops=nE.bind(this),this.spread="pad",this.units="objectBoundingBox",n&&(this.stops=n)}static fromObject(n){let i=n.stops;i&&i.length>0&&(i=i.map(l=>l instanceof Os?l:new Os().copy(l)));const o=new Ir().copy(n);return"id"in n&&(o.id=n.id),o}clone(n){const i=this.stops.map(l=>l.clone()),o=new Ir(i);return $t.each(Ir.Properties,l=>{o[l]=this[l]},this),n&&n.add(o),o}copy(n){super.copy.call(this,n);for(let i=0;i<Ir.Properties.length;i++){const o=Ir.Properties[i];o in n&&(this[o]=n[o])}return this}toObject(){const n={stops:this.stops.map(i=>i.toObject())};return $t.each(Ir.Properties,i=>{n[i]=this[i]},this),n}_update(){return(this._flagSpread||this._flagStops)&&this.trigger(pe.Types.change),this}flagReset(){return this._flagSpread=this._flagUnits=this._flagStops=!1,super.flagReset.call(this),this}};B(Ir,"Stop",Os),B(Ir,"Properties",["spread","stops","units"]);let dn=Ir;const b0={spread:{enumerable:!0,get:function(){return this._spread},set:function(e){this._spread=e,this._flagSpread=!0}},units:{enumerable:!0,get:function(){return this._units},set:function(e){this._units=e,this._flagUnits=!0}},stops:{enumerable:!0,get:function(){return this._stops},set:function(e){const t=this._renderer.bindStops,n=this._renderer.unbindStops;this._stops&&this._stops.unbind(pe.Types.insert,t).unbind(pe.Types.remove,n),this._stops=new kd((e||[]).slice(0)),this._stops.bind(pe.Types.insert,t).bind(pe.Types.remove,n),t(this._stops)}}};function eE(){this._flagStops=!0}function tE(e){let t=e.length;for(;t--;)e[t].bind(pe.Types.change,this._renderer.flagStops),e[t].parent=this;this._renderer.flagStops()}function nE(e){let t=e.length;for(;t--;)e[t].unbind(pe.Types.change,this._renderer.flagStops),delete e[t].parent;this._renderer.flagStops()}const Hi=class Hi extends dn{constructor(n,i,o,l,a){super(a);B(this,"_flagEndPoints",!1);B(this,"_left",null);B(this,"_right",null);for(let c in k0)Object.defineProperty(this,c,k0[c]);this._renderer.type="linear-gradient",this._renderer.flagEndPoints=rE.bind(this),this.left=new Ae,this.right=new Ae,typeof n=="number"&&(this.left.x=n),typeof i=="number"&&(this.left.y=i),typeof o=="number"&&(this.right.x=o),typeof l=="number"&&(this.right.y=l)}static fromObject(n){const i=new Hi().copy(n);return"id"in n&&(i.id=n.id),i}copy(n){super.copy.call(this,n);for(let i=0;i<Hi.Properties.length;i++){const o=Hi.Properties[i];o in n&&(this[o]=n[o]instanceof Ae?n[o]:new Ae().copy(n[o]))}return this}clone(n){const i=this.stops.map(function(l){return l.clone()}),o=new Hi(this.left._x,this.left._y,this.right._x,this.right._y,i);return $t.each(dn.Properties,function(l){o[l]=this[l]},this),n&&n.add(o),o}toObject(){const n=super.toObject.call(this);return n.left=this.left.toObject(),n.right=this.right.toObject(),n}_update(){return(this._flagEndPoints||this._flagSpread||this._flagStops)&&this.trigger(pe.Types.change),this}flagReset(){return this._flagEndPoints=!1,super.flagReset.call(this),this}};B(Hi,"Stop",Os),B(Hi,"Properties",["left","right"]);let Sr=Hi;const k0={left:{enumerable:!0,get:function(){return this._left},set:function(e){this._left instanceof Ae&&this._left.unbind(pe.Types.change,this._renderer.flagEndPoints),this._left=e,this._left.bind(pe.Types.change,this._renderer.flagEndPoints),this._flagEndPoints=!0}},right:{enumerable:!0,get:function(){return this._right},set:function(e){this._right instanceof Ae&&this._right.unbind(pe.Types.change,this._renderer.flagEndPoints),this._right=e,this._right.bind(pe.Types.change,this._renderer.flagEndPoints),this._flagEndPoints=!0}}};function rE(){this._flagEndPoints=!0}const jr=class jr extends dn{constructor(n,i,o,l,a,c){super(l);B(this,"_flagRadius",!1);B(this,"_flagCenter",!1);B(this,"_flagFocal",!1);B(this,"_radius",0);B(this,"_center",null);B(this,"_focal",null);for(let h in S0)Object.defineProperty(this,h,S0[h]);this._renderer.type="radial-gradient",this._renderer.flagCenter=iE.bind(this),this._renderer.flagFocal=sE.bind(this),this.center=new Ae,this.radius=typeof o=="number"?o:1,this.focal=new Ae,typeof n=="number"&&(this.center.x=n),typeof i=="number"&&(this.center.y=i),this.focal.copy(this.center),typeof a=="number"&&(this.focal.x=a),typeof c=="number"&&(this.focal.y=c)}static fromObject(n){const i=new jr().copy(n);return"id"in n&&(i.id=n.id),i}copy(n){super.copy.call(this,n);for(let i=0;i<jr.Properties.length;i++){const o=jr.Properties[i];o in n&&(/(center|focal)i/.test(o)?this[o]=n[o]instanceof Ae?n[o]:new Ae().copy(n[o]):typeof n[o]=="number"&&(this[o]=n[MediaKeySystemAccess]))}return this}clone(n){const i=this.stops.map(function(l){return l.clone()}),o=new jr(this.center._x,this.center._y,this._radius,i,this.focal._x,this.focal._y);return $t.each(dn.Properties.concat(jr.Properties),function(l){o[l]=this[l]},this),n&&n.add(o),o}toObject(){const n=super.toObject.call(this);return $t.each(jr.Properties,function(i){n[i]=this[i]},this),n.center=this.center.toObject(),n.focal=this.focal.toObject(),n}_update(){return(this._flagRadius||this._flatCenter||this._flagFocal||this._flagSpread||this._flagStops)&&this.trigger(pe.Types.change),this}flagReset(){return this._flagRadius=this._flagCenter=this._flagFocal=!1,super.flagReset.call(this),this}};B(jr,"Stop",Os),B(jr,"Properties",["center","radius","focal"]);let Er=jr;const S0={radius:{enumerable:!0,get:function(){return this._radius},set:function(e){this._radius=e,this._flagRadius=!0}},center:{enumerable:!0,get:function(){return this._center},set:function(e){this._center&&this._center.unbind(pe.Types.change,this._renderer.flagCenter),this._center=e,this._center.bind(pe.Types.change,this._renderer.flagCenter),this._flagCenter=!0}},focal:{enumerable:!0,get:function(){return this._focal},set:function(e){this._focal&&this._focal.unbind(pe.Types.change,this._renderer.flagFocal),this._focal=e,this._focal.bind(pe.Types.change,this._renderer.flagFocal),this._flagFocal=!0}}};function iE(){this._flagCenter=!0}function sE(){this._flagFocal=!0}function E0(e,t){if(t===0||t===1)return!0;const i=e._length*t;let o=0;for(let l=0;l<e._lengths.length;l++){const a=e._lengths[l];if(o>=i)return i-o>=0;o+=a}return!1}function C0(e,t){const n=e._length;if(t<=0)return 0;if(t>=n)return e._lengths.length-1;for(let i=0,o=0;i<e._lengths.length;i++){if(o+e._lengths[i]>=t)return t-=o,Math.max(i-1,0)+t/e._lengths[i];o+=e._lengths[i]}return-1}function R0(e,t,n){let i,o,l,a,c,h,d,g;const m=t.controls&&t.controls.right,v=e.controls&&e.controls.left;return i=t.x,c=t.y,o=(m||t).x,h=(m||t).y,l=(v||e).x,d=(v||e).y,a=e.x,g=e.y,m&&t._relative&&(o+=t.x,h+=t.y),v&&e._relative&&(l+=e.x,d+=e.y),WS(i,c,o,h,l,d,a,g,n)}function T0(e,t,n){let i,o,l,a,c,h,d,g;const m=t.controls&&t.controls.right,v=e.controls&&e.controls.left;return i=t.x,c=t.y,o=(m||t).x,h=(m||t).y,l=(v||e).x,d=(v||e).y,a=e.x,g=e.y,m&&t._relative&&(o+=t.x,h+=t.y),v&&e._relative&&(l+=e.x,d+=e.y),HS(i,c,o,h,l,d,a,g,n)}function lc(e){switch(e.renderer.type){case"texture":return Tn.fromObject(e);case"gradient":return dn.fromObject(e);case"linear-gradient":return Sr.fromObject(e);case"radial-gradient":return Er.fromObject(e)}return e}const oE=Math.cos,lE=Math.sin,M0=Math.tan,Hh=[],cn=class cn extends pe{constructor(n,i,o,l,a,c){super();B(this,"elements",new h0(9));B(this,"manual",!1);let h=n;Array.isArray(h)||(h=Array.prototype.slice.call(arguments)),this.identity(),h.length>0&&this.set(h)}static Multiply(n,i,o){if(i.length<=3){const j=n;let X,z,W;const K=i[0]||0,q=i[1]||0,ae=i[2]||0;return X=j[0]*K+j[1]*q+j[2]*ae,z=j[3]*K+j[4]*q+j[5]*ae,W=j[6]*K+j[7]*q+j[8]*ae,[X,z,W]}const l=n[0],a=n[1],c=n[2],h=n[3],d=n[4],g=n[5],m=n[6],v=n[7],y=n[8],x=i[0],b=i[1],S=i[2],k=i[3],w=i[4],C=i[5],M=i[6],P=i[7],N=i[8];return o=o||new h0(9),o[0]=l*x+a*k+c*M,o[1]=l*b+a*w+c*P,o[2]=l*S+a*C+c*N,o[3]=h*x+d*k+g*M,o[4]=h*b+d*w+g*P,o[5]=h*S+d*C+g*N,o[6]=m*x+v*k+y*M,o[7]=m*b+v*w+y*P,o[8]=m*S+v*C+y*N,o}static fromObject(n){return new cn().copy(n)}set(n,i,o,l,a,c,h,d,g){if(typeof i>"u"){const m=n;n=m[0],i=m[1],o=m[2],l=m[3],a=m[4],c=m[5],h=m[6],d=m[7],g=m[8]}return this.elements[0]=n,this.elements[1]=i,this.elements[2]=o,this.elements[3]=l,this.elements[4]=a,this.elements[5]=c,this.elements[6]=h,this.elements[7]=d,this.elements[8]=g,this.trigger(pe.Types.change)}copy(n){return this.elements[0]=n.elements[0],this.elements[1]=n.elements[1],this.elements[2]=n.elements[2],this.elements[3]=n.elements[3],this.elements[4]=n.elements[4],this.elements[5]=n.elements[5],this.elements[6]=n.elements[6],this.elements[7]=n.elements[7],this.elements[8]=n.elements[8],this.manual=n.manual,this.trigger(pe.Types.change)}identity(){return this.elements[0]=cn.Identity[0],this.elements[1]=cn.Identity[1],this.elements[2]=cn.Identity[2],this.elements[3]=cn.Identity[3],this.elements[4]=cn.Identity[4],this.elements[5]=cn.Identity[5],this.elements[6]=cn.Identity[6],this.elements[7]=cn.Identity[7],this.elements[8]=cn.Identity[8],this.trigger(pe.Types.change)}multiply(n,i,o,l,a,c,h,d,g){if(typeof i>"u")return this.elements[0]*=n,this.elements[1]*=n,this.elements[2]*=n,this.elements[3]*=n,this.elements[4]*=n,this.elements[5]*=n,this.elements[6]*=n,this.elements[7]*=n,this.elements[8]*=n,this.trigger(pe.Types.change);if(typeof o>"u"&&(o=1),typeof l>"u"){n=n||0,i=i||0,o=o||0,a=this.elements;const re=a[0]*n+a[1]*i+a[2]*o,ue=a[3]*n+a[4]*i+a[5]*o,Z=a[6]*n+a[7]*i+a[8]*o;return[re,ue,Z]}const m=this.elements,v=[n,i,o,l,a,c,h,d,g],y=m[0],x=m[1],b=m[2],S=m[3],k=m[4],w=m[5],C=m[6],M=m[7],P=m[8],N=v[0],j=v[1],X=v[2],z=v[3],W=v[4],K=v[5],q=v[6],ae=v[7],te=v[8];return this.elements[0]=y*N+x*z+b*q,this.elements[1]=y*j+x*W+b*ae,this.elements[2]=y*X+x*K+b*te,this.elements[3]=S*N+k*z+w*q,this.elements[4]=S*j+k*W+w*ae,this.elements[5]=S*X+k*K+w*te,this.elements[6]=C*N+M*z+P*q,this.elements[7]=C*j+M*W+P*ae,this.elements[8]=C*X+M*K+P*te,this.trigger(pe.Types.change)}inverse(n){const i=this.elements;n=n||new cn;const o=i[0],l=i[1],a=i[2],c=i[3],h=i[4],d=i[5],g=i[6],m=i[7],v=i[8],y=v*h-d*m,x=-v*c+d*g,b=m*c-h*g;let S=o*y+l*x+a*b;return S?(S=1/S,n.elements[0]=y*S,n.elements[1]=(-v*l+a*m)*S,n.elements[2]=(d*l-a*h)*S,n.elements[3]=x*S,n.elements[4]=(v*o-a*g)*S,n.elements[5]=(-d*o+a*c)*S,n.elements[6]=b*S,n.elements[7]=(-m*o+l*g)*S,n.elements[8]=(h*o-l*c)*S,n):null}scale(n,i){return arguments.length<=1&&(i=n),this.multiply(n,0,0,0,i,0,0,0,1)}rotate(n){const i=oE(n),o=lE(n);return this.multiply(i,-o,0,o,i,0,0,0,1)}translate(n,i){return this.multiply(1,0,n,0,1,i,0,0,1)}skewX(n){const i=M0(n);return this.multiply(1,i,0,0,1,0,0,0,1)}skewY(n){const i=M0(n);return this.multiply(1,0,0,i,1,0,0,0,1)}toString(n){return Hh.length=0,this.toTransformArray(n,Hh),Hh.map(Dr).join(" ")}toTransformArray(n,i){const o=this.elements,l=!!i,a=o[0],c=o[1],h=o[2],d=o[3],g=o[4],m=o[5];if(n){const v=o[6],y=o[7],x=o[8];if(l){i[0]=a,i[1]=d,i[2]=v,i[3]=c,i[4]=g,i[5]=y,i[6]=h,i[7]=m,i[8]=x;return}return[a,d,v,c,g,y,h,m,x]}if(l){i[0]=a,i[1]=d,i[2]=c,i[3]=g,i[4]=h,i[5]=m;return}return[a,d,c,g,h,m]}toArray(n,i){const o=this.elements,l=!!i,a=o[0],c=o[1],h=o[2],d=o[3],g=o[4],m=o[5];if(n){const v=o[6],y=o[7],x=o[8];if(l){i[0]=a,i[1]=c,i[2]=h,i[3]=d,i[4]=g,i[5]=m,i[6]=v,i[7]=y,i[8]=x;return}return[a,c,h,d,g,m,v,y,x]}if(l){i[0]=a,i[1]=c,i[2]=h,i[3]=d,i[4]=g,i[5]=m;return}return[a,c,h,d,g,m]}toObject(){return{renderer:{type:"matrix"},elements:this.toArray(!0),manual:!!this.manual}}clone(){return new cn().copy(this)}};B(cn,"Identity",[1,0,0,0,1,0,0,0,1]);let Bs=cn;BS(Bs);class Ls extends Ac{constructor(){super();B(this,"_flagMatrix",!0);B(this,"_flagScale",!1);B(this,"_matrix",null);B(this,"_worldMatrix",null);B(this,"_position",null);B(this,"_rotation",0);B(this,"_scale",1);B(this,"_skewX",0);B(this,"_skewY",0);for(let n in Nu)Object.defineProperty(this,n,Nu[n]);this._renderer.flagMatrix=Gv.bind(this),this.isShape=!0,this.matrix=new Bs,this.worldMatrix=new Bs,this.position=new Ae,this.rotation=0,this.scale=1,this.skewX=0,this.skewY=0}static fromObject(n){const i=new Ls().copy(n);return"id"in n&&(i.id=n.id),i}get renderer(){return this._renderer}set renderer(n){this._renderer=n}get translation(){return Nu.position.get.apply(this,arguments)}set translation(n){Nu.position.set.apply(this,arguments)}addTo(n){return n.add(this),this}remove(){return this.parent?(this.parent.remove(this),this):this}copy(n){return super.copy.call(this,n),"position"in n&&(n.position instanceof Ae?this.position=n.position:this.position.copy(n.position)),"rotation"in n&&(this.rotation=n.rotation),"scale"in n&&(this.scale=typeof n.scale=="number"||n.scale instanceof Ae?n.scale:new Ae(n.scale.x,n.scale.y)),"skewX"in n&&(this.skewX=n.skewX),"skewY"in n&&(this.skewY=n.skewY),"matrix"in n&&n.matrix.manual&&(this.matrix.copy(n.matrix),this.matrix.manual=!0),this}clone(n){const i=new Ls;return i.position.copy(this.position),i.rotation=this.rotation,i.scale=this.scale,i.skewX=this.skewX,i.skewY=this.skewY,this.matrix.manual&&i.matrix.copy(this.matrix),n&&n.add(i),i._update()}toObject(){const n=super.toObject.call(this);return n.renderer={type:"shape"},n.isShape=!0,n.translation=this.translation.toObject(),n.rotation=this.translation.rotation,n.scale=this.scale instanceof Ae?this.scale.toObject():this.scale,n.skewX=this.skewX,n.skewY=this.skewY,n.matrix=this.matrix.toObject(),n}_update(n){return!this._matrix.manual&&this._flagMatrix&&(this._matrix.identity().translate(this.position.x,this.position.y),this._scale instanceof Ae?this._matrix.scale(this._scale.x,this._scale.y):this._matrix.scale(this._scale),this._matrix.rotate(this.rotation),this._matrix.skewX(this.skewX),this._matrix.skewY(this.skewY)),n&&this.parent&&this.parent._update&&this.parent._update(),this}flagReset(){return this._flagMatrix=this._flagScale=!1,super.flagReset.call(this),this}}const Nu={position:{enumerable:!0,get:function(){return this._position},set:function(e){this._position&&this._position.unbind(pe.Types.change,this._renderer.flagMatrix),this._position=e,this._position.bind(pe.Types.change,this._renderer.flagMatrix),Gv.call(this)}},rotation:{enumerable:!0,get:function(){return this._rotation},set:function(e){this._rotation=e,this._flagMatrix=!0}},scale:{enumerable:!0,get:function(){return this._scale},set:function(e){this._scale instanceof Ae&&this._scale.unbind(pe.Types.change,this._renderer.flagMatrix),this._scale=e,this._scale instanceof Ae&&this._scale.bind(pe.Types.change,this._renderer.flagMatrix),this._flagMatrix=!0,this._flagScale=!0}},skewX:{enumerable:!0,get:function(){return this._skewX},set:function(e){this._skewX=e,this._flagMatrix=!0}},skewY:{enumerable:!0,get:function(){return this._skewY},set:function(e){this._skewY=e,this._flagMatrix=!0}},matrix:{enumerable:!0,get:function(){return this._matrix},set:function(e){this._matrix=e,this._flagMatrix=!0}},worldMatrix:{enumerable:!0,get:function(){return $S(this,this._worldMatrix),this._worldMatrix},set:function(e){this._worldMatrix=e}}};function Gv(){this._flagMatrix=!0}const ko=Math.min,So=Math.max,aE=Math.ceil,uE=Math.floor,cE=new Ae,xr=class xr extends Ls{constructor(n,i,o,l){super();B(this,"_flagVertices",!0);B(this,"_flagLength",!0);B(this,"_flagFill",!0);B(this,"_flagStroke",!0);B(this,"_flagLinewidth",!0);B(this,"_flagOpacity",!0);B(this,"_flagVisible",!0);B(this,"_flagCap",!0);B(this,"_flagJoin",!0);B(this,"_flagMiter",!0);B(this,"_flagMask",!1);B(this,"_flagClip",!1);B(this,"_length",0);B(this,"_fill","#fff");B(this,"_stroke","#000");B(this,"_linewidth",1);B(this,"_opacity",1);B(this,"_visible",!0);B(this,"_cap","round");B(this,"_join","round");B(this,"_miter",4);B(this,"_closed",!0);B(this,"_curved",!1);B(this,"_automatic",!0);B(this,"_beginning",0);B(this,"_ending",1);B(this,"_mask",null);B(this,"_clip",!1);B(this,"_dashes",null);for(let a in A0)Object.defineProperty(this,a,A0[a]);this._renderer.type="path",this._renderer.flagVertices=fE.bind(this),this._renderer.bindVertices=hE.bind(this),this._renderer.unbindVertices=dE.bind(this),this._renderer.flagFill=pE.bind(this),this._renderer.flagStroke=gE.bind(this),this._renderer.vertices=[],this._renderer.collection=[],this.closed=!!i,this.curved=!!o,this.beginning=0,this.ending=1,this.fill="#fff",this.stroke="#000",this.linewidth=1,this.opacity=1,this.className="",this.visible=!0,this.cap="butt",this.join="miter",this.miter=4,this.vertices=n,this.automatic=!l,this.dashes=[],this.dashes.offset=0}static fromObject(n){const i=typeof n.fill=="string"?n.fill:lc(n.fill),o=typeof n.stroke=="string"?n.stroke:lc(n.stroke),l=new xr().copy({...n,fill:i,stroke:o});return"id"in n&&(l.id=n.id),l}copy(n){super.copy.call(this,n),this.vertices=[];for(let i=0;i<n.vertices.length;i++){const o=n.vertices[i];o instanceof hn?this.vertices.push(n.vertices[i].clone()):this.vertices.push(new hn().copy(o))}for(let i=0;i<xr.Properties.length;i++){const o=xr.Properties[i];o in n&&(this[o]=n[o])}return this}clone(n){const i=new xr;for(let o=0;o<this.vertices.length;o++)i.vertices.push(this.vertices[o].clone());for(let o=0;o<xr.Properties.length;o++){const l=xr.Properties[o];i[l]=this[l]}return i.className=this.className,i.translation.copy(this.translation),i.rotation=this.rotation,i.scale=this.scale,i.skewX=this.skewX,i.skewY=this.skewY,this.matrix.manual&&i.matrix.copy(this.matrix),n&&n.add(i),i._update()}toObject(){const n=super.toObject.call(this);return n.renderer.type="path",n.vertices=this.vertices.map(i=>i.toObject()),$t.each(xr.Properties,i=>{typeof this[i]<"u"&&(this[i].toObject?n[i]=this[i].toObject():n[i]=this[i])},this),n}noFill(){return this.fill="none",this}noStroke(){return this.stroke="none",this.linewidth=0,this}corner(){const n=this.getBoundingClientRect(!0),i=n.width/2,o=n.height/2,l=n.left+n.width/2,a=n.top+n.height/2;for(let c=0;c<this.vertices.length;c++){const h=this.vertices[c];h.x-=l,h.y-=a,h.x+=i,h.y+=o}return this.mask&&(this.mask.translation.x-=l,this.mask.translation.x+=i,this.mask.translation.y-=a,this.mask.translation.y+=o),this}center(){const n=this.getBoundingClientRect(!0),i=n.left+n.width/2-this.translation.x,o=n.top+n.height/2-this.translation.y;for(let l=0;l<this.vertices.length;l++){const a=this.vertices[l];a.x-=i,a.y-=o}return this.mask&&(this.mask.translation.x-=i,this.mask.translation.y-=o),this}getBoundingClientRect(n){let i,o,l,a,c,h,d=1/0,g=-1/0,m=1/0,v=-1/0;if(this._update(!0),i=n?this.matrix:this.worldMatrix,o=(this.linewidth||0)/2,l=this._renderer.vertices.length,this.linewidth>0||this.stroke&&!/(transparent|none)/i.test(this.stroke))if(this.matrix.manual){const{scaleX:y,scaleY:x}=zS(i.elements[0],i.elements[3],i.elements[1],i.elements[4],i.elements[2],i.elements[5]);typeof y=="number"&&typeof x=="number"&&(o=Math.max(y,x)*(this.linewidth||0)/2)}else o*=typeof this.scale=="number"?this.scale:Math.max(this.scale.x,this.scale.y);if(l<=0)return{width:0,height:0};for(a=0;a<l;a++){h=this._renderer.vertices[a],c=this._renderer.vertices[(a+l-1)%l];const[y,x]=i.multiply(c.x,c.y),[b,S]=i.multiply(h.x,h.y);if(c.controls&&h.controls){let k=c.controls.right.x,w=c.controls.right.y;c.relative&&(k+=c.x,w+=c.y);let[C,M]=i.multiply(k,w),P=h.controls.left.x,N=h.controls.left.y;h.relative&&(P+=h.x,N+=h.y);let[j,X]=i.multiply(P,N);const z=YS(y,x,C,M,j,X,b,S);m=ko(z.min.y-o,m),d=ko(z.min.x-o,d),g=So(z.max.x+o,g),v=So(z.max.y+o,v)}else a<=1&&(m=ko(x-o,m),d=ko(y-o,d),g=So(y+o,g),v=So(x+o,v)),m=ko(S-o,m),d=ko(b-o,d),g=So(b+o,g),v=So(S+o,v)}return{top:m,left:d,right:g,bottom:v,width:g-d,height:v-m}}getPointAt(n,i){let o,l,a,c,h,d,g,m,v,y,x,b,S,k,w,C=this.length*Math.min(Math.max(n,0),1);const M=this.vertices.length,P=M-1;let N=null,j=null;for(let D=0,$=this._lengths.length,G=0;D<$;D++){if(G+this._lengths[D]>=C){this._closed?(o=ic(D,M),l=ic(D-1,M),D===0&&(o=l,l=D)):(o=D,l=Math.min(Math.max(D-1,0),P)),N=this.vertices[o],j=this.vertices[l],C-=G,this._lengths[D]!==0?n=C/this._lengths[D]:n=0;break}G+=this._lengths[D]}if(N===null||j===null)return null;if(N){if(!j)return N}else return j;w=j.controls&&j.controls.right,k=N.controls&&N.controls.left,h=j.x,y=j.y,d=(w||j).x,x=(w||j).y,g=(k||N).x,b=(k||N).y,m=N.x,S=N.y,w&&j.relative&&(d+=j.x,x+=j.y),k&&N.relative&&(g+=N.x,b+=N.y),c=oc(n,h,d,g,m),v=oc(n,y,x,b,S);const X=Nr(h,d,n),z=Nr(y,x,n),W=Nr(d,g,n),K=Nr(x,b,n),q=Nr(g,m,n),ae=Nr(b,S,n),te=Nr(X,W,n),re=Nr(z,K,n),ue=Nr(W,q,n),Z=Nr(K,ae,n);return $t.isObject(i)?(i.x=c,i.y=v,i instanceof hn&&(i.controls.left.x=te,i.controls.left.y=re,i.controls.right.x=ue,i.controls.right.y=Z,(typeof i.relative!="boolean"||i.relative)&&(i.controls.left.x-=c,i.controls.left.y-=v,i.controls.right.x-=c,i.controls.right.y-=v)),i.t=n,i):(a=new hn(c,v,te-c,re-v,ue-c,Z-v,this._curved?Ge.curve:Ge.line),a.t=n,a)}plot(){if(this.curved)return KS(this._collection,this.closed),this;for(let n=0;n<this._collection.length;n++)this._collection[n].command=n===0?Ge.move:Ge.line;return this}subdivide(n){this._update();const i=this.vertices.length-1,o=this._closed||this.vertices[i]._command===Ge.close;let l=this.vertices[i],a=[],c;return $t.each(this.vertices,function(h,d){if(d<=0&&!o){l=h;return}if(h.command===Ge.move){a.push(new hn(l.x,l.y)),d>0&&(a[a.length-1].command=Ge.line),l=h;return}c=T0(h,l,n),a=a.concat(c),$t.each(c,function(g,m){m<=0&&l.command===Ge.move?g.command=Ge.move:g.command=Ge.line}),d>=i&&(this._closed&&this._automatic?(l=h,c=T0(h,l,n),a=a.concat(c),$t.each(c,function(g,m){m<=0&&l.command===Ge.move?g.command=Ge.move:g.command=Ge.line})):o&&a.push(new hn(h.x,h.y)),a[a.length-1].command=o?Ge.close:Ge.line),l=h},this),this._automatic=!1,this._curved=!1,this.vertices=a,this}_updateLength(n,i){i||this._update();const l=this.vertices.length-1;let a=this.vertices[l],c=0;return typeof this._lengths>"u"&&(this._lengths=[]),$t.each(this.vertices,function(h,d){if(d<=0||h.command===Ge.move){a=h,this._lengths[d]=0;return}this._lengths[d]=R0(h,a,n),c+=this._lengths[d],a=h},this),this._length=c,this._flagLength=!1,this}_update(){if(this._flagVertices){this._automatic&&this.plot(),this._flagLength&&this._updateLength(void 0,!0);const n=this._collection.length,i=this._closed,o=Math.min(this._beginning,this._ending),l=Math.max(this._beginning,this._ending),a=C0(this,o*this._length),c=C0(this,l*this._length),h=aE(a),d=uE(c);let g,m,v,y,x,b;for(this._renderer.vertices.length=0,b=0;b<n;b++)this._renderer.collection.length<=b&&this._renderer.collection.push(new hn),b>d&&!m?(x=this._renderer.collection[b].copy(this._collection[b]),this.getPointAt(l,x),x.command=this._renderer.collection[b].command,this._renderer.vertices.push(x),m=x,v=this._collection[b-1],v&&v.controls&&(x.relative?x.controls.right.clear():x.controls.right.copy(x),v.relative?this._renderer.collection[b-1].controls.right.copy(v.controls.right).lerp(Ae.zero,1-x.t):this._renderer.collection[b-1].controls.right.copy(v.controls.right).lerp(v,1-x.t))):b>=h&&b<=d&&(x=this._renderer.collection[b].copy(this._collection[b]),this._renderer.vertices.push(x),b===d&&E0(this,l)?(m=x,!i&&m.controls&&(m.relative?m.controls.right.clear():m.controls.right.copy(m))):b===h&&E0(this,o)&&(g=x,g.command=Ge.move,!i&&g.controls&&(g.relative?g.controls.left.clear():g.controls.left.copy(g))));h>0&&!g&&(b=h-1,x=this._renderer.collection[b].copy(this._collection[b]),this.getPointAt(o,x),x.command=Ge.move,this._renderer.vertices.unshift(x),y=this._collection[b+1],y&&y.controls&&(x.controls.left.clear(),y.relative?this._renderer.collection[b+1].controls.left.copy(y.controls.left).lerp(Ae.zero,x.t):(cE.copy(y),this._renderer.collection[b+1].controls.left.copy(y.controls.left).lerp(y,x.t))))}return Ls.prototype._update.apply(this,arguments),this}flagReset(){return this._flagVertices=this._flagLength=this._flagFill=this._flagStroke=this._flagLinewidth=this._flagOpacity=this._flagVisible=this._flagCap=this._flagJoin=this._flagMiter=this._flagClip=!1,Ls.prototype.flagReset.call(this),this}};B(xr,"Properties",["fill","stroke","linewidth","opacity","visible","cap","join","miter","closed","curved","automatic","beginning","ending","dashes"]),B(xr,"Utils",{getCurveLength:R0});let sn=xr;const A0={linewidth:{enumerable:!0,get:function(){return this._linewidth},set:function(e){this._linewidth=e,this._flagLinewidth=!0}},opacity:{enumerable:!0,get:function(){return this._opacity},set:function(e){this._opacity=e,this._flagOpacity=!0}},visible:{enumerable:!0,get:function(){return this._visible},set:function(e){this._visible=e,this._flagVisible=!0}},cap:{enumerable:!0,get:function(){return this._cap},set:function(e){this._cap=e,this._flagCap=!0}},join:{enumerable:!0,get:function(){return this._join},set:function(e){this._join=e,this._flagJoin=!0}},miter:{enumerable:!0,get:function(){return this._miter},set:function(e){this._miter=e,this._flagMiter=!0}},fill:{enumerable:!0,get:function(){return this._fill},set:function(e){(this._fill instanceof dn||this._fill instanceof Sr||this._fill instanceof Er||this._fill instanceof Tn)&&this._fill.unbind(pe.Types.change,this._renderer.flagFill),this._fill=e,this._flagFill=!0,(this._fill instanceof dn||this._fill instanceof Sr||this._fill instanceof Er||this._fill instanceof Tn)&&this._fill.bind(pe.Types.change,this._renderer.flagFill)}},stroke:{enumerable:!0,get:function(){return this._stroke},set:function(e){(this._stroke instanceof dn||this._stroke instanceof Sr||this._stroke instanceof Er||this._stroke instanceof Tn)&&this._stroke.unbind(pe.Types.change,this._renderer.flagStroke),this._stroke=e,this._flagStroke=!0,(this._stroke instanceof dn||this._stroke instanceof Sr||this._stroke instanceof Er||this._stroke instanceof Tn)&&this._stroke.bind(pe.Types.change,this._renderer.flagStroke)}},length:{get:function(){return this._flagLength&&this._updateLength(),this._length}},closed:{enumerable:!0,get:function(){return this._closed},set:function(e){this._closed=!!e,this._flagVertices=!0}},curved:{enumerable:!0,get:function(){return this._curved},set:function(e){this._curved=!!e,this._flagVertices=!0}},automatic:{enumerable:!0,get:function(){return this._automatic},set:function(e){if(e===this._automatic)return;this._automatic=!!e;const t=this._automatic?"ignore":"listen";$t.each(this.vertices,function(n){n[t]()})}},beginning:{enumerable:!0,get:function(){return this._beginning},set:function(e){this._beginning=e,this._flagVertices=!0}},ending:{enumerable:!0,get:function(){return this._ending},set:function(e){this._ending=e,this._flagVertices=!0}},vertices:{enumerable:!0,get:function(){return this._collection},set:function(e){const t=this._renderer.bindVertices,n=this._renderer.unbindVertices;this._collection&&this._collection.unbind(pe.Types.insert,t).unbind(pe.Types.remove,n),e instanceof kd?this._collection=e:this._collection=new kd(e||[]),this._collection.bind(pe.Types.insert,t).bind(pe.Types.remove,n),t(this._collection)}},mask:{enumerable:!0,get:function(){return this._mask},set:function(e){this._mask=e,this._flagMask=!0,$t.isObject(e)&&!e.clip&&(e.clip=!0)}},clip:{enumerable:!0,get:function(){return this._clip},set:function(e){this._clip=e,this._flagClip=!0}},dashes:{enumerable:!0,get:function(){return this._dashes},set:function(e){typeof e.offset!="number"&&(e.offset=this.dashes&&this._dashes.offset||0),this._dashes=e}}};function fE(){this._flagVertices=!0,this._flagLength=!0,this.parent&&(this.parent._flagLength=!0)}function hE(e){let t=e.length;for(;t--;)e[t].bind(pe.Types.change,this._renderer.flagVertices);this._renderer.flagVertices()}function dE(e){let t=e.length;for(;t--;)e[t].unbind(pe.Types.change,this._renderer.flagVertices);this._renderer.flagVertices()}function pE(){this._flagFill=!0}function gE(){this._flagStroke=!0}const fi=class fi extends sn{constructor(n,i,o,l,a){typeof a>"u"&&typeof o=="number"&&typeof l=="number"&&(a=Math.floor(Math.min(o,l)/12));const c=[];for(let h=0;h<10;h++)c.push(new hn(0,0,0,0,0,0,h===0?Ge.move:Ge.curve));super(c);B(this,"_flagWidth",!1);B(this,"_flagHeight",!1);B(this,"_flagRadius",!1);B(this,"_width",0);B(this,"_height",0);B(this,"_radius",12);this._renderer.type="rounded-rectangle";for(let h in P0)Object.defineProperty(this,h,P0[h]);this.closed=!0,this.automatic=!1,this._renderer.flagRadius=mE.bind(this),typeof o=="number"&&(this.width=o),typeof l=="number"&&(this.height=l),typeof a=="number"&&(this.radius=a),this._update(),typeof n=="number"&&(this.translation.x=n),typeof i=="number"&&(this.translation.y=i)}static fromObject(n){const i=new fi().copy(n);return"id"in n&&(i.id=n.id),i}copy(n){super.copy.call(this,n);for(let i=0;i<fi.Properties.length;i++){const o=fi.Properties[i];if(o in n){const l=n[o];/radius/i.test(o)?this[o]=typeof l=="number"||l instanceof Ae?l:new Ae().copy(l):typeof l=="number"&&(this[o]=l)}}return this}_update(){if(this._flagVertices||this._flagWidth||this._flagHeight||this._flagRadius){const n=this._width,i=this._height;let o,l;this._radius instanceof Ae?(o=this._radius.x,l=this._radius.y):(o=this._radius,l=this._radius);let a,c=n/2,h=i/2;a=this.vertices[0],a.x=-(c-o),a.y=-h,a=this.vertices[1],a.x=c-o,a.y=-h,a.controls.left.clear(),a.controls.right.x=o,a.controls.right.y=0,a=this.vertices[2],a.x=c,a.y=-(h-l),a.controls.right.clear(),a.controls.left.clear(),a=this.vertices[3],a.x=c,a.y=h-l,a.controls.left.clear(),a.controls.right.x=0,a.controls.right.y=l,a=this.vertices[4],a.x=c-o,a.y=h,a.controls.right.clear(),a.controls.left.clear(),a=this.vertices[5],a.x=-(c-o),a.y=h,a.controls.left.clear(),a.controls.right.x=-o,a.controls.right.y=0,a=this.vertices[6],a.x=-c,a.y=h-l,a.controls.left.clear(),a.controls.right.clear(),a=this.vertices[7],a.x=-c,a.y=-(h-l),a.controls.left.clear(),a.controls.right.x=0,a.controls.right.y=-l,a=this.vertices[8],a.x=-(c-o),a.y=-h,a.controls.left.clear(),a.controls.right.clear(),a=this.vertices[9],a.copy(this.vertices[8])}return super._update.call(this),this}flagReset(){return this._flagWidth=this._flagHeight=this._flagRadius=!1,super.flagReset.call(this),this}clone(n){const i=this.width,o=this.height,l=this.radius,a=new fi(0,0,i,o,l);a.translation.copy(this.translation),a.rotation=this.rotation,a.scale=this.scale,a.skewX=this.skewX,a.skewY=this.skewY,this.matrix.manual&&a.matrix.copy(this.matrix);for(let c=0;c<sn.Properties.length;c++){const h=sn.Properties[c];a[h]=this[h]}return n&&n.add(a),a}toObject(){const n=super.toObject.call(this);n.renderer.type="rounded-rectangle";for(let i=0;i<fi.Properties.length;i++){const o=fi.Properties[i];n[o]=this[o]}return n.radius=typeof this.radius=="number"?this.radius:this.radius.toObject(),n}};B(fi,"Properties",["width","height","radius"]);let Sd=fi;const P0={width:{enumerable:!0,get:function(){return this._width},set:function(e){this._width=e,this._flagWidth=!0}},height:{enumerable:!0,get:function(){return this._height},set:function(e){this._height=e,this._flagHeight=!0}},radius:{enumerable:!0,get:function(){return this._radius},set:function(e){this._radius instanceof Ae&&this._radius.unbind(pe.Types.change,this._renderer.flagRadius),this._radius=e,this._radius instanceof Ae&&this._radius.bind(pe.Types.change,this._renderer.flagRadius),this._flagRadius=!0}}};function mE(){this._flagRadius=!0}let Ed;const O0=Math.min,L0=Math.max;Vr.document&&(Ed=document.createElement("canvas"));const Gt=class Gt extends Ls{constructor(n,i,o,l){super();B(this,"_flagValue",!0);B(this,"_flagFamily",!0);B(this,"_flagSize",!0);B(this,"_flagLeading",!0);B(this,"_flagAlignment",!0);B(this,"_flagBaseline",!0);B(this,"_flagStyle",!0);B(this,"_flagWeight",!0);B(this,"_flagDecoration",!0);B(this,"_flagFill",!0);B(this,"_flagStroke",!0);B(this,"_flagLinewidth",!0);B(this,"_flagOpacity",!0);B(this,"_flagVisible",!0);B(this,"_flagMask",!1);B(this,"_flagClip",!1);B(this,"_flagDirection",!0);B(this,"_value","");B(this,"_family","sans-serif");B(this,"_size",13);B(this,"_leading",17);B(this,"_alignment","center");B(this,"_baseline","middle");B(this,"_style","normal");B(this,"_weight",500);B(this,"_decoration","none");B(this,"_direction","ltr");B(this,"_fill","#000");B(this,"_stroke","none");B(this,"_linewidth",1);B(this,"_opacity",1);B(this,"_visible",!0);B(this,"_mask",null);B(this,"_clip",!1);B(this,"_dashes",null);for(let a in F0)Object.defineProperty(this,a,F0[a]);if(this._renderer.type="text",this._renderer.flagFill=yE.bind(this),this._renderer.flagStroke=_E.bind(this),this.value=n,typeof i=="number"&&(this.translation.x=i),typeof o=="number"&&(this.translation.y=o),this.dashes=[],this.dashes.offset=0,!$t.isObject(l))return this;for(let a=0;a<Gt.Properties.length;a++){const c=Gt.Properties[a];c in l&&(this[c]=l[c])}}static Measure(n){if(Ed){const i=Ed.getContext("2d");i.font=[n._style,n._weight,`${n._size}px/${n._leading}px`,n._family].join(" ");const o=i.measureText(n.value,0,0),l=o.actualBoundingBoxDescent+o.actualBoundingBoxAscent;return{width:o.width,height:l}}else{const i=this.value.length*this.size*Gt.Ratio,o=this.leading;return console.warn("Two.Text: unable to accurately measure text, so using an approximation."),{width:i,height:o}}}static fromObject(n){const i=typeof n.fill=="string"?n.fill:lc(n.fill),o=typeof n.stroke=="string"?n.stroke:lc(n.stroke),l=new Gt().copy({...n,fill:i,stroke:o});return"id"in n&&(l.id=n.id),l}copy(n){super.copy.call(this,n);for(let i=0;i<Gt.Properties.length;i++){const o=Gt.Properties[i];o in n&&(this[o]=n[o])}return this}clone(n){const i=new Gt(this.value);i.translation.copy(this.translation),i.rotation=this.rotation,i.scale=this.scale;for(let o=0;o<Gt.Properties.length;o++){const l=Gt.Properties[o];i[l]=this[l]}return this.matrix.manual&&i.matrix.copy(this.matrix),n&&n.add(i),i._update()}toObject(){const n=super.toObject.call(this);n.renderer.type="text";for(let i=0;i<Gt.Properties.length;i++){const o=Gt.Properties[i];n[o]=this[o]}return n}noFill(){return this.fill="none",this}noStroke(){return this.stroke="none",this.linewidth=0,this}getBoundingClientRect(n){let i,o,l,a,c;this._update(!0),i=n?this.matrix:this.worldMatrix;const{width:h,height:d}=Gt.Measure(this),g=(this._linewidth||0)/2;switch(this.alignment){case"left":o=-g,l=h+g;break;case"right":o=-(h+g),l=g;break;default:o=-(h/2+g),l=h/2+g}switch(this.baseline){case"middle":a=-(d/2+g),c=d/2+g;break;default:a=-(d+g),c=g}const[m,v]=i.multiply(o,a),[y,x]=i.multiply(o,c),[b,S]=i.multiply(l,a),[k,w]=i.multiply(l,c);return a=O0(v,x,S,w),o=O0(m,y,b,k),l=L0(m,y,b,k),c=L0(v,x,S,w),{top:a,left:o,right:l,bottom:c,width:l-o,height:c-a}}flagReset(){return super.flagReset.call(this),this._flagValue=this._flagFamily=this._flagSize=this._flagLeading=this._flagAlignment=this._flagFill=this._flagStroke=this._flagLinewidth=this._flagOpacity=this._flagVisible=this._flagClip=this._flagDecoration=this._flagClassName=this._flagBaseline=this._flagWeight=this._flagStyle=this._flagDirection=!1,this}};B(Gt,"Ratio",.6),B(Gt,"Properties",["value","family","size","leading","alignment","linewidth","style","weight","decoration","direction","baseline","opacity","visible","fill","stroke","dashes"]);let ac=Gt;const F0={value:{enumerable:!0,get:function(){return this._value},set:function(e){this._value=e,this._flagValue=!0}},family:{enumerable:!0,get:function(){return this._family},set:function(e){this._family=e,this._flagFamily=!0}},size:{enumerable:!0,get:function(){return this._size},set:function(e){this._size=e,this._flagSize=!0}},leading:{enumerable:!0,get:function(){return this._leading},set:function(e){this._leading=e,this._flagLeading=!0}},alignment:{enumerable:!0,get:function(){return this._alignment},set:function(e){this._alignment=e,this._flagAlignment=!0}},linewidth:{enumerable:!0,get:function(){return this._linewidth},set:function(e){this._linewidth=e,this._flagLinewidth=!0}},style:{enumerable:!0,get:function(){return this._style},set:function(e){this._style=e,this._flagStyle=!0}},weight:{enumerable:!0,get:function(){return this._weight},set:function(e){this._weight=e,this._flagWeight=!0}},decoration:{enumerable:!0,get:function(){return this._decoration},set:function(e){this._decoration=e,this._flagDecoration=!0}},direction:{enumerable:!0,get:function(){return this._direction},set:function(e){this._direction=e,this._flagDirection=!0}},baseline:{enumerable:!0,get:function(){return this._baseline},set:function(e){this._baseline=e,this._flagBaseline=!0}},opacity:{enumerable:!0,get:function(){return this._opacity},set:function(e){this._opacity=e,this._flagOpacity=!0}},visible:{enumerable:!0,get:function(){return this._visible},set:function(e){this._visible=e,this._flagVisible=!0}},fill:{enumerable:!0,get:function(){return this._fill},set:function(e){(this._fill instanceof dn||this._fill instanceof Sr||this._fill instanceof Er||this._fill instanceof Tn)&&this._fill.unbind(pe.Types.change,this._renderer.flagFill),this._fill=e,this._flagFill=!0,(this._fill instanceof dn||this._fill instanceof Sr||this._fill instanceof Er||this._fill instanceof Tn)&&this._fill.bind(pe.Types.change,this._renderer.flagFill)}},stroke:{enumerable:!0,get:function(){return this._stroke},set:function(e){(this._stroke instanceof dn||this._stroke instanceof Sr||this._stroke instanceof Er||this._stroke instanceof Tn)&&this._stroke.unbind(pe.Types.change,this._renderer.flagStroke),this._stroke=e,this._flagStroke=!0,(this._stroke instanceof dn||this._stroke instanceof Sr||this._stroke instanceof Er||this._stroke instanceof Tn)&&this._stroke.bind(pe.Types.change,this._renderer.flagStroke)}},mask:{enumerable:!0,get:function(){return this._mask},set:function(e){this._mask=e,this._flagMask=!0,$t.isObject(e)&&!e.clip&&(e.clip=!0)}},clip:{enumerable:!0,get:function(){return this._clip},set:function(e){this._clip=e,this._flagClip=!0}},dashes:{enumerable:!0,get:function(){return this._dashes},set:function(e){typeof e.offset!="number"&&(e.offset=this.dashes&&this._dashes.offset||0),this._dashes=e}}};function yE(){this._flagFill=!0}function _E(){this._flagStroke=!0}function rp(e){const{shape:t,type:n}=e,{translation:i,id:o}=t,l=t.stroke,a=t.fill,c=t.linewidth,h=t.vertices,d=t.width||0,g=t.height||0,m=t.radius||0,v={id:o,t:n,x:i.x,y:i.y,w:d,h:g,r:m,sc:l||"none",fc:a||"none",lw:c||1,v:(h||[]).map(y=>[y.x,y.y])};if(n==="text"){const y=t;v.txt=y.value,v.ff=y.family,v.fs=y.size,v.fa=y.alignment,v.fw=y.weight}return n==="bezier"&&(v.bv=(h||[]).map(y=>{var x,b,S,k,w,C,M,P;return[y.x,y.y,((b=(x=y.controls)==null?void 0:x.left)==null?void 0:b.x)??0,((k=(S=y.controls)==null?void 0:S.left)==null?void 0:k.y)??0,((C=(w=y.controls)==null?void 0:w.right)==null?void 0:C.x)??0,((P=(M=y.controls)==null?void 0:M.right)==null?void 0:P.y)??0,y.command||"C"]}),v.cl=t.closed),v}function ip(e){const{t,x:n,y:i,sc:o,fc:l,lw:a,v:c,w:h,h:d,r:g,id:m}=e;if(t==="brush"){const v=c.map(x=>new xe.Anchor(x[0],x[1])),y=new sn(v,!1,!0);return y.id=m,y.cap="round",y.closed=!1,y.noFill().stroke=o,y.linewidth=a,y.translation.x=n,y.translation.y=i,{type:t,shape:y}}else if(t==="line"||t==="arrow"){const v=c.map(x=>new xe.Anchor(x[0],x[1])),y=new sn(v,!1,!1);return y.id=m,y.cap="round",y.closed=!1,y.noFill().stroke=o,y.linewidth=a,y.translation.x=n,y.translation.y=i,{type:t,shape:y}}else if(t==="rect"){const v=new Sd(n,i,h,d);return v.radius=g,v.id=m,v.stroke=o,v.fill=l,v.linewidth=a,{shape:v,type:"rect"}}else if(t==="text"){const v=new ac(e.txt||"",n,i);return v.id=m,v.fill=l,v.stroke=o,v.linewidth=a,v.family=e.ff||"sans-serif",v.size=e.fs||24,v.alignment=e.fa||"left",v.weight=e.fw||400,{shape:v,type:"text"}}else if(t==="bezier"){const v=(e.bv||[]).map(x=>new xe.Anchor(x[0],x[1],x[2],x[3],x[4],x[5],x[6])),y=new sn(v,!1,!1,!0);return y.id=m,y.cap="round",y.join="round",y.closed=!!e.cl,y.noFill().stroke=o,y.linewidth=a,y.translation.x=n,y.translation.y=i,{type:t,shape:y}}else throw new Error(`Unknown doodle unserialization of type "${t}"`)}const Qv=Rr()(e=>({toasts:[],addToast:(t,n)=>{const i=Math.random().toString(36).replace("0.","");e(o=>{const l={id:i,message:t,type:n};return{toasts:[...o.toasts,l]}}),setTimeout(()=>{e(o=>({toasts:o.toasts.filter(a=>a.id!==i)}))},2500)}})),vE=()=>{const e=Qv().toasts;return A.jsx("div",{className:"fixed top-0 left-0 right-0 h-0 flex justify-center",children:A.jsx("div",{className:"flex flex-col md:items-center gap-2 relative top-14",children:e.map(t=>A.jsx(xE,{message:t.message},t.id))})})},xE=({message:e})=>A.jsx("div",{className:"text-inverse bg-secondary py-2 px-4 flex items-center rounded gap-2 animate-fade-in-down min-w-72",children:A.jsx("div",{className:"flex-grow text-center",children:e})});class wE{constructor(t){B(this,"two");B(this,"zui");B(this,"canvas");B(this,"sketchId");B(this,"container");B(this,"throttledTwoUpdate",_v(()=>{var t,n,i;typeof((t=this.two)==null?void 0:t.update)=="function"&&((i=(n=this.two)==null?void 0:n.update)==null||i.call(n))},1));this.two=t.two,this.canvas=t.canvas,this.zui=t.zui,this.sketchId=t.sketchId||"default",this.container=t.container,typeof window<"u"&&(window.doodler=this)}doCenterCanvas(){this.canvas.position.x=0,this.canvas.position.y=0,this.throttledTwoUpdate()}addDoodle(t){t.shape.id=crypto.randomUUID();const{doodles:n,setDoodles:i}=rn.getState(),o=[...n,t];i(o),this.canvas.add(t.shape)}removeDoodle(t){const{doodles:n,setDoodles:i}=rn.getState(),o=n.filter(l=>l!==t);i(o),this.canvas.remove(t.shape)}async saveDoodles(){const{doodles:t}=rn.getState(),n=t.map(o=>rp(o));Nk(this.sketchId,n);const i=Qv.getState().addToast;i("Sketch saved successfully")}async loadDoodles(){if(!this.sketchId)return;const t=Fk(this.sketchId);if(!(!t||!(t!=null&&t.length))){for(const n of t)try{const i=ip(n);this.addDoodle(i)}catch(i){console.warn(i);continue}this.throttledTwoUpdate()}}}let Cd;function bE(e){Cd=e}function Ue(){if(!Cd)throw new Error("Doodler instance is not set yet.");return Cd}const Rd="#0ea5cf";var Zv=(e=>(e[e.Left=0]="Left",e[e.Middle=1]="Middle",e[e.Right=2]="Right",e))(Zv||{});function Wo(e,t){t=t||Ue().zui;const n=e.currentTarget.getBoundingClientRect(),i={x:e.clientX-n.left,y:e.clientY-n.top};return t.clientToSurface(i)}function Kr(e){const t=e.currentTarget.getBoundingClientRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}function kE(e,t){let n;return(...i)=>{clearTimeout(n),n=setTimeout(()=>e(...i),t)}}function N0(e,t){return sp(e.x,e.y,t.left,t.top,t.right,t.bottom)}function sp(e,t,n,i,o,l){return e>=n&&e<=o&&t>=i&&t<=l}function SE(e,t,n){return Math.max(t,Math.min(n,e))}function EE(e,t){const n=Math.pow(10,t);return Math.floor(e*n)/n}function CE(e){return e*(180/Math.PI)%360}function RE(e){return e*(Math.PI/180)}function op(e){var i,o;const t=e,n=((i=e.touches)==null?void 0:i[0])||((o=e.changedTouches)==null?void 0:o[0])||{clientX:0,clientY:0};return t.clientX=n.clientX,t.clientY=n.clientY,t}var Iu={},I0;function TE(){return I0||(I0=1,Iu.ARRAY_BUFFER_SUPPORT=typeof ArrayBuffer<"u",Iu.SYMBOL_SUPPORT=typeof Symbol<"u"),Iu}var Wh,j0;function Jv(){if(j0)return Wh;j0=1;var e=TE(),t=e.ARRAY_BUFFER_SUPPORT,n=e.SYMBOL_SUPPORT;return Wh=function(o,l){var a,c,h,d,g;if(!o)throw new Error("obliterator/forEach: invalid iterable.");if(typeof l!="function")throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(o)||t&&ArrayBuffer.isView(o)||typeof o=="string"||o.toString()==="[object Arguments]"){for(h=0,d=o.length;h<d;h++)l(o[h],h);return}if(typeof o.forEach=="function"){o.forEach(l);return}if(n&&Symbol.iterator in o&&typeof o.next!="function"&&(o=o[Symbol.iterator]()),typeof o.next=="function"){for(a=o,h=0;g=a.next(),g.done!==!0;)l(g.value,h),h++;return}for(c in o)o.hasOwnProperty(c)&&l(o[c],c)},Wh}var Eo={},D0;function ME(){if(D0)return Eo;D0=1;var e=function(o,l){return o<l?-1:o>l?1:0},t=function(o,l){return o<l?1:o>l?-1:0};function n(o){return function(l,a){return o(a,l)}}function i(o){return o===2?function(l,a){return l[0]<a[0]?-1:l[0]>a[0]?1:l[1]<a[1]?-1:l[1]>a[1]?1:0}:function(l,a){for(var c=0;c<o;){if(l[c]<a[c])return-1;if(l[c]>a[c])return 1;c++}return 0}}return Eo.DEFAULT_COMPARATOR=e,Eo.DEFAULT_REVERSE_COMPARATOR=t,Eo.reverseComparator=n,Eo.createTupleComparator=i,Eo}var Co={},Yh={},z0;function AE(){return z0||(z0=1,function(e){var t=Math.pow(2,8)-1,n=Math.pow(2,16)-1,i=Math.pow(2,32)-1,o=Math.pow(2,7)-1,l=Math.pow(2,15)-1,a=Math.pow(2,31)-1;e.getPointerArray=function(h){var d=h-1;if(d<=t)return Uint8Array;if(d<=n)return Uint16Array;if(d<=i)return Uint32Array;throw new Error("mnemonist: Pointer Array of size > 4294967295 is not supported.")},e.getSignedPointerArray=function(h){var d=h-1;return d<=o?Int8Array:d<=l?Int16Array:d<=a?Int32Array:Float64Array},e.getNumberType=function(h){return h===(h|0)?Math.sign(h)===-1?h<=127&&h>=-128?Int8Array:h<=32767&&h>=-32768?Int16Array:Int32Array:h<=255?Uint8Array:h<=65535?Uint16Array:Uint32Array:Float64Array};var c={Uint8Array:1,Int8Array:2,Uint16Array:3,Int16Array:4,Uint32Array:5,Int32Array:6,Float32Array:7,Float64Array:8};e.getMinimalRepresentation=function(h,d){var g=null,m=0,v,y,x,b,S;for(b=0,S=h.length;b<S;b++)x=d?d(h[b]):h[b],y=e.getNumberType(x),v=c[y.name],v>m&&(m=v,g=y);return g},e.isTypedArray=function(h){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView(h)},e.concat=function(){var h=0,d,g,m;for(d=0,m=arguments.length;d<m;d++)h+=arguments[d].length;var v=new arguments[0].constructor(h);for(d=0,g=0;d<m;d++)v.set(arguments[d],g),g+=arguments[d].length;return v},e.indices=function(h){for(var d=e.getPointerArray(h),g=new d(h),m=0;m<h;m++)g[m]=m;return g}}(Yh)),Yh}var B0;function PE(){if(B0)return Co;B0=1;var e=Jv(),t=AE();function n(a){return Array.isArray(a)||t.isTypedArray(a)}function i(a){if(typeof a.length=="number")return a.length;if(typeof a.size=="number")return a.size}function o(a){var c=i(a),h=typeof c=="number"?new Array(c):[],d=0;return e(a,function(g){h[d++]=g}),h}function l(a){var c=i(a),h=typeof c=="number"?t.getPointerArray(c):Array,d=typeof c=="number"?new Array(c):[],g=typeof c=="number"?new h(c):[],m=0;return e(a,function(v){d[m]=v,g[m]=m++}),[d,g]}return Co.isArrayLike=n,Co.guessLength=i,Co.toArray=o,Co.toArrayWithIndices=l,Co}var Xh,$0;function OE(){if($0)return Xh;$0=1;var e=Jv(),t=ME(),n=PE(),i=t.DEFAULT_COMPARATOR,o=t.reverseComparator;function l(k,w,C,M){for(var P=w[M],N,j;M>C;){if(N=M-1>>1,j=w[N],k(P,j)<0){w[M]=j,M=N;continue}break}w[M]=P}function a(k,w,C){for(var M=w.length,P=C,N=w[C],j=2*C+1,X;j<M;)X=j+1,X<M&&k(w[j],w[X])>=0&&(j=X),w[C]=w[j],C=j,j=2*C+1;w[C]=N,l(k,w,P,C)}function c(k,w,C){w.push(C),l(k,w,0,w.length-1)}function h(k,w){var C=w.pop();if(w.length!==0){var M=w[0];return w[0]=C,a(k,w,0),M}return C}function d(k,w,C){if(w.length===0)throw new Error("mnemonist/heap.replace: cannot pop an empty heap.");var M=w[0];return w[0]=C,a(k,w,0),M}function g(k,w,C){var M;return w.length!==0&&k(w[0],C)<0&&(M=w[0],w[0]=C,C=M,a(k,w,0)),C}function m(k,w){for(var C=w.length,M=C>>1,P=M;--P>=0;)a(k,w,P)}function v(k,w){for(var C=w.length,M=0,P=new Array(C);M<C;)P[M++]=h(k,w);return P}function y(k,w,C){arguments.length===2&&(C=w,w=k,k=i);var M=o(k),P,N,j,X=1/0,z;if(w===1){if(n.isArrayLike(C)){for(P=0,N=C.length;P<N;P++)j=C[P],(X===1/0||k(j,X)<0)&&(X=j);return z=new C.constructor(1),z[0]=X,z}return e(C,function(K){(X===1/0||k(K,X)<0)&&(X=K)}),[X]}if(n.isArrayLike(C)){if(w>=C.length)return C.slice().sort(k);for(z=C.slice(0,w),m(M,z),P=w,N=C.length;P<N;P++)M(C[P],z[0])>0&&d(M,z,C[P]);return z.sort(k)}var W=n.guessLength(C);return W!==null&&W<w&&(w=W),z=new Array(w),P=0,e(C,function(K){P<w?z[P]=K:(P===w&&m(M,z),M(K,z[0])>0&&d(M,z,K)),P++}),z.length>P&&(z.length=P),z.sort(k)}function x(k,w,C){arguments.length===2&&(C=w,w=k,k=i);var M=o(k),P,N,j,X=-1/0,z;if(w===1){if(n.isArrayLike(C)){for(P=0,N=C.length;P<N;P++)j=C[P],(X===-1/0||k(j,X)>0)&&(X=j);return z=new C.constructor(1),z[0]=X,z}return e(C,function(K){(X===-1/0||k(K,X)>0)&&(X=K)}),[X]}if(n.isArrayLike(C)){if(w>=C.length)return C.slice().sort(M);for(z=C.slice(0,w),m(k,z),P=w,N=C.length;P<N;P++)k(C[P],z[0])>0&&d(k,z,C[P]);return z.sort(M)}var W=n.guessLength(C);return W!==null&&W<w&&(w=W),z=new Array(w),P=0,e(C,function(K){P<w?z[P]=K:(P===w&&m(k,z),k(K,z[0])>0&&d(k,z,K)),P++}),z.length>P&&(z.length=P),z.sort(M)}function b(k){if(this.clear(),this.comparator=k||i,typeof this.comparator!="function")throw new Error("mnemonist/Heap.constructor: given comparator should be a function.")}b.prototype.clear=function(){this.items=[],this.size=0},b.prototype.push=function(k){return c(this.comparator,this.items,k),++this.size},b.prototype.peek=function(){return this.items[0]},b.prototype.pop=function(){return this.size!==0&&this.size--,h(this.comparator,this.items)},b.prototype.replace=function(k){return d(this.comparator,this.items,k)},b.prototype.pushpop=function(k){return g(this.comparator,this.items,k)},b.prototype.consume=function(){return this.size=0,v(this.comparator,this.items)},b.prototype.toArray=function(){return v(this.comparator,this.items.slice())},b.prototype.inspect=function(){var k=this.toArray();return Object.defineProperty(k,"constructor",{value:b,enumerable:!1}),k},typeof Symbol<"u"&&(b.prototype[Symbol.for("nodejs.util.inspect.custom")]=b.prototype.inspect);function S(k){if(this.clear(),this.comparator=k||i,typeof this.comparator!="function")throw new Error("mnemonist/MaxHeap.constructor: given comparator should be a function.");this.comparator=o(this.comparator)}return S.prototype=b.prototype,b.from=function(k,w){var C=new b(w),M;return n.isArrayLike(k)?M=k.slice():M=n.toArray(k),m(C.comparator,M),C.items=M,C.size=M.length,C},S.from=function(k,w){var C=new S(w),M;return n.isArrayLike(k)?M=k.slice():M=n.toArray(k),m(C.comparator,M),C.items=M,C.size=M.length,C},b.siftUp=a,b.siftDown=l,b.push=c,b.pop=h,b.replace=d,b.pushpop=g,b.heapify=m,b.consume=v,b.nsmallest=y,b.nlargest=x,b.MinHeap=b,b.MaxHeap=S,Xh=b,Xh}var Ro=OE();function LE([e,t,n]){return Math.abs((e.x-n.x)*(t.y-e.y)-(e.x-t.x)*(n.y-e.y))}function FE([e,t,n]){const i=Math.abs((n.y-t.y)*e.x-(n.x-t.x)*e.y+n.x*t.y-n.y*t.x),o=Math.sqrt(Math.pow(n.y-t.y,2)+Math.pow(n.x-t.x,2));return i/o}function NE([e,t,n]){const i={x:t.x-e.x,y:t.y-e.y},o={x:n.x-e.x,y:n.y-e.y},l=i.x*o.x+i.y*o.y,a=Math.sqrt(i.x**2+i.y**2),c=Math.sqrt(o.x**2+o.y**2);return Math.acos(l/(a*c))}function*IE(e){for(let t=1;t<e.length-1;t++)yield[e[t-1],e[t],e[t+1]]}const To=(e,t)=>e.weight-t.weight;function jE(e,t,n){const i=t.length;if(i<3||typeof n=="number"&&i<n)return t;if(typeof n=="number"&&n<3)return[t[0],t[i-1]];const o=typeof n=="number"?n:2,l=typeof n=="number"?null:n,a=[],c=new WeakMap,h=new WeakMap;{let m=null;for(const v of IE(t)){const y={t:v,weight:e(v),dead:!1};m&&(c.set(m,y),h.set(y,m)),m=y,Ro.push(To,a,y)}}let d=i-o;const g=new WeakSet;for(;d>0;){const m=Ro.pop(To,a);if(!m)throw new Error("unexpected heap exhaustion");if(m.dead)continue;if(!isFinite(m.weight)||l&&!l(m.weight))break;g.add(m.t[1]),d-=1;const v=h.get(m),y=c.get(m);let x=null,b=null;if(v){v.dead=!0;const[S,k]=v.t,[,,w]=m.t,C=[S,k,w];x={t:C,weight:e(C),dead:!1};const M=h.get(v);M&&(c.set(M,x),h.set(x,M)),a[0].dead?Ro.replace(To,a,x):Ro.push(To,a,x)}if(y){y.dead=!0;const[,S,k]=y.t,[w]=m.t,C=[w,S,k];b={t:C,weight:e(C),dead:!1};const M=c.get(y);M&&(h.set(M,b),c.set(b,M)),a[0].dead?Ro.replace(To,a,b):Ro.push(To,a,b)}b&&x&&(c.set(x,b),h.set(b,x))}return t.filter(m=>!g.has(m))}function DE(e){return e==="triangle"?LE:e==="distance"?FE:e==="angle"?NE:null}function zE(e,t,n){var i=t.x,o=t.y,l=n.x-i,a=n.y-o;if(l!==0||a!==0){var c=((e.x-i)*l+(e.y-o)*a)/(l*l+a*a);c>1?(i=n.x,o=n.y):c>0&&(i+=l*c,o+=a*c)}return l=e.x-i,a=e.y-o,l*l+a*a}function Td(e,t,n,i,o){let l=i,a=1;for(var c=t+1;c<n;c++){var h=zE(e[c],e[t],e[n]);h>l&&(a=c,l=h)}l>i&&(a-t>1&&Td(e,t,a,i,o),o.push(e[a]),n-a>1&&Td(e,a,n,i,o))}function BE(e,t){var n=e.length-1,i=[e[0]];return Td(e,0,n,t,i),i.push(e[n]),i}function $E(e,t){if(e.length<=2)return e;var n=t!==void 0?t*t:1;return e=BE(e,n),e}var UE={grad:.9,turn:360,rad:360/(2*Math.PI)},ci=function(e){return typeof e=="string"?e.length>0:typeof e=="number"},Nt=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=Math.pow(10,t)),Math.round(n*e)/n+0},ur=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=1),e>n?n:e>t?e:t},e1=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},U0=function(e){return{r:ur(e.r,0,255),g:ur(e.g,0,255),b:ur(e.b,0,255),a:ur(e.a)}},Kh=function(e){return{r:Nt(e.r),g:Nt(e.g),b:Nt(e.b),a:Nt(e.a,3)}},VE=/^#([0-9a-f]{3,8})$/i,ju=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},t1=function(e){var t=e.r,n=e.g,i=e.b,o=e.a,l=Math.max(t,n,i),a=l-Math.min(t,n,i),c=a?l===t?(n-i)/a:l===n?2+(i-t)/a:4+(t-n)/a:0;return{h:60*(c<0?c+6:c),s:l?a/l*100:0,v:l/255*100,a:o}},n1=function(e){var t=e.h,n=e.s,i=e.v,o=e.a;t=t/360*6,n/=100,i/=100;var l=Math.floor(t),a=i*(1-n),c=i*(1-(t-l)*n),h=i*(1-(1-t+l)*n),d=l%6;return{r:255*[i,c,a,a,h,i][d],g:255*[h,i,i,c,a,a][d],b:255*[a,a,h,i,i,c][d],a:o}},V0=function(e){return{h:e1(e.h),s:ur(e.s,0,100),l:ur(e.l,0,100),a:ur(e.a)}},H0=function(e){return{h:Nt(e.h),s:Nt(e.s),l:Nt(e.l),a:Nt(e.a,3)}},W0=function(e){return n1((n=(t=e).s,{h:t.h,s:(n*=((i=t.l)<50?i:100-i)/100)>0?2*n/(i+n)*100:0,v:i+n,a:t.a}));var t,n,i},Xl=function(e){return{h:(t=t1(e)).h,s:(o=(200-(n=t.s))*(i=t.v)/100)>0&&o<200?n*i/100/(o<=100?o:200-o)*100:0,l:o/2,a:t.a};var t,n,i,o},HE=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,WE=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,YE=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,XE=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Y0={string:[[function(e){var t=VE.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?Nt(parseInt(e[3]+e[3],16)/255,2):1}:e.length===6||e.length===8?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:e.length===8?Nt(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=YE.exec(e)||XE.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:U0({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t=HE.exec(e)||WE.exec(e);if(!t)return null;var n,i,o=V0({h:(n=t[1],i=t[2],i===void 0&&(i="deg"),Number(n)*(UE[i]||1)),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)});return W0(o)},"hsl"]],object:[[function(e){var t=e.r,n=e.g,i=e.b,o=e.a,l=o===void 0?1:o;return ci(t)&&ci(n)&&ci(i)?U0({r:Number(t),g:Number(n),b:Number(i),a:Number(l)}):null},"rgb"],[function(e){var t=e.h,n=e.s,i=e.l,o=e.a,l=o===void 0?1:o;if(!ci(t)||!ci(n)||!ci(i))return null;var a=V0({h:Number(t),s:Number(n),l:Number(i),a:Number(l)});return W0(a)},"hsl"],[function(e){var t=e.h,n=e.s,i=e.v,o=e.a,l=o===void 0?1:o;if(!ci(t)||!ci(n)||!ci(i))return null;var a=function(c){return{h:e1(c.h),s:ur(c.s,0,100),v:ur(c.v,0,100),a:ur(c.a)}}({h:Number(t),s:Number(n),v:Number(i),a:Number(l)});return n1(a)},"hsv"]]},X0=function(e,t){for(var n=0;n<t.length;n++){var i=t[n][0](e);if(i)return[i,t[n][1]]}return[null,void 0]},KE=function(e){return typeof e=="string"?X0(e.trim(),Y0.string):typeof e=="object"&&e!==null?X0(e,Y0.object):[null,void 0]},qh=function(e,t){var n=Xl(e);return{h:n.h,s:ur(n.s+100*t,0,100),l:n.l,a:n.a}},Gh=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},K0=function(e,t){var n=Xl(e);return{h:n.h,s:n.s,l:ur(n.l+100*t,0,100),a:n.a}},q0=function(){function e(t){this.parsed=KE(t)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return this.parsed!==null},e.prototype.brightness=function(){return Nt(Gh(this.rgba),2)},e.prototype.isDark=function(){return Gh(this.rgba)<.5},e.prototype.isLight=function(){return Gh(this.rgba)>=.5},e.prototype.toHex=function(){return t=Kh(this.rgba),n=t.r,i=t.g,o=t.b,a=(l=t.a)<1?ju(Nt(255*l)):"","#"+ju(n)+ju(i)+ju(o)+a;var t,n,i,o,l,a},e.prototype.toRgb=function(){return Kh(this.rgba)},e.prototype.toRgbString=function(){return t=Kh(this.rgba),n=t.r,i=t.g,o=t.b,(l=t.a)<1?"rgba("+n+", "+i+", "+o+", "+l+")":"rgb("+n+", "+i+", "+o+")";var t,n,i,o,l},e.prototype.toHsl=function(){return H0(Xl(this.rgba))},e.prototype.toHslString=function(){return t=H0(Xl(this.rgba)),n=t.h,i=t.s,o=t.l,(l=t.a)<1?"hsla("+n+", "+i+"%, "+o+"%, "+l+")":"hsl("+n+", "+i+"%, "+o+"%)";var t,n,i,o,l},e.prototype.toHsv=function(){return t=t1(this.rgba),{h:Nt(t.h),s:Nt(t.s),v:Nt(t.v),a:Nt(t.a,3)};var t},e.prototype.invert=function(){return it({r:255-(t=this.rgba).r,g:255-t.g,b:255-t.b,a:t.a});var t},e.prototype.saturate=function(t){return t===void 0&&(t=.1),it(qh(this.rgba,t))},e.prototype.desaturate=function(t){return t===void 0&&(t=.1),it(qh(this.rgba,-t))},e.prototype.grayscale=function(){return it(qh(this.rgba,-1))},e.prototype.lighten=function(t){return t===void 0&&(t=.1),it(K0(this.rgba,t))},e.prototype.darken=function(t){return t===void 0&&(t=.1),it(K0(this.rgba,-t))},e.prototype.rotate=function(t){return t===void 0&&(t=15),this.hue(this.hue()+t)},e.prototype.alpha=function(t){return typeof t=="number"?it({r:(n=this.rgba).r,g:n.g,b:n.b,a:t}):Nt(this.rgba.a,3);var n},e.prototype.hue=function(t){var n=Xl(this.rgba);return typeof t=="number"?it({h:t,s:n.s,l:n.l,a:n.a}):Nt(n.h)},e.prototype.isEqual=function(t){return this.toHex()===it(t).toHex()},e}(),it=function(e){return e instanceof q0?e:new q0(e)};const Wr=Rr()(e=>({undoStack:[],redoStack:[],push:t=>e(n=>({undoStack:[...n.undoStack,t],redoStack:[]})),clear:()=>e({undoStack:[],redoStack:[]})})),Pn=Rr()(e=>({selected:[],origin:new Ae,origins:[],highlighted:void 0,isMoving:!1,outlines:{origin:new Ae},originTranslations:{shape:new Ae,border:new Ae},setIsMoving:t=>e(n=>({...n,isMoving:t})),setOrigins:t=>e(n=>({...n,origins:t})),setHighlight:(t,n)=>e(i=>qE(i,t,n)),clearHighlight:()=>e(t=>GE(t)),clearSelected:()=>e(t=>JE(t)),addHighlightToSelection:t=>e(n=>QE(n,t))}));function qE(e,t,n){const i=e.outlines;return e.highlighted=t,i.highlight||(i.highlight=r1(0,0,0,0)),i.highlight.translation.x=n.x,i.highlight.translation.y=n.y,i.highlight.width=n.width,i.highlight.height=n.height,i.highlight.visible=!0,e}function GE(e){const t=e.outlines;return e.highlighted=void 0,t.highlight&&(t.highlight.remove(),t.highlight=void 0),e}function QE(e,t){const n=e.outlines,i=e.highlighted;if(n.selected||(n.selected=r1(0,0,0,0)),!i)return t?{...e}:(n.selected.remove(),n.selected=void 0,{...e,selected:[]});let o=[...e.selected];const l=e.selected.find(a=>a.id===(i==null?void 0:i.id));return t&&l?o=o.filter(a=>a.id!==i.id):t&&!l?o.push(i):!t&&!l&&(o=[i]),ZE(o,n.selected),{...e,selected:o}}function ZE(e,t){const n=Ue(),i=e.map(m=>m.getBoundingClientRect()),o=Math.min(...i.map(m=>m.left)),l=Math.min(...i.map(m=>m.top)),a=Math.max(...i.map(m=>m.right)),c=Math.max(...i.map(m=>m.bottom)),h=a-o,d=c-l,g=n.zui.clientToSurface({x:o+h/2,y:l+d/2});t.translation.x=g.x,t.translation.y=g.y,t.width=h/n.zui.scale,t.height=d/n.zui.scale,t.visible=!0}function JE(e){return e.outlines.selected&&(e.outlines.selected.remove(),e.outlines.selected=void 0),{...e,selected:[]}}function G0(){const{setToolOption:e}=ze.getState(),{setIsMoving:t,setOrigins:n,outlines:i}=Pn.getState(),o=Pn.getState().selected;t(!0),e("moving");const l=o.map(a=>a.translation.clone());i.selected&&i.origin.set(i.selected.translation.x,i.selected.translation.y),i.highlight&&(i.highlight.remove(),i.highlight=void 0),n(l)}function e3(e){const t=Ue(),{origin:n,addHighlightToSelection:i,clearSelected:o,outlines:l}=Pn.getState(),a=Wo(e),c=Kr(e);n.set(a.x,a.y);let h=!1;if(l.highlight&&l.highlight.visible){const g=l.highlight.getBoundingClientRect();h=N0(c,g)}if(h&&(i(e.shiftKey),Pn.getState().selected.length)){G0(),t.throttledTwoUpdate();return}let d=!1;if(l.selected&&l.selected.visible){const g=l.selected.getBoundingClientRect();d=N0(c,g)}if(d){G0(),t.throttledTwoUpdate();return}e.shiftKey||o(),t.throttledTwoUpdate()}function t3(e){const{isMoving:t}=Pn.getState();t?r3(e):i1(e)}function n3(e){const{isMoving:t,setIsMoving:n,selected:i,origins:o}=Pn.getState(),{setToolOption:l}=ze.getState(),a=Ue();if(t&&i.length&&o.length===i.length)for(let c=0;c<i.length;c++){const h=i[c],d=o[c];Pc({type:"update",label:"Move shape",shapeId:h.id,changes:[{field:"translation.x",oldValue:d.x,newValue:h.translation.x},{field:"translation.y",oldValue:d.y,newValue:h.translation.y}]})}n(!1),l(""),a.throttledTwoUpdate()}function r1(e,t,n,i){const o=Ue(),l=o.two.makeRectangle(e,t,n,i);return l.stroke="#0ea5cf",l.noFill(),l.linewidth=1.5/o.zui.scale,l.scale=1.01,l.isHighlight=!0,o.canvas.add(l),l}function r3(e){const t=Ue(),{outlines:n,origins:i,origin:o,selected:l}=Pn.getState(),a=Wo(e);if(l.length===i.length){var c=a.x-o.x,h=a.y-o.y;for(let d=0;d<l.length;++d){const g=l[d],m=i[d];g.translation.x=m.x+c,g.translation.y=m.y+h}n.selected&&(n.selected.translation.x=n.origin.x+c,n.selected.translation.y=n.origin.y+h),t.throttledTwoUpdate()}}function i1(e){const t=Ue(),{doodles:n}=rn.getState(),{highlighted:i,setHighlight:o,clearHighlight:l}=Pn.getState(),a=Kr(e);for(const c of n){const h=c.shape;if(!h.getBoundingClientRect)continue;const d=h.getBoundingClientRect(!1);if(!sp(a.x,a.y,d.left,d.top,d.right,d.bottom)||h.isHighlight)continue;if(i===h)return;const m=t.zui.clientToSurface({x:d.left+d.width/2,y:d.top+d.height/2}),v={x:m.x,y:m.y,width:d.width/t.zui.scale,height:d.height/t.zui.scale};o(h,v),t.throttledTwoUpdate();return}l(),t.throttledTwoUpdate()}function lp(e){const{doodles:t}=rn.getState();return t.find(n=>n.shape.id===e)}function s1(){const{clearSelected:e,clearHighlight:t}=Pn.getState();e(),t()}function o1(e,t,n){const i=t.split(".");i.length===2?e[i[0]][i[1]]=n:e[t]=n}function l1(e){const t=Ue(),{doodles:n,setDoodles:i}=rn.getState();i([...n,e]),t.canvas.add(e.shape)}function a1(e){const t=Ue(),n=lp(e);if(!n)return;const{doodles:i,setDoodles:o}=rn.getState();o(i.filter(l=>l.shape.id!==e)),t.canvas.remove(n.shape)}function i3(e){switch(e.type){case"create":{const t=ip(e.doodle);l1(t);break}case"remove":{a1(e.doodle.id);break}case"update":{const t=lp(e.shapeId);if(!t)return;for(const n of e.changes)o1(t.shape,n.field,n.newValue);break}}}function s3(e){switch(e.type){case"create":{a1(e.doodle.id);break}case"remove":{const t=ip(e.doodle);l1(t);break}case"update":{const t=lp(e.shapeId);if(!t)return;for(const n of e.changes)o1(t.shape,n.field,n.oldValue);break}}}function Pc(e){Wr.getState().push(e)}function ap(){const{undoStack:e}=Wr.getState();if(e.length===0)return;const t=e[e.length-1];Wr.setState(n=>({undoStack:n.undoStack.slice(0,-1),redoStack:[...n.redoStack,t]})),s1(),s3(t),Ue().throttledTwoUpdate()}function up(){const{redoStack:e}=Wr.getState();if(e.length===0)return;const t=e[e.length-1];Wr.setState(n=>({redoStack:n.redoStack.slice(0,-1),undoStack:[...n.undoStack,t]})),s1(),i3(t),Ue().throttledTwoUpdate()}function Fs(e,t){Pc({type:"create",label:e,doodle:rp(t)})}function o3(e,t){Pc({type:"remove",label:e,doodle:rp(t)})}const pi=Rr()(fc(e=>({strokeWidth:5,tolerance:30,stabilizer:1,strokeColor:{r:33,g:33,b:33,a:1},simplifyAlgo:"triangle",setStrokeColor:t=>e(()=>({strokeColor:t})),setStrokeWidth:t=>e(()=>({strokeWidth:t})),setTolerance:t=>e(()=>({tolerance:t})),setStabilizer:t=>e(()=>({stabilizer:t})),setSimplifyAlgo:t=>e(()=>({simplifyAlgo:t}))}),{name:"brush-tool",version:1}));let Md=new Ae,As,ut;function l3(e){const t=Ue(),{strokeWidth:n,strokeColor:i}=pi.getState(),o=it(i).toRgbString(),l=t.zui.clientToSurface(Kr(e));Md.set(l.x,l.y),ut=void 0,(i==null?void 0:i.a)===1&&(As=t.two.makeCircle(l.x,l.y,n/2),As.fill=o,As.noStroke(),t.canvas.add(As)),t.throttledTwoUpdate()}function a3(e){const t=Ue(),{strokeColor:n,strokeWidth:i,stabilizer:o}=pi.getState(),l=it(n).toRgbString(),a=Wo(e,t.zui);if(ut){let c=!1;if(ut.vertices.length){const h=ut.vertices[ut.vertices.length-1];xe.Vector.distanceBetween(h,a)<o&&(c=!0)}c||ut.vertices.push(Uu(a))}else{ut=t.two.makeCurve([Uu(Md),Uu(a)],!0),ut.cap="round",ut.noFill().stroke=l,ut.linewidth=i;for(const c of ut.vertices)c.addSelf(ut.position);ut.position.clear(),t.addDoodle({shape:ut,type:"brush"})}Md.set(a.x,a.y),t.throttledTwoUpdate()}function u3(e){const t=Ue(),{tolerance:n,simplifyAlgo:i}=pi.getState();if(!ut)return;As&&(t.canvas.remove(As),As=void 0);const o=t.zui.clientToSurface(Kr(e));if(ut.vertices.push(Uu(o)),c3(ut),n!==0)if(i==="douglas"){const l=n/100,a=$E(ut.vertices,l);ut.vertices=a}else{const l=Math.floor((100-n)*ut.vertices.length/100),a=jE(DE(i),ut.vertices,l);ut.vertices=a}t.throttledTwoUpdate(),Fs("Draw brush stroke",{shape:ut,type:"brush"})}function c3(e){const t=e.vertices[0].clone();e.translation.add(t);for(const n of e.vertices)n.subSelf(t)}function Uu({x:e,y:t}){var n=new xe.Anchor(e,t);return n}const No="http://www.w3.org/2000/svg";let pt=null,en=null,Xi=null,Oc=20,Io="dots",Kl="rgba(0,0,0,0.15)",cp=.5,Lc=1,Fc=0,Nc=0;function u1(e){return`rgba(${e.r},${e.g},${e.b},${e.a})`}function c1(){if(!pt)return;for(;pt.firstChild;)pt.removeChild(pt.firstChild);const e=Oc;if(Io==="dots"){const t=document.createElementNS(No,"circle");t.setAttribute("cx",String(e/2)),t.setAttribute("cy",String(e/2)),t.setAttribute("r","1"),t.setAttribute("fill",Kl),pt.appendChild(t)}else{const t=document.createElementNS(No,"line");t.setAttribute("x1","0"),t.setAttribute("y1",String(e)),t.setAttribute("x2",String(e)),t.setAttribute("y2",String(e)),t.setAttribute("stroke",Kl),t.setAttribute("stroke-width","1"),pt.appendChild(t);const n=document.createElementNS(No,"line");n.setAttribute("x1",String(e)),n.setAttribute("y1","0"),n.setAttribute("x2",String(e)),n.setAttribute("y2",String(e)),n.setAttribute("stroke",Kl),n.setAttribute("stroke-width","1"),pt.appendChild(n)}}function f3(e,t,n,i,o){Oc=t,Io=n,Kl=u1(i),cp=o/100,Xi=document.createElementNS(No,"defs"),pt=document.createElementNS(No,"pattern"),pt.setAttribute("id","dot-grid-pattern"),pt.setAttribute("patternUnits","userSpaceOnUse"),pt.setAttribute("width",String(t)),pt.setAttribute("height",String(t)),c1(),Xi.appendChild(pt),en=document.createElementNS(No,"rect"),en.setAttribute("id","dot-grid-rect"),en.setAttribute("width","100%"),en.setAttribute("height","100%"),en.setAttribute("fill","url(#dot-grid-pattern)"),n==="none"&&en.setAttribute("display","none"),e.insertBefore(Xi,e.firstChild),e.insertBefore(en,Xi.nextSibling)}function aa(e,t,n){if(!pt||!en)return;if(Lc=e,Fc=t,Nc=n,Io!=="none"&&e<cp){en.setAttribute("display","none");return}else Io!=="none"&&en.setAttribute("display","block");const i=Oc*e;if(pt.setAttribute("x",String(t%i)),pt.setAttribute("y",String(n%i)),pt.setAttribute("width",String(i)),pt.setAttribute("height",String(i)),Io==="dots"){const o=pt.querySelector("circle");o&&(o.setAttribute("cx",String(i/2)),o.setAttribute("cy",String(i/2)),o.setAttribute("r",String(Math.min(Math.max(e,.5),2))))}else{const o=pt.querySelectorAll("line"),l=o[0],a=o[1];l&&(l.setAttribute("x2",String(i)),l.setAttribute("y1",String(i)),l.setAttribute("y2",String(i)),l.setAttribute("stroke-width",String(Math.min(Math.max(e*.5,.3),1)))),a&&(a.setAttribute("x1",String(i)),a.setAttribute("x2",String(i)),a.setAttribute("y2",String(i)),a.setAttribute("stroke-width",String(Math.min(Math.max(e*.5,.3),1))))}}function h3(e){Oc=e,fp()}function Qh(e){Io=e,en&&en.setAttribute("display",e==="none"?"none":"block"),e!=="none"&&fp()}function d3(e){Kl=u1(e),fp()}function p3(e){cp=e/100,aa(Lc,Fc,Nc)}function fp(){pt&&(c1(),aa(Lc,Fc,Nc))}function g3(){Xi==null||Xi.remove(),en==null||en.remove(),pt=null,en=null,Xi=null,Lc=1,Fc=0,Nc=0}let Vu=new xe.Vector;function Q0(e){Vu.set(e.clientX,e.clientY)}function m3(e){var t=e.clientX-Vu.x,n=e.clientY-Vu.y;Vu.set(e.clientX,e.clientY),f1(t,n)}function f1(e,t){const n=Ue();n.zui.translateSurface(e,t);const i=n.zui.surfaceMatrix.elements;aa(n.zui.scale,i[2],i[5]),n.throttledTwoUpdate()}function h1(e){const t=Ue(),{doodles:n}=rn.getState(),{clearHighlight:i}=Pn.getState(),o=Kr(e);for(const l of n){const a=l.shape.getBoundingClientRect(!1);if(sp(o.x,o.y,a.left,a.top,a.right,a.bottom)){o3("Delete shape",l),t.removeDoodle(l),i(),t.throttledTwoUpdate();return}}}const Yi=Rr()(e=>({shape:void 0,origin:new Ae,strokeWidth:2,radius:0,strokeColor:{r:0,g:0,b:0,a:1},fillColor:{r:255,g:255,b:255,a:1},setShape:t=>e(()=>({shape:t})),setStrokeColor:t=>e(()=>({strokeColor:t})),setFillColor:t=>e(()=>({fillColor:t})),setStrokeWidth:t=>e(()=>({strokeWidth:t})),setRadius:t=>e(()=>({radius:t}))}));function y3(e){const t=Ue(),{setShape:n,origin:i,fillColor:o,strokeColor:l,strokeWidth:a,radius:c}=Yi.getState(),h=t.zui.clientToSurface(Kr(e));i.set(h.x,h.y);const d=t.two.makeRoundedRectangle(h.x,h.y,1,1,c);d.stroke=it(l).toRgbString(),d.fill=it(o).toRgbString(),a?d.linewidth=a:d.noStroke(),t.addDoodle({shape:d,type:"rect"}),n(d),t.throttledTwoUpdate()}function _3(e){const t=Ue(),{shape:n,origin:i}=Yi.getState(),o=Wo(e,t.zui);if(n){const l=n.width,a=n.height;n.width=o.x-i.x,n.height=o.y-i.y;const c={x:(n.width-l)/2,y:(n.height-a)/2};n.position.x+=c.x,n.position.y+=c.y,t.throttledTwoUpdate()}}function v3(){const{shape:e,setShape:t}=Yi.getState();e&&Fs("Draw rectangle",{shape:e,type:"rect"}),t(void 0)}const Ki=Rr()(fc(e=>({line:void 0,arrowHead:void 0,arrowTail:void 0,origin:new Ae,strokeWidth:3,strokeColor:{r:33,g:33,b:33,a:1},hasArrow:!1,doubleArrow:!1,setLine:t=>e(()=>({line:t})),setArrowHead:t=>e(()=>({arrowHead:t})),setArrowTail:t=>e(()=>({arrowTail:t})),setStrokeWidth:t=>e(()=>({strokeWidth:t})),setStrokeColor:t=>e(()=>({strokeColor:t})),setHasArrow:t=>e(()=>({hasArrow:t})),setDoubleArrow:t=>e(()=>({doubleArrow:t}))}),{name:"line-tool",version:1,partialize:e=>({strokeWidth:e.strokeWidth,strokeColor:e.strokeColor})}));function x3(e){const t=Ue(),{setLine:n,setArrowHead:i,setArrowTail:o,origin:l,strokeColor:a,strokeWidth:c,hasArrow:h,doubleArrow:d}=Ki.getState(),g=t.zui.clientToSurface(Kr(e));l.set(g.x,g.y);const m=it(a).toRgbString(),v=new xe.Anchor(g.x,g.y),y=new xe.Anchor(g.x,g.y),x=new sn([v,y],!1,!1);x.cap="round",x.noFill().stroke=m,x.linewidth=c;const b=h?"arrow":"line";if(t.addDoodle({shape:x,type:b}),n(x),h){const S=Z0(g,g,c,m);if(t.addDoodle({shape:S,type:"arrow"}),i(S),d){const k=Z0(g,g,c,m);t.addDoodle({shape:k,type:"arrow"}),o(k)}}t.throttledTwoUpdate()}function w3(e){const t=Ue(),{line:n,arrowHead:i,arrowTail:o,hasArrow:l,strokeWidth:a}=Ki.getState();if(!n)return;const c=Wo(e,t.zui),h=n.vertices[0],d=n.vertices[1];d.x=c.x,d.y=c.y,l&&i&&J0(i,h,c,a),l&&o&&J0(o,c,h,a),t.throttledTwoUpdate()}function b3(){const{line:e,arrowHead:t,arrowTail:n,hasArrow:i,setLine:o,setArrowHead:l,setArrowTail:a}=Ki.getState();e&&Fs(i?"Draw arrow":"Draw line",{shape:e,type:i?"arrow":"line"}),i&&t&&Fs("Draw arrowhead",{shape:t,type:"arrow"}),i&&n&&Fs("Draw arrowhead",{shape:n,type:"arrow"}),o(void 0),l(void 0),a(void 0)}function Z0(e,t,n,i){const o=Math.max(n*3,10),l=Math.atan2(t.y-e.y,t.x-e.x),a=new xe.Anchor(t.x,t.y),c=new xe.Anchor(t.x-o*Math.cos(l-Math.PI/6),t.y-o*Math.sin(l-Math.PI/6)),h=new xe.Anchor(t.x-o*Math.cos(l+Math.PI/6),t.y-o*Math.sin(l+Math.PI/6)),d=new sn([a,c,h],!1,!1);return d.closed=!0,d.fill=i,d.noStroke(),d}function J0(e,t,n,i){const o=Math.max(i*3,10),l=Math.atan2(n.y-t.y,n.x-t.x),a=e.vertices[0],c=e.vertices[1],h=e.vertices[2];a.x=n.x,a.y=n.y,c.x=n.x-o*Math.cos(l-Math.PI/6),c.y=n.y-o*Math.sin(l-Math.PI/6),h.x=n.x-o*Math.cos(l+Math.PI/6),h.y=n.y-o*Math.sin(l+Math.PI/6)}const Hl=Rr()(fc(e=>({fontSize:24,fontFamily:"sans-serif",fillColor:{r:33,g:33,b:33,a:1},alignment:"left",setFontSize:t=>e(()=>({fontSize:t})),setFontFamily:t=>e(()=>({fontFamily:t})),setFillColor:t=>e(()=>({fillColor:t})),setAlignment:t=>e(()=>({alignment:t}))}),{name:"text-tool",version:1}));let Zh;function k3(e){if(Zh)return;e.preventDefault();const t=Ue(),{fontSize:n,fontFamily:i,fillColor:o,alignment:l}=Hl.getState(),a=t.zui.clientToSurface(Kr(e)),c=t.zui.scale,h=it(o).toRgbString(),d=document.createElement("div");d.contentEditable="true",d.style.position="fixed",d.style.left=`${e.clientX}px`,d.style.top=`${e.clientY}px`,d.style.fontSize=`${n*c}px`,d.style.fontFamily=i,d.style.color=h,d.style.textAlign=l,d.style.background="transparent",d.style.border="1px dashed #0ea5cf",d.style.outline="none",d.style.minWidth="60px",d.style.minHeight=`${n*c+8}px`,d.style.lineHeight="1.2",d.style.zIndex="10000",d.style.whiteSpace="pre-wrap",d.style.cursor="text",Zh=d,document.body.appendChild(d),d.addEventListener("mousedown",v=>v.stopPropagation()),requestAnimationFrame(()=>d.focus());function g(){const v=(d.innerText||"").trim();if(v){const y=new ac(v,a.x,a.y+n/2);y.fill=h,y.noStroke(),y.family=i,y.size=n,y.alignment=l,t.addDoodle({shape:y,type:"text"}),Fs("Add text",{shape:y,type:"text"}),t.throttledTwoUpdate()}m()}function m(){d.parentNode&&d.parentNode.removeChild(d),Zh=void 0}d.addEventListener("blur",()=>{g()}),d.addEventListener("keydown",v=>{v.key==="Enter"&&!v.shiftKey&&(v.preventDefault(),d.blur()),v.key==="Escape"&&(v.preventDefault(),m()),v.stopPropagation()})}const Ic=Rr()(e=>({zoom:100,setZoom:t=>e(n=>({...n,zoom:t})),initialDistance:void 0,setInitialDistance:t=>e(n=>({...n,initialDistance:t}))}));function Ad(e,t){const n=Ue(),{setZoom:i}=Ic.getState();var o=t/100;n.zui.zoomBy(o,e.clientX,e.clientY),i(Math.floor(n.zui.scale*100));const{outlines:l}=Pn.getState();for(const c of Object.values(l))c&&(c.linewidth=1.5/n.zui.scale);const a=n.zui.surfaceMatrix.elements;aa(n.zui.scale,a[2],a[5]),n.throttledTwoUpdate()}function S3(){const e=Ue(),{setZoom:t}=Ic.getState();e.zui.reset(),e.zui.translateSurface(0,0),t(100),aa(1,0,0),e.two.update(),e.throttledTwoUpdate()}const Jh=Math.cos,ed=Math.sin,hi=class hi extends sn{constructor(n,i,o,l){const a=l?Math.max(l,2):4,c=[];for(let h=0;h<a;h++)c.push(new hn(0,0,0,0,0,0));super(c,!0,!0,!0);B(this,"_flagRadius",!1);B(this,"_radius",0);this._renderer.type="circle";for(let h in e_)Object.defineProperty(this,h,e_[h]);typeof o=="number"&&(this.radius=o),this._update(),typeof n=="number"&&(this.translation.x=n),typeof i=="number"&&(this.translation.y=i)}static fromObject(n){const i=new hi().copy(n);return"id"in n&&(i.id=n.id),i}copy(n){super.copy.call(this,n);for(let i=0;i<hi.Properties.length;i++){const o=hi.Properties[i];o in n&&typeof n[o]=="number"&&(this[o]=n[o])}return this}_update(){if(this._flagVertices||this._flagRadius){let n=this.vertices.length;!this._closed&&n>2&&(n-=1);const i=4/3*Math.tan(Math.PI/(n*2)),o=this._radius,l=o*i;for(let a=0;a<this.vertices.length;a++){const h=a/n*DS,d=o*Jh(h),g=o*ed(h),m=l*Jh(h-Oo),v=l*ed(h-Oo),y=l*Jh(h+Oo),x=l*ed(h+Oo),b=this.vertices[a];b.command=a===0?Ge.move:Ge.curve,b.set(d,g),b.controls.left.set(m,v),b.controls.right.set(y,x)}}return super._update.call(this),this}flagReset(){return this._flagRadius=!1,super.flagReset.call(this),this}clone(n){const i=new hi(0,0,this.radius,this.vertices.length);i.translation.copy(this.translation),i.rotation=this.rotation,i.scale=this.scale,i.skewX=this.skewX,i.skewY=this.skewY,this.matrix.manual&&i.matrix.copy(this.matrix);for(let o=0;o<sn.Properties.length;o++){const l=sn.Properties[o];i[l]=this[l]}return n&&n.add(i),i}toObject(){const n=super.toObject.call(this);n.renderer.type="circle";for(let i=0;i<hi.Properties.length;i++){const o=hi.Properties[i];n[o]=this[o]}return n}};B(hi,"Properties",["radius"]);let Pd=hi;const e_={radius:{enumerable:!0,get:function(){return this._radius},set:function(e){this._radius=e,this._flagRadius=!0}}},Mn=Rr()(e=>({path:void 0,preview:void 0,handleLine:void 0,anchorDots:[],currentAnchor:void 0,isDragging:!1,fillColor:{r:255,g:255,b:255,a:1},strokeWidth:3,strokeColor:{r:33,g:33,b:33,a:1},setPath:t=>e(()=>({path:t})),setFillColor:t=>e(()=>({fillColor:t})),setStrokeWidth:t=>e(()=>({strokeWidth:t})),setStrokeColor:t=>e(()=>({strokeColor:t}))}));let t_=!1;function E3(){t_||(t_=!0,ze.subscribe((e,t)=>{t.selectedTool==="bezier"&&e.selectedTool!=="bezier"&&hp()}))}const C3=15,R3=4;function n_(e,t){const n=new Pd(e,t,R3);return n.fill=Rd,n.noStroke(),n}function T3(e,t){const n=e.x-t.x,i=e.y-t.y;return Math.sqrt(n*n+i*i)}function M3(e){E3();const t=Ue(),n=Mn.getState(),i=t.zui.clientToSurface(Kr(e));if(n.path&&n.path.vertices.length>=3){const c=n.path.vertices[0];if(T3(i,c)<C3){n.path.closed=!0,hp();return}}const{strokeColor:o,strokeWidth:l}=n,a=it(o).toRgbString();if(n.path){const c=new xe.Anchor(i.x,i.y,0,0,0,0,"C");n.path.vertices.push(c);const h=n_(i.x,i.y);t.canvas.add(h),Mn.setState({anchorDots:[...n.anchorDots,h],currentAnchor:c,isDragging:!0})}else{const c=new xe.Anchor(i.x,i.y,0,0,0,0,"M"),h=new sn([c],!1,!1,!0);h.cap="round",h.join="round",h.noFill().stroke=a,h.linewidth=l,t.canvas.add(h);const d=new sn([new xe.Anchor(i.x,i.y),new xe.Anchor(i.x,i.y)],!1,!1);d.noFill().stroke=Rd,d.linewidth=1,t.canvas.add(d);const g=new sn([new xe.Anchor(i.x,i.y),new xe.Anchor(i.x,i.y),new xe.Anchor(i.x,i.y)],!1,!1);g.noFill().stroke=Rd,g.linewidth=1,t.canvas.add(g);const m=n_(i.x,i.y);t.canvas.add(m),Mn.setState({path:h,preview:d,handleLine:g,anchorDots:[m],currentAnchor:c,isDragging:!0})}t.throttledTwoUpdate()}function A3(e){const t=Mn.getState();if(!t.path)return;const n=Ue(),i=n.zui.clientToSurface(Kr(e));if(t.isDragging&&t.currentAnchor){const o=t.currentAnchor.x,l=t.currentAnchor.y,a=i.x-o,c=i.y-l;if(t.currentAnchor.controls.right.x=a,t.currentAnchor.controls.right.y=c,t.currentAnchor.controls.left.x=-a,t.currentAnchor.controls.left.y=-c,t.handleLine){const h=t.handleLine.vertices;h[0].x=o-a,h[0].y=l-c,h[1].x=o,h[1].y=l,h[2].x=i.x,h[2].y=i.y}}else{const o=t.path.vertices[t.path.vertices.length-1];t.preview&&o&&(t.preview.vertices[0].x=o.x,t.preview.vertices[0].y=o.y,t.preview.vertices[1].x=i.x,t.preview.vertices[1].y=i.y)}n.throttledTwoUpdate()}function P3(){const e=Mn.getState();if(!e.path)return;if(e.handleLine&&e.currentAnchor){const n=e.currentAnchor.x,i=e.currentAnchor.y,o=e.handleLine.vertices;o[0].x=n,o[0].y=i,o[1].x=n,o[1].y=i,o[2].x=n,o[2].y=i}Mn.setState({isDragging:!1}),Ue().throttledTwoUpdate()}function hp(){const e=Mn.getState(),t=Ue();e.path&&e.path.vertices.length>=2?(e.path.closed&&(e.path.fill=it(e.fillColor).toRgbString()),t.canvas.remove(e.path),t.addDoodle({shape:e.path,type:"bezier"}),Fs("Draw bezier curve",{shape:e.path,type:"bezier"})):e.path&&t.canvas.remove(e.path),e.preview&&t.canvas.remove(e.preview),e.handleLine&&t.canvas.remove(e.handleLine);for(const n of e.anchorDots)t.canvas.remove(n);Mn.setState({path:void 0,preview:void 0,handleLine:void 0,anchorDots:[],currentAnchor:void 0,isDragging:!1}),t.throttledTwoUpdate()}function O3(){const e=Mn.getState(),t=Ue();e.path&&t.canvas.remove(e.path),e.preview&&t.canvas.remove(e.preview),e.handleLine&&t.canvas.remove(e.handleLine);for(const n of e.anchorDots)t.canvas.remove(n);Mn.setState({path:void 0,preview:void 0,handleLine:void 0,anchorDots:[],currentAnchor:void 0,isDragging:!1}),t.throttledTwoUpdate()}function d1(e){const{selectedTool:t,setActiveTool:n,setRestoreTool:i,setSelectedTool:o}=ze.getState();if(e.button===Zv.Middle){i(t),n("hand"),o("hand"),Q0(e);return}if(n(t||"hand"),t==="hand"){Q0(e);return}if(t==="pointer"){e3(e);return}if(t==="eraser"){h1(e);return}if(t==="brush"){l3(e);return}if(t==="bezier"){M3(e);return}if(t==="square"){y3(e);return}if(t==="line"||t==="arrow"){Ki.getState().setHasArrow(t==="arrow"),x3(e);return}if(t==="text"){k3(e);return}if(t==="zoom"){e.shiftKey?Ad(e,-30):Ad(e,30);return}}const L3=_v(e=>{var o;if(!((o=rn.getState().doodler)!=null&&o.two)||!e.currentTarget)return;const t=Ue(),n=Wo(e,t==null?void 0:t.zui),{setCursor:i}=rn.getState();i(n)},16);function p1(e){const{activeTool:t,selectedTool:n}=ze.getState();if(L3(e),n==="eraser"&&t!=="eraser"&&i1(e),n==="pointer"){t3(e);return}if(n==="bezier"){A3(e);return}if(t==="hand"){m3(e);return}if(t==="eraser"){h1(e);return}if(t==="brush"){a3(e);return}if(t==="square"){_3(e);return}if(t==="line"||t==="arrow"){w3(e);return}}function g1(e){const{activeTool:t,setActiveTool:n,restoreTool:i,setRestoreTool:o,setSelectedTool:l}=ze.getState();if(t){if(i&&(l(i),o(void 0)),(t==="hand"||t==="eraser")&&n(void 0),t==="pointer"){n3(),n(void 0);return}if(t==="brush"){u3(e),n(void 0);return}if(t==="bezier"){P3(),n(void 0);return}if(t==="square"){v3(),n(void 0);return}if(t==="line"||t==="arrow"){b3(),n(void 0);return}}}function F3(e){const{setCursor:t}=rn.getState();ze.getState(),t(void 0)}function N3(e){}function I3(e){e.preventDefault(),e.ctrlKey||e.metaKey||e.altKey?Ad(e,-e.deltaY):f1(-e.deltaX,-e.deltaY)}function j3(e){e.touches.length===1&&d1(op(e))}function D3(e){e.touches.length===1&&p1(op(e))}function z3(e){g1(op(e))}function B3(){const{container:e}=rn.getState(),t=Ue();!t.two||!e||((e.clientWidth!==t.two.width||e.clientHeight!==t.two.height)&&(t.two.width=e.clientWidth,t.two.height=e.clientHeight),t==null||t.throttledTwoUpdate())}function $3(e){const t=e.target;if(t.tagName==="INPUT"||t.tagName==="TEXTAREA")return;const{selectedTool:n}=ze.getState();if(n==="bezier"){if(e.key==="Enter"){e.preventDefault(),hp();return}if(e.key==="Escape"){e.preventDefault(),O3();return}}if((e.ctrlKey||e.metaKey)&&e.shiftKey&&(e.key==="Z"||e.key==="z")){e.preventDefault(),up();return}if((e.ctrlKey||e.metaKey)&&e.key==="z"){e.preventDefault(),ap();return}}function U3(){}const Wn={doMouseWheel:I3,doMouseDown:d1,doMouseMove:p1,doMouseUp:g1,doMouseOut:F3,doMouseOver:N3,doTouchStart:j3,doTouchMove:D3,doTouchEnd:z3,doWindowResize:B3,doUpdate:U3,doKeyDown:$3};class r_{constructor(t){this.object=t}limits(t,n){const i=typeof t<"u",o=typeof n<"u";return!o&&!i?{min:this.min,max:this.max}:(this.min=i?t:this.min,this.max=o?n:this.max,this)}apply(t,n,i){return this.object.translation.set(t,n),this.object.scale=i,this}}const wr=class wr{constructor(t,n){this.limits={scale:wr.Limit.clone(),x:wr.Limit.clone(),y:wr.Limit.clone()},this.viewport=n||document.body,this.viewportOffset={top:0,left:0,matrix:new Bs},this.surfaceMatrix=new Bs,this.surfaces=[],this.reset(),this.updateSurface(),this.add(new r_(t))}static Clamp(t,n,i){return Math.min(Math.max(t,n),i)}static TranslateMatrix(t,n,i){return t.elements[2]+=n,t.elements[5]+=i,t}static PositionToScale(t){return Math.exp(t)}static ScaleToPosition(t){return Math.log(t)}add(t){this.surfaces.push(t);const n=t.limits();return this.addLimits(n.min,n.max),this}addLimits(t,n){return typeof t<"u"&&(this.limits.scale.min?this.limits.scale.min=Math.max(t,this.limits.scale.min):this.limits.scale.min=t),typeof n>"u"?this:(this.limits.scale.max?this.limits.scale.max=Math.min(n,this.limits.scale.max):this.limits.scale.max=n,this)}clientToSurface(t,n,i){this.updateOffset();const o=this.surfaceMatrix.inverse();let l,a,c;if(arguments.length===1){const g=t;l=typeof g.x=="number"?g.x:0,a=typeof g.y=="number"?g.y:0,c=typeof g.z=="number"?g.z:1}else l=typeof t=="number"?t:0,a=typeof n=="number"?n:0,c=typeof i=="number"?i:1;const h=this.viewportOffset.matrix.inverse().multiply(l,a,c),d=o.multiply(h[0],h[1],h[2]);return{x:d[0],y:d[1],z:d[2]}}surfaceToClient(t,n,i){this.updateOffset();const o=this.viewportOffset.matrix.clone();let l,a,c;if(arguments.length===1){const g=t;l=typeof g.x=="number"?g.x:0,a=typeof g.y=="number"?g.y:0,c=typeof g.z=="number"?g.z:1}else l=typeof t=="number"?t:0,a=typeof n=="number"?n:0,c=typeof i=="number"?i:1;const h=this.surfaceMatrix.multiply(l,a,c),d=o.multiply(h[0],h[1],h[2]);return{x:d[0],y:d[1],z:d[2]}}zoomBy(t,n,i){const o=wr.PositionToScale(this.zoom+t);return this.zoomSet(o,n,i),this}zoomSet(t,n,i){const o=this.fitToLimits(t);if(this.zoom=wr.ScaleToPosition(o),o===this.scale)return this;const l=this.clientToSurface(n,i),a=o/this.scale;this.surfaceMatrix.scale(a),this.scale=o;const c=this.surfaceToClient(l),h=n-c.x,d=i-c.y;return this.translateSurface(h,d),this}translateSurface(t,n){return wr.TranslateMatrix(this.surfaceMatrix,t,n),this.updateSurface(),this}updateOffset(){const t=this.viewport.getBoundingClientRect();return this.viewportOffset.left=t.left-document.body.scrollLeft,this.viewportOffset.top=t.top-document.body.scrollTop,this.viewportOffset.matrix.identity().translate(this.viewportOffset.left,this.viewportOffset.top),this}updateSurface(){const t=this.surfaceMatrix.elements;for(let n=0;n<this.surfaces.length;n++)this.surfaces[n].apply(t[2],t[5],t[0]);return this}reset(){return this.zoom=0,this.scale=1,this.surfaceMatrix.identity(),this}fitToLimits(t){return wr.Clamp(t,this.limits.scale.min,this.limits.scale.max)}};B(wr,"Surface",r_),B(wr,"Limit",{min:-1/0,max:1/0,clone:function(){const t={};for(let n in this)t[n]=this[n];return t}});let Od=wr;const V3=(e,t,n)=>{E.useEffect(()=>{const{setContainer:i,setDoodler:o}=rn.getState();if(!e.current)return;const l=H3(e.current),a=W3(l),c=Y3(a),h=new wE({two:l,canvas:a,zui:c,sketchId:t,container:e.current});o(h),i(e.current),bE(h);const{gridSize:d,gridType:g,gridColor:m,gridMinZoom:v}=ze.getState(),y=l.renderer.domElement;f3(y,d,g,m,v),h.loadDoodles().finally(()=>n==null?void 0:n());const x=e.current;x.addEventListener("wheel",Wn.doMouseWheel,{passive:!1});const b=kE(Wn.doWindowResize,250);return window.addEventListener("resize",b),window.addEventListener("keydown",Wn.doKeyDown),()=>{window.removeEventListener("resize",b),window.removeEventListener("keydown",Wn.doKeyDown),x.removeEventListener("wheel",Wn.doMouseWheel),g3(),x.firstChild&&x.removeChild(x.firstChild),l.remove();const{setDoodles:S}=rn.getState();S([]),Wr.getState().clear()}},[e,n,t])},H3=e=>new xe({autostart:!1,fitted:!0,width:e.clientWidth,height:e.clientHeight,type:xe.Types.svg}).appendTo(e),W3=e=>{const t=new xe.Group;return e.add(t),t},Y3=e=>{const t=new Od(e);return t.addLimits(.05,100),t},X3=({sketchId:e,onReady:t})=>{const n=E.useRef(null),i=ze(h=>h.selectedTool),o=ze(h=>h.activeTool),l=ze(h=>h.toolOption),a=ze(h=>h.canvasColor),c=it(a).toHex();return V3(n,e,t),A.jsx("div",{style:{backgroundColor:c||"black"},className:"canvas-container flex-grow overflow-hidden",tabIndex:0,ref:n,"data-selected":i,"data-active":o,"data-option":l,onMouseDown:h=>Wn.doMouseDown(h),onMouseMove:h=>Wn.doMouseMove(h),onMouseUp:h=>Wn.doMouseUp(h),onMouseOut:h=>Wn.doMouseOut(h),onMouseOver:h=>Wn.doMouseOver(h),onTouchStart:h=>Wn.doTouchStart(h),onTouchMove:h=>Wn.doTouchMove(h),onTouchEnd:h=>Wn.doTouchEnd(h)})},K3=()=>{const e=rn(n=>n.cursor),t=Ic(n=>n.zoom);if(e){const n=Math.floor(e.x),i=Math.floor(e.y);return A.jsxs("div",{className:"flex justify-end py-1 px-4 text-xs gap-4",children:[A.jsxs("div",{children:[n,":",i]}),A.jsxs("div",{className:"w-24",children:[t,"%"]})]})}return null},q3=()=>{const e=rn(i=>i.doodles),t=Pn(i=>i.selected),n=E.useMemo(()=>t.map(i=>i.id),[t]);return A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"pb-1 pt-4",children:"Layers"}),A.jsx("div",{className:"h-64 overflow-y-auto scroll-smooth shadow rounded bg-default-3",children:A.jsx("div",{className:"flex flex-col  text-sm",children:e.map(i=>A.jsx(G3,{doodle:i,isSelected:n.includes(i.shape.id)},i.shape.id))})})]})},G3=({doodle:e,isSelected:t})=>A.jsxs("button",{type:"button",className:`flex items-center hover:bg-default-4 text-left ${t?"bg-secondary":""}`,children:[A.jsx("div",{className:"w-8 h-8 flex flex-center text-default-6",children:A.jsx(Q3,{type:e.type})}),A.jsx("div",{className:"flex-grow",children:e.type})]}),Q3=({type:e})=>{switch(e){case"brush":return A.jsx(O_,{stroke:1,size:16});case"circle":case"ellipse":return A.jsx(Qw,{stroke:1,size:16});case"rect":return A.jsx(S2,{stroke:1,size:16});case"line":return A.jsx(hc,{stroke:1,size:16});case"arrow":return A.jsx(T_,{stroke:1,size:16});case"text":return A.jsx(Wd,{stroke:1,size:16});default:return A.jsx(l2,{stroke:1,size:16})}},qi=E.forwardRef((e,t)=>{const{className:n,...i}=e;return A.jsx("button",{type:"button",className:`p-1 rounded hover:bg-default-3 ${n||""}`,ref:t,...i,children:e.children})});qi.displayName="Button";const dp=({children:e})=>A.jsx("div",{className:"flex  border border-default-4 rounded overflow-hidden min-h-[26px]",children:e}),Gi=e=>{const{isSelected:t,children:n,...i}=e,o=!!t;return A.jsx("button",{type:"button",className:`p-0.5 hover:bg-default-4 ${o?"bg-default-3":""}`,"aria-pressed":o,...i,children:n})},Z3=()=>{const e=Wr(o=>o.undoStack),t=Wr(o=>o.redoStack),n=e.length>0,i=t.length>0;return A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"pb-1 pt-4 flex items-center justify-between",children:[A.jsx("span",{children:"History"}),A.jsxs("div",{className:"flex gap-1",children:[A.jsx(qi,{onClick:ap,disabled:!n,title:"Undo (Ctrl+Z)",children:A.jsx(C_,{size:16,stroke:1})}),A.jsx(qi,{onClick:up,disabled:!i,title:"Redo (Ctrl+Shift+Z)",children:A.jsx(R_,{size:16,stroke:1})})]})]}),A.jsx("div",{className:"h-40 overflow-y-auto scroll-smooth shadow rounded bg-default-3",children:A.jsxs("div",{className:"flex flex-col text-sm",children:[[...t].reverse().map((o,l)=>A.jsx(td,{command:o,variant:"future"},`redo-${l}`)),e.length>0&&A.jsx(td,{command:e[e.length-1],variant:"current"},"current"),[...e].slice(0,-1).reverse().map((o,l)=>A.jsx(td,{command:o,variant:"past"},`undo-${l}`))]})})]})},td=({command:e,variant:t})=>A.jsx("div",{className:`px-2 py-0.5 text-xs ${t==="current"?"bg-secondary":t==="future"?"opacity-40":"opacity-70"}`,children:e.label});function jc(){return(jc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function m1(e,t){if(e==null)return{};var n,i,o={},l=Object.keys(e);for(i=0;i<l.length;i++)t.indexOf(n=l[i])>=0||(o[n]=e[n]);return o}function Ld(e){var t=E.useRef(e),n=E.useRef(function(i){t.current&&t.current(i)});return t.current=e,n.current}var Uo=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=1),e>n?n:e<t?t:e},ql=function(e){return"touches"in e},Fd=function(e){return e&&e.ownerDocument.defaultView||self},i_=function(e,t,n){var i=e.getBoundingClientRect(),o=ql(t)?function(l,a){for(var c=0;c<l.length;c++)if(l[c].identifier===a)return l[c];return l[0]}(t.touches,n):t;return{left:Uo((o.pageX-(i.left+Fd(e).pageXOffset))/i.width),top:Uo((o.pageY-(i.top+Fd(e).pageYOffset))/i.height)}},s_=function(e){!ql(e)&&e.preventDefault()},pp=st.memo(function(e){var t=e.onMove,n=e.onKey,i=m1(e,["onMove","onKey"]),o=E.useRef(null),l=Ld(t),a=Ld(n),c=E.useRef(null),h=E.useRef(!1),d=E.useMemo(function(){var y=function(S){s_(S),(ql(S)?S.touches.length>0:S.buttons>0)&&o.current?l(i_(o.current,S,c.current)):b(!1)},x=function(){return b(!1)};function b(S){var k=h.current,w=Fd(o.current),C=S?w.addEventListener:w.removeEventListener;C(k?"touchmove":"mousemove",y),C(k?"touchend":"mouseup",x)}return[function(S){var k=S.nativeEvent,w=o.current;if(w&&(s_(k),!function(M,P){return P&&!ql(M)}(k,h.current)&&w)){if(ql(k)){h.current=!0;var C=k.changedTouches||[];C.length&&(c.current=C[0].identifier)}w.focus(),l(i_(w,k,c.current)),b(!0)}},function(S){var k=S.which||S.keyCode;k<37||k>40||(S.preventDefault(),a({left:k===39?.05:k===37?-.05:0,top:k===40?.05:k===38?-.05:0}))},b]},[a,l]),g=d[0],m=d[1],v=d[2];return E.useEffect(function(){return v},[v]),st.createElement("div",jc({},i,{onTouchStart:g,onMouseDown:g,className:"react-colorful__interactive",ref:o,onKeyDown:m,tabIndex:0,role:"slider"}))}),Dc=function(e){return e.filter(Boolean).join(" ")},gp=function(e){var t=e.color,n=e.left,i=e.top,o=i===void 0?.5:i,l=Dc(["react-colorful__pointer",e.className]);return st.createElement("div",{className:l,style:{top:100*o+"%",left:100*n+"%"}},st.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},pn=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=Math.pow(10,t)),Math.round(n*e)/n},y1=function(e){var t=e.s,n=e.v,i=e.a,o=(200-t)*n/100;return{h:pn(e.h),s:pn(o>0&&o<200?t*n/100/(o<=100?o:200-o)*100:0),l:pn(o/2),a:pn(i,2)}},Nd=function(e){var t=y1(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},nd=function(e){var t=y1(e);return"hsla("+t.h+", "+t.s+"%, "+t.l+"%, "+t.a+")"},J3=function(e){var t=e.h,n=e.s,i=e.v,o=e.a;t=t/360*6,n/=100,i/=100;var l=Math.floor(t),a=i*(1-n),c=i*(1-(t-l)*n),h=i*(1-(1-t+l)*n),d=l%6;return{r:pn(255*[i,c,a,a,h,i][d]),g:pn(255*[h,i,i,c,a,a][d]),b:pn(255*[a,a,h,i,i,c][d]),a:pn(o,2)}},e4=function(e){var t=e.r,n=e.g,i=e.b,o=e.a,l=Math.max(t,n,i),a=l-Math.min(t,n,i),c=a?l===t?(n-i)/a:l===n?2+(i-t)/a:4+(t-n)/a:0;return{h:pn(60*(c<0?c+6:c)),s:pn(l?a/l*100:0),v:pn(l/255*100),a:o}},t4=st.memo(function(e){var t=e.hue,n=e.onChange,i=Dc(["react-colorful__hue",e.className]);return st.createElement("div",{className:i},st.createElement(pp,{onMove:function(o){n({h:360*o.left})},onKey:function(o){n({h:Uo(t+360*o.left,0,360)})},"aria-label":"Hue","aria-valuenow":pn(t),"aria-valuemax":"360","aria-valuemin":"0"},st.createElement(gp,{className:"react-colorful__hue-pointer",left:t/360,color:Nd({h:t,s:100,v:100,a:1})})))}),n4=st.memo(function(e){var t=e.hsva,n=e.onChange,i={backgroundColor:Nd({h:t.h,s:100,v:100,a:1})};return st.createElement("div",{className:"react-colorful__saturation",style:i},st.createElement(pp,{onMove:function(o){n({s:100*o.left,v:100-100*o.top})},onKey:function(o){n({s:Uo(t.s+100*o.left,0,100),v:Uo(t.v-100*o.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+pn(t.s)+"%, Brightness "+pn(t.v)+"%"},st.createElement(gp,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:Nd(t)})))}),_1=function(e,t){if(e===t)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0};function r4(e,t,n){var i=Ld(n),o=E.useState(function(){return e.toHsva(t)}),l=o[0],a=o[1],c=E.useRef({color:t,hsva:l});E.useEffect(function(){if(!e.equal(t,c.current.color)){var d=e.toHsva(t);c.current={hsva:d,color:t},a(d)}},[t,e]),E.useEffect(function(){var d;_1(l,c.current.hsva)||e.equal(d=e.fromHsva(l),c.current.color)||(c.current={hsva:l,color:d},i(d))},[l,e,i]);var h=E.useCallback(function(d){a(function(g){return Object.assign({},g,d)})},[]);return[l,h]}var i4=typeof window<"u"?E.useLayoutEffect:E.useEffect,s4=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},o_=new Map,o4=function(e){i4(function(){var t=e.current?e.current.ownerDocument:document;if(t!==void 0&&!o_.has(t)){var n=t.createElement("style");n.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,o_.set(t,n);var i=s4();i&&n.setAttribute("nonce",i),t.head.appendChild(n)}},[])},l4=function(e){var t=e.className,n=e.hsva,i=e.onChange,o={backgroundImage:"linear-gradient(90deg, "+nd(Object.assign({},n,{a:0}))+", "+nd(Object.assign({},n,{a:1}))+")"},l=Dc(["react-colorful__alpha",t]),a=pn(100*n.a);return st.createElement("div",{className:l},st.createElement("div",{className:"react-colorful__alpha-gradient",style:o}),st.createElement(pp,{onMove:function(c){i({a:c.left})},onKey:function(c){i({a:Uo(n.a+c.left)})},"aria-label":"Alpha","aria-valuetext":a+"%","aria-valuenow":a,"aria-valuemin":"0","aria-valuemax":"100"},st.createElement(gp,{className:"react-colorful__alpha-pointer",left:n.a,color:nd(n)})))},a4=function(e){var t=e.className,n=e.colorModel,i=e.color,o=i===void 0?n.defaultColor:i,l=e.onChange,a=m1(e,["className","colorModel","color","onChange"]),c=E.useRef(null);o4(c);var h=r4(n,o,l),d=h[0],g=h[1],m=Dc(["react-colorful",t]);return st.createElement("div",jc({},a,{ref:c,className:m}),st.createElement(n4,{hsva:d,onChange:g}),st.createElement(t4,{hue:d.h,onChange:g}),st.createElement(l4,{hsva:d,onChange:g,className:"react-colorful__last-control"}))},u4={defaultColor:{r:0,g:0,b:0,a:1},toHsva:e4,fromHsva:J3,equal:_1},c4=function(e){return st.createElement(a4,jc({},e,{colorModel:u4}))};function f4({initialOpen:e=!1,placement:t="top",modal:n,open:i,onOpenChange:o,initialOffset:l=5}={}){const[a,c]=E.useState(e),[h,d]=E.useState(),[g,m]=E.useState(),v=i??a,y=o??c,x=dv({placement:t,open:v,onOpenChange:y,whileElementsMounted:J_,middleware:[tv(l),rv({crossAxis:t.includes("-"),fallbackAxisSideDirection:"end",padding:5}),nv({padding:5})]}),b=x.context,S=kk(b,{enabled:i==null}),k=hv(b),w=gv(b),C=pv([S,k,w]);return E.useMemo(()=>({open:v,setOpen:y,...C,...x,modal:n,labelId:h,descriptionId:g,setLabelId:d,setDescriptionId:m}),[v,y,C,x,n,h,g])}const v1=E.createContext(null),ua=()=>{const e=E.useContext(v1);if(e==null)throw new Error("Popover components must be wrapped in <Popover />");return e};function mp({children:e,modal:t=!1,...n}){const i=f4({modal:t,...n});return A.jsx(v1.Provider,{value:i,children:e})}const yp=E.forwardRef(function({children:t,asChild:n=!1,...i},o){const l=ua(),a=t.ref,c=xc([l.refs.setReference,o,a]);return n&&E.isValidElement(t)?E.cloneElement(t,l.getReferenceProps({ref:c,...i,...t.props,"data-state":l.open?"open":"closed"})):A.jsx("button",{ref:c,type:"button","data-state":l.open?"open":"closed",...l.getReferenceProps(i),children:t})}),_p=E.forwardRef(function({style:t,...n},i){const{context:o,...l}=ua(),a=xc([l.refs.setFloating,i]);return o.open?A.jsx(cv,{children:A.jsx(bk,{context:o,modal:l.modal,children:A.jsx("div",{ref:a,style:{...l.floatingStyles,...t},"aria-labelledby":l.labelId,"aria-describedby":l.descriptionId,...l.getFloatingProps(n),children:n.children})})}):null});E.forwardRef(function(t,n){const{setLabelId:i}=ua(),o=ia();return E.useLayoutEffect(()=>(i(o),()=>i(void 0)),[o,i]),A.jsx("h2",{...t,ref:n,id:o,children:t.children})});E.forwardRef(function(t,n){const{setDescriptionId:i}=ua(),o=ia();return E.useLayoutEffect(()=>(i(o),()=>i(void 0)),[o,i]),A.jsx("p",{...t,ref:n,id:o})});E.forwardRef(function(t,n){const{setOpen:i}=ua();return A.jsx("button",{type:"button",ref:n,...t,onClick:o=>{var l;(l=t.onClick)==null||l.call(t,o),i(!1)}})});const h4=({value:e,onChange:t})=>{const n={r:0,g:0,b:0,a:1},[i,o]=E.useState(e||n),[l,a]=E.useState(""),[c,h]=E.useState(""),d=id(c),g=rd(i);E.useEffect(()=>{e&&(h(`${Math.round((e.a||0)*100)}`),a(rd(e)),o(e))},[e]);const m=w=>{o(w),i.a&&h(`${Math.floor(i.a*100)}`),t==null||t(w)},v=w=>{w.a>.95&&(w.a=1),o(w),m(w),a(rd(i))},y=w=>{a(w);const C=it(w);if(C.isValid()&&C.toHex()===w){const M=C.toRgb();isNaN(d)||(M.a=d),m(M)}},x=()=>{const w=it(i);w.isEqual(l)||m(w.toRgb())},b=w=>{h(w);const C=id(w);w&&!isNaN(C)&&C>=0&&C<=1&&S(C)},S=w=>{const C={...i};C.a=w,m(C)};return{rgbaValue:i,rgbValue:g,alphaValue:c,rgbStrValue:l,doChangePicker:v,doChangeRgbValue:y,doChangeAlpha:b,doChangeAlphaValue:S,doRgbBlur:x,doAlphaBlur:()=>{const w=i.a,C=id(c);w!=C&&m({...i})}}};function rd(e){return it({r:e.r,g:e.g,b:e.b}).toHex()}function id(e){return Number(e||"1")/100}function es(e){"@babel/helpers - typeof";return es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},es(e)}function d4(e,t){if(es(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(es(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function p4(e){var t=d4(e,"string");return es(t)=="symbol"?t:t+""}function cr(e,t,n){return(t=p4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function nn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?l_(Object(n),!0).forEach(function(i){cr(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l_(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Id(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function g4(e){if(Array.isArray(e))return Id(e)}function m4(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function x1(e,t){if(e){if(typeof e=="string")return Id(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Id(e,t):void 0}}function y4(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gi(e){return g4(e)||m4(e)||x1(e)||y4()}function _4(e){if(Array.isArray(e))return e}function v4(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,o,l,a,c=[],h=!0,d=!1;try{if(l=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;h=!1}else for(;!(h=(i=l.call(n)).done)&&(c.push(i.value),c.length!==t);h=!0);}catch(g){d=!0,o=g}finally{try{if(!h&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw o}}return c}}function x4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bt(e,t){return _4(e)||v4(e,t)||x1(e,t)||x4()}var sd={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var a_;function w4(){return a_||(a_=1,function(e){(function(){var t={}.hasOwnProperty;function n(){for(var l="",a=0;a<arguments.length;a++){var c=arguments[a];c&&(l=o(l,i(c)))}return l}function i(l){if(typeof l=="string"||typeof l=="number")return l;if(typeof l!="object")return"";if(Array.isArray(l))return n.apply(null,l);if(l.toString!==Object.prototype.toString&&!l.toString.toString().includes("[native code]"))return l.toString();var a="";for(var c in l)t.call(l,c)&&l[c]&&(a=o(a,c));return a}function o(l,a){return a?l?l+" "+a:l+a:l}e.exports?(n.default=n,e.exports=n):window.classNames=n})()}(sd)),sd.exports}var b4=w4();const $s=k_(b4);function jo(e){var t=E.useRef();t.current=e;var n=E.useCallback(function(){for(var i,o=arguments.length,l=new Array(o),a=0;a<o;a++)l[a]=arguments[a];return(i=t.current)===null||i===void 0?void 0:i.call.apply(i,[t].concat(l))},[]);return n}function k4(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var u_=k4()?E.useLayoutEffect:E.useEffect,w1=function(t,n){var i=E.useRef(!0);u_(function(){return t(i.current)},n),u_(function(){return i.current=!1,function(){i.current=!0}},[])},c_=function(t,n){w1(function(i){if(!i)return t()},n)};function f_(e){var t=E.useRef(!1),n=E.useState(e),i=Bt(n,2),o=i[0],l=i[1];E.useEffect(function(){return t.current=!1,function(){t.current=!0}},[]);function a(c,h){h&&t.current||l(c)}return[o,a]}function od(e){return e!==void 0}function S4(e,t){var n=t,i=n.defaultValue,o=n.value,l=n.onChange,a=n.postState,c=f_(function(){return od(o)?o:od(i)?typeof i=="function"?i():i:typeof e=="function"?e():e}),h=Bt(c,2),d=h[0],g=h[1],m=o!==void 0?o:d,v=a?a(m):m,y=jo(l),x=f_([m]),b=Bt(x,2),S=b[0],k=b[1];c_(function(){var C=S[0];d!==C&&y(d,C)},[S]),c_(function(){od(o)||g(o)},[o]);var w=jo(function(C,M){g(C,M),k([m],M)});return[v,w]}var jd={},E4=function(t){};function C4(e,t){}function R4(e,t){}function T4(){jd={}}function b1(e,t,n){!t&&!jd[n]&&(e(!1,n),jd[n]=!0)}function Vo(e,t){b1(C4,e,t)}function M4(e,t){b1(R4,e,t)}Vo.preMessage=E4;Vo.resetWarned=T4;Vo.noteOnce=M4;function A4(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=new Set;function o(l,a){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,h=i.has(l);if(Vo(!h,"Warning: There may be circular references"),h)return!1;if(l===a)return!0;if(n&&c>1)return!1;i.add(l);var d=c+1;if(Array.isArray(l)){if(!Array.isArray(a)||l.length!==a.length)return!1;for(var g=0;g<l.length;g++)if(!o(l[g],a[g],d))return!1;return!0}if(l&&a&&es(l)==="object"&&es(a)==="object"){var m=Object.keys(l);return m.length!==Object.keys(a).length?!1:m.every(function(v){return o(l[v],a[v],d)})}return!1}return o(e,t)}function ta(){return ta=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ta.apply(null,arguments)}function P4(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.includes(i))continue;n[i]=e[i]}return n}function k1(e,t){if(e==null)return{};var n,i,o=P4(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)n=l[i],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Dd(e,t,n){return(e-t)/(n-t)}function vp(e,t,n,i){var o=Dd(t,n,i),l={};switch(e){case"rtl":l.right="".concat(o*100,"%"),l.transform="translateX(50%)";break;case"btt":l.bottom="".concat(o*100,"%"),l.transform="translateY(50%)";break;case"ttb":l.top="".concat(o*100,"%"),l.transform="translateY(-50%)";break;default:l.left="".concat(o*100,"%"),l.transform="translateX(-50%)";break}return l}function Ms(e,t){return Array.isArray(e)?e[t]:e}var _e={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(t){var n=t.keyCode;if(t.altKey&&!t.ctrlKey||t.metaKey||n>=_e.F1&&n<=_e.F12)return!1;switch(n){case _e.ALT:case _e.CAPS_LOCK:case _e.CONTEXT_MENU:case _e.CTRL:case _e.DOWN:case _e.END:case _e.ESC:case _e.HOME:case _e.INSERT:case _e.LEFT:case _e.MAC_FF_META:case _e.META:case _e.NUMLOCK:case _e.NUM_CENTER:case _e.PAGE_DOWN:case _e.PAGE_UP:case _e.PAUSE:case _e.PRINT_SCREEN:case _e.RIGHT:case _e.SHIFT:case _e.UP:case _e.WIN_KEY:case _e.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(t){if(t>=_e.ZERO&&t<=_e.NINE||t>=_e.NUM_ZERO&&t<=_e.NUM_MULTIPLY||t>=_e.A&&t<=_e.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&t===0)return!0;switch(t){case _e.SPACE:case _e.QUESTION_MARK:case _e.NUM_PLUS:case _e.NUM_MINUS:case _e.NUM_PERIOD:case _e.NUM_DIVISION:case _e.SEMICOLON:case _e.DASH:case _e.EQUALS:case _e.COMMA:case _e.PERIOD:case _e.SLASH:case _e.APOSTROPHE:case _e.SINGLE_QUOTE:case _e.OPEN_SQUARE_BRACKET:case _e.BACKSLASH:case _e.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},Us=E.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}}),O4=E.createContext({}),L4=["prefixCls","value","valueIndex","onStartMove","onDelete","style","render","dragging","draggingDelete","onOffsetChange","onChangeComplete","onFocus","onMouseEnter"],h_=E.forwardRef(function(e,t){var n=e.prefixCls,i=e.value,o=e.valueIndex,l=e.onStartMove,a=e.onDelete,c=e.style,h=e.render,d=e.dragging,g=e.draggingDelete,m=e.onOffsetChange,v=e.onChangeComplete,y=e.onFocus,x=e.onMouseEnter,b=k1(e,L4),S=E.useContext(Us),k=S.min,w=S.max,C=S.direction,M=S.disabled,P=S.keyboard,N=S.range,j=S.tabIndex,X=S.ariaLabelForHandle,z=S.ariaLabelledByForHandle,W=S.ariaRequired,K=S.ariaValueTextFormatterForHandle,q=S.styles,ae=S.classNames,te="".concat(n,"-handle"),re=function(oe){M||l(oe,o)},ue=function(oe){y==null||y(oe,o)},Z=function(oe){x(oe,o)},D=function(oe){if(!M&&P){var Q=null;switch(oe.which||oe.keyCode){case _e.LEFT:Q=C==="ltr"||C==="btt"?-1:1;break;case _e.RIGHT:Q=C==="ltr"||C==="btt"?1:-1;break;case _e.UP:Q=C!=="ttb"?1:-1;break;case _e.DOWN:Q=C!=="ttb"?-1:1;break;case _e.HOME:Q="min";break;case _e.END:Q="max";break;case _e.PAGE_UP:Q=2;break;case _e.PAGE_DOWN:Q=-2;break;case _e.BACKSPACE:case _e.DELETE:a(o);break}Q!==null&&(oe.preventDefault(),m(Q,o))}},$=function(oe){switch(oe.which||oe.keyCode){case _e.LEFT:case _e.RIGHT:case _e.UP:case _e.DOWN:case _e.HOME:case _e.END:case _e.PAGE_UP:case _e.PAGE_DOWN:v==null||v();break}},G=vp(C,i,k,w),L={};if(o!==null){var Y;L={tabIndex:M?null:Ms(j,o),role:"slider","aria-valuemin":k,"aria-valuemax":w,"aria-valuenow":i,"aria-disabled":M,"aria-label":Ms(X,o),"aria-labelledby":Ms(z,o),"aria-required":Ms(W,o),"aria-valuetext":(Y=Ms(K,o))===null||Y===void 0?void 0:Y(i),"aria-orientation":C==="ltr"||C==="rtl"?"horizontal":"vertical",onMouseDown:re,onTouchStart:re,onFocus:ue,onMouseEnter:Z,onKeyDown:D,onKeyUp:$}}var we=E.createElement("div",ta({ref:t,className:$s(te,cr(cr(cr({},"".concat(te,"-").concat(o+1),o!==null&&N),"".concat(te,"-dragging"),d),"".concat(te,"-dragging-delete"),g),ae.handle),style:nn(nn(nn({},G),c),q.handle)},L,b));return h&&(we=h(we,{index:o,prefixCls:n,value:i,dragging:d,draggingDelete:g})),we}),F4=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","activeHandleRender","draggingIndex","draggingDelete","onFocus"],N4=E.forwardRef(function(e,t){var n=e.prefixCls,i=e.style,o=e.onStartMove,l=e.onOffsetChange,a=e.values,c=e.handleRender,h=e.activeHandleRender,d=e.draggingIndex,g=e.draggingDelete,m=e.onFocus,v=k1(e,F4),y=E.useRef({}),x=E.useState(!1),b=Bt(x,2),S=b[0],k=b[1],w=E.useState(-1),C=Bt(w,2),M=C[0],P=C[1],N=function(K){P(K),k(!0)},j=function(K,q){N(q),m==null||m(K)},X=function(K,q){N(q)};E.useImperativeHandle(t,function(){return{focus:function(K){var q;(q=y.current[K])===null||q===void 0||q.focus()},hideHelp:function(){Kd.flushSync(function(){k(!1)})}}});var z=nn({prefixCls:n,onStartMove:o,onOffsetChange:l,render:c,onFocus:j,onMouseEnter:X},v);return E.createElement(E.Fragment,null,a.map(function(W,K){var q=d===K;return E.createElement(h_,ta({ref:function(te){te?y.current[K]=te:delete y.current[K]},dragging:q,draggingDelete:q&&g,style:Ms(i,K),key:K,value:W,valueIndex:K},z))}),h&&S&&E.createElement(h_,ta({key:"a11y"},z,{value:a[M],valueIndex:null,dragging:d!==-1,draggingDelete:g,render:h,style:{pointerEvents:"none"},tabIndex:null,"aria-hidden":!0})))}),I4=function(t){var n=t.prefixCls,i=t.style,o=t.children,l=t.value,a=t.onClick,c=E.useContext(Us),h=c.min,d=c.max,g=c.direction,m=c.includedStart,v=c.includedEnd,y=c.included,x="".concat(n,"-text"),b=vp(g,l,h,d);return E.createElement("span",{className:$s(x,cr({},"".concat(x,"-active"),y&&m<=l&&l<=v)),style:nn(nn({},b),i),onMouseDown:function(k){k.stopPropagation()},onClick:function(){a(l)}},o)},j4=function(t){var n=t.prefixCls,i=t.marks,o=t.onClick,l="".concat(n,"-mark");return i.length?E.createElement("div",{className:l},i.map(function(a){var c=a.value,h=a.style,d=a.label;return E.createElement(I4,{key:c,prefixCls:l,style:h,value:c,onClick:o},d)})):null},D4=function(t){var n=t.prefixCls,i=t.value,o=t.style,l=t.activeStyle,a=E.useContext(Us),c=a.min,h=a.max,d=a.direction,g=a.included,m=a.includedStart,v=a.includedEnd,y="".concat(n,"-dot"),x=g&&m<=i&&i<=v,b=nn(nn({},vp(d,i,c,h)),typeof o=="function"?o(i):o);return x&&(b=nn(nn({},b),typeof l=="function"?l(i):l)),E.createElement("span",{className:$s(y,cr({},"".concat(y,"-active"),x)),style:b})},z4=function(t){var n=t.prefixCls,i=t.marks,o=t.dots,l=t.style,a=t.activeStyle,c=E.useContext(Us),h=c.min,d=c.max,g=c.step,m=E.useMemo(function(){var v=new Set;if(i.forEach(function(x){v.add(x.value)}),o&&g!==null)for(var y=h;y<=d;)v.add(y),y+=g;return Array.from(v)},[h,d,g,o,i]);return E.createElement("div",{className:"".concat(n,"-step")},m.map(function(v){return E.createElement(D4,{prefixCls:n,key:v,value:v,style:l,activeStyle:a})}))},d_=function(t){var n=t.prefixCls,i=t.style,o=t.start,l=t.end,a=t.index,c=t.onStartMove,h=t.replaceCls,d=E.useContext(Us),g=d.direction,m=d.min,v=d.max,y=d.disabled,x=d.range,b=d.classNames,S="".concat(n,"-track"),k=Dd(o,m,v),w=Dd(l,m,v),C=function(j){!y&&c&&c(j,-1)},M={};switch(g){case"rtl":M.right="".concat(k*100,"%"),M.width="".concat(w*100-k*100,"%");break;case"btt":M.bottom="".concat(k*100,"%"),M.height="".concat(w*100-k*100,"%");break;case"ttb":M.top="".concat(k*100,"%"),M.height="".concat(w*100-k*100,"%");break;default:M.left="".concat(k*100,"%"),M.width="".concat(w*100-k*100,"%")}var P=h||$s(S,cr(cr({},"".concat(S,"-").concat(a+1),a!==null&&x),"".concat(n,"-track-draggable"),c),b.track);return E.createElement("div",{className:P,style:nn(nn({},M),i),onMouseDown:C,onTouchStart:C})},B4=function(t){var n=t.prefixCls,i=t.style,o=t.values,l=t.startPoint,a=t.onStartMove,c=E.useContext(Us),h=c.included,d=c.range,g=c.min,m=c.styles,v=c.classNames,y=E.useMemo(function(){if(!d){if(o.length===0)return[];var b=l??g,S=o[0];return[{start:Math.min(b,S),end:Math.max(b,S)}]}for(var k=[],w=0;w<o.length-1;w+=1)k.push({start:o[w],end:o[w+1]});return k},[o,d,l,g]);if(!h)return null;var x=y!=null&&y.length&&(v.tracks||m.tracks)?E.createElement(d_,{index:null,prefixCls:n,start:y[0].start,end:y[y.length-1].end,replaceCls:$s(v.tracks,"".concat(n,"-tracks")),style:m.tracks}):null;return E.createElement(E.Fragment,null,x,y.map(function(b,S){var k=b.start,w=b.end;return E.createElement(d_,{index:S,prefixCls:n,style:nn(nn({},Ms(i,S)),m.track),start:k,end:w,key:S,onStartMove:a})}))},$4=130;function p_(e){var t="targetTouches"in e?e.targetTouches[0]:e;return{pageX:t.pageX,pageY:t.pageY}}function U4(e,t,n,i,o,l,a,c,h,d,g){var m=E.useState(null),v=Bt(m,2),y=v[0],x=v[1],b=E.useState(-1),S=Bt(b,2),k=S[0],w=S[1],C=E.useState(!1),M=Bt(C,2),P=M[0],N=M[1],j=E.useState(n),X=Bt(j,2),z=X[0],W=X[1],K=E.useState(n),q=Bt(K,2),ae=q[0],te=q[1],re=E.useRef(null),ue=E.useRef(null),Z=E.useRef(null),D=E.useContext(O4),$=D.onDragStart,G=D.onDragChange;w1(function(){k===-1&&W(n)},[n,k]),E.useEffect(function(){return function(){document.removeEventListener("mousemove",re.current),document.removeEventListener("mouseup",ue.current),Z.current&&(Z.current.removeEventListener("touchmove",re.current),Z.current.removeEventListener("touchend",ue.current))}},[]);var L=function(Q,se,ee){se!==void 0&&x(se),W(Q);var Ce=Q;ee&&(Ce=Q.filter(function(Me,We){return We!==k})),a(Ce),G&&G({rawValues:Q,deleteIndex:ee?k:-1,draggingIndex:k,draggingValue:se})},Y=jo(function(oe,Q,se){if(oe===-1){var ee=ae[0],Ce=ae[ae.length-1],Me=i-ee,We=o-Ce,gt=Q*(o-i);gt=Math.max(gt,Me),gt=Math.min(gt,We);var Ut=l(ee+gt);gt=Ut-ee;var At=ae.map(function(Kn){return Kn+gt});L(At)}else{var mt=(o-i)*Q,Vt=gi(z);Vt[oe]=ae[oe];var on=h(Vt,mt,oe,"dist");L(on.values,on.value,se)}}),we=function(Q,se,ee){Q.stopPropagation();var Ce=ee||n,Me=Ce[se];w(se),x(Me),te(Ce),W(Ce),N(!1);var We=p_(Q),gt=We.pageX,Ut=We.pageY,At=!1;$&&$({rawValues:Ce,draggingIndex:se,draggingValue:Me});var mt=function(Kn){Kn.preventDefault();var Ht=p_(Kn),qn=Ht.pageX,On=Ht.pageY,Tr=qn-gt,Ln=On-Ut,mn=e.current.getBoundingClientRect(),Mr=mn.width,Qr=mn.height,Gn,Fn;switch(t){case"btt":Gn=-Ln/Qr,Fn=Tr;break;case"ttb":Gn=Ln/Qr,Fn=Tr;break;case"rtl":Gn=-Tr/Mr,Fn=Ln;break;default:Gn=Tr/Mr,Fn=Ln}At=d?Math.abs(Fn)>$4&&g<z.length:!1,N(At),Y(se,Gn,At)},Vt=function on(Kn){Kn.preventDefault(),document.removeEventListener("mouseup",on),document.removeEventListener("mousemove",mt),Z.current&&(Z.current.removeEventListener("touchmove",re.current),Z.current.removeEventListener("touchend",ue.current)),re.current=null,ue.current=null,Z.current=null,c(At),w(-1),N(!1)};document.addEventListener("mouseup",Vt),document.addEventListener("mousemove",mt),Q.currentTarget.addEventListener("touchend",Vt),Q.currentTarget.addEventListener("touchmove",mt),re.current=mt,ue.current=Vt,Z.current=Q.currentTarget},fe=E.useMemo(function(){var oe=gi(n).sort(function(Me,We){return Me-We}),Q=gi(z).sort(function(Me,We){return Me-We}),se={};Q.forEach(function(Me){se[Me]=(se[Me]||0)+1}),oe.forEach(function(Me){se[Me]=(se[Me]||0)-1});var ee=d?1:0,Ce=Object.values(se).reduce(function(Me,We){return Me+Math.abs(We)},0);return Ce<=ee?z:n},[n,z,d]);return[k,y,P,fe,we]}function V4(e,t,n,i,o,l){var a=E.useCallback(function(y){return Math.max(e,Math.min(t,y))},[e,t]),c=E.useCallback(function(y){if(n!==null){var x=e+Math.round((a(y)-e)/n)*n,b=function(C){return(String(C).split(".")[1]||"").length},S=Math.max(b(n),b(t),b(e)),k=Number(x.toFixed(S));return e<=k&&k<=t?k:null}return null},[n,e,t,a]),h=E.useCallback(function(y){var x=a(y),b=i.map(function(w){return w.value});n!==null&&b.push(c(y)),b.push(e,t);var S=b[0],k=t-e;return b.forEach(function(w){var C=Math.abs(x-w);C<=k&&(S=w,k=C)}),S},[e,t,i,n,a,c]),d=function y(x,b,S){var k=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof b=="number"){var w,C=x[S],M=C+b,P=[];i.forEach(function(W){P.push(W.value)}),P.push(e,t),P.push(c(C));var N=b>0?1:-1;k==="unit"?P.push(c(C+N*n)):P.push(c(M)),P=P.filter(function(W){return W!==null}).filter(function(W){return b<0?W<=C:W>=C}),k==="unit"&&(P=P.filter(function(W){return W!==C}));var j=k==="unit"?C:M;w=P[0];var X=Math.abs(w-j);if(P.forEach(function(W){var K=Math.abs(W-j);K<X&&(w=W,X=K)}),w===void 0)return b<0?e:t;if(k==="dist")return w;if(Math.abs(b)>1){var z=gi(x);return z[S]=w,y(z,b-N,S,k)}return w}else{if(b==="min")return e;if(b==="max")return t}},g=function(x,b,S){var k=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",w=x[S],C=d(x,b,S,k);return{value:C,changed:C!==w}},m=function(x){return l===null&&x===0||typeof l=="number"&&x<l},v=function(x,b,S){var k=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",w=x.map(h),C=w[S],M=d(w,b,S,k);if(w[S]=M,o===!1){var P=l||0;S>0&&w[S-1]!==C&&(w[S]=Math.max(w[S],w[S-1]+P)),S<w.length-1&&w[S+1]!==C&&(w[S]=Math.min(w[S],w[S+1]-P))}else if(typeof l=="number"||l===null){for(var N=S+1;N<w.length;N+=1)for(var j=!0;m(w[N]-w[N-1])&&j;){var X=g(w,1,N);w[N]=X.value,j=X.changed}for(var z=S;z>0;z-=1)for(var W=!0;m(w[z]-w[z-1])&&W;){var K=g(w,-1,z-1);w[z-1]=K.value,W=K.changed}for(var q=w.length-1;q>0;q-=1)for(var ae=!0;m(w[q]-w[q-1])&&ae;){var te=g(w,-1,q-1);w[q-1]=te.value,ae=te.changed}for(var re=0;re<w.length-1;re+=1)for(var ue=!0;m(w[re+1]-w[re])&&ue;){var Z=g(w,1,re+1);w[re+1]=Z.value,ue=Z.changed}}return{value:w[S],values:w}};return[h,v]}function H4(e){return E.useMemo(function(){if(e===!0||!e)return[!!e,!1,!1,0];var t=e.editable,n=e.draggableTrack,i=e.minCount,o=e.maxCount;return[!0,t,!t&&n,i||0,o]},[e])}var S1=E.forwardRef(function(e,t){var n=e.prefixCls,i=n===void 0?"rc-slider":n,o=e.className,l=e.style,a=e.classNames,c=e.styles,h=e.id,d=e.disabled,g=d===void 0?!1:d,m=e.keyboard,v=m===void 0?!0:m,y=e.autoFocus,x=e.onFocus,b=e.onBlur,S=e.min,k=S===void 0?0:S,w=e.max,C=w===void 0?100:w,M=e.step,P=M===void 0?1:M,N=e.value,j=e.defaultValue,X=e.range,z=e.count,W=e.onChange,K=e.onBeforeChange,q=e.onAfterChange,ae=e.onChangeComplete,te=e.allowCross,re=te===void 0?!0:te,ue=e.pushable,Z=ue===void 0?!1:ue,D=e.reverse,$=e.vertical,G=e.included,L=G===void 0?!0:G,Y=e.startPoint,we=e.trackStyle,fe=e.handleStyle,oe=e.railStyle,Q=e.dotStyle,se=e.activeDotStyle,ee=e.marks,Ce=e.dots,Me=e.handleRender,We=e.activeHandleRender,gt=e.track,Ut=e.tabIndex,At=Ut===void 0?0:Ut,mt=e.ariaLabelForHandle,Vt=e.ariaLabelledByForHandle,on=e.ariaRequired,Kn=e.ariaValueTextFormatterForHandle,Ht=E.useRef(null),qn=E.useRef(null),On=E.useMemo(function(){return $?D?"ttb":"btt":D?"rtl":"ltr"},[D,$]),Tr=H4(X),Ln=Bt(Tr,5),mn=Ln[0],Mr=Ln[1],Qr=Ln[2],Gn=Ln[3],Fn=Ln[4],ln=E.useMemo(function(){return isFinite(k)?k:0},[k]),Qn=E.useMemo(function(){return isFinite(C)?C:100},[C]),Nn=E.useMemo(function(){return P!==null&&P<=0?1:P},[P]),$c=E.useMemo(function(){return typeof Z=="boolean"?Z?Nn:!1:Z>=0?Z:!1},[Z,Nn]),is=E.useMemo(function(){return Object.keys(ee||{}).map(function(Ve){var ge=ee[Ve],Ye={value:Number(Ve)};return ge&&es(ge)==="object"&&!E.isValidElement(ge)&&("label"in ge||"style"in ge)?(Ye.style=ge.style,Ye.label=ge.label):Ye.label=ge,Ye}).filter(function(Ve){var ge=Ve.label;return ge||typeof ge=="number"}).sort(function(Ve,ge){return Ve.value-ge.value})},[ee]),da=V4(ln,Qn,Nn,is,re,$c),pa=Bt(da,2),_i=pa[0],Hs=pa[1],Ko=S4(j,{value:N}),Ws=Bt(Ko,2),Zn=Ws[0],vi=Ws[1],ht=E.useMemo(function(){var Ve=Zn==null?[]:Array.isArray(Zn)?Zn:[Zn],ge=Bt(Ve,1),Ye=ge[0],Ke=Ye===void 0?ln:Ye,yt=Zn===null?[]:[Ke];if(mn){if(yt=gi(Ve),z||Zn===void 0){var In=z>=0?z+1:2;for(yt=yt.slice(0,In);yt.length<In;){var hr;yt.push((hr=yt[yt.length-1])!==null&&hr!==void 0?hr:ln)}}yt.sort(function(Jn,yn){return Jn-yn})}return yt.forEach(function(Jn,yn){yt[yn]=_i(Jn)}),yt},[Zn,mn,ln,z,_i]),Zr=function(ge){return mn?ge:ge[0]},ss=jo(function(Ve){var ge=gi(Ve).sort(function(Ye,Ke){return Ye-Ke});W&&!A4(ge,ht,!0)&&W(Zr(ge)),vi(ge)}),qo=jo(function(Ve){Ve&&Ht.current.hideHelp();var ge=Zr(ht);q==null||q(ge),Vo(!q,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),ae==null||ae(ge)}),ga=function(ge){if(!(g||!Mr||ht.length<=Gn)){var Ye=gi(ht);Ye.splice(ge,1),K==null||K(Zr(Ye)),ss(Ye);var Ke=Math.max(0,ge-1);Ht.current.hideHelp(),Ht.current.focus(Ke)}},ma=U4(qn,On,ht,ln,Qn,_i,ss,qo,Hs,Mr,Gn),Jr=Bt(ma,5),Go=Jr[0],os=Jr[1],Qo=Jr[2],ei=Jr[3],ya=Jr[4],xi=function(ge,Ye){if(!g){var Ke=gi(ht),yt=0,In=0,hr=Qn-ln;ht.forEach(function(xt,qs){var xa=Math.abs(ge-xt);xa<=hr&&(hr=xa,yt=qs),xt<ge&&(In=qs)});var Jn=yt;Mr&&hr!==0&&(!Fn||ht.length<Fn)?(Ke.splice(In+1,0,ge),Jn=In+1):Ke[yt]=ge,mn&&!ht.length&&z===void 0&&Ke.push(ge);var yn=Zr(Ke);if(K==null||K(yn),ss(Ke),Ye){var Pt,wi;(Pt=document.activeElement)===null||Pt===void 0||(wi=Pt.blur)===null||wi===void 0||wi.call(Pt),Ht.current.focus(Jn),ya(Ye,Jn,Ke)}else q==null||q(yn),Vo(!q,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),ae==null||ae(yn)}},Ys=function(ge){ge.preventDefault();var Ye=qn.current.getBoundingClientRect(),Ke=Ye.width,yt=Ye.height,In=Ye.left,hr=Ye.top,Jn=Ye.bottom,yn=Ye.right,Pt=ge.clientX,wi=ge.clientY,xt;switch(On){case"btt":xt=(Jn-wi)/yt;break;case"ttb":xt=(wi-hr)/yt;break;case"rtl":xt=(yn-Pt)/Ke;break;default:xt=(Pt-In)/Ke}var qs=ln+xt*(Qn-ln);xi(_i(qs),ge)},Xs=E.useState(null),Ks=Bt(Xs,2),Zo=Ks[0],_a=Ks[1],Uc=function(ge,Ye){if(!g){var Ke=Hs(ht,ge,Ye);K==null||K(Zr(ht)),ss(Ke.values),_a(Ke.value)}};E.useEffect(function(){if(Zo!==null){var Ve=ht.indexOf(Zo);Ve>=0&&Ht.current.focus(Ve)}_a(null)},[Zo]);var ti=E.useMemo(function(){return Qr&&Nn===null?!1:Qr},[Qr,Nn]),Jo=jo(function(Ve,ge){ya(Ve,ge),K==null||K(Zr(ht))}),el=Go!==-1;E.useEffect(function(){if(!el){var Ve=ht.lastIndexOf(os);Ht.current.focus(Ve)}},[el]);var ls=E.useMemo(function(){return gi(ei).sort(function(Ve,ge){return Ve-ge})},[ei]),va=E.useMemo(function(){return mn?[ls[0],ls[ls.length-1]]:[ln,ls[0]]},[ls,mn,ln]),tl=Bt(va,2),nl=tl[0],rl=tl[1];E.useImperativeHandle(t,function(){return{focus:function(){Ht.current.focus(0)},blur:function(){var ge,Ye=document,Ke=Ye.activeElement;(ge=qn.current)!==null&&ge!==void 0&&ge.contains(Ke)&&(Ke==null||Ke.blur())}}}),E.useEffect(function(){y&&Ht.current.focus(0)},[]);var Vc=E.useMemo(function(){return{min:ln,max:Qn,direction:On,disabled:g,keyboard:v,step:Nn,included:L,includedStart:nl,includedEnd:rl,range:mn,tabIndex:At,ariaLabelForHandle:mt,ariaLabelledByForHandle:Vt,ariaRequired:on,ariaValueTextFormatterForHandle:Kn,styles:c||{},classNames:a||{}}},[ln,Qn,On,g,v,Nn,L,nl,rl,mn,At,mt,Vt,on,Kn,c,a]);return E.createElement(Us.Provider,{value:Vc},E.createElement("div",{ref:qn,className:$s(i,o,cr(cr(cr(cr({},"".concat(i,"-disabled"),g),"".concat(i,"-vertical"),$),"".concat(i,"-horizontal"),!$),"".concat(i,"-with-marks"),is.length)),style:l,onMouseDown:Ys,id:h},E.createElement("div",{className:$s("".concat(i,"-rail"),a==null?void 0:a.rail),style:nn(nn({},oe),c==null?void 0:c.rail)}),gt!==!1&&E.createElement(B4,{prefixCls:i,style:we,values:ht,startPoint:Y,onStartMove:ti?Jo:void 0}),E.createElement(z4,{prefixCls:i,marks:is,dots:Ce,style:Q,activeStyle:se}),E.createElement(N4,{ref:Ht,prefixCls:i,style:fe,values:ei,draggingIndex:Go,draggingDelete:Qo,onStartMove:Jo,onOffsetChange:Uc,onFocus:x,onBlur:b,handleRender:Me,activeHandleRender:We,onChangeComplete:qo,onDelete:Mr?ga:void 0}),E.createElement(j4,{prefixCls:i,marks:is,onClick:xi})))});const Cr=({value:e,onChange:t})=>{const[n,i]=E.useState(!1),{rgbValue:o,rgbaValue:l,alphaValue:a,rgbStrValue:c,doChangePicker:h,doChangeAlpha:d,doChangeRgbValue:g,doRgbBlur:m,doAlphaBlur:v,doChangeAlphaValue:y}=h4({value:e,onChange:t});return A.jsxs("div",{className:"relative max-w-40 ",children:[A.jsxs(mp,{open:n,onOpenChange:i,placement:"bottom-start",initialOffset:10,children:[A.jsx(yp,{onClick:()=>i(x=>!x),className:`w-[18px] h-[18px] rounded absolute left-1 top-1 ${n?"border-2 border-highlight":""}`,style:{background:o},children:""}),A.jsx(_p,{className:"bg-default-2 border border-default-1 p-4 rounded-lg color-picker",children:A.jsx(c4,{color:l,onChange:x=>h(x)})})]}),A.jsx("input",{type:"text",autoComplete:"off",spellCheck:!1,className:"color-input",value:c,onChange:x=>g(x.currentTarget.value),onBlur:()=>m()}),A.jsx("input",{type:"text",autoComplete:"off",spellCheck:!1,className:"alpha-input",value:a,onChange:x=>d(x.currentTarget.value),onBlur:()=>v()}),A.jsx(W4,{value:l.a,setValue:x=>y(x)})]})},W4=({value:e,setValue:t})=>{const[n,i]=E.useState(!1);return A.jsxs(mp,{open:n,onOpenChange:i,placement:"bottom",initialOffset:10,children:[A.jsx(yp,{onClick:()=>i(o=>!o),className:`absolute border right-px top-px w-6 h-6 cursor-pointer center rounded text-white/65" ${n?"border-highlight":"border-transparent"}`,children:A.jsx(x2,{size:18,stroke:1})}),A.jsx(_p,{className:"bg-default-2 px-4 py-2 rounded w-60 border border-white/10",children:A.jsx(S1,{min:0,max:1,step:.01,value:e,onChange:o=>t(o)})})]})},Y4=({min:e=0,max:t=100,sensitivity:n=1,decimals:i=4,value:o,onChange:l,convertFrom:a,convertTo:c})=>{const[h,d]=E.useState(""),[g,m]=E.useState(0),[v,y]=E.useState(!1),x=E.useRef(0),b=E.useRef(0);E.useEffect(()=>{if(isNaN(o))return;let N=o;a&&(N=a(N)),d(N.toString()),m(o)},[o,a]);const S=N=>{x.current=N,window.addEventListener("mousemove",k),window.addEventListener("mouseup",w),y(!0)},k=N=>{requestAnimationFrame(()=>{let j=Number(h)+(N.screenX-x.current)*n;C(j)})},w=()=>{y(!1),window.removeEventListener("mousemove",k),window.removeEventListener("mouseup",w)},C=N=>{N=SE(N,e,t),N=EE(N,i),d(N.toString()),b.current=N,m(N),c&&(N=c(N)),l(N)};return{strValue:h,numValue:g,onMouseDown:S,updateInputValue:C,doChange:N=>{let j=Number(N);if(N===""||N.endsWith(".")||isNaN(j)){d(N);return}C(j)},doBlur:()=>{C(b.current)},isHoverSliding:v}},bt=({min:e=0,max:t=100,sensitivity:n=1,decimals:i=3,label:o,value:l,icon:a,onChange:c,convertTo:h,convertFrom:d,className:g=""})=>{const{strValue:m,numValue:v,onMouseDown:y,doChange:x,doBlur:b,updateInputValue:S,isHoverSliding:k}=Y4({min:e,max:t,sensitivity:n,decimals:i,value:l,onChange:c,convertTo:h,convertFrom:d});return A.jsxs("div",{children:[o&&A.jsx("label",{className:"text-xs font-light opacity-65",children:o}),A.jsxs("div",{className:`relative ${g}`,children:[A.jsx("button",{className:`absolute left-px top-px w-6 h-6 cursor-ew-resize center rounded text-white/65 border ${k?"border-highlight":"border-transparent"}`,onMouseDown:w=>y(w.screenX),children:a&&A.jsx(a,{size:18,stroke:1})}),A.jsx("input",{type:"text",autoComplete:"off",spellCheck:!1,className:"slider-input",value:m,onChange:w=>x(w.target.value),onBlur:()=>b()}),A.jsx(X4,{min:e,max:t,value:v,setValue:S})]})]})},X4=({min:e,max:t,value:n,setValue:i})=>{const[o,l]=E.useState(!1);return A.jsxs(mp,{open:o,onOpenChange:l,placement:"bottom",initialOffset:10,children:[A.jsx(yp,{onClick:()=>l(a=>!a),className:`absolute border right-px top-px w-6 h-6 cursor-pointer center rounded text-white/65" ${o?"border-highlight":"border-transparent"}`,children:A.jsx(A2,{size:18,stroke:1})}),A.jsx(_p,{className:"bg-default-2 px-4 py-2 rounded w-64 border border-white/10",children:A.jsx(S1,{min:e,max:t,value:n,onChange:a=>i(a)})})]})};var Dl={},g_;function K4(){if(g_)return Dl;g_=1,Object.defineProperty(Dl,"__esModule",{value:!0}),Dl.parse=a,Dl.serialize=d;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function a(v,y){const x=new l,b=v.length;if(b<2)return x;const S=(y==null?void 0:y.decode)||g;let k=0;do{const w=v.indexOf("=",k);if(w===-1)break;const C=v.indexOf(";",k),M=C===-1?b:C;if(w>M){k=v.lastIndexOf(";",w-1)+1;continue}const P=c(v,k,w),N=h(v,w,P),j=v.slice(P,N);if(x[j]===void 0){let X=c(v,w+1,M),z=h(v,M,X);const W=S(v.slice(X,z));x[j]=W}k=M+1}while(k<b);return x}function c(v,y,x){do{const b=v.charCodeAt(y);if(b!==32&&b!==9)return y}while(++y<x);return x}function h(v,y,x){for(;y>x;){const b=v.charCodeAt(--y);if(b!==32&&b!==9)return y+1}return x}function d(v,y,x){const b=(x==null?void 0:x.encode)||encodeURIComponent;if(!e.test(v))throw new TypeError(`argument name is invalid: ${v}`);const S=b(y);if(!t.test(S))throw new TypeError(`argument val is invalid: ${y}`);let k=v+"="+S;if(!x)return k;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);k+="; Max-Age="+x.maxAge}if(x.domain){if(!n.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);k+="; Domain="+x.domain}if(x.path){if(!i.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);k+="; Path="+x.path}if(x.expires){if(!m(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);k+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(k+="; HttpOnly"),x.secure&&(k+="; Secure"),x.partitioned&&(k+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":k+="; Priority=Low";break;case"medium":k+="; Priority=Medium";break;case"high":k+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":k+="; SameSite=Strict";break;case"lax":k+="; SameSite=Lax";break;case"none":k+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return k}function g(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function m(v){return o.call(v)==="[object Date]"}return Dl}K4();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var m_="popstate";function q4(e={}){function t(i,o){let{pathname:l,search:a,hash:c}=i.location;return zd("",{pathname:l,search:a,hash:c},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){return typeof o=="string"?o:na(o)}return Q4(t,n,null,e)}function ft(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Yr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function G4(){return Math.random().toString(36).substring(2,10)}function y_(e,t){return{usr:e.state,key:e.key,idx:t}}function zd(e,t,n=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Yo(t):t,state:n,key:t&&t.key||i||G4()}}function na({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Yo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function Q4(e,t,n,i={}){let{window:o=document.defaultView,v5Compat:l=!1}=i,a=o.history,c="POP",h=null,d=g();d==null&&(d=0,a.replaceState({...a.state,idx:d},""));function g(){return(a.state||{idx:null}).idx}function m(){c="POP";let S=g(),k=S==null?null:S-d;d=S,h&&h({action:c,location:b.location,delta:k})}function v(S,k){c="PUSH";let w=zd(b.location,S,k);d=g()+1;let C=y_(w,d),M=b.createHref(w);try{a.pushState(C,"",M)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;o.location.assign(M)}l&&h&&h({action:c,location:b.location,delta:1})}function y(S,k){c="REPLACE";let w=zd(b.location,S,k);d=g();let C=y_(w,d),M=b.createHref(w);a.replaceState(C,"",M),l&&h&&h({action:c,location:b.location,delta:0})}function x(S){let k=o.location.origin!=="null"?o.location.origin:o.location.href,w=typeof S=="string"?S:na(S);return w=w.replace(/ $/,"%20"),ft(k,`No window.location.(origin|href) available to create URL for href: ${w}`),new URL(w,k)}let b={get action(){return c},get location(){return e(o,a)},listen(S){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(m_,m),h=S,()=>{o.removeEventListener(m_,m),h=null}},createHref(S){return t(o,S)},createURL:x,encodeLocation(S){let k=x(S);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:v,replace:y,go(S){return a.go(S)}};return b}function E1(e,t,n="/"){return Z4(e,t,n,!1)}function Z4(e,t,n,i){let o=typeof t=="string"?Yo(t):t,l=ts(o.pathname||"/",n);if(l==null)return null;let a=C1(e);J4(a);let c=null;for(let h=0;c==null&&h<a.length;++h){let d=cC(l);c=aC(a[h],d,i)}return c}function C1(e,t=[],n=[],i=""){let o=(l,a,c)=>{let h={relativePath:c===void 0?l.path||"":c,caseSensitive:l.caseSensitive===!0,childrenIndex:a,route:l};h.relativePath.startsWith("/")&&(ft(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length));let d=mi([i,h.relativePath]),g=n.concat(h);l.children&&l.children.length>0&&(ft(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),C1(l.children,t,g,d)),!(l.path==null&&!l.index)&&t.push({path:d,score:oC(d,l.index),routesMeta:g})};return e.forEach((l,a)=>{var c;if(l.path===""||!((c=l.path)!=null&&c.includes("?")))o(l,a);else for(let h of R1(l.path))o(l,a,h)}),t}function R1(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,o=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let a=R1(i.join("/")),c=[];return c.push(...a.map(h=>h===""?l:[l,h].join("/"))),o&&c.push(...a),c.map(h=>e.startsWith("/")&&h===""?"/":h)}function J4(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:lC(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var eC=/^:[\w-]+$/,tC=3,nC=2,rC=1,iC=10,sC=-2,__=e=>e==="*";function oC(e,t){let n=e.split("/"),i=n.length;return n.some(__)&&(i+=sC),t&&(i+=nC),n.filter(o=>!__(o)).reduce((o,l)=>o+(eC.test(l)?tC:l===""?rC:iC),i)}function lC(e,t){return e.length===t.length&&e.slice(0,-1).every((i,o)=>i===t[o])?e[e.length-1]-t[t.length-1]:0}function aC(e,t,n=!1){let{routesMeta:i}=e,o={},l="/",a=[];for(let c=0;c<i.length;++c){let h=i[c],d=c===i.length-1,g=l==="/"?t:t.slice(l.length)||"/",m=uc({path:h.relativePath,caseSensitive:h.caseSensitive,end:d},g),v=h.route;if(!m&&d&&n&&!i[i.length-1].route.index&&(m=uc({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!m)return null;Object.assign(o,m.params),a.push({params:o,pathname:mi([l,m.pathname]),pathnameBase:pC(mi([l,m.pathnameBase])),route:v}),m.pathnameBase!=="/"&&(l=mi([l,m.pathnameBase]))}return a}function uc(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=uC(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let l=o[0],a=l.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:i.reduce((d,{paramName:g,isOptional:m},v)=>{if(g==="*"){let x=c[v]||"";a=l.slice(0,l.length-x.length).replace(/(.)\/+$/,"$1")}const y=c[v];return m&&!y?d[g]=void 0:d[g]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:l,pathnameBase:a,pattern:e}}function uC(e,t=!1,n=!0){Yr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,c,h)=>(i.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),i]}function cC(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Yr(!1,`The URL path "${e}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ts(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function fC(e,t="/"){let{pathname:n,search:i="",hash:o=""}=typeof e=="string"?Yo(e):e;return{pathname:n?n.startsWith("/")?n:hC(n,t):t,search:gC(i),hash:mC(o)}}function hC(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function ld(e,t,n,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function dC(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function T1(e){let t=dC(e);return t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase)}function M1(e,t,n,i=!1){let o;typeof e=="string"?o=Yo(e):(o={...e},ft(!o.pathname||!o.pathname.includes("?"),ld("?","pathname","search",o)),ft(!o.pathname||!o.pathname.includes("#"),ld("#","pathname","hash",o)),ft(!o.search||!o.search.includes("#"),ld("#","search","hash",o)));let l=e===""||o.pathname==="",a=l?"/":o.pathname,c;if(a==null)c=n;else{let m=t.length-1;if(!i&&a.startsWith("..")){let v=a.split("/");for(;v[0]==="..";)v.shift(),m-=1;o.pathname=v.join("/")}c=m>=0?t[m]:"/"}let h=fC(o,c),d=a&&a!=="/"&&a.endsWith("/"),g=(l||a===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(d||g)&&(h.pathname+="/"),h}var mi=e=>e.join("/").replace(/\/\/+/g,"/"),pC=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),gC=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,mC=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function yC(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var A1=["POST","PUT","PATCH","DELETE"];new Set(A1);var _C=["GET",...A1];new Set(_C);var Xo=E.createContext(null);Xo.displayName="DataRouter";var zc=E.createContext(null);zc.displayName="DataRouterState";var P1=E.createContext({isTransitioning:!1});P1.displayName="ViewTransition";var vC=E.createContext(new Map);vC.displayName="Fetchers";var xC=E.createContext(null);xC.displayName="Await";var qr=E.createContext(null);qr.displayName="Navigation";var ca=E.createContext(null);ca.displayName="Location";var Gr=E.createContext({outlet:null,matches:[],isDataRoute:!1});Gr.displayName="Route";var xp=E.createContext(null);xp.displayName="RouteError";function wC(e,{relative:t}={}){ft(fa(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=E.useContext(qr),{hash:o,pathname:l,search:a}=ha(e,{relative:t}),c=l;return n!=="/"&&(c=l==="/"?n:mi([n,l])),i.createHref({pathname:c,search:a,hash:o})}function fa(){return E.useContext(ca)!=null}function Vs(){return ft(fa(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(ca).location}var O1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function L1(e){E.useContext(qr).static||E.useLayoutEffect(e)}function bC(){let{isDataRoute:e}=E.useContext(Gr);return e?IC():kC()}function kC(){ft(fa(),"useNavigate() may be used only in the context of a <Router> component.");let e=E.useContext(Xo),{basename:t,navigator:n}=E.useContext(qr),{matches:i}=E.useContext(Gr),{pathname:o}=Vs(),l=JSON.stringify(T1(i)),a=E.useRef(!1);return L1(()=>{a.current=!0}),E.useCallback((h,d={})=>{if(Yr(a.current,O1),!a.current)return;if(typeof h=="number"){n.go(h);return}let g=M1(h,JSON.parse(l),o,d.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:mi([t,g.pathname])),(d.replace?n.replace:n.push)(g,d.state,d)},[t,n,l,o,e])}E.createContext(null);function SC(){let{matches:e}=E.useContext(Gr),t=e[e.length-1];return t?t.params:{}}function ha(e,{relative:t}={}){let{matches:n}=E.useContext(Gr),{pathname:i}=Vs(),o=JSON.stringify(T1(n));return E.useMemo(()=>M1(e,JSON.parse(o),i,t==="path"),[e,o,i,t])}function EC(e,t){return F1(e,t)}function F1(e,t,n,i){var k;ft(fa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=E.useContext(qr),{matches:l}=E.useContext(Gr),a=l[l.length-1],c=a?a.params:{},h=a?a.pathname:"/",d=a?a.pathnameBase:"/",g=a&&a.route;{let w=g&&g.path||"";N1(h,!g||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let m=Vs(),v;if(t){let w=typeof t=="string"?Yo(t):t;ft(d==="/"||((k=w.pathname)==null?void 0:k.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${w.pathname}" was given in the \`location\` prop.`),v=w}else v=m;let y=v.pathname||"/",x=y;if(d!=="/"){let w=d.replace(/^\//,"").split("/");x="/"+y.replace(/^\//,"").split("/").slice(w.length).join("/")}let b=E1(e,{pathname:x});Yr(g||b!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Yr(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=AC(b&&b.map(w=>Object.assign({},w,{params:Object.assign({},c,w.params),pathname:mi([d,o.encodeLocation?o.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?d:mi([d,o.encodeLocation?o.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),l,n,i);return t&&S?E.createElement(ca.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},S):S}function CC(){let e=NC(),t=yC(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=E.createElement(E.Fragment,null,E.createElement("p",null," Hey developer "),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:l},"ErrorBoundary")," or"," ",E.createElement("code",{style:l},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},t),n?E.createElement("pre",{style:o},n):null,a)}var RC=E.createElement(CC,null),TC=class extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?E.createElement(Gr.Provider,{value:this.props.routeContext},E.createElement(xp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function MC({routeContext:e,match:t,children:n}){let i=E.useContext(Xo);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),E.createElement(Gr.Provider,{value:e},n)}function AC(e,t=[],n=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=n==null?void 0:n.errors;if(l!=null){let h=o.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);ft(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,h+1))}let a=!1,c=-1;if(n)for(let h=0;h<o.length;h++){let d=o[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=h),d.route.id){let{loaderData:g,errors:m}=n,v=d.route.loader&&!g.hasOwnProperty(d.route.id)&&(!m||m[d.route.id]===void 0);if(d.route.lazy||v){a=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,d,g)=>{let m,v=!1,y=null,x=null;n&&(m=l&&d.route.id?l[d.route.id]:void 0,y=d.route.errorElement||RC,a&&(c<0&&g===0?(N1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,x=null):c===g&&(v=!0,x=d.route.hydrateFallbackElement||null)));let b=t.concat(o.slice(0,g+1)),S=()=>{let k;return m?k=y:v?k=x:d.route.Component?k=E.createElement(d.route.Component,null):d.route.element?k=d.route.element:k=h,E.createElement(MC,{match:d,routeContext:{outlet:h,matches:b,isDataRoute:n!=null},children:k})};return n&&(d.route.ErrorBoundary||d.route.errorElement||g===0)?E.createElement(TC,{location:n.location,revalidation:n.revalidation,component:y,error:m,children:S(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):S()},null)}function wp(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function PC(e){let t=E.useContext(Xo);return ft(t,wp(e)),t}function OC(e){let t=E.useContext(zc);return ft(t,wp(e)),t}function LC(e){let t=E.useContext(Gr);return ft(t,wp(e)),t}function bp(e){let t=LC(e),n=t.matches[t.matches.length-1];return ft(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function FC(){return bp("useRouteId")}function NC(){var i;let e=E.useContext(xp),t=OC("useRouteError"),n=bp("useRouteError");return e!==void 0?e:(i=t.errors)==null?void 0:i[n]}function IC(){let{router:e}=PC("useNavigate"),t=bp("useNavigate"),n=E.useRef(!1);return L1(()=>{n.current=!0}),E.useCallback(async(o,l={})=>{Yr(n.current,O1),n.current&&(typeof o=="number"?e.navigate(o):await e.navigate(o,{fromRouteId:t,...l}))},[e,t])}var v_={};function N1(e,t,n){!t&&!v_[e]&&(v_[e]=!0,Yr(!1,n))}E.memo(jC);function jC({routes:e,future:t,state:n}){return F1(e,void 0,n,t)}function Bd(e){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function DC({basename:e="/",children:t=null,location:n,navigationType:i="POP",navigator:o,static:l=!1}){ft(!fa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=e.replace(/^\/*/,"/"),c=E.useMemo(()=>({basename:a,navigator:o,static:l,future:{}}),[a,o,l]);typeof n=="string"&&(n=Yo(n));let{pathname:h="/",search:d="",hash:g="",state:m=null,key:v="default"}=n,y=E.useMemo(()=>{let x=ts(h,a);return x==null?null:{location:{pathname:x,search:d,hash:g,state:m,key:v},navigationType:i}},[a,h,d,g,m,v,i]);return Yr(y!=null,`<Router basename="${a}"> is not able to match the URL "${h}${d}${g}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:E.createElement(qr.Provider,{value:c},E.createElement(ca.Provider,{children:t,value:y}))}function zC({children:e,location:t}){return EC($d(e),t)}function $d(e,t=[]){let n=[];return E.Children.forEach(e,(i,o)=>{if(!E.isValidElement(i))return;let l=[...t,o];if(i.type===E.Fragment){n.push.apply(n,$d(i.props.children,l));return}ft(i.type===Bd,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!i.props.index||!i.props.children,"An index route cannot have child routes.");let a={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=$d(i.props.children,l)),n.push(a)}),n}var Hu="get",Wu="application/x-www-form-urlencoded";function Bc(e){return e!=null&&typeof e.tagName=="string"}function BC(e){return Bc(e)&&e.tagName.toLowerCase()==="button"}function $C(e){return Bc(e)&&e.tagName.toLowerCase()==="form"}function UC(e){return Bc(e)&&e.tagName.toLowerCase()==="input"}function VC(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function HC(e,t){return e.button===0&&(!t||t==="_self")&&!VC(e)}var Du=null;function WC(){if(Du===null)try{new FormData(document.createElement("form"),0),Du=!1}catch{Du=!0}return Du}var YC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ad(e){return e!=null&&!YC.has(e)?(Yr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wu}"`),null):e}function XC(e,t){let n,i,o,l,a;if($C(e)){let c=e.getAttribute("action");i=c?ts(c,t):null,n=e.getAttribute("method")||Hu,o=ad(e.getAttribute("enctype"))||Wu,l=new FormData(e)}else if(BC(e)||UC(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||c.getAttribute("action");if(i=h?ts(h,t):null,n=e.getAttribute("formmethod")||c.getAttribute("method")||Hu,o=ad(e.getAttribute("formenctype"))||ad(c.getAttribute("enctype"))||Wu,l=new FormData(c,e),!WC()){let{name:d,type:g,value:m}=e;if(g==="image"){let v=d?`${d}.`:"";l.append(`${v}x`,"0"),l.append(`${v}y`,"0")}else d&&l.append(d,m)}}else{if(Bc(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Hu,i=null,o=Wu,a=e}return l&&o==="text/plain"&&(a=l,l=void 0),{action:i,method:n.toLowerCase(),encType:o,formData:l,body:a}}function kp(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function KC(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function qC(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function GC(e,t,n){let i=await Promise.all(e.map(async o=>{let l=t.routes[o.route.id];if(l){let a=await KC(l,n);return a.links?a.links():[]}return[]}));return eR(i.flat(1).filter(qC).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function x_(e,t,n,i,o,l){let a=(h,d)=>n[d]?h.route.id!==n[d].route.id:!0,c=(h,d)=>{var g;return n[d].pathname!==h.pathname||((g=n[d].route.path)==null?void 0:g.endsWith("*"))&&n[d].params["*"]!==h.params["*"]};return l==="assets"?t.filter((h,d)=>a(h,d)||c(h,d)):l==="data"?t.filter((h,d)=>{var m;let g=i.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(a(h,d)||c(h,d))return!0;if(h.route.shouldRevalidate){let v=h.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function QC(e,t){return ZC(e.map(n=>{let i=t.routes[n.route.id];if(!i)return[];let o=[i.module];return i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function ZC(e){return[...new Set(e)]}function JC(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}function eR(e,t){let n=new Set;return new Set(t),e.reduce((i,o)=>{let l=JSON.stringify(JC(o));return n.has(l)||(n.add(l),i.push({key:l,link:o})),i},[])}function tR(e){let t=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function nR(){let e=E.useContext(Xo);return kp(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function rR(){let e=E.useContext(zc);return kp(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Sp=E.createContext(void 0);Sp.displayName="FrameworkContext";function I1(){let e=E.useContext(Sp);return kp(e,"You must render this element inside a <HydratedRouter> element"),e}function iR(e,t){let n=E.useContext(Sp),[i,o]=E.useState(!1),[l,a]=E.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:d,onMouseLeave:g,onTouchStart:m}=t,v=E.useRef(null);E.useEffect(()=>{if(e==="render"&&a(!0),e==="viewport"){let b=k=>{k.forEach(w=>{a(w.isIntersecting)})},S=new IntersectionObserver(b,{threshold:.5});return v.current&&S.observe(v.current),()=>{S.disconnect()}}},[e]),E.useEffect(()=>{if(i){let b=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(b)}}},[i]);let y=()=>{o(!0)},x=()=>{o(!1),a(!1)};return n?e!=="intent"?[l,v,{}]:[l,v,{onFocus:zl(c,y),onBlur:zl(h,x),onMouseEnter:zl(d,y),onMouseLeave:zl(g,x),onTouchStart:zl(m,y)}]:[!1,v,{}]}function zl(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function sR({page:e,...t}){let{router:n}=nR(),i=E.useMemo(()=>E1(n.routes,e,n.basename),[n.routes,e,n.basename]);return i?E.createElement(lR,{page:e,matches:i,...t}):null}function oR(e){let{manifest:t,routeModules:n}=I1(),[i,o]=E.useState([]);return E.useEffect(()=>{let l=!1;return GC(e,t,n).then(a=>{l||o(a)}),()=>{l=!0}},[e,t,n]),i}function lR({page:e,matches:t,...n}){let i=Vs(),{manifest:o,routeModules:l}=I1(),{loaderData:a,matches:c}=rR(),h=E.useMemo(()=>x_(e,t,c,o,i,"data"),[e,t,c,o,i]),d=E.useMemo(()=>x_(e,t,c,o,i,"assets"),[e,t,c,o,i]),g=E.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let y=new Set,x=!1;if(t.forEach(S=>{var w;let k=o.routes[S.route.id];!k||!k.hasLoader||(!h.some(C=>C.route.id===S.route.id)&&S.route.id in a&&((w=l[S.route.id])!=null&&w.shouldRevalidate)||k.hasClientLoader?x=!0:y.add(S.route.id))}),y.size===0)return[];let b=tR(e);return x&&y.size>0&&b.searchParams.set("_routes",t.filter(S=>y.has(S.route.id)).map(S=>S.route.id).join(",")),[b.pathname+b.search]},[a,i,o,h,t,e,l]),m=E.useMemo(()=>QC(d,o),[d,o]),v=oR(d);return E.createElement(E.Fragment,null,g.map(y=>E.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...n})),m.map(y=>E.createElement("link",{key:y,rel:"modulepreload",href:y,...n})),v.map(({key:y,link:x})=>E.createElement("link",{key:y,...x})))}function aR(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var j1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{j1&&(window.__reactRouterVersion="7.1.1")}catch{}function uR({basename:e,children:t,window:n}){let i=E.useRef();i.current==null&&(i.current=q4({window:n,v5Compat:!0}));let o=i.current,[l,a]=E.useState({action:o.action,location:o.location}),c=E.useCallback(h=>{E.startTransition(()=>a(h))},[a]);return E.useLayoutEffect(()=>o.listen(c),[o,c]),E.createElement(DC,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:o})}var D1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ep=E.forwardRef(function({onClick:t,discover:n="render",prefetch:i="none",relative:o,reloadDocument:l,replace:a,state:c,target:h,to:d,preventScrollReset:g,viewTransition:m,...v},y){let{basename:x}=E.useContext(qr),b=typeof d=="string"&&D1.test(d),S,k=!1;if(typeof d=="string"&&b&&(S=d,j1))try{let z=new URL(window.location.href),W=d.startsWith("//")?new URL(z.protocol+d):new URL(d),K=ts(W.pathname,x);W.origin===z.origin&&K!=null?d=K+W.search+W.hash:k=!0}catch{Yr(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=wC(d,{relative:o}),[C,M,P]=iR(i,v),N=dR(d,{replace:a,state:c,target:h,preventScrollReset:g,relative:o,viewTransition:m});function j(z){t&&t(z),z.defaultPrevented||N(z)}let X=E.createElement("a",{...v,...P,href:S||w,onClick:k||l?t:j,ref:aR(y,M),target:h,"data-discover":!b&&n==="render"?"true":void 0});return C&&!b?E.createElement(E.Fragment,null,X,E.createElement(sR,{page:w})):X});Ep.displayName="Link";var cR=E.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:i="",end:o=!1,style:l,to:a,viewTransition:c,children:h,...d},g){let m=ha(a,{relative:d.relative}),v=Vs(),y=E.useContext(zc),{navigator:x,basename:b}=E.useContext(qr),S=y!=null&&_R(m)&&c===!0,k=x.encodeLocation?x.encodeLocation(m).pathname:m.pathname,w=v.pathname,C=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(w=w.toLowerCase(),C=C?C.toLowerCase():null,k=k.toLowerCase()),C&&b&&(C=ts(C,b)||C);const M=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let P=w===k||!o&&w.startsWith(k)&&w.charAt(M)==="/",N=C!=null&&(C===k||!o&&C.startsWith(k)&&C.charAt(k.length)==="/"),j={isActive:P,isPending:N,isTransitioning:S},X=P?t:void 0,z;typeof i=="function"?z=i(j):z=[i,P?"active":null,N?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let W=typeof l=="function"?l(j):l;return E.createElement(Ep,{...d,"aria-current":X,className:z,ref:g,style:W,to:a,viewTransition:c},typeof h=="function"?h(j):h)});cR.displayName="NavLink";var fR=E.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:i,replace:o,state:l,method:a=Hu,action:c,onSubmit:h,relative:d,preventScrollReset:g,viewTransition:m,...v},y)=>{let x=mR(),b=yR(c,{relative:d}),S=a.toLowerCase()==="get"?"get":"post",k=typeof c=="string"&&D1.test(c),w=C=>{if(h&&h(C),C.defaultPrevented)return;C.preventDefault();let M=C.nativeEvent.submitter,P=(M==null?void 0:M.getAttribute("formmethod"))||a;x(M||C.currentTarget,{fetcherKey:t,method:P,navigate:n,replace:o,state:l,relative:d,preventScrollReset:g,viewTransition:m})};return E.createElement("form",{ref:y,method:S,action:b,onSubmit:i?h:w,...v,"data-discover":!k&&e==="render"?"true":void 0})});fR.displayName="Form";function hR(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function z1(e){let t=E.useContext(Xo);return ft(t,hR(e)),t}function dR(e,{target:t,replace:n,state:i,preventScrollReset:o,relative:l,viewTransition:a}={}){let c=bC(),h=Vs(),d=ha(e,{relative:l});return E.useCallback(g=>{if(HC(g,t)){g.preventDefault();let m=n!==void 0?n:na(h)===na(d);c(e,{replace:m,state:i,preventScrollReset:o,relative:l,viewTransition:a})}},[h,c,d,n,i,t,e,o,l,a])}var pR=0,gR=()=>`__${String(++pR)}__`;function mR(){let{router:e}=z1("useSubmit"),{basename:t}=E.useContext(qr),n=FC();return E.useCallback(async(i,o={})=>{let{action:l,method:a,encType:c,formData:h,body:d}=XC(i,t);if(o.navigate===!1){let g=o.fetcherKey||gR();await e.fetch(g,n,o.action||l,{preventScrollReset:o.preventScrollReset,formData:h,body:d,formMethod:o.method||a,formEncType:o.encType||c,flushSync:o.flushSync})}else await e.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:h,body:d,formMethod:o.method||a,formEncType:o.encType||c,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[e,t,n])}function yR(e,{relative:t}={}){let{basename:n}=E.useContext(qr),i=E.useContext(Gr);ft(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),l={...ha(e||".",{relative:t})},a=Vs();if(e==null){l.search=a.search;let c=new URLSearchParams(l.search),h=c.getAll("index");if(h.some(g=>g==="")){c.delete("index"),h.filter(m=>m).forEach(m=>c.append("index",m));let g=c.toString();l.search=g?`?${g}`:""}}return(!e||e===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:mi([n,l.pathname])),na(l)}function _R(e,t={}){let n=E.useContext(P1);ft(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=z1("useViewTransitionState"),o=ha(e,{relative:t.relative});if(!n.isTransitioning)return!1;let l=ts(n.currentLocation.pathname,i)||n.currentLocation.pathname,a=ts(n.nextLocation.pathname,i)||n.nextLocation.pathname;return uc(o.pathname,a)!=null||uc(o.pathname,l)!=null}new TextEncoder;const vR=()=>{const[e,t]=E.useState([]);async function n(){const i=await Ik();t(i)}return E.useEffect(()=>{n()},[]),A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"pb-1 pt-4",children:"Sketches"}),A.jsx("div",{className:"h-64 overflow-y-auto scroll-smooth shadow rounded bg-default-3",children:A.jsx("div",{className:"flex flex-col text-sm gap-1",children:e.map(i=>A.jsx(Ep,{className:"px-2 py-0.5 hover:bg-default-4",to:`/sketch/${i}`,children:i},i))})})]})};let cc=new Map,Ud;function xR(){for(const[,e]of cc)Pc({type:"update",label:"Edit properties",shapeId:e.shapeId,changes:Array.from(e.changes.values())});cc=new Map,Ud=void 0}function wR(e,t,n,i){let o=cc.get(e);o||(o={shapeId:e,changes:new Map},cc.set(e,o));const l=o.changes.get(t);o.changes.set(t,{field:t,oldValue:l?l.oldValue:n,newValue:i}),clearTimeout(Ud),Ud=setTimeout(xR,500)}function bR(e,t){const n=t.split(".");return n.length===2?e[n[0]][n[1]]:e[t]}const kR=()=>{const e=Pn(m=>m.selected),t=e==null?void 0:e[0],n=it(t==null?void 0:t.stroke).toRgb(),i=it(t==null?void 0:t.fill).toRgb(),o=ze(m=>m.canvasColor),l=ze.getState().setCanvasColor,a=ze(m=>m.gridSize),c=ze(m=>m.gridType),h=ze(m=>m.gridColor),d=ze(m=>m.gridMinZoom);function g(m,v){const y=Ue();for(const x of Pn.getState().selected){const b=bR(x,m),S=m.split(".");["stroke","fill"].includes(m)&&(v=it(v).toHex()),S.length==2?x[S[0]][S[1]]=v:x[m]=v,wR(x.id,m,b,v)}y.throttledTwoUpdate()}return A.jsxs("div",{className:"flex flex-col h-full",children:[A.jsxs("div",{className:"flex-grow",children:[!(e!=null&&e.length)&&A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"pt-4 pb-1 text-sm",children:"Page"}),A.jsx("div",{className:"flex flex-col gap-4",children:A.jsx(Cr,{value:o,onChange:m=>l(m)})}),A.jsx("div",{className:"pt-4 pb-1 text-sm",children:"Grid"}),A.jsxs("div",{className:"flex flex-col gap-2",children:[A.jsxs("div",{className:"flex gap-2",children:[A.jsxs(dp,{children:[A.jsx(Gi,{isSelected:c==="none",onClick:()=>{ze.getState().setGridType("none"),Qh("none")},children:A.jsx(s2,{size:20,stroke:1})}),A.jsx(Gi,{isSelected:c==="dots",onClick:()=>{ze.getState().setGridType("dots"),Qh("dots")},children:A.jsx(uy,{size:20,stroke:1})}),A.jsx(Gi,{isSelected:c==="lines",onClick:()=>{ze.getState().setGridType("lines"),Qh("lines")},children:A.jsx(p2,{size:20,stroke:1})})]}),A.jsx(Cr,{value:h,onChange:m=>{ze.getState().setGridColor(m),d3(m)}})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[A.jsx(bt,{label:"Size",icon:uy,min:5,max:100,value:a,onChange:m=>{ze.getState().setGridSize(m),h3(m)}}),A.jsx(bt,{label:"Min zoom",icon:X2,min:5,max:100,value:d,onChange:m=>{ze.getState().setGridMinZoom(m),p3(m)}})]})]}),A.jsx("div",{children:A.jsx(vR,{})})]}),!!(e!=null&&e.length)&&A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"pt-4 pb-1 text-sm",children:"Color"}),A.jsxs("div",{className:"flex flex-col gap-4",children:[n&&A.jsx(Cr,{value:n,onChange:m=>g("stroke",m)}),i&&A.jsx(Cr,{value:i,onChange:m=>g("fill",m)})]}),A.jsx("div",{className:"pt-4 pb-1 text-sm",children:"Stroke"}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsx(bt,{icon:Hd,min:1,max:5e3,value:t==null?void 0:t.linewidth,onChange:m=>g("linewidth",m)}),A.jsx(bt,{icon:M_,min:-100,max:100,value:t==null?void 0:t.radius,onChange:m=>g("radius",m)})]}),A.jsx("div",{className:"pt-4 pb-1 text-sm",children:"Size"}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsx(bt,{icon:T2,min:1,max:5e3,value:t==null?void 0:t.width,onChange:m=>g("width",m)}),A.jsx(bt,{icon:C2,min:1,max:5e3,value:t==null?void 0:t.height,onChange:m=>g("height",m)})]}),A.jsx("div",{className:"pt-4 pb-1 text-sm",children:"Position"}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsx(bt,{icon:I2,min:-5e3,max:5e3,value:t==null?void 0:t.position.x,onChange:m=>g("position.x",m)}),A.jsx(bt,{icon:D2,min:-5e3,max:5e3,value:t==null?void 0:t.position.y,onChange:m=>g("position.y",m)})]}),A.jsx("div",{className:"pt-4 pb-1 text-sm",children:"Transform"}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsx(bt,{icon:E_,min:-360,max:360,sensitivity:1,value:t==null?void 0:t.rotation,onChange:m=>g("rotation",m),convertFrom:CE,convertTo:RE}),A.jsx(bt,{icon:t2,min:-1/0,max:1/0,sensitivity:1,value:t==null?void 0:t.scale,onChange:m=>g("scale",m),convertFrom:m=>m*100,convertTo:m=>m/100}),A.jsx(bt,{icon:O2,min:-Math.PI,max:Math.PI,sensitivity:.01,value:t==null?void 0:t.skewX,onChange:m=>g("skewX",m)}),A.jsx(bt,{icon:F2,min:-Math.PI,max:Math.PI,sensitivity:.01,value:t==null?void 0:t.skewY,onChange:m=>g("skewY",m)})]})]})]}),A.jsx("div",{children:A.jsx(Z3,{})}),A.jsx("div",{children:A.jsx(q3,{})}),A.jsx("div",{className:"pt-16"})]})},SR=()=>{const e=ze(n=>n.isPanelOpen),t=ze.getState().setIsPanelOpen;return A.jsx("div",{className:`transition-all duration-150 w-72 absolute right-0 top-0 overflow-hidden ${e?"h-[calc(100%-56px)] md:h-full":"h-11"}`,children:A.jsxs("div",{className:`bg-default-2 border-l border-default-1 px-4 h-full ${e?"":"rounded-bl-lg"}`,children:[A.jsxs("div",{className:"flex items-center w-full gap-4 py-1",children:[A.jsx(qi,{onClick:()=>t(!e),children:A.jsx(_2,{stroke:1})}),A.jsx(ER,{})]}),A.jsx(kR,{})]})})},ER=()=>{const e=Ic(o=>o.zoom),t=Wr(o=>o.undoStack.length),n=Wr(o=>o.redoStack.length),i=()=>{Ue().saveDoodles()};return A.jsxs("div",{className:"text-sm flex justify-end items-center w-full",children:[A.jsx(Rt,{tooltip:"Undo (Ctrl+Z)",children:A.jsx(qi,{onClick:ap,disabled:t===0,children:A.jsx(C_,{stroke:1})})}),A.jsx(Rt,{tooltip:"Redo (Ctrl+Shift+Z)",children:A.jsx(qi,{onClick:up,disabled:n===0,children:A.jsx(R_,{stroke:1})})}),A.jsx(Rt,{tooltip:"Save to local storage",children:A.jsx(qi,{onClick:()=>i(),children:A.jsx(Jw,{stroke:1})})}),A.jsx(Rt,{tooltip:"Reset zoom",children:A.jsx(qi,{onClick:()=>S3(),children:A.jsx(u2,{stroke:1})})}),A.jsxs("div",{className:"w-12 text-right",children:[e,"%"]})]})},CR=()=>{E.useEffect(()=>(window.addEventListener("wheel",w_,{passive:!1}),()=>{window.removeEventListener("wheel",w_)}),[])};function w_(e){var t;e.deltaX!==0&&((t=e==null?void 0:e.preventDefault)==null||t.call(e))}const RR=()=>{let e=ze(n=>n.selectedTool);const t=ze(n=>n.restoreTool);return t&&(e=t),e==="brush"?A.jsx(TR,{}):e==="square"?A.jsx(MR,{}):e==="bezier"?A.jsx(PR,{}):e==="line"||e==="arrow"?A.jsx(OR,{}):e==="text"?A.jsx(AR,{}):null},TR=()=>{const e=pi(g=>g.strokeWidth),t=pi(g=>g.tolerance),n=pi(g=>g.stabilizer),i=pi(g=>g.strokeColor),o=pi(g=>g.simplifyAlgo),{setStrokeColor:l,setStrokeWidth:a,setStabilizer:c,setTolerance:h,setSimplifyAlgo:d}=pi.getState();return A.jsxs("div",{className:"flex flex-row gap-2 text-xs items-center",children:[A.jsx("label",{children:"Color"}),A.jsx(Cr,{value:i,onChange:g=>l(g)}),A.jsx("label",{className:"pl-2",children:"Stroke"}),A.jsx(bt,{className:"max-w-20",value:e,min:1,max:256,onChange:g=>a(g),icon:Hd}),A.jsx("label",{className:"pl-2",children:"Stabilizer"}),A.jsx(bt,{className:"max-w-20",value:n,min:0,max:10,onChange:g=>c(g),icon:qw}),A.jsx("label",{className:"pl-2",children:"Smoothing"}),A.jsx(bt,{className:"max-w-20",value:t,min:0,max:100,onChange:g=>h(g),icon:O_}),A.jsxs(dp,{children:[A.jsx(Rt,{tooltip:"Douglas-Peucker: High-performance general-purpose simplification. Preserves the path's overall shape efficiently. The number represents the acceptable tolerance x 10 times",children:A.jsx(Gi,{isSelected:o==="douglas",onClick:()=>d("douglas"),children:A.jsx(U2,{size:20,stroke:1})})}),A.jsx(Rt,{tooltip:"Area of Triangle smoothing: General-purpose line simplification, especially for preserving visual shapes and smooth curves. The number represents the percentage of nodes to simplify. (Visvalingam-Whyatt algorithm)",children:A.jsx(Gi,{isSelected:o==="triangle",onClick:()=>d("triangle"),children:A.jsx(H2,{size:20,stroke:1})})}),A.jsx(Rt,{tooltip:"Angle smoothing: Best for straight-line approximations and paths where deviations from linearity are critical to detect. The number represents the percentage of nodes to simplify. (Visvalingam-Whyatt algorithm)",children:A.jsx(Gi,{isSelected:o==="angle",onClick:()=>d("angle"),children:A.jsx(E_,{size:20,stroke:1})})}),A.jsx(Rt,{tooltip:"Perpendicular Distance smoothing: Best for straight-line approximations and paths where deviations from linearity are critical to detect. The number the represents percentage of nodes to simplify. (Visvalingam-Whyatt algorithm)",children:A.jsx(Gi,{isSelected:o==="distance",onClick:()=>d("distance"),children:A.jsx(P_,{size:20,stroke:1})})})]})]})},MR=()=>{const e=Yi(h=>h.strokeWidth),t=Yi(h=>h.strokeColor),n=Yi(h=>h.fillColor),i=Yi(h=>h.radius),{setStrokeColor:o,setStrokeWidth:l,setFillColor:a,setRadius:c}=Yi.getState();return A.jsxs("div",{className:"flex flex-row gap-2 text-xs items-center",children:[A.jsx("label",{children:"Fill"}),A.jsx(Cr,{value:n,onChange:h=>a(h)}),A.jsx("label",{className:"pl-2",children:"Stroke"}),A.jsx(Cr,{value:t,onChange:h=>o(h)}),A.jsx("label",{className:"pl-2",children:"Width"}),A.jsx(bt,{className:"max-w-24",value:e,min:0,max:100,onChange:h=>l(h),icon:A_}),A.jsx("label",{className:"pl-2",children:"Radius"}),A.jsx(bt,{className:"max-w-24",value:i,min:0,max:100,onChange:h=>c(h),icon:M_})]})},AR=()=>{const e=Hl(a=>a.fontSize),t=Hl(a=>a.fillColor),n=Hl(a=>a.fontFamily),{setFillColor:i,setFontSize:o,setFontFamily:l}=Hl.getState();return A.jsxs("div",{className:"flex flex-row gap-2 text-xs items-center",children:[A.jsx("label",{children:"Color"}),A.jsx(Cr,{value:t,onChange:a=>i(a)}),A.jsx("label",{className:"pl-2",children:"Size"}),A.jsx(bt,{className:"max-w-24",value:e,min:8,max:256,onChange:a=>o(a),icon:Wd}),A.jsx("label",{className:"pl-2",children:"Font"}),A.jsxs("select",{className:"bg-default-3 border border-default-1 rounded px-2 py-1 text-xs",value:n,onChange:a=>l(a.target.value),children:[A.jsx("option",{value:"sans-serif",children:"Sans Serif"}),A.jsx("option",{value:"serif",children:"Serif"}),A.jsx("option",{value:"monospace",children:"Monospace"}),A.jsx("option",{value:"cursive",children:"Cursive"})]})]})},PR=()=>{const e=Mn(a=>a.strokeWidth),t=Mn(a=>a.strokeColor),n=Mn(a=>a.fillColor),{setStrokeColor:i,setStrokeWidth:o,setFillColor:l}=Mn.getState();return A.jsxs("div",{className:"flex flex-row gap-2 text-xs items-center",children:[A.jsx("label",{children:"Fill"}),A.jsx(Cr,{value:n,onChange:a=>l(a)}),A.jsx("label",{className:"pl-2",children:"Stroke"}),A.jsx(Cr,{value:t,onChange:a=>i(a)}),A.jsx("label",{className:"pl-2",children:"Width"}),A.jsx(bt,{className:"max-w-24",value:e,min:0,max:100,onChange:a=>o(a),icon:hc})]})},OR=()=>{const e=Ki(c=>c.strokeWidth),t=Ki(c=>c.strokeColor),n=Ki(c=>c.doubleArrow),i=ze(c=>c.selectedTool),{setStrokeColor:o,setStrokeWidth:l,setDoubleArrow:a}=Ki.getState();return A.jsxs("div",{className:"flex flex-row gap-2 text-xs items-center",children:[A.jsx("label",{children:"Color"}),A.jsx(Cr,{value:t,onChange:c=>o(c)}),A.jsx("label",{className:"pl-2",children:"Width"}),A.jsx(bt,{className:"max-w-24",value:e,min:1,max:100,onChange:c=>l(c),icon:hc}),i==="arrow"&&A.jsxs(A.Fragment,{children:[A.jsx("label",{className:"pl-2",children:"Double"}),A.jsx(dp,{children:A.jsx(Rt,{tooltip:"Double-ended arrow",children:A.jsx(Gi,{isSelected:n,onClick:()=>a(!n),children:A.jsx(Ww,{size:20,stroke:1})})})})]})]})},LR=()=>A.jsx("div",{className:"absolute inset-0 bg-default-1 flex flex-center transition-opacity",children:A.jsx("div",{className:"w-64",children:A.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 700 311",version:"1.1",xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd",children:[A.jsx("path",{fill:"none",stroke:"#2b2b2b",strokeWidth:30,strokeLinecap:"round",d:"M187,274C187,274 170.378,268.864 228.974,285C292.703,302.549 303.927,266.646 338,265C374.056,263.258 399.792,287.297 431,286C454.178,285.037 488.914,274.714 493,275C520.055,276.893 531.314,284.145 556,288C578.43,291.503 591.566,293.837 607,294C626.331,294.205 671,282 671,282"}),A.jsx("path",{className:"animate-tail",fill:"none",stroke:"#6e6e6e",strokeWidth:30,strokeDasharray:500,strokeLinecap:"round",d:"M187,274C187,274 170.378,268.864 228.974,285C292.703,302.549 303.927,266.646 338,265C374.056,263.258 399.792,287.297 431,286C454.178,285.037 488.914,274.714 493,275C520.055,276.893 531.314,284.145 556,288C578.43,291.503 591.566,293.837 607,294C626.331,294.205 671,282 671,282"}),A.jsx("g",{transform:"matrix(1,0,0,1,-812.627,-384.976)",children:A.jsx("path",{fill:"#6e6e6e",d:"M867,654C867,654 852.472,690.859 850,692C847.528,693.141 836.252,694.04 832,692C827.748,689.96 827.491,691.692 823,680C818.774,668.997 828.585,670.176 832,667C833.65,665.465 833.381,633.906 828,602C822.619,570.094 818.937,566.178 814,529C809.063,491.822 818.383,449.085 827,438C835.617,426.915 847.48,414.625 847,415C846.52,415.375 863.327,383.996 867,385C870.673,386.004 878.926,404.441 884,406C885.134,406.348 897.779,406.147 905,408C914.601,410.463 921.008,418.516 924,420C926.992,421.484 949.052,408.87 955,412C960.948,415.13 957.273,443.171 954,448C953.51,448.724 959.617,477.941 961,484C962.383,490.059 963.043,498.797 971,518C978.609,536.363 1012.31,578.249 1016,586C1019.7,593.751 1037.3,629.813 1029,655C1018.99,685.409 992.067,694.274 980,695C948.988,696.865 870,694 870,694C870,694 861.378,693.918 862,683C862.33,677.209 879.324,673.309 883,675C886.676,676.691 867,654 867,654Z"})})]})})}),b_=()=>{CR();const{id:e}=SC(),t=e||"local",n=450,[i,o]=E.useState(!0),l=E.useCallback(()=>{setTimeout(()=>o(!1),n)},[o,n]);return A.jsxs("main",{className:"w-dvw h-dvh flex flex-col text-white relative",children:[A.jsx("div",{className:"bg-default-2 border-b border-default-1 min-h-12 h-12 flex items-center px-4",children:A.jsx(RR,{})}),A.jsxs("div",{className:"flex-grow flex relative overflow-hidden",children:[A.jsx(Lk,{}),A.jsx(X3,{sketchId:t,onReady:l}),A.jsx(SR,{})]}),A.jsx("div",{className:"bg-default-2 border-t border-default-1 h-6 overflow-hidden",children:A.jsx(K3,{})}),i&&A.jsx(LR,{}),A.jsx(vE,{})]})};Ow.createRoot(document.getElementById("root")).render(A.jsx(E.StrictMode,{children:A.jsx(uR,{children:A.jsxs(zC,{children:[A.jsx(Bd,{path:"/*",element:A.jsx(b_,{})}),A.jsx(Bd,{path:"/sketch/:id",element:A.jsx(b_,{})})]})})}));
