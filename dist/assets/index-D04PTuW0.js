var Kx=Object.defineProperty;var Rm=e=>{throw TypeError(e)};var qx=(e,t,n)=>t in e?Kx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var U=(e,t,n)=>qx(e,typeof t!="symbol"?t+"":t,n),Tm=(e,t,n)=>t.has(e)||Rm("Cannot "+n);var vn=(e,t,n)=>(Tm(e,t,"read from private field"),n?n.call(e):t.get(e)),Mm=(e,t,n)=>t.has(e)?Rm("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Pm=(e,t,n,i)=>(Tm(e,t,"write to private field"),i?i.call(e,n):t.set(e,n),n);function Gx(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in e)){const l=Object.getOwnPropertyDescriptor(i,o);l&&Object.defineProperty(e,o,l.get?l:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function Z0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var uh={exports:{}},Tl={},ch={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Am;function Qx(){if(Am)return Fe;Am=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),m=Symbol.iterator;function v(L){return L===null||typeof L!="object"?null:(L=m&&L[m]||L["@@iterator"],typeof L=="function"?L:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,k={};function S(L,Y,xe){this.props=L,this.context=Y,this.refs=k,this.updater=xe||_}S.prototype.isReactComponent={},S.prototype.setState=function(L,Y){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,Y,"setState")},S.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function b(){}b.prototype=S.prototype;function x(L,Y,xe){this.props=L,this.context=Y,this.refs=k,this.updater=xe||_}var R=x.prototype=new b;R.constructor=x,w(R,S.prototype),R.isPureReactComponent=!0;var M=Array.isArray,P=Object.prototype.hasOwnProperty,I={current:null},j={key:!0,ref:!0,__self:!0,__source:!0};function X(L,Y,xe){var fe,oe={},Q=null,se=null;if(Y!=null)for(fe in Y.ref!==void 0&&(se=Y.ref),Y.key!==void 0&&(Q=""+Y.key),Y)P.call(Y,fe)&&!j.hasOwnProperty(fe)&&(oe[fe]=Y[fe]);var ee=arguments.length-2;if(ee===1)oe.children=xe;else if(1<ee){for(var Ce=Array(ee),Me=0;Me<ee;Me++)Ce[Me]=arguments[Me+2];oe.children=Ce}if(L&&L.defaultProps)for(fe in ee=L.defaultProps,ee)oe[fe]===void 0&&(oe[fe]=ee[fe]);return{$$typeof:e,type:L,key:Q,ref:se,props:oe,_owner:I.current}}function z(L,Y){return{$$typeof:e,type:L.type,key:Y,ref:L.ref,props:L.props,_owner:L._owner}}function W(L){return typeof L=="object"&&L!==null&&L.$$typeof===e}function K(L){var Y={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(xe){return Y[xe]})}var q=/\/+/g;function ae(L,Y){return typeof L=="object"&&L!==null&&L.key!=null?K(""+L.key):Y.toString(36)}function te(L,Y,xe,fe,oe){var Q=typeof L;(Q==="undefined"||Q==="boolean")&&(L=null);var se=!1;if(L===null)se=!0;else switch(Q){case"string":case"number":se=!0;break;case"object":switch(L.$$typeof){case e:case t:se=!0}}if(se)return se=L,oe=oe(se),L=fe===""?"."+ae(se,0):fe,M(oe)?(xe="",L!=null&&(xe=L.replace(q,"$&/")+"/"),te(oe,Y,xe,"",function(Me){return Me})):oe!=null&&(W(oe)&&(oe=z(oe,xe+(!oe.key||se&&se.key===oe.key?"":(""+oe.key).replace(q,"$&/")+"/")+L)),Y.push(oe)),1;if(se=0,fe=fe===""?".":fe+":",M(L))for(var ee=0;ee<L.length;ee++){Q=L[ee];var Ce=fe+ae(Q,ee);se+=te(Q,Y,xe,Ce,oe)}else if(Ce=v(L),typeof Ce=="function")for(L=Ce.call(L),ee=0;!(Q=L.next()).done;)Q=Q.value,Ce=fe+ae(Q,ee++),se+=te(Q,Y,xe,Ce,oe);else if(Q==="object")throw Y=String(L),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return se}function re(L,Y,xe){if(L==null)return L;var fe=[],oe=0;return te(L,fe,"","",function(Q){return Y.call(xe,Q,oe++)}),fe}function ue(L){if(L._status===-1){var Y=L._result;Y=Y(),Y.then(function(xe){(L._status===0||L._status===-1)&&(L._status=1,L._result=xe)},function(xe){(L._status===0||L._status===-1)&&(L._status=2,L._result=xe)}),L._status===-1&&(L._status=0,L._result=Y)}if(L._status===1)return L._result.default;throw L._result}var Z={current:null},D={transition:null},B={ReactCurrentDispatcher:Z,ReactCurrentBatchConfig:D,ReactCurrentOwner:I};function G(){throw Error("act(...) is not supported in production builds of React.")}return Fe.Children={map:re,forEach:function(L,Y,xe){re(L,function(){Y.apply(this,arguments)},xe)},count:function(L){var Y=0;return re(L,function(){Y++}),Y},toArray:function(L){return re(L,function(Y){return Y})||[]},only:function(L){if(!W(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Fe.Component=S,Fe.Fragment=n,Fe.Profiler=o,Fe.PureComponent=x,Fe.StrictMode=i,Fe.Suspense=h,Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B,Fe.act=G,Fe.cloneElement=function(L,Y,xe){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var fe=w({},L.props),oe=L.key,Q=L.ref,se=L._owner;if(Y!=null){if(Y.ref!==void 0&&(Q=Y.ref,se=I.current),Y.key!==void 0&&(oe=""+Y.key),L.type&&L.type.defaultProps)var ee=L.type.defaultProps;for(Ce in Y)P.call(Y,Ce)&&!j.hasOwnProperty(Ce)&&(fe[Ce]=Y[Ce]===void 0&&ee!==void 0?ee[Ce]:Y[Ce])}var Ce=arguments.length-2;if(Ce===1)fe.children=xe;else if(1<Ce){ee=Array(Ce);for(var Me=0;Me<Ce;Me++)ee[Me]=arguments[Me+2];fe.children=ee}return{$$typeof:e,type:L.type,key:oe,ref:Q,props:fe,_owner:se}},Fe.createContext=function(L){return L={$$typeof:a,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:l,_context:L},L.Consumer=L},Fe.createElement=X,Fe.createFactory=function(L){var Y=X.bind(null,L);return Y.type=L,Y},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(L){return{$$typeof:c,render:L}},Fe.isValidElement=W,Fe.lazy=function(L){return{$$typeof:g,_payload:{_status:-1,_result:L},_init:ue}},Fe.memo=function(L,Y){return{$$typeof:d,type:L,compare:Y===void 0?null:Y}},Fe.startTransition=function(L){var Y=D.transition;D.transition={};try{L()}finally{D.transition=Y}},Fe.unstable_act=G,Fe.useCallback=function(L,Y){return Z.current.useCallback(L,Y)},Fe.useContext=function(L){return Z.current.useContext(L)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(L){return Z.current.useDeferredValue(L)},Fe.useEffect=function(L,Y){return Z.current.useEffect(L,Y)},Fe.useId=function(){return Z.current.useId()},Fe.useImperativeHandle=function(L,Y,xe){return Z.current.useImperativeHandle(L,Y,xe)},Fe.useInsertionEffect=function(L,Y){return Z.current.useInsertionEffect(L,Y)},Fe.useLayoutEffect=function(L,Y){return Z.current.useLayoutEffect(L,Y)},Fe.useMemo=function(L,Y){return Z.current.useMemo(L,Y)},Fe.useReducer=function(L,Y,xe){return Z.current.useReducer(L,Y,xe)},Fe.useRef=function(L){return Z.current.useRef(L)},Fe.useState=function(L){return Z.current.useState(L)},Fe.useSyncExternalStore=function(L,Y,xe){return Z.current.useSyncExternalStore(L,Y,xe)},Fe.useTransition=function(){return Z.current.useTransition()},Fe.version="18.3.1",Fe}var Om;function Sd(){return Om||(Om=1,ch.exports=Qx()),ch.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lm;function Zx(){if(Lm)return Tl;Lm=1;var e=Sd(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function a(c,h,d){var g,m={},v=null,_=null;d!==void 0&&(v=""+d),h.key!==void 0&&(v=""+h.key),h.ref!==void 0&&(_=h.ref);for(g in h)i.call(h,g)&&!l.hasOwnProperty(g)&&(m[g]=h[g]);if(c&&c.defaultProps)for(g in h=c.defaultProps,h)m[g]===void 0&&(m[g]=h[g]);return{$$typeof:t,type:c,key:v,ref:_,props:m,_owner:o.current}}return Tl.Fragment=n,Tl.jsx=a,Tl.jsxs=a,Tl}var Fm;function Jx(){return Fm||(Fm=1,uh.exports=Zx()),uh.exports}var A=Jx(),E=Sd();const rt=Z0(E),ew=Gx({__proto__:null,default:rt},[E]);var pu={},fh={exports:{}},xn={},hh={exports:{}},dh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Im;function tw(){return Im||(Im=1,function(e){function t(D,B){var G=D.length;D.push(B);e:for(;0<G;){var L=G-1>>>1,Y=D[L];if(0<o(Y,B))D[L]=B,D[G]=Y,G=L;else break e}}function n(D){return D.length===0?null:D[0]}function i(D){if(D.length===0)return null;var B=D[0],G=D.pop();if(G!==B){D[0]=G;e:for(var L=0,Y=D.length,xe=Y>>>1;L<xe;){var fe=2*(L+1)-1,oe=D[fe],Q=fe+1,se=D[Q];if(0>o(oe,G))Q<Y&&0>o(se,oe)?(D[L]=se,D[Q]=G,L=Q):(D[L]=oe,D[fe]=G,L=fe);else if(Q<Y&&0>o(se,G))D[L]=se,D[Q]=G,L=Q;else break e}}return B}function o(D,B){var G=D.sortIndex-B.sortIndex;return G!==0?G:D.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var a=Date,c=a.now();e.unstable_now=function(){return a.now()-c}}var h=[],d=[],g=1,m=null,v=3,_=!1,w=!1,k=!1,S=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(D){for(var B=n(d);B!==null;){if(B.callback===null)i(d);else if(B.startTime<=D)i(d),B.sortIndex=B.expirationTime,t(h,B);else break;B=n(d)}}function M(D){if(k=!1,R(D),!w)if(n(h)!==null)w=!0,ue(P);else{var B=n(d);B!==null&&Z(M,B.startTime-D)}}function P(D,B){w=!1,k&&(k=!1,b(X),X=-1),_=!0;var G=v;try{for(R(B),m=n(h);m!==null&&(!(m.expirationTime>B)||D&&!K());){var L=m.callback;if(typeof L=="function"){m.callback=null,v=m.priorityLevel;var Y=L(m.expirationTime<=B);B=e.unstable_now(),typeof Y=="function"?m.callback=Y:m===n(h)&&i(h),R(B)}else i(h);m=n(h)}if(m!==null)var xe=!0;else{var fe=n(d);fe!==null&&Z(M,fe.startTime-B),xe=!1}return xe}finally{m=null,v=G,_=!1}}var I=!1,j=null,X=-1,z=5,W=-1;function K(){return!(e.unstable_now()-W<z)}function q(){if(j!==null){var D=e.unstable_now();W=D;var B=!0;try{B=j(!0,D)}finally{B?ae():(I=!1,j=null)}}else I=!1}var ae;if(typeof x=="function")ae=function(){x(q)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,re=te.port2;te.port1.onmessage=q,ae=function(){re.postMessage(null)}}else ae=function(){S(q,0)};function ue(D){j=D,I||(I=!0,ae())}function Z(D,B){X=S(function(){D(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){w||_||(w=!0,ue(P))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(h)},e.unstable_next=function(D){switch(v){case 1:case 2:case 3:var B=3;break;default:B=v}var G=v;v=B;try{return D()}finally{v=G}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,B){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var G=v;v=D;try{return B()}finally{v=G}},e.unstable_scheduleCallback=function(D,B,G){var L=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?L+G:L):G=L,D){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=G+Y,D={id:g++,callback:B,priorityLevel:D,startTime:G,expirationTime:Y,sortIndex:-1},G>L?(D.sortIndex=G,t(d,D),n(h)===null&&D===n(d)&&(k?(b(X),X=-1):k=!0,Z(M,G-L))):(D.sortIndex=Y,t(h,D),w||_||(w=!0,ue(P))),D},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(D){var B=v;return function(){var G=v;v=B;try{return D.apply(this,arguments)}finally{v=G}}}}(dh)),dh}var Nm;function nw(){return Nm||(Nm=1,hh.exports=tw()),hh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jm;function rw(){if(jm)return xn;jm=1;var e=Sd(),t=nw();function n(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,u=1;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(r,s){a(r,s),a(r+"Capture",s)}function a(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},m={};function v(r){return h.call(m,r)?!0:h.call(g,r)?!1:d.test(r)?m[r]=!0:(g[r]=!0,!1)}function _(r,s,u,f){if(u!==null&&u.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return f?!1:u!==null?!u.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function w(r,s,u,f){if(s===null||typeof s>"u"||_(r,s,u,f))return!0;if(f)return!1;if(u!==null)switch(u.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function k(r,s,u,f,p,y,C){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=f,this.attributeNamespace=p,this.mustUseProperty=u,this.propertyName=r,this.type=s,this.sanitizeURL=y,this.removeEmptyString=C}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){S[r]=new k(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];S[s]=new k(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){S[r]=new k(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){S[r]=new k(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){S[r]=new k(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){S[r]=new k(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){S[r]=new k(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){S[r]=new k(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){S[r]=new k(r,5,!1,r.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function x(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(b,x);S[s]=new k(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(b,x);S[s]=new k(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(b,x);S[s]=new k(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){S[r]=new k(r,1,!1,r.toLowerCase(),null,!1,!1)}),S.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){S[r]=new k(r,1,!1,r.toLowerCase(),null,!0,!0)});function R(r,s,u,f){var p=S.hasOwnProperty(s)?S[s]:null;(p!==null?p.type!==0:f||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(w(s,u,p,f)&&(u=null),f||p===null?v(s)&&(u===null?r.removeAttribute(s):r.setAttribute(s,""+u)):p.mustUseProperty?r[p.propertyName]=u===null?p.type===3?!1:"":u:(s=p.attributeName,f=p.attributeNamespace,u===null?r.removeAttribute(s):(p=p.type,u=p===3||p===4&&u===!0?"":""+u,f?r.setAttributeNS(f,s,u):r.setAttribute(s,u))))}var M=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),I=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),X=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),K=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),re=Symbol.for("react.memo"),ue=Symbol.for("react.lazy"),Z=Symbol.for("react.offscreen"),D=Symbol.iterator;function B(r){return r===null||typeof r!="object"?null:(r=D&&r[D]||r["@@iterator"],typeof r=="function"?r:null)}var G=Object.assign,L;function Y(r){if(L===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);L=s&&s[1]||""}return`
`+L+r}var xe=!1;function fe(r,s){if(!r||xe)return"";xe=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(H){var f=H}Reflect.construct(r,[],s)}else{try{s.call()}catch(H){f=H}r.call(s.prototype)}else{try{throw Error()}catch(H){f=H}r()}}catch(H){if(H&&f&&typeof H.stack=="string"){for(var p=H.stack.split(`
`),y=f.stack.split(`
`),C=p.length-1,O=y.length-1;1<=C&&0<=O&&p[C]!==y[O];)O--;for(;1<=C&&0<=O;C--,O--)if(p[C]!==y[O]){if(C!==1||O!==1)do if(C--,O--,0>O||p[C]!==y[O]){var F=`
`+p[C].replace(" at new "," at ");return r.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",r.displayName)),F}while(1<=C&&0<=O);break}}}finally{xe=!1,Error.prepareStackTrace=u}return(r=r?r.displayName||r.name:"")?Y(r):""}function oe(r){switch(r.tag){case 5:return Y(r.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return r=fe(r.type,!1),r;case 11:return r=fe(r.type.render,!1),r;case 1:return r=fe(r.type,!0),r;default:return""}}function Q(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case j:return"Fragment";case I:return"Portal";case z:return"Profiler";case X:return"StrictMode";case ae:return"Suspense";case te:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case K:return(r.displayName||"Context")+".Consumer";case W:return(r._context.displayName||"Context")+".Provider";case q:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case re:return s=r.displayName||null,s!==null?s:Q(r.type)||"Memo";case ue:s=r._payload,r=r._init;try{return Q(r(s))}catch{}}return null}function se(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Q(s);case 8:return s===X?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function ee(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ce(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Me(r){var s=Ce(r)?"checked":"value",u=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),f=""+r[s];if(!r.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,y=u.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return p.call(this)},set:function(C){f=""+C,y.call(this,C)}}),Object.defineProperty(r,s,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(C){f=""+C},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Ve(r){r._valueTracker||(r._valueTracker=Me(r))}function dt(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var u=s.getValue(),f="";return r&&(f=Ce(r)?r.checked?"true":"false":r.value),r=f,r!==u?(s.setValue(r),!0):!1}function Ut(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Rt(r,s){var u=s.checked;return G({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??r._wrapperState.initialChecked})}function pt(r,s){var u=s.defaultValue==null?"":s.defaultValue,f=s.checked!=null?s.checked:s.defaultChecked;u=ee(s.value!=null?s.value:u),r._wrapperState={initialChecked:f,initialValue:u,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function $t(r,s){s=s.checked,s!=null&&R(r,"checked",s,!1)}function nn(r,s){$t(r,s);var u=ee(s.value),f=s.type;if(u!=null)f==="number"?(u===0&&r.value===""||r.value!=u)&&(r.value=""+u):r.value!==""+u&&(r.value=""+u);else if(f==="submit"||f==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Vt(r,s.type,u):s.hasOwnProperty("defaultValue")&&Vt(r,s.type,ee(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Hn(r,s,u){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var f=s.type;if(!(f!=="submit"&&f!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,u||s===r.value||(r.value=s),r.defaultValue=s}u=r.name,u!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,u!==""&&(r.name=u)}function Vt(r,s,u){(s!=="number"||Ut(r.ownerDocument)!==r)&&(u==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+u&&(r.defaultValue=""+u))}var Wn=Array.isArray;function Tn(r,s,u,f){if(r=r.options,s){s={};for(var p=0;p<u.length;p++)s["$"+u[p]]=!0;for(u=0;u<r.length;u++)p=s.hasOwnProperty("$"+r[u].value),r[u].selected!==p&&(r[u].selected=p),p&&f&&(r[u].defaultSelected=!0)}else{for(u=""+ee(u),s=null,p=0;p<r.length;p++){if(r[p].value===u){r[p].selected=!0,f&&(r[p].defaultSelected=!0);return}s!==null||r[p].disabled||(s=r[p])}s!==null&&(s.selected=!0)}}function Sr(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return G({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Mn(r,s){var u=s.value;if(u==null){if(u=s.children,s=s.defaultValue,u!=null){if(s!=null)throw Error(n(92));if(Wn(u)){if(1<u.length)throw Error(n(93));u=u[0]}s=u}s==null&&(s=""),u=s}r._wrapperState={initialValue:ee(u)}}function hn(r,s){var u=ee(s.value),f=ee(s.defaultValue);u!=null&&(u=""+u,u!==r.value&&(r.value=u),s.defaultValue==null&&r.defaultValue!==u&&(r.defaultValue=u)),f!=null&&(r.defaultValue=""+f)}function Er(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function Yr(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yn(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?Yr(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Pn,rn=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,u,f,p){MSApp.execUnsafeLocalFunction(function(){return r(s,u,f,p)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Pn=Pn||document.createElement("div"),Pn.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Pn.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function Xn(r,s){if(s){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=s;return}}r.textContent=s}var An={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Cc=["Webkit","ms","Moz","O"];Object.keys(An).forEach(function(r){Cc.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),An[s]=An[r]})});function Zi(r,s,u){return s==null||typeof s=="boolean"||s===""?"":u||typeof s!="number"||s===0||An.hasOwnProperty(r)&&An[r]?(""+s).trim():s+"px"}function ra(r,s){r=r.style;for(var u in s)if(s.hasOwnProperty(u)){var f=u.indexOf("--")===0,p=Zi(u,s[u],f);u==="float"&&(u="cssFloat"),f?r.setProperty(u,p):r[u]=p}}var ia=G({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function di(r,s){if(s){if(ia[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function js(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zo=null;function Ds(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Kn=null,pi=null,ft=null;function Xr(r){if(r=dl(r)){if(typeof Kn!="function")throw Error(n(280));var s=r.stateNode;s&&(s=Ma(s),Kn(r.stateNode,r.type,s))}}function Ji(r){pi?ft?ft.push(r):ft=[r]:pi=r}function Bo(){if(pi){var r=pi,s=ft;if(ft=pi=null,Xr(r),s)for(r=0;r<s.length;r++)Xr(s[r])}}function sa(r,s){return r(s)}function oa(){}var Kr=!1;function Uo(r,s,u){if(Kr)return r(s,u);Kr=!0;try{return sa(r,s,u)}finally{Kr=!1,(pi!==null||ft!==null)&&(oa(),Bo())}}function es(r,s){var u=r.stateNode;if(u===null)return null;var f=Ma(u);if(f===null)return null;u=f[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(r=r.type,f=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!f;break e;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(n(231,s,typeof u));return u}var $o=!1;if(c)try{var qr={};Object.defineProperty(qr,"passive",{get:function(){$o=!0}}),window.addEventListener("test",qr,qr),window.removeEventListener("test",qr,qr)}catch{$o=!1}function la(r,s,u,f,p,y,C,O,F){var H=Array.prototype.slice.call(arguments,3);try{s.apply(u,H)}catch(ie){this.onError(ie)}}var gi=!1,zs=null,Bs=!1,Us=null,Vo={onError:function(r){gi=!0,zs=r}};function aa(r,s,u,f,p,y,C,O,F){gi=!1,zs=null,la.apply(Vo,arguments)}function Rc(r,s,u,f,p,y,C,O,F){if(aa.apply(this,arguments),gi){if(gi){var H=zs;gi=!1,zs=null}else throw Error(n(198));Bs||(Bs=!0,Us=H)}}function Gr(r){var s=r,u=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(u=s.return),r=s.return;while(r)}return s.tag===3?u:null}function Ho(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Wo(r){if(Gr(r)!==r)throw Error(n(188))}function ts(r){var s=r.alternate;if(!s){if(s=Gr(r),s===null)throw Error(n(188));return s!==r?null:r}for(var u=r,f=s;;){var p=u.return;if(p===null)break;var y=p.alternate;if(y===null){if(f=p.return,f!==null){u=f;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===u)return Wo(p),r;if(y===f)return Wo(p),s;y=y.sibling}throw Error(n(188))}if(u.return!==f.return)u=p,f=y;else{for(var C=!1,O=p.child;O;){if(O===u){C=!0,u=p,f=y;break}if(O===f){C=!0,f=p,u=y;break}O=O.sibling}if(!C){for(O=y.child;O;){if(O===u){C=!0,u=y,f=p;break}if(O===f){C=!0,f=y,u=p;break}O=O.sibling}if(!C)throw Error(n(189))}}if(u.alternate!==f)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?r:s}function ua(r){return r=ts(r),r!==null?Yo(r):null}function Yo(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Yo(r);if(s!==null)return s;r=r.sibling}return null}var Xo=t.unstable_scheduleCallback,Ko=t.unstable_cancelCallback,Tc=t.unstable_shouldYield,Ue=t.unstable_requestPaint,ge=t.unstable_now,We=t.unstable_getCurrentPriorityLevel,Xe=t.unstable_ImmediatePriority,gt=t.unstable_UserBlockingPriority,On=t.unstable_NormalPriority,ar=t.unstable_LowPriority,qn=t.unstable_IdlePriority,dn=null,Tt=null;function mi(r){if(Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(dn,r,void 0,(r.current.flags&128)===128)}catch{}}var _t=Math.clz32?Math.clz32:d1,$s=Math.log,ca=Math.LN2;function d1(r){return r>>>=0,r===0?32:31-($s(r)/ca|0)|0}var fa=64,ha=4194304;function qo(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function da(r,s){var u=r.pendingLanes;if(u===0)return 0;var f=0,p=r.suspendedLanes,y=r.pingedLanes,C=u&268435455;if(C!==0){var O=C&~p;O!==0?f=qo(O):(y&=C,y!==0&&(f=qo(y)))}else C=u&~p,C!==0?f=qo(C):y!==0&&(f=qo(y));if(f===0)return 0;if(s!==0&&s!==f&&!(s&p)&&(p=f&-f,y=s&-s,p>=y||p===16&&(y&4194240)!==0))return s;if(f&4&&(f|=u&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=f;0<s;)u=31-_t(s),p=1<<u,f|=r[u],s&=~p;return f}function p1(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function g1(r,s){for(var u=r.suspendedLanes,f=r.pingedLanes,p=r.expirationTimes,y=r.pendingLanes;0<y;){var C=31-_t(y),O=1<<C,F=p[C];F===-1?(!(O&u)||O&f)&&(p[C]=p1(O,s)):F<=s&&(r.expiredLanes|=O),y&=~O}}function Mc(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function ip(){var r=fa;return fa<<=1,!(fa&4194240)&&(fa=64),r}function Pc(r){for(var s=[],u=0;31>u;u++)s.push(r);return s}function Go(r,s,u){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-_t(s),r[s]=u}function m1(r,s){var u=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var f=r.eventTimes;for(r=r.expirationTimes;0<u;){var p=31-_t(u),y=1<<p;s[p]=0,f[p]=-1,r[p]=-1,u&=~y}}function Ac(r,s){var u=r.entangledLanes|=s;for(r=r.entanglements;u;){var f=31-_t(u),p=1<<f;p&s|r[f]&s&&(r[f]|=s),u&=~p}}var Ye=0;function sp(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var op,Oc,lp,ap,up,Lc=!1,pa=[],yi=null,_i=null,vi=null,Qo=new Map,Zo=new Map,xi=[],y1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cp(r,s){switch(r){case"focusin":case"focusout":yi=null;break;case"dragenter":case"dragleave":_i=null;break;case"mouseover":case"mouseout":vi=null;break;case"pointerover":case"pointerout":Qo.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zo.delete(s.pointerId)}}function Jo(r,s,u,f,p,y){return r===null||r.nativeEvent!==y?(r={blockedOn:s,domEventName:u,eventSystemFlags:f,nativeEvent:y,targetContainers:[p]},s!==null&&(s=dl(s),s!==null&&Oc(s)),r):(r.eventSystemFlags|=f,s=r.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),r)}function _1(r,s,u,f,p){switch(s){case"focusin":return yi=Jo(yi,r,s,u,f,p),!0;case"dragenter":return _i=Jo(_i,r,s,u,f,p),!0;case"mouseover":return vi=Jo(vi,r,s,u,f,p),!0;case"pointerover":var y=p.pointerId;return Qo.set(y,Jo(Qo.get(y)||null,r,s,u,f,p)),!0;case"gotpointercapture":return y=p.pointerId,Zo.set(y,Jo(Zo.get(y)||null,r,s,u,f,p)),!0}return!1}function fp(r){var s=ns(r.target);if(s!==null){var u=Gr(s);if(u!==null){if(s=u.tag,s===13){if(s=Ho(u),s!==null){r.blockedOn=s,up(r.priority,function(){lp(u)});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function ga(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var u=Ic(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(u===null){u=r.nativeEvent;var f=new u.constructor(u.type,u);zo=f,u.target.dispatchEvent(f),zo=null}else return s=dl(u),s!==null&&Oc(s),r.blockedOn=u,!1;s.shift()}return!0}function hp(r,s,u){ga(r)&&u.delete(s)}function v1(){Lc=!1,yi!==null&&ga(yi)&&(yi=null),_i!==null&&ga(_i)&&(_i=null),vi!==null&&ga(vi)&&(vi=null),Qo.forEach(hp),Zo.forEach(hp)}function el(r,s){r.blockedOn===s&&(r.blockedOn=null,Lc||(Lc=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,v1)))}function tl(r){function s(p){return el(p,r)}if(0<pa.length){el(pa[0],r);for(var u=1;u<pa.length;u++){var f=pa[u];f.blockedOn===r&&(f.blockedOn=null)}}for(yi!==null&&el(yi,r),_i!==null&&el(_i,r),vi!==null&&el(vi,r),Qo.forEach(s),Zo.forEach(s),u=0;u<xi.length;u++)f=xi[u],f.blockedOn===r&&(f.blockedOn=null);for(;0<xi.length&&(u=xi[0],u.blockedOn===null);)fp(u),u.blockedOn===null&&xi.shift()}var Vs=M.ReactCurrentBatchConfig,ma=!0;function x1(r,s,u,f){var p=Ye,y=Vs.transition;Vs.transition=null;try{Ye=1,Fc(r,s,u,f)}finally{Ye=p,Vs.transition=y}}function w1(r,s,u,f){var p=Ye,y=Vs.transition;Vs.transition=null;try{Ye=4,Fc(r,s,u,f)}finally{Ye=p,Vs.transition=y}}function Fc(r,s,u,f){if(ma){var p=Ic(r,s,u,f);if(p===null)Zc(r,s,f,ya,u),cp(r,f);else if(_1(p,r,s,u,f))f.stopPropagation();else if(cp(r,f),s&4&&-1<y1.indexOf(r)){for(;p!==null;){var y=dl(p);if(y!==null&&op(y),y=Ic(r,s,u,f),y===null&&Zc(r,s,f,ya,u),y===p)break;p=y}p!==null&&f.stopPropagation()}else Zc(r,s,f,null,u)}}var ya=null;function Ic(r,s,u,f){if(ya=null,r=Ds(f),r=ns(r),r!==null)if(s=Gr(r),s===null)r=null;else if(u=s.tag,u===13){if(r=Ho(s),r!==null)return r;r=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return ya=r,null}function dp(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(We()){case Xe:return 1;case gt:return 4;case On:case ar:return 16;case qn:return 536870912;default:return 16}default:return 16}}var wi=null,Nc=null,_a=null;function pp(){if(_a)return _a;var r,s=Nc,u=s.length,f,p="value"in wi?wi.value:wi.textContent,y=p.length;for(r=0;r<u&&s[r]===p[r];r++);var C=u-r;for(f=1;f<=C&&s[u-f]===p[y-f];f++);return _a=p.slice(r,1<f?1-f:void 0)}function va(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function xa(){return!0}function gp(){return!1}function Ln(r){function s(u,f,p,y,C){this._reactName=u,this._targetInst=p,this.type=f,this.nativeEvent=y,this.target=C,this.currentTarget=null;for(var O in r)r.hasOwnProperty(O)&&(u=r[O],this[O]=u?u(y):y[O]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?xa:gp,this.isPropagationStopped=gp,this}return G(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=xa)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=xa)},persist:function(){},isPersistent:xa}),s}var Hs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jc=Ln(Hs),nl=G({},Hs,{view:0,detail:0}),k1=Ln(nl),Dc,zc,rl,wa=G({},nl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Uc,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==rl&&(rl&&r.type==="mousemove"?(Dc=r.screenX-rl.screenX,zc=r.screenY-rl.screenY):zc=Dc=0,rl=r),Dc)},movementY:function(r){return"movementY"in r?r.movementY:zc}}),mp=Ln(wa),b1=G({},wa,{dataTransfer:0}),S1=Ln(b1),E1=G({},nl,{relatedTarget:0}),Bc=Ln(E1),C1=G({},Hs,{animationName:0,elapsedTime:0,pseudoElement:0}),R1=Ln(C1),T1=G({},Hs,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),M1=Ln(T1),P1=G({},Hs,{data:0}),yp=Ln(P1),A1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},O1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},L1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function F1(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=L1[r])?!!s[r]:!1}function Uc(){return F1}var I1=G({},nl,{key:function(r){if(r.key){var s=A1[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=va(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?O1[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Uc,charCode:function(r){return r.type==="keypress"?va(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?va(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),N1=Ln(I1),j1=G({},wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_p=Ln(j1),D1=G({},nl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Uc}),z1=Ln(D1),B1=G({},Hs,{propertyName:0,elapsedTime:0,pseudoElement:0}),U1=Ln(B1),$1=G({},wa,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),V1=Ln($1),H1=[9,13,27,32],$c=c&&"CompositionEvent"in window,il=null;c&&"documentMode"in document&&(il=document.documentMode);var W1=c&&"TextEvent"in window&&!il,vp=c&&(!$c||il&&8<il&&11>=il),xp=" ",wp=!1;function kp(r,s){switch(r){case"keyup":return H1.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bp(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ws=!1;function Y1(r,s){switch(r){case"compositionend":return bp(s);case"keypress":return s.which!==32?null:(wp=!0,xp);case"textInput":return r=s.data,r===xp&&wp?null:r;default:return null}}function X1(r,s){if(Ws)return r==="compositionend"||!$c&&kp(r,s)?(r=pp(),_a=Nc=wi=null,Ws=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return vp&&s.locale!=="ko"?null:s.data;default:return null}}var K1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sp(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!K1[r.type]:s==="textarea"}function Ep(r,s,u,f){Ji(f),s=Ca(s,"onChange"),0<s.length&&(u=new jc("onChange","change",null,u,f),r.push({event:u,listeners:s}))}var sl=null,ol=null;function q1(r){Vp(r,0)}function ka(r){var s=Gs(r);if(dt(s))return r}function G1(r,s){if(r==="change")return s}var Cp=!1;if(c){var Vc;if(c){var Hc="oninput"in document;if(!Hc){var Rp=document.createElement("div");Rp.setAttribute("oninput","return;"),Hc=typeof Rp.oninput=="function"}Vc=Hc}else Vc=!1;Cp=Vc&&(!document.documentMode||9<document.documentMode)}function Tp(){sl&&(sl.detachEvent("onpropertychange",Mp),ol=sl=null)}function Mp(r){if(r.propertyName==="value"&&ka(ol)){var s=[];Ep(s,ol,r,Ds(r)),Uo(q1,s)}}function Q1(r,s,u){r==="focusin"?(Tp(),sl=s,ol=u,sl.attachEvent("onpropertychange",Mp)):r==="focusout"&&Tp()}function Z1(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return ka(ol)}function J1(r,s){if(r==="click")return ka(s)}function ex(r,s){if(r==="input"||r==="change")return ka(s)}function tx(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var ur=typeof Object.is=="function"?Object.is:tx;function ll(r,s){if(ur(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var u=Object.keys(r),f=Object.keys(s);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var p=u[f];if(!h.call(s,p)||!ur(r[p],s[p]))return!1}return!0}function Pp(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Ap(r,s){var u=Pp(r);r=0;for(var f;u;){if(u.nodeType===3){if(f=r+u.textContent.length,r<=s&&f>=s)return{node:u,offset:s-r};r=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Pp(u)}}function Op(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Op(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Lp(){for(var r=window,s=Ut();s instanceof r.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)r=s.contentWindow;else break;s=Ut(r.document)}return s}function Wc(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function nx(r){var s=Lp(),u=r.focusedElem,f=r.selectionRange;if(s!==u&&u&&u.ownerDocument&&Op(u.ownerDocument.documentElement,u)){if(f!==null&&Wc(u)){if(s=f.start,r=f.end,r===void 0&&(r=s),"selectionStart"in u)u.selectionStart=s,u.selectionEnd=Math.min(r,u.value.length);else if(r=(s=u.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var p=u.textContent.length,y=Math.min(f.start,p);f=f.end===void 0?y:Math.min(f.end,p),!r.extend&&y>f&&(p=f,f=y,y=p),p=Ap(u,y);var C=Ap(u,f);p&&C&&(r.rangeCount!==1||r.anchorNode!==p.node||r.anchorOffset!==p.offset||r.focusNode!==C.node||r.focusOffset!==C.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),r.removeAllRanges(),y>f?(r.addRange(s),r.extend(C.node,C.offset)):(s.setEnd(C.node,C.offset),r.addRange(s)))}}for(s=[],r=u;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<s.length;u++)r=s[u],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var rx=c&&"documentMode"in document&&11>=document.documentMode,Ys=null,Yc=null,al=null,Xc=!1;function Fp(r,s,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Xc||Ys==null||Ys!==Ut(f)||(f=Ys,"selectionStart"in f&&Wc(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),al&&ll(al,f)||(al=f,f=Ca(Yc,"onSelect"),0<f.length&&(s=new jc("onSelect","select",null,s,u),r.push({event:s,listeners:f}),s.target=Ys)))}function ba(r,s){var u={};return u[r.toLowerCase()]=s.toLowerCase(),u["Webkit"+r]="webkit"+s,u["Moz"+r]="moz"+s,u}var Xs={animationend:ba("Animation","AnimationEnd"),animationiteration:ba("Animation","AnimationIteration"),animationstart:ba("Animation","AnimationStart"),transitionend:ba("Transition","TransitionEnd")},Kc={},Ip={};c&&(Ip=document.createElement("div").style,"AnimationEvent"in window||(delete Xs.animationend.animation,delete Xs.animationiteration.animation,delete Xs.animationstart.animation),"TransitionEvent"in window||delete Xs.transitionend.transition);function Sa(r){if(Kc[r])return Kc[r];if(!Xs[r])return r;var s=Xs[r],u;for(u in s)if(s.hasOwnProperty(u)&&u in Ip)return Kc[r]=s[u];return r}var Np=Sa("animationend"),jp=Sa("animationiteration"),Dp=Sa("animationstart"),zp=Sa("transitionend"),Bp=new Map,Up="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ki(r,s){Bp.set(r,s),l(s,[r])}for(var qc=0;qc<Up.length;qc++){var Gc=Up[qc],ix=Gc.toLowerCase(),sx=Gc[0].toUpperCase()+Gc.slice(1);ki(ix,"on"+sx)}ki(Np,"onAnimationEnd"),ki(jp,"onAnimationIteration"),ki(Dp,"onAnimationStart"),ki("dblclick","onDoubleClick"),ki("focusin","onFocus"),ki("focusout","onBlur"),ki(zp,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ox=new Set("cancel close invalid load scroll toggle".split(" ").concat(ul));function $p(r,s,u){var f=r.type||"unknown-event";r.currentTarget=u,Rc(f,s,void 0,r),r.currentTarget=null}function Vp(r,s){s=(s&4)!==0;for(var u=0;u<r.length;u++){var f=r[u],p=f.event;f=f.listeners;e:{var y=void 0;if(s)for(var C=f.length-1;0<=C;C--){var O=f[C],F=O.instance,H=O.currentTarget;if(O=O.listener,F!==y&&p.isPropagationStopped())break e;$p(p,O,H),y=F}else for(C=0;C<f.length;C++){if(O=f[C],F=O.instance,H=O.currentTarget,O=O.listener,F!==y&&p.isPropagationStopped())break e;$p(p,O,H),y=F}}}if(Bs)throw r=Us,Bs=!1,Us=null,r}function Ge(r,s){var u=s[sf];u===void 0&&(u=s[sf]=new Set);var f=r+"__bubble";u.has(f)||(Hp(s,r,2,!1),u.add(f))}function Qc(r,s,u){var f=0;s&&(f|=4),Hp(u,r,f,s)}var Ea="_reactListening"+Math.random().toString(36).slice(2);function cl(r){if(!r[Ea]){r[Ea]=!0,i.forEach(function(u){u!=="selectionchange"&&(ox.has(u)||Qc(u,!1,r),Qc(u,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Ea]||(s[Ea]=!0,Qc("selectionchange",!1,s))}}function Hp(r,s,u,f){switch(dp(s)){case 1:var p=x1;break;case 4:p=w1;break;default:p=Fc}u=p.bind(null,s,u,r),p=void 0,!$o||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),f?p!==void 0?r.addEventListener(s,u,{capture:!0,passive:p}):r.addEventListener(s,u,!0):p!==void 0?r.addEventListener(s,u,{passive:p}):r.addEventListener(s,u,!1)}function Zc(r,s,u,f,p){var y=f;if(!(s&1)&&!(s&2)&&f!==null)e:for(;;){if(f===null)return;var C=f.tag;if(C===3||C===4){var O=f.stateNode.containerInfo;if(O===p||O.nodeType===8&&O.parentNode===p)break;if(C===4)for(C=f.return;C!==null;){var F=C.tag;if((F===3||F===4)&&(F=C.stateNode.containerInfo,F===p||F.nodeType===8&&F.parentNode===p))return;C=C.return}for(;O!==null;){if(C=ns(O),C===null)return;if(F=C.tag,F===5||F===6){f=y=C;continue e}O=O.parentNode}}f=f.return}Uo(function(){var H=y,ie=Ds(u),le=[];e:{var ne=Bp.get(r);if(ne!==void 0){var me=jc,ve=r;switch(r){case"keypress":if(va(u)===0)break e;case"keydown":case"keyup":me=N1;break;case"focusin":ve="focus",me=Bc;break;case"focusout":ve="blur",me=Bc;break;case"beforeblur":case"afterblur":me=Bc;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=mp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=S1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=z1;break;case Np:case jp:case Dp:me=R1;break;case zp:me=U1;break;case"scroll":me=k1;break;case"wheel":me=V1;break;case"copy":case"cut":case"paste":me=M1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=_p}var we=(s&4)!==0,mt=!we&&r==="scroll",$=we?ne!==null?ne+"Capture":null:ne;we=[];for(var N=H,V;N!==null;){V=N;var he=V.stateNode;if(V.tag===5&&he!==null&&(V=he,$!==null&&(he=es(N,$),he!=null&&we.push(fl(N,he,V)))),mt)break;N=N.return}0<we.length&&(ne=new me(ne,ve,null,u,ie),le.push({event:ne,listeners:we}))}}if(!(s&7)){e:{if(ne=r==="mouseover"||r==="pointerover",me=r==="mouseout"||r==="pointerout",ne&&u!==zo&&(ve=u.relatedTarget||u.fromElement)&&(ns(ve)||ve[Qr]))break e;if((me||ne)&&(ne=ie.window===ie?ie:(ne=ie.ownerDocument)?ne.defaultView||ne.parentWindow:window,me?(ve=u.relatedTarget||u.toElement,me=H,ve=ve?ns(ve):null,ve!==null&&(mt=Gr(ve),ve!==mt||ve.tag!==5&&ve.tag!==6)&&(ve=null)):(me=null,ve=H),me!==ve)){if(we=mp,he="onMouseLeave",$="onMouseEnter",N="mouse",(r==="pointerout"||r==="pointerover")&&(we=_p,he="onPointerLeave",$="onPointerEnter",N="pointer"),mt=me==null?ne:Gs(me),V=ve==null?ne:Gs(ve),ne=new we(he,N+"leave",me,u,ie),ne.target=mt,ne.relatedTarget=V,he=null,ns(ie)===H&&(we=new we($,N+"enter",ve,u,ie),we.target=V,we.relatedTarget=mt,he=we),mt=he,me&&ve)t:{for(we=me,$=ve,N=0,V=we;V;V=Ks(V))N++;for(V=0,he=$;he;he=Ks(he))V++;for(;0<N-V;)we=Ks(we),N--;for(;0<V-N;)$=Ks($),V--;for(;N--;){if(we===$||$!==null&&we===$.alternate)break t;we=Ks(we),$=Ks($)}we=null}else we=null;me!==null&&Wp(le,ne,me,we,!1),ve!==null&&mt!==null&&Wp(le,mt,ve,we,!0)}}e:{if(ne=H?Gs(H):window,me=ne.nodeName&&ne.nodeName.toLowerCase(),me==="select"||me==="input"&&ne.type==="file")var Se=G1;else if(Sp(ne))if(Cp)Se=ex;else{Se=Z1;var Re=Q1}else(me=ne.nodeName)&&me.toLowerCase()==="input"&&(ne.type==="checkbox"||ne.type==="radio")&&(Se=J1);if(Se&&(Se=Se(r,H))){Ep(le,Se,u,ie);break e}Re&&Re(r,ne,H),r==="focusout"&&(Re=ne._wrapperState)&&Re.controlled&&ne.type==="number"&&Vt(ne,"number",ne.value)}switch(Re=H?Gs(H):window,r){case"focusin":(Sp(Re)||Re.contentEditable==="true")&&(Ys=Re,Yc=H,al=null);break;case"focusout":al=Yc=Ys=null;break;case"mousedown":Xc=!0;break;case"contextmenu":case"mouseup":case"dragend":Xc=!1,Fp(le,u,ie);break;case"selectionchange":if(rx)break;case"keydown":case"keyup":Fp(le,u,ie)}var Te;if($c)e:{switch(r){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Ws?kp(r,u)&&(Oe="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(Oe="onCompositionStart");Oe&&(vp&&u.locale!=="ko"&&(Ws||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Ws&&(Te=pp()):(wi=ie,Nc="value"in wi?wi.value:wi.textContent,Ws=!0)),Re=Ca(H,Oe),0<Re.length&&(Oe=new yp(Oe,r,null,u,ie),le.push({event:Oe,listeners:Re}),Te?Oe.data=Te:(Te=bp(u),Te!==null&&(Oe.data=Te)))),(Te=W1?Y1(r,u):X1(r,u))&&(H=Ca(H,"onBeforeInput"),0<H.length&&(ie=new yp("onBeforeInput","beforeinput",null,u,ie),le.push({event:ie,listeners:H}),ie.data=Te))}Vp(le,s)})}function fl(r,s,u){return{instance:r,listener:s,currentTarget:u}}function Ca(r,s){for(var u=s+"Capture",f=[];r!==null;){var p=r,y=p.stateNode;p.tag===5&&y!==null&&(p=y,y=es(r,u),y!=null&&f.unshift(fl(r,y,p)),y=es(r,s),y!=null&&f.push(fl(r,y,p))),r=r.return}return f}function Ks(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Wp(r,s,u,f,p){for(var y=s._reactName,C=[];u!==null&&u!==f;){var O=u,F=O.alternate,H=O.stateNode;if(F!==null&&F===f)break;O.tag===5&&H!==null&&(O=H,p?(F=es(u,y),F!=null&&C.unshift(fl(u,F,O))):p||(F=es(u,y),F!=null&&C.push(fl(u,F,O)))),u=u.return}C.length!==0&&r.push({event:s,listeners:C})}var lx=/\r\n?/g,ax=/\u0000|\uFFFD/g;function Yp(r){return(typeof r=="string"?r:""+r).replace(lx,`
`).replace(ax,"")}function Ra(r,s,u){if(s=Yp(s),Yp(r)!==s&&u)throw Error(n(425))}function Ta(){}var Jc=null,ef=null;function tf(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var nf=typeof setTimeout=="function"?setTimeout:void 0,ux=typeof clearTimeout=="function"?clearTimeout:void 0,Xp=typeof Promise=="function"?Promise:void 0,cx=typeof queueMicrotask=="function"?queueMicrotask:typeof Xp<"u"?function(r){return Xp.resolve(null).then(r).catch(fx)}:nf;function fx(r){setTimeout(function(){throw r})}function rf(r,s){var u=s,f=0;do{var p=u.nextSibling;if(r.removeChild(u),p&&p.nodeType===8)if(u=p.data,u==="/$"){if(f===0){r.removeChild(p),tl(s);return}f--}else u!=="$"&&u!=="$?"&&u!=="$!"||f++;u=p}while(u);tl(s)}function bi(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Kp(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"){if(s===0)return r;s--}else u==="/$"&&s++}r=r.previousSibling}return null}var qs=Math.random().toString(36).slice(2),Cr="__reactFiber$"+qs,hl="__reactProps$"+qs,Qr="__reactContainer$"+qs,sf="__reactEvents$"+qs,hx="__reactListeners$"+qs,dx="__reactHandles$"+qs;function ns(r){var s=r[Cr];if(s)return s;for(var u=r.parentNode;u;){if(s=u[Qr]||u[Cr]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(r=Kp(r);r!==null;){if(u=r[Cr])return u;r=Kp(r)}return s}r=u,u=r.parentNode}return null}function dl(r){return r=r[Cr]||r[Qr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Gs(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function Ma(r){return r[hl]||null}var of=[],Qs=-1;function Si(r){return{current:r}}function Qe(r){0>Qs||(r.current=of[Qs],of[Qs]=null,Qs--)}function Ke(r,s){Qs++,of[Qs]=r.current,r.current=s}var Ei={},Ht=Si(Ei),pn=Si(!1),rs=Ei;function Zs(r,s){var u=r.type.contextTypes;if(!u)return Ei;var f=r.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===s)return f.__reactInternalMemoizedMaskedChildContext;var p={},y;for(y in u)p[y]=s[y];return f&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=p),p}function gn(r){return r=r.childContextTypes,r!=null}function Pa(){Qe(pn),Qe(Ht)}function qp(r,s,u){if(Ht.current!==Ei)throw Error(n(168));Ke(Ht,s),Ke(pn,u)}function Gp(r,s,u){var f=r.stateNode;if(s=s.childContextTypes,typeof f.getChildContext!="function")return u;f=f.getChildContext();for(var p in f)if(!(p in s))throw Error(n(108,se(r)||"Unknown",p));return G({},u,f)}function Aa(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Ei,rs=Ht.current,Ke(Ht,r),Ke(pn,pn.current),!0}function Qp(r,s,u){var f=r.stateNode;if(!f)throw Error(n(169));u?(r=Gp(r,s,rs),f.__reactInternalMemoizedMergedChildContext=r,Qe(pn),Qe(Ht),Ke(Ht,r)):Qe(pn),Ke(pn,u)}var Zr=null,Oa=!1,lf=!1;function Zp(r){Zr===null?Zr=[r]:Zr.push(r)}function px(r){Oa=!0,Zp(r)}function Ci(){if(!lf&&Zr!==null){lf=!0;var r=0,s=Ye;try{var u=Zr;for(Ye=1;r<u.length;r++){var f=u[r];do f=f(!0);while(f!==null)}Zr=null,Oa=!1}catch(p){throw Zr!==null&&(Zr=Zr.slice(r+1)),Xo(Xe,Ci),p}finally{Ye=s,lf=!1}}return null}var Js=[],eo=0,La=null,Fa=0,Gn=[],Qn=0,is=null,Jr=1,ei="";function ss(r,s){Js[eo++]=Fa,Js[eo++]=La,La=r,Fa=s}function Jp(r,s,u){Gn[Qn++]=Jr,Gn[Qn++]=ei,Gn[Qn++]=is,is=r;var f=Jr;r=ei;var p=32-_t(f)-1;f&=~(1<<p),u+=1;var y=32-_t(s)+p;if(30<y){var C=p-p%5;y=(f&(1<<C)-1).toString(32),f>>=C,p-=C,Jr=1<<32-_t(s)+p|u<<p|f,ei=y+r}else Jr=1<<y|u<<p|f,ei=r}function af(r){r.return!==null&&(ss(r,1),Jp(r,1,0))}function uf(r){for(;r===La;)La=Js[--eo],Js[eo]=null,Fa=Js[--eo],Js[eo]=null;for(;r===is;)is=Gn[--Qn],Gn[Qn]=null,ei=Gn[--Qn],Gn[Qn]=null,Jr=Gn[--Qn],Gn[Qn]=null}var Fn=null,In=null,et=!1,cr=null;function eg(r,s){var u=tr(5,null,null,0);u.elementType="DELETED",u.stateNode=s,u.return=r,s=r.deletions,s===null?(r.deletions=[u],r.flags|=16):s.push(u)}function tg(r,s){switch(r.tag){case 5:var u=r.type;return s=s.nodeType!==1||u.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,Fn=r,In=bi(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,Fn=r,In=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(u=is!==null?{id:Jr,overflow:ei}:null,r.memoizedState={dehydrated:s,treeContext:u,retryLane:1073741824},u=tr(18,null,null,0),u.stateNode=s,u.return=r,r.child=u,Fn=r,In=null,!0):!1;default:return!1}}function cf(r){return(r.mode&1)!==0&&(r.flags&128)===0}function ff(r){if(et){var s=In;if(s){var u=s;if(!tg(r,s)){if(cf(r))throw Error(n(418));s=bi(u.nextSibling);var f=Fn;s&&tg(r,s)?eg(f,u):(r.flags=r.flags&-4097|2,et=!1,Fn=r)}}else{if(cf(r))throw Error(n(418));r.flags=r.flags&-4097|2,et=!1,Fn=r}}}function ng(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Fn=r}function Ia(r){if(r!==Fn)return!1;if(!et)return ng(r),et=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!tf(r.type,r.memoizedProps)),s&&(s=In)){if(cf(r))throw rg(),Error(n(418));for(;s;)eg(r,s),s=bi(s.nextSibling)}if(ng(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var u=r.data;if(u==="/$"){if(s===0){In=bi(r.nextSibling);break e}s--}else u!=="$"&&u!=="$!"&&u!=="$?"||s++}r=r.nextSibling}In=null}}else In=Fn?bi(r.stateNode.nextSibling):null;return!0}function rg(){for(var r=In;r;)r=bi(r.nextSibling)}function to(){In=Fn=null,et=!1}function hf(r){cr===null?cr=[r]:cr.push(r)}var gx=M.ReactCurrentBatchConfig;function pl(r,s,u){if(r=u.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var f=u.stateNode}if(!f)throw Error(n(147,r));var p=f,y=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===y?s.ref:(s=function(C){var O=p.refs;C===null?delete O[y]:O[y]=C},s._stringRef=y,s)}if(typeof r!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,r))}return r}function Na(r,s){throw r=Object.prototype.toString.call(s),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function ig(r){var s=r._init;return s(r._payload)}function sg(r){function s($,N){if(r){var V=$.deletions;V===null?($.deletions=[N],$.flags|=16):V.push(N)}}function u($,N){if(!r)return null;for(;N!==null;)s($,N),N=N.sibling;return null}function f($,N){for($=new Map;N!==null;)N.key!==null?$.set(N.key,N):$.set(N.index,N),N=N.sibling;return $}function p($,N){return $=Fi($,N),$.index=0,$.sibling=null,$}function y($,N,V){return $.index=V,r?(V=$.alternate,V!==null?(V=V.index,V<N?($.flags|=2,N):V):($.flags|=2,N)):($.flags|=1048576,N)}function C($){return r&&$.alternate===null&&($.flags|=2),$}function O($,N,V,he){return N===null||N.tag!==6?(N=rh(V,$.mode,he),N.return=$,N):(N=p(N,V),N.return=$,N)}function F($,N,V,he){var Se=V.type;return Se===j?ie($,N,V.props.children,he,V.key):N!==null&&(N.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===ue&&ig(Se)===N.type)?(he=p(N,V.props),he.ref=pl($,N,V),he.return=$,he):(he=ou(V.type,V.key,V.props,null,$.mode,he),he.ref=pl($,N,V),he.return=$,he)}function H($,N,V,he){return N===null||N.tag!==4||N.stateNode.containerInfo!==V.containerInfo||N.stateNode.implementation!==V.implementation?(N=ih(V,$.mode,he),N.return=$,N):(N=p(N,V.children||[]),N.return=$,N)}function ie($,N,V,he,Se){return N===null||N.tag!==7?(N=ds(V,$.mode,he,Se),N.return=$,N):(N=p(N,V),N.return=$,N)}function le($,N,V){if(typeof N=="string"&&N!==""||typeof N=="number")return N=rh(""+N,$.mode,V),N.return=$,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case P:return V=ou(N.type,N.key,N.props,null,$.mode,V),V.ref=pl($,null,N),V.return=$,V;case I:return N=ih(N,$.mode,V),N.return=$,N;case ue:var he=N._init;return le($,he(N._payload),V)}if(Wn(N)||B(N))return N=ds(N,$.mode,V,null),N.return=$,N;Na($,N)}return null}function ne($,N,V,he){var Se=N!==null?N.key:null;if(typeof V=="string"&&V!==""||typeof V=="number")return Se!==null?null:O($,N,""+V,he);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case P:return V.key===Se?F($,N,V,he):null;case I:return V.key===Se?H($,N,V,he):null;case ue:return Se=V._init,ne($,N,Se(V._payload),he)}if(Wn(V)||B(V))return Se!==null?null:ie($,N,V,he,null);Na($,V)}return null}function me($,N,V,he,Se){if(typeof he=="string"&&he!==""||typeof he=="number")return $=$.get(V)||null,O(N,$,""+he,Se);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case P:return $=$.get(he.key===null?V:he.key)||null,F(N,$,he,Se);case I:return $=$.get(he.key===null?V:he.key)||null,H(N,$,he,Se);case ue:var Re=he._init;return me($,N,V,Re(he._payload),Se)}if(Wn(he)||B(he))return $=$.get(V)||null,ie(N,$,he,Se,null);Na(N,he)}return null}function ve($,N,V,he){for(var Se=null,Re=null,Te=N,Oe=N=0,At=null;Te!==null&&Oe<V.length;Oe++){Te.index>Oe?(At=Te,Te=null):At=Te.sibling;var Be=ne($,Te,V[Oe],he);if(Be===null){Te===null&&(Te=At);break}r&&Te&&Be.alternate===null&&s($,Te),N=y(Be,N,Oe),Re===null?Se=Be:Re.sibling=Be,Re=Be,Te=At}if(Oe===V.length)return u($,Te),et&&ss($,Oe),Se;if(Te===null){for(;Oe<V.length;Oe++)Te=le($,V[Oe],he),Te!==null&&(N=y(Te,N,Oe),Re===null?Se=Te:Re.sibling=Te,Re=Te);return et&&ss($,Oe),Se}for(Te=f($,Te);Oe<V.length;Oe++)At=me(Te,$,Oe,V[Oe],he),At!==null&&(r&&At.alternate!==null&&Te.delete(At.key===null?Oe:At.key),N=y(At,N,Oe),Re===null?Se=At:Re.sibling=At,Re=At);return r&&Te.forEach(function(Ii){return s($,Ii)}),et&&ss($,Oe),Se}function we($,N,V,he){var Se=B(V);if(typeof Se!="function")throw Error(n(150));if(V=Se.call(V),V==null)throw Error(n(151));for(var Re=Se=null,Te=N,Oe=N=0,At=null,Be=V.next();Te!==null&&!Be.done;Oe++,Be=V.next()){Te.index>Oe?(At=Te,Te=null):At=Te.sibling;var Ii=ne($,Te,Be.value,he);if(Ii===null){Te===null&&(Te=At);break}r&&Te&&Ii.alternate===null&&s($,Te),N=y(Ii,N,Oe),Re===null?Se=Ii:Re.sibling=Ii,Re=Ii,Te=At}if(Be.done)return u($,Te),et&&ss($,Oe),Se;if(Te===null){for(;!Be.done;Oe++,Be=V.next())Be=le($,Be.value,he),Be!==null&&(N=y(Be,N,Oe),Re===null?Se=Be:Re.sibling=Be,Re=Be);return et&&ss($,Oe),Se}for(Te=f($,Te);!Be.done;Oe++,Be=V.next())Be=me(Te,$,Oe,Be.value,he),Be!==null&&(r&&Be.alternate!==null&&Te.delete(Be.key===null?Oe:Be.key),N=y(Be,N,Oe),Re===null?Se=Be:Re.sibling=Be,Re=Be);return r&&Te.forEach(function(Xx){return s($,Xx)}),et&&ss($,Oe),Se}function mt($,N,V,he){if(typeof V=="object"&&V!==null&&V.type===j&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case P:e:{for(var Se=V.key,Re=N;Re!==null;){if(Re.key===Se){if(Se=V.type,Se===j){if(Re.tag===7){u($,Re.sibling),N=p(Re,V.props.children),N.return=$,$=N;break e}}else if(Re.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===ue&&ig(Se)===Re.type){u($,Re.sibling),N=p(Re,V.props),N.ref=pl($,Re,V),N.return=$,$=N;break e}u($,Re);break}else s($,Re);Re=Re.sibling}V.type===j?(N=ds(V.props.children,$.mode,he,V.key),N.return=$,$=N):(he=ou(V.type,V.key,V.props,null,$.mode,he),he.ref=pl($,N,V),he.return=$,$=he)}return C($);case I:e:{for(Re=V.key;N!==null;){if(N.key===Re)if(N.tag===4&&N.stateNode.containerInfo===V.containerInfo&&N.stateNode.implementation===V.implementation){u($,N.sibling),N=p(N,V.children||[]),N.return=$,$=N;break e}else{u($,N);break}else s($,N);N=N.sibling}N=ih(V,$.mode,he),N.return=$,$=N}return C($);case ue:return Re=V._init,mt($,N,Re(V._payload),he)}if(Wn(V))return ve($,N,V,he);if(B(V))return we($,N,V,he);Na($,V)}return typeof V=="string"&&V!==""||typeof V=="number"?(V=""+V,N!==null&&N.tag===6?(u($,N.sibling),N=p(N,V),N.return=$,$=N):(u($,N),N=rh(V,$.mode,he),N.return=$,$=N),C($)):u($,N)}return mt}var no=sg(!0),og=sg(!1),ja=Si(null),Da=null,ro=null,df=null;function pf(){df=ro=Da=null}function gf(r){var s=ja.current;Qe(ja),r._currentValue=s}function mf(r,s,u){for(;r!==null;){var f=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,f!==null&&(f.childLanes|=s)):f!==null&&(f.childLanes&s)!==s&&(f.childLanes|=s),r===u)break;r=r.return}}function io(r,s){Da=r,df=ro=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&s&&(mn=!0),r.firstContext=null)}function Zn(r){var s=r._currentValue;if(df!==r)if(r={context:r,memoizedValue:s,next:null},ro===null){if(Da===null)throw Error(n(308));ro=r,Da.dependencies={lanes:0,firstContext:r}}else ro=ro.next=r;return s}var os=null;function yf(r){os===null?os=[r]:os.push(r)}function lg(r,s,u,f){var p=s.interleaved;return p===null?(u.next=u,yf(s)):(u.next=p.next,p.next=u),s.interleaved=u,ti(r,f)}function ti(r,s){r.lanes|=s;var u=r.alternate;for(u!==null&&(u.lanes|=s),u=r,r=r.return;r!==null;)r.childLanes|=s,u=r.alternate,u!==null&&(u.childLanes|=s),u=r,r=r.return;return u.tag===3?u.stateNode:null}var Ri=!1;function _f(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ag(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function ni(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function Ti(r,s,u){var f=r.updateQueue;if(f===null)return null;if(f=f.shared,De&2){var p=f.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),f.pending=s,ti(r,u)}return p=f.interleaved,p===null?(s.next=s,yf(f)):(s.next=p.next,p.next=s),f.interleaved=s,ti(r,u)}function za(r,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194240)!==0)){var f=s.lanes;f&=r.pendingLanes,u|=f,s.lanes=u,Ac(r,u)}}function ug(r,s){var u=r.updateQueue,f=r.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var p=null,y=null;if(u=u.firstBaseUpdate,u!==null){do{var C={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};y===null?p=y=C:y=y.next=C,u=u.next}while(u!==null);y===null?p=y=s:y=y.next=s}else p=y=s;u={baseState:f.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:f.shared,effects:f.effects},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=s:r.next=s,u.lastBaseUpdate=s}function Ba(r,s,u,f){var p=r.updateQueue;Ri=!1;var y=p.firstBaseUpdate,C=p.lastBaseUpdate,O=p.shared.pending;if(O!==null){p.shared.pending=null;var F=O,H=F.next;F.next=null,C===null?y=H:C.next=H,C=F;var ie=r.alternate;ie!==null&&(ie=ie.updateQueue,O=ie.lastBaseUpdate,O!==C&&(O===null?ie.firstBaseUpdate=H:O.next=H,ie.lastBaseUpdate=F))}if(y!==null){var le=p.baseState;C=0,ie=H=F=null,O=y;do{var ne=O.lane,me=O.eventTime;if((f&ne)===ne){ie!==null&&(ie=ie.next={eventTime:me,lane:0,tag:O.tag,payload:O.payload,callback:O.callback,next:null});e:{var ve=r,we=O;switch(ne=s,me=u,we.tag){case 1:if(ve=we.payload,typeof ve=="function"){le=ve.call(me,le,ne);break e}le=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=we.payload,ne=typeof ve=="function"?ve.call(me,le,ne):ve,ne==null)break e;le=G({},le,ne);break e;case 2:Ri=!0}}O.callback!==null&&O.lane!==0&&(r.flags|=64,ne=p.effects,ne===null?p.effects=[O]:ne.push(O))}else me={eventTime:me,lane:ne,tag:O.tag,payload:O.payload,callback:O.callback,next:null},ie===null?(H=ie=me,F=le):ie=ie.next=me,C|=ne;if(O=O.next,O===null){if(O=p.shared.pending,O===null)break;ne=O,O=ne.next,ne.next=null,p.lastBaseUpdate=ne,p.shared.pending=null}}while(!0);if(ie===null&&(F=le),p.baseState=F,p.firstBaseUpdate=H,p.lastBaseUpdate=ie,s=p.shared.interleaved,s!==null){p=s;do C|=p.lane,p=p.next;while(p!==s)}else y===null&&(p.shared.lanes=0);us|=C,r.lanes=C,r.memoizedState=le}}function cg(r,s,u){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var f=r[s],p=f.callback;if(p!==null){if(f.callback=null,f=u,typeof p!="function")throw Error(n(191,p));p.call(f)}}}var gl={},Rr=Si(gl),ml=Si(gl),yl=Si(gl);function ls(r){if(r===gl)throw Error(n(174));return r}function vf(r,s){switch(Ke(yl,s),Ke(ml,r),Ke(Rr,gl),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Yn(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=Yn(s,r)}Qe(Rr),Ke(Rr,s)}function so(){Qe(Rr),Qe(ml),Qe(yl)}function fg(r){ls(yl.current);var s=ls(Rr.current),u=Yn(s,r.type);s!==u&&(Ke(ml,r),Ke(Rr,u))}function xf(r){ml.current===r&&(Qe(Rr),Qe(ml))}var it=Si(0);function Ua(r){for(var s=r;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var wf=[];function kf(){for(var r=0;r<wf.length;r++)wf[r]._workInProgressVersionPrimary=null;wf.length=0}var $a=M.ReactCurrentDispatcher,bf=M.ReactCurrentBatchConfig,as=0,st=null,kt=null,Mt=null,Va=!1,_l=!1,vl=0,mx=0;function Wt(){throw Error(n(321))}function Sf(r,s){if(s===null)return!1;for(var u=0;u<s.length&&u<r.length;u++)if(!ur(r[u],s[u]))return!1;return!0}function Ef(r,s,u,f,p,y){if(as=y,st=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,$a.current=r===null||r.memoizedState===null?xx:wx,r=u(f,p),_l){y=0;do{if(_l=!1,vl=0,25<=y)throw Error(n(301));y+=1,Mt=kt=null,s.updateQueue=null,$a.current=kx,r=u(f,p)}while(_l)}if($a.current=Ya,s=kt!==null&&kt.next!==null,as=0,Mt=kt=st=null,Va=!1,s)throw Error(n(300));return r}function Cf(){var r=vl!==0;return vl=0,r}function Tr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?st.memoizedState=Mt=r:Mt=Mt.next=r,Mt}function Jn(){if(kt===null){var r=st.alternate;r=r!==null?r.memoizedState:null}else r=kt.next;var s=Mt===null?st.memoizedState:Mt.next;if(s!==null)Mt=s,kt=r;else{if(r===null)throw Error(n(310));kt=r,r={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},Mt===null?st.memoizedState=Mt=r:Mt=Mt.next=r}return Mt}function xl(r,s){return typeof s=="function"?s(r):s}function Rf(r){var s=Jn(),u=s.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=r;var f=kt,p=f.baseQueue,y=u.pending;if(y!==null){if(p!==null){var C=p.next;p.next=y.next,y.next=C}f.baseQueue=p=y,u.pending=null}if(p!==null){y=p.next,f=f.baseState;var O=C=null,F=null,H=y;do{var ie=H.lane;if((as&ie)===ie)F!==null&&(F=F.next={lane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),f=H.hasEagerState?H.eagerState:r(f,H.action);else{var le={lane:ie,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null};F===null?(O=F=le,C=f):F=F.next=le,st.lanes|=ie,us|=ie}H=H.next}while(H!==null&&H!==y);F===null?C=f:F.next=O,ur(f,s.memoizedState)||(mn=!0),s.memoizedState=f,s.baseState=C,s.baseQueue=F,u.lastRenderedState=f}if(r=u.interleaved,r!==null){p=r;do y=p.lane,st.lanes|=y,us|=y,p=p.next;while(p!==r)}else p===null&&(u.lanes=0);return[s.memoizedState,u.dispatch]}function Tf(r){var s=Jn(),u=s.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=r;var f=u.dispatch,p=u.pending,y=s.memoizedState;if(p!==null){u.pending=null;var C=p=p.next;do y=r(y,C.action),C=C.next;while(C!==p);ur(y,s.memoizedState)||(mn=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),u.lastRenderedState=y}return[y,f]}function hg(){}function dg(r,s){var u=st,f=Jn(),p=s(),y=!ur(f.memoizedState,p);if(y&&(f.memoizedState=p,mn=!0),f=f.queue,Mf(mg.bind(null,u,f,r),[r]),f.getSnapshot!==s||y||Mt!==null&&Mt.memoizedState.tag&1){if(u.flags|=2048,wl(9,gg.bind(null,u,f,p,s),void 0,null),Pt===null)throw Error(n(349));as&30||pg(u,s,p)}return p}function pg(r,s,u){r.flags|=16384,r={getSnapshot:s,value:u},s=st.updateQueue,s===null?(s={lastEffect:null,stores:null},st.updateQueue=s,s.stores=[r]):(u=s.stores,u===null?s.stores=[r]:u.push(r))}function gg(r,s,u,f){s.value=u,s.getSnapshot=f,yg(s)&&_g(r)}function mg(r,s,u){return u(function(){yg(s)&&_g(r)})}function yg(r){var s=r.getSnapshot;r=r.value;try{var u=s();return!ur(r,u)}catch{return!0}}function _g(r){var s=ti(r,1);s!==null&&pr(s,r,1,-1)}function vg(r){var s=Tr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xl,lastRenderedState:r},s.queue=r,r=r.dispatch=vx.bind(null,st,r),[s.memoizedState,r]}function wl(r,s,u,f){return r={tag:r,create:s,destroy:u,deps:f,next:null},s=st.updateQueue,s===null?(s={lastEffect:null,stores:null},st.updateQueue=s,s.lastEffect=r.next=r):(u=s.lastEffect,u===null?s.lastEffect=r.next=r:(f=u.next,u.next=r,r.next=f,s.lastEffect=r)),r}function xg(){return Jn().memoizedState}function Ha(r,s,u,f){var p=Tr();st.flags|=r,p.memoizedState=wl(1|s,u,void 0,f===void 0?null:f)}function Wa(r,s,u,f){var p=Jn();f=f===void 0?null:f;var y=void 0;if(kt!==null){var C=kt.memoizedState;if(y=C.destroy,f!==null&&Sf(f,C.deps)){p.memoizedState=wl(s,u,y,f);return}}st.flags|=r,p.memoizedState=wl(1|s,u,y,f)}function wg(r,s){return Ha(8390656,8,r,s)}function Mf(r,s){return Wa(2048,8,r,s)}function kg(r,s){return Wa(4,2,r,s)}function bg(r,s){return Wa(4,4,r,s)}function Sg(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Eg(r,s,u){return u=u!=null?u.concat([r]):null,Wa(4,4,Sg.bind(null,s,r),u)}function Pf(){}function Cg(r,s){var u=Jn();s=s===void 0?null:s;var f=u.memoizedState;return f!==null&&s!==null&&Sf(s,f[1])?f[0]:(u.memoizedState=[r,s],r)}function Rg(r,s){var u=Jn();s=s===void 0?null:s;var f=u.memoizedState;return f!==null&&s!==null&&Sf(s,f[1])?f[0]:(r=r(),u.memoizedState=[r,s],r)}function Tg(r,s,u){return as&21?(ur(u,s)||(u=ip(),st.lanes|=u,us|=u,r.baseState=!0),s):(r.baseState&&(r.baseState=!1,mn=!0),r.memoizedState=u)}function yx(r,s){var u=Ye;Ye=u!==0&&4>u?u:4,r(!0);var f=bf.transition;bf.transition={};try{r(!1),s()}finally{Ye=u,bf.transition=f}}function Mg(){return Jn().memoizedState}function _x(r,s,u){var f=Oi(r);if(u={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null},Pg(r))Ag(s,u);else if(u=lg(r,s,u,f),u!==null){var p=on();pr(u,r,f,p),Og(u,s,f)}}function vx(r,s,u){var f=Oi(r),p={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null};if(Pg(r))Ag(s,p);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var C=s.lastRenderedState,O=y(C,u);if(p.hasEagerState=!0,p.eagerState=O,ur(O,C)){var F=s.interleaved;F===null?(p.next=p,yf(s)):(p.next=F.next,F.next=p),s.interleaved=p;return}}catch{}finally{}u=lg(r,s,p,f),u!==null&&(p=on(),pr(u,r,f,p),Og(u,s,f))}}function Pg(r){var s=r.alternate;return r===st||s!==null&&s===st}function Ag(r,s){_l=Va=!0;var u=r.pending;u===null?s.next=s:(s.next=u.next,u.next=s),r.pending=s}function Og(r,s,u){if(u&4194240){var f=s.lanes;f&=r.pendingLanes,u|=f,s.lanes=u,Ac(r,u)}}var Ya={readContext:Zn,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useInsertionEffect:Wt,useLayoutEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useMutableSource:Wt,useSyncExternalStore:Wt,useId:Wt,unstable_isNewReconciler:!1},xx={readContext:Zn,useCallback:function(r,s){return Tr().memoizedState=[r,s===void 0?null:s],r},useContext:Zn,useEffect:wg,useImperativeHandle:function(r,s,u){return u=u!=null?u.concat([r]):null,Ha(4194308,4,Sg.bind(null,s,r),u)},useLayoutEffect:function(r,s){return Ha(4194308,4,r,s)},useInsertionEffect:function(r,s){return Ha(4,2,r,s)},useMemo:function(r,s){var u=Tr();return s=s===void 0?null:s,r=r(),u.memoizedState=[r,s],r},useReducer:function(r,s,u){var f=Tr();return s=u!==void 0?u(s):s,f.memoizedState=f.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},f.queue=r,r=r.dispatch=_x.bind(null,st,r),[f.memoizedState,r]},useRef:function(r){var s=Tr();return r={current:r},s.memoizedState=r},useState:vg,useDebugValue:Pf,useDeferredValue:function(r){return Tr().memoizedState=r},useTransition:function(){var r=vg(!1),s=r[0];return r=yx.bind(null,r[1]),Tr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,u){var f=st,p=Tr();if(et){if(u===void 0)throw Error(n(407));u=u()}else{if(u=s(),Pt===null)throw Error(n(349));as&30||pg(f,s,u)}p.memoizedState=u;var y={value:u,getSnapshot:s};return p.queue=y,wg(mg.bind(null,f,y,r),[r]),f.flags|=2048,wl(9,gg.bind(null,f,y,u,s),void 0,null),u},useId:function(){var r=Tr(),s=Pt.identifierPrefix;if(et){var u=ei,f=Jr;u=(f&~(1<<32-_t(f)-1)).toString(32)+u,s=":"+s+"R"+u,u=vl++,0<u&&(s+="H"+u.toString(32)),s+=":"}else u=mx++,s=":"+s+"r"+u.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},wx={readContext:Zn,useCallback:Cg,useContext:Zn,useEffect:Mf,useImperativeHandle:Eg,useInsertionEffect:kg,useLayoutEffect:bg,useMemo:Rg,useReducer:Rf,useRef:xg,useState:function(){return Rf(xl)},useDebugValue:Pf,useDeferredValue:function(r){var s=Jn();return Tg(s,kt.memoizedState,r)},useTransition:function(){var r=Rf(xl)[0],s=Jn().memoizedState;return[r,s]},useMutableSource:hg,useSyncExternalStore:dg,useId:Mg,unstable_isNewReconciler:!1},kx={readContext:Zn,useCallback:Cg,useContext:Zn,useEffect:Mf,useImperativeHandle:Eg,useInsertionEffect:kg,useLayoutEffect:bg,useMemo:Rg,useReducer:Tf,useRef:xg,useState:function(){return Tf(xl)},useDebugValue:Pf,useDeferredValue:function(r){var s=Jn();return kt===null?s.memoizedState=r:Tg(s,kt.memoizedState,r)},useTransition:function(){var r=Tf(xl)[0],s=Jn().memoizedState;return[r,s]},useMutableSource:hg,useSyncExternalStore:dg,useId:Mg,unstable_isNewReconciler:!1};function fr(r,s){if(r&&r.defaultProps){s=G({},s),r=r.defaultProps;for(var u in r)s[u]===void 0&&(s[u]=r[u]);return s}return s}function Af(r,s,u,f){s=r.memoizedState,u=u(f,s),u=u==null?s:G({},s,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var Xa={isMounted:function(r){return(r=r._reactInternals)?Gr(r)===r:!1},enqueueSetState:function(r,s,u){r=r._reactInternals;var f=on(),p=Oi(r),y=ni(f,p);y.payload=s,u!=null&&(y.callback=u),s=Ti(r,y,p),s!==null&&(pr(s,r,p,f),za(s,r,p))},enqueueReplaceState:function(r,s,u){r=r._reactInternals;var f=on(),p=Oi(r),y=ni(f,p);y.tag=1,y.payload=s,u!=null&&(y.callback=u),s=Ti(r,y,p),s!==null&&(pr(s,r,p,f),za(s,r,p))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var u=on(),f=Oi(r),p=ni(u,f);p.tag=2,s!=null&&(p.callback=s),s=Ti(r,p,f),s!==null&&(pr(s,r,f,u),za(s,r,f))}};function Lg(r,s,u,f,p,y,C){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(f,y,C):s.prototype&&s.prototype.isPureReactComponent?!ll(u,f)||!ll(p,y):!0}function Fg(r,s,u){var f=!1,p=Ei,y=s.contextType;return typeof y=="object"&&y!==null?y=Zn(y):(p=gn(s)?rs:Ht.current,f=s.contextTypes,y=(f=f!=null)?Zs(r,p):Ei),s=new s(u,y),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Xa,r.stateNode=s,s._reactInternals=r,f&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=p,r.__reactInternalMemoizedMaskedChildContext=y),s}function Ig(r,s,u,f){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,f),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,f),s.state!==r&&Xa.enqueueReplaceState(s,s.state,null)}function Of(r,s,u,f){var p=r.stateNode;p.props=u,p.state=r.memoizedState,p.refs={},_f(r);var y=s.contextType;typeof y=="object"&&y!==null?p.context=Zn(y):(y=gn(s)?rs:Ht.current,p.context=Zs(r,y)),p.state=r.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(Af(r,s,y,u),p.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(s=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),s!==p.state&&Xa.enqueueReplaceState(p,p.state,null),Ba(r,u,p,f),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308)}function oo(r,s){try{var u="",f=s;do u+=oe(f),f=f.return;while(f);var p=u}catch(y){p=`
Error generating stack: `+y.message+`
`+y.stack}return{value:r,source:s,stack:p,digest:null}}function Lf(r,s,u){return{value:r,source:null,stack:u??null,digest:s??null}}function Ff(r,s){try{console.error(s.value)}catch(u){setTimeout(function(){throw u})}}var bx=typeof WeakMap=="function"?WeakMap:Map;function Ng(r,s,u){u=ni(-1,u),u.tag=3,u.payload={element:null};var f=s.value;return u.callback=function(){eu||(eu=!0,qf=f),Ff(r,s)},u}function jg(r,s,u){u=ni(-1,u),u.tag=3;var f=r.type.getDerivedStateFromError;if(typeof f=="function"){var p=s.value;u.payload=function(){return f(p)},u.callback=function(){Ff(r,s)}}var y=r.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(u.callback=function(){Ff(r,s),typeof f!="function"&&(Pi===null?Pi=new Set([this]):Pi.add(this));var C=s.stack;this.componentDidCatch(s.value,{componentStack:C!==null?C:""})}),u}function Dg(r,s,u){var f=r.pingCache;if(f===null){f=r.pingCache=new bx;var p=new Set;f.set(s,p)}else p=f.get(s),p===void 0&&(p=new Set,f.set(s,p));p.has(u)||(p.add(u),r=jx.bind(null,r,s,u),s.then(r,r))}function zg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Bg(r,s,u,f,p){return r.mode&1?(r.flags|=65536,r.lanes=p,r):(r===s?r.flags|=65536:(r.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(s=ni(-1,1),s.tag=2,Ti(u,s,1))),u.lanes|=1),r)}var Sx=M.ReactCurrentOwner,mn=!1;function sn(r,s,u,f){s.child=r===null?og(s,null,u,f):no(s,r.child,u,f)}function Ug(r,s,u,f,p){u=u.render;var y=s.ref;return io(s,p),f=Ef(r,s,u,f,y,p),u=Cf(),r!==null&&!mn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,ri(r,s,p)):(et&&u&&af(s),s.flags|=1,sn(r,s,f,p),s.child)}function $g(r,s,u,f,p){if(r===null){var y=u.type;return typeof y=="function"&&!nh(y)&&y.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(s.tag=15,s.type=y,Vg(r,s,y,f,p)):(r=ou(u.type,null,f,s,s.mode,p),r.ref=s.ref,r.return=s,s.child=r)}if(y=r.child,!(r.lanes&p)){var C=y.memoizedProps;if(u=u.compare,u=u!==null?u:ll,u(C,f)&&r.ref===s.ref)return ri(r,s,p)}return s.flags|=1,r=Fi(y,f),r.ref=s.ref,r.return=s,s.child=r}function Vg(r,s,u,f,p){if(r!==null){var y=r.memoizedProps;if(ll(y,f)&&r.ref===s.ref)if(mn=!1,s.pendingProps=f=y,(r.lanes&p)!==0)r.flags&131072&&(mn=!0);else return s.lanes=r.lanes,ri(r,s,p)}return If(r,s,u,f,p)}function Hg(r,s,u){var f=s.pendingProps,p=f.children,y=r!==null?r.memoizedState:null;if(f.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(ao,Nn),Nn|=u;else{if(!(u&1073741824))return r=y!==null?y.baseLanes|u:u,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Ke(ao,Nn),Nn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=y!==null?y.baseLanes:u,Ke(ao,Nn),Nn|=f}else y!==null?(f=y.baseLanes|u,s.memoizedState=null):f=u,Ke(ao,Nn),Nn|=f;return sn(r,s,p,u),s.child}function Wg(r,s){var u=s.ref;(r===null&&u!==null||r!==null&&r.ref!==u)&&(s.flags|=512,s.flags|=2097152)}function If(r,s,u,f,p){var y=gn(u)?rs:Ht.current;return y=Zs(s,y),io(s,p),u=Ef(r,s,u,f,y,p),f=Cf(),r!==null&&!mn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,ri(r,s,p)):(et&&f&&af(s),s.flags|=1,sn(r,s,u,p),s.child)}function Yg(r,s,u,f,p){if(gn(u)){var y=!0;Aa(s)}else y=!1;if(io(s,p),s.stateNode===null)qa(r,s),Fg(s,u,f),Of(s,u,f,p),f=!0;else if(r===null){var C=s.stateNode,O=s.memoizedProps;C.props=O;var F=C.context,H=u.contextType;typeof H=="object"&&H!==null?H=Zn(H):(H=gn(u)?rs:Ht.current,H=Zs(s,H));var ie=u.getDerivedStateFromProps,le=typeof ie=="function"||typeof C.getSnapshotBeforeUpdate=="function";le||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(O!==f||F!==H)&&Ig(s,C,f,H),Ri=!1;var ne=s.memoizedState;C.state=ne,Ba(s,f,C,p),F=s.memoizedState,O!==f||ne!==F||pn.current||Ri?(typeof ie=="function"&&(Af(s,u,ie,f),F=s.memoizedState),(O=Ri||Lg(s,u,O,f,ne,F,H))?(le||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(s.flags|=4194308)):(typeof C.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=f,s.memoizedState=F),C.props=f,C.state=F,C.context=H,f=O):(typeof C.componentDidMount=="function"&&(s.flags|=4194308),f=!1)}else{C=s.stateNode,ag(r,s),O=s.memoizedProps,H=s.type===s.elementType?O:fr(s.type,O),C.props=H,le=s.pendingProps,ne=C.context,F=u.contextType,typeof F=="object"&&F!==null?F=Zn(F):(F=gn(u)?rs:Ht.current,F=Zs(s,F));var me=u.getDerivedStateFromProps;(ie=typeof me=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(O!==le||ne!==F)&&Ig(s,C,f,F),Ri=!1,ne=s.memoizedState,C.state=ne,Ba(s,f,C,p);var ve=s.memoizedState;O!==le||ne!==ve||pn.current||Ri?(typeof me=="function"&&(Af(s,u,me,f),ve=s.memoizedState),(H=Ri||Lg(s,u,H,f,ne,ve,F)||!1)?(ie||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(f,ve,F),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(f,ve,F)),typeof C.componentDidUpdate=="function"&&(s.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof C.componentDidUpdate!="function"||O===r.memoizedProps&&ne===r.memoizedState||(s.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||O===r.memoizedProps&&ne===r.memoizedState||(s.flags|=1024),s.memoizedProps=f,s.memoizedState=ve),C.props=f,C.state=ve,C.context=F,f=H):(typeof C.componentDidUpdate!="function"||O===r.memoizedProps&&ne===r.memoizedState||(s.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||O===r.memoizedProps&&ne===r.memoizedState||(s.flags|=1024),f=!1)}return Nf(r,s,u,f,y,p)}function Nf(r,s,u,f,p,y){Wg(r,s);var C=(s.flags&128)!==0;if(!f&&!C)return p&&Qp(s,u,!1),ri(r,s,y);f=s.stateNode,Sx.current=s;var O=C&&typeof u.getDerivedStateFromError!="function"?null:f.render();return s.flags|=1,r!==null&&C?(s.child=no(s,r.child,null,y),s.child=no(s,null,O,y)):sn(r,s,O,y),s.memoizedState=f.state,p&&Qp(s,u,!0),s.child}function Xg(r){var s=r.stateNode;s.pendingContext?qp(r,s.pendingContext,s.pendingContext!==s.context):s.context&&qp(r,s.context,!1),vf(r,s.containerInfo)}function Kg(r,s,u,f,p){return to(),hf(p),s.flags|=256,sn(r,s,u,f),s.child}var jf={dehydrated:null,treeContext:null,retryLane:0};function Df(r){return{baseLanes:r,cachePool:null,transitions:null}}function qg(r,s,u){var f=s.pendingProps,p=it.current,y=!1,C=(s.flags&128)!==0,O;if((O=C)||(O=r!==null&&r.memoizedState===null?!1:(p&2)!==0),O?(y=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(p|=1),Ke(it,p&1),r===null)return ff(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(s.mode&1?r.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(C=f.children,r=f.fallback,y?(f=s.mode,y=s.child,C={mode:"hidden",children:C},!(f&1)&&y!==null?(y.childLanes=0,y.pendingProps=C):y=lu(C,f,0,null),r=ds(r,f,u,null),y.return=s,r.return=s,y.sibling=r,s.child=y,s.child.memoizedState=Df(u),s.memoizedState=jf,r):zf(s,C));if(p=r.memoizedState,p!==null&&(O=p.dehydrated,O!==null))return Ex(r,s,C,f,O,p,u);if(y){y=f.fallback,C=s.mode,p=r.child,O=p.sibling;var F={mode:"hidden",children:f.children};return!(C&1)&&s.child!==p?(f=s.child,f.childLanes=0,f.pendingProps=F,s.deletions=null):(f=Fi(p,F),f.subtreeFlags=p.subtreeFlags&14680064),O!==null?y=Fi(O,y):(y=ds(y,C,u,null),y.flags|=2),y.return=s,f.return=s,f.sibling=y,s.child=f,f=y,y=s.child,C=r.child.memoizedState,C=C===null?Df(u):{baseLanes:C.baseLanes|u,cachePool:null,transitions:C.transitions},y.memoizedState=C,y.childLanes=r.childLanes&~u,s.memoizedState=jf,f}return y=r.child,r=y.sibling,f=Fi(y,{mode:"visible",children:f.children}),!(s.mode&1)&&(f.lanes=u),f.return=s,f.sibling=null,r!==null&&(u=s.deletions,u===null?(s.deletions=[r],s.flags|=16):u.push(r)),s.child=f,s.memoizedState=null,f}function zf(r,s){return s=lu({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Ka(r,s,u,f){return f!==null&&hf(f),no(s,r.child,null,u),r=zf(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function Ex(r,s,u,f,p,y,C){if(u)return s.flags&256?(s.flags&=-257,f=Lf(Error(n(422))),Ka(r,s,C,f)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(y=f.fallback,p=s.mode,f=lu({mode:"visible",children:f.children},p,0,null),y=ds(y,p,C,null),y.flags|=2,f.return=s,y.return=s,f.sibling=y,s.child=f,s.mode&1&&no(s,r.child,null,C),s.child.memoizedState=Df(C),s.memoizedState=jf,y);if(!(s.mode&1))return Ka(r,s,C,null);if(p.data==="$!"){if(f=p.nextSibling&&p.nextSibling.dataset,f)var O=f.dgst;return f=O,y=Error(n(419)),f=Lf(y,f,void 0),Ka(r,s,C,f)}if(O=(C&r.childLanes)!==0,mn||O){if(f=Pt,f!==null){switch(C&-C){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=p&(f.suspendedLanes|C)?0:p,p!==0&&p!==y.retryLane&&(y.retryLane=p,ti(r,p),pr(f,r,p,-1))}return th(),f=Lf(Error(n(421))),Ka(r,s,C,f)}return p.data==="$?"?(s.flags|=128,s.child=r.child,s=Dx.bind(null,r),p._reactRetry=s,null):(r=y.treeContext,In=bi(p.nextSibling),Fn=s,et=!0,cr=null,r!==null&&(Gn[Qn++]=Jr,Gn[Qn++]=ei,Gn[Qn++]=is,Jr=r.id,ei=r.overflow,is=s),s=zf(s,f.children),s.flags|=4096,s)}function Gg(r,s,u){r.lanes|=s;var f=r.alternate;f!==null&&(f.lanes|=s),mf(r.return,s,u)}function Bf(r,s,u,f,p){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:p}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=f,y.tail=u,y.tailMode=p)}function Qg(r,s,u){var f=s.pendingProps,p=f.revealOrder,y=f.tail;if(sn(r,s,f.children,u),f=it.current,f&2)f=f&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Gg(r,u,s);else if(r.tag===19)Gg(r,u,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}f&=1}if(Ke(it,f),!(s.mode&1))s.memoizedState=null;else switch(p){case"forwards":for(u=s.child,p=null;u!==null;)r=u.alternate,r!==null&&Ua(r)===null&&(p=u),u=u.sibling;u=p,u===null?(p=s.child,s.child=null):(p=u.sibling,u.sibling=null),Bf(s,!1,p,u,y);break;case"backwards":for(u=null,p=s.child,s.child=null;p!==null;){if(r=p.alternate,r!==null&&Ua(r)===null){s.child=p;break}r=p.sibling,p.sibling=u,u=p,p=r}Bf(s,!0,u,null,y);break;case"together":Bf(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function qa(r,s){!(s.mode&1)&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function ri(r,s,u){if(r!==null&&(s.dependencies=r.dependencies),us|=s.lanes,!(u&s.childLanes))return null;if(r!==null&&s.child!==r.child)throw Error(n(153));if(s.child!==null){for(r=s.child,u=Fi(r,r.pendingProps),s.child=u,u.return=s;r.sibling!==null;)r=r.sibling,u=u.sibling=Fi(r,r.pendingProps),u.return=s;u.sibling=null}return s.child}function Cx(r,s,u){switch(s.tag){case 3:Xg(s),to();break;case 5:fg(s);break;case 1:gn(s.type)&&Aa(s);break;case 4:vf(s,s.stateNode.containerInfo);break;case 10:var f=s.type._context,p=s.memoizedProps.value;Ke(ja,f._currentValue),f._currentValue=p;break;case 13:if(f=s.memoizedState,f!==null)return f.dehydrated!==null?(Ke(it,it.current&1),s.flags|=128,null):u&s.child.childLanes?qg(r,s,u):(Ke(it,it.current&1),r=ri(r,s,u),r!==null?r.sibling:null);Ke(it,it.current&1);break;case 19:if(f=(u&s.childLanes)!==0,r.flags&128){if(f)return Qg(r,s,u);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Ke(it,it.current),f)break;return null;case 22:case 23:return s.lanes=0,Hg(r,s,u)}return ri(r,s,u)}var Zg,Uf,Jg,em;Zg=function(r,s){for(var u=s.child;u!==null;){if(u.tag===5||u.tag===6)r.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Uf=function(){},Jg=function(r,s,u,f){var p=r.memoizedProps;if(p!==f){r=s.stateNode,ls(Rr.current);var y=null;switch(u){case"input":p=Rt(r,p),f=Rt(r,f),y=[];break;case"select":p=G({},p,{value:void 0}),f=G({},f,{value:void 0}),y=[];break;case"textarea":p=Sr(r,p),f=Sr(r,f),y=[];break;default:typeof p.onClick!="function"&&typeof f.onClick=="function"&&(r.onclick=Ta)}di(u,f);var C;u=null;for(H in p)if(!f.hasOwnProperty(H)&&p.hasOwnProperty(H)&&p[H]!=null)if(H==="style"){var O=p[H];for(C in O)O.hasOwnProperty(C)&&(u||(u={}),u[C]="")}else H!=="dangerouslySetInnerHTML"&&H!=="children"&&H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(o.hasOwnProperty(H)?y||(y=[]):(y=y||[]).push(H,null));for(H in f){var F=f[H];if(O=p!=null?p[H]:void 0,f.hasOwnProperty(H)&&F!==O&&(F!=null||O!=null))if(H==="style")if(O){for(C in O)!O.hasOwnProperty(C)||F&&F.hasOwnProperty(C)||(u||(u={}),u[C]="");for(C in F)F.hasOwnProperty(C)&&O[C]!==F[C]&&(u||(u={}),u[C]=F[C])}else u||(y||(y=[]),y.push(H,u)),u=F;else H==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,O=O?O.__html:void 0,F!=null&&O!==F&&(y=y||[]).push(H,F)):H==="children"?typeof F!="string"&&typeof F!="number"||(y=y||[]).push(H,""+F):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&(o.hasOwnProperty(H)?(F!=null&&H==="onScroll"&&Ge("scroll",r),y||O===F||(y=[])):(y=y||[]).push(H,F))}u&&(y=y||[]).push("style",u);var H=y;(s.updateQueue=H)&&(s.flags|=4)}},em=function(r,s,u,f){u!==f&&(s.flags|=4)};function kl(r,s){if(!et)switch(r.tailMode){case"hidden":s=r.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:f.sibling=null}}function Yt(r){var s=r.alternate!==null&&r.alternate.child===r.child,u=0,f=0;if(s)for(var p=r.child;p!==null;)u|=p.lanes|p.childLanes,f|=p.subtreeFlags&14680064,f|=p.flags&14680064,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)u|=p.lanes|p.childLanes,f|=p.subtreeFlags,f|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=f,r.childLanes=u,s}function Rx(r,s,u){var f=s.pendingProps;switch(uf(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(s),null;case 1:return gn(s.type)&&Pa(),Yt(s),null;case 3:return f=s.stateNode,so(),Qe(pn),Qe(Ht),kf(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(r===null||r.child===null)&&(Ia(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,cr!==null&&(Zf(cr),cr=null))),Uf(r,s),Yt(s),null;case 5:xf(s);var p=ls(yl.current);if(u=s.type,r!==null&&s.stateNode!=null)Jg(r,s,u,f,p),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!f){if(s.stateNode===null)throw Error(n(166));return Yt(s),null}if(r=ls(Rr.current),Ia(s)){f=s.stateNode,u=s.type;var y=s.memoizedProps;switch(f[Cr]=s,f[hl]=y,r=(s.mode&1)!==0,u){case"dialog":Ge("cancel",f),Ge("close",f);break;case"iframe":case"object":case"embed":Ge("load",f);break;case"video":case"audio":for(p=0;p<ul.length;p++)Ge(ul[p],f);break;case"source":Ge("error",f);break;case"img":case"image":case"link":Ge("error",f),Ge("load",f);break;case"details":Ge("toggle",f);break;case"input":pt(f,y),Ge("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!y.multiple},Ge("invalid",f);break;case"textarea":Mn(f,y),Ge("invalid",f)}di(u,y),p=null;for(var C in y)if(y.hasOwnProperty(C)){var O=y[C];C==="children"?typeof O=="string"?f.textContent!==O&&(y.suppressHydrationWarning!==!0&&Ra(f.textContent,O,r),p=["children",O]):typeof O=="number"&&f.textContent!==""+O&&(y.suppressHydrationWarning!==!0&&Ra(f.textContent,O,r),p=["children",""+O]):o.hasOwnProperty(C)&&O!=null&&C==="onScroll"&&Ge("scroll",f)}switch(u){case"input":Ve(f),Hn(f,y,!0);break;case"textarea":Ve(f),Er(f);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(f.onclick=Ta)}f=p,s.updateQueue=f,f!==null&&(s.flags|=4)}else{C=p.nodeType===9?p:p.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Yr(u)),r==="http://www.w3.org/1999/xhtml"?u==="script"?(r=C.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof f.is=="string"?r=C.createElement(u,{is:f.is}):(r=C.createElement(u),u==="select"&&(C=r,f.multiple?C.multiple=!0:f.size&&(C.size=f.size))):r=C.createElementNS(r,u),r[Cr]=s,r[hl]=f,Zg(r,s,!1,!1),s.stateNode=r;e:{switch(C=js(u,f),u){case"dialog":Ge("cancel",r),Ge("close",r),p=f;break;case"iframe":case"object":case"embed":Ge("load",r),p=f;break;case"video":case"audio":for(p=0;p<ul.length;p++)Ge(ul[p],r);p=f;break;case"source":Ge("error",r),p=f;break;case"img":case"image":case"link":Ge("error",r),Ge("load",r),p=f;break;case"details":Ge("toggle",r),p=f;break;case"input":pt(r,f),p=Rt(r,f),Ge("invalid",r);break;case"option":p=f;break;case"select":r._wrapperState={wasMultiple:!!f.multiple},p=G({},f,{value:void 0}),Ge("invalid",r);break;case"textarea":Mn(r,f),p=Sr(r,f),Ge("invalid",r);break;default:p=f}di(u,p),O=p;for(y in O)if(O.hasOwnProperty(y)){var F=O[y];y==="style"?ra(r,F):y==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,F!=null&&rn(r,F)):y==="children"?typeof F=="string"?(u!=="textarea"||F!=="")&&Xn(r,F):typeof F=="number"&&Xn(r,""+F):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?F!=null&&y==="onScroll"&&Ge("scroll",r):F!=null&&R(r,y,F,C))}switch(u){case"input":Ve(r),Hn(r,f,!1);break;case"textarea":Ve(r),Er(r);break;case"option":f.value!=null&&r.setAttribute("value",""+ee(f.value));break;case"select":r.multiple=!!f.multiple,y=f.value,y!=null?Tn(r,!!f.multiple,y,!1):f.defaultValue!=null&&Tn(r,!!f.multiple,f.defaultValue,!0);break;default:typeof p.onClick=="function"&&(r.onclick=Ta)}switch(u){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Yt(s),null;case 6:if(r&&s.stateNode!=null)em(r,s,r.memoizedProps,f);else{if(typeof f!="string"&&s.stateNode===null)throw Error(n(166));if(u=ls(yl.current),ls(Rr.current),Ia(s)){if(f=s.stateNode,u=s.memoizedProps,f[Cr]=s,(y=f.nodeValue!==u)&&(r=Fn,r!==null))switch(r.tag){case 3:Ra(f.nodeValue,u,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Ra(f.nodeValue,u,(r.mode&1)!==0)}y&&(s.flags|=4)}else f=(u.nodeType===9?u:u.ownerDocument).createTextNode(f),f[Cr]=s,s.stateNode=f}return Yt(s),null;case 13:if(Qe(it),f=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(et&&In!==null&&s.mode&1&&!(s.flags&128))rg(),to(),s.flags|=98560,y=!1;else if(y=Ia(s),f!==null&&f.dehydrated!==null){if(r===null){if(!y)throw Error(n(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));y[Cr]=s}else to(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Yt(s),y=!1}else cr!==null&&(Zf(cr),cr=null),y=!0;if(!y)return s.flags&65536?s:null}return s.flags&128?(s.lanes=u,s):(f=f!==null,f!==(r!==null&&r.memoizedState!==null)&&f&&(s.child.flags|=8192,s.mode&1&&(r===null||it.current&1?bt===0&&(bt=3):th())),s.updateQueue!==null&&(s.flags|=4),Yt(s),null);case 4:return so(),Uf(r,s),r===null&&cl(s.stateNode.containerInfo),Yt(s),null;case 10:return gf(s.type._context),Yt(s),null;case 17:return gn(s.type)&&Pa(),Yt(s),null;case 19:if(Qe(it),y=s.memoizedState,y===null)return Yt(s),null;if(f=(s.flags&128)!==0,C=y.rendering,C===null)if(f)kl(y,!1);else{if(bt!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(C=Ua(r),C!==null){for(s.flags|=128,kl(y,!1),f=C.updateQueue,f!==null&&(s.updateQueue=f,s.flags|=4),s.subtreeFlags=0,f=u,u=s.child;u!==null;)y=u,r=f,y.flags&=14680066,C=y.alternate,C===null?(y.childLanes=0,y.lanes=r,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=C.childLanes,y.lanes=C.lanes,y.child=C.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=C.memoizedProps,y.memoizedState=C.memoizedState,y.updateQueue=C.updateQueue,y.type=C.type,r=C.dependencies,y.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),u=u.sibling;return Ke(it,it.current&1|2),s.child}r=r.sibling}y.tail!==null&&ge()>uo&&(s.flags|=128,f=!0,kl(y,!1),s.lanes=4194304)}else{if(!f)if(r=Ua(C),r!==null){if(s.flags|=128,f=!0,u=r.updateQueue,u!==null&&(s.updateQueue=u,s.flags|=4),kl(y,!0),y.tail===null&&y.tailMode==="hidden"&&!C.alternate&&!et)return Yt(s),null}else 2*ge()-y.renderingStartTime>uo&&u!==1073741824&&(s.flags|=128,f=!0,kl(y,!1),s.lanes=4194304);y.isBackwards?(C.sibling=s.child,s.child=C):(u=y.last,u!==null?u.sibling=C:s.child=C,y.last=C)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=ge(),s.sibling=null,u=it.current,Ke(it,f?u&1|2:u&1),s):(Yt(s),null);case 22:case 23:return eh(),f=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==f&&(s.flags|=8192),f&&s.mode&1?Nn&1073741824&&(Yt(s),s.subtreeFlags&6&&(s.flags|=8192)):Yt(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function Tx(r,s){switch(uf(s),s.tag){case 1:return gn(s.type)&&Pa(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return so(),Qe(pn),Qe(Ht),kf(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 5:return xf(s),null;case 13:if(Qe(it),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(n(340));to()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Qe(it),null;case 4:return so(),null;case 10:return gf(s.type._context),null;case 22:case 23:return eh(),null;case 24:return null;default:return null}}var Ga=!1,Xt=!1,Mx=typeof WeakSet=="function"?WeakSet:Set,ye=null;function lo(r,s){var u=r.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(f){ht(r,s,f)}else u.current=null}function $f(r,s,u){try{u()}catch(f){ht(r,s,f)}}var tm=!1;function Px(r,s){if(Jc=ma,r=Lp(),Wc(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else e:{u=(u=r.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var p=f.anchorOffset,y=f.focusNode;f=f.focusOffset;try{u.nodeType,y.nodeType}catch{u=null;break e}var C=0,O=-1,F=-1,H=0,ie=0,le=r,ne=null;t:for(;;){for(var me;le!==u||p!==0&&le.nodeType!==3||(O=C+p),le!==y||f!==0&&le.nodeType!==3||(F=C+f),le.nodeType===3&&(C+=le.nodeValue.length),(me=le.firstChild)!==null;)ne=le,le=me;for(;;){if(le===r)break t;if(ne===u&&++H===p&&(O=C),ne===y&&++ie===f&&(F=C),(me=le.nextSibling)!==null)break;le=ne,ne=le.parentNode}le=me}u=O===-1||F===-1?null:{start:O,end:F}}else u=null}u=u||{start:0,end:0}}else u=null;for(ef={focusedElem:r,selectionRange:u},ma=!1,ye=s;ye!==null;)if(s=ye,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,ye=r;else for(;ye!==null;){s=ye;try{var ve=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ve!==null){var we=ve.memoizedProps,mt=ve.memoizedState,$=s.stateNode,N=$.getSnapshotBeforeUpdate(s.elementType===s.type?we:fr(s.type,we),mt);$.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var V=s.stateNode.containerInfo;V.nodeType===1?V.textContent="":V.nodeType===9&&V.documentElement&&V.removeChild(V.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(he){ht(s,s.return,he)}if(r=s.sibling,r!==null){r.return=s.return,ye=r;break}ye=s.return}return ve=tm,tm=!1,ve}function bl(r,s,u){var f=s.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var p=f=f.next;do{if((p.tag&r)===r){var y=p.destroy;p.destroy=void 0,y!==void 0&&$f(s,u,y)}p=p.next}while(p!==f)}}function Qa(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var u=s=s.next;do{if((u.tag&r)===r){var f=u.create;u.destroy=f()}u=u.next}while(u!==s)}}function Vf(r){var s=r.ref;if(s!==null){var u=r.stateNode;switch(r.tag){case 5:r=u;break;default:r=u}typeof s=="function"?s(r):s.current=r}}function nm(r){var s=r.alternate;s!==null&&(r.alternate=null,nm(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[Cr],delete s[hl],delete s[sf],delete s[hx],delete s[dx])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function rm(r){return r.tag===5||r.tag===3||r.tag===4}function im(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||rm(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Hf(r,s,u){var f=r.tag;if(f===5||f===6)r=r.stateNode,s?u.nodeType===8?u.parentNode.insertBefore(r,s):u.insertBefore(r,s):(u.nodeType===8?(s=u.parentNode,s.insertBefore(r,u)):(s=u,s.appendChild(r)),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=Ta));else if(f!==4&&(r=r.child,r!==null))for(Hf(r,s,u),r=r.sibling;r!==null;)Hf(r,s,u),r=r.sibling}function Wf(r,s,u){var f=r.tag;if(f===5||f===6)r=r.stateNode,s?u.insertBefore(r,s):u.appendChild(r);else if(f!==4&&(r=r.child,r!==null))for(Wf(r,s,u),r=r.sibling;r!==null;)Wf(r,s,u),r=r.sibling}var Ft=null,hr=!1;function Mi(r,s,u){for(u=u.child;u!==null;)sm(r,s,u),u=u.sibling}function sm(r,s,u){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(dn,u)}catch{}switch(u.tag){case 5:Xt||lo(u,s);case 6:var f=Ft,p=hr;Ft=null,Mi(r,s,u),Ft=f,hr=p,Ft!==null&&(hr?(r=Ft,u=u.stateNode,r.nodeType===8?r.parentNode.removeChild(u):r.removeChild(u)):Ft.removeChild(u.stateNode));break;case 18:Ft!==null&&(hr?(r=Ft,u=u.stateNode,r.nodeType===8?rf(r.parentNode,u):r.nodeType===1&&rf(r,u),tl(r)):rf(Ft,u.stateNode));break;case 4:f=Ft,p=hr,Ft=u.stateNode.containerInfo,hr=!0,Mi(r,s,u),Ft=f,hr=p;break;case 0:case 11:case 14:case 15:if(!Xt&&(f=u.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){p=f=f.next;do{var y=p,C=y.destroy;y=y.tag,C!==void 0&&(y&2||y&4)&&$f(u,s,C),p=p.next}while(p!==f)}Mi(r,s,u);break;case 1:if(!Xt&&(lo(u,s),f=u.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=u.memoizedProps,f.state=u.memoizedState,f.componentWillUnmount()}catch(O){ht(u,s,O)}Mi(r,s,u);break;case 21:Mi(r,s,u);break;case 22:u.mode&1?(Xt=(f=Xt)||u.memoizedState!==null,Mi(r,s,u),Xt=f):Mi(r,s,u);break;default:Mi(r,s,u)}}function om(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var u=r.stateNode;u===null&&(u=r.stateNode=new Mx),s.forEach(function(f){var p=zx.bind(null,r,f);u.has(f)||(u.add(f),f.then(p,p))})}}function dr(r,s){var u=s.deletions;if(u!==null)for(var f=0;f<u.length;f++){var p=u[f];try{var y=r,C=s,O=C;e:for(;O!==null;){switch(O.tag){case 5:Ft=O.stateNode,hr=!1;break e;case 3:Ft=O.stateNode.containerInfo,hr=!0;break e;case 4:Ft=O.stateNode.containerInfo,hr=!0;break e}O=O.return}if(Ft===null)throw Error(n(160));sm(y,C,p),Ft=null,hr=!1;var F=p.alternate;F!==null&&(F.return=null),p.return=null}catch(H){ht(p,s,H)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)lm(s,r),s=s.sibling}function lm(r,s){var u=r.alternate,f=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(dr(s,r),Mr(r),f&4){try{bl(3,r,r.return),Qa(3,r)}catch(we){ht(r,r.return,we)}try{bl(5,r,r.return)}catch(we){ht(r,r.return,we)}}break;case 1:dr(s,r),Mr(r),f&512&&u!==null&&lo(u,u.return);break;case 5:if(dr(s,r),Mr(r),f&512&&u!==null&&lo(u,u.return),r.flags&32){var p=r.stateNode;try{Xn(p,"")}catch(we){ht(r,r.return,we)}}if(f&4&&(p=r.stateNode,p!=null)){var y=r.memoizedProps,C=u!==null?u.memoizedProps:y,O=r.type,F=r.updateQueue;if(r.updateQueue=null,F!==null)try{O==="input"&&y.type==="radio"&&y.name!=null&&$t(p,y),js(O,C);var H=js(O,y);for(C=0;C<F.length;C+=2){var ie=F[C],le=F[C+1];ie==="style"?ra(p,le):ie==="dangerouslySetInnerHTML"?rn(p,le):ie==="children"?Xn(p,le):R(p,ie,le,H)}switch(O){case"input":nn(p,y);break;case"textarea":hn(p,y);break;case"select":var ne=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!y.multiple;var me=y.value;me!=null?Tn(p,!!y.multiple,me,!1):ne!==!!y.multiple&&(y.defaultValue!=null?Tn(p,!!y.multiple,y.defaultValue,!0):Tn(p,!!y.multiple,y.multiple?[]:"",!1))}p[hl]=y}catch(we){ht(r,r.return,we)}}break;case 6:if(dr(s,r),Mr(r),f&4){if(r.stateNode===null)throw Error(n(162));p=r.stateNode,y=r.memoizedProps;try{p.nodeValue=y}catch(we){ht(r,r.return,we)}}break;case 3:if(dr(s,r),Mr(r),f&4&&u!==null&&u.memoizedState.isDehydrated)try{tl(s.containerInfo)}catch(we){ht(r,r.return,we)}break;case 4:dr(s,r),Mr(r);break;case 13:dr(s,r),Mr(r),p=r.child,p.flags&8192&&(y=p.memoizedState!==null,p.stateNode.isHidden=y,!y||p.alternate!==null&&p.alternate.memoizedState!==null||(Kf=ge())),f&4&&om(r);break;case 22:if(ie=u!==null&&u.memoizedState!==null,r.mode&1?(Xt=(H=Xt)||ie,dr(s,r),Xt=H):dr(s,r),Mr(r),f&8192){if(H=r.memoizedState!==null,(r.stateNode.isHidden=H)&&!ie&&r.mode&1)for(ye=r,ie=r.child;ie!==null;){for(le=ye=ie;ye!==null;){switch(ne=ye,me=ne.child,ne.tag){case 0:case 11:case 14:case 15:bl(4,ne,ne.return);break;case 1:lo(ne,ne.return);var ve=ne.stateNode;if(typeof ve.componentWillUnmount=="function"){f=ne,u=ne.return;try{s=f,ve.props=s.memoizedProps,ve.state=s.memoizedState,ve.componentWillUnmount()}catch(we){ht(f,u,we)}}break;case 5:lo(ne,ne.return);break;case 22:if(ne.memoizedState!==null){cm(le);continue}}me!==null?(me.return=ne,ye=me):cm(le)}ie=ie.sibling}e:for(ie=null,le=r;;){if(le.tag===5){if(ie===null){ie=le;try{p=le.stateNode,H?(y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(O=le.stateNode,F=le.memoizedProps.style,C=F!=null&&F.hasOwnProperty("display")?F.display:null,O.style.display=Zi("display",C))}catch(we){ht(r,r.return,we)}}}else if(le.tag===6){if(ie===null)try{le.stateNode.nodeValue=H?"":le.memoizedProps}catch(we){ht(r,r.return,we)}}else if((le.tag!==22&&le.tag!==23||le.memoizedState===null||le===r)&&le.child!==null){le.child.return=le,le=le.child;continue}if(le===r)break e;for(;le.sibling===null;){if(le.return===null||le.return===r)break e;ie===le&&(ie=null),le=le.return}ie===le&&(ie=null),le.sibling.return=le.return,le=le.sibling}}break;case 19:dr(s,r),Mr(r),f&4&&om(r);break;case 21:break;default:dr(s,r),Mr(r)}}function Mr(r){var s=r.flags;if(s&2){try{e:{for(var u=r.return;u!==null;){if(rm(u)){var f=u;break e}u=u.return}throw Error(n(160))}switch(f.tag){case 5:var p=f.stateNode;f.flags&32&&(Xn(p,""),f.flags&=-33);var y=im(r);Wf(r,y,p);break;case 3:case 4:var C=f.stateNode.containerInfo,O=im(r);Hf(r,O,C);break;default:throw Error(n(161))}}catch(F){ht(r,r.return,F)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function Ax(r,s,u){ye=r,am(r)}function am(r,s,u){for(var f=(r.mode&1)!==0;ye!==null;){var p=ye,y=p.child;if(p.tag===22&&f){var C=p.memoizedState!==null||Ga;if(!C){var O=p.alternate,F=O!==null&&O.memoizedState!==null||Xt;O=Ga;var H=Xt;if(Ga=C,(Xt=F)&&!H)for(ye=p;ye!==null;)C=ye,F=C.child,C.tag===22&&C.memoizedState!==null?fm(p):F!==null?(F.return=C,ye=F):fm(p);for(;y!==null;)ye=y,am(y),y=y.sibling;ye=p,Ga=O,Xt=H}um(r)}else p.subtreeFlags&8772&&y!==null?(y.return=p,ye=y):um(r)}}function um(r){for(;ye!==null;){var s=ye;if(s.flags&8772){var u=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Xt||Qa(5,s);break;case 1:var f=s.stateNode;if(s.flags&4&&!Xt)if(u===null)f.componentDidMount();else{var p=s.elementType===s.type?u.memoizedProps:fr(s.type,u.memoizedProps);f.componentDidUpdate(p,u.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var y=s.updateQueue;y!==null&&cg(s,y,f);break;case 3:var C=s.updateQueue;if(C!==null){if(u=null,s.child!==null)switch(s.child.tag){case 5:u=s.child.stateNode;break;case 1:u=s.child.stateNode}cg(s,C,u)}break;case 5:var O=s.stateNode;if(u===null&&s.flags&4){u=O;var F=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":F.autoFocus&&u.focus();break;case"img":F.src&&(u.src=F.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var H=s.alternate;if(H!==null){var ie=H.memoizedState;if(ie!==null){var le=ie.dehydrated;le!==null&&tl(le)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Xt||s.flags&512&&Vf(s)}catch(ne){ht(s,s.return,ne)}}if(s===r){ye=null;break}if(u=s.sibling,u!==null){u.return=s.return,ye=u;break}ye=s.return}}function cm(r){for(;ye!==null;){var s=ye;if(s===r){ye=null;break}var u=s.sibling;if(u!==null){u.return=s.return,ye=u;break}ye=s.return}}function fm(r){for(;ye!==null;){var s=ye;try{switch(s.tag){case 0:case 11:case 15:var u=s.return;try{Qa(4,s)}catch(F){ht(s,u,F)}break;case 1:var f=s.stateNode;if(typeof f.componentDidMount=="function"){var p=s.return;try{f.componentDidMount()}catch(F){ht(s,p,F)}}var y=s.return;try{Vf(s)}catch(F){ht(s,y,F)}break;case 5:var C=s.return;try{Vf(s)}catch(F){ht(s,C,F)}}}catch(F){ht(s,s.return,F)}if(s===r){ye=null;break}var O=s.sibling;if(O!==null){O.return=s.return,ye=O;break}ye=s.return}}var Ox=Math.ceil,Za=M.ReactCurrentDispatcher,Yf=M.ReactCurrentOwner,er=M.ReactCurrentBatchConfig,De=0,Pt=null,vt=null,It=0,Nn=0,ao=Si(0),bt=0,Sl=null,us=0,Ja=0,Xf=0,El=null,yn=null,Kf=0,uo=1/0,ii=null,eu=!1,qf=null,Pi=null,tu=!1,Ai=null,nu=0,Cl=0,Gf=null,ru=-1,iu=0;function on(){return De&6?ge():ru!==-1?ru:ru=ge()}function Oi(r){return r.mode&1?De&2&&It!==0?It&-It:gx.transition!==null?(iu===0&&(iu=ip()),iu):(r=Ye,r!==0||(r=window.event,r=r===void 0?16:dp(r.type)),r):1}function pr(r,s,u,f){if(50<Cl)throw Cl=0,Gf=null,Error(n(185));Go(r,u,f),(!(De&2)||r!==Pt)&&(r===Pt&&(!(De&2)&&(Ja|=u),bt===4&&Li(r,It)),_n(r,f),u===1&&De===0&&!(s.mode&1)&&(uo=ge()+500,Oa&&Ci()))}function _n(r,s){var u=r.callbackNode;g1(r,s);var f=da(r,r===Pt?It:0);if(f===0)u!==null&&Ko(u),r.callbackNode=null,r.callbackPriority=0;else if(s=f&-f,r.callbackPriority!==s){if(u!=null&&Ko(u),s===1)r.tag===0?px(dm.bind(null,r)):Zp(dm.bind(null,r)),cx(function(){!(De&6)&&Ci()}),u=null;else{switch(sp(f)){case 1:u=Xe;break;case 4:u=gt;break;case 16:u=On;break;case 536870912:u=qn;break;default:u=On}u=wm(u,hm.bind(null,r))}r.callbackPriority=s,r.callbackNode=u}}function hm(r,s){if(ru=-1,iu=0,De&6)throw Error(n(327));var u=r.callbackNode;if(co()&&r.callbackNode!==u)return null;var f=da(r,r===Pt?It:0);if(f===0)return null;if(f&30||f&r.expiredLanes||s)s=su(r,f);else{s=f;var p=De;De|=2;var y=gm();(Pt!==r||It!==s)&&(ii=null,uo=ge()+500,fs(r,s));do try{Ix();break}catch(O){pm(r,O)}while(!0);pf(),Za.current=y,De=p,vt!==null?s=0:(Pt=null,It=0,s=bt)}if(s!==0){if(s===2&&(p=Mc(r),p!==0&&(f=p,s=Qf(r,p))),s===1)throw u=Sl,fs(r,0),Li(r,f),_n(r,ge()),u;if(s===6)Li(r,f);else{if(p=r.current.alternate,!(f&30)&&!Lx(p)&&(s=su(r,f),s===2&&(y=Mc(r),y!==0&&(f=y,s=Qf(r,y))),s===1))throw u=Sl,fs(r,0),Li(r,f),_n(r,ge()),u;switch(r.finishedWork=p,r.finishedLanes=f,s){case 0:case 1:throw Error(n(345));case 2:hs(r,yn,ii);break;case 3:if(Li(r,f),(f&130023424)===f&&(s=Kf+500-ge(),10<s)){if(da(r,0)!==0)break;if(p=r.suspendedLanes,(p&f)!==f){on(),r.pingedLanes|=r.suspendedLanes&p;break}r.timeoutHandle=nf(hs.bind(null,r,yn,ii),s);break}hs(r,yn,ii);break;case 4:if(Li(r,f),(f&4194240)===f)break;for(s=r.eventTimes,p=-1;0<f;){var C=31-_t(f);y=1<<C,C=s[C],C>p&&(p=C),f&=~y}if(f=p,f=ge()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*Ox(f/1960))-f,10<f){r.timeoutHandle=nf(hs.bind(null,r,yn,ii),f);break}hs(r,yn,ii);break;case 5:hs(r,yn,ii);break;default:throw Error(n(329))}}}return _n(r,ge()),r.callbackNode===u?hm.bind(null,r):null}function Qf(r,s){var u=El;return r.current.memoizedState.isDehydrated&&(fs(r,s).flags|=256),r=su(r,s),r!==2&&(s=yn,yn=u,s!==null&&Zf(s)),r}function Zf(r){yn===null?yn=r:yn.push.apply(yn,r)}function Lx(r){for(var s=r;;){if(s.flags&16384){var u=s.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var f=0;f<u.length;f++){var p=u[f],y=p.getSnapshot;p=p.value;try{if(!ur(y(),p))return!1}catch{return!1}}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Li(r,s){for(s&=~Xf,s&=~Ja,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var u=31-_t(s),f=1<<u;r[u]=-1,s&=~f}}function dm(r){if(De&6)throw Error(n(327));co();var s=da(r,0);if(!(s&1))return _n(r,ge()),null;var u=su(r,s);if(r.tag!==0&&u===2){var f=Mc(r);f!==0&&(s=f,u=Qf(r,f))}if(u===1)throw u=Sl,fs(r,0),Li(r,s),_n(r,ge()),u;if(u===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,hs(r,yn,ii),_n(r,ge()),null}function Jf(r,s){var u=De;De|=1;try{return r(s)}finally{De=u,De===0&&(uo=ge()+500,Oa&&Ci())}}function cs(r){Ai!==null&&Ai.tag===0&&!(De&6)&&co();var s=De;De|=1;var u=er.transition,f=Ye;try{if(er.transition=null,Ye=1,r)return r()}finally{Ye=f,er.transition=u,De=s,!(De&6)&&Ci()}}function eh(){Nn=ao.current,Qe(ao)}function fs(r,s){r.finishedWork=null,r.finishedLanes=0;var u=r.timeoutHandle;if(u!==-1&&(r.timeoutHandle=-1,ux(u)),vt!==null)for(u=vt.return;u!==null;){var f=u;switch(uf(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&Pa();break;case 3:so(),Qe(pn),Qe(Ht),kf();break;case 5:xf(f);break;case 4:so();break;case 13:Qe(it);break;case 19:Qe(it);break;case 10:gf(f.type._context);break;case 22:case 23:eh()}u=u.return}if(Pt=r,vt=r=Fi(r.current,null),It=Nn=s,bt=0,Sl=null,Xf=Ja=us=0,yn=El=null,os!==null){for(s=0;s<os.length;s++)if(u=os[s],f=u.interleaved,f!==null){u.interleaved=null;var p=f.next,y=u.pending;if(y!==null){var C=y.next;y.next=p,f.next=C}u.pending=f}os=null}return r}function pm(r,s){do{var u=vt;try{if(pf(),$a.current=Ya,Va){for(var f=st.memoizedState;f!==null;){var p=f.queue;p!==null&&(p.pending=null),f=f.next}Va=!1}if(as=0,Mt=kt=st=null,_l=!1,vl=0,Yf.current=null,u===null||u.return===null){bt=1,Sl=s,vt=null;break}e:{var y=r,C=u.return,O=u,F=s;if(s=It,O.flags|=32768,F!==null&&typeof F=="object"&&typeof F.then=="function"){var H=F,ie=O,le=ie.tag;if(!(ie.mode&1)&&(le===0||le===11||le===15)){var ne=ie.alternate;ne?(ie.updateQueue=ne.updateQueue,ie.memoizedState=ne.memoizedState,ie.lanes=ne.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var me=zg(C);if(me!==null){me.flags&=-257,Bg(me,C,O,y,s),me.mode&1&&Dg(y,H,s),s=me,F=H;var ve=s.updateQueue;if(ve===null){var we=new Set;we.add(F),s.updateQueue=we}else ve.add(F);break e}else{if(!(s&1)){Dg(y,H,s),th();break e}F=Error(n(426))}}else if(et&&O.mode&1){var mt=zg(C);if(mt!==null){!(mt.flags&65536)&&(mt.flags|=256),Bg(mt,C,O,y,s),hf(oo(F,O));break e}}y=F=oo(F,O),bt!==4&&(bt=2),El===null?El=[y]:El.push(y),y=C;do{switch(y.tag){case 3:y.flags|=65536,s&=-s,y.lanes|=s;var $=Ng(y,F,s);ug(y,$);break e;case 1:O=F;var N=y.type,V=y.stateNode;if(!(y.flags&128)&&(typeof N.getDerivedStateFromError=="function"||V!==null&&typeof V.componentDidCatch=="function"&&(Pi===null||!Pi.has(V)))){y.flags|=65536,s&=-s,y.lanes|=s;var he=jg(y,O,s);ug(y,he);break e}}y=y.return}while(y!==null)}ym(u)}catch(Se){s=Se,vt===u&&u!==null&&(vt=u=u.return);continue}break}while(!0)}function gm(){var r=Za.current;return Za.current=Ya,r===null?Ya:r}function th(){(bt===0||bt===3||bt===2)&&(bt=4),Pt===null||!(us&268435455)&&!(Ja&268435455)||Li(Pt,It)}function su(r,s){var u=De;De|=2;var f=gm();(Pt!==r||It!==s)&&(ii=null,fs(r,s));do try{Fx();break}catch(p){pm(r,p)}while(!0);if(pf(),De=u,Za.current=f,vt!==null)throw Error(n(261));return Pt=null,It=0,bt}function Fx(){for(;vt!==null;)mm(vt)}function Ix(){for(;vt!==null&&!Tc();)mm(vt)}function mm(r){var s=xm(r.alternate,r,Nn);r.memoizedProps=r.pendingProps,s===null?ym(r):vt=s,Yf.current=null}function ym(r){var s=r;do{var u=s.alternate;if(r=s.return,s.flags&32768){if(u=Tx(u,s),u!==null){u.flags&=32767,vt=u;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{bt=6,vt=null;return}}else if(u=Rx(u,s,Nn),u!==null){vt=u;return}if(s=s.sibling,s!==null){vt=s;return}vt=s=r}while(s!==null);bt===0&&(bt=5)}function hs(r,s,u){var f=Ye,p=er.transition;try{er.transition=null,Ye=1,Nx(r,s,u,f)}finally{er.transition=p,Ye=f}return null}function Nx(r,s,u,f){do co();while(Ai!==null);if(De&6)throw Error(n(327));u=r.finishedWork;var p=r.finishedLanes;if(u===null)return null;if(r.finishedWork=null,r.finishedLanes=0,u===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var y=u.lanes|u.childLanes;if(m1(r,y),r===Pt&&(vt=Pt=null,It=0),!(u.subtreeFlags&2064)&&!(u.flags&2064)||tu||(tu=!0,wm(On,function(){return co(),null})),y=(u.flags&15990)!==0,u.subtreeFlags&15990||y){y=er.transition,er.transition=null;var C=Ye;Ye=1;var O=De;De|=4,Yf.current=null,Px(r,u),lm(u,r),nx(ef),ma=!!Jc,ef=Jc=null,r.current=u,Ax(u),Ue(),De=O,Ye=C,er.transition=y}else r.current=u;if(tu&&(tu=!1,Ai=r,nu=p),y=r.pendingLanes,y===0&&(Pi=null),mi(u.stateNode),_n(r,ge()),s!==null)for(f=r.onRecoverableError,u=0;u<s.length;u++)p=s[u],f(p.value,{componentStack:p.stack,digest:p.digest});if(eu)throw eu=!1,r=qf,qf=null,r;return nu&1&&r.tag!==0&&co(),y=r.pendingLanes,y&1?r===Gf?Cl++:(Cl=0,Gf=r):Cl=0,Ci(),null}function co(){if(Ai!==null){var r=sp(nu),s=er.transition,u=Ye;try{if(er.transition=null,Ye=16>r?16:r,Ai===null)var f=!1;else{if(r=Ai,Ai=null,nu=0,De&6)throw Error(n(331));var p=De;for(De|=4,ye=r.current;ye!==null;){var y=ye,C=y.child;if(ye.flags&16){var O=y.deletions;if(O!==null){for(var F=0;F<O.length;F++){var H=O[F];for(ye=H;ye!==null;){var ie=ye;switch(ie.tag){case 0:case 11:case 15:bl(8,ie,y)}var le=ie.child;if(le!==null)le.return=ie,ye=le;else for(;ye!==null;){ie=ye;var ne=ie.sibling,me=ie.return;if(nm(ie),ie===H){ye=null;break}if(ne!==null){ne.return=me,ye=ne;break}ye=me}}}var ve=y.alternate;if(ve!==null){var we=ve.child;if(we!==null){ve.child=null;do{var mt=we.sibling;we.sibling=null,we=mt}while(we!==null)}}ye=y}}if(y.subtreeFlags&2064&&C!==null)C.return=y,ye=C;else e:for(;ye!==null;){if(y=ye,y.flags&2048)switch(y.tag){case 0:case 11:case 15:bl(9,y,y.return)}var $=y.sibling;if($!==null){$.return=y.return,ye=$;break e}ye=y.return}}var N=r.current;for(ye=N;ye!==null;){C=ye;var V=C.child;if(C.subtreeFlags&2064&&V!==null)V.return=C,ye=V;else e:for(C=N;ye!==null;){if(O=ye,O.flags&2048)try{switch(O.tag){case 0:case 11:case 15:Qa(9,O)}}catch(Se){ht(O,O.return,Se)}if(O===C){ye=null;break e}var he=O.sibling;if(he!==null){he.return=O.return,ye=he;break e}ye=O.return}}if(De=p,Ci(),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(dn,r)}catch{}f=!0}return f}finally{Ye=u,er.transition=s}}return!1}function _m(r,s,u){s=oo(u,s),s=Ng(r,s,1),r=Ti(r,s,1),s=on(),r!==null&&(Go(r,1,s),_n(r,s))}function ht(r,s,u){if(r.tag===3)_m(r,r,u);else for(;s!==null;){if(s.tag===3){_m(s,r,u);break}else if(s.tag===1){var f=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Pi===null||!Pi.has(f))){r=oo(u,r),r=jg(s,r,1),s=Ti(s,r,1),r=on(),s!==null&&(Go(s,1,r),_n(s,r));break}}s=s.return}}function jx(r,s,u){var f=r.pingCache;f!==null&&f.delete(s),s=on(),r.pingedLanes|=r.suspendedLanes&u,Pt===r&&(It&u)===u&&(bt===4||bt===3&&(It&130023424)===It&&500>ge()-Kf?fs(r,0):Xf|=u),_n(r,s)}function vm(r,s){s===0&&(r.mode&1?(s=ha,ha<<=1,!(ha&130023424)&&(ha=4194304)):s=1);var u=on();r=ti(r,s),r!==null&&(Go(r,s,u),_n(r,u))}function Dx(r){var s=r.memoizedState,u=0;s!==null&&(u=s.retryLane),vm(r,u)}function zx(r,s){var u=0;switch(r.tag){case 13:var f=r.stateNode,p=r.memoizedState;p!==null&&(u=p.retryLane);break;case 19:f=r.stateNode;break;default:throw Error(n(314))}f!==null&&f.delete(s),vm(r,u)}var xm;xm=function(r,s,u){if(r!==null)if(r.memoizedProps!==s.pendingProps||pn.current)mn=!0;else{if(!(r.lanes&u)&&!(s.flags&128))return mn=!1,Cx(r,s,u);mn=!!(r.flags&131072)}else mn=!1,et&&s.flags&1048576&&Jp(s,Fa,s.index);switch(s.lanes=0,s.tag){case 2:var f=s.type;qa(r,s),r=s.pendingProps;var p=Zs(s,Ht.current);io(s,u),p=Ef(null,s,f,r,p,u);var y=Cf();return s.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,gn(f)?(y=!0,Aa(s)):y=!1,s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,_f(s),p.updater=Xa,s.stateNode=p,p._reactInternals=s,Of(s,f,r,u),s=Nf(null,s,f,!0,y,u)):(s.tag=0,et&&y&&af(s),sn(null,s,p,u),s=s.child),s;case 16:f=s.elementType;e:{switch(qa(r,s),r=s.pendingProps,p=f._init,f=p(f._payload),s.type=f,p=s.tag=Ux(f),r=fr(f,r),p){case 0:s=If(null,s,f,r,u);break e;case 1:s=Yg(null,s,f,r,u);break e;case 11:s=Ug(null,s,f,r,u);break e;case 14:s=$g(null,s,f,fr(f.type,r),u);break e}throw Error(n(306,f,""))}return s;case 0:return f=s.type,p=s.pendingProps,p=s.elementType===f?p:fr(f,p),If(r,s,f,p,u);case 1:return f=s.type,p=s.pendingProps,p=s.elementType===f?p:fr(f,p),Yg(r,s,f,p,u);case 3:e:{if(Xg(s),r===null)throw Error(n(387));f=s.pendingProps,y=s.memoizedState,p=y.element,ag(r,s),Ba(s,f,null,u);var C=s.memoizedState;if(f=C.element,y.isDehydrated)if(y={element:f,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){p=oo(Error(n(423)),s),s=Kg(r,s,f,u,p);break e}else if(f!==p){p=oo(Error(n(424)),s),s=Kg(r,s,f,u,p);break e}else for(In=bi(s.stateNode.containerInfo.firstChild),Fn=s,et=!0,cr=null,u=og(s,null,f,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(to(),f===p){s=ri(r,s,u);break e}sn(r,s,f,u)}s=s.child}return s;case 5:return fg(s),r===null&&ff(s),f=s.type,p=s.pendingProps,y=r!==null?r.memoizedProps:null,C=p.children,tf(f,p)?C=null:y!==null&&tf(f,y)&&(s.flags|=32),Wg(r,s),sn(r,s,C,u),s.child;case 6:return r===null&&ff(s),null;case 13:return qg(r,s,u);case 4:return vf(s,s.stateNode.containerInfo),f=s.pendingProps,r===null?s.child=no(s,null,f,u):sn(r,s,f,u),s.child;case 11:return f=s.type,p=s.pendingProps,p=s.elementType===f?p:fr(f,p),Ug(r,s,f,p,u);case 7:return sn(r,s,s.pendingProps,u),s.child;case 8:return sn(r,s,s.pendingProps.children,u),s.child;case 12:return sn(r,s,s.pendingProps.children,u),s.child;case 10:e:{if(f=s.type._context,p=s.pendingProps,y=s.memoizedProps,C=p.value,Ke(ja,f._currentValue),f._currentValue=C,y!==null)if(ur(y.value,C)){if(y.children===p.children&&!pn.current){s=ri(r,s,u);break e}}else for(y=s.child,y!==null&&(y.return=s);y!==null;){var O=y.dependencies;if(O!==null){C=y.child;for(var F=O.firstContext;F!==null;){if(F.context===f){if(y.tag===1){F=ni(-1,u&-u),F.tag=2;var H=y.updateQueue;if(H!==null){H=H.shared;var ie=H.pending;ie===null?F.next=F:(F.next=ie.next,ie.next=F),H.pending=F}}y.lanes|=u,F=y.alternate,F!==null&&(F.lanes|=u),mf(y.return,u,s),O.lanes|=u;break}F=F.next}}else if(y.tag===10)C=y.type===s.type?null:y.child;else if(y.tag===18){if(C=y.return,C===null)throw Error(n(341));C.lanes|=u,O=C.alternate,O!==null&&(O.lanes|=u),mf(C,u,s),C=y.sibling}else C=y.child;if(C!==null)C.return=y;else for(C=y;C!==null;){if(C===s){C=null;break}if(y=C.sibling,y!==null){y.return=C.return,C=y;break}C=C.return}y=C}sn(r,s,p.children,u),s=s.child}return s;case 9:return p=s.type,f=s.pendingProps.children,io(s,u),p=Zn(p),f=f(p),s.flags|=1,sn(r,s,f,u),s.child;case 14:return f=s.type,p=fr(f,s.pendingProps),p=fr(f.type,p),$g(r,s,f,p,u);case 15:return Vg(r,s,s.type,s.pendingProps,u);case 17:return f=s.type,p=s.pendingProps,p=s.elementType===f?p:fr(f,p),qa(r,s),s.tag=1,gn(f)?(r=!0,Aa(s)):r=!1,io(s,u),Fg(s,f,p),Of(s,f,p,u),Nf(null,s,f,!0,r,u);case 19:return Qg(r,s,u);case 22:return Hg(r,s,u)}throw Error(n(156,s.tag))};function wm(r,s){return Xo(r,s)}function Bx(r,s,u,f){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tr(r,s,u,f){return new Bx(r,s,u,f)}function nh(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Ux(r){if(typeof r=="function")return nh(r)?1:0;if(r!=null){if(r=r.$$typeof,r===q)return 11;if(r===re)return 14}return 2}function Fi(r,s){var u=r.alternate;return u===null?(u=tr(r.tag,s,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=s,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&14680064,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,s=r.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u}function ou(r,s,u,f,p,y){var C=2;if(f=r,typeof r=="function")nh(r)&&(C=1);else if(typeof r=="string")C=5;else e:switch(r){case j:return ds(u.children,p,y,s);case X:C=8,p|=8;break;case z:return r=tr(12,u,s,p|2),r.elementType=z,r.lanes=y,r;case ae:return r=tr(13,u,s,p),r.elementType=ae,r.lanes=y,r;case te:return r=tr(19,u,s,p),r.elementType=te,r.lanes=y,r;case Z:return lu(u,p,y,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case W:C=10;break e;case K:C=9;break e;case q:C=11;break e;case re:C=14;break e;case ue:C=16,f=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return s=tr(C,u,s,p),s.elementType=r,s.type=f,s.lanes=y,s}function ds(r,s,u,f){return r=tr(7,r,f,s),r.lanes=u,r}function lu(r,s,u,f){return r=tr(22,r,f,s),r.elementType=Z,r.lanes=u,r.stateNode={isHidden:!1},r}function rh(r,s,u){return r=tr(6,r,null,s),r.lanes=u,r}function ih(r,s,u){return s=tr(4,r.children!==null?r.children:[],r.key,s),s.lanes=u,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function $x(r,s,u,f,p){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pc(0),this.expirationTimes=Pc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pc(0),this.identifierPrefix=f,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function sh(r,s,u,f,p,y,C,O,F){return r=new $x(r,s,u,O,F),s===1?(s=1,y===!0&&(s|=8)):s=0,y=tr(3,null,null,s),r.current=y,y.stateNode=r,y.memoizedState={element:f,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},_f(y),r}function Vx(r,s,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:I,key:f==null?null:""+f,children:r,containerInfo:s,implementation:u}}function km(r){if(!r)return Ei;r=r._reactInternals;e:{if(Gr(r)!==r||r.tag!==1)throw Error(n(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(gn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(r.tag===1){var u=r.type;if(gn(u))return Gp(r,u,s)}return s}function bm(r,s,u,f,p,y,C,O,F){return r=sh(u,f,!0,r,p,y,C,O,F),r.context=km(null),u=r.current,f=on(),p=Oi(u),y=ni(f,p),y.callback=s??null,Ti(u,y,p),r.current.lanes=p,Go(r,p,f),_n(r,f),r}function au(r,s,u,f){var p=s.current,y=on(),C=Oi(p);return u=km(u),s.context===null?s.context=u:s.pendingContext=u,s=ni(y,C),s.payload={element:r},f=f===void 0?null:f,f!==null&&(s.callback=f),r=Ti(p,s,C),r!==null&&(pr(r,p,C,y),za(r,p,C)),C}function uu(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Sm(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<s?u:s}}function oh(r,s){Sm(r,s),(r=r.alternate)&&Sm(r,s)}var Em=typeof reportError=="function"?reportError:function(r){console.error(r)};function lh(r){this._internalRoot=r}cu.prototype.render=lh.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(n(409));au(r,s,null,null)},cu.prototype.unmount=lh.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;cs(function(){au(null,r,null,null)}),s[Qr]=null}};function cu(r){this._internalRoot=r}cu.prototype.unstable_scheduleHydration=function(r){if(r){var s=ap();r={blockedOn:null,target:r,priority:s};for(var u=0;u<xi.length&&s!==0&&s<xi[u].priority;u++);xi.splice(u,0,r),u===0&&fp(r)}};function ah(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function fu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Cm(){}function Hx(r,s,u,f,p){if(p){if(typeof f=="function"){var y=f;f=function(){var H=uu(C);y.call(H)}}var C=bm(s,f,r,0,null,!1,!1,"",Cm);return r._reactRootContainer=C,r[Qr]=C.current,cl(r.nodeType===8?r.parentNode:r),cs(),C}for(;p=r.lastChild;)r.removeChild(p);if(typeof f=="function"){var O=f;f=function(){var H=uu(F);O.call(H)}}var F=sh(r,0,!1,null,null,!1,!1,"",Cm);return r._reactRootContainer=F,r[Qr]=F.current,cl(r.nodeType===8?r.parentNode:r),cs(function(){au(s,F,u,f)}),F}function hu(r,s,u,f,p){var y=u._reactRootContainer;if(y){var C=y;if(typeof p=="function"){var O=p;p=function(){var F=uu(C);O.call(F)}}au(s,C,r,p)}else C=Hx(u,s,r,p,f);return uu(C)}op=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var u=qo(s.pendingLanes);u!==0&&(Ac(s,u|1),_n(s,ge()),!(De&6)&&(uo=ge()+500,Ci()))}break;case 13:cs(function(){var f=ti(r,1);if(f!==null){var p=on();pr(f,r,1,p)}}),oh(r,1)}},Oc=function(r){if(r.tag===13){var s=ti(r,134217728);if(s!==null){var u=on();pr(s,r,134217728,u)}oh(r,134217728)}},lp=function(r){if(r.tag===13){var s=Oi(r),u=ti(r,s);if(u!==null){var f=on();pr(u,r,s,f)}oh(r,s)}},ap=function(){return Ye},up=function(r,s){var u=Ye;try{return Ye=r,s()}finally{Ye=u}},Kn=function(r,s,u){switch(s){case"input":if(nn(r,u),s=u.name,u.type==="radio"&&s!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<u.length;s++){var f=u[s];if(f!==r&&f.form===r.form){var p=Ma(f);if(!p)throw Error(n(90));dt(f),nn(f,p)}}}break;case"textarea":hn(r,u);break;case"select":s=u.value,s!=null&&Tn(r,!!u.multiple,s,!1)}},sa=Jf,oa=cs;var Wx={usingClientEntryPoint:!1,Events:[dl,Gs,Ma,Ji,Bo,Jf]},Rl={findFiberByHostInstance:ns,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Yx={bundleType:Rl.bundleType,version:Rl.version,rendererPackageName:Rl.rendererPackageName,rendererConfig:Rl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=ua(r),r===null?null:r.stateNode},findFiberByHostInstance:Rl.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var du=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!du.isDisabled&&du.supportsFiber)try{dn=du.inject(Yx),Tt=du}catch{}}return xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wx,xn.createPortal=function(r,s){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ah(s))throw Error(n(200));return Vx(r,s,null,u)},xn.createRoot=function(r,s){if(!ah(r))throw Error(n(299));var u=!1,f="",p=Em;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=sh(r,1,!1,null,null,u,!1,f,p),r[Qr]=s.current,cl(r.nodeType===8?r.parentNode:r),new lh(s)},xn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=ua(s),r=r===null?null:r.stateNode,r},xn.flushSync=function(r){return cs(r)},xn.hydrate=function(r,s,u){if(!fu(s))throw Error(n(200));return hu(null,r,s,!0,u)},xn.hydrateRoot=function(r,s,u){if(!ah(r))throw Error(n(405));var f=u!=null&&u.hydratedSources||null,p=!1,y="",C=Em;if(u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onRecoverableError!==void 0&&(C=u.onRecoverableError)),s=bm(s,null,r,1,u??null,p,!1,y,C),r[Qr]=s.current,cl(r),f)for(r=0;r<f.length;r++)u=f[r],p=u._getVersion,p=p(u._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[u,p]:s.mutableSourceEagerHydrationData.push(u,p);return new cu(s)},xn.render=function(r,s,u){if(!fu(s))throw Error(n(200));return hu(null,r,s,!1,u)},xn.unmountComponentAtNode=function(r){if(!fu(r))throw Error(n(40));return r._reactRootContainer?(cs(function(){hu(null,null,r,!1,function(){r._reactRootContainer=null,r[Qr]=null})}),!0):!1},xn.unstable_batchedUpdates=Jf,xn.unstable_renderSubtreeIntoContainer=function(r,s,u,f){if(!fu(u))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return hu(r,s,u,!1,f)},xn.version="18.3.1-next-f1338f8080-20240426",xn}var Dm;function J0(){if(Dm)return fh.exports;Dm=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),fh.exports=rw(),fh.exports}var zm;function iw(){if(zm)return pu;zm=1;var e=J0();return pu.createRoot=e.createRoot,pu.hydrateRoot=e.hydrateRoot,pu}var sw=iw();const Bm=e=>{let t;const n=new Set,i=(d,g)=>{const m=typeof d=="function"?d(t):d;if(!Object.is(m,t)){const v=t;t=g??(typeof m!="object"||m===null)?m:Object.assign({},t,m),n.forEach(_=>_(t,v))}},o=()=>t,c={setState:i,getState:o,getInitialState:()=>h,subscribe:d=>(n.add(d),()=>n.delete(d))},h=t=e(i,o,c);return c},ow=e=>e?Bm(e):Bm,lw=e=>e;function aw(e,t=lw){const n=rt.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return rt.useDebugValue(n),n}const uw=e=>{const t=ow(e),n=i=>aw(t,i);return Object.assign(n,t),n},br=e=>uw;function cw(e,t){let n;try{n=e()}catch{return}return{getItem:o=>{var l;const a=h=>h===null?null:JSON.parse(h,void 0),c=(l=n.getItem(o))!=null?l:null;return c instanceof Promise?c.then(a):a(c)},setItem:(o,l)=>n.setItem(o,JSON.stringify(l,void 0)),removeItem:o=>n.removeItem(o)}}const Wh=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(i){return Wh(i)(n)},catch(i){return this}}}catch(n){return{then(i){return this},catch(i){return Wh(i)(n)}}}},fw=(e,t)=>(n,i,o)=>{let l={storage:cw(()=>localStorage),partialize:k=>k,version:0,merge:(k,S)=>({...S,...k}),...t},a=!1;const c=new Set,h=new Set;let d=l.storage;if(!d)return e((...k)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),n(...k)},i,o);const g=()=>{const k=l.partialize({...i()});return d.setItem(l.name,{state:k,version:l.version})},m=o.setState;o.setState=(k,S)=>{m(k,S),g()};const v=e((...k)=>{n(...k),g()},i,o);o.getInitialState=()=>v;let _;const w=()=>{var k,S;if(!d)return;a=!1,c.forEach(x=>{var R;return x((R=i())!=null?R:v)});const b=((S=l.onRehydrateStorage)==null?void 0:S.call(l,(k=i())!=null?k:v))||void 0;return Wh(d.getItem.bind(d))(l.name).then(x=>{if(x)if(typeof x.version=="number"&&x.version!==l.version){if(l.migrate){const R=l.migrate(x.state,x.version);return R instanceof Promise?R.then(M=>[!0,M]):[!0,R]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,x.state];return[!1,void 0]}).then(x=>{var R;const[M,P]=x;if(_=l.merge(P,(R=i())!=null?R:v),n(_,!0),M)return g()}).then(()=>{b==null||b(_,void 0),_=i(),a=!0,h.forEach(x=>x(_))}).catch(x=>{b==null||b(void 0,x)})};return o.persist={setOptions:k=>{l={...l,...k},k.storage&&(d=k.storage)},clearStorage:()=>{d==null||d.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>w(),hasHydrated:()=>a,onHydrate:k=>(c.add(k),()=>{c.delete(k)}),onFinishHydration:k=>(h.add(k),()=>{h.delete(k)})},l.skipHydration||w(),_||v},tc=fw,tn=br()(e=>({doodler:void 0,cursor:void 0,doodles:[],setDoodler:t=>e(()=>({doodler:t})),setContainer:t=>e(()=>({container:t})),setCursor:t=>e(()=>({cursor:t})),setDoodles:t=>e(()=>({doodles:t}))})),wt=br()(tc(e=>({canvasColor:{r:249,g:250,b:251,a:1},throttleRate:1,selectedTool:"brush",activeTool:void 0,restoreTool:void 0,toolOption:"",isPanelOpen:!0,setSelectedTool:t=>e(()=>({selectedTool:t})),setActiveTool:t=>e(()=>({activeTool:t})),setRestoreTool:t=>e(()=>({restoreTool:t})),setToolOption:t=>e(()=>({toolOption:t})),setCanvasColor:t=>e(()=>({canvasColor:t})),setThrottleRate:t=>e(()=>({throttleRate:t})),setIsPanelOpen:t=>e(()=>({isPanelOpen:t}))}),{name:"options",version:1}));/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var hw={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=(e,t,n,i)=>{const o=E.forwardRef(({color:l="currentColor",size:a=24,stroke:c=2,title:h,className:d,children:g,...m},v)=>E.createElement("svg",{ref:v,...hw[e],width:a,height:a,className:["tabler-icon",`tabler-icon-${t}`,d].join(" "),strokeWidth:c,stroke:l,...m},[h&&E.createElement("title",{key:"svg-title"},h),...i.map(([_,w])=>E.createElement(_,w)),...Array.isArray(g)?g:[g]]));return o.displayName=`${n}`,o};/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var e_=je("outline","angle","IconAngle",[["path",{d:"M21 19h-18l9 -15",key:"svg-0"}],["path",{d:"M20.615 15.171h.015",key:"svg-1"}],["path",{d:"M19.515 11.771h.015",key:"svg-2"}],["path",{d:"M17.715 8.671h.015",key:"svg-3"}],["path",{d:"M15.415 5.971h.015",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var t_=je("outline","arrow-back-up","IconArrowBackUp",[["path",{d:"M9 14l-4 -4l4 -4",key:"svg-0"}],["path",{d:"M5 10h11a4 4 0 1 1 0 8h-1",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var n_=je("outline","arrow-forward-up","IconArrowForwardUp",[["path",{d:"M15 14l4 -4l-4 -4",key:"svg-0"}],["path",{d:"M19 10h-11a4 4 0 1 0 0 8h1",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var r_=je("outline","arrow-narrow-right","IconArrowNarrowRight",[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M15 16l4 -4",key:"svg-1"}],["path",{d:"M15 8l4 4",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var dw=je("outline","arrows-horizontal","IconArrowsHorizontal",[["path",{d:"M7 8l-4 4l4 4",key:"svg-0"}],["path",{d:"M17 8l4 4l-4 4",key:"svg-1"}],["path",{d:"M3 12l18 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var i_=je("outline","border-corner-rounded","IconBorderCornerRounded",[["path",{d:"M4 20v-10a6 6 0 0 1 6 -6h10",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ed=je("outline","brush","IconBrush",[["path",{d:"M3 21v-4a4 4 0 1 1 4 4h-4",key:"svg-0"}],["path",{d:"M21 3a16 16 0 0 0 -12.8 10.2",key:"svg-1"}],["path",{d:"M21 3a16 16 0 0 1 -10.2 12.8",key:"svg-2"}],["path",{d:"M10.6 9a9 9 0 0 1 4.4 4.4",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var pw=je("outline","chart-scatter-3d","IconChartScatter3d",[["path",{d:"M3 20l9 -7",key:"svg-0"}],["path",{d:"M12 3v10l9 7",key:"svg-1"}],["path",{d:"M17 12v.015",key:"svg-2"}],["path",{d:"M17 4.015v.015",key:"svg-3"}],["path",{d:"M21 8.015v.015",key:"svg-4"}],["path",{d:"M12 19.015v.015",key:"svg-5"}],["path",{d:"M3 12.015v.015",key:"svg-6"}],["path",{d:"M7 8.015v.015",key:"svg-7"}],["path",{d:"M3 4.015v.015",key:"svg-8"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var gw=je("outline","circle","IconCircle",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var mw=je("outline","device-floppy","IconDeviceFloppy",[["path",{d:"M6 4h10l4 4v10a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2",key:"svg-0"}],["path",{d:"M12 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M14 4l0 4l-6 0l0 -4",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var yw=je("outline","dimensions","IconDimensions",[["path",{d:"M3 5h11",key:"svg-0"}],["path",{d:"M12 7l2 -2l-2 -2",key:"svg-1"}],["path",{d:"M5 3l-2 2l2 2",key:"svg-2"}],["path",{d:"M19 10v11",key:"svg-3"}],["path",{d:"M17 19l2 2l2 -2",key:"svg-4"}],["path",{d:"M21 12l-2 -2l-2 2",key:"svg-5"}],["path",{d:"M3 10m0 2a2 2 0 0 1 2 -2h7a2 2 0 0 1 2 2v7a2 2 0 0 1 -2 2h-7a2 2 0 0 1 -2 -2z",key:"svg-6"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var _w=je("outline","eraser","IconEraser",[["path",{d:"M19 20h-10.5l-4.21 -4.3a1 1 0 0 1 0 -1.41l10 -10a1 1 0 0 1 1.41 0l5 5a1 1 0 0 1 0 1.41l-9.2 9.3",key:"svg-0"}],["path",{d:"M18 13.3l-6.3 -6.3",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var vw=je("outline","file-unknown","IconFileUnknown",[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z",key:"svg-1"}],["path",{d:"M12 17v.01",key:"svg-2"}],["path",{d:"M12 14a1.5 1.5 0 1 0 -1.14 -2.474",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var xw=je("outline","focus-2","IconFocus2",[["circle",{cx:"12",cy:"12",r:".5",fill:"currentColor",key:"svg-0"}],["path",{d:"M12 12m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0",key:"svg-1"}],["path",{d:"M12 3l0 2",key:"svg-2"}],["path",{d:"M3 12l2 0",key:"svg-3"}],["path",{d:"M12 19l0 2",key:"svg-4"}],["path",{d:"M19 12l2 0",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ww=je("outline","hand-stop","IconHandStop",[["path",{d:"M8 13v-7.5a1.5 1.5 0 0 1 3 0v6.5",key:"svg-0"}],["path",{d:"M11 5.5v-2a1.5 1.5 0 1 1 3 0v8.5",key:"svg-1"}],["path",{d:"M14 5.5a1.5 1.5 0 0 1 3 0v6.5",key:"svg-2"}],["path",{d:"M17 7.5a1.5 1.5 0 0 1 3 0v8.5a6 6 0 0 1 -6 6h-2h.208a6 6 0 0 1 -5.012 -2.7a69.74 69.74 0 0 1 -.196 -.3c-.312 -.479 -1.407 -2.388 -3.286 -5.728a1.5 1.5 0 0 1 .536 -2.022a1.867 1.867 0 0 1 2.28 .28l1.47 1.47",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Cd=je("outline","letter-t","IconLetterT",[["path",{d:"M6 4l12 0",key:"svg-0"}],["path",{d:"M12 4l0 16",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Rd=je("outline","line","IconLine",[["path",{d:"M6 18m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-0"}],["path",{d:"M18 6m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M7.5 16.5l9 -9",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var kw=je("outline","menu-2","IconMenu2",[["path",{d:"M4 6l16 0",key:"svg-0"}],["path",{d:"M4 12l16 0",key:"svg-1"}],["path",{d:"M4 18l16 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var bw=je("outline","percentage","IconPercentage",[["path",{d:"M17 17m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M7 7m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M6 18l12 -12",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Sw=je("outline","pointer","IconPointer",[["path",{d:"M7.904 17.563a1.2 1.2 0 0 0 2.228 .308l2.09 -3.093l4.907 4.907a1.067 1.067 0 0 0 1.509 0l1.047 -1.047a1.067 1.067 0 0 0 0 -1.509l-4.907 -4.907l3.113 -2.09a1.2 1.2 0 0 0 -.309 -2.228l-13.582 -3.904l3.904 13.563z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ew=je("outline","rectangle","IconRectangle",[["path",{d:"M3 5m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Cw=je("outline","ruler-measure-2","IconRulerMeasure2",[["path",{d:"M12 19.875c0 .621 -.512 1.125 -1.143 1.125h-5.714a1.134 1.134 0 0 1 -1.143 -1.125v-15.875a1 1 0 0 1 1 -1h5.857c.631 0 1.143 .504 1.143 1.125z",key:"svg-0"}],["path",{d:"M12 9h-2",key:"svg-1"}],["path",{d:"M12 6h-3",key:"svg-2"}],["path",{d:"M12 12h-3",key:"svg-3"}],["path",{d:"M12 18h-3",key:"svg-4"}],["path",{d:"M12 15h-2",key:"svg-5"}],["path",{d:"M21 3h-4",key:"svg-6"}],["path",{d:"M19 3v18",key:"svg-7"}],["path",{d:"M21 21h-4",key:"svg-8"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Rw=je("outline","ruler-measure","IconRulerMeasure",[["path",{d:"M19.875 12c.621 0 1.125 .512 1.125 1.143v5.714c0 .631 -.504 1.143 -1.125 1.143h-15.875a1 1 0 0 1 -1 -1v-5.857c0 -.631 .504 -1.143 1.125 -1.143h15.75z",key:"svg-0"}],["path",{d:"M9 12v2",key:"svg-1"}],["path",{d:"M6 12v3",key:"svg-2"}],["path",{d:"M12 12v3",key:"svg-3"}],["path",{d:"M18 12v3",key:"svg-4"}],["path",{d:"M15 12v2",key:"svg-5"}],["path",{d:"M3 3v4",key:"svg-6"}],["path",{d:"M3 5h18",key:"svg-7"}],["path",{d:"M21 3v4",key:"svg-8"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Tw=je("outline","selector","IconSelector",[["path",{d:"M8 9l4 -4l4 4",key:"svg-0"}],["path",{d:"M16 15l-4 4l-4 -4",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Mw=je("outline","skew-x","IconSkewX",[["path",{d:"M4 5.205v13.59a1 1 0 0 0 1.184 .983l14 -2.625a1 1 0 0 0 .816 -.983v-8.34a1 1 0 0 0 -.816 -.983l-14 -2.625a1 1 0 0 0 -1.184 .983z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Pw=je("outline","skew-y","IconSkewY",[["path",{d:"M4.326 19h15.348a1 1 0 0 0 .962 -1.275l-3.429 -12a1 1 0 0 0 -.961 -.725h-8.492a1 1 0 0 0 -.961 .725l-3.429 12a1 1 0 0 0 .962 1.275z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Aw=je("outline","square-letter-x","IconSquareLetterX",[["path",{d:"M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M10 8l4 8",key:"svg-1"}],["path",{d:"M10 16l4 -8",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ow=je("outline","square-letter-y","IconSquareLetterY",[["path",{d:"M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M10 8l2 5l2 -5",key:"svg-1"}],["path",{d:"M12 16v-3",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var s_=je("outline","square","IconSquare",[["path",{d:"M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Lw=je("outline","vector-bezier","IconVectorBezier",[["path",{d:"M3 14m0 1a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1z",key:"svg-0"}],["path",{d:"M17 14m0 1a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1z",key:"svg-1"}],["path",{d:"M10 6m0 1a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1z",key:"svg-2"}],["path",{d:"M10 8.5a6 6 0 0 0 -5 5.5",key:"svg-3"}],["path",{d:"M14 8.5a6 6 0 0 1 5 5.5",key:"svg-4"}],["path",{d:"M10 8l-6 0",key:"svg-5"}],["path",{d:"M20 8l-6 0",key:"svg-6"}],["path",{d:"M3 8m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-7"}],["path",{d:"M21 8m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-8"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Fw=je("outline","vector-spline","IconVectorSpline",[["path",{d:"M17 3m0 1a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1z",key:"svg-0"}],["path",{d:"M3 17m0 1a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1z",key:"svg-1"}],["path",{d:"M17 5c-6.627 0 -12 5.373 -12 12",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Iw=je("outline","vector-triangle","IconVectorTriangle",[["path",{d:"M10 4m0 1a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1z",key:"svg-0"}],["path",{d:"M3 17m0 1a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1z",key:"svg-1"}],["path",{d:"M17 17m0 1a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1z",key:"svg-2"}],["path",{d:"M6.5 17.1l5 -9.1",key:"svg-3"}],["path",{d:"M17.5 17.1l-5 -9.1",key:"svg-4"}],["path",{d:"M7 19l10 0",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var o_=je("outline","wave-sine","IconWaveSine",[["path",{d:"M21 12h-2c-.894 0 -1.662 -.857 -1.761 -2c-.296 -3.45 -.749 -6 -2.749 -6s-2.5 3.582 -2.5 8s-.5 8 -2.5 8s-2.452 -2.547 -2.749 -6c-.1 -1.147 -.867 -2 -1.763 -2h-2",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Nw=je("outline","zoom","IconZoom",[["path",{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0",key:"svg-0"}],["path",{d:"M21 21l-6 -6",key:"svg-1"}]]);function nc(){return typeof window<"u"}function Gi(e){return l_(e)?(e.nodeName||"").toLowerCase():"#document"}function Cn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function $r(e){var t;return(t=(l_(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function l_(e){return nc()?e instanceof Node||e instanceof Cn(e).Node:!1}function qe(e){return nc()?e instanceof Element||e instanceof Cn(e).Element:!1}function Ct(e){return nc()?e instanceof HTMLElement||e instanceof Cn(e).HTMLElement:!1}function Yh(e){return!nc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Cn(e).ShadowRoot}function Kl(e){const{overflow:t,overflowX:n,overflowY:i,display:o}=lr(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+n)&&!["inline","contents"].includes(o)}function jw(e){return["table","td","th"].includes(Gi(e))}function rc(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Td(e){const t=ic(),n=qe(e)?lr(e):e;return["transform","translate","scale","rotate","perspective"].some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(i=>(n.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(n.contain||"").includes(i))}function Dw(e){let t=hi(e);for(;Ct(t)&&!Yi(t);){if(Td(t))return t;if(rc(t))return null;t=hi(t)}return null}function ic(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Yi(e){return["html","body","#document"].includes(Gi(e))}function lr(e){return Cn(e).getComputedStyle(e)}function sc(e){return qe(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function hi(e){if(Gi(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Yh(e)&&e.host||$r(e);return Yh(t)?t.host:t}function a_(e){const t=hi(e);return Yi(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ct(t)&&Kl(t)?t:a_(t)}function Hi(e,t,n){var i;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=a_(e),l=o===((i=e.ownerDocument)==null?void 0:i.body),a=Cn(o);if(l){const c=Xh(a);return t.concat(a,a.visualViewport||[],Kl(o)?o:[],c&&n?Hi(c):[])}return t.concat(o,Hi(o,[],n))}function Xh(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function ai(e){let t=e.activeElement;for(;((n=t)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;t=t.shadowRoot.activeElement}return t}function Qt(e,t){if(!e||!t)return!1;const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&Yh(n)){let i=t;for(;i;){if(e===i)return!0;i=i.parentNode||i.host}}return!1}function u_(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function c_(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:i}=t;return n+"/"+i}).join(" "):navigator.userAgent}function zw(e){return e.mozInputSource===0&&e.isTrusted?!0:Kh()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function f_(e){return Uw()?!1:!Kh()&&e.width===0&&e.height===0||Kh()&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType==="touch"}function h_(){return/apple/i.test(navigator.vendor)}function Kh(){const e=/android/i;return e.test(u_())||e.test(c_())}function Bw(){return u_().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function Uw(){return c_().includes("jsdom/")}function Ul(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function $w(e){return"nativeEvent"in e}function Vw(e){return e.matches("html,body")}function Zt(e){return(e==null?void 0:e.ownerDocument)||document}function ph(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function Bi(e){return"composedPath"in e?e.composedPath()[0]:e.target}const Hw="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function Md(e){return Ct(e)&&e.matches(Hw)}function gh(e){e.preventDefault(),e.stopPropagation()}function Ww(e){return e?e.getAttribute("role")==="combobox"&&Md(e):!1}const Nu=Math.min,Es=Math.max,ju=Math.round,gu=Math.floor,Nr=e=>({x:e,y:e}),Yw={left:"right",right:"left",bottom:"top",top:"bottom"},Xw={start:"end",end:"start"};function Um(e,t,n){return Es(e,Nu(t,n))}function oc(e,t){return typeof e=="function"?e(t):e}function Ts(e){return e.split("-")[0]}function lc(e){return e.split("-")[1]}function d_(e){return e==="x"?"y":"x"}function p_(e){return e==="y"?"height":"width"}function Mo(e){return["top","bottom"].includes(Ts(e))?"y":"x"}function g_(e){return d_(Mo(e))}function Kw(e,t,n){n===void 0&&(n=!1);const i=lc(e),o=g_(e),l=p_(o);let a=o==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[l]>t.floating[l]&&(a=Du(a)),[a,Du(a)]}function qw(e){const t=Du(e);return[qh(e),t,qh(t)]}function qh(e){return e.replace(/start|end/g,t=>Xw[t])}function Gw(e,t,n){const i=["left","right"],o=["right","left"],l=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:i:t?i:o;case"left":case"right":return t?l:a;default:return[]}}function Qw(e,t,n,i){const o=lc(e);let l=Gw(Ts(e),n==="start",i);return o&&(l=l.map(a=>a+"-"+o),t&&(l=l.concat(l.map(qh)))),l}function Du(e){return e.replace(/left|right|bottom|top/g,t=>Yw[t])}function Zw(e){return{top:0,right:0,bottom:0,left:0,...e}}function Jw(e){return typeof e!="number"?Zw(e):{top:e,right:e,bottom:e,left:e}}function zu(e){const{x:t,y:n,width:i,height:o}=e;return{width:i,height:o,top:n,left:t,right:t+i,bottom:n+o,x:t,y:n}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var e2=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Bu=e2.join(","),m_=typeof Element>"u",Po=m_?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Uu=!m_&&Element.prototype.getRootNode?function(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}:function(e){return e==null?void 0:e.ownerDocument},$u=function e(t,n){var i;n===void 0&&(n=!0);var o=t==null||(i=t.getAttribute)===null||i===void 0?void 0:i.call(t,"inert"),l=o===""||o==="true",a=l||n&&t&&e(t.parentNode);return a},t2=function(t){var n,i=t==null||(n=t.getAttribute)===null||n===void 0?void 0:n.call(t,"contenteditable");return i===""||i==="true"},n2=function(t,n,i){if($u(t))return[];var o=Array.prototype.slice.apply(t.querySelectorAll(Bu));return n&&Po.call(t,Bu)&&o.unshift(t),o=o.filter(i),o},r2=function e(t,n,i){for(var o=[],l=Array.from(t);l.length;){var a=l.shift();if(!$u(a,!1))if(a.tagName==="SLOT"){var c=a.assignedElements(),h=c.length?c:a.children,d=e(h,!0,i);i.flatten?o.push.apply(o,d):o.push({scopeParent:a,candidates:d})}else{var g=Po.call(a,Bu);g&&i.filter(a)&&(n||!t.includes(a))&&o.push(a);var m=a.shadowRoot||typeof i.getShadowRoot=="function"&&i.getShadowRoot(a),v=!$u(m,!1)&&(!i.shadowRootFilter||i.shadowRootFilter(a));if(m&&v){var _=e(m===!0?a.children:m.children,!0,i);i.flatten?o.push.apply(o,_):o.push({scopeParent:a,candidates:_})}else l.unshift.apply(l,a.children)}}return o},y_=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},__=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||t2(t))&&!y_(t)?0:t.tabIndex},i2=function(t,n){var i=__(t);return i<0&&n&&!y_(t)?0:i},s2=function(t,n){return t.tabIndex===n.tabIndex?t.documentOrder-n.documentOrder:t.tabIndex-n.tabIndex},v_=function(t){return t.tagName==="INPUT"},o2=function(t){return v_(t)&&t.type==="hidden"},l2=function(t){var n=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(i){return i.tagName==="SUMMARY"});return n},a2=function(t,n){for(var i=0;i<t.length;i++)if(t[i].checked&&t[i].form===n)return t[i]},u2=function(t){if(!t.name)return!0;var n=t.form||Uu(t),i=function(c){return n.querySelectorAll('input[type="radio"][name="'+c+'"]')},o;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")o=i(window.CSS.escape(t.name));else try{o=i(t.name)}catch(a){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",a.message),!1}var l=a2(o,t.form);return!l||l===t},c2=function(t){return v_(t)&&t.type==="radio"},f2=function(t){return c2(t)&&!u2(t)},h2=function(t){var n,i=t&&Uu(t),o=(n=i)===null||n===void 0?void 0:n.host,l=!1;if(i&&i!==t){var a,c,h;for(l=!!((a=o)!==null&&a!==void 0&&(c=a.ownerDocument)!==null&&c!==void 0&&c.contains(o)||t!=null&&(h=t.ownerDocument)!==null&&h!==void 0&&h.contains(t));!l&&o;){var d,g,m;i=Uu(o),o=(d=i)===null||d===void 0?void 0:d.host,l=!!((g=o)!==null&&g!==void 0&&(m=g.ownerDocument)!==null&&m!==void 0&&m.contains(o))}}return l},$m=function(t){var n=t.getBoundingClientRect(),i=n.width,o=n.height;return i===0&&o===0},d2=function(t,n){var i=n.displayCheck,o=n.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var l=Po.call(t,"details>summary:first-of-type"),a=l?t.parentElement:t;if(Po.call(a,"details:not([open]) *"))return!0;if(!i||i==="full"||i==="legacy-full"){if(typeof o=="function"){for(var c=t;t;){var h=t.parentElement,d=Uu(t);if(h&&!h.shadowRoot&&o(h)===!0)return $m(t);t.assignedSlot?t=t.assignedSlot:!h&&d!==t.ownerDocument?t=d.host:t=h}t=c}if(h2(t))return!t.getClientRects().length;if(i!=="legacy-full")return!0}else if(i==="non-zero-area")return $m(t);return!1},p2=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var n=t.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var i=0;i<n.children.length;i++){var o=n.children.item(i);if(o.tagName==="LEGEND")return Po.call(n,"fieldset[disabled] *")?!0:!o.contains(t)}return!0}n=n.parentElement}return!1},g2=function(t,n){return!(n.disabled||$u(n)||o2(n)||d2(n,t)||l2(n)||p2(n))},Gh=function(t,n){return!(f2(n)||__(n)<0||!g2(t,n))},m2=function(t){var n=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},y2=function e(t){var n=[],i=[];return t.forEach(function(o,l){var a=!!o.scopeParent,c=a?o.scopeParent:o,h=i2(c,a),d=a?e(o.candidates):c;h===0?a?n.push.apply(n,d):n.push(c):i.push({documentOrder:l,tabIndex:h,item:o,isScope:a,content:d})}),i.sort(s2).reduce(function(o,l){return l.isScope?o.push.apply(o,l.content):o.push(l.content),o},[]).concat(n)},ac=function(t,n){n=n||{};var i;return n.getShadowRoot?i=r2([t],n.includeContainer,{filter:Gh.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:m2}):i=n2(t,n.includeContainer,Gh.bind(null,n)),y2(i)},_2=function(t,n){if(n=n||{},!t)throw new Error("No node provided");return Po.call(t,Bu)===!1?!1:Gh(n,t)},Pd=J0();function Vm(e,t,n){let{reference:i,floating:o}=e;const l=Mo(t),a=g_(t),c=p_(a),h=Ts(t),d=l==="y",g=i.x+i.width/2-o.width/2,m=i.y+i.height/2-o.height/2,v=i[c]/2-o[c]/2;let _;switch(h){case"top":_={x:g,y:i.y-o.height};break;case"bottom":_={x:g,y:i.y+i.height};break;case"right":_={x:i.x+i.width,y:m};break;case"left":_={x:i.x-o.width,y:m};break;default:_={x:i.x,y:i.y}}switch(lc(t)){case"start":_[a]-=v*(n&&d?-1:1);break;case"end":_[a]+=v*(n&&d?-1:1);break}return _}const v2=async(e,t,n)=>{const{placement:i="bottom",strategy:o="absolute",middleware:l=[],platform:a}=n,c=l.filter(Boolean),h=await(a.isRTL==null?void 0:a.isRTL(t));let d=await a.getElementRects({reference:e,floating:t,strategy:o}),{x:g,y:m}=Vm(d,i,h),v=i,_={},w=0;for(let k=0;k<c.length;k++){const{name:S,fn:b}=c[k],{x,y:R,data:M,reset:P}=await b({x:g,y:m,initialPlacement:i,placement:v,strategy:o,middlewareData:_,rects:d,platform:a,elements:{reference:e,floating:t}});g=x??g,m=R??m,_={..._,[S]:{..._[S],...M}},P&&w<=50&&(w++,typeof P=="object"&&(P.placement&&(v=P.placement),P.rects&&(d=P.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:o}):P.rects),{x:g,y:m}=Vm(d,v,h)),k=-1)}return{x:g,y:m,placement:v,strategy:o,middlewareData:_}};async function x_(e,t){var n;t===void 0&&(t={});const{x:i,y:o,platform:l,rects:a,elements:c,strategy:h}=e,{boundary:d="clippingAncestors",rootBoundary:g="viewport",elementContext:m="floating",altBoundary:v=!1,padding:_=0}=oc(t,e),w=Jw(_),S=c[v?m==="floating"?"reference":"floating":m],b=zu(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(S)))==null||n?S:S.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(c.floating)),boundary:d,rootBoundary:g,strategy:h})),x=m==="floating"?{x:i,y:o,width:a.floating.width,height:a.floating.height}:a.reference,R=await(l.getOffsetParent==null?void 0:l.getOffsetParent(c.floating)),M=await(l.isElement==null?void 0:l.isElement(R))?await(l.getScale==null?void 0:l.getScale(R))||{x:1,y:1}:{x:1,y:1},P=zu(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:x,offsetParent:R,strategy:h}):x);return{top:(b.top-P.top+w.top)/M.y,bottom:(P.bottom-b.bottom+w.bottom)/M.y,left:(b.left-P.left+w.left)/M.x,right:(P.right-b.right+w.right)/M.x}}const x2=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,i;const{placement:o,middlewareData:l,rects:a,initialPlacement:c,platform:h,elements:d}=t,{mainAxis:g=!0,crossAxis:m=!0,fallbackPlacements:v,fallbackStrategy:_="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:k=!0,...S}=oc(e,t);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const b=Ts(o),x=Mo(c),R=Ts(c)===c,M=await(h.isRTL==null?void 0:h.isRTL(d.floating)),P=v||(R||!k?[Du(c)]:qw(c)),I=w!=="none";!v&&I&&P.push(...Qw(c,k,w,M));const j=[c,...P],X=await x_(t,S),z=[];let W=((i=l.flip)==null?void 0:i.overflows)||[];if(g&&z.push(X[b]),m){const te=Kw(o,a,M);z.push(X[te[0]],X[te[1]])}if(W=[...W,{placement:o,overflows:z}],!z.every(te=>te<=0)){var K,q;const te=(((K=l.flip)==null?void 0:K.index)||0)+1,re=j[te];if(re)return{data:{index:te,overflows:W},reset:{placement:re}};let ue=(q=W.filter(Z=>Z.overflows[0]<=0).sort((Z,D)=>Z.overflows[1]-D.overflows[1])[0])==null?void 0:q.placement;if(!ue)switch(_){case"bestFit":{var ae;const Z=(ae=W.filter(D=>{if(I){const B=Mo(D.placement);return B===x||B==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(B=>B>0).reduce((B,G)=>B+G,0)]).sort((D,B)=>D[1]-B[1])[0])==null?void 0:ae[0];Z&&(ue=Z);break}case"initialPlacement":ue=c;break}if(o!==ue)return{reset:{placement:ue}}}return{}}}};async function w2(e,t){const{placement:n,platform:i,elements:o}=e,l=await(i.isRTL==null?void 0:i.isRTL(o.floating)),a=Ts(n),c=lc(n),h=Mo(n)==="y",d=["left","top"].includes(a)?-1:1,g=l&&h?-1:1,m=oc(t,e);let{mainAxis:v,crossAxis:_,alignmentAxis:w}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return c&&typeof w=="number"&&(_=c==="end"?w*-1:w),h?{x:_*g,y:v*d}:{x:v*d,y:_*g}}const k2=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,i;const{x:o,y:l,placement:a,middlewareData:c}=t,h=await w2(t,e);return a===((n=c.offset)==null?void 0:n.placement)&&(i=c.arrow)!=null&&i.alignmentOffset?{}:{x:o+h.x,y:l+h.y,data:{...h,placement:a}}}}},b2=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:i,placement:o}=t,{mainAxis:l=!0,crossAxis:a=!1,limiter:c={fn:S=>{let{x:b,y:x}=S;return{x:b,y:x}}},...h}=oc(e,t),d={x:n,y:i},g=await x_(t,h),m=Mo(Ts(o)),v=d_(m);let _=d[v],w=d[m];if(l){const S=v==="y"?"top":"left",b=v==="y"?"bottom":"right",x=_+g[S],R=_-g[b];_=Um(x,_,R)}if(a){const S=m==="y"?"top":"left",b=m==="y"?"bottom":"right",x=w+g[S],R=w-g[b];w=Um(x,w,R)}const k=c.fn({...t,[v]:_,[m]:w});return{...k,data:{x:k.x-n,y:k.y-i,enabled:{[v]:l,[m]:a}}}}}};function w_(e){const t=lr(e);let n=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const o=Ct(e),l=o?e.offsetWidth:n,a=o?e.offsetHeight:i,c=ju(n)!==l||ju(i)!==a;return c&&(n=l,i=a),{width:n,height:i,$:c}}function Ad(e){return qe(e)?e:e.contextElement}function Eo(e){const t=Ad(e);if(!Ct(t))return Nr(1);const n=t.getBoundingClientRect(),{width:i,height:o,$:l}=w_(t);let a=(l?ju(n.width):n.width)/i,c=(l?ju(n.height):n.height)/o;return(!a||!Number.isFinite(a))&&(a=1),(!c||!Number.isFinite(c))&&(c=1),{x:a,y:c}}const S2=Nr(0);function k_(e){const t=Cn(e);return!ic()||!t.visualViewport?S2:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function E2(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Cn(e)?!1:t}function Ms(e,t,n,i){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),l=Ad(e);let a=Nr(1);t&&(i?qe(i)&&(a=Eo(i)):a=Eo(e));const c=E2(l,n,i)?k_(l):Nr(0);let h=(o.left+c.x)/a.x,d=(o.top+c.y)/a.y,g=o.width/a.x,m=o.height/a.y;if(l){const v=Cn(l),_=i&&qe(i)?Cn(i):i;let w=v,k=Xh(w);for(;k&&i&&_!==w;){const S=Eo(k),b=k.getBoundingClientRect(),x=lr(k),R=b.left+(k.clientLeft+parseFloat(x.paddingLeft))*S.x,M=b.top+(k.clientTop+parseFloat(x.paddingTop))*S.y;h*=S.x,d*=S.y,g*=S.x,m*=S.y,h+=R,d+=M,w=Cn(k),k=Xh(w)}}return zu({width:g,height:m,x:h,y:d})}function Od(e,t){const n=sc(e).scrollLeft;return t?t.left+n:Ms($r(e)).left+n}function b_(e,t,n){n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=i.left+t.scrollLeft-(n?0:Od(e,i)),l=i.top+t.scrollTop;return{x:o,y:l}}function C2(e){let{elements:t,rect:n,offsetParent:i,strategy:o}=e;const l=o==="fixed",a=$r(i),c=t?rc(t.floating):!1;if(i===a||c&&l)return n;let h={scrollLeft:0,scrollTop:0},d=Nr(1);const g=Nr(0),m=Ct(i);if((m||!m&&!l)&&((Gi(i)!=="body"||Kl(a))&&(h=sc(i)),Ct(i))){const _=Ms(i);d=Eo(i),g.x=_.x+i.clientLeft,g.y=_.y+i.clientTop}const v=a&&!m&&!l?b_(a,h,!0):Nr(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-h.scrollLeft*d.x+g.x+v.x,y:n.y*d.y-h.scrollTop*d.y+g.y+v.y}}function R2(e){return Array.from(e.getClientRects())}function T2(e){const t=$r(e),n=sc(e),i=e.ownerDocument.body,o=Es(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),l=Es(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let a=-n.scrollLeft+Od(e);const c=-n.scrollTop;return lr(i).direction==="rtl"&&(a+=Es(t.clientWidth,i.clientWidth)-o),{width:o,height:l,x:a,y:c}}function M2(e,t){const n=Cn(e),i=$r(e),o=n.visualViewport;let l=i.clientWidth,a=i.clientHeight,c=0,h=0;if(o){l=o.width,a=o.height;const d=ic();(!d||d&&t==="fixed")&&(c=o.offsetLeft,h=o.offsetTop)}return{width:l,height:a,x:c,y:h}}function P2(e,t){const n=Ms(e,!0,t==="fixed"),i=n.top+e.clientTop,o=n.left+e.clientLeft,l=Ct(e)?Eo(e):Nr(1),a=e.clientWidth*l.x,c=e.clientHeight*l.y,h=o*l.x,d=i*l.y;return{width:a,height:c,x:h,y:d}}function Hm(e,t,n){let i;if(t==="viewport")i=M2(e,n);else if(t==="document")i=T2($r(e));else if(qe(t))i=P2(t,n);else{const o=k_(e);i={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return zu(i)}function S_(e,t){const n=hi(e);return n===t||!qe(n)||Yi(n)?!1:lr(n).position==="fixed"||S_(n,t)}function A2(e,t){const n=t.get(e);if(n)return n;let i=Hi(e,[],!1).filter(c=>qe(c)&&Gi(c)!=="body"),o=null;const l=lr(e).position==="fixed";let a=l?hi(e):e;for(;qe(a)&&!Yi(a);){const c=lr(a),h=Td(a);!h&&c.position==="fixed"&&(o=null),(l?!h&&!o:!h&&c.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||Kl(a)&&!h&&S_(e,a))?i=i.filter(g=>g!==a):o=c,a=hi(a)}return t.set(e,i),i}function O2(e){let{element:t,boundary:n,rootBoundary:i,strategy:o}=e;const a=[...n==="clippingAncestors"?rc(t)?[]:A2(t,this._c):[].concat(n),i],c=a[0],h=a.reduce((d,g)=>{const m=Hm(t,g,o);return d.top=Es(m.top,d.top),d.right=Nu(m.right,d.right),d.bottom=Nu(m.bottom,d.bottom),d.left=Es(m.left,d.left),d},Hm(t,c,o));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function L2(e){const{width:t,height:n}=w_(e);return{width:t,height:n}}function F2(e,t,n){const i=Ct(t),o=$r(t),l=n==="fixed",a=Ms(e,!0,l,t);let c={scrollLeft:0,scrollTop:0};const h=Nr(0);if(i||!i&&!l)if((Gi(t)!=="body"||Kl(o))&&(c=sc(t)),i){const v=Ms(t,!0,l,t);h.x=v.x+t.clientLeft,h.y=v.y+t.clientTop}else o&&(h.x=Od(o));const d=o&&!i&&!l?b_(o,c):Nr(0),g=a.left+c.scrollLeft-h.x-d.x,m=a.top+c.scrollTop-h.y-d.y;return{x:g,y:m,width:a.width,height:a.height}}function mh(e){return lr(e).position==="static"}function Wm(e,t){if(!Ct(e)||lr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return $r(e)===n&&(n=n.ownerDocument.body),n}function E_(e,t){const n=Cn(e);if(rc(e))return n;if(!Ct(e)){let o=hi(e);for(;o&&!Yi(o);){if(qe(o)&&!mh(o))return o;o=hi(o)}return n}let i=Wm(e,t);for(;i&&jw(i)&&mh(i);)i=Wm(i,t);return i&&Yi(i)&&mh(i)&&!Td(i)?n:i||Dw(e)||n}const I2=async function(e){const t=this.getOffsetParent||E_,n=this.getDimensions,i=await n(e.floating);return{reference:F2(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function N2(e){return lr(e).direction==="rtl"}const j2={convertOffsetParentRelativeRectToViewportRelativeRect:C2,getDocumentElement:$r,getClippingRect:O2,getOffsetParent:E_,getElementRects:I2,getClientRects:R2,getDimensions:L2,getScale:Eo,isElement:qe,isRTL:N2};function C_(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function D2(e,t){let n=null,i;const o=$r(e);function l(){var c;clearTimeout(i),(c=n)==null||c.disconnect(),n=null}function a(c,h){c===void 0&&(c=!1),h===void 0&&(h=1),l();const d=e.getBoundingClientRect(),{left:g,top:m,width:v,height:_}=d;if(c||t(),!v||!_)return;const w=gu(m),k=gu(o.clientWidth-(g+v)),S=gu(o.clientHeight-(m+_)),b=gu(g),R={rootMargin:-w+"px "+-k+"px "+-S+"px "+-b+"px",threshold:Es(0,Nu(1,h))||1};let M=!0;function P(I){const j=I[0].intersectionRatio;if(j!==h){if(!M)return a();j?a(!1,j):i=setTimeout(()=>{a(!1,1e-7)},1e3)}j===1&&!C_(d,e.getBoundingClientRect())&&a(),M=!1}try{n=new IntersectionObserver(P,{...R,root:o.ownerDocument})}catch{n=new IntersectionObserver(P,R)}n.observe(e)}return a(!0),l}function R_(e,t,n,i){i===void 0&&(i={});const{ancestorScroll:o=!0,ancestorResize:l=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:h=!1}=i,d=Ad(e),g=o||l?[...d?Hi(d):[],...Hi(t)]:[];g.forEach(b=>{o&&b.addEventListener("scroll",n,{passive:!0}),l&&b.addEventListener("resize",n)});const m=d&&c?D2(d,n):null;let v=-1,_=null;a&&(_=new ResizeObserver(b=>{let[x]=b;x&&x.target===d&&_&&(_.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var R;(R=_)==null||R.observe(t)})),n()}),d&&!h&&_.observe(d),_.observe(t));let w,k=h?Ms(e):null;h&&S();function S(){const b=Ms(e);k&&!C_(k,b)&&n(),k=b,w=requestAnimationFrame(S)}return n(),()=>{var b;g.forEach(x=>{o&&x.removeEventListener("scroll",n),l&&x.removeEventListener("resize",n)}),m==null||m(),(b=_)==null||b.disconnect(),_=null,h&&cancelAnimationFrame(w)}}const z2=k2,B2=b2,U2=x2,$2=(e,t,n)=>{const i=new Map,o={platform:j2,...n},l={...o.platform,_c:i};return v2(e,t,{...o,platform:l})};var Mu=typeof document<"u"?E.useLayoutEffect:E.useEffect;function Vu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,i,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(i=n;i--!==0;)if(!Vu(e[i],t[i]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(i=n;i--!==0;)if(!{}.hasOwnProperty.call(t,o[i]))return!1;for(i=n;i--!==0;){const l=o[i];if(!(l==="_owner"&&e.$$typeof)&&!Vu(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}function T_(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Ym(e,t){const n=T_(e);return Math.round(t*n)/n}function yh(e){const t=E.useRef(e);return Mu(()=>{t.current=e}),t}function V2(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:i=[],platform:o,elements:{reference:l,floating:a}={},transform:c=!0,whileElementsMounted:h,open:d}=e,[g,m]=E.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[v,_]=E.useState(i);Vu(v,i)||_(i);const[w,k]=E.useState(null),[S,b]=E.useState(null),x=E.useCallback(D=>{D!==I.current&&(I.current=D,k(D))},[]),R=E.useCallback(D=>{D!==j.current&&(j.current=D,b(D))},[]),M=l||w,P=a||S,I=E.useRef(null),j=E.useRef(null),X=E.useRef(g),z=h!=null,W=yh(h),K=yh(o),q=yh(d),ae=E.useCallback(()=>{if(!I.current||!j.current)return;const D={placement:t,strategy:n,middleware:v};K.current&&(D.platform=K.current),$2(I.current,j.current,D).then(B=>{const G={...B,isPositioned:q.current!==!1};te.current&&!Vu(X.current,G)&&(X.current=G,Pd.flushSync(()=>{m(G)}))})},[v,t,n,K,q]);Mu(()=>{d===!1&&X.current.isPositioned&&(X.current.isPositioned=!1,m(D=>({...D,isPositioned:!1})))},[d]);const te=E.useRef(!1);Mu(()=>(te.current=!0,()=>{te.current=!1}),[]),Mu(()=>{if(M&&(I.current=M),P&&(j.current=P),M&&P){if(W.current)return W.current(M,P,ae);ae()}},[M,P,ae,W,z]);const re=E.useMemo(()=>({reference:I,floating:j,setReference:x,setFloating:R}),[x,R]),ue=E.useMemo(()=>({reference:M,floating:P}),[M,P]),Z=E.useMemo(()=>{const D={position:n,left:0,top:0};if(!ue.floating)return D;const B=Ym(ue.floating,g.x),G=Ym(ue.floating,g.y);return c?{...D,transform:"translate("+B+"px, "+G+"px)",...T_(ue.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:B,top:G}},[n,c,ue.floating,g.x,g.y]);return E.useMemo(()=>({...g,update:ae,refs:re,elements:ue,floatingStyles:Z}),[g,ae,re,ue,Z])}const M_=(e,t)=>({...z2(e),options:[e,t]}),P_=(e,t)=>({...B2(e),options:[e,t]}),A_=(e,t)=>({...U2(e),options:[e,t]});function uc(e){return E.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})},e)}const O_={...ew},H2=O_.useInsertionEffect,W2=H2||(e=>e());function _r(e){const t=E.useRef(()=>{});return W2(()=>{t.current=e}),E.useCallback(function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t.current==null?void 0:t.current(...i)},[])}var Sn=typeof document<"u"?E.useLayoutEffect:E.useEffect;function Hu(){return Hu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Hu.apply(this,arguments)}let Xm=!1,Y2=0;const Km=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Y2++;function X2(){const[e,t]=E.useState(()=>Xm?Km():void 0);return Sn(()=>{e==null&&t(Km())},[]),E.useEffect(()=>{Xm=!0},[]),e}const K2=O_.useId,ql=K2||X2;function q2(){const e=new Map;return{emit(t,n){var i;(i=e.get(t))==null||i.forEach(o=>o(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var i;e.set(t,((i=e.get(t))==null?void 0:i.filter(o=>o!==n))||[])}}}const G2=E.createContext(null),Q2=E.createContext(null),Ld=()=>{var e;return((e=E.useContext(G2))==null?void 0:e.id)||null},cc=()=>E.useContext(Q2);function Ps(e){return"data-floating-ui-"+e}function Co(e){const t=E.useRef(e);return Sn(()=>{t.current=e}),t}const qm=Ps("safe-polygon");function _h(e,t,n){return n&&!Ul(n)?0:typeof e=="number"?e:e==null?void 0:e[t]}function Z2(e,t){t===void 0&&(t={});const{open:n,onOpenChange:i,dataRef:o,events:l,elements:a}=e,{enabled:c=!0,delay:h=0,handleClose:d=null,mouseOnly:g=!1,restMs:m=0,move:v=!0}=t,_=cc(),w=Ld(),k=Co(d),S=Co(h),b=Co(n),x=E.useRef(),R=E.useRef(-1),M=E.useRef(),P=E.useRef(-1),I=E.useRef(!0),j=E.useRef(!1),X=E.useRef(()=>{}),z=E.useRef(!1),W=E.useCallback(()=>{var Z;const D=(Z=o.current.openEvent)==null?void 0:Z.type;return(D==null?void 0:D.includes("mouse"))&&D!=="mousedown"},[o]);E.useEffect(()=>{if(!c)return;function Z(D){let{open:B}=D;B||(clearTimeout(R.current),clearTimeout(P.current),I.current=!0,z.current=!1)}return l.on("openchange",Z),()=>{l.off("openchange",Z)}},[c,l]),E.useEffect(()=>{if(!c||!k.current||!n)return;function Z(B){W()&&i(!1,B,"hover")}const D=Zt(a.floating).documentElement;return D.addEventListener("mouseleave",Z),()=>{D.removeEventListener("mouseleave",Z)}},[a.floating,n,i,c,k,W]);const K=E.useCallback(function(Z,D,B){D===void 0&&(D=!0),B===void 0&&(B="hover");const G=_h(S.current,"close",x.current);G&&!M.current?(clearTimeout(R.current),R.current=window.setTimeout(()=>i(!1,Z,B),G)):D&&(clearTimeout(R.current),i(!1,Z,B))},[S,i]),q=_r(()=>{X.current(),M.current=void 0}),ae=_r(()=>{if(j.current){const Z=Zt(a.floating).body;Z.style.pointerEvents="",Z.removeAttribute(qm),j.current=!1}}),te=_r(()=>o.current.openEvent?["click","mousedown"].includes(o.current.openEvent.type):!1);E.useEffect(()=>{if(!c)return;function Z(L){if(clearTimeout(R.current),I.current=!1,g&&!Ul(x.current)||m>0&&!_h(S.current,"open"))return;const Y=_h(S.current,"open",x.current);Y?R.current=window.setTimeout(()=>{b.current||i(!0,L,"hover")},Y):n||i(!0,L,"hover")}function D(L){if(te())return;X.current();const Y=Zt(a.floating);if(clearTimeout(P.current),z.current=!1,k.current&&o.current.floatingContext){n||clearTimeout(R.current),M.current=k.current({...o.current.floatingContext,tree:_,x:L.clientX,y:L.clientY,onClose(){ae(),q(),te()||K(L,!0,"safe-polygon")}});const fe=M.current;Y.addEventListener("mousemove",fe),X.current=()=>{Y.removeEventListener("mousemove",fe)};return}(x.current==="touch"?!Qt(a.floating,L.relatedTarget):!0)&&K(L)}function B(L){te()||o.current.floatingContext&&(k.current==null||k.current({...o.current.floatingContext,tree:_,x:L.clientX,y:L.clientY,onClose(){ae(),q(),te()||K(L)}})(L))}if(qe(a.domReference)){var G;const L=a.domReference;return n&&L.addEventListener("mouseleave",B),(G=a.floating)==null||G.addEventListener("mouseleave",B),v&&L.addEventListener("mousemove",Z,{once:!0}),L.addEventListener("mouseenter",Z),L.addEventListener("mouseleave",D),()=>{var Y;n&&L.removeEventListener("mouseleave",B),(Y=a.floating)==null||Y.removeEventListener("mouseleave",B),v&&L.removeEventListener("mousemove",Z),L.removeEventListener("mouseenter",Z),L.removeEventListener("mouseleave",D)}}},[a,c,e,g,m,v,K,q,ae,i,n,b,_,S,k,o,te]),Sn(()=>{var Z;if(c&&n&&(Z=k.current)!=null&&Z.__options.blockPointerEvents&&W()){j.current=!0;const B=a.floating;if(qe(a.domReference)&&B){var D;const G=Zt(a.floating).body;G.setAttribute(qm,"");const L=a.domReference,Y=_==null||(D=_.nodesRef.current.find(xe=>xe.id===w))==null||(D=D.context)==null?void 0:D.elements.floating;return Y&&(Y.style.pointerEvents=""),G.style.pointerEvents="none",L.style.pointerEvents="auto",B.style.pointerEvents="auto",()=>{G.style.pointerEvents="",L.style.pointerEvents="",B.style.pointerEvents=""}}}},[c,n,w,a,_,k,W]),Sn(()=>{n||(x.current=void 0,z.current=!1,q(),ae())},[n,q,ae]),E.useEffect(()=>()=>{q(),clearTimeout(R.current),clearTimeout(P.current),ae()},[c,a.domReference,q,ae]);const re=E.useMemo(()=>{function Z(D){x.current=D.pointerType}return{onPointerDown:Z,onPointerEnter:Z,onMouseMove(D){const{nativeEvent:B}=D;function G(){!I.current&&!b.current&&i(!0,B,"hover")}g&&!Ul(x.current)||n||m===0||z.current&&D.movementX**2+D.movementY**2<2||(clearTimeout(P.current),x.current==="touch"?G():(z.current=!0,P.current=window.setTimeout(G,m)))}}},[g,i,n,b,m]),ue=E.useMemo(()=>({onMouseEnter(){clearTimeout(R.current)},onMouseLeave(Z){te()||K(Z.nativeEvent,!1)}}),[K,te]);return E.useMemo(()=>c?{reference:re,floating:ue}:{},[c,re,ue])}let Gm=0;function fo(e,t){t===void 0&&(t={});const{preventScroll:n=!1,cancelPrevious:i=!0,sync:o=!1}=t;i&&cancelAnimationFrame(Gm);const l=()=>e==null?void 0:e.focus({preventScroll:n});o?l():Gm=requestAnimationFrame(l)}function J2(e,t){var n;let i=[],o=(n=e.find(l=>l.id===t))==null?void 0:n.parentId;for(;o;){const l=e.find(a=>a.id===o);o=l==null?void 0:l.parentId,l&&(i=i.concat(l))}return i}function jl(e,t){let n=e.filter(o=>{var l;return o.parentId===t&&((l=o.context)==null?void 0:l.open)}),i=n;for(;i.length;)i=e.filter(o=>{var l;return(l=i)==null?void 0:l.some(a=>{var c;return o.parentId===a.id&&((c=o.context)==null?void 0:c.open)})}),n=n.concat(i);return n}let ho=new WeakMap,mu=new WeakSet,yu={},vh=0;const ek=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,L_=e=>e&&(e.host||L_(e.parentNode)),tk=(e,t)=>t.map(n=>{if(e.contains(n))return n;const i=L_(n);return e.contains(i)?i:null}).filter(n=>n!=null);function nk(e,t,n,i){const o="data-floating-ui-inert",l=i?"inert":n?"aria-hidden":null,a=tk(t,e),c=new Set,h=new Set(a),d=[];yu[o]||(yu[o]=new WeakMap);const g=yu[o];a.forEach(m),v(t),c.clear();function m(_){!_||c.has(_)||(c.add(_),_.parentNode&&m(_.parentNode))}function v(_){!_||h.has(_)||[].forEach.call(_.children,w=>{if(Gi(w)!=="script")if(c.has(w))v(w);else{const k=l?w.getAttribute(l):null,S=k!==null&&k!=="false",b=(ho.get(w)||0)+1,x=(g.get(w)||0)+1;ho.set(w,b),g.set(w,x),d.push(w),b===1&&S&&mu.add(w),x===1&&w.setAttribute(o,""),!S&&l&&w.setAttribute(l,"true")}})}return vh++,()=>{d.forEach(_=>{const w=(ho.get(_)||0)-1,k=(g.get(_)||0)-1;ho.set(_,w),g.set(_,k),w||(!mu.has(_)&&l&&_.removeAttribute(l),mu.delete(_)),k||_.removeAttribute(o)}),vh--,vh||(ho=new WeakMap,ho=new WeakMap,mu=new WeakSet,yu={})}}function Qm(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=Zt(e[0]).body;return nk(e.concat(Array.from(i.querySelectorAll("[aria-live]"))),i,t,n)}const $l=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function F_(e,t){const n=ac(e,$l());t==="prev"&&n.reverse();const i=n.indexOf(ai(Zt(e)));return n.slice(i+1)[0]}function I_(){return F_(document.body,"next")}function N_(){return F_(document.body,"prev")}function Dl(e,t){const n=t||e.currentTarget,i=e.relatedTarget;return!i||!Qt(n,i)}function rk(e){ac(e,$l()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function Zm(e){e.querySelectorAll("[data-tabindex]").forEach(n=>{const i=n.dataset.tabindex;delete n.dataset.tabindex,i?n.setAttribute("tabindex",i):n.removeAttribute("tabindex")})}const fc={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let ik;function Jm(e){e.key==="Tab"&&(e.target,clearTimeout(ik))}const Wu=E.forwardRef(function(t,n){const[i,o]=E.useState();Sn(()=>(h_()&&o("button"),document.addEventListener("keydown",Jm),()=>{document.removeEventListener("keydown",Jm)}),[]);const l={ref:n,tabIndex:0,role:i,"aria-hidden":i?void 0:!0,[Ps("focus-guard")]:"",style:fc};return E.createElement("span",Hu({},t,l))}),j_=E.createContext(null),ey=Ps("portal");function sk(e){e===void 0&&(e={});const{id:t,root:n}=e,i=ql(),o=z_(),[l,a]=E.useState(null),c=E.useRef(null);return Sn(()=>()=>{l==null||l.remove(),queueMicrotask(()=>{c.current=null})},[l]),Sn(()=>{if(!i||c.current)return;const h=t?document.getElementById(t):null;if(!h)return;const d=document.createElement("div");d.id=i,d.setAttribute(ey,""),h.appendChild(d),c.current=d,a(d)},[t,i]),Sn(()=>{if(n===null||!i||c.current)return;let h=n||(o==null?void 0:o.portalNode);h&&!qe(h)&&(h=h.current),h=h||document.body;let d=null;t&&(d=document.createElement("div"),d.id=t,h.appendChild(d));const g=document.createElement("div");g.id=i,g.setAttribute(ey,""),h=d||h,h.appendChild(g),c.current=g,a(g)},[t,n,i,o]),l}function D_(e){const{children:t,id:n,root:i,preserveTabOrder:o=!0}=e,l=sk({id:n,root:i}),[a,c]=E.useState(null),h=E.useRef(null),d=E.useRef(null),g=E.useRef(null),m=E.useRef(null),v=a==null?void 0:a.modal,_=a==null?void 0:a.open,w=!!a&&!a.modal&&a.open&&o&&!!(i||l);return E.useEffect(()=>{if(!l||!o||v)return;function k(S){l&&Dl(S)&&(S.type==="focusin"?Zm:rk)(l)}return l.addEventListener("focusin",k,!0),l.addEventListener("focusout",k,!0),()=>{l.removeEventListener("focusin",k,!0),l.removeEventListener("focusout",k,!0)}},[l,o,v]),E.useEffect(()=>{l&&(_||Zm(l))},[_,l]),E.createElement(j_.Provider,{value:E.useMemo(()=>({preserveTabOrder:o,beforeOutsideRef:h,afterOutsideRef:d,beforeInsideRef:g,afterInsideRef:m,portalNode:l,setFocusManagerState:c}),[o,l])},w&&l&&E.createElement(Wu,{"data-type":"outside",ref:h,onFocus:k=>{if(Dl(k,l)){var S;(S=g.current)==null||S.focus()}else{const b=N_()||(a==null?void 0:a.refs.domReference.current);b==null||b.focus()}}}),w&&l&&E.createElement("span",{"aria-owns":l.id,style:fc}),l&&Pd.createPortal(t,l),w&&l&&E.createElement(Wu,{"data-type":"outside",ref:d,onFocus:k=>{if(Dl(k,l)){var S;(S=m.current)==null||S.focus()}else{const b=I_()||(a==null?void 0:a.refs.domReference.current);b==null||b.focus(),a!=null&&a.closeOnFocusOut&&(a==null||a.onOpenChange(!1,k.nativeEvent,"focus-out"))}}}))}const z_=()=>E.useContext(j_),Qh="data-floating-ui-focusable";function ok(e){return e?e.hasAttribute(Qh)?e:e.querySelector("["+Qh+"]")||e:null}const lk=20;let ps=[];function xh(e){ps=ps.filter(n=>n.isConnected);let t=e;if(!(!t||Gi(t)==="body")){if(!_2(t,$l())){const n=ac(t,$l())[0];n&&(t=n)}ps.push(t),ps.length>lk&&(ps=ps.slice(-20))}}function ty(){return ps.slice().reverse().find(e=>e.isConnected)}const ak=E.forwardRef(function(t,n){return E.createElement("button",Hu({},t,{type:"button",ref:n,tabIndex:-1,style:fc}))});function uk(e){const{context:t,children:n,disabled:i=!1,order:o=["content"],guards:l=!0,initialFocus:a=0,returnFocus:c=!0,restoreFocus:h=!1,modal:d=!0,visuallyHiddenDismiss:g=!1,closeOnFocusOut:m=!0}=e,{open:v,refs:_,nodeId:w,onOpenChange:k,events:S,dataRef:b,floatingId:x,elements:{domReference:R,floating:M}}=t,P=typeof a=="number"&&a<0,I=Ww(R)&&P,j=ek()?l:!0,X=Co(o),z=Co(a),W=Co(c),K=cc(),q=z_(),ae=E.useRef(null),te=E.useRef(null),re=E.useRef(!1),ue=E.useRef(!1),Z=E.useRef(-1),D=q!=null,B=ok(M),G=_r(function(fe){return fe===void 0&&(fe=B),fe?ac(fe,$l()):[]}),L=_r(fe=>{const oe=G(fe);return X.current.map(Q=>R&&Q==="reference"?R:B&&Q==="floating"?B:oe).filter(Boolean).flat()});E.useEffect(()=>{if(i||!d)return;function fe(Q){if(Q.key==="Tab"){Qt(B,ai(Zt(B)))&&G().length===0&&!I&&gh(Q);const se=L(),ee=Bi(Q);X.current[0]==="reference"&&ee===R&&(gh(Q),Q.shiftKey?fo(se[se.length-1]):fo(se[1])),X.current[1]==="floating"&&ee===B&&Q.shiftKey&&(gh(Q),fo(se[0]))}}const oe=Zt(B);return oe.addEventListener("keydown",fe),()=>{oe.removeEventListener("keydown",fe)}},[i,R,B,d,X,I,G,L]),E.useEffect(()=>{if(i||!M)return;function fe(oe){const Q=Bi(oe),ee=G().indexOf(Q);ee!==-1&&(Z.current=ee)}return M.addEventListener("focusin",fe),()=>{M.removeEventListener("focusin",fe)}},[i,M,G]),E.useEffect(()=>{if(i||!m)return;function fe(){ue.current=!0,setTimeout(()=>{ue.current=!1})}function oe(Q){const se=Q.relatedTarget;queueMicrotask(()=>{const ee=!(Qt(R,se)||Qt(M,se)||Qt(se,M)||Qt(q==null?void 0:q.portalNode,se)||se!=null&&se.hasAttribute(Ps("focus-guard"))||K&&(jl(K.nodesRef.current,w).find(Ce=>{var Me,Ve;return Qt((Me=Ce.context)==null?void 0:Me.elements.floating,se)||Qt((Ve=Ce.context)==null?void 0:Ve.elements.domReference,se)})||J2(K.nodesRef.current,w).find(Ce=>{var Me,Ve;return((Me=Ce.context)==null?void 0:Me.elements.floating)===se||((Ve=Ce.context)==null?void 0:Ve.elements.domReference)===se})));if(h&&ee&&ai(Zt(B))===Zt(B).body){Ct(B)&&B.focus();const Ce=Z.current,Me=G(),Ve=Me[Ce]||Me[Me.length-1]||B;Ct(Ve)&&Ve.focus()}(I||!d)&&se&&ee&&!ue.current&&se!==ty()&&(re.current=!0,k(!1,Q,"focus-out"))})}if(M&&Ct(R))return R.addEventListener("focusout",oe),R.addEventListener("pointerdown",fe),M.addEventListener("focusout",oe),()=>{R.removeEventListener("focusout",oe),R.removeEventListener("pointerdown",fe),M.removeEventListener("focusout",oe)}},[i,R,M,B,d,w,K,q,k,m,h,G,I]),E.useEffect(()=>{var fe;if(i)return;const oe=Array.from((q==null||(fe=q.portalNode)==null?void 0:fe.querySelectorAll("["+Ps("portal")+"]"))||[]);if(M){const Q=[M,...oe,ae.current,te.current,X.current.includes("reference")||I?R:null].filter(ee=>ee!=null),se=d||I?Qm(Q,j,!j):Qm(Q);return()=>{se()}}},[i,R,M,d,X,q,I,j]),Sn(()=>{if(i||!Ct(B))return;const fe=Zt(B),oe=ai(fe);queueMicrotask(()=>{const Q=L(B),se=z.current,ee=(typeof se=="number"?Q[se]:se.current)||B,Ce=Qt(B,oe);!P&&!Ce&&v&&fo(ee,{preventScroll:ee===B})})},[i,v,B,P,L,z]),Sn(()=>{if(i||!B)return;let fe=!1;const oe=Zt(B),Q=ai(oe);let ee=b.current.openEvent;xh(Q);function Ce(dt){let{open:Ut,reason:Rt,event:pt,nested:$t}=dt;Ut&&(ee=pt),Rt==="escape-key"&&_.domReference.current&&xh(_.domReference.current),Rt==="hover"&&pt.type==="mouseleave"&&(re.current=!0),Rt==="outside-press"&&($t?(re.current=!1,fe=!0):re.current=!(zw(pt)||f_(pt)))}S.on("openchange",Ce);const Me=oe.createElement("span");Me.setAttribute("tabindex","-1"),Me.setAttribute("aria-hidden","true"),Object.assign(Me.style,fc),D&&R&&R.insertAdjacentElement("afterend",Me);function Ve(){return typeof W.current=="boolean"?ty()||Me:W.current.current||Me}return()=>{S.off("openchange",Ce);const dt=ai(oe),Ut=Qt(M,dt)||K&&jl(K.nodesRef.current,w).some($t=>{var nn;return Qt((nn=$t.context)==null?void 0:nn.elements.floating,dt)});(Ut||ee&&["click","mousedown"].includes(ee.type))&&_.domReference.current&&xh(_.domReference.current);const pt=Ve();queueMicrotask(()=>{W.current&&!re.current&&Ct(pt)&&(!(pt!==dt&&dt!==oe.body)||Ut)&&pt.focus({preventScroll:fe}),Me.remove()})}},[i,M,B,W,b,_,S,K,w,D,R]),E.useEffect(()=>{queueMicrotask(()=>{re.current=!1})},[i]),Sn(()=>{if(!i&&q)return q.setFocusManagerState({modal:d,closeOnFocusOut:m,open:v,onOpenChange:k,refs:_}),()=>{q.setFocusManagerState(null)}},[i,q,d,v,k,_,m]),Sn(()=>{if(i||!B||typeof MutationObserver!="function"||P)return;const fe=()=>{const Q=B.getAttribute("tabindex"),se=G(),ee=ai(Zt(M)),Ce=se.indexOf(ee);Ce!==-1&&(Z.current=Ce),X.current.includes("floating")||ee!==_.domReference.current&&se.length===0?Q!=="0"&&B.setAttribute("tabindex","0"):Q!=="-1"&&B.setAttribute("tabindex","-1")};fe();const oe=new MutationObserver(fe);return oe.observe(B,{childList:!0,subtree:!0,attributes:!0}),()=>{oe.disconnect()}},[i,M,B,_,X,G,P]);function Y(fe){return i||!g||!d?null:E.createElement(ak,{ref:fe==="start"?ae:te,onClick:oe=>k(!1,oe.nativeEvent)},typeof g=="string"?g:"Dismiss")}const xe=!i&&j&&(d?!I:!0)&&(D||d);return E.createElement(E.Fragment,null,xe&&E.createElement(Wu,{"data-type":"inside",ref:q==null?void 0:q.beforeInsideRef,onFocus:fe=>{if(d){const Q=L();fo(o[0]==="reference"?Q[0]:Q[Q.length-1])}else if(q!=null&&q.preserveTabOrder&&q.portalNode)if(re.current=!1,Dl(fe,q.portalNode)){const Q=I_()||R;Q==null||Q.focus()}else{var oe;(oe=q.beforeOutsideRef.current)==null||oe.focus()}}}),!I&&Y("start"),n,Y("end"),xe&&E.createElement(Wu,{"data-type":"inside",ref:q==null?void 0:q.afterInsideRef,onFocus:fe=>{if(d)fo(L()[0]);else if(q!=null&&q.preserveTabOrder&&q.portalNode)if(m&&(re.current=!0),Dl(fe,q.portalNode)){const Q=N_()||R;Q==null||Q.focus()}else{var oe;(oe=q.afterOutsideRef.current)==null||oe.focus()}}}))}function ny(e){return Ct(e.target)&&e.target.tagName==="BUTTON"}function ry(e){return Md(e)}function ck(e,t){t===void 0&&(t={});const{open:n,onOpenChange:i,dataRef:o,elements:{domReference:l}}=e,{enabled:a=!0,event:c="click",toggle:h=!0,ignoreMouse:d=!1,keyboardHandlers:g=!0,stickIfOpen:m=!0}=t,v=E.useRef(),_=E.useRef(!1),w=E.useMemo(()=>({onPointerDown(k){v.current=k.pointerType},onMouseDown(k){const S=v.current;k.button===0&&c!=="click"&&(Ul(S,!0)&&d||(n&&h&&(!(o.current.openEvent&&m)||o.current.openEvent.type==="mousedown")?i(!1,k.nativeEvent,"click"):(k.preventDefault(),i(!0,k.nativeEvent,"click"))))},onClick(k){const S=v.current;if(c==="mousedown"&&v.current){v.current=void 0;return}Ul(S,!0)&&d||(n&&h&&(!(o.current.openEvent&&m)||o.current.openEvent.type==="click")?i(!1,k.nativeEvent,"click"):i(!0,k.nativeEvent,"click"))},onKeyDown(k){v.current=void 0,!(k.defaultPrevented||!g||ny(k))&&(k.key===" "&&!ry(l)&&(k.preventDefault(),_.current=!0),k.key==="Enter"&&i(!(n&&h),k.nativeEvent,"click"))},onKeyUp(k){k.defaultPrevented||!g||ny(k)||ry(l)||k.key===" "&&_.current&&(_.current=!1,i(!(n&&h),k.nativeEvent,"click"))}}),[o,l,c,d,g,i,n,m,h]);return E.useMemo(()=>a?{reference:w}:{},[a,w])}const fk={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},hk={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},iy=e=>{var t,n;return{escapeKey:typeof e=="boolean"?e:(t=e==null?void 0:e.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(n=e==null?void 0:e.outsidePress)!=null?n:!0}};function B_(e,t){t===void 0&&(t={});const{open:n,onOpenChange:i,elements:o,dataRef:l}=e,{enabled:a=!0,escapeKey:c=!0,outsidePress:h=!0,outsidePressEvent:d="pointerdown",referencePress:g=!1,referencePressEvent:m="pointerdown",ancestorScroll:v=!1,bubbles:_,capture:w}=t,k=cc(),S=_r(typeof h=="function"?h:()=>!1),b=typeof h=="function"?S:h,x=E.useRef(!1),R=E.useRef(!1),{escapeKey:M,outsidePress:P}=iy(_),{escapeKey:I,outsidePress:j}=iy(w),X=E.useRef(!1),z=_r(re=>{var ue;if(!n||!a||!c||re.key!=="Escape"||X.current)return;const Z=(ue=l.current.floatingContext)==null?void 0:ue.nodeId,D=k?jl(k.nodesRef.current,Z):[];if(!M&&(re.stopPropagation(),D.length>0)){let B=!0;if(D.forEach(G=>{var L;if((L=G.context)!=null&&L.open&&!G.context.dataRef.current.__escapeKeyBubbles){B=!1;return}}),!B)return}i(!1,$w(re)?re.nativeEvent:re,"escape-key")}),W=_r(re=>{var ue;const Z=()=>{var D;z(re),(D=Bi(re))==null||D.removeEventListener("keydown",Z)};(ue=Bi(re))==null||ue.addEventListener("keydown",Z)}),K=_r(re=>{var ue;const Z=x.current;x.current=!1;const D=R.current;if(R.current=!1,d==="click"&&D||Z||typeof b=="function"&&!b(re))return;const B=Bi(re),G="["+Ps("inert")+"]",L=Zt(o.floating).querySelectorAll(G);let Y=qe(B)?B:null;for(;Y&&!Yi(Y);){const Q=hi(Y);if(Yi(Q)||!qe(Q))break;Y=Q}if(L.length&&qe(B)&&!Vw(B)&&!Qt(B,o.floating)&&Array.from(L).every(Q=>!Qt(Y,Q)))return;if(Ct(B)&&te){const Q=B.clientWidth>0&&B.scrollWidth>B.clientWidth,se=B.clientHeight>0&&B.scrollHeight>B.clientHeight;let ee=se&&re.offsetX>B.clientWidth;if(se&&lr(B).direction==="rtl"&&(ee=re.offsetX<=B.offsetWidth-B.clientWidth),ee||Q&&re.offsetY>B.clientHeight)return}const xe=(ue=l.current.floatingContext)==null?void 0:ue.nodeId,fe=k&&jl(k.nodesRef.current,xe).some(Q=>{var se;return ph(re,(se=Q.context)==null?void 0:se.elements.floating)});if(ph(re,o.floating)||ph(re,o.domReference)||fe)return;const oe=k?jl(k.nodesRef.current,xe):[];if(oe.length>0){let Q=!0;if(oe.forEach(se=>{var ee;if((ee=se.context)!=null&&ee.open&&!se.context.dataRef.current.__outsidePressBubbles){Q=!1;return}}),!Q)return}i(!1,re,"outside-press")}),q=_r(re=>{var ue;const Z=()=>{var D;K(re),(D=Bi(re))==null||D.removeEventListener(d,Z)};(ue=Bi(re))==null||ue.addEventListener(d,Z)});E.useEffect(()=>{if(!n||!a)return;l.current.__escapeKeyBubbles=M,l.current.__outsidePressBubbles=P;let re=-1;function ue(L){i(!1,L,"ancestor-scroll")}function Z(){window.clearTimeout(re),X.current=!0}function D(){re=window.setTimeout(()=>{X.current=!1},ic()?5:0)}const B=Zt(o.floating);c&&(B.addEventListener("keydown",I?W:z,I),B.addEventListener("compositionstart",Z),B.addEventListener("compositionend",D)),b&&B.addEventListener(d,j?q:K,j);let G=[];return v&&(qe(o.domReference)&&(G=Hi(o.domReference)),qe(o.floating)&&(G=G.concat(Hi(o.floating))),!qe(o.reference)&&o.reference&&o.reference.contextElement&&(G=G.concat(Hi(o.reference.contextElement)))),G=G.filter(L=>{var Y;return L!==((Y=B.defaultView)==null?void 0:Y.visualViewport)}),G.forEach(L=>{L.addEventListener("scroll",ue,{passive:!0})}),()=>{c&&(B.removeEventListener("keydown",I?W:z,I),B.removeEventListener("compositionstart",Z),B.removeEventListener("compositionend",D)),b&&B.removeEventListener(d,j?q:K,j),G.forEach(L=>{L.removeEventListener("scroll",ue)}),window.clearTimeout(re)}},[l,o,c,b,d,n,i,v,a,M,P,z,I,W,K,j,q]),E.useEffect(()=>{x.current=!1},[b,d]);const ae=E.useMemo(()=>({onKeyDown:z,[fk[m]]:re=>{g&&i(!1,re.nativeEvent,"reference-press")}}),[z,i,g,m]),te=E.useMemo(()=>({onKeyDown:z,onMouseDown(){R.current=!0},onMouseUp(){R.current=!0},[hk[d]]:()=>{x.current=!0}}),[z,d]);return E.useMemo(()=>a?{reference:ae,floating:te}:{},[a,ae,te])}function dk(e){const{open:t=!1,onOpenChange:n,elements:i}=e,o=ql(),l=E.useRef({}),[a]=E.useState(()=>q2()),c=Ld()!=null,[h,d]=E.useState(i.reference),g=_r((_,w,k)=>{l.current.openEvent=_?w:void 0,a.emit("openchange",{open:_,event:w,reason:k,nested:c}),n==null||n(_,w,k)}),m=E.useMemo(()=>({setPositionReference:d}),[]),v=E.useMemo(()=>({reference:h||i.reference||null,floating:i.floating||null,domReference:i.reference}),[h,i.reference,i.floating]);return E.useMemo(()=>({dataRef:l,open:t,onOpenChange:g,elements:v,events:a,floatingId:o,refs:m}),[t,g,v,a,o,m])}function U_(e){e===void 0&&(e={});const{nodeId:t}=e,n=dk({...e,elements:{reference:null,floating:null,...e.elements}}),i=e.rootContext||n,o=i.elements,[l,a]=E.useState(null),[c,h]=E.useState(null),g=(o==null?void 0:o.domReference)||l,m=E.useRef(null),v=cc();Sn(()=>{g&&(m.current=g)},[g]);const _=V2({...e,elements:{...o,...c&&{reference:c}}}),w=E.useCallback(R=>{const M=qe(R)?{getBoundingClientRect:()=>R.getBoundingClientRect(),contextElement:R}:R;h(M),_.refs.setReference(M)},[_.refs]),k=E.useCallback(R=>{(qe(R)||R===null)&&(m.current=R,a(R)),(qe(_.refs.reference.current)||_.refs.reference.current===null||R!==null&&!qe(R))&&_.refs.setReference(R)},[_.refs]),S=E.useMemo(()=>({..._.refs,setReference:k,setPositionReference:w,domReference:m}),[_.refs,k,w]),b=E.useMemo(()=>({..._.elements,domReference:g}),[_.elements,g]),x=E.useMemo(()=>({..._,...i,refs:S,elements:b,nodeId:t}),[_,S,b,t,i]);return Sn(()=>{i.dataRef.current.floatingContext=x;const R=v==null?void 0:v.nodesRef.current.find(M=>M.id===t);R&&(R.context=x)}),E.useMemo(()=>({..._,context:x,refs:S,elements:b}),[_,S,b,x])}function pk(e,t){t===void 0&&(t={});const{open:n,onOpenChange:i,events:o,dataRef:l,elements:a}=e,{enabled:c=!0,visibleOnly:h=!0}=t,d=E.useRef(!1),g=E.useRef(),m=E.useRef(!0);E.useEffect(()=>{if(!c)return;const _=Cn(a.domReference);function w(){!n&&Ct(a.domReference)&&a.domReference===ai(Zt(a.domReference))&&(d.current=!0)}function k(){m.current=!0}return _.addEventListener("blur",w),_.addEventListener("keydown",k,!0),()=>{_.removeEventListener("blur",w),_.removeEventListener("keydown",k,!0)}},[a.domReference,n,c]),E.useEffect(()=>{if(!c)return;function _(w){let{reason:k}=w;(k==="reference-press"||k==="escape-key")&&(d.current=!0)}return o.on("openchange",_),()=>{o.off("openchange",_)}},[o,c]),E.useEffect(()=>()=>{clearTimeout(g.current)},[]);const v=E.useMemo(()=>({onPointerDown(_){f_(_.nativeEvent)||(m.current=!1)},onMouseLeave(){d.current=!1},onFocus(_){if(d.current)return;const w=Bi(_.nativeEvent);if(h&&qe(w))try{if(h_()&&Bw())throw Error();if(!w.matches(":focus-visible"))return}catch{if(!m.current&&!Md(w))return}i(!0,_.nativeEvent,"focus")},onBlur(_){d.current=!1;const w=_.relatedTarget,k=_.nativeEvent,S=qe(w)&&w.hasAttribute(Ps("focus-guard"))&&w.getAttribute("data-type")==="outside";g.current=window.setTimeout(()=>{var b;const x=ai(a.domReference?a.domReference.ownerDocument:document);!w&&x===a.domReference||Qt((b=l.current.floatingContext)==null?void 0:b.refs.floating.current,x)||Qt(a.domReference,x)||S||i(!1,k,"focus")})}}),[l,a.domReference,i,h]);return E.useMemo(()=>c?{reference:v}:{},[c,v])}const sy="active",oy="selected";function wh(e,t,n){const i=new Map,o=n==="item";let l=e;if(o&&e){const{[sy]:a,[oy]:c,...h}=e;l=h}return{...n==="floating"&&{tabIndex:-1,[Qh]:""},...l,...t.map(a=>{const c=a?a[n]:null;return typeof c=="function"?e?c(e):null:c}).concat(e).reduce((a,c)=>(c&&Object.entries(c).forEach(h=>{let[d,g]=h;if(!(o&&[sy,oy].includes(d)))if(d.indexOf("on")===0){if(i.has(d)||i.set(d,[]),typeof g=="function"){var m;(m=i.get(d))==null||m.push(g),a[d]=function(){for(var v,_=arguments.length,w=new Array(_),k=0;k<_;k++)w[k]=arguments[k];return(v=i.get(d))==null?void 0:v.map(S=>S(...w)).find(S=>S!==void 0)}}}else a[d]=g}),a),{})}}function $_(e){e===void 0&&(e=[]);const t=e.map(c=>c==null?void 0:c.reference),n=e.map(c=>c==null?void 0:c.floating),i=e.map(c=>c==null?void 0:c.item),o=E.useCallback(c=>wh(c,e,"reference"),t),l=E.useCallback(c=>wh(c,e,"floating"),n),a=E.useCallback(c=>wh(c,e,"item"),i);return E.useMemo(()=>({getReferenceProps:o,getFloatingProps:l,getItemProps:a}),[o,l,a])}const gk=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function V_(e,t){var n;t===void 0&&(t={});const{open:i,floatingId:o}=e,{enabled:l=!0,role:a="dialog"}=t,c=(n=gk.get(a))!=null?n:a,h=ql(),g=Ld()!=null,m=E.useMemo(()=>c==="tooltip"||a==="label"?{["aria-"+(a==="label"?"labelledby":"describedby")]:i?o:void 0}:{"aria-expanded":i?"true":"false","aria-haspopup":c==="alertdialog"?"dialog":c,"aria-controls":i?o:void 0,...c==="listbox"&&{role:"combobox"},...c==="menu"&&{id:h},...c==="menu"&&g&&{role:"menuitem"},...a==="select"&&{"aria-autocomplete":"none"},...a==="combobox"&&{"aria-autocomplete":"list"}},[c,o,g,i,h,a]),v=E.useMemo(()=>{const w={id:o,...c&&{role:c}};return c==="tooltip"||a==="label"?w:{...w,...c==="menu"&&{"aria-labelledby":h}}},[c,o,h,a]),_=E.useCallback(w=>{let{active:k,selected:S}=w;const b={role:"option",...k&&{id:o+"-option"}};switch(a){case"select":return{...b,"aria-selected":k&&S};case"combobox":return{...b,...k&&{"aria-selected":!0}}}return{}},[o,a]);return E.useMemo(()=>l?{reference:m,floating:v,item:_}:{},[l,m,v,_])}function mk({initialOpen:e=!1,placement:t="top",open:n,onOpenChange:i}={}){const[o,l]=E.useState(e),a=n??o,c=i??l,h=U_({placement:t,open:a,onOpenChange:c,whileElementsMounted:R_,middleware:[M_(5),A_({crossAxis:t.includes("-"),fallbackAxisSideDirection:"start",padding:5}),P_({padding:5})]}),d=h.context,g=Z2(d,{move:!1,enabled:n==null,delay:{open:1e3,close:0}}),m=pk(d,{enabled:n==null}),v=B_(d),_=V_(d,{role:"tooltip"}),w=$_([g,m,v,_]);return E.useMemo(()=>({open:a,setOpen:c,...w,...h}),[a,c,w,h])}const H_=E.createContext(null),W_=()=>{const e=E.useContext(H_);if(e==null)throw new Error("Tooltip components must be wrapped in <Tooltip />");return e};function yk({children:e,...t}){const n=mk(t);return A.jsx(H_.Provider,{value:n,children:e})}const _k=E.forwardRef(function({children:t,asChild:n=!1,...i},o){const l=W_(),a=t.ref,c=uc([l.refs.setReference,o,a]);return n&&E.isValidElement(t)?E.cloneElement(t,l.getReferenceProps({ref:c,...i,...t.props,"data-state":l.open?"open":"closed"})):A.jsx("div",{ref:c,"data-state":l.open?"open":"closed",...l.getReferenceProps(i),children:t})}),vk=E.forwardRef(function({style:t,...n},i){const o=W_(),l=uc([o.refs.setFloating,i]);return o.open?A.jsx(D_,{children:A.jsx("div",{ref:l,style:{...o.floatingStyles,...t},...o.getFloatingProps(n)})}):null}),Ot=({children:e,tooltip:t,...n})=>E.isValidElement(e)?A.jsxs(yk,{children:[A.jsx(_k,{children:E.cloneElement(e,n)}),A.jsx(vk,{className:"py-1 px-2 bg-default-2 border border-default-1 text-white rounded text-xs font-normal max-w-sm",children:t})]}):(console.error("WithTooltip expects a single element as a child."),null),xk=()=>A.jsx("div",{className:"absolute bottom-0 left-0 h-14 min-h-14 right-0 md:right-auto md:top-0  md:h-auto md:w-14",children:A.jsxs("div",{className:"h-full bg-default-2 border-t md:border-r md:border-t-0 border-default-1 flex md:flex-col justify-center md:justify-start items-center gap-4 py-2 md:pt-4",children:[A.jsx(Ot,{tooltip:"Hand tool [H]",children:A.jsx(si,{value:"hand",children:A.jsx(ww,{stroke:1})})}),A.jsx(Ot,{tooltip:"Pointer tool [P]",children:A.jsx(si,{value:"pointer",children:A.jsx(Sw,{stroke:1})})}),A.jsx(Ot,{tooltip:"Eraser tool [E]",children:A.jsx(si,{value:"eraser",children:A.jsx(_w,{stroke:1})})}),A.jsx(Ot,{tooltip:"Brush tool [B]",children:A.jsx(si,{value:"brush",children:A.jsx(Ed,{stroke:1})})}),A.jsx(Ot,{tooltip:"Rectangle tool [R]",children:A.jsx(si,{value:"square",children:A.jsx(s_,{stroke:1})})}),A.jsx(Ot,{tooltip:"Line tool [L]",children:A.jsx(si,{value:"line",children:A.jsx(Rd,{stroke:1})})}),A.jsx(Ot,{tooltip:"Arrow tool [A]",children:A.jsx(si,{value:"arrow",children:A.jsx(r_,{stroke:1})})}),A.jsx(Ot,{tooltip:"Text tool [T]",children:A.jsx(si,{value:"text",children:A.jsx(Cd,{stroke:1})})}),A.jsx(Ot,{tooltip:"Zoom tool [Z]",children:A.jsx(si,{value:"zoom",children:A.jsx(Nw,{stroke:1})})})]})}),si=({value:e,children:t})=>{let n=wt(a=>a.selectedTool);const i=wt(a=>a.restoreTool);i&&(n=i);const o=wt(a=>a.setSelectedTool),l=n===e;return A.jsx("button",{type:"button",className:`p-1 rounded  ${l?"bg-primary":"hover:bg-default-3"}`,onClick:()=>o(e),children:t})};function Y_(e,t){let n=0,i=null;return function(...o){const l=Date.now();l-n>=t?(n=l,e.apply(this,o)):(i&&clearTimeout(i),i=setTimeout(()=>{n=Date.now(),e.apply(this,o)},t-(l-n)))}}const Zh="Sketch: ",X_=e=>`${Zh}${e}`;function wk(e){const t=localStorage.getItem(X_(e));if(t)try{return JSON.parse(t)}catch(n){return console.error("Failed to parse localStorage item",n),null}return null}function kk(e,t){try{const n=JSON.stringify(t);localStorage.setItem(X_(e),n)}catch(n){console.error("Failed to stringify or set localStorage item",n)}}function bk(){const e=[];for(let t=0;t<localStorage.length;t++){const n=localStorage.key(t);n&&n.startsWith(Zh)&&e.push(n.substring(Zh.length))}return e}var K_=Object.defineProperty,Sk=Object.defineProperties,Ek=Object.getOwnPropertyDescriptors,ly=Object.getOwnPropertySymbols,Ck=Object.prototype.hasOwnProperty,Rk=Object.prototype.propertyIsEnumerable,Jh=(e,t,n)=>t in e?K_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Fd=(e,t)=>{for(var n in t||(t={}))Ck.call(t,n)&&Jh(e,n,t[n]);if(ly)for(var n of ly(t))Rk.call(t,n)&&Jh(e,n,t[n]);return e},Id=(e,t)=>Sk(e,Ek(t)),q_=(e,t)=>{for(var n in t)K_(e,n,{get:t[n],enumerable:!0})},T=(e,t,n)=>(Jh(e,typeof t!="symbol"?t+"":t,n),n),G_=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},wn=(e,t,n)=>(G_(e,t,"read from private field"),n?n.call(e):t.get(e)),Q_=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Tk=(e,t,n,i)=>(G_(e,t,"write to private field"),t.set(e,n),n),an={Image:null,isHeadless:!1,shim:function(e,t){return e.tagName=e.nodeName=t||"canvas",e.nodeType=1,e.getAttribute=function(n){return this[n]},e.setAttribute=function(n,i){return this[n]=i,this},e},polyfill:function(e,t){return an.shim(e),typeof t<"u"&&(an.Image=t),an.isHeadless=!0,e}},Z_={};q_(Z_,{Curve:()=>Oo,getAnchorsFromArcData:()=>Ak,getComponentOnCubicBezier:()=>Vl,getControlPoints:()=>av,getCurveBoundingBox:()=>sv,getCurveFromPoints:()=>lv,getCurveLength:()=>iv,getReflection:()=>ed,integrate:()=>ov,subdivide:()=>Nd});var J_={};q_(J_,{HALF_PI:()=>Et,NumArray:()=>Ir,TWO_PI:()=>Jt,decomposeMatrix:()=>Ao,getComputedMatrix:()=>nv,getPoT:()=>rv,lerp:()=>zn,mod:()=>Vn,setMatrix:()=>tv,toFixed:()=>$e});var ut;typeof window<"u"?ut=window:typeof global<"u"?ut=global:typeof self<"u"&&(ut=self);var ev,Jt=Math.PI*2,Et=Math.PI*.5;function Ao(e,t,n,i,o,l){let a;return arguments.length<=1?(a=e.a,t=e.b,n=e.c,i=e.d,o=e.e,l=e.f):a=e,{translateX:o,translateY:l,scaleX:Math.sqrt(a*a+t*t),scaleY:Math.sqrt(n*n+i*i),rotation:180*Math.atan2(t,a)/Math.PI}}function tv(e){ev=e}function nv(e,t){t=t&&t.identity()||new ev;let n=e;const i=[];for(;n&&n._matrix;)i.push(n._matrix),n=n.parent;i.reverse();for(let o=0;o<i.length;o++){const a=i[o].elements;t.multiply(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9])}return t}function zn(e,t,n){return n*(t-e)+e}var kh=[2,4,8,16,32,64,128,256,512,1024,2048,4096];function rv(e){let t=0;for(;kh[t]&&kh[t]<e;)t++;return kh[t]}function Vn(e,t){for(;e<0;)e+=t;return e%t}var Ir=ut.Float32Array||Array,Mk=Math.floor;function $e(e){return Mk(e*1e6)/1e6}var de={move:"M",line:"L",curve:"C",arc:"A",close:"Z"},J=class{constructor(){T(this,"_events",{}),T(this,"_bound",!1)}addEventListener(t,n){return(this._events[t]||(this._events[t]=[])).push(n),this._bound=!0,this}on(){return this.addEventListener.apply(this,arguments)}bind(){return this.addEventListener.apply(this,arguments)}removeEventListener(t,n){if(!this._events)return this;if(!t&&!n)return this._events={},this._bound=!1,this;const i=t?[t]:Object.keys(this._events);for(let o=0,l=i.length;o<l;o++){t=i[o];let a=this._events[t];if(a){let c=[];if(n)for(let h=0,d=a.length;h<d;h++){let g=a[h];g=g.handler?g.handler:g,n!==g&&c.push(g)}this._events[t]=c}}return this}off(){return this.removeEventListener.apply(this,arguments)}unbind(){return this.removeEventListener.apply(this,arguments)}dispatchEvent(t){if(!this._events)return this;const n=Array.prototype.slice.call(arguments,1),i=this._events[t];if(i)for(let o=0;o<i.length;o++)i[o].call(this,...n);return this}trigger(){return this.dispatchEvent.apply(this,arguments)}listen(t,n,i){const o=this;t&&(l.obj=t,l.name=n,l.handler=i,t.on(n,l));function l(){i.apply(o,arguments)}return o}ignore(t,n,i){return t.off(n,i),this}};T(J,"Types",{play:"play",pause:"pause",update:"update",render:"render",resize:"resize",change:"change",remove:"remove",insert:"insert",order:"order",load:"load"});T(J,"Methods",["addEventListener","on","removeEventListener","off","unbind","dispatchEvent","trigger","listen","ignore"]);var ay={x:{enumerable:!0,get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this._bound&&this.dispatchEvent(J.Types.change))}},y:{enumerable:!0,get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this._bound&&this.dispatchEvent(J.Types.change))}}},vr=class extends J{constructor(e=0,t=0){super(),T(this,"_x",0),T(this,"_y",0);for(let n in ay)Object.defineProperty(this,n,ay[n]);this.x=e,this.y=t}static add(e,t){return new vr(e.x+t.x,e.y+t.y)}static sub(e,t){return new vr(e.x-t.x,e.y-t.y)}static subtract(e,t){return vr.sub(e,t)}static ratioBetween(e,t){return(e.x*t.x+e.y*t.y)/(e.length()*t.length())}static angleBetween(e,t){if(arguments.length>=4){const o=arguments[0]-arguments[2],l=arguments[1]-arguments[3];return Math.atan2(l,o)}const n=e.x-t.x,i=e.y-t.y;return Math.atan2(i,n)}static distanceBetween(e,t){return Math.sqrt(vr.distanceBetweenSquared(e,t))}static distanceBetweenSquared(e,t){const n=e.x-t.x,i=e.y-t.y;return n*n+i*i}set(e,t){return this.x=e,this.y=t,this}copy(e){return this.x=e.x,this.y=e.y,this}clear(){return this.x=0,this.y=0,this}clone(){return new vr(this.x,this.y)}add(e,t){return arguments.length<=0?this:(arguments.length<=1?typeof e=="number"?(this.x+=e,this.y+=e):e&&typeof e.x=="number"&&typeof e.y=="number"&&(this.x+=e.x,this.y+=e.y):(this.x+=e,this.y+=t),this)}addSelf(e){return this.add.apply(this,arguments)}sub(e,t){return arguments.length<=0?this:(arguments.length<=1?typeof e=="number"?(this.x-=e,this.y-=e):e&&typeof e.x=="number"&&typeof e.y=="number"&&(this.x-=e.x,this.y-=e.y):(this.x-=e,this.y-=t),this)}subtract(){return this.sub.apply(this,arguments)}subSelf(e){return this.sub.apply(this,arguments)}subtractSelf(e){return this.sub.apply(this,arguments)}multiply(e,t){return arguments.length<=0?this:(arguments.length<=1?typeof e=="number"?(this.x*=e,this.y*=e):e&&typeof e.x=="number"&&typeof e.y=="number"&&(this.x*=e.x,this.y*=e.y):(this.x*=e,this.y*=t),this)}multiplySelf(e){return this.multiply.apply(this,arguments)}multiplyScalar(e){return this.multiply(e)}divide(e,t){return arguments.length<=0?this:(arguments.length<=1?typeof e=="number"?(this.x/=e,this.y/=e):e&&typeof e.x=="number"&&typeof e.y=="number"&&(this.x/=e.x,this.y/=e.y):(this.x/=e,this.y/=t),isNaN(this.x)&&(this.x=0),isNaN(this.y)&&(this.y=0),this)}divideSelf(e){return this.divide.apply(this,arguments)}divideScalar(e){return this.divide(e)}negate(){return this.multiply(-1)}dot(e){return this.x*e.x+this.y*e.y}length(){return Math.sqrt(this.lengthSquared())}lengthSquared(){return this.x*this.x+this.y*this.y}normalize(){return this.divideScalar(this.length())}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}setLength(e){return this.normalize().multiplyScalar(e)}equals(e,t){return t=typeof t>"u"?1e-4:t,this.distanceTo(e)<t}lerp(e,t){const n=(e.x-this.x)*t+this.x,i=(e.y-this.y)*t+this.y;return this.set(n,i)}isZero(e){return e=typeof e>"u"?1e-4:e,this.length()<e}toString(){return this.x+", "+this.y}toObject(){return{x:$e(this.x),y:$e(this.y)}}rotate(e){const t=this.x,n=this.y,i=Math.cos(e),o=Math.sin(e);return this.x=t*i-n*o,this.y=t*o+n*i,this}},ce=vr;T(ce,"zero",new vr);T(ce,"left",new vr(-1,0));T(ce,"right",new vr(1,0));T(ce,"up",new vr(0,-1));T(ce,"down",new vr(0,1));var Le=class extends ce{constructor(t=0,n=0,i=0,o=0,l=0,a=0,c=de.move){super(t,n),T(this,"controls",{left:new ce,right:new ce}),T(this,"_command",de.move),T(this,"_relative",!0),T(this,"_rx",0),T(this,"_ry",0),T(this,"_xAxisRotation",0),T(this,"_largeArcFlag",0),T(this,"_sweepFlag",1);for(let d in uy)Object.defineProperty(this,d,uy[d]);this.command=c,this.relative=!0;const h=Le.makeBroadcast(this);this.controls.left.set(i,o).addEventListener(J.Types.change,h),this.controls.right.set(l,a).addEventListener(J.Types.change,h)}static makeBroadcast(t){return n;function n(){t._bound&&t.dispatchEvent(J.Types.change)}}static fromObject(t){return new Le().copy(t)}copy(t){return this.x=t.x,this.y=t.y,typeof t.command=="string"&&(this.command=t.command),t.controls&&(t.controls.left&&this.controls.left.copy(t.controls.left),t.controls.right&&this.controls.right.copy(t.controls.right)),typeof t.relative=="boolean"&&(this.relative=t.relative),typeof t.rx=="number"&&(this.rx=t.rx),typeof t.ry=="number"&&(this.ry=t.ry),typeof t.xAxisRotation=="number"&&(this.xAxisRotation=t.xAxisRotation),typeof t.largeArcFlag=="number"&&(this.largeArcFlag=t.largeArcFlag),typeof t.sweepFlag=="number"&&(this.sweepFlag=t.sweepFlag),this}clone(){return new Le().copy(this)}toObject(){return{x:$e(this.x),y:$e(this.y),command:this.command,relative:this.relative,controls:{left:this.controls.left.toObject(),right:this.controls.right.toObject()},rx:$e(this.rx),ry:$e(this.ry),xAxisRotation:$e(this.xAxisRotation),largeArcFlag:$e(this.largeArcFlag),sweepFlag:$e(this.sweepFlag)}}toString(){return JSON.stringify(this.toObject())}},uy={command:{enumerable:!0,get:function(){return this._command},set:function(e){this._command!==e&&(this._command=e,this._bound&&this.dispatchEvent(J.Types.change))}},relative:{enumerable:!0,get:function(){return this._relative},set:function(e){this._relative!==!!e&&(this._relative=!!e,this._bound&&this.dispatchEvent(J.Types.change))}},rx:{enumerable:!0,get:function(){return this._rx},set:function(e){this._rx!==e&&(this._rx=e,this._bound&&this.dispatchEvent(J.Types.change))}},ry:{enumerable:!0,get:function(){return this._ry},set:function(e){this._ry!==e&&(this._ry=e,this._bound&&this.dispatchEvent(J.Types.change))}},xAxisRotation:{enumerable:!0,get:function(){return this._xAxisRotation},set:function(e){this._xAxisRotation!==e&&(this._xAxisRotation=e,this._bound&&this.dispatchEvent(J.Types.change))}},largeArcFlag:{enumerable:!0,get:function(){return this._largeArcFlag},set:function(e){this._largeArcFlag!==e&&(this._largeArcFlag=e,this._bound&&this.dispatchEvent(J.Types.change))}},sweepFlag:{get:function(){return this._sweepFlag},set:function(e){this._sweepFlag!==e&&(this._sweepFlag=e,this._bound&&this.dispatchEvent(J.Types.change))}}},Pk=0,fn={nextFrameID:null,Types:{webgl:"WebGLRenderer",svg:"SVGRenderer",canvas:"CanvasRenderer"},Version:"v0.8.15",PublishDate:"2025-01-01T01:30:08.872Z",Identifier:"two-",Resolution:12,AutoCalculateImportedMatrices:!0,Instances:[],uniqueId:function(){return Pk++}},Oo={CollinearityEpsilon:Math.pow(10,-30),RecursionLimit:16,CuspLimit:0,Tolerance:{distance:.25,angle:0,epsilon:Number.EPSILON},abscissas:[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],weights:[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]]};function Vl(e,t,n,i,o){const l=1-e;return l*l*l*t+3*l*l*e*n+3*l*e*e*i+e*e*e*o}function Nd(e,t,n,i,o,l,a,c,h){h=h||Oo.RecursionLimit;const d=h+1;if(Math.abs(e-a)<.001&&Math.abs(t-c)<.001)return[new Le(a,c)];const g=[];for(let m=0;m<d;m++){const v=m/d,_=Vl(v,e,n,o,a),w=Vl(v,t,i,l,c);g.push(new Le(_,w))}return g}function iv(e,t,n,i,o,l,a,c,h){if(e===n&&t===i&&o===a&&l===c){const S=a-e,b=c-t;return Math.sqrt(S*S+b*b)}const d=9*(n-o)+3*(a-e),g=6*(e+o)-12*n,m=3*(n-e),v=9*(i-l)+3*(c-t),_=6*(t+l)-12*i,w=3*(i-t);function k(S){const b=(d*S+g)*S+m,x=(v*S+_)*S+w;return Math.sqrt(b*b+x*x)}return ov(k,0,1,h||Oo.RecursionLimit)}function sv(e,t,n,i,o,l,a,c){const h=[],d=[[],[]];let g,m,v,_,w,k,S,b;for(let P=0;P<2;++P){if(P==0?(m=6*e-12*n+6*o,g=-3*e+9*n-9*o+3*a,v=3*n-3*e):(m=6*t-12*i+6*l,g=-3*t+9*i-9*l+3*c,v=3*i-3*t),Math.abs(g)<1e-12){if(Math.abs(m)<1e-12)continue;_=-v/m,0<_&&_<1&&h.push(_);continue}S=m*m-4*v*g,b=Math.sqrt(S),!(S<0)&&(w=(-m+b)/(2*g),0<w&&w<1&&h.push(w),k=(-m-b)/(2*g),0<k&&k<1&&h.push(k))}let x=h.length,R=x,M;for(;x--;)_=h[x],M=1-_,d[0][x]=M*M*M*e+3*M*M*_*n+3*M*_*_*o+_*_*_*a,d[1][x]=M*M*M*t+3*M*M*_*i+3*M*_*_*l+_*_*_*c;return d[0][R]=e,d[1][R]=t,d[0][R+1]=a,d[1][R+1]=c,d[0].length=d[1].length=R+2,{min:{x:Math.min.apply(0,d[0]),y:Math.min.apply(0,d[1])},max:{x:Math.max.apply(0,d[0]),y:Math.max.apply(0,d[1])}}}function ov(e,t,n,i){let o=Oo.abscissas[i-2],l=Oo.weights[i-2],a=.5*(n-t),c=a+t,h=0,d=i+1>>1,g=i&1?l[h++]*e(c):0;for(;h<d;){const m=a*o[h];g+=l[h++]*(e(c+m)+e(c-m))}return a*g}function lv(e,t){const n=e.length,i=n-1;for(let o=0;o<n;o++){const l=e[o],a=t?Vn(o-1,n):Math.max(o-1,0),c=t?Vn(o+1,n):Math.min(o+1,i),h=e[a],d=l,g=e[c];av(h,d,g),d.command=o===0?de.move:de.curve}}function av(e,t,n){const i=ce.angleBetween(e,t),o=ce.angleBetween(n,t);let l=ce.distanceBetween(e,t),a=ce.distanceBetween(n,t),c=(i+o)/2;return l<1e-4||a<1e-4?(typeof t.relative=="boolean"&&!t.relative&&(t.controls.left.copy(t),t.controls.right.copy(t)),t):(l*=.33,a*=.33,o<i?c+=Et:c-=Et,t.controls.left.x=Math.cos(c)*l,t.controls.left.y=Math.sin(c)*l,c-=Math.PI,t.controls.right.x=Math.cos(c)*a,t.controls.right.y=Math.sin(c)*a,typeof t.relative=="boolean"&&!t.relative&&(t.controls.left.x+=t.x,t.controls.left.y+=t.y,t.controls.right.x+=t.x,t.controls.right.y+=t.y),t)}function ed(e,t,n){return new ce(2*e.x-(t.x+e.x)-(n?e.x:0),2*e.y-(t.y+e.y)-(n?e.y:0))}function Ak(e,t,n,i,o,l,a){const c=fn.Resolution;for(let h=0;h<c;h++){let d=(h+1)/c;a&&(d=1-d);const g=d*l+o,m=n*Math.cos(g),v=i*Math.sin(g),_=new Le(m,v);_.command=de.line}}var cy=Array.prototype.slice;function Ok(e){if(e==null)return!1;const t=e.length;return typeof t=="number"&&t>=0&&t<4294967296}var be={isNaN:function(e){return typeof e=="number"&&e!==+e},isElement:function(e){return!!(e&&e.nodeType===1)},isObject:function(e){const t=typeof e;return t==="function"||t==="object"&&!!e},extend:function(e){const t=cy.call(arguments,1);for(let n=0;n<t.length;n++){const i=t[n];for(let o in i)e[o]=i[o]}return e},defaults:function(e){const t=cy.call(arguments,1);for(let n=0;n<t.length;n++){const i=t[n];for(let o in i)e[o]===void 0&&(e[o]=i[o])}return e},each:function(e,t,n){const i=n||this,o=!Ok(e)&&Object.keys(e),l=(o||e).length;for(let a=0;a<l;a++){const c=o?o[a]:a;t.call(i,e[c],c,e)}return e},performance:ut.performance&&ut.performance.now?ut.performance:Date},Bn={hasEventListeners:typeof ut.addEventListener=="function",bind:function(e,t,n,i){return this.hasEventListeners?e.addEventListener(t,n,!!i):e.attachEvent("on"+t,n),Bn},unbind:function(e,t,n,i){return Bn.hasEventListeners?e.removeEventListeners(t,n,!!i):e.detachEvent("on"+t,n),Bn},getRequestAnimationFrame:function(){const e=["ms","moz","webkit","o"];let t=0,n=ut.requestAnimationFrame;if(!n){for(let o=0;o<e.length;o++)n=ut[e[o]+"RequestAnimationFrame"]||n;n=n||i}function i(o,l){const a=new Date().getTime(),c=Math.max(0,16-(a-t)),h=ut.setTimeout(d,c);t=a+c;function d(){o(a+c)}return h}return n}},ko=ut.document?ut.document.createElement("div"):{};ko.id="help-two-load";Object.defineProperty(Bn,"temp",{enumerable:!0,get:function(){return be.isElement(ko)&&!ut.document.head.contains(ko)&&(ko.style.display="none",ut.document.head.appendChild(ko)),ko}});var $n=class extends Error{constructor(t){super(),T(this,"name","Two.js"),T(this,"message"),this.message=t}},Lk=ut.devicePixelRatio||1;function Fk(e){return e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1}function jd(e){return Lk/Fk(e)}var hc=class{constructor(){T(this,"map",{})}add(t,n){return this.map[t]=n,this}remove(t){return delete this.map[t],this}get(t){return this.map[t]}contains(t){return t in this.map}},Kt,Xi=class extends Array{constructor(){super(),Q_(this,Kt,new J),arguments[0]&&Array.isArray(arguments[0])?arguments[0].length>0&&this.push.apply(this,arguments[0]):arguments.length>0&&this.push.apply(this,arguments)}get _events(){return wn(this,Kt)}set _events(t){Tk(this,Kt,t)}get _bound(){return wn(this,Kt)._bound}set _bound(t){wn(this,Kt)._bound=t}addEventListener(){return wn(this,Kt).addEventListener.apply(this,arguments)}on(){return wn(this,Kt).on.apply(this,arguments)}bind(){return wn(this,Kt).bind.apply(this,arguments)}removeEventListener(){return wn(this,Kt).removeEventListener.apply(this,arguments)}off(){return wn(this,Kt).off.apply(this,arguments)}unbind(){return wn(this,Kt).unbind.apply(this,arguments)}dispatchEvent(){return wn(this,Kt).dispatchEvent.apply(this,arguments)}trigger(){return wn(this,Kt).trigger.apply(this,arguments)}listen(){return wn(this,Kt).listen.apply(this,arguments)}ignore(){return wn(this,Kt).ignore.apply(this,arguments)}pop(){const t=super.pop.apply(this,arguments);return this.trigger(J.Types.remove,[t]),t}shift(){const t=super.shift.apply(this,arguments);return this.trigger(J.Types.remove,[t]),t}push(){const t=super.push.apply(this,arguments);return this.trigger(J.Types.insert,arguments),t}unshift(){const t=super.unshift.apply(this,arguments);return this.trigger(J.Types.insert,arguments),t}splice(){const t=super.splice.apply(this,arguments);if(this.trigger(J.Types.remove,t),arguments.length>2){const n=this.slice(arguments[0],arguments[0]+arguments.length-2);this.trigger(J.Types.insert,n),this.trigger(J.Types.order)}return t}sort(){return super.sort.apply(this,arguments),this.trigger(J.Types.order),this}reverse(){return super.reverse.apply(this,arguments),this.trigger(J.Types.order),this}indexOf(){return super.indexOf.apply(this,arguments)}map(t,n){const i=[];for(let o=0;o<this.length;o++){const l=this[o];let a;n?a=t.call(n,l,o):a=t(l,o),i.push(a)}return i}};Kt=new WeakMap;var Io=class extends J{constructor(){super(),T(this,"_flagId",!1),T(this,"_flagClassName",!1),T(this,"_renderer",{}),T(this,"_id",fn.Identifier+fn.uniqueId()),T(this,"_className",""),T(this,"classList",[]);for(let t in fy)Object.defineProperty(this,t,fy[t])}static fromObject(t){const n=new Io().copy(t);return"id"in t&&(n.id=t.id),n}flagReset(){this._flagId=this._flagClassName=!1}copy(t){return this.renderer.type=t.renderer.type,this.className=t.className,this}toObject(){return{renderer:{type:this.renderer.type},id:this.id,className:this.className}}},fy={renderer:{enumerable:!1,get:function(){return this._renderer}},id:{enumerable:!0,get:function(){return this._id},set:function(e){const t=this._id;e!==this._id&&(this._id=e,this._flagId=!0,this.parent&&(delete this.parent.children.ids[t],this.parent.children.ids[this._id]=this))}},className:{enumerable:!0,get:function(){return this._className},set:function(e){this._className!==e&&(this._flagClassName=!0,this.classList=e.split(/\s+?/),this._className=e)}}},Pu,uv={video:/\.(mp4|webm|ogg)$/i,image:/\.(jpe?g|png|gif|tiff|webp)$/i,effect:/texture|gradient/i};ut.document&&(Pu=document.createElement("a"));var St=class extends Io{constructor(e,t){super(),T(this,"_flagSrc",!1),T(this,"_flagImage",!1),T(this,"_flagVideo",!1),T(this,"_flagLoaded",!1),T(this,"_flagRepeat",!1),T(this,"_flagOffset",!1),T(this,"_flagScale",!1),T(this,"_src",""),T(this,"_image",null),T(this,"_loaded",!1),T(this,"_repeat","no-repeat"),T(this,"_scale",1),T(this,"_offset",null);for(let n in hy)Object.defineProperty(this,n,hy[n]);if(this._renderer.type="texture",this._renderer.flagOffset=Ik.bind(this),this._renderer.flagScale=Nk.bind(this),this.loaded=!1,this.repeat="no-repeat",this.offset=new ce,typeof t=="function"){const n=(function(){this.unbind(J.Types.load,n),typeof t=="function"&&t()}).bind(this);this.bind(J.Types.load,n)}if(typeof e=="string")this.src=e;else if(typeof e=="object"){const n=Object.prototype.toString.call(e);(n==="[object HTMLImageElement]"||n==="[object HTMLCanvasElement]"||n==="[object HTMLVideoElement]"||n==="[object Image]")&&(this.image=e)}this._update()}fromObject(e){const t=new St().copy(e);return"id"in e&&(t.id=e.id),t}static getAbsoluteURL(e){return Pu?(Pu.href=e,Pu.href):e}static loadHeadlessBuffer(e,t){e.image.onload=t,e.image.src=e.src}static getTag(e){return e&&e.nodeName&&e.nodeName.toLowerCase()||"img"}static getImage(e){const t=St.getAbsoluteURL(e);if(St.ImageRegistry.contains(t))return St.ImageRegistry.get(t);let n;return an.Image?(n=new an.Image,an.shim(n,"img")):ut.document?uv.video.test(t)?n=document.createElement("video"):n=document.createElement("img"):console.warn("Two.js: no prototypical image defined for Two.Texture"),n.crossOrigin="anonymous",n.referrerPolicy="no-referrer",n}static load(e,t){let n=e.image,i=St.getTag(n);e._flagImage&&(/canvas/i.test(i)?St.Register.canvas(e,t):(e._src=!an.isHeadless&&n.getAttribute("two-src")||n.src,St.Register[i](e,t))),e._flagSrc&&(n||(n=St.getImage(e.src),e.image=n),i=St.getTag(n),St.Register[i](e,t))}clone(){const e=new St(this.src);return e.repeat=this.repeat,e.offset.copy(this.offset),e.scale=this.scale,e}copy(e){return this.src=e.src,this.repeat=e.repeat,this.offset=typeof e.offset=="number"||e.offset instanceof ce?e.offset:new ce().copy(e.offset),this.scale=typeof e.scale=="number"||e.scale instanceof ce?e.scale:new ce().copy(e.scale),this}toObject(){const e=super.toObject.call(this);return e.renderer.type="texture",e.src=this.src,e.repeat=this.repeat,e.offset=this.offset.toObject(),e.scale=typeof this.scale=="number"?this.scale:this.scale.toObject(),e}_update(){return(this._flagSrc||this._flagImage)&&(this.trigger(J.Types.change),(this._flagSrc||this._flagImage)&&(this.loaded=!1,St.load(this,(function(){this.loaded=!0,this.trigger(J.Types.change).trigger(J.Types.load)}).bind(this)))),this._image&&this._image.readyState>=4&&(this._flagVideo=!0),this}flagReset(){return this._flagSrc=this._flagImage=this._flagLoaded=this._flagRepeat=this._flagVideo=this._flagScale=this._flagOffset=!1,super.flagReset.call(this),this}},ze=St;T(ze,"Properties",["src","loaded","repeat","scale","offset","image"]);T(ze,"RegularExpressions",uv);T(ze,"ImageRegistry",new hc);T(ze,"Register",{canvas:function(e,t){e._src="#"+e.id,St.ImageRegistry.add(e.src,e.image),typeof t=="function"&&t()},img:function(e,t){const n=e.image,i=function(l){!an.isHeadless&&n.removeEventListener&&typeof n.removeEventListener=="function"&&(n.removeEventListener("load",i,!1),n.removeEventListener("error",o,!1)),typeof t=="function"&&t()},o=function(l){throw!an.isHeadless&&typeof n.removeEventListener=="function"&&(n.removeEventListener("load",i,!1),n.removeEventListener("error",o,!1)),new $n("unable to load "+e.src)};typeof n.width=="number"&&n.width>0&&typeof n.height=="number"&&n.height>0?i():!an.isHeadless&&typeof n.addEventListener=="function"&&(n.addEventListener("load",i,!1),n.addEventListener("error",o,!1)),e._src=St.getAbsoluteURL(e._src),!(!an.isHeadless&&n&&n.getAttribute("two-src"))&&(an.isHeadless||n.setAttribute("two-src",e.src),St.ImageRegistry.add(e.src,n),an.isHeadless?St.loadHeadlessBuffer(e,i):e.image.src=e.src)},video:function(e,t){if(an.isHeadless)throw new $n("video textures are not implemented in headless environments.");const n=function(o){e.image.removeEventListener("canplaythrough",n,!1),e.image.removeEventListener("error",i,!1),e.image.width=e.image.videoWidth,e.image.height=e.image.videoHeight,typeof t=="function"&&t()},i=function(o){throw e.image.removeEventListener("canplaythrough",n,!1),e.image.removeEventListener("error",i,!1),new $n("unable to load "+e.src)};e._src=St.getAbsoluteURL(e._src),e.image.getAttribute("two-src")||(e.image.setAttribute("two-src",e.src),St.ImageRegistry.add(e.src,e.image)),e.image.readyState>=4?n():(e.image.addEventListener("canplaythrough",n,!1),e.image.addEventListener("error",i,!1),e.image.src=e.src,e.image.load())}});var hy={src:{enumerable:!0,get:function(){return this._src},set:function(e){this._src=e,this._flagSrc=!0}},loaded:{enumerable:!0,get:function(){return this._loaded},set:function(e){this._loaded=e,this._flagLoaded=!0}},repeat:{enumerable:!0,get:function(){return this._repeat},set:function(e){this._repeat=e,this._flagRepeat=!0}},image:{enumerable:!0,get:function(){return this._image},set:function(e){const t=ze.getTag(e);let n;switch(t){case"canvas":n="#"+e.id;break;default:n=e.src}ze.ImageRegistry.contains(n)?this._image=ze.ImageRegistry.get(e.src):this._image=e,this._flagImage=!0}},offset:{enumerable:!0,get:function(){return this._offset},set:function(e){this._offset&&this._offset.unbind(J.Types.change,this._renderer.flagOffset),this._offset=e,this._offset.bind(J.Types.change,this._renderer.flagOffset),this._flagOffset=!0}},scale:{enumerable:!0,get:function(){return this._scale},set:function(e){this._scale instanceof ce&&this._scale.unbind(J.Types.change,this._renderer.flagScale),this._scale=e,this._scale instanceof ce&&this._scale.bind(J.Types.change,this._renderer.flagScale),this._flagScale=!0}}};function Ik(){this._flagOffset=!0}function Nk(){this._flagScale=!0}var gr=class extends Io{constructor(e,t,n){super(),T(this,"_flagOffset",!0),T(this,"_flagOpacity",!0),T(this,"_flagColor",!0),T(this,"_offset",0),T(this,"_opacity",1),T(this,"_color","#fff");for(let i in dy)Object.defineProperty(this,i,dy[i]);this._renderer.type="stop",this.offset=typeof e=="number"?e:gr.Index<=0?0:1,this.opacity=typeof n=="number"?n:1,this.color=typeof t=="string"?t:gr.Index<=0?"#fff":"#000",gr.Index=(gr.Index+1)%2}static fromObject(e){const t=new gr().copy(e);return"id"in e&&(t.id=e.id),t}copy(e){super.copy.call(this,e);for(let t=0;t<gr.Properties.length;t++){const n=gr.Properties[t];n in e&&(this[n]=e[n])}return this}clone(e){const t=new gr;return be.each(gr.Properties,function(n){t[n]=this[n]},this),e&&e.stops&&e.stops.push(t),t}toObject(){const e=super.toObject.call(this);return e.renderer.type="stop",be.each(gr.Properties,t=>{e[t]=this[t]},this),e}flagReset(){return this._flagOffset=this._flagColor=this._flagOpacity=!1,super.flagReset.call(this),this}},zr=gr;T(zr,"Index",0);T(zr,"Properties",["offset","opacity","color"]);var dy={offset:{enumerable:!0,get:function(){return this._offset},set:function(e){this._offset=e,this._flagOffset=!0,this.parent&&(this.parent._flagStops=!0)}},opacity:{enumerable:!0,get:function(){return this._opacity},set:function(e){this._opacity=e,this._flagOpacity=!0,this.parent&&(this.parent._flagStops=!0)}},color:{enumerable:!0,get:function(){return this._color},set:function(e){this._color=e,this._flagColor=!0,this.parent&&(this.parent._flagStops=!0)}}},gs=class extends Io{constructor(e){super(),T(this,"_flagStops",!1),T(this,"_flagSpread",!1),T(this,"_flagUnits",!1),T(this,"_spread",""),T(this,"_units","");for(let t in py)Object.defineProperty(this,t,py[t]);this._renderer.type="gradient",this._renderer.flagStops=jk.bind(this),this._renderer.bindStops=Dk.bind(this),this._renderer.unbindStops=zk.bind(this),this.spread="pad",this.units="objectBoundingBox",e&&(this.stops=e)}static fromObject(e){let t=e.stops;t&&t.length>0&&(t=t.map(i=>i instanceof zr?i:new zr().copy(i)));const n=new gs().copy(e);return"id"in e&&(n.id=e.id),n}clone(e){const t=this.stops.map(i=>i.clone()),n=new gs(t);return be.each(gs.Properties,i=>{n[i]=this[i]},this),e&&e.add(n),n}copy(e){super.copy.call(this,e);for(let t=0;t<gs.Properties.length;t++){const n=gs.Properties[t];n in e&&(this[n]=e[n])}return this}toObject(){const e={stops:this.stops.map(t=>t.toObject())};return be.each(gs.Properties,t=>{e[t]=this[t]},this),e}_update(){return(this._flagSpread||this._flagStops)&&this.trigger(J.Types.change),this}flagReset(){return this._flagSpread=this._flagUnits=this._flagStops=!1,super.flagReset.call(this),this}},yt=gs;T(yt,"Stop",zr);T(yt,"Properties",["spread","stops","units"]);var py={spread:{enumerable:!0,get:function(){return this._spread},set:function(e){this._spread=e,this._flagSpread=!0}},units:{enumerable:!0,get:function(){return this._units},set:function(e){this._units=e,this._flagUnits=!0}},stops:{enumerable:!0,get:function(){return this._stops},set:function(e){const t=this._renderer.bindStops,n=this._renderer.unbindStops;this._stops&&this._stops.unbind(J.Types.insert,t).unbind(J.Types.remove,n),this._stops=new Xi((e||[]).slice(0)),this._stops.bind(J.Types.insert,t).bind(J.Types.remove,n),t(this._stops)}}};function jk(){this._flagStops=!0}function Dk(e){let t=e.length;for(;t--;)e[t].bind(J.Types.change,this._renderer.flagStops),e[t].parent=this;this._renderer.flagStops()}function zk(e){let t=e.length;for(;t--;)e[t].unbind(J.Types.change,this._renderer.flagStops),delete e[t].parent;this._renderer.flagStops()}var Al=class extends yt{constructor(e,t,n,i,o){super(o),T(this,"_flagEndPoints",!1),T(this,"_left",null),T(this,"_right",null);for(let l in gy)Object.defineProperty(this,l,gy[l]);this._renderer.type="linear-gradient",this._renderer.flagEndPoints=Bk.bind(this),this.left=new ce,this.right=new ce,typeof e=="number"&&(this.left.x=e),typeof t=="number"&&(this.left.y=t),typeof n=="number"&&(this.right.x=n),typeof i=="number"&&(this.right.y=i)}static fromObject(e){const t=new Al().copy(e);return"id"in e&&(t.id=e.id),t}copy(e){super.copy.call(this,e);for(let t=0;t<Al.Properties.length;t++){const n=Al.Properties[t];n in e&&(this[n]=e[n]instanceof ce?e[n]:new ce().copy(e[n]))}return this}clone(e){const t=this.stops.map(function(i){return i.clone()}),n=new Al(this.left._x,this.left._y,this.right._x,this.right._y,t);return be.each(yt.Properties,function(i){n[i]=this[i]},this),e&&e.add(n),n}toObject(){const e=super.toObject.call(this);return e.left=this.left.toObject(),e.right=this.right.toObject(),e}_update(){return(this._flagEndPoints||this._flagSpread||this._flagStops)&&this.trigger(J.Types.change),this}flagReset(){return this._flagEndPoints=!1,super.flagReset.call(this),this}},Ze=Al;T(Ze,"Stop",zr);T(Ze,"Properties",["left","right"]);var gy={left:{enumerable:!0,get:function(){return this._left},set:function(e){this._left instanceof ce&&this._left.unbind(J.Types.change,this._renderer.flagEndPoints),this._left=e,this._left.bind(J.Types.change,this._renderer.flagEndPoints),this._flagEndPoints=!0}},right:{enumerable:!0,get:function(){return this._right},set:function(e){this._right instanceof ce&&this._right.unbind(J.Types.change,this._renderer.flagEndPoints),this._right=e,this._right.bind(J.Types.change,this._renderer.flagEndPoints),this._flagEndPoints=!0}}};function Bk(){this._flagEndPoints=!0}var ms=class extends yt{constructor(e,t,n,i,o,l){super(i),T(this,"_flagRadius",!1),T(this,"_flagCenter",!1),T(this,"_flagFocal",!1),T(this,"_radius",0),T(this,"_center",null),T(this,"_focal",null);for(let a in my)Object.defineProperty(this,a,my[a]);this._renderer.type="radial-gradient",this._renderer.flagCenter=Uk.bind(this),this._renderer.flagFocal=$k.bind(this),this.center=new ce,this.radius=typeof n=="number"?n:1,this.focal=new ce,typeof e=="number"&&(this.center.x=e),typeof t=="number"&&(this.center.y=t),this.focal.copy(this.center),typeof o=="number"&&(this.focal.x=o),typeof l=="number"&&(this.focal.y=l)}static fromObject(e){const t=new ms().copy(e);return"id"in e&&(t.id=e.id),t}copy(e){super.copy.call(this,e);for(let t=0;t<ms.Properties.length;t++){const n=ms.Properties[t];n in e&&(/(center|focal)i/.test(n)?this[n]=e[n]instanceof ce?e[n]:new ce().copy(e[n]):typeof e[n]=="number"&&(this[n]=e[MediaKeySystemAccess]))}return this}clone(e){const t=this.stops.map(function(i){return i.clone()}),n=new ms(this.center._x,this.center._y,this._radius,t,this.focal._x,this.focal._y);return be.each(yt.Properties.concat(ms.Properties),function(i){n[i]=this[i]},this),e&&e.add(n),n}toObject(){const e=super.toObject.call(this);return be.each(ms.Properties,function(t){e[t]=this[t]},this),e.center=this.center.toObject(),e.focal=this.focal.toObject(),e}_update(){return(this._flagRadius||this._flatCenter||this._flagFocal||this._flagSpread||this._flagStops)&&this.trigger(J.Types.change),this}flagReset(){return this._flagRadius=this._flagCenter=this._flagFocal=!1,super.flagReset.call(this),this}},Je=ms;T(Je,"Stop",zr);T(Je,"Properties",["center","radius","focal"]);var my={radius:{enumerable:!0,get:function(){return this._radius},set:function(e){this._radius=e,this._flagRadius=!0}},center:{enumerable:!0,get:function(){return this._center},set:function(e){this._center&&this._center.unbind(J.Types.change,this._renderer.flagCenter),this._center=e,this._center.bind(J.Types.change,this._renderer.flagCenter),this._flagCenter=!0}},focal:{enumerable:!0,get:function(){return this._focal},set:function(e){this._focal&&this._focal.unbind(J.Types.change,this._renderer.flagFocal),this._focal=e,this._focal.bind(J.Types.change,this._renderer.flagFocal),this._flagFocal=!0}}};function Uk(){this._flagCenter=!0}function $k(){this._flagFocal=!0}function yy(e,t){if(t===0||t===1)return!0;const i=e._length*t;let o=0;for(let l=0;l<e._lengths.length;l++){const a=e._lengths[l];if(o>=i)return i-o>=0;o+=a}return!1}function Yu(e,t){const n=e._length;if(t<=0)return 0;if(t>=n)return e._lengths.length-1;for(let i=0,o=0;i<e._lengths.length;i++){if(o+e._lengths[i]>=t)return t-=o,Math.max(i-1,0)+t/e._lengths[i];o+=e._lengths[i]}return-1}function cv(e,t,n){let i,o,l,a,c,h,d,g;const m=t.controls&&t.controls.right,v=e.controls&&e.controls.left;return i=t.x,c=t.y,o=(m||t).x,h=(m||t).y,l=(v||e).x,d=(v||e).y,a=e.x,g=e.y,m&&t._relative&&(o+=t.x,h+=t.y),v&&e._relative&&(l+=e.x,d+=e.y),iv(i,c,o,h,l,d,a,g,n)}function _y(e,t,n){let i,o,l,a,c,h,d,g;const m=t.controls&&t.controls.right,v=e.controls&&e.controls.left;return i=t.x,c=t.y,o=(m||t).x,h=(m||t).y,l=(v||e).x,d=(v||e).y,a=e.x,g=e.y,m&&t._relative&&(o+=t.x,h+=t.y),v&&e._relative&&(l+=e.x,d+=e.y),Nd(i,c,o,h,l,d,a,g,n)}function As(e){switch(e.renderer.type){case"texture":return ze.fromObject(e);case"gradient":return yt.fromObject(e);case"linear-gradient":return Ze.fromObject(e);case"radial-gradient":return Je.fromObject(e)}return e}var Vk=Math.cos,Hk=Math.sin,vy=Math.tan,bh=[],jn=class extends J{constructor(e,t,n,i,o,l){super(),T(this,"elements",new Ir(9)),T(this,"manual",!1);let a=e;Array.isArray(a)||(a=Array.prototype.slice.call(arguments)),this.identity(),a.length>0&&this.set(a)}static Multiply(e,t,n){if(t.length<=3){const P=e;let I,j,X;const z=t[0]||0,W=t[1]||0,K=t[2]||0;return I=P[0]*z+P[1]*W+P[2]*K,j=P[3]*z+P[4]*W+P[5]*K,X=P[6]*z+P[7]*W+P[8]*K,[I,j,X]}const i=e[0],o=e[1],l=e[2],a=e[3],c=e[4],h=e[5],d=e[6],g=e[7],m=e[8],v=t[0],_=t[1],w=t[2],k=t[3],S=t[4],b=t[5],x=t[6],R=t[7],M=t[8];return n=n||new Ir(9),n[0]=i*v+o*k+l*x,n[1]=i*_+o*S+l*R,n[2]=i*w+o*b+l*M,n[3]=a*v+c*k+h*x,n[4]=a*_+c*S+h*R,n[5]=a*w+c*b+h*M,n[6]=d*v+g*k+m*x,n[7]=d*_+g*S+m*R,n[8]=d*w+g*b+m*M,n}static fromObject(e){return new jn().copy(e)}set(e,t,n,i,o,l,a,c,h){if(typeof t>"u"){const d=e;e=d[0],t=d[1],n=d[2],i=d[3],o=d[4],l=d[5],a=d[6],c=d[7],h=d[8]}return this.elements[0]=e,this.elements[1]=t,this.elements[2]=n,this.elements[3]=i,this.elements[4]=o,this.elements[5]=l,this.elements[6]=a,this.elements[7]=c,this.elements[8]=h,this.trigger(J.Types.change)}copy(e){return this.elements[0]=e.elements[0],this.elements[1]=e.elements[1],this.elements[2]=e.elements[2],this.elements[3]=e.elements[3],this.elements[4]=e.elements[4],this.elements[5]=e.elements[5],this.elements[6]=e.elements[6],this.elements[7]=e.elements[7],this.elements[8]=e.elements[8],this.manual=e.manual,this.trigger(J.Types.change)}identity(){return this.elements[0]=jn.Identity[0],this.elements[1]=jn.Identity[1],this.elements[2]=jn.Identity[2],this.elements[3]=jn.Identity[3],this.elements[4]=jn.Identity[4],this.elements[5]=jn.Identity[5],this.elements[6]=jn.Identity[6],this.elements[7]=jn.Identity[7],this.elements[8]=jn.Identity[8],this.trigger(J.Types.change)}multiply(e,t,n,i,o,l,a,c,h){if(typeof t>"u")return this.elements[0]*=e,this.elements[1]*=e,this.elements[2]*=e,this.elements[3]*=e,this.elements[4]*=e,this.elements[5]*=e,this.elements[6]*=e,this.elements[7]*=e,this.elements[8]*=e,this.trigger(J.Types.change);if(typeof n>"u"&&(n=1),typeof i>"u"){e=e||0,t=t||0,n=n||0,o=this.elements;const ae=o[0]*e+o[1]*t+o[2]*n,te=o[3]*e+o[4]*t+o[5]*n,re=o[6]*e+o[7]*t+o[8]*n;return[ae,te,re]}const d=this.elements,g=[e,t,n,i,o,l,a,c,h],m=d[0],v=d[1],_=d[2],w=d[3],k=d[4],S=d[5],b=d[6],x=d[7],R=d[8],M=g[0],P=g[1],I=g[2],j=g[3],X=g[4],z=g[5],W=g[6],K=g[7],q=g[8];return this.elements[0]=m*M+v*j+_*W,this.elements[1]=m*P+v*X+_*K,this.elements[2]=m*I+v*z+_*q,this.elements[3]=w*M+k*j+S*W,this.elements[4]=w*P+k*X+S*K,this.elements[5]=w*I+k*z+S*q,this.elements[6]=b*M+x*j+R*W,this.elements[7]=b*P+x*X+R*K,this.elements[8]=b*I+x*z+R*q,this.trigger(J.Types.change)}inverse(e){const t=this.elements;e=e||new jn;const n=t[0],i=t[1],o=t[2],l=t[3],a=t[4],c=t[5],h=t[6],d=t[7],g=t[8],m=g*a-c*d,v=-g*l+c*h,_=d*l-a*h;let w=n*m+i*v+o*_;return w?(w=1/w,e.elements[0]=m*w,e.elements[1]=(-g*i+o*d)*w,e.elements[2]=(c*i-o*a)*w,e.elements[3]=v*w,e.elements[4]=(g*n-o*h)*w,e.elements[5]=(-c*n+o*l)*w,e.elements[6]=_*w,e.elements[7]=(-d*n+i*h)*w,e.elements[8]=(a*n-i*l)*w,e):null}scale(e,t){return arguments.length<=1&&(t=e),this.multiply(e,0,0,0,t,0,0,0,1)}rotate(e){const t=Vk(e),n=Hk(e);return this.multiply(t,-n,0,n,t,0,0,0,1)}translate(e,t){return this.multiply(1,0,e,0,1,t,0,0,1)}skewX(e){const t=vy(e);return this.multiply(1,t,0,0,1,0,0,0,1)}skewY(e){const t=vy(e);return this.multiply(1,0,0,t,1,0,0,0,1)}toString(e){return bh.length=0,this.toTransformArray(e,bh),bh.map($e).join(" ")}toTransformArray(e,t){const n=this.elements,i=!!t,o=n[0],l=n[1],a=n[2],c=n[3],h=n[4],d=n[5];if(e){const g=n[6],m=n[7],v=n[8];if(i){t[0]=o,t[1]=c,t[2]=g,t[3]=l,t[4]=h,t[5]=m,t[6]=a,t[7]=d,t[8]=v;return}return[o,c,g,l,h,m,a,d,v]}if(i){t[0]=o,t[1]=c,t[2]=l,t[3]=h,t[4]=a,t[5]=d;return}return[o,c,l,h,a,d]}toArray(e,t){const n=this.elements,i=!!t,o=n[0],l=n[1],a=n[2],c=n[3],h=n[4],d=n[5];if(e){const g=n[6],m=n[7],v=n[8];if(i){t[0]=o,t[1]=l,t[2]=a,t[3]=c,t[4]=h,t[5]=d,t[6]=g,t[7]=m,t[8]=v;return}return[o,l,a,c,h,d,g,m,v]}if(i){t[0]=o,t[1]=l,t[2]=a,t[3]=c,t[4]=h,t[5]=d;return}return[o,l,a,c,h,d]}toObject(){return{renderer:{type:"matrix"},elements:this.toArray(!0),manual:!!this.manual}}clone(){return new jn().copy(this)}},Os=jn;T(Os,"Identity",[1,0,0,0,1,0,0,0,1]);tv(Os);var jr=class extends Io{constructor(){super(),T(this,"_flagMatrix",!0),T(this,"_flagScale",!1),T(this,"_matrix",null),T(this,"_worldMatrix",null),T(this,"_position",null),T(this,"_rotation",0),T(this,"_scale",1),T(this,"_skewX",0),T(this,"_skewY",0);for(let t in _u)Object.defineProperty(this,t,_u[t]);this._renderer.flagMatrix=fv.bind(this),this.isShape=!0,this.matrix=new Os,this.worldMatrix=new Os,this.position=new ce,this.rotation=0,this.scale=1,this.skewX=0,this.skewY=0}static fromObject(t){const n=new jr().copy(t);return"id"in t&&(n.id=t.id),n}get renderer(){return this._renderer}set renderer(t){this._renderer=t}get translation(){return _u.position.get.apply(this,arguments)}set translation(t){_u.position.set.apply(this,arguments)}addTo(t){return t.add(this),this}remove(){return this.parent?(this.parent.remove(this),this):this}copy(t){return super.copy.call(this,t),"position"in t&&(t.position instanceof ce?this.position=t.position:this.position.copy(t.position)),"rotation"in t&&(this.rotation=t.rotation),"scale"in t&&(this.scale=typeof t.scale=="number"||t.scale instanceof ce?t.scale:new ce(t.scale.x,t.scale.y)),"skewX"in t&&(this.skewX=t.skewX),"skewY"in t&&(this.skewY=t.skewY),"matrix"in t&&t.matrix.manual&&(this.matrix.copy(t.matrix),this.matrix.manual=!0),this}clone(t){const n=new jr;return n.position.copy(this.position),n.rotation=this.rotation,n.scale=this.scale,n.skewX=this.skewX,n.skewY=this.skewY,this.matrix.manual&&n.matrix.copy(this.matrix),t&&t.add(n),n._update()}toObject(){const t=super.toObject.call(this);return t.renderer={type:"shape"},t.isShape=!0,t.translation=this.translation.toObject(),t.rotation=this.translation.rotation,t.scale=this.scale instanceof ce?this.scale.toObject():this.scale,t.skewX=this.skewX,t.skewY=this.skewY,t.matrix=this.matrix.toObject(),t}_update(t){return!this._matrix.manual&&this._flagMatrix&&(this._matrix.identity().translate(this.position.x,this.position.y),this._scale instanceof ce?this._matrix.scale(this._scale.x,this._scale.y):this._matrix.scale(this._scale),this._matrix.rotate(this.rotation),this._matrix.skewX(this.skewX),this._matrix.skewY(this.skewY)),t&&this.parent&&this.parent._update&&this.parent._update(),this}flagReset(){return this._flagMatrix=this._flagScale=!1,super.flagReset.call(this),this}},_u={position:{enumerable:!0,get:function(){return this._position},set:function(e){this._position&&this._position.unbind(J.Types.change,this._renderer.flagMatrix),this._position=e,this._position.bind(J.Types.change,this._renderer.flagMatrix),fv.call(this)}},rotation:{enumerable:!0,get:function(){return this._rotation},set:function(e){this._rotation=e,this._flagMatrix=!0}},scale:{enumerable:!0,get:function(){return this._scale},set:function(e){this._scale instanceof ce&&this._scale.unbind(J.Types.change,this._renderer.flagMatrix),this._scale=e,this._scale instanceof ce&&this._scale.bind(J.Types.change,this._renderer.flagMatrix),this._flagMatrix=!0,this._flagScale=!0}},skewX:{enumerable:!0,get:function(){return this._skewX},set:function(e){this._skewX=e,this._flagMatrix=!0}},skewY:{enumerable:!0,get:function(){return this._skewY},set:function(e){this._skewY=e,this._flagMatrix=!0}},matrix:{enumerable:!0,get:function(){return this._matrix},set:function(e){this._matrix=e,this._flagMatrix=!0}},worldMatrix:{enumerable:!0,get:function(){return nv(this,this._worldMatrix),this._worldMatrix},set:function(e){this._worldMatrix=e}}};function fv(){this._flagMatrix=!0}var po=Math.min,go=Math.max,Wk=Math.ceil,Yk=Math.floor,Xk=new ce,ji=class extends jr{constructor(e,t,n,i){super(),T(this,"_flagVertices",!0),T(this,"_flagLength",!0),T(this,"_flagFill",!0),T(this,"_flagStroke",!0),T(this,"_flagLinewidth",!0),T(this,"_flagOpacity",!0),T(this,"_flagVisible",!0),T(this,"_flagCap",!0),T(this,"_flagJoin",!0),T(this,"_flagMiter",!0),T(this,"_flagMask",!1),T(this,"_flagClip",!1),T(this,"_length",0),T(this,"_fill","#fff"),T(this,"_stroke","#000"),T(this,"_linewidth",1),T(this,"_opacity",1),T(this,"_visible",!0),T(this,"_cap","round"),T(this,"_join","round"),T(this,"_miter",4),T(this,"_closed",!0),T(this,"_curved",!1),T(this,"_automatic",!0),T(this,"_beginning",0),T(this,"_ending",1),T(this,"_mask",null),T(this,"_clip",!1),T(this,"_dashes",null);for(let o in xy)Object.defineProperty(this,o,xy[o]);this._renderer.type="path",this._renderer.flagVertices=hv.bind(this),this._renderer.bindVertices=dv.bind(this),this._renderer.unbindVertices=pv.bind(this),this._renderer.flagFill=gv.bind(this),this._renderer.flagStroke=mv.bind(this),this._renderer.vertices=[],this._renderer.collection=[],this.closed=!!t,this.curved=!!n,this.beginning=0,this.ending=1,this.fill="#fff",this.stroke="#000",this.linewidth=1,this.opacity=1,this.className="",this.visible=!0,this.cap="butt",this.join="miter",this.miter=4,this.vertices=e,this.automatic=!i,this.dashes=[],this.dashes.offset=0}static fromObject(e){const t=typeof e.fill=="string"?e.fill:As(e.fill),n=typeof e.stroke=="string"?e.stroke:As(e.stroke),i=new ji().copy(Id(Fd({},e),{fill:t,stroke:n}));return"id"in e&&(i.id=e.id),i}copy(e){super.copy.call(this,e),this.vertices=[];for(let t=0;t<e.vertices.length;t++){const n=e.vertices[t];n instanceof Le?this.vertices.push(e.vertices[t].clone()):this.vertices.push(new Le().copy(n))}for(let t=0;t<ji.Properties.length;t++){const n=ji.Properties[t];n in e&&(this[n]=e[n])}return this}clone(e){const t=new ji;for(let n=0;n<this.vertices.length;n++)t.vertices.push(this.vertices[n].clone());for(let n=0;n<ji.Properties.length;n++){const i=ji.Properties[n];t[i]=this[i]}return t.className=this.className,t.translation.copy(this.translation),t.rotation=this.rotation,t.scale=this.scale,t.skewX=this.skewX,t.skewY=this.skewY,this.matrix.manual&&t.matrix.copy(this.matrix),e&&e.add(t),t._update()}toObject(){const e=super.toObject.call(this);return e.renderer.type="path",e.vertices=this.vertices.map(t=>t.toObject()),be.each(ji.Properties,t=>{typeof this[t]<"u"&&(this[t].toObject?e[t]=this[t].toObject():e[t]=this[t])},this),e}noFill(){return this.fill="none",this}noStroke(){return this.stroke="none",this.linewidth=0,this}corner(){const e=this.getBoundingClientRect(!0),t=e.width/2,n=e.height/2,i=e.left+e.width/2,o=e.top+e.height/2;for(let l=0;l<this.vertices.length;l++){const a=this.vertices[l];a.x-=i,a.y-=o,a.x+=t,a.y+=n}return this.mask&&(this.mask.translation.x-=i,this.mask.translation.x+=t,this.mask.translation.y-=o,this.mask.translation.y+=n),this}center(){const e=this.getBoundingClientRect(!0),t=e.left+e.width/2-this.translation.x,n=e.top+e.height/2-this.translation.y;for(let i=0;i<this.vertices.length;i++){const o=this.vertices[i];o.x-=t,o.y-=n}return this.mask&&(this.mask.translation.x-=t,this.mask.translation.y-=n),this}getBoundingClientRect(e){let t,n,i,o,l,a,c=1/0,h=-1/0,d=1/0,g=-1/0;if(this._update(!0),t=e?this.matrix:this.worldMatrix,n=(this.linewidth||0)/2,i=this._renderer.vertices.length,this.linewidth>0||this.stroke&&!/(transparent|none)/i.test(this.stroke))if(this.matrix.manual){const{scaleX:m,scaleY:v}=Ao(t.elements[0],t.elements[3],t.elements[1],t.elements[4],t.elements[2],t.elements[5]);typeof m=="number"&&typeof v=="number"&&(n=Math.max(m,v)*(this.linewidth||0)/2)}else n*=typeof this.scale=="number"?this.scale:Math.max(this.scale.x,this.scale.y);if(i<=0)return{width:0,height:0};for(o=0;o<i;o++){a=this._renderer.vertices[o],l=this._renderer.vertices[(o+i-1)%i];const[m,v]=t.multiply(l.x,l.y),[_,w]=t.multiply(a.x,a.y);if(l.controls&&a.controls){let k=l.controls.right.x,S=l.controls.right.y;l.relative&&(k+=l.x,S+=l.y);let[b,x]=t.multiply(k,S),R=a.controls.left.x,M=a.controls.left.y;a.relative&&(R+=a.x,M+=a.y);let[P,I]=t.multiply(R,M);const j=sv(m,v,b,x,P,I,_,w);d=po(j.min.y-n,d),c=po(j.min.x-n,c),h=go(j.max.x+n,h),g=go(j.max.y+n,g)}else o<=1&&(d=po(v-n,d),c=po(m-n,c),h=go(m+n,h),g=go(v+n,g)),d=po(w-n,d),c=po(_-n,c),h=go(_+n,h),g=go(w+n,g)}return{top:d,left:c,right:h,bottom:g,width:h-c,height:g-d}}getPointAt(e,t){let n,i,o,l,a,c,h,d,g,m,v,_,w,k,S,b=this.length*Math.min(Math.max(e,0),1);const x=this.vertices.length,R=x-1;let M=null,P=null;for(let ue=0,Z=this._lengths.length,D=0;ue<Z;ue++){if(D+this._lengths[ue]>=b){this._closed?(n=Vn(ue,x),i=Vn(ue-1,x),ue===0&&(n=i,i=ue)):(n=ue,i=Math.min(Math.max(ue-1,0),R)),M=this.vertices[n],P=this.vertices[i],b-=D,this._lengths[ue]!==0?e=b/this._lengths[ue]:e=0;break}D+=this._lengths[ue]}if(M===null||P===null)return null;if(M){if(!P)return M}else return P;S=P.controls&&P.controls.right,k=M.controls&&M.controls.left,a=P.x,m=P.y,c=(S||P).x,v=(S||P).y,h=(k||M).x,_=(k||M).y,d=M.x,w=M.y,S&&P.relative&&(c+=P.x,v+=P.y),k&&M.relative&&(h+=M.x,_+=M.y),l=Vl(e,a,c,h,d),g=Vl(e,m,v,_,w);const I=zn(a,c,e),j=zn(m,v,e),X=zn(c,h,e),z=zn(v,_,e),W=zn(h,d,e),K=zn(_,w,e),q=zn(I,X,e),ae=zn(j,z,e),te=zn(X,W,e),re=zn(z,K,e);return be.isObject(t)?(t.x=l,t.y=g,t instanceof Le&&(t.controls.left.x=q,t.controls.left.y=ae,t.controls.right.x=te,t.controls.right.y=re,(typeof t.relative!="boolean"||t.relative)&&(t.controls.left.x-=l,t.controls.left.y-=g,t.controls.right.x-=l,t.controls.right.y-=g)),t.t=e,t):(o=new Le(l,g,q-l,ae-g,te-l,re-g,this._curved?de.curve:de.line),o.t=e,o)}plot(){if(this.curved)return lv(this._collection,this.closed),this;for(let e=0;e<this._collection.length;e++)this._collection[e].command=e===0?de.move:de.line;return this}subdivide(e){this._update();const t=this.vertices.length-1,n=this._closed||this.vertices[t]._command===de.close;let i=this.vertices[t],o=[],l;return be.each(this.vertices,function(a,c){if(c<=0&&!n){i=a;return}if(a.command===de.move){o.push(new Le(i.x,i.y)),c>0&&(o[o.length-1].command=de.line),i=a;return}l=_y(a,i,e),o=o.concat(l),be.each(l,function(h,d){d<=0&&i.command===de.move?h.command=de.move:h.command=de.line}),c>=t&&(this._closed&&this._automatic?(i=a,l=_y(a,i,e),o=o.concat(l),be.each(l,function(h,d){d<=0&&i.command===de.move?h.command=de.move:h.command=de.line})):n&&o.push(new Le(a.x,a.y)),o[o.length-1].command=n?de.close:de.line),i=a},this),this._automatic=!1,this._curved=!1,this.vertices=o,this}_updateLength(e,t){t||this._update();const i=this.vertices.length-1;let o=this.vertices[i],l=0;return typeof this._lengths>"u"&&(this._lengths=[]),be.each(this.vertices,function(a,c){if(c<=0||a.command===de.move){o=a,this._lengths[c]=0;return}this._lengths[c]=cv(a,o,e),l+=this._lengths[c],o=a},this),this._length=l,this._flagLength=!1,this}_update(){if(this._flagVertices){this._automatic&&this.plot(),this._flagLength&&this._updateLength(void 0,!0);const e=this._collection.length,t=this._closed,n=Math.min(this._beginning,this._ending),i=Math.max(this._beginning,this._ending),o=Yu(this,n*this._length),l=Yu(this,i*this._length),a=Wk(o),c=Yk(l);let h,d,g,m,v,_;for(this._renderer.vertices.length=0,_=0;_<e;_++)this._renderer.collection.length<=_&&this._renderer.collection.push(new Le),_>c&&!d?(v=this._renderer.collection[_].copy(this._collection[_]),this.getPointAt(i,v),v.command=this._renderer.collection[_].command,this._renderer.vertices.push(v),d=v,g=this._collection[_-1],g&&g.controls&&(v.relative?v.controls.right.clear():v.controls.right.copy(v),g.relative?this._renderer.collection[_-1].controls.right.copy(g.controls.right).lerp(ce.zero,1-v.t):this._renderer.collection[_-1].controls.right.copy(g.controls.right).lerp(g,1-v.t))):_>=a&&_<=c&&(v=this._renderer.collection[_].copy(this._collection[_]),this._renderer.vertices.push(v),_===c&&yy(this,i)?(d=v,!t&&d.controls&&(d.relative?d.controls.right.clear():d.controls.right.copy(d))):_===a&&yy(this,n)&&(h=v,h.command=de.move,!t&&h.controls&&(h.relative?h.controls.left.clear():h.controls.left.copy(h))));a>0&&!h&&(_=a-1,v=this._renderer.collection[_].copy(this._collection[_]),this.getPointAt(n,v),v.command=de.move,this._renderer.vertices.unshift(v),m=this._collection[_+1],m&&m.controls&&(v.controls.left.clear(),m.relative?this._renderer.collection[_+1].controls.left.copy(m.controls.left).lerp(ce.zero,v.t):(Xk.copy(m),this._renderer.collection[_+1].controls.left.copy(m.controls.left).lerp(m,v.t))))}return jr.prototype._update.apply(this,arguments),this}flagReset(){return this._flagVertices=this._flagLength=this._flagFill=this._flagStroke=this._flagLinewidth=this._flagOpacity=this._flagVisible=this._flagCap=this._flagJoin=this._flagMiter=this._flagClip=!1,jr.prototype.flagReset.call(this),this}},Ie=ji;T(Ie,"Properties",["fill","stroke","linewidth","opacity","visible","cap","join","miter","closed","curved","automatic","beginning","ending","dashes"]);T(Ie,"Utils",{getCurveLength:cv});var xy={linewidth:{enumerable:!0,get:function(){return this._linewidth},set:function(e){this._linewidth=e,this._flagLinewidth=!0}},opacity:{enumerable:!0,get:function(){return this._opacity},set:function(e){this._opacity=e,this._flagOpacity=!0}},visible:{enumerable:!0,get:function(){return this._visible},set:function(e){this._visible=e,this._flagVisible=!0}},cap:{enumerable:!0,get:function(){return this._cap},set:function(e){this._cap=e,this._flagCap=!0}},join:{enumerable:!0,get:function(){return this._join},set:function(e){this._join=e,this._flagJoin=!0}},miter:{enumerable:!0,get:function(){return this._miter},set:function(e){this._miter=e,this._flagMiter=!0}},fill:{enumerable:!0,get:function(){return this._fill},set:function(e){(this._fill instanceof yt||this._fill instanceof Ze||this._fill instanceof Je||this._fill instanceof ze)&&this._fill.unbind(J.Types.change,this._renderer.flagFill),this._fill=e,this._flagFill=!0,(this._fill instanceof yt||this._fill instanceof Ze||this._fill instanceof Je||this._fill instanceof ze)&&this._fill.bind(J.Types.change,this._renderer.flagFill)}},stroke:{enumerable:!0,get:function(){return this._stroke},set:function(e){(this._stroke instanceof yt||this._stroke instanceof Ze||this._stroke instanceof Je||this._stroke instanceof ze)&&this._stroke.unbind(J.Types.change,this._renderer.flagStroke),this._stroke=e,this._flagStroke=!0,(this._stroke instanceof yt||this._stroke instanceof Ze||this._stroke instanceof Je||this._stroke instanceof ze)&&this._stroke.bind(J.Types.change,this._renderer.flagStroke)}},length:{get:function(){return this._flagLength&&this._updateLength(),this._length}},closed:{enumerable:!0,get:function(){return this._closed},set:function(e){this._closed=!!e,this._flagVertices=!0}},curved:{enumerable:!0,get:function(){return this._curved},set:function(e){this._curved=!!e,this._flagVertices=!0}},automatic:{enumerable:!0,get:function(){return this._automatic},set:function(e){if(e===this._automatic)return;this._automatic=!!e;const t=this._automatic?"ignore":"listen";be.each(this.vertices,function(n){n[t]()})}},beginning:{enumerable:!0,get:function(){return this._beginning},set:function(e){this._beginning=e,this._flagVertices=!0}},ending:{enumerable:!0,get:function(){return this._ending},set:function(e){this._ending=e,this._flagVertices=!0}},vertices:{enumerable:!0,get:function(){return this._collection},set:function(e){const t=this._renderer.bindVertices,n=this._renderer.unbindVertices;this._collection&&this._collection.unbind(J.Types.insert,t).unbind(J.Types.remove,n),e instanceof Xi?this._collection=e:this._collection=new Xi(e||[]),this._collection.bind(J.Types.insert,t).bind(J.Types.remove,n),t(this._collection)}},mask:{enumerable:!0,get:function(){return this._mask},set:function(e){this._mask=e,this._flagMask=!0,be.isObject(e)&&!e.clip&&(e.clip=!0)}},clip:{enumerable:!0,get:function(){return this._clip},set:function(e){this._clip=e,this._flagClip=!0}},dashes:{enumerable:!0,get:function(){return this._dashes},set:function(e){typeof e.offset!="number"&&(e.offset=this.dashes&&this._dashes.offset||0),this._dashes=e}}};function hv(){this._flagVertices=!0,this._flagLength=!0,this.parent&&(this.parent._flagLength=!0)}function dv(e){let t=e.length;for(;t--;)e[t].bind(J.Types.change,this._renderer.flagVertices);this._renderer.flagVertices()}function pv(e){let t=e.length;for(;t--;)e[t].unbind(J.Types.change,this._renderer.flagVertices);this._renderer.flagVertices()}function gv(){this._flagFill=!0}function mv(){this._flagStroke=!0}var Ol=class extends Ie{constructor(e,t,n,i){const o=[new Le,new Le,new Le,new Le];super(o,!0,!1,!0),T(this,"_flagWidth",0),T(this,"_flagHeight",0),T(this,"_width",0),T(this,"_height",0),T(this,"_origin",null),this._renderer.type="rectangle";for(let l in wy)Object.defineProperty(this,l,wy[l]);this.width=typeof n=="number"?n:1,this.height=typeof i=="number"?i:1,this.origin=new ce,typeof e=="number"&&(this.translation.x=e),typeof t=="number"&&(this.translation.y=t),this._update()}static fromObject(e){const t=new Ol().copy(e);return"id"in e&&(t.id=e.id),t}copy(e){super.copy.call(this,e);for(let t=0;t<Ol.Properties.length;t++){const n=Ol.Properties[t];n in e&&typeof e[n]=="number"&&(this[n]=e[n])}return this}_update(){if(this._flagVertices||this._flagWidth||this._flagHeight){const e=this._width/2,t=this._height/2;!this._closed&&this.vertices.length===4&&this.vertices.push(new Le),this.vertices[0].set(-e,-t).sub(this._origin).command=de.move,this.vertices[1].set(e,-t).sub(this._origin).command=de.line,this.vertices[2].set(e,t).sub(this._origin).command=de.line,this.vertices[3].set(-e,t).sub(this._origin).command=de.line,this.vertices[4]&&(this.vertices[4].set(-e,-t).sub(this._origin).command=de.line)}return super._update.call(this),this}flagReset(){return this._flagWidth=this._flagHeight=!1,super.flagReset.call(this),this}clone(e){const t=new Ol(0,0,this.width,this.height);t.translation.copy(this.translation),t.rotation=this.rotation,t.scale=this.scale,t.skewX=this.skewX,t.skewY=this.skewY,this.matrix.manual&&t.matrix.copy(this.matrix);for(let n=0;n<Ie.Properties.length;n++){const i=Ie.Properties[n];t[i]=this[i]}return e&&e.add(t),t}toObject(){const e=super.toObject.call(this);return e.renderer.type="rectangle",e.width=this.width,e.height=this.height,e.origin=this.origin.toObject(),e}},Qi=Ol;T(Qi,"Properties",["width","height"]);var wy={width:{enumerable:!0,get:function(){return this._width},set:function(e){this._width=e,this._flagWidth=!0}},height:{enumerable:!0,get:function(){return this._height},set:function(e){this._height=e,this._flagHeight=!0}},origin:{enumerable:!0,get:function(){return this._origin},set:function(e){this._origin&&this._origin.unbind(J.Types.change,this._renderer.flagVertices),this._origin=e,this._origin.bind(J.Types.change,this._renderer.flagVertices),this._renderer.flagVertices()}}},Ll=class extends Qi{constructor(e,t,n,i,o,l){super(t,n,0,0),T(this,"_flagTexture",!1),T(this,"_flagColumns",!1),T(this,"_flagRows",!1),T(this,"_flagFrameRate",!1),T(this,"_flagIndex",!1),T(this,"_amount",1),T(this,"_duration",0),T(this,"_startTime",0),T(this,"_playing",!1),T(this,"_firstFrame",0),T(this,"_lastFrame",0),T(this,"_loop",!0),T(this,"_texture",null),T(this,"_columns",1),T(this,"_rows",1),T(this,"_frameRate",0),T(this,"_index",0),T(this,"_origin",null);for(let a in ky)Object.defineProperty(this,a,ky[a]);this.noStroke(),this.noFill(),e instanceof ze?this.texture=e:typeof e=="string"&&(this.texture=new ze(e)),this.origin=new ce,this._update(),typeof i=="number"&&(this.columns=i),typeof o=="number"&&(this.rows=o),typeof l=="number"&&(this.frameRate=l),this.index=0}static fromObject(e){const t=new Ll().copy(e);return"id"in e&&(t.id=e.id),t}copy(e){super.copy.call(this,e);for(let t=0;t<Ll.Properties.length;t++){const n=Ll.Properties[t];n in e&&(this[n]=e[n])}return this}play(e,t,n){return this._playing=!0,this._firstFrame=0,this._lastFrame=this.amount-1,this._startTime=be.performance.now(),typeof e=="number"&&(this._firstFrame=e),typeof t=="number"&&(this._lastFrame=t),typeof n=="function"?this._onLastFrame=n:delete this._onLastFrame,this._index!==this._firstFrame&&(this._startTime-=1e3*Math.abs(this._index-this._firstFrame)/this._frameRate),this}pause(){return this._playing=!1,this}stop(){return this._playing=!1,this._index=0,this}clone(e){const t=new Ll(this.texture,this.translation.x,this.translation.y,this.columns,this.rows,this.frameRate);return this.playing&&t.play(this._firstFrame,this._lastFrame),t.loop=this.loop,t.firstFrame=this.firstFrame,t.lastFrame=this.lastFrame,e&&e.add(t),t}toObject(){const e=super.toObject.call(this);return e.texture=this.texture.toObject(),e.columns=this.columns,e.rows=this.rows,e.frameRate=this.frameRate,e.index=this.index,e.firstFrame=this.firstFrame,e.lastFrame=this.lastFrame,e.loop=this.loop,e}_update(){const e=this._texture,t=this._columns,n=this._rows;let i,o,l,a,c,h,d,g,m;if(e&&((this._flagColumns||this._flagRows)&&(this._amount=this._columns*this._rows),this._flagFrameRate&&(this._duration=1e3*this._amount/this._frameRate),this._flagTexture&&(this.fill=e),e.loaded)){d=e.image.width,g=e.image.height,i=d/t,o=g/n,a=this._amount,this.width!==i&&(this.width=i),this.height!==o&&(this.height=o),this._playing&&this._frameRate>0&&(be.isNaN(this._lastFrame)&&(this._lastFrame=a-1),l=be.performance.now()-this._startTime,m=this._lastFrame+1,c=1e3*(m-this._firstFrame)/this._frameRate,this._loop?l=l%c:l=Math.min(l,c),h=zn(this._firstFrame,m,l/c),h=Math.floor(h),h!==this._index&&(this._index=h,h>=this._lastFrame-1&&this._onLastFrame&&this._onLastFrame()));const v=this._index%t,_=Math.floor(this._index/t),w=-i*v+(d-i)/2,k=-o*_+(g-o)/2;w!==e.offset.x&&(e.offset.x=w),k!==e.offset.y&&(e.offset.y=k)}return super._update.call(this),this}flagReset(){return this._flagTexture=this._flagColumns=this._flagRows=this._flagFrameRate=!1,super.flagReset.call(this),this}},dc=Ll;T(dc,"Properties",["texture","columns","rows","frameRate","index","firstFrame","lastFrame","loop"]);var ky={texture:{enumerable:!0,get:function(){return this._texture},set:function(e){this._texture=e,this._flagTexture=!0}},columns:{enumerable:!0,get:function(){return this._columns},set:function(e){this._columns=e,this._flagColumns=!0}},rows:{enumerable:!0,get:function(){return this._rows},set:function(e){this._rows=e,this._flagRows=!0}},frameRate:{enumerable:!0,get:function(){return this._frameRate},set:function(e){this._frameRate=e,this._flagFrameRate=!0}},index:{enumerable:!0,get:function(){return this._index},set:function(e){this._index=e,this._flagIndex=!0}},firstFrame:{enumerable:!0,get:function(){return this._firstFrame},set:function(e){this._firstFrame=e}},lastFrame:{enumerable:!0,get:function(){return this._lastFrame},set:function(e){this._lastFrame=e}},loop:{enumerable:!0,get:function(){return this._loop},set:function(e){this._loop=!!e}}},td,yv=class extends Xi{constructor(e){e=Array.isArray(e)?e:Array.prototype.slice.call(arguments),super(e),Q_(this,td,{}),this.attach(e),this.on(J.Types.insert,this.attach),this.on(J.Types.remove,this.detach)}get ids(){return wn(this,td)}attach(e){for(let t=0;t<e.length;t++){const n=e[t];n&&n.id&&(this.ids[n.id]=n)}return this}detach(e){for(let t=0;t<e.length;t++)delete this.ids[e[t].id];return this}};td=new WeakMap;var ys=class extends Ie{constructor(e,t,n,i,o,l,a){const c=a||fn.Resolution*3,h=[];for(let d=0;d<c;d++)h.push(new Le);super(h,!0,!1,!0),T(this,"_flagStartAngle",!1),T(this,"_flagEndAngle",!1),T(this,"_flagInnerRadius",!1),T(this,"_flagOuterRadius",!1),T(this,"_startAngle",0),T(this,"_endAngle",Jt),T(this,"_innerRadius",0),T(this,"_outerRadius",0),this._renderer.type="arc-segment";for(let d in by)Object.defineProperty(this,d,by[d]);typeof n=="number"&&(this.innerRadius=n),typeof i=="number"&&(this.outerRadius=i),typeof o=="number"&&(this.startAngle=o),typeof l=="number"&&(this.endAngle=l),this._update(),typeof e=="number"&&(this.translation.x=e),typeof t=="number"&&(this.translation.y=t)}static fromObject(e){const t=new ys().copy(e);return"id"in e&&(t.id=e.id),t}copy(e){super.copy.call(this,e);for(let t=0;t<ys.Properties.length;t++){const n=ys.Properties[t];n in e&&typeof e[n]=="number"&&(this[n]=e[n])}return this}_update(){if(this._flagVertices||this._flagStartAngle||this._flagEndAngle||this._flagInnerRadius||this._flagOuterRadius){const e=this._startAngle,t=this._endAngle,n=this._innerRadius,i=this._outerRadius,o=Vn(e,Jt)===Vn(t,Jt),l=n>0,a=this.vertices;let c=l?a.length/2:a.length,h,d=0,g,m,v,_,w,k,S,b,x;for(o?c--:l||(c-=2),g=0,m=c-1;g<c;g++){switch(v=g/m,_=a[d],w=v*(t-e)+e,k=(t-e)/c,S=i*Math.cos(w),b=i*Math.sin(w),g){case 0:h=de.move;break;default:h=de.curve}_.command=h,_.x=S,_.y=b,_.controls.left.clear(),_.controls.right.clear(),_.command===de.curve&&(x=i*k/Math.PI,_.controls.left.x=x*Math.cos(w-Et),_.controls.left.y=x*Math.sin(w-Et),_.controls.right.x=x*Math.cos(w+Et),_.controls.right.y=x*Math.sin(w+Et),g===1&&_.controls.left.multiplyScalar(2),g===m&&_.controls.right.multiplyScalar(2)),d++}if(l){for(o?(a[d].command=de.close,d++):(c--,m=c-1),g=0;g<c;g++)v=g/m,_=a[d],w=(1-v)*(t-e)+e,k=(t-e)/c,S=n*Math.cos(w),b=n*Math.sin(w),h=de.curve,g<=0&&(h=o?de.move:de.line),_.command=h,_.x=S,_.y=b,_.controls.left.clear(),_.controls.right.clear(),_.command===de.curve&&(x=n*k/Math.PI,_.controls.left.x=x*Math.cos(w+Et),_.controls.left.y=x*Math.sin(w+Et),_.controls.right.x=x*Math.cos(w-Et),_.controls.right.y=x*Math.sin(w-Et),g===1&&_.controls.left.multiplyScalar(2),g===m&&_.controls.right.multiplyScalar(2)),d++;a[d].copy(a[0]),a[d].command=de.line}else o||(a[d].command=de.line,a[d].x=0,a[d].y=0,d++,a[d].copy(a[0]),a[d].command=de.line)}return super._update.call(this),this}flagReset(){return super.flagReset.call(this),this._flagStartAngle=this._flagEndAngle=this._flagInnerRadius=this._flagOuterRadius=!1,this}clone(e){const t=this.innerRadius,n=this.outerRadius,i=this.startAngle,o=this.endAngle,l=this.vertices.length,a=new ys(0,0,t,n,i,o,l);a.translation.copy(this.translation),a.rotation=this.rotation,a.scale=this.scale,a.skewX=this.skewX,a.skewY=this.skewY,this.matrix.manual&&a.matrix.copy(this.matrix);for(let c=0;c<Ie.Properties.length;c++){const h=Ie.Properties[c];a[h]=this[h]}return e&&e.add(a),a}toObject(){const e=super.toObject.call(this);e.renderer.type="arc-segment";for(let t=0;t<ys.Properties.length;t++){const n=ys.Properties[t];e[n]=this[n]}return e}},pc=ys;T(pc,"Properties",["startAngle","endAngle","innerRadius","outerRadius"]);var by={startAngle:{enumerable:!0,get:function(){return this._startAngle},set:function(e){this._startAngle=e,this._flagStartAngle=!0}},endAngle:{enumerable:!0,get:function(){return this._endAngle},set:function(e){this._endAngle=e,this._flagEndAngle=!0}},innerRadius:{enumerable:!0,get:function(){return this._innerRadius},set:function(e){this._innerRadius=e,this._flagInnerRadius=!0}},outerRadius:{enumerable:!0,get:function(){return this._outerRadius},set:function(e){this._outerRadius=e,this._flagOuterRadius=!0}}},Sh=Math.cos,Eh=Math.sin,_s=class extends Ie{constructor(e,t,n,i){const o=i?Math.max(i,2):4,l=[];for(let a=0;a<o;a++)l.push(new Le(0,0,0,0,0,0));super(l,!0,!0,!0),T(this,"_flagRadius",!1),T(this,"_radius",0),this._renderer.type="circle";for(let a in Sy)Object.defineProperty(this,a,Sy[a]);typeof n=="number"&&(this.radius=n),this._update(),typeof e=="number"&&(this.translation.x=e),typeof t=="number"&&(this.translation.y=t)}static fromObject(e){const t=new _s().copy(e);return"id"in e&&(t.id=e.id),t}copy(e){super.copy.call(this,e);for(let t=0;t<_s.Properties.length;t++){const n=_s.Properties[t];n in e&&typeof e[n]=="number"&&(this[n]=e[n])}return this}_update(){if(this._flagVertices||this._flagRadius){let e=this.vertices.length;!this._closed&&e>2&&(e-=1);const t=4/3*Math.tan(Math.PI/(e*2)),n=this._radius,i=n*t;for(let o=0;o<this.vertices.length;o++){const a=o/e*Jt,c=n*Sh(a),h=n*Eh(a),d=i*Sh(a-Et),g=i*Eh(a-Et),m=i*Sh(a+Et),v=i*Eh(a+Et),_=this.vertices[o];_.command=o===0?de.move:de.curve,_.set(c,h),_.controls.left.set(d,g),_.controls.right.set(m,v)}}return super._update.call(this),this}flagReset(){return this._flagRadius=!1,super.flagReset.call(this),this}clone(e){const t=new _s(0,0,this.radius,this.vertices.length);t.translation.copy(this.translation),t.rotation=this.rotation,t.scale=this.scale,t.skewX=this.skewX,t.skewY=this.skewY,this.matrix.manual&&t.matrix.copy(this.matrix);for(let n=0;n<Ie.Properties.length;n++){const i=Ie.Properties[n];t[i]=this[i]}return e&&e.add(t),t}toObject(){const e=super.toObject.call(this);e.renderer.type="circle";for(let t=0;t<_s.Properties.length;t++){const n=_s.Properties[t];e[n]=this[n]}return e}},Gl=_s;T(Gl,"Properties",["radius"]);var Sy={radius:{enumerable:!0,get:function(){return this._radius},set:function(e){this._radius=e,this._flagRadius=!0}}},Ch=Math.cos,Rh=Math.sin,vs=class extends Ie{constructor(e,t,n,i,o){typeof i!="number"&&typeof n=="number"&&(i=n);const l=o?Math.max(o,2):4,a=[];for(let c=0;c<l;c++)a.push(new Le);super(a,!0,!0,!0),T(this,"_flagWidth",!1),T(this,"_flagHeight",!1),T(this,"_width",0),T(this,"_height",0),this._renderer.type="ellipse";for(let c in Ey)Object.defineProperty(this,c,Ey[c]);typeof n=="number"&&(this.width=n*2),typeof i=="number"&&(this.height=i*2),this._update(),typeof e=="number"&&(this.translation.x=e),typeof t=="number"&&(this.translation.y=t)}static fromObject(e){const t=new vs().copy(e);return"id"in e&&(t.id=e.id),t}copy(e){super.copy.call(this,e);for(let t=0;t<vs.Properties.length;t++){const n=vs.Properties[t];n in e&&typeof e[n]=="number"&&(this[n]=e[n])}return this}_update(){if(this._flagVertices||this._flagWidth||this._flagHeight){let e=this.vertices.length;!this._closed&&e>2&&(e-=1);const t=4/3*Math.tan(Math.PI/(this.vertices.length*2)),n=this._width/2,i=this._height/2;for(let o=0;o<this.vertices.length;o++){const a=o/e*Jt,c=n*Ch(a),h=i*Rh(a),d=n*t*Ch(a-Et),g=i*t*Rh(a-Et),m=n*t*Ch(a+Et),v=i*t*Rh(a+Et),_=this.vertices[o];_.command=o===0?de.move:de.curve,_.set(c,h),_.controls.left.set(d,g),_.controls.right.set(m,v)}}return super._update.call(this),this}flagReset(){return this._flagWidth=this._flagHeight=!1,super.flagReset.call(this),this}clone(e){const t=this.width/2,n=this.height/2,i=this.vertices.length,o=new vs(0,0,t,n,i);o.translation.copy(this.translation),o.rotation=this.rotation,o.scale=this.scale,o.skewX=this.skewX,o.skewY=this.skewY,this.matrix.manual&&o.matrix.copy(this.matrix);for(let l=0;l<Ie.Properties.length;l++){const a=Ie.Properties[l];o[a]=this[a]}return e&&e.add(o),o}toObject(){const e=super.toObject.call(this);e.renderer.type="ellipse";for(let t=0;t<vs.Properties.length;t++){const n=vs.Properties[t];e[n]=this[n]}return e}},Ql=vs;T(Ql,"Properties",["width","height"]);var Ey={width:{enumerable:!0,get:function(){return this._width},set:function(e){this._width=e,this._flagWidth=!0}},height:{enumerable:!0,get:function(){return this._height},set:function(e){this._height=e,this._flagHeight=!0}}},Kk=Math.ceil,qk=Math.floor,Di=class extends jr{constructor(e){super(),T(this,"_flagVertices",!0),T(this,"_flagLength",!0),T(this,"_flagFill",!0),T(this,"_flagStroke",!0),T(this,"_flagLinewidth",!0),T(this,"_flagOpacity",!0),T(this,"_flagVisible",!0),T(this,"_flagSize",!0),T(this,"_flagSizeAttenuation",!0),T(this,"_length",0),T(this,"_fill","#fff"),T(this,"_stroke","#000"),T(this,"_linewidth",1),T(this,"_opacity",1),T(this,"_visible",!0),T(this,"_size",1),T(this,"_sizeAttenuation",!1),T(this,"_beginning",0),T(this,"_ending",1),T(this,"_dashes",null),T(this,"noFill",Ie.prototype.noFill),T(this,"noStroke",Ie.prototype.noStroke),T(this,"corner",Ie.prototype.corner),T(this,"center",Ie.prototype.center),T(this,"getBoundingClientRect",Ie.prototype.getBoundingClientRect),T(this,"_updateLength",Ie.prototype._updateLength);for(let t in Cy)Object.defineProperty(this,t,Cy[t]);this._renderer.type="points",this._renderer.flagVertices=hv.bind(this),this._renderer.bindVertices=dv.bind(this),this._renderer.unbindVertices=pv.bind(this),this._renderer.flagFill=gv.bind(this),this._renderer.flagStroke=mv.bind(this),this._renderer.vertices=null,this._renderer.collection=null,this.sizeAttenuation=!1,this.beginning=0,this.ending=1,this.fill="#fff",this.stroke="#000",this.className="",this.visible=!0,this.vertices=e,this.dashes=[],this.dashes.offset=0}static fromObject(e){const t=typeof e.fill=="string"?e.fill:As(e.fill),n=typeof e.stroke=="string"?e.stroke:As(e.stroke),i=new Di().copy(Id(Fd({},e),{fill:t,stroke:n}));return"id"in e&&(i.id=e.id),i}copy(e){super.copy.call(this,e);for(let t=0;t<e.vertices.length;t++){const n=e.vertices[t];n instanceof Le?this.vertices.push(e.vertices[t].clone()):this.vertices.push(new Le().copy(n))}for(let t=0;t<Di.Properties.length;t++){const n=Di.Properties[t];n in e&&(this[n]=e[n])}return this}clone(e){const t=new Di;for(let n=0;n<this.vertices.length;n++)t.vertices.push(this.vertices[n].clone());for(let n=0;n<Di.Properties.length;n++){const i=Di.Properties[n];t[i]=this[i]}return t.className=this.className,t.translation.copy(this.translation),t.rotation=this.rotation,t.scale=this.scale,t.skewX=this.skewX,t.skewY=this.skewY,this.matrix.manual&&t.matrix.copy(this.matrix),e&&e.add(t),t._update()}toObject(){const e=super.toObject.call(this);return e.renderer.type="points",e.vertices=this.vertices.map(t=>t.toObject()),be.each(Di.Properties,function(t){typeof this[t]<"u"&&(this[t].toObject?e[t]=this[t].toObject():e[t]=this[t])},this),e}subdivide(e){this._update();let t=[];for(let n=0;n<this.vertices.length;n++){const i=this.vertices[n],o=this.vertices[n-1];if(!o)continue;const l=i.x,a=i.y,c=o.x,h=o.y,d=Nd(l,a,l,a,c,h,c,h,e);t=t.concat(d)}return this.vertices=t,this}_update(){if(this._flagVertices){this._flagLength&&this._updateLength(void 0,!0);const e=Math.min(this._beginning,this._ending),t=Math.max(this._beginning,this._ending),n=Yu(this,e*this._length),i=Yu(this,t*this._length),o=Kk(n),l=qk(i);let a=0,c;this._renderer.vertices=[],this._renderer.collection=[];for(let h=0;h<this._collection.length;h++)h>=o&&h<=l&&(c=this._collection[h],this._renderer.collection.push(c),this._renderer.vertices[a*2+0]=c.x,this._renderer.vertices[a*2+1]=c.y,a++)}return super._update.apply(this,arguments),this}flagReset(){return this._flagVertices=this._flagLength=this._flagFill=this._flagStroke=this._flagLinewidth=this._flagOpacity=this._flagVisible=this._flagSize=this._flagSizeAttenuation=!1,super.flagReset.call(this),this}},gc=Di;T(gc,"Properties",["fill","stroke","linewidth","opacity","visible","size","sizeAttenuation","beginning","ending","dashes"]);var Cy={linewidth:{enumerable:!0,get:function(){return this._linewidth},set:function(e){this._linewidth=e,this._flagLinewidth=!0}},opacity:{enumerable:!0,get:function(){return this._opacity},set:function(e){this._opacity=e,this._flagOpacity=!0}},visible:{enumerable:!0,get:function(){return this._visible},set:function(e){this._visible=e,this._flagVisible=!0}},size:{enumerable:!0,get:function(){return this._size},set:function(e){this._size=e,this._flagSize=!0}},sizeAttenuation:{enumerable:!0,get:function(){return this._sizeAttenuation},set:function(e){this._sizeAttenuation=e,this._flagSizeAttenuation=!0}},fill:{enumerable:!0,get:function(){return this._fill},set:function(e){(this._fill instanceof yt||this._fill instanceof Ze||this._fill instanceof Je||this._fill instanceof ze)&&this._fill.unbind(J.Types.change,this._renderer.flagFill),this._fill=e,this._flagFill=!0,(this._fill instanceof yt||this._fill instanceof Ze||this._fill instanceof Je||this._fill instanceof ze)&&this._fill.bind(J.Types.change,this._renderer.flagFill)}},stroke:{enumerable:!0,get:function(){return this._stroke},set:function(e){(this._stroke instanceof yt||this._stroke instanceof Ze||this._stroke instanceof Je||this._stroke instanceof ze)&&this._stroke.unbind(J.Types.change,this._renderer.flagStroke),this._stroke=e,this._flagStroke=!0,(this._stroke instanceof yt||this._stroke instanceof Ze||this._stroke instanceof Je||this._stroke instanceof ze)&&this._stroke.bind(J.Types.change,this._renderer.flagStroke)}},length:{get:function(){return this._flagLength&&this._updateLength(),this._length}},beginning:{enumerable:!0,get:function(){return this._beginning},set:function(e){this._beginning=e,this._flagVertices=!0}},ending:{enumerable:!0,get:function(){return this._ending},set:function(e){this._ending=e,this._flagVertices=!0}},vertices:{enumerable:!0,get:function(){return this._collection},set:function(e){const t=this._renderer.bindVertices,n=this._renderer.unbindVertices;this._collection&&this._collection.unbind(J.Types.insert,t).unbind(J.Types.remove,n),e instanceof Xi?this._collection=e:this._collection=new Xi(e||[]),this._collection.bind(J.Types.insert,t).bind(J.Types.remove,n),t(this._collection)}},dashes:{enumerable:!0,get:function(){return this._dashes},set:function(e){typeof e.offset!="number"&&(e.offset=this.dashes&&this._dashes.offset||0),this._dashes=e}}},Gk=Math.cos,Qk=Math.sin,xs=class extends Ie{constructor(e,t,n,i){i=Math.max(i||0,3),super(),T(this,"_flagWidth",!1),T(this,"_flagHeight",!1),T(this,"_flagSides",!1),T(this,"_radius",0),T(this,"_width",0),T(this,"_height",0),T(this,"_sides",0),this._renderer.type="polygon";for(let o in Ry)Object.defineProperty(this,o,Ry[o]);this.closed=!0,this.automatic=!1,typeof n=="number"&&(this.radius=n),typeof i=="number"&&(this.sides=i),this._update(),typeof e=="number"&&(this.translation.x=e),typeof t=="number"&&(this.translation.y=t)}static fromObject(e){const t=new xs().copy(e);return"id"in e&&(t.id=e.id),t}copy(e){super.copy.call(this,e);for(let t=0;t<xs.Properties.length;t++){const n=xs.Properties[t];n in e&&typeof e[n]=="number"&&(this[n]=e[n])}return this}_update(){if(this._flagVertices||this._flagWidth||this._flagHeight||this._flagSides){const e=this._sides,t=e+1;let n=this.vertices.length;n>e&&(this.vertices.splice(e-1,n-e),n=e);for(let i=0;i<t;i++){const o=(i+.5)/e,l=Jt*o+Math.PI/2,a=this._width*Gk(l)/2,c=this._height*Qk(l)/2;i>=n?this.vertices.push(new Le(a,c)):this.vertices[i].set(a,c),this.vertices[i].command=i===0?de.move:de.line}}return super._update.call(this),this}flagReset(){return this._flagWidth=this._flagHeight=this._flagSides=!1,super.flagReset.call(this),this}clone(e){const t=new xs(0,0,0,this.sides);t.translation.copy(this.translation),t.rotation=this.rotation,t.scale=this.scale,t.skewX=this.skewX,t.skewY=this.skewY,t.width=this.width,t.height=this.height,this.matrix.manual&&t.matrix.copy(this.matrix);for(let n=0;n<Ie.Properties.length;n++){const i=Ie.Properties[n];t[i]=this[i]}return e&&e.add(t),t}toObject(){const e=super.toObject.call(this);e.renderer.type="polygon";for(let t=0;t<xs.Properties.length;t++){const n=xs.Properties[t];e[n]=this[n]}return e}},mc=xs;T(mc,"Properties",["width","height","sides"]);var Ry={radius:{enumerable:!0,get:function(){return this._radius},set:function(e){this._radius=e,this.width=e*2,this.height=e*2}},width:{enumerable:!0,get:function(){return this._width},set:function(e){this._width=e,this._flagWidth=!0,this._radius=Math.max(this.width,this.height)/2}},height:{enumerable:!0,get:function(){return this._height},set:function(e){this._height=e,this._flagHeight=!0,this._radius=Math.max(this.width,this.height)/2}},sides:{enumerable:!0,get:function(){return this._sides},set:function(e){this._sides=e,this._flagSides=!0}}},ws=class extends Ie{constructor(e,t,n,i,o){typeof o>"u"&&typeof n=="number"&&typeof i=="number"&&(o=Math.floor(Math.min(n,i)/12));const l=[];for(let a=0;a<10;a++)l.push(new Le(0,0,0,0,0,0,a===0?de.move:de.curve));super(l),T(this,"_flagWidth",!1),T(this,"_flagHeight",!1),T(this,"_flagRadius",!1),T(this,"_width",0),T(this,"_height",0),T(this,"_radius",12),this._renderer.type="rounded-rectangle";for(let a in Ty)Object.defineProperty(this,a,Ty[a]);this.closed=!0,this.automatic=!1,this._renderer.flagRadius=Zk.bind(this),typeof n=="number"&&(this.width=n),typeof i=="number"&&(this.height=i),typeof o=="number"&&(this.radius=o),this._update(),typeof e=="number"&&(this.translation.x=e),typeof t=="number"&&(this.translation.y=t)}static fromObject(e){const t=new ws().copy(e);return"id"in e&&(t.id=e.id),t}copy(e){super.copy.call(this,e);for(let t=0;t<ws.Properties.length;t++){const n=ws.Properties[t];if(n in e){const i=e[n];/radius/i.test(n)?this[n]=typeof i=="number"||i instanceof ce?i:new ce().copy(i):typeof i=="number"&&(this[n]=i)}}return this}_update(){if(this._flagVertices||this._flagWidth||this._flagHeight||this._flagRadius){const e=this._width,t=this._height;let n,i;this._radius instanceof ce?(n=this._radius.x,i=this._radius.y):(n=this._radius,i=this._radius);let o,l=e/2,a=t/2;o=this.vertices[0],o.x=-(l-n),o.y=-a,o=this.vertices[1],o.x=l-n,o.y=-a,o.controls.left.clear(),o.controls.right.x=n,o.controls.right.y=0,o=this.vertices[2],o.x=l,o.y=-(a-i),o.controls.right.clear(),o.controls.left.clear(),o=this.vertices[3],o.x=l,o.y=a-i,o.controls.left.clear(),o.controls.right.x=0,o.controls.right.y=i,o=this.vertices[4],o.x=l-n,o.y=a,o.controls.right.clear(),o.controls.left.clear(),o=this.vertices[5],o.x=-(l-n),o.y=a,o.controls.left.clear(),o.controls.right.x=-n,o.controls.right.y=0,o=this.vertices[6],o.x=-l,o.y=a-i,o.controls.left.clear(),o.controls.right.clear(),o=this.vertices[7],o.x=-l,o.y=-(a-i),o.controls.left.clear(),o.controls.right.x=0,o.controls.right.y=-i,o=this.vertices[8],o.x=-(l-n),o.y=-a,o.controls.left.clear(),o.controls.right.clear(),o=this.vertices[9],o.copy(this.vertices[8])}return super._update.call(this),this}flagReset(){return this._flagWidth=this._flagHeight=this._flagRadius=!1,super.flagReset.call(this),this}clone(e){const t=this.width,n=this.height,i=this.radius,o=new ws(0,0,t,n,i);o.translation.copy(this.translation),o.rotation=this.rotation,o.scale=this.scale,o.skewX=this.skewX,o.skewY=this.skewY,this.matrix.manual&&o.matrix.copy(this.matrix);for(let l=0;l<Ie.Properties.length;l++){const a=Ie.Properties[l];o[a]=this[a]}return e&&e.add(o),o}toObject(){const e=super.toObject.call(this);e.renderer.type="rounded-rectangle";for(let t=0;t<ws.Properties.length;t++){const n=ws.Properties[t];e[n]=this[n]}return e.radius=typeof this.radius=="number"?this.radius:this.radius.toObject(),e}},Zl=ws;T(Zl,"Properties",["width","height","radius"]);var Ty={width:{enumerable:!0,get:function(){return this._width},set:function(e){this._width=e,this._flagWidth=!0}},height:{enumerable:!0,get:function(){return this._height},set:function(e){this._height=e,this._flagHeight=!0}},radius:{enumerable:!0,get:function(){return this._radius},set:function(e){this._radius instanceof ce&&this._radius.unbind(J.Types.change,this._renderer.flagRadius),this._radius=e,this._radius instanceof ce&&this._radius.bind(J.Types.change,this._renderer.flagRadius),this._flagRadius=!0}}};function Zk(){this._flagRadius=!0}var Jk=Math.cos,eb=Math.sin,ks=class extends Ie{constructor(e,t,n,i,o){arguments.length<=3&&(i=n,n=i/2),(typeof o!="number"||o<=0)&&(o=5),super(),T(this,"_flagInnerRadius",!1),T(this,"_flagOuterRadius",!1),T(this,"_flagSides",!1),T(this,"_innerRadius",0),T(this,"_outerRadius",0),T(this,"_sides",0),this._renderer.type="star";for(let l in My)Object.defineProperty(this,l,My[l]);this.closed=!0,this.automatic=!1,typeof n=="number"&&(this.innerRadius=n),typeof i=="number"&&(this.outerRadius=i),typeof o=="number"&&(this.sides=o),this._update(),typeof e=="number"&&(this.translation.x=e),typeof t=="number"&&(this.translation.y=t)}static fromObject(e){const t=new ks().copy(e);return"id"in e&&(t.id=e.id),t}copy(e){super.copy.call(this,e);for(let t=0;t<ks.Properties.length;t++){const n=ks.Properties[t];n in e&&typeof e[n]=="number"&&(this[n]=e[n])}return this}_update(){if(this._flagVertices||this._flagInnerRadius||this._flagOuterRadius||this._flagSides){const e=this._sides*2,t=e+1;let n=this.vertices.length;n>e&&(this.vertices.splice(e-1,n-e),n=e);for(let i=0;i<t;i++){const o=(i+.5)/e,l=Jt*o,a=(i%2?this._outerRadius:this._innerRadius)/2,c=a*Jk(l),h=a*eb(l);i>=n?this.vertices.push(new Le(c,h)):this.vertices[i].set(c,h),this.vertices[i].command=i===0?de.move:de.line}}return super._update.call(this),this}flagReset(){return this._flagInnerRadius=this._flagOuterRadius=this._flagSides=!1,super.flagReset.call(this),this}clone(e){const t=this.innerRadius,n=this.outerRadius,i=this.sides,o=new ks(0,0,t,n,i);o.translation.copy(this.translation),o.rotation=this.rotation,o.scale=this.scale,o.skewX=this.skewX,o.skewY=this.skewY,this.matrix.manual&&o.matrix.copy(this.matrix);for(let l=0;l<Ie.Properties.length;l++){const a=Ie.Properties[l];o[a]=this[a]}return e&&e.add(o),o}toObject(){const e=super.toObject.call(this);e.renderer.type="star";for(let t=0;t<ks.Properties.length;t++){const n=ks.Properties[t];e[n]=this[n]}return e}},yc=ks;T(yc,"Properties",["innerRadius","outerRadius","sides"]);var My={innerRadius:{enumerable:!0,get:function(){return this._innerRadius},set:function(e){this._innerRadius=e,this._flagInnerRadius=!0}},outerRadius:{enumerable:!0,get:function(){return this._outerRadius},set:function(e){this._outerRadius=e,this._flagOuterRadius=!0}},sides:{enumerable:!0,get:function(){return this._sides},set:function(e){this._sides=e,this._flagSides=!0}}},nd,Py=Math.min,Ay=Math.max;ut.document&&(nd=document.createElement("canvas"));var Dn=class extends jr{constructor(e,t,n,i){super(),T(this,"_flagValue",!0),T(this,"_flagFamily",!0),T(this,"_flagSize",!0),T(this,"_flagLeading",!0),T(this,"_flagAlignment",!0),T(this,"_flagBaseline",!0),T(this,"_flagStyle",!0),T(this,"_flagWeight",!0),T(this,"_flagDecoration",!0),T(this,"_flagFill",!0),T(this,"_flagStroke",!0),T(this,"_flagLinewidth",!0),T(this,"_flagOpacity",!0),T(this,"_flagVisible",!0),T(this,"_flagMask",!1),T(this,"_flagClip",!1),T(this,"_flagDirection",!0),T(this,"_value",""),T(this,"_family","sans-serif"),T(this,"_size",13),T(this,"_leading",17),T(this,"_alignment","center"),T(this,"_baseline","middle"),T(this,"_style","normal"),T(this,"_weight",500),T(this,"_decoration","none"),T(this,"_direction","ltr"),T(this,"_fill","#000"),T(this,"_stroke","none"),T(this,"_linewidth",1),T(this,"_opacity",1),T(this,"_visible",!0),T(this,"_mask",null),T(this,"_clip",!1),T(this,"_dashes",null);for(let o in Oy)Object.defineProperty(this,o,Oy[o]);if(this._renderer.type="text",this._renderer.flagFill=tb.bind(this),this._renderer.flagStroke=nb.bind(this),this.value=e,typeof t=="number"&&(this.translation.x=t),typeof n=="number"&&(this.translation.y=n),this.dashes=[],this.dashes.offset=0,!be.isObject(i))return this;for(let o=0;o<Dn.Properties.length;o++){const l=Dn.Properties[o];l in i&&(this[l]=i[l])}}static Measure(e){if(nd){const t=nd.getContext("2d");t.font=[e._style,e._weight,`${e._size}px/${e._leading}px`,e._family].join(" ");const n=t.measureText(e.value,0,0),i=n.actualBoundingBoxDescent+n.actualBoundingBoxAscent;return{width:n.width,height:i}}else{const t=this.value.length*this.size*Dn.Ratio,n=this.leading;return console.warn("Two.Text: unable to accurately measure text, so using an approximation."),{width:t,height:n}}}static fromObject(e){const t=typeof e.fill=="string"?e.fill:As(e.fill),n=typeof e.stroke=="string"?e.stroke:As(e.stroke),i=new Dn().copy(Id(Fd({},e),{fill:t,stroke:n}));return"id"in e&&(i.id=e.id),i}copy(e){super.copy.call(this,e);for(let t=0;t<Dn.Properties.length;t++){const n=Dn.Properties[t];n in e&&(this[n]=e[n])}return this}clone(e){const t=new Dn(this.value);t.translation.copy(this.translation),t.rotation=this.rotation,t.scale=this.scale;for(let n=0;n<Dn.Properties.length;n++){const i=Dn.Properties[n];t[i]=this[i]}return this.matrix.manual&&t.matrix.copy(this.matrix),e&&e.add(t),t._update()}toObject(){const e=super.toObject.call(this);e.renderer.type="text";for(let t=0;t<Dn.Properties.length;t++){const n=Dn.Properties[t];e[n]=this[n]}return e}noFill(){return this.fill="none",this}noStroke(){return this.stroke="none",this.linewidth=0,this}getBoundingClientRect(e){let t,n,i,o,l;this._update(!0),t=e?this.matrix:this.worldMatrix;const{width:a,height:c}=Dn.Measure(this),h=(this._linewidth||0)/2;switch(this.alignment){case"left":n=-h,i=a+h;break;case"right":n=-(a+h),i=h;break;default:n=-(a/2+h),i=a/2+h}switch(this.baseline){case"middle":o=-(c/2+h),l=c/2+h;break;default:o=-(c+h),l=h}const[d,g]=t.multiply(n,o),[m,v]=t.multiply(n,l),[_,w]=t.multiply(i,o),[k,S]=t.multiply(i,l);return o=Py(g,v,w,S),n=Py(d,m,_,k),i=Ay(d,m,_,k),l=Ay(g,v,w,S),{top:o,left:n,right:i,bottom:l,width:i-n,height:l-o}}flagReset(){return super.flagReset.call(this),this._flagValue=this._flagFamily=this._flagSize=this._flagLeading=this._flagAlignment=this._flagFill=this._flagStroke=this._flagLinewidth=this._flagOpacity=this._flagVisible=this._flagClip=this._flagDecoration=this._flagClassName=this._flagBaseline=this._flagWeight=this._flagStyle=this._flagDirection=!1,this}},ir=Dn;T(ir,"Ratio",.6);T(ir,"Properties",["value","family","size","leading","alignment","linewidth","style","weight","decoration","direction","baseline","opacity","visible","fill","stroke","dashes"]);var Oy={value:{enumerable:!0,get:function(){return this._value},set:function(e){this._value=e,this._flagValue=!0}},family:{enumerable:!0,get:function(){return this._family},set:function(e){this._family=e,this._flagFamily=!0}},size:{enumerable:!0,get:function(){return this._size},set:function(e){this._size=e,this._flagSize=!0}},leading:{enumerable:!0,get:function(){return this._leading},set:function(e){this._leading=e,this._flagLeading=!0}},alignment:{enumerable:!0,get:function(){return this._alignment},set:function(e){this._alignment=e,this._flagAlignment=!0}},linewidth:{enumerable:!0,get:function(){return this._linewidth},set:function(e){this._linewidth=e,this._flagLinewidth=!0}},style:{enumerable:!0,get:function(){return this._style},set:function(e){this._style=e,this._flagStyle=!0}},weight:{enumerable:!0,get:function(){return this._weight},set:function(e){this._weight=e,this._flagWeight=!0}},decoration:{enumerable:!0,get:function(){return this._decoration},set:function(e){this._decoration=e,this._flagDecoration=!0}},direction:{enumerable:!0,get:function(){return this._direction},set:function(e){this._direction=e,this._flagDirection=!0}},baseline:{enumerable:!0,get:function(){return this._baseline},set:function(e){this._baseline=e,this._flagBaseline=!0}},opacity:{enumerable:!0,get:function(){return this._opacity},set:function(e){this._opacity=e,this._flagOpacity=!0}},visible:{enumerable:!0,get:function(){return this._visible},set:function(e){this._visible=e,this._flagVisible=!0}},fill:{enumerable:!0,get:function(){return this._fill},set:function(e){(this._fill instanceof yt||this._fill instanceof Ze||this._fill instanceof Je||this._fill instanceof ze)&&this._fill.unbind(J.Types.change,this._renderer.flagFill),this._fill=e,this._flagFill=!0,(this._fill instanceof yt||this._fill instanceof Ze||this._fill instanceof Je||this._fill instanceof ze)&&this._fill.bind(J.Types.change,this._renderer.flagFill)}},stroke:{enumerable:!0,get:function(){return this._stroke},set:function(e){(this._stroke instanceof yt||this._stroke instanceof Ze||this._stroke instanceof Je||this._stroke instanceof ze)&&this._stroke.unbind(J.Types.change,this._renderer.flagStroke),this._stroke=e,this._flagStroke=!0,(this._stroke instanceof yt||this._stroke instanceof Ze||this._stroke instanceof Je||this._stroke instanceof ze)&&this._stroke.bind(J.Types.change,this._renderer.flagStroke)}},mask:{enumerable:!0,get:function(){return this._mask},set:function(e){this._mask=e,this._flagMask=!0,be.isObject(e)&&!e.clip&&(e.clip=!0)}},clip:{enumerable:!0,get:function(){return this._clip},set:function(e){this._clip=e,this._flagClip=!0}},dashes:{enumerable:!0,get:function(){return this._dashes},set:function(e){typeof e.offset!="number"&&(e.offset=this.dashes&&this._dashes.offset||0),this._dashes=e}}};function tb(){this._flagFill=!0}function nb(){this._flagStroke=!0}var vu=Math.min,xu=Math.max,bo=class extends jr{constructor(e){super(),T(this,"_flagAdditions",!1),T(this,"_flagSubtractions",!1),T(this,"_flagOrder",!1),T(this,"_flagOpacity",!0),T(this,"_flagBeginning",!1),T(this,"_flagEnding",!1),T(this,"_flagLength",!1),T(this,"_flagMask",!1),T(this,"_fill","#fff"),T(this,"_stroke","#000"),T(this,"_linewidth",1),T(this,"_opacity",1),T(this,"_visible",!0),T(this,"_cap","round"),T(this,"_join","round"),T(this,"_miter",4),T(this,"_closed",!0),T(this,"_curved",!1),T(this,"_automatic",!0),T(this,"_beginning",0),T(this,"_ending",1),T(this,"_length",0),T(this,"_mask",null);for(let t in Ly)Object.defineProperty(this,t,Ly[t]);this._renderer.type="group",this.additions=[],this.subtractions=[],this.children=Array.isArray(e)?e:Array.prototype.slice.call(arguments)}static InsertChildren(e){for(let t=0;t<e.length;t++)Fy.call(this,e[t],this)}static RemoveChildren(e){for(let t=0;t<e.length;t++)Fy.call(this,e[t])}static OrderChildren(e){this._flagOrder=!0}static fromObject(e){const t=new bo;for(let i=0;i<bo.Properties.length;i++){const o=bo.Properties[i];o in e&&(/(fill|stroke)/i.test(o)?t[o]=typeof e[o]=="string"?e[o]:As(e[o]):t[o]=e[o])}return"mask"in e&&(t.mask=n(e.mask)),"id"in e&&(t.id=e.id),t.children=e.children.map(n),t;function n(i){if(i&&i.renderer)switch(i.renderer.type){case"arc-segment":return pc.fromObject(i);case"circle":return Gl.fromObject(i);case"ellipse":return Ql.fromObject(i);case"points":return gc.fromObject(i);case"polygon":return mc.fromObject(i);case"rectangle":return Qi.fromObject(i);case"rounded-rectangle":return Zl.fromObject(i);case"star":return yc.fromObject(i);case"path":return Ie.fromObject(i);case"text":return ir.fromObject(i);case"group":return bo.fromObject(i);case"shape":return jr.fromObject(i);case"element":return Io.fromObject(i)}return i}}copy(e){return super.copy.call(this,e),console.warn("Two.Group.copy is not supported yet."),this}clone(e){const t=new bo,n=this.children.map(function(i){return i.clone()});return t.add(n),t.opacity=this.opacity,this.mask&&(t.mask=this.mask),t.translation.copy(this.translation),t.rotation=this.rotation,t.scale=this.scale,t.className=this.className,this.matrix.manual&&t.matrix.copy(this.matrix),e&&e.add(t),t._update()}toObject(){const e=super.toObject.call(this);return e.renderer.type="group",e.children=[],e.opacity=this.opacity,e.className=this.className,e.mask=this.mask?this.mask.toObject():null,be.each(this.children,(t,n)=>{e.children[n]=t.toObject()},this),e}corner(){const e=this.getBoundingClientRect(!0);for(let t=0;t<this.children.length;t++){const n=this.children[t];n.translation.x-=e.left,n.translation.y-=e.top}return this.mask&&(this.mask.translation.x-=e.left,this.mask.translation.y-=e.top),this}center(){const e=this.getBoundingClientRect(!0),t=e.left+e.width/2-this.translation.x,n=e.top+e.height/2-this.translation.y;for(let i=0;i<this.children.length;i++){const o=this.children[i];o.isShape&&(o.translation.x-=t,o.translation.y-=n)}return this.mask&&(this.mask.translation.x-=t,this.mask.translation.y-=n),this}getById(e){let t=null;function n(i){if(i.id===e)return i;if(i.children){for(let o=0;o<i.children.length;o++)if(t=n(i.children[o]),t)return t}return null}return n(this)}getByClassName(e){const t=[];function n(i){if(Array.prototype.indexOf.call(i.classList,e)>=0&&t.push(i),i.children)for(let o=0;o<i.children.length;o++){const l=i.children[o];n(l)}return t}return n(this)}getByType(e){const t=[];function n(i){if(i instanceof e&&t.push(i),i.children)for(let o=0;o<i.children.length;o++){const l=i.children[o];n(l)}return t}return n(this)}add(e){e instanceof Array?e=e.slice():e=Array.prototype.slice.call(arguments);for(let t=0;t<e.length;t++){const n=e[t];if(!(n&&n.id))continue;const i=Array.prototype.indexOf.call(this.children,n);i>=0&&this.children.splice(i,1),this.children.push(n)}return this}remove(e){const t=arguments.length,n=this.parent;if(t<=0&&n)return n.remove(this),this;e instanceof Array?e=e.slice():e=Array.prototype.slice.call(arguments);for(let i=0;i<e.length;i++){const o=e[i];if(!o||!this.children.ids[o.id])continue;const l=this.children.indexOf(o);l>=0&&this.children.splice(l,1)}return this}getBoundingClientRect(e){let t,n,i,o,l,a;this._update(!0);let c=1/0,h=-1/0,d=1/0,g=-1/0;const m=/texture|gradient/i;n=e?this.matrix:this.worldMatrix;for(let v=0;v<this.children.length;v++){const _=this.children[v];if(!(!_.visible||m.test(_._renderer.type))&&(t=_.getBoundingClientRect(e),i=typeof t.top!="number"||be.isNaN(t.top)||!isFinite(t.top),o=typeof t.left!="number"||be.isNaN(t.left)||!isFinite(t.left),l=typeof t.right!="number"||be.isNaN(t.right)||!isFinite(t.right),a=typeof t.bottom!="number"||be.isNaN(t.bottom)||!isFinite(t.bottom),!(i||o||l||a)))if(e){const[w,k]=n.multiply(t.left,t.top),[S,b]=n.multiply(t.right,t.top),[x,R]=n.multiply(t.left,t.bottom),[M,P]=n.multiply(t.right,t.bottom);d=vu(k,b,R,P),c=vu(w,S,x,M),h=xu(w,S,x,M),g=xu(k,b,R,P)}else d=vu(t.top,d),c=vu(t.left,c),h=xu(t.right,h),g=xu(t.bottom,g)}return{top:d,left:c,right:h,bottom:g,width:h-c,height:g-d}}noFill(){return this.children.forEach(function(e){e.noFill()}),this}noStroke(){return this.children.forEach(function(e){e.noStroke()}),this}subdivide(){const e=arguments;return this.children.forEach(function(t){t.subdivide.apply(t,e)}),this}_update(){let e,t,n;if(this._flagBeginning||this._flagEnding){const i=Math.min(this._beginning,this._ending),o=Math.max(this._beginning,this._ending),l=this.length;let a=0;const c=i*l,h=o*l;for(e=0;e<this.children.length;e++)n=this.children[e],t=n.length,c>a+t?(n.beginning=1,n.ending=1):h<a?(n.beginning=0,n.ending=0):c>a&&c<a+t?(n.beginning=(c-a)/t,n.ending=1):h>a&&h<a+t?(n.beginning=0,n.ending=(h-a)/t):(n.beginning=0,n.ending=1),a+=t}return super._update.apply(this,arguments)}flagReset(){return this._flagAdditions&&(this.additions.length=0,this._flagAdditions=!1),this._flagSubtractions&&(this.subtractions.length=0,this._flagSubtractions=!1),this._flagOrder=this._flagMask=this._flagOpacity=this._flagBeginning=this._flagEnding=!1,super.flagReset.call(this),this}},xt=bo;T(xt,"Children",yv);T(xt,"Properties",["fill","stroke","linewidth","cap","join","miter","closed","curved","automatic"]);var Ly={visible:{enumerable:!0,get:function(){return this._visible},set:function(e){this._flagVisible=this._visible!==e||this._flagVisible,this._visible=e}},opacity:{enumerable:!0,get:function(){return this._opacity},set:function(e){this._flagOpacity=this._opacity!==e||this._flagOpacity,this._opacity=e}},beginning:{enumerable:!0,get:function(){return this._beginning},set:function(e){this._flagBeginning=this._beginning!==e||this._flagBeginning,this._beginning=e}},ending:{enumerable:!0,get:function(){return this._ending},set:function(e){this._flagEnding=this._ending!==e||this._flagEnding,this._ending=e}},length:{enumerable:!0,get:function(){if(this._flagLength||this._length<=0){if(this._length=0,!this.children)return this._length;for(let e=0;e<this.children.length;e++){const t=this.children[e];this._length+=t.length}}return this._length}},fill:{enumerable:!0,get:function(){return this._fill},set:function(e){this._fill=e;for(let t=0;t<this.children.length;t++){const n=this.children[t];n.fill=e}}},stroke:{enumerable:!0,get:function(){return this._stroke},set:function(e){this._stroke=e;for(let t=0;t<this.children.length;t++){const n=this.children[t];n.stroke=e}}},linewidth:{enumerable:!0,get:function(){return this._linewidth},set:function(e){this._linewidth=e;for(let t=0;t<this.children.length;t++){const n=this.children[t];n.linewidth=e}}},join:{enumerable:!0,get:function(){return this._join},set:function(e){this._join=e;for(let t=0;t<this.children.length;t++){const n=this.children[t];n.join=e}}},miter:{enumerable:!0,get:function(){return this._miter},set:function(e){this._miter=e;for(let t=0;t<this.children.length;t++){const n=this.children[t];n.miter=e}}},cap:{enumerable:!0,get:function(){return this._cap},set:function(e){this._cap=e;for(let t=0;t<this.children.length;t++){const n=this.children[t];n.cap=e}}},closed:{enumerable:!0,get:function(){return this._closed},set:function(e){this._closed=e;for(let t=0;t<this.children.length;t++){const n=this.children[t];n.closed=e}}},curved:{enumerable:!0,get:function(){return this._curved},set:function(e){this._curved=e;for(let t=0;t<this.children.length;t++){const n=this.children[t];n.curved=e}}},automatic:{enumerable:!0,get:function(){return this._automatic},set:function(e){this._automatic=e;for(let t=0;t<this.children.length;t++){const n=this.children[t];n.automatic=e}}},children:{enumerable:!0,get:function(){return this._children},set:function(e){const t=xt.InsertChildren.bind(this),n=xt.RemoveChildren.bind(this),i=xt.OrderChildren.bind(this);this._children&&(this._children.unbind(),this._children.length>0&&n(this._children)),this._children=new yv(e),this._children.bind(J.Types.insert,t),this._children.bind(J.Types.remove,n),this._children.bind(J.Types.order,i),e.length>0&&t(e)}},mask:{enumerable:!0,get:function(){return this._mask},set:function(e){this._mask=e,this._flagMask=!0,be.isObject(e)&&!e.clip&&(e.clip=!0)}}};function Fy(e,t){const n=e.parent;let i;if(n===t){o();return}if(n&&n.children.ids[e.id]&&(i=Array.prototype.indexOf.call(n.children,e),n.children.splice(i,1),l()),t){o();return}l(),n._flagAdditions&&n.additions.length===0&&(n._flagAdditions=!1),n._flagSubtractions&&n.subtractions.length===0&&(n._flagSubtractions=!1),delete e.parent;function o(){t.subtractions.length>0&&(i=Array.prototype.indexOf.call(t.subtractions,e),i>=0&&t.subtractions.splice(i,1)),t.additions.length>0&&(i=Array.prototype.indexOf.call(t.additions,e),i>=0&&t.additions.splice(i,1)),e.parent=t,t.additions.push(e),t._flagAdditions=!0}function l(){i=Array.prototype.indexOf.call(n.additions,e),i>=0&&n.additions.splice(i,1),i=Array.prototype.indexOf.call(n.subtractions,e),i<0&&(n.subtractions.push(e),n._flagSubtractions=!0)}}var Dd=class extends Ie{constructor(e,t,n,i){const o=[new Le(e,t),new Le(n,i)];super(o);for(let l in Iy)Object.defineProperty(this,l,Iy[l]);this.vertices[0].command=de.move,this.vertices[1].command=de.line,this.automatic=!1}},Iy={left:{enumerable:!0,get:function(){return this.vertices[0]},set:function(e){if(be.isObject(e))this.vertices.splice(0,1,e);else{const t=new $n("Two.Line.x argument is not an object.");console.warn(t.name,t.message)}}},right:{enumerable:!0,get:function(){return this.vertices[1]},set:function(e){if(be.isObject(e))this.vertices.splice(1,1,e);else{const t=new $n("Two.Line.y argument is not an object.");console.warn(t.name,t.message)}}}},Fr={path:/[+-]?(?:\d*\.\d+|\d+)(?:[eE][+-]\d+)?/g,cssBackgroundImage:/url\(['"]?#([\w\d-_]*)['"]?\)/i,unitSuffix:/[a-zA-Z%]*/i},rb={start:"left",middle:"center",end:"right"},Ny=["id","class","transform","xmlns","viewBox"],ib=["x","y","width","height","href","xlink:href"];function sb(e){return rb[e]}function ob(e){const t=e.getAttribute("dominant-baseline"),n=e.getAttribute("alignment-baseline");return t||n}function Hl(e){return e.replace(/svg:/gi,"").toLowerCase()}function jy(e,t){if(t.x+=e.translateX,t.y+=e.translateY,t.x*=e.scaleX,t.y*=e.scaleY,e.rotation!==0){const n=t.length();t.x=n*Math.cos(e.rotation),t.y=n*Math.sin(e.rotation)}}function lb(e,t){t||(t={});const n=e.split(";");for(let i=0;i<n.length;i++){const o=n[i].split(":"),l=o[0],a=o[1];typeof l>"u"||typeof a>"u"||(t[l]=a.replace(/\s/,""))}return t}function ab(e){const t={},n=ub(e),i=Math.max(n.length,e.style.length);for(let o=0;o<i;o++){const l=e.style[o],a=n[o];l&&(t[l]=e.style[l]),a&&(t[a]=e.getAttribute(a))}return t}function ub(e){const t=e.getAttributeNames();for(let n=0;n<Ny.length;n++){const i=Ny[n],o=Array.prototype.indexOf.call(t,i);o>=0&&t.splice(o,1)}return t}function cb(e,t){const n=t.split(/[\s,]/),i=-parseFloat(n[0]),o=-parseFloat(n[1]),l=parseFloat(n[2]),a=parseFloat(n[3]);if(i&&o)for(let m=0;m<e.children.length;m++){const v=e.children[m];"translation"in v?v.translation.add(i,o):"x"in v?v.x=i:"y"in v&&(v.y=o)}const c=typeof e.x=="number",h=typeof e.y=="number",d=typeof e.width=="number",g=typeof e.height=="number";return c&&(e.translation.x+=e.x),h&&(e.translation.y+=e.y),(d||g)&&(e.scale=new ce(1,1)),d&&(e.scale.x=e.width/l),g&&(e.scale.y=e.height/a),e.mask=new Qi(0,0,l,a),e.mask.origin.set(-l/2,-a/2),e}function nr(e,t,n){const i={},o={},l={};let a,c,h,d,g,m,v,_,w,k,S,b,x,R,M,P,I;if(e===null)return i;if(ut.getComputedStyle){const j=ut.getComputedStyle(e);for(a=j.length;a--;)h=j[a],d=j[h],typeof d<"u"&&(i[h]=d)}for(a=0;a<e.attributes.length;a++)m=e.attributes[a],/style/i.test(m.nodeName)?lb(m.value,l):o[m.nodeName]=m.value;typeof i.opacity<"u"&&(i["stroke-opacity"]=i.opacity,i["fill-opacity"]=i.opacity,delete i.opacity),n&&be.defaults(i,n),be.extend(i,l,o),i.visible=!(typeof i.display>"u"&&/none/i.test(i.display))||typeof i.visibility>"u"&&/hidden/i.test(i.visibility);for(h in i)switch(d=i[h],h){case"gradientTransform":if(/none/i.test(d)||(c=e.gradientTransform&&e.gradientTransform.baseVal&&e.gradientTransform.baseVal.length>0?e.gradientTransform.baseVal[0].matrix:e.getCTM?e.getCTM():null,c===null))break;switch(v=Ao(c),t._renderer.type){case"linear-gradient":jy(v,t.left),jy(v,t.right);break;case"radial-gradient":t.center.x+=v.translateX,t.center.y+=v.translateY,t.focal.x+=v.translateX,t.focal.y+=v.translateY,t.radius*=Math.max(v.scaleX,v.scaleY);break}break;case"transform":if(/none/i.test(d)||(c=e.transform&&e.transform.baseVal&&e.transform.baseVal.length>0?e.transform.baseVal[0].matrix:e.getCTM?e.getCTM():null,c===null))break;v=Ao(c),t.translation.set(v.translateX,v.translateY),t.rotation=Math.PI*(v.rotation/180),t.scale=new ce(v.scaleX,v.scaleY),_=parseFloat((i.x+"").replace("px")),w=parseFloat((i.y+"").replace("px")),_&&(t.translation.x=_),w&&(t.translation.y=w);break;case"visible":if(t instanceof xt){t._visible=d;break}t.visible=d;break;case"stroke-linecap":if(t instanceof xt){t._cap=d;break}t.cap=d;break;case"stroke-linejoin":if(t instanceof xt){t._join=d;break}t.join=d;break;case"stroke-miterlimit":if(t instanceof xt){t._miter=d;break}t.miter=d;break;case"stroke-width":if(t instanceof xt){t._linewidth=parseFloat(d);break}t.linewidth=parseFloat(d);break;case"opacity":case"stroke-opacity":case"fill-opacity":if(t instanceof xt){t._opacity=parseFloat(d);break}t.opacity=parseFloat(d);break;case"clip-path":if(Fr.cssBackgroundImage.test(d)&&(k=d.replace(Fr.cssBackgroundImage,"$1"),nt.defs.current&&nt.defs.current.contains(k)&&(b=nt.defs.current.get(k),b&&b.childNodes.length>0)))switch(b=b.childNodes[0],x=Hl(b.nodeName),t.mask=nt[x].call(this,b,{}),t._renderer.type){case"text":case"path":t.position.add(t.mask.position),t.mask.position.clear();break}break;case"fill":case"stroke":g=(t instanceof xt?"_":"")+h,Fr.cssBackgroundImage.test(d)?(k=d.replace(Fr.cssBackgroundImage,"$1"),nt.defs.current&&nt.defs.current.contains(k)?(b=nt.defs.current.get(k),b.object||(x=Hl(b.nodeName),b.object=nt[x].call(this,b,{})),b=b.object):(S=hb(this),b=S.getById(k)),t[g]=b):t[g]=d;break;case"id":t.id=d;break;case"class":case"className":t.classList=d.split(" "),t._flagClassName=!0;break;case"x":case"y":if(R=t instanceof yt,M=t instanceof Ze,P=t instanceof Je,R||M||P)break;d.match("[a-z%]$")&&!d.endsWith("px")&&(I=new $n("only pixel values are supported with the "+h+" attribute."),console.warn(I.name,I.message)),t.translation[h]=parseFloat(d);break;case"font-family":t instanceof ir&&(t.family=d);break;case"font-size":t instanceof ir&&(t.size=d);break;case"font-weight":t instanceof ir&&(t.weight=d);break;case"font-style":t instanceof ir&&(t.style=d);break;case"text-decoration":t instanceof ir&&(t.decoration=d);break;case"line-height":t instanceof ir&&(t.leading=d);break}return Object.keys(e.dataset).length&&(t.dataset=e.dataset),i}function fb(e,t){for(let n=0,i=e.childNodes.length;n<i;n++){const o=e.childNodes[n];!o.id||Hl(e.nodeName)==="#text"||t.add(o.id,o)}}function hb(e){for(;e.parent;)e=e.parent;return e.scene}var nt={svg:function(e){const t=nt.defs.current=new hc,n=e.getElementsByTagName("defs");for(let w=0;w<n.length;w++)fb(n[w],t);const i=nt.g.call(this,e),o=e.getAttribute("viewBox"),l=e.getAttribute("x"),a=e.getAttribute("y"),c=e.getAttribute("width"),h=e.getAttribute("height");i.defs=t;const d=o!==null,g=l!==null,m=a!==null,v=c!==null,_=h!==null;return g&&(i.x=parseFloat(l.replace(Fr.unitSuffix,""))),m&&(i.y=parseFloat(a.replace(Fr.unitSuffix,""))),v&&(i.width=parseFloat(c.replace(Fr.unitSuffix,""))),_&&(i.height=parseFloat(h.replace(Fr.unitSuffix,""))),d&&cb(i,o),delete nt.defs.current,i},defs:function(e){return null},use:function(e,t){let n;const i=e.getAttribute("href")||e.getAttribute("xlink:href");if(!i)return n=new $n("encountered <use /> with no href."),console.warn(n.name,n.message),null;const o=i.slice(1);if(!nt.defs.current.contains(o))return n=new $n("unable to find element for reference "+i+"."),console.warn(n.name,n.message),null;const a=nt.defs.current.get(o).cloneNode(!0);for(let h=0;h<e.attributes.length;h++){const d=e.attributes[h],g=ib.includes(d.nodeName),m=!a.hasAttribute(d.nodeName);(g||m)&&a.setAttribute(d.nodeName,d.value)}const c=Hl(a.nodeName);return nt[c].call(this,a,t)},g:function(e,t){const n=new xt;nr.call(this,e,n,t),this.add(n);const i=ab.call(this,e);for(let o=0,l=e.childNodes.length;o<l;o++){const a=e.childNodes[o],c=a.nodeName;if(!c)return;const h=Hl(c);if(h in nt){const d=nt[h].call(n,a,i);d&&!d.parent&&n.add(d)}}return n},polygon:function(e,t){let n;typeof e=="string"?n=e:n=e.getAttribute("points");const i=[];n.replace(/(-?[\d.eE-]+)[,|\s](-?[\d.eE-]+)/g,function(l,a,c){i.push(new Le(parseFloat(a),parseFloat(c)))});const o=new Ie(i,!0);return o.stroke="none",o.fill="black",nr.call(this,e,o,t),o},polyline:function(e,t){const n=nt.polygon.call(this,e,t);return n.closed=!1,n},path:function(e,t){let n;typeof e=="string"?(n=e,e=null):n=e.getAttribute("d");let i=[],o=!1,l=!1;if(n){let c=new Le,h,d,g=n.match(/[a-df-z][^a-df-z]*/gi);const m=g.length-1;be.each(g.slice(0),function(v,_){const w=v.slice(1).trim().match(Fr.path),k=v[0],S=k.toLowerCase();let b,x,R,M,P;const I=[];switch(_===0&&(g=[]),S){case"h":case"v":w.length>1&&(b=1);break;case"m":case"l":case"t":w.length>2&&(b=2);break;case"s":case"q":w.length>4&&(b=4);break;case"c":w.length>6&&(b=6);break;case"a":w.length>7&&(b=7);break}if(b){for(x=0,R=w.length,P=0;x<R;x+=b){if(M=k,P>0)switch(k){case"m":M="l";break;case"M":M="L";break}I.push(M+w.slice(x,x+b).join(" ")),P++}g=Array.prototype.concat.apply(g,I)}else g.push(v)}),be.each(g,function(v,_){let w,k,S;const b=v[0],x=b.toLowerCase();d=v.slice(1).trim().match(Fr.path),l=b===x;let R,M,P,I,j,X,z,W,K,q,ae,te,re,ue,Z,D,B;switch(x){case"z":if(_>=m)o=!0;else{k=c.x,S=c.y,w=new Le(k,S,void 0,void 0,void 0,void 0,de.close);for(let G=i.length-1;G>=0;G--){const L=i[G];if(/m/i.test(L.command)){c=L;break}}}break;case"m":case"l":h=void 0,k=parseFloat(d[0]),S=parseFloat(d[1]),w=new Le(k,S,void 0,void 0,void 0,void 0,/m/i.test(x)?de.move:de.line),l&&w.addSelf(c),c=w;break;case"h":case"v":q=/h/i.test(x)?"x":"y",ae=/x/i.test(q)?"y":"x",w=new Le(void 0,void 0,void 0,void 0,void 0,void 0,de.line),w[q]=parseFloat(d[0]),w[ae]=c[ae],l&&(w[q]+=c[q]),c=w;break;case"c":case"s":R=c.x,M=c.y,h||(h=new ce),/c/i.test(x)?(P=parseFloat(d[0]),I=parseFloat(d[1]),j=parseFloat(d[2]),X=parseFloat(d[3]),z=parseFloat(d[4]),W=parseFloat(d[5])):(K=ed(c,h,l),P=K.x,I=K.y,j=parseFloat(d[0]),X=parseFloat(d[1]),z=parseFloat(d[2]),W=parseFloat(d[3])),l&&(P+=R,I+=M,j+=R,X+=M,z+=R,W+=M),c.controls.right.set(P-c.x,I-c.y),w=new Le(z,W,j-z,X-W,void 0,void 0,de.curve),c=w,h=w.controls.left;break;case"t":case"q":R=c.x,M=c.y,h||(h=new ce),/q/i.test(x)?(P=parseFloat(d[0]),I=parseFloat(d[1]),j=parseFloat(d[0]),X=parseFloat(d[1]),z=parseFloat(d[2]),W=parseFloat(d[3])):(K=ed(c,h,l),P=K.x,I=K.y,j=K.x,X=K.y,z=parseFloat(d[0]),W=parseFloat(d[1])),l&&(P+=R,I+=M,j+=R,X+=M,z+=R,W+=M),c.controls.right.set((P-c.x)*.33,(I-c.y)*.33),w=new Le(z,W,j-z,X-W,void 0,void 0,de.curve),c=w,h=w.controls.left;break;case"a":R=c.x,M=c.y,re=parseFloat(d[0]),ue=parseFloat(d[1]),Z=parseFloat(d[2]),D=parseFloat(d[3]),B=parseFloat(d[4]),z=parseFloat(d[5]),W=parseFloat(d[6]),l&&(z+=R,W+=M),te=new Le(z,W),te.command=de.arc,te.rx=re,te.ry=ue,te.xAxisRotation=Z,te.largeArcFlag=D,te.sweepFlag=B,w=te,c=te,h=void 0;break}w&&(Array.isArray(w)?i=i.concat(w):i.push(w))})}n=new Ie(i,o,void 0,!0),n.stroke="none",n.fill="black";const a=n.getBoundingClientRect(!0);return a.centroid={x:a.left+a.width/2,y:a.top+a.height/2},be.each(n.vertices,function(c){c.subSelf(a.centroid)}),nr.call(this,e,n,t),n.translation.addSelf(a.centroid),n},circle:function(e,t){const n=parseFloat(e.getAttribute("cx")),i=parseFloat(e.getAttribute("cy")),o=parseFloat(e.getAttribute("r")),l=new Gl(0,0,o);return l.stroke="none",l.fill="black",nr.call(this,e,l,t),l.translation.x=n,l.translation.y=i,l},ellipse:function(e,t){const n=parseFloat(e.getAttribute("cx")),i=parseFloat(e.getAttribute("cy")),o=parseFloat(e.getAttribute("rx")),l=parseFloat(e.getAttribute("ry")),a=new Ql(0,0,o,l);return a.stroke="none",a.fill="black",nr.call(this,e,a,t),a.translation.x=n,a.translation.y=i,a},rect:function(e,t){const n=parseFloat(e.getAttribute("rx")),i=parseFloat(e.getAttribute("ry"));if(!be.isNaN(n)||!be.isNaN(i))return nt["rounded-rect"](e);const o=parseFloat(e.getAttribute("width")),l=parseFloat(e.getAttribute("height")),a=o/2,c=l/2,h=new Qi(0,0,o,l);return h.stroke="none",h.fill="black",nr.call(this,e,h,t),h.translation.x+=a,h.translation.y+=c,h},"rounded-rect":function(e,t){const n=parseFloat(e.getAttribute("rx"))||0,i=parseFloat(e.getAttribute("ry"))||0,o=parseFloat(e.getAttribute("width")),l=parseFloat(e.getAttribute("height")),a=o/2,c=l/2,h=new ce(n,i),d=new Zl(0,0,o,l,h);return d.stroke="none",d.fill="black",nr.call(this,e,d,t),d.translation.x+=a,d.translation.y+=c,d},line:function(e,t){const n=parseFloat(e.getAttribute("x1")),i=parseFloat(e.getAttribute("y1")),o=parseFloat(e.getAttribute("x2")),l=parseFloat(e.getAttribute("y2")),a=new Dd(n,i,o,l).noFill();return nr.call(this,e,a,t),a},lineargradient:function(e,t){let n=e.getAttribute("gradientUnits"),i=e.getAttribute("spreadMethod");n||(n="objectBoundingBox"),i||(i="pad");let o=parseFloat(e.getAttribute("x1")||0),l=parseFloat(e.getAttribute("y1")||0),a=parseFloat(e.getAttribute("x2")||0),c=parseFloat(e.getAttribute("y2")||0);const h=(a+o)/2,d=(c+l)/2;/userSpaceOnUse/i.test(n)&&(o-=h,l-=d,a-=h,c-=d);const g=[];for(let v=0;v<e.children.length;v++){const _=e.children[v];let w=_.getAttribute("offset");/%/gi.test(w)&&(w=parseFloat(w.replace(/%/gi,""))/100),w=parseFloat(w);let k=_.getAttribute("stop-color"),S=_.getAttribute("stop-opacity"),b=_.getAttribute("style"),x;k===null&&(x=b?b.match(/stop-color:\s?([#a-fA-F0-9]*)/):!1,k=x&&x.length>1?x[1]:void 0),S===null?(x=b?b.match(/stop-opacity:\s?([0-9.-]*)/):!1,S=x&&x.length>1?parseFloat(x[1]):1):S=parseFloat(S),g.push(new zr(w,k,S))}const m=new Ze(o,l,a,c,g);return m.spread=i,m.units=n,nr.call(this,e,m,t),m},radialgradient:function(e,t){let n=e.getAttribute("gradientUnits"),i=e.getAttribute("spreadMethod");n||(n="objectBoundingBox"),i||(i="pad");let o=parseFloat(e.getAttribute("cx"))||0,l=parseFloat(e.getAttribute("cy"))||0,a=parseFloat(e.getAttribute("r")),c=parseFloat(e.getAttribute("fx")),h=parseFloat(e.getAttribute("fy"));be.isNaN(c)&&(c=o),be.isNaN(h)&&(h=l);const d=Math.abs(o+c)/2,g=Math.abs(l+h)/2;/userSpaceOnUse/i.test(n)&&(o-=d,l-=g,c-=d,h-=g);const m=[];for(let _=0;_<e.children.length;_++){const w=e.children[_];let k=w.getAttribute("offset");/%/gi.test(k)&&(k=parseFloat(k.replace(/%/gi,""))/100),k=parseFloat(k);let S=w.getAttribute("stop-color"),b=w.getAttribute("stop-opacity"),x=w.getAttribute("style"),R;S===null&&(R=x?x.match(/stop-color:\s?([#a-fA-F0-9]*)/):!1,S=R&&R.length>1?R[1]:void 0),b===null?(R=x?x.match(/stop-opacity:\s?([0-9.-]*)/):!1,b=R&&R.length>1?parseFloat(R[1]):1):b=parseFloat(b),m.push(new zr(k,S,b))}const v=new Je(o,l,a,m,c,h);return v.spread=i,v.units=n,nr.call(this,e,v,t),v},text:function(e,t){const n=sb(e.getAttribute("text-anchor"))||"left",i=ob(e)||"baseline",o=e.textContent,l=new ir(o);return nr.call(this,e,l,t),l.alignment=n,l.baseline=i,l},clippath:function(e,t){return nt.defs.current&&!nt.defs.current.contains(e.id)&&nt.defs.current.add(e.id,e),null},image:function(e,t){let n;const i=e.getAttribute("href")||e.getAttribute("xlink:href");if(!i)return n=new $n("encountered <image /> with no href."),console.warn(n.name,n.message),null;const o=parseFloat(e.getAttribute("x"))||0,l=parseFloat(e.getAttribute("y"))||0,a=parseFloat(e.getAttribute("width")),c=parseFloat(e.getAttribute("height")),h=new dc(i,o,l);return be.isNaN(a)||(h.width=a),be.isNaN(c)||(h.height=c),nr.call(this,e,h,t),h}};function _v(e,t){const n=new XMLHttpRequest;return n.open("GET",e),n.onreadystatechange=function(){n.readyState===4&&n.status===200&&t(n.responseText)},n.send(),n}var So=class extends Qi{constructor(e,t,n,i){super(t,n,0,0),T(this,"_flagTextures",!1),T(this,"_flagFrameRate",!1),T(this,"_flagIndex",!1),T(this,"_amount",1),T(this,"_duration",0),T(this,"_index",0),T(this,"_startTime",0),T(this,"_playing",!1),T(this,"_firstFrame",0),T(this,"_lastFrame",0),T(this,"_loop",!0),T(this,"_textures",null),T(this,"_frameRate",0),T(this,"_origin",null);for(let o in Dy)Object.defineProperty(this,o,Dy[o]);this._renderer.flagTextures=db.bind(this),this._renderer.bindTextures=pb.bind(this),this._renderer.unbindTextures=gb.bind(this),this.noStroke(),this.noFill(),Array.isArray(e)?this.textures=e.map(zy.bind(this)):this.textures=[zy(e)],this.origin=new ce,this._update(),typeof i=="number"?this.frameRate=i:this.frameRate=So.DefaultFrameRate,this.index=0}static fromObject(e){const t=new So().copy(e);return"id"in e&&(t.id=e.id),t}copy(e){super.copy.call(this,e);for(let t=0;t<So.Properties.length;t++){const n=So.Properties[t];n in e&&(this[n]=e[n])}return this}play(e,t,n){return this._playing=!0,this._firstFrame=0,this._lastFrame=this.amount-1,this._startTime=be.performance.now(),typeof e=="number"&&(this._firstFrame=e),typeof t=="number"&&(this._lastFrame=t),typeof n=="function"?this._onLastFrame=n:delete this._onLastFrame,this._index!==this._firstFrame&&(this._startTime-=1e3*Math.abs(this._index-this._firstFrame)/this._frameRate),this}pause(){return this._playing=!1,this}stop(){return this._playing=!1,this._index=this._firstFrame,this}clone(e){const t=new So(this.textures,this.translation.x,this.translation.y,this.frameRate);return t._loop=this._loop,this._playing&&t.play(),e&&e.add(t),t}toObject(){const e=super.toObject.call(this);return e.textures=this.textures.map(function(t){return t.toObject()}),e.frameRate=this.frameRate,e.index=this.index,e.firstFrame=this.firstFrame,e.lastFrame=this.lastFrame,e.loop=this.loop,e}_update(){const e=this._textures;let t,n,i,o,l,a,c,h;return e&&(this._flagTextures&&(this._amount=e.length),this._flagFrameRate&&(this._duration=1e3*this._amount/this._frameRate),this._playing&&this._frameRate>0?(o=this._amount,be.isNaN(this._lastFrame)&&(this._lastFrame=o-1),i=be.performance.now()-this._startTime,h=this._lastFrame+1,l=1e3*(h-this._firstFrame)/this._frameRate,this._loop?i=i%l:i=Math.min(i,l),c=zn(this._firstFrame,h,i/l),c=Math.floor(c),c!==this._index&&(this._index=c,a=e[this._index],a.loaded&&(t=a.image.width,n=a.image.height,this.width!==t&&(this.width=t),this.height!==n&&(this.height=n),this.fill=a,c>=this._lastFrame-1&&this._onLastFrame&&this._onLastFrame()))):(this._flagIndex||!(this.fill instanceof ze))&&(a=e[this._index],a.loaded&&(t=a.image.width,n=a.image.height,this.width!==t&&(this.width=t),this.height!==n&&(this.height=n)),this.fill=a)),super._update.call(this),this}flagReset(){return this._flagTextures=this._flagFrameRate=!1,super.flagReset.call(this),this}},_c=So;T(_c,"Properties",["textures","frameRate","index","firstFrame","lastFrame","loop"]);T(_c,"DefaultFrameRate",30);var Dy={frameRate:{enumerable:!0,get:function(){return this._frameRate},set:function(e){this._frameRate=e,this._flagFrameRate=!0}},index:{enumerable:!0,get:function(){return this._index},set:function(e){this._index=e,this._flagIndex=!0}},textures:{enumerable:!0,get:function(){return this._textures},set:function(e){const t=this._renderer.bindTextures,n=this._renderer.unbindTextures;this._textures&&this._textures.unbind(J.Types.insert,t).unbind(J.Types.remove,n),this._textures=new Xi((e||[]).slice(0)),this._textures.bind(J.Types.insert,t).bind(J.Types.remove,n),t(this._textures)}},firstFrame:{enumerable:!0,get:function(){return this._firstFrame},set:function(e){this._firstFrame=e}},lastFrame:{enumerable:!0,get:function(){return this._lastFrame},set:function(e){this._lastFrame=e}},loop:{enumerable:!0,get:function(){return this._loop},set:function(e){this._loop=!!e}}};function db(){this._flagTextures=!0}function pb(e){let t=e.length;for(;t--;)e[t].bind(J.Types.change,this._renderer.flagTextures);this._renderer.flagTextures()}function gb(e){let t=e.length;for(;t--;)e[t].unbind(J.Types.change,this._renderer.flagTextures);this._renderer.flagTextures()}function zy(e){if(e instanceof ze)return e;if(typeof e=="string")return new ze(e)}var Th=[],rd=Math.max,mb=Math.min,By=Math.abs,wu=Math.sin,ku=Math.cos,yb=Math.acos,Xu=Math.sqrt,Ne={isHidden:/(undefined|none|transparent)/i,alignments:{left:"start",middle:"center",right:"end"},baselines:{top:"top",middle:"middle",bottom:"bottom",baseline:"alphabetic"},getRendererType:function(e){return e in Ne?e:"path"},group:{renderChild:function(e){const t=Ne.getRendererType(e._renderer.type);Ne[t].render.call(e,this.ctx,!0,this.clip)},render:function(e){if(!this._visible)return this;this._update();const t=this._matrix.elements,n=this.parent;this._renderer.opacity=this._opacity*(n&&n._renderer?n._renderer.opacity:1);const i=this._mask,o=bu(t),l=!o||!!i;if(this._renderer.context||(this._renderer.context={}),this._renderer.context.ctx=e,l&&(e.save(),o||e.transform(t[0],t[3],t[1],t[4],t[2],t[5])),i){const a=Ne.getRendererType(i._renderer.type);Ne[a].render.call(i,e,!0)}if(this._opacity>0&&this._scale!==0)for(let a=0;a<this.children.length;a++){const c=this.children[a],h=Ne.getRendererType(c._renderer.type);Ne[h].render.call(c,e)}return l&&e.restore(),this.flagReset()}},path:{render:function(e,t,n){let i,o,l,a,c,h,d,g,m,v,_,w,k,S,b,x,R,M,P,I,j,X,z,W,K,q,ae,te,re,ue,Z,D,B,G;if(G=this.parent&&this.parent._renderer?this.parent._renderer.opacity:1,re=this._mask,ue=this._clip,c=this._opacity*(G||1),h=this._visible,!t&&(!h||ue||c===0))return this;if(this._update(),i=this._matrix.elements,o=this._stroke,l=this._linewidth,a=this._fill,d=this._cap,g=this._join,m=this._miter,v=this._closed,_=this._renderer.vertices,w=_.length,k=w-1,Z=bu(i),B=this.dashes,Z||(e.save(),e.transform(i[0],i[3],i[1],i[4],i[2],i[5])),re){const ee=Ne.getRendererType(re._renderer.type);Ne[ee].render.call(re,e,!0)}if(a)if(typeof a=="string")e.fillStyle=a;else{const ee=Ne.getRendererType(a._renderer.type);Ne[ee].render.call(a,e,this),e.fillStyle=a._renderer.effect}if(o){if(typeof o=="string")e.strokeStyle=o;else{const ee=Ne.getRendererType(o._renderer.type);Ne[ee].render.call(o,e,this),e.strokeStyle=o._renderer.effect}l&&(e.lineWidth=l),m&&(e.miterLimit=m),g&&(e.lineJoin=g),!v&&d&&(e.lineCap=d)}typeof c=="number"&&(e.globalAlpha=c),B&&B.length>0&&(e.lineDashOffset=B.offset||0,e.setLineDash(B)),e.beginPath();let L,Y,xe,fe,oe,Q,se;for(let ee=0;ee<w;ee++)switch(x=_[ee],ae=x.x,te=x.y,x.command){case de.close:e.closePath();break;case de.arc:L=x.rx,Y=x.ry,xe=x.xAxisRotation,fe=x.largeArcFlag,oe=x.sweepFlag,S=v?Vn(ee-1,w):rd(ee-1,0),b=_[S],Q=b.x,se=b.y,Ne.renderSvgArcCommand(e,Q,se,L,Y,fe,oe,xe,ae,te);break;case de.curve:S=v?Vn(ee-1,w):Math.max(ee-1,0),b=_[S],z=b.controls&&b.controls.right||ce.zero,W=x.controls&&x.controls.left||ce.zero,b._relative?(j=z.x+b.x,X=z.y+b.y):(j=z.x,X=z.y),x._relative?(P=W.x+x.x,I=W.y+x.y):(P=W.x,I=W.y),e.bezierCurveTo(j,X,P,I,ae,te),ee>=k&&v&&(R=M,K=x.controls&&x.controls.right||ce.zero,q=R.controls&&R.controls.left||ce.zero,x._relative?(j=K.x+x.x,X=K.y+x.y):(j=K.x,X=K.y),R._relative?(P=q.x+R.x,I=q.y+R.y):(P=q.x,I=q.y),ae=R.x,te=R.y,e.bezierCurveTo(j,X,P,I,ae,te));break;case de.line:e.lineTo(ae,te);break;case de.move:M=x,e.moveTo(ae,te);break}return v&&e.closePath(),!ue&&!n&&(Ne.isHidden.test(a)||(D=a._renderer&&a._renderer.offset,D&&(e.save(),e.translate(-a._renderer.offset.x,-a._renderer.offset.y),e.scale(a._renderer.scale.x,a._renderer.scale.y)),e.fill(),D&&e.restore()),Ne.isHidden.test(o)||(D=o._renderer&&o._renderer.offset,D&&(e.save(),e.translate(-o._renderer.offset.x,-o._renderer.offset.y),e.scale(o._renderer.scale.x,o._renderer.scale.y),e.lineWidth=l/o._renderer.scale.x),e.stroke(),D&&e.restore())),Z||e.restore(),ue&&!n&&e.clip(),B&&B.length>0&&e.setLineDash(Th),this.flagReset()}},points:{render:function(e,t,n){let i,o,l,a,c,h,d,g,m,v,_,w,k,S,b,x;if(x=this.parent&&this.parent._renderer?this.parent._renderer.opacity:1,c=this._opacity*(x||1),h=this._visible,!t&&(!h||c===0))return this;if(this._update(),i=this._matrix.elements,o=this._stroke,l=this._linewidth,a=this._fill,g=this._renderer.collection,m=g.length,k=bu(i),b=this.dashes,d=this._size,k||(e.save(),e.transform(i[0],i[3],i[1],i[4],i[2],i[5])),a)if(typeof a=="string")e.fillStyle=a;else{const P=Ne.getRendererType(a._renderer.type);Ne[P].render.call(a,e,this),e.fillStyle=a._renderer.effect}if(o){if(typeof o=="string")e.strokeStyle=o;else{const P=Ne.getRendererType(o._renderer.type);Ne[P].render.call(o,e,this),e.strokeStyle=o._renderer.effect}l&&(e.lineWidth=l)}typeof c=="number"&&(e.globalAlpha=c),b&&b.length>0&&(e.lineDashOffset=b.offset||0,e.setLineDash(b)),e.beginPath();let R=d*.5,M;this._sizeAttenuation||(M=this.worldMatrix.elements,M=Ao(M[0],M[3],M[1],M[4],M[2],M[5]),R/=Math.max(M.scaleX,M.scaleY));for(let P=0;P<m;P++)v=g[P],_=v.x,w=v.y,e.moveTo(_+R,w),e.arc(_,w,R,0,Jt);return n||(Ne.isHidden.test(a)||(S=a._renderer&&a._renderer.offset,S&&(e.save(),e.translate(-a._renderer.offset.x,-a._renderer.offset.y),e.scale(a._renderer.scale.x,a._renderer.scale.y)),e.fill(),S&&e.restore()),Ne.isHidden.test(o)||(S=o._renderer&&o._renderer.offset,S&&(e.save(),e.translate(-o._renderer.offset.x,-o._renderer.offset.y),e.scale(o._renderer.scale.x,o._renderer.scale.y),e.lineWidth=l/o._renderer.scale.x),e.stroke(),S&&e.restore())),k||e.restore(),b&&b.length>0&&e.setLineDash(Th),this.flagReset()}},text:{render:function(e,t,n){const i=this.parent&&this.parent._renderer?this.parent._renderer.opacity:1,o=this._opacity*i,l=this._visible,a=this._mask,c=this._clip;if(!t&&(!l||c||o===0))return this;this._update();const h=this._matrix.elements,d=this._stroke,g=this._linewidth,m=this._fill,v=this._decoration,_=this._direction,w=bu(h),k=m._renderer&&m._renderer.offset&&d._renderer&&d._renderer.offset,S=this.dashes,b=Ne.alignments[this._alignment]||this._alignment,x=Ne.baselines[this._baseline]||this._baseline;let R,M,P,I,j,X,z,W,K,q,ae;if(w||(e.save(),e.transform(h[0],h[3],h[1],h[4],h[2],h[5])),a){const te=Ne.getRendererType(a._renderer.type);Ne[te].render.call(a,e,!0)}if(k||(e.font=[this._style,this._weight,this._size+"px/"+this._leading+"px",this._family].join(" ")),e.textAlign=b,e.textBaseline=x,e.direction=_,m)if(typeof m=="string")e.fillStyle=m;else{const te=Ne.getRendererType(m._renderer.type);Ne[te].render.call(m,e,this),e.fillStyle=m._renderer.effect}if(d){if(typeof d=="string")e.strokeStyle=d;else{const te=Ne.getRendererType(d._renderer.type);Ne[te].render.call(d,e,this),e.strokeStyle=d._renderer.effect}g&&(e.lineWidth=g)}if(typeof o=="number"&&(e.globalAlpha=o),S&&S.length>0&&(e.lineDashOffset=S.offset||0,e.setLineDash(S)),!c&&!n&&(Ne.isHidden.test(m)||(m._renderer&&m._renderer.offset?(X=m._renderer.scale.x,z=m._renderer.scale.y,e.save(),e.translate(-m._renderer.offset.x,-m._renderer.offset.y),e.scale(X,z),R=this._size/m._renderer.scale.y,M=this._leading/m._renderer.scale.y,e.font=[this._style,this._weight,R+"px/",M+"px",this._family].join(" "),P=m._renderer.offset.x/m._renderer.scale.x,I=m._renderer.offset.y/m._renderer.scale.y,e.fillText(this.value,P,I),e.restore()):e.fillText(this.value,0,0)),Ne.isHidden.test(d)||(d._renderer&&d._renderer.offset?(X=d._renderer.scale.x,z=d._renderer.scale.y,e.save(),e.translate(-d._renderer.offset.x,-d._renderer.offset.y),e.scale(X,z),R=this._size/d._renderer.scale.y,M=this._leading/d._renderer.scale.y,e.font=[this._style,this._weight,R+"px/",M+"px",this._family].join(" "),P=d._renderer.offset.x/d._renderer.scale.x,I=d._renderer.offset.y/d._renderer.scale.y,j=g/d._renderer.scale.x,e.lineWidth=j,e.strokeText(this.value,P,I),e.restore()):e.strokeText(this.value,0,0))),/(underline|strikethrough)/i.test(v)){const te=e.measureText(this.value);let re=1;switch(v){case"underline":K=te.actualBoundingBoxDescent,ae=te.actualBoundingBoxDescent;break;case"strikethrough":K=0,ae=0,re=.5;break}switch(x){case"top":K+=this._size*re,ae+=this._size*re;break;case"baseline":case"bottom":K-=this._size*re,ae-=this._size*re;break}switch(b){case"left":case"start":W=0,q=te.width;break;case"right":case"end":W=-te.width,q=0;break;default:W=-te.width/2,q=te.width/2}e.lineWidth=Math.max(Math.floor(this._size/15),1),e.strokeStyle=e.fillStyle,e.beginPath(),e.moveTo(W,K),e.lineTo(q,ae),e.stroke()}return w||e.restore(),c&&!n&&e.clip(),S&&S.length>0&&e.setLineDash(Th),this.flagReset()}},"linear-gradient":{render:function(e,t){if(t){if(this._update(),!this._renderer.effect||this._flagEndPoints||this._flagStops||this._flagUnits){let n,i=this.left._x,o=this.left._y,l=this.right._x,a=this.right._y;/objectBoundingBox/i.test(this._units)&&(n=t.getBoundingClientRect(!0),i=(i-.5)*n.width,o=(o-.5)*n.height,l=(l-.5)*n.width,a=(a-.5)*n.height),this._renderer.effect=e.createLinearGradient(i,o,l,a);for(let c=0;c<this.stops.length;c++){const h=this.stops[c];this._renderer.effect.addColorStop(h._offset,h._color)}}return this.flagReset()}}},"radial-gradient":{render:function(e,t){if(t){if(this._update(),!this._renderer.effect||this._flagCenter||this._flagFocal||this._flagRadius||this._flagStops||this._flagUnits){let n,i=this.center._x,o=this.center._y,l=this.focal._x,a=this.focal._y,c=this._radius;/objectBoundingBox/i.test(this._units)&&(n=t.getBoundingClientRect(!0),i=(i-.5)*n.width*.5,o=(o-.5)*n.height*.5,l=(l-.5)*n.width*.5,a=(a-.5)*n.height*.5,c*=Math.min(n.width,n.height)),this._renderer.effect=e.createRadialGradient(i,o,0,l,a,c);for(let h=0;h<this.stops.length;h++){const d=this.stops[h];this._renderer.effect.addColorStop(d._offset,d._color)}}return this.flagReset()}}},texture:{render:function(e){this._update();const t=this.image;return(!this._renderer.effect||(this._flagLoaded||this._flagImage||this._flagVideo||this._flagRepeat)&&this.loaded)&&(this._renderer.effect=e.createPattern(this.image,this._repeat)),(this._flagOffset||this._flagLoaded||this._flagScale)&&(this._renderer.offset instanceof ce||(this._renderer.offset=new ce),this._renderer.offset.x=-this._offset.x,this._renderer.offset.y=-this._offset.y,t&&(this._renderer.offset.x+=t.width/2,this._renderer.offset.y+=t.height/2,this._scale instanceof ce?(this._renderer.offset.x*=this._scale.x,this._renderer.offset.y*=this._scale.y):(this._renderer.offset.x*=this._scale,this._renderer.offset.y*=this._scale))),(this._flagScale||this._flagLoaded)&&(this._renderer.scale instanceof ce||(this._renderer.scale=new ce),this._scale instanceof ce?this._renderer.scale.copy(this._scale):this._renderer.scale.set(this._scale,this._scale)),this.flagReset()}},renderSvgArcCommand:function(e,t,n,i,o,l,a,c,h,d){c=c*Math.PI/180,i=By(i),o=By(o);const g=(t-h)/2,m=(n-d)/2,v=ku(c)*g+wu(c)*m,_=-wu(c)*g+ku(c)*m,w=v*v,k=_*_;let S=i*i,b=o*o;const x=w/S+k/b;if(x>1){const te=Xu(x);i=te*i,o=te*o,S=i*i,b=o*o}const R=S*k+b*w,M=(S*b-R)/R;let P=Xu(rd(0,M));l===a&&(P=-P);const I=P*i*_/o,j=-P*o*v/i,X=ku(c)*I-wu(c)*j+(t+h)/2,z=wu(c)*I+ku(c)*j+(n+d)/2,W=Uy(1,0,(v-I)/i,(_-j)/o),K=Uy((v-I)/i,(_-j)/o,(-v-I)/i,(-_-j)/o)%Jt,q=W+K;_b(e,X,z,i,o,W,q,a===0,c)}},Gt=class extends J{constructor(e){super();const t=e.smoothing!==!1;this.domElement=e.domElement||document.createElement("canvas"),this.ctx=this.domElement.getContext("2d"),this.overdraw=e.overdraw||!1,typeof this.ctx.imageSmoothingEnabled<"u"&&(this.ctx.imageSmoothingEnabled=t),this.scene=new xt,this.scene.parent=this}setSize(e,t,n){return this.width=e,this.height=t,this.ratio=typeof n>"u"?jd(this.ctx):n,this.domElement.width=e*this.ratio,this.domElement.height=t*this.ratio,this.domElement.style&&be.extend(this.domElement.style,{width:e+"px",height:t+"px"}),this.trigger(J.Types.resize,e,t,n)}render(){const e=this.ratio===1;return e||(this.ctx.save(),this.ctx.scale(this.ratio,this.ratio)),this.overdraw||this.ctx.clearRect(0,0,this.width,this.height),Ne.group.render.call(this.scene,this.ctx),e||this.ctx.restore(),this}};T(Gt,"Utils",Ne);function _b(e,t,n,i,o,l,a,c,h){const d=a-l,g=Oo.Tolerance.epsilon,m=Math.abs(d)<g;let v=Vn(d,Jt);v<g&&(m?v=0:v=Jt),c===!0&&!m&&(v===Jt?v=-Jt:v=v-Jt);for(let _=0;_<fn.Resolution;_++){const w=_/(fn.Resolution-1),k=l+w*v;let S=t+i*Math.cos(k),b=n+o*Math.sin(k);if(h!==0){const x=Math.cos(h),R=Math.sin(h),M=S-t,P=b-n;S=M*x-P*R+t,b=M*R+P*x+n}e.lineTo(S,b)}}function Uy(e,t,n,i){const o=e*n+t*i,l=Xu(e*e+t*t)*Xu(n*n+i*i);let a=yb(rd(-1,mb(1,o/l)));return e*i-t*n<0&&(a=-a),a}function bu(e){return e[0]==1&&e[3]==0&&e[1]==0&&e[4]==1&&e[2]==0&&e[5]==0}var ke={version:1.1,ns:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",alignments:{left:"start",center:"middle",right:"end"},baselines:{top:"hanging",middle:"middle",bottom:"ideographic",baseline:"alphabetic"},createElement:function(e,t){const n=e,i=document.createElementNS(ke.ns,n);return n==="svg"&&(t=be.defaults(t||{},{version:ke.version})),t&&Object.keys(t).length>0&&ke.setAttributes(i,t),i},setAttributes:function(e,t){const n=Object.keys(t);for(let i=0;i<n.length;i++)/href/.test(n[i])?e.setAttributeNS(ke.xlink,n[i],t[n[i]]):e.setAttribute(n[i],t[n[i]]);return this},removeAttributes:function(e,t){for(let n in t)e.removeAttribute(n);return this},toString:function(e,t){let n=e.length,i=n-1,o,l="";for(let a=0;a<n;a++){const c=e[a],h=t?Vn(a-1,n):Math.max(a-1,0),d=e[h];let g,m,v,_,w,k,S,b,x,R,M,P,I,j,X,z=$e(c.x),W=$e(c.y);switch(c.command){case de.close:g=de.close;break;case de.arc:M=c.rx,P=c.ry,I=c.xAxisRotation,j=c.largeArcFlag,X=c.sweepFlag,g=de.arc+" "+M+" "+P+" "+I+" "+j+" "+X+" "+z+" "+W;break;case de.curve:S=d.controls&&d.controls.right||ce.zero,b=c.controls&&c.controls.left||ce.zero,d.relative?(v=$e(S.x+d.x),_=$e(S.y+d.y)):(v=$e(S.x),_=$e(S.y)),c.relative?(w=$e(b.x+c.x),k=$e(b.y+c.y)):(w=$e(b.x),k=$e(b.y)),g=(a===0?de.move:de.curve)+" "+v+" "+_+" "+w+" "+k+" "+z+" "+W;break;case de.move:o=c,g=de.move+" "+z+" "+W;break;default:g=c.command+" "+z+" "+W}a>=i&&t&&(c.command===de.curve&&(m=o,x=c.controls&&c.controls.right||c,R=m.controls&&m.controls.left||m,c.relative?(v=$e(x.x+c.x),_=$e(x.y+c.y)):(v=$e(x.x),_=$e(x.y)),m.relative?(w=$e(R.x+m.x),k=$e(R.y+m.y)):(w=$e(R.x),k=$e(R.y)),z=$e(m.x),W=$e(m.y),g+=" C "+v+" "+_+" "+w+" "+k+" "+z+" "+W),c.command!==de.close&&(g+=" Z")),l+=g+" "}return l},pointsToString:function(e,t){let n="";const i=t*.5;for(let o=0;o<e.length;o++){const l=e[o].x,a=e[o].y-i;n+=de.move+" "+l+" "+a+" ",n+="a "+i+" "+i+" 0 1 0 0.001 0 Z"}return n},getClip:function(e,t){let n=e._renderer.clip;return n||(n=e._renderer.clip=ke.createElement("clipPath",{"clip-rule":"nonzero"})),n.parentNode===null&&t.defs.appendChild(n),n},getRendererType:function(e){return e in ke?e:"path"},defs:{update:function(e){const{defs:t}=e;if(t._flagUpdate){const n=Array.prototype.slice.call(t.children,0);for(let i=0;i<n.length;i++){const o=n[i],l=o.id,a=`[fill="url(#${l})"],[stroke="url(#${l})"],[clip-path="url(#${l})"]`;e.querySelector(a)||t.removeChild(o)}t._flagUpdate=!1}}},group:{appendChild:function(e){const t=e._renderer.elem;if(!t)return;const n=t.nodeName;!n||/(radial|linear)gradient/i.test(n)||e._clip||this.elem.appendChild(t)},removeChild:function(e){const t=e._renderer.elem;!t||t.parentNode!=this.elem||!t.nodeName||e._clip||this.elem.removeChild(t)},orderChild:function(e){this.elem.appendChild(e._renderer.elem)},renderChild:function(e){const t=ke.getRendererType(e._renderer.type);ke[t].render.call(e,this)},render:function(e){if(!this._visible&&!this._flagVisible||this._opacity===0&&!this._flagOpacity)return this;this._update(),this._renderer.elem||(this._renderer.elem=ke.createElement("g",{id:this.id}),e.appendChild(this._renderer.elem));const t=this._matrix.manual||this._flagMatrix,n={domElement:e,elem:this._renderer.elem};t&&this._renderer.elem.setAttribute("transform","matrix("+this._matrix.toString()+")");for(let i=0;i<this.children.length;i++){const o=this.children[i],l=ke.getRendererType(o._renderer.type);ke[l].render.call(o,e)}if(this._flagId&&this._renderer.elem.setAttribute("id",this._id),this._flagOpacity&&this._renderer.elem.setAttribute("opacity",this._opacity),this._flagVisible&&this._renderer.elem.setAttribute("display",this._visible?"inline":"none"),this._flagClassName&&this._renderer.elem.setAttribute("class",this.classList.join(" ")),this._flagAdditions&&this.additions.forEach(ke.group.appendChild,n),this._flagSubtractions&&this.subtractions.forEach(ke.group.removeChild,n),this._flagOrder&&this.children.forEach(ke.group.orderChild,n),this._flagMask)if(this._mask){const i=ke.getRendererType(this._mask._renderer.type);ke[i].render.call(this._mask,e),this._renderer.elem.setAttribute("clip-path","url(#"+this._mask.id+")")}else this._renderer.elem.removeAttribute("clip-path");return this.dataset&&Object.assign(this._renderer.elem.dataset,this.dataset),this.flagReset()}},path:{render:function(e){if(this._opacity===0&&!this._flagOpacity)return this;this._update();const t={};if((this._matrix.manual||this._flagMatrix)&&(t.transform="matrix("+this._matrix.toString()+")"),this._flagId&&(t.id=this._id),this._flagVertices){const i=ke.toString(this._renderer.vertices,this._closed);t.d=i}if(this._fill&&this._fill._renderer){this._renderer.hasFillEffect=!0,this._fill._update();const i=ke.getRendererType(this._fill._renderer.type);ke[i].render.call(this._fill,e,!0)}if(this._flagFill&&(t.fill=this._fill&&this._fill.id?"url(#"+this._fill.id+")":this._fill,this._renderer.hasFillEffect&&typeof this._fill.id>"u"&&(e.defs._flagUpdate=!0,delete this._renderer.hasFillEffect)),this._stroke&&this._stroke._renderer){this._renderer.hasStrokeEffect=!0,this._stroke._update();const i=ke.getRendererType(this._stroke._renderer.type);ke[i].render.call(this._stroke,e,!0)}if(this._flagStroke&&(t.stroke=this._stroke&&this._stroke.id?"url(#"+this._stroke.id+")":this._stroke,this._renderer.hasStrokeEffect&&typeof this._stroke.id>"u"&&(e.defs._flagUpdate=!0,delete this._renderer.hasStrokeEffect)),this._flagLinewidth&&(t["stroke-width"]=this._linewidth),this._flagOpacity&&(t["stroke-opacity"]=this._opacity,t["fill-opacity"]=this._opacity),this._flagClassName&&(t.class=this.classList.join(" ")),this._flagVisible&&(t.visibility=this._visible?"visible":"hidden"),this._flagCap&&(t["stroke-linecap"]=this._cap),this._flagJoin&&(t["stroke-linejoin"]=this._join),this._flagMiter&&(t["stroke-miterlimit"]=this._miter),this.dashes&&this.dashes.length>0&&(t["stroke-dasharray"]=this.dashes.join(" "),t["stroke-dashoffset"]=this.dashes.offset||0),this._renderer.elem?ke.setAttributes(this._renderer.elem,t):(t.id=this._id,this._renderer.elem=ke.createElement("path",t),e.appendChild(this._renderer.elem)),this._flagClip){const i=ke.getClip(this,e),o=this._renderer.elem;this._clip?(o.removeAttribute("id"),i.setAttribute("id",this.id),i.appendChild(o)):(i.removeAttribute("id"),o.setAttribute("id",this.id),this.parent._renderer.elem.appendChild(o))}if(this._flagMask)if(this._mask){const i=ke.getRendererType(this._mask._renderer.type);ke[i].render.call(this._mask,e),this._renderer.elem.setAttribute("clip-path","url(#"+this._mask.id+")")}else this._renderer.elem.removeAttribute("clip-path");return this.flagReset()}},points:{render:function(e){if(this._opacity===0&&!this._flagOpacity)return this;this._update();const t={};if((this._matrix.manual||this._flagMatrix)&&(t.transform="matrix("+this._matrix.toString()+")"),this._flagId&&(t.id=this._id),this._flagVertices||this._flagSize||this._flagSizeAttenuation){let i=this._size;if(!this._sizeAttenuation){const l=this.worldMatrix.elements,a=Ao(l[0],l[3],l[1],l[4],l[2],l[5]);i/=Math.max(a.scaleX,a.scaleY)}const o=ke.pointsToString(this._renderer.collection,i);t.d=o}if(this._fill&&this._fill._renderer){this._renderer.hasFillEffect=!0,this._fill._update();const i=ke.getRendererType(this._fill._renderer.type);ke[i].render.call(this._fill,e,!0)}if(this._flagFill&&(t.fill=this._fill&&this._fill.id?"url(#"+this._fill.id+")":this._fill,this._renderer.hasFillEffect&&typeof this._fill.id>"u"&&(e.defs._flagUpdate=!0,delete this._renderer.hasFillEffect)),this._stroke&&this._stroke._renderer){this._renderer.hasStrokeEffect=!0,this._stroke._update();const i=ke.getRendererType(this._stroke._renderer.type);ke[i].render.call(this._stroke,e,!0)}return this._flagStroke&&(t.stroke=this._stroke&&this._stroke.id?"url(#"+this._stroke.id+")":this._stroke,this._renderer.hasStrokeEffect&&typeof this._stroke.id>"u"&&(e.defs._flagUpdate=!0,delete this._renderer.hasStrokeEffect)),this._flagLinewidth&&(t["stroke-width"]=this._linewidth),this._flagOpacity&&(t["stroke-opacity"]=this._opacity,t["fill-opacity"]=this._opacity),this._flagClassName&&(t.class=this.classList.join(" ")),this._flagVisible&&(t.visibility=this._visible?"visible":"hidden"),this.dashes&&this.dashes.length>0&&(t["stroke-dasharray"]=this.dashes.join(" "),t["stroke-dashoffset"]=this.dashes.offset||0),this._renderer.elem?ke.setAttributes(this._renderer.elem,t):(t.id=this._id,this._renderer.elem=ke.createElement("path",t),e.appendChild(this._renderer.elem)),this.flagReset()}},text:{render:function(e){this._update();const t={};if((this._matrix.manual||this._flagMatrix)&&(t.transform="matrix("+this._matrix.toString()+")"),this._flagId&&(t.id=this._id),this._flagFamily&&(t["font-family"]=this._family),this._flagSize&&(t["font-size"]=this._size),this._flagLeading&&(t["line-height"]=this._leading),this._flagAlignment&&(t["text-anchor"]=ke.alignments[this._alignment]||this._alignment),this._flagBaseline&&(t["dominant-baseline"]=ke.baselines[this._baseline]||this._baseline),this._flagStyle&&(t["font-style"]=this._style),this._flagWeight&&(t["font-weight"]=this._weight),this._flagDecoration&&(t["text-decoration"]=this._decoration),this._flagDirection&&(t.direction=this._direction),this._fill&&this._fill._renderer){this._renderer.hasFillEffect=!0,this._fill._update();const i=ke.getRendererType(this._fill._renderer.type);ke[i].render.call(this._fill,e,!0)}if(this._flagFill&&(t.fill=this._fill&&this._fill.id?"url(#"+this._fill.id+")":this._fill,this._renderer.hasFillEffect&&typeof this._fill.id>"u"&&(e.defs._flagUpdate=!0,delete this._renderer.hasFillEffect)),this._stroke&&this._stroke._renderer){this._renderer.hasStrokeEffect=!0,this._stroke._update();const i=ke.getRendererType(this._stroke._renderer.type);ke[i].render.call(this._stroke,e,!0)}if(this._flagStroke&&(t.stroke=this._stroke&&this._stroke.id?"url(#"+this._stroke.id+")":this._stroke,this._renderer.hasStrokeEffect&&typeof this._stroke.id>"u"&&(e.defs._flagUpdate=!0,delete this._renderer.hasStrokeEffect)),this._flagLinewidth&&(t["stroke-width"]=this._linewidth),this._flagOpacity&&(t.opacity=this._opacity),this._flagClassName&&(t.class=this.classList.join(" ")),this._flagVisible&&(t.visibility=this._visible?"visible":"hidden"),this.dashes&&this.dashes.length>0&&(t["stroke-dasharray"]=this.dashes.join(" "),t["stroke-dashoffset"]=this.dashes.offset||0),this._renderer.elem?ke.setAttributes(this._renderer.elem,t):(t.id=this._id,this._renderer.elem=ke.createElement("text",t),e.appendChild(this._renderer.elem)),this._flagClip){const i=ke.getClip(this,e),o=this._renderer.elem;this._clip?(o.removeAttribute("id"),i.setAttribute("id",this.id),i.appendChild(o)):(i.removeAttribute("id"),o.setAttribute("id",this.id),this.parent._renderer.elem.appendChild(o))}if(this._flagMask)if(this._mask){const i=ke.getRendererType(this._mask._renderer.type);ke[i].render.call(this._mask,e),this._renderer.elem.setAttribute("clip-path","url(#"+this._mask.id+")")}else this._renderer.elem.removeAttribute("clip-path");return this._flagValue&&(this._renderer.elem.textContent=this._value),this.flagReset()}},"linear-gradient":{render:function(e,t){t||this._update();const n={};if(this._flagId&&(n.id=this._id),this._flagEndPoints&&(n.x1=this.left._x,n.y1=this.left._y,n.x2=this.right._x,n.y2=this.right._y),this._flagSpread&&(n.spreadMethod=this._spread),this._flagUnits&&(n.gradientUnits=this._units),this._renderer.elem?ke.setAttributes(this._renderer.elem,n):(n.id=this._id,this._renderer.elem=ke.createElement("linearGradient",n)),this._renderer.elem.parentNode===null&&e.defs.appendChild(this._renderer.elem),this._flagStops){const i=this._renderer.elem.childNodes.length!==this.stops.length;if(i)for(;this._renderer.elem.lastChild;)this._renderer.elem.removeChild(this._renderer.elem.lastChild);for(let o=0;o<this.stops.length;o++){const l=this.stops[o],a={};l._flagOffset&&(a.offset=100*l._offset+"%"),l._flagColor&&(a["stop-color"]=l._color),l._flagOpacity&&(a["stop-opacity"]=l._opacity),l._renderer.elem?ke.setAttributes(l._renderer.elem,a):l._renderer.elem=ke.createElement("stop",a),i&&this._renderer.elem.appendChild(l._renderer.elem),l.flagReset()}}return this.flagReset()}},"radial-gradient":{render:function(e,t){t||this._update();const n={};if(this._flagId&&(n.id=this._id),this._flagCenter&&(n.cx=this.center._x,n.cy=this.center._y),this._flagFocal&&(n.fx=this.focal._x,n.fy=this.focal._y),this._flagRadius&&(n.r=this._radius),this._flagSpread&&(n.spreadMethod=this._spread),this._flagUnits&&(n.gradientUnits=this._units),this._renderer.elem?ke.setAttributes(this._renderer.elem,n):(n.id=this._id,this._renderer.elem=ke.createElement("radialGradient",n)),this._renderer.elem.parentNode===null&&e.defs.appendChild(this._renderer.elem),this._flagStops){const i=this._renderer.elem.childNodes.length!==this.stops.length;if(i)for(;this._renderer.elem.lastChild;)this._renderer.elem.removeChild(this._renderer.elem.lastChild);for(let o=0;o<this.stops.length;o++){const l=this.stops[o],a={};l._flagOffset&&(a.offset=100*l._offset+"%"),l._flagColor&&(a["stop-color"]=l._color),l._flagOpacity&&(a["stop-opacity"]=l._opacity),l._renderer.elem?ke.setAttributes(l._renderer.elem,a):l._renderer.elem=ke.createElement("stop",a),i&&this._renderer.elem.appendChild(l._renderer.elem),l.flagReset()}}return this.flagReset()}},texture:{render:function(e,t){t||this._update();const n={},i={x:0,y:0},o=this.image;if(this._flagId&&(n.id=this._id),this._flagLoaded&&this.loaded)switch(o.nodeName.toLowerCase()){case"canvas":i.href=i["xlink:href"]=o.toDataURL("image/png");break;case"img":case"image":i.href=i["xlink:href"]=this.src;break}if((this._flagOffset||this._flagLoaded||this._flagScale)&&(n.x=this._offset.x,n.y=this._offset.y,o&&(n.x-=o.width/2,n.y-=o.height/2,this._scale instanceof ce?(n.x*=this._scale.x,n.y*=this._scale.y):(n.x*=this._scale,n.y*=this._scale)),n.x>0&&(n.x*=-1),n.y>0&&(n.y*=-1)),(this._flagScale||this._flagLoaded||this._flagRepeat)&&(n.width=0,n.height=0,o)){switch(n.width=o.width,n.height=o.height,this._repeat){case"no-repeat":n.width+=1,n.height+=1;break}this._scale instanceof ce?(n.width*=this._scale.x,n.height*=this._scale.y):(n.width*=this._scale,n.height*=this._scale),i.width=n.width,i.height=n.height}return(this._flagScale||this._flagLoaded)&&(this._renderer.image?ke.setAttributes(this._renderer.image,i):this._renderer.image=ke.createElement("image",i)),this._renderer.elem?Object.keys(n).length!==0&&ke.setAttributes(this._renderer.elem,n):(n.id=this._id,n.patternUnits="userSpaceOnUse",this._renderer.elem=ke.createElement("pattern",n)),this._renderer.elem.parentNode===null&&e.defs.appendChild(this._renderer.elem),this._renderer.elem&&this._renderer.image&&!this._renderer.appended&&(this._renderer.elem.appendChild(this._renderer.image),this._renderer.appended=!0),this.flagReset()}}},vv=class extends J{constructor(e){super(),this.domElement=e.domElement||ke.createElement("svg"),this.scene=new xt,this.scene.parent=this,this.defs=ke.createElement("defs"),this.defs._flagUpdate=!1,this.domElement.appendChild(this.defs),this.domElement.defs=this.defs,this.domElement.style.overflow="hidden"}setSize(e,t){return this.width=e,this.height=t,ke.setAttributes(this.domElement,{width:e,height:t}),this.trigger(J.Types.resize,e,t)}render(){return ke.group.render.call(this.scene,this.domElement),ke.defs.update(this.domElement),this}};T(vv,"Utils",ke);var rr={create:function(e,t,n){const i=e.createShader(e[n]);if(e.shaderSource(i,t),e.compileShader(i),!e.getShaderParameter(i,e.COMPILE_STATUS)){const l=e.getShaderInfoLog(i);throw e.deleteShader(i),new $n("unable to compile shader "+i+": "+l)}return i},types:{vertex:"VERTEX_SHADER",fragment:"FRAGMENT_SHADER"},path:{vertex:`
      precision mediump float;
      attribute vec2 a_position;

      uniform mat3 u_matrix;
      uniform vec2 u_resolution;
      uniform vec4 u_rect;

      varying vec2 v_textureCoords;

      void main() {
        vec2 rectCoords = (a_position * (u_rect.zw - u_rect.xy)) + u_rect.xy;
        vec2 projected = (u_matrix * vec3(rectCoords, 1.0)).xy;
        vec2 normal = projected / u_resolution;
        vec2 clipspace = (normal * 2.0) - 1.0;

        gl_Position = vec4(clipspace * vec2(1.0, -1.0), 0.0, 1.0);
        v_textureCoords = a_position;
      }
    `,fragment:`
      precision mediump float;

      uniform sampler2D u_image;
      varying vec2 v_textureCoords;

      void main() {
        vec4 texel = texture2D(u_image, v_textureCoords);
        if (texel.a == 0.0) {
          discard;
        }
        gl_FragColor = texel;
      }
    `},points:{vertex:`
      precision mediump float;
      attribute vec2 a_position;

      uniform float u_size;
      uniform mat3 u_matrix;
      uniform vec2 u_resolution;

      varying vec2 v_textureCoords;

      void main() {
        vec2 projected = (u_matrix * vec3(a_position, 1.0)).xy;
        vec2 normal = projected / u_resolution;
        vec2 clipspace = (normal * 2.0) - 1.0;

        gl_PointSize = u_size;
        gl_Position = vec4(clipspace * vec2(1.0, -1.0), 0.0, 1.0);
        v_textureCoords = a_position;
      }
    `,fragment:`
      precision mediump float;

      uniform sampler2D u_image;

      void main() {
        vec4 texel = texture2D(u_image, gl_PointCoord);
        if (texel.a == 0.0) {
          discard;
        }
        gl_FragColor = texel;
      }
    `}},Su=Os.Multiply,vb=[1,0,0,0,1,0,0,0,1],Ni=new Ir(9),xb=Gt.Utils,$y=new ce,id=new Ir([0,0,1,0,0,1,0,1,1,0,1,1]),Ae={precision:.9,isHidden:/(undefined|none|transparent)/i,canvas:ut.document?ut.document.createElement("canvas"):{getContext:function(){}},alignments:{left:"start",middle:"center",right:"end"},matrix:new Os,group:{removeChild:function(e,t){if(e.children)for(let n=0;n<e.children.length;n++)Ae.group.removeChild(e.children[n],t);e._renderer.texture&&(t.deleteTexture(e._renderer.texture),delete e._renderer.texture),e._renderer.positionBuffer&&(t.deleteBuffer(e._renderer.positionBuffer),delete e._renderer.positionBuffer)},render:function(e,t){if(!this._visible)return;this._update();const n=this.parent,i=n._matrix&&n._matrix.manual||n._flagMatrix,o=this._matrix.manual||this._flagMatrix;if((i||o)&&(this._renderer.matrix||(this._renderer.matrix=new Ir(9)),this._matrix.toTransformArray(!0,Ni),Su(Ni,n._renderer.matrix,this._renderer.matrix),this._renderer.scale instanceof ce||(this._renderer.scale=new ce),this._scale instanceof ce?(this._renderer.scale.x=this._scale.x,this._renderer.scale.y=this._scale.y):(this._renderer.scale.x=this._scale,this._renderer.scale.y=this._scale),/renderer/i.test(n._renderer.type)||(this._renderer.scale.x*=n._renderer.scale.x,this._renderer.scale.y*=n._renderer.scale.y),i&&(this._flagMatrix=!0)),this._mask){e.clear(e.STENCIL_BUFFER_BIT),e.enable(e.STENCIL_TEST),e.stencilFunc(e.ALWAYS,1,0),e.stencilOp(e.KEEP,e.KEEP,e.REPLACE),e.colorMask(!1,!1,!1,!1);const a=Gt.Utils.getRendererType(this._mask._renderer.type);Ae[a].render.call(this._mask,e,t,this),e.stencilFunc(e.EQUAL,1,255),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.colorMask(!0,!0,!0,!0)}this._flagOpacity=n._flagOpacity||this._flagOpacity,this._renderer.opacity=this._opacity*(n&&n._renderer?n._renderer.opacity:1);let l;if(this._flagSubtractions)for(l=0;l<this.subtractions.length;l++)Ae.group.removeChild(this.subtractions[l],e);for(l=0;l<this.children.length;l++){const a=this.children[l],c=Gt.Utils.getRendererType(a._renderer.type);Ae[c].render.call(a,e,t)}return this._mask&&e.disable(e.STENCIL_TEST),this.flagReset()}},path:{updateCanvas:function(e,t){let n,i,o,l,a,c,h,d,g,m,v,_,w,k;const S=t._renderer.vertices,b=this.canvas,x=this.ctx,R=e.renderer.ratio,M=$y.copy(t._renderer.scale).multiply(R),P=t._stroke,I=t._linewidth,j=t._fill,X=t._renderer.opacity||t._opacity,z=t._cap,W=t._join,K=t._miter,q=t._closed,ae=t.dashes,te=S.length,re=te-1;b.width=Math.max(Math.ceil(t._renderer.rect.width*M.x),1),b.height=Math.max(Math.ceil(t._renderer.rect.height*M.y),1);const ue=t._renderer.rect.centroid,Z=ue.x,D=ue.y;if(x.clearRect(0,0,b.width,b.height),j)if(typeof j=="string")x.fillStyle=j;else{const se=Gt.Utils.getRendererType(j._renderer.type);Ae[se].render.call(j,x,t),x.fillStyle=j._renderer.effect}if(P){if(typeof P=="string")x.strokeStyle=P;else{const se=Gt.Utils.getRendererType(P._renderer.type);Ae[se].render.call(P,x,t),x.strokeStyle=P._renderer.effect}I&&(x.lineWidth=I),K&&(x.miterLimit=K),W&&(x.lineJoin=W),!q&&z&&(x.lineCap=z)}typeof X=="number"&&(x.globalAlpha=X),ae&&ae.length>0&&(x.lineDashOffset=ae.offset||0,x.setLineDash(ae));let B,G,L,Y,xe,fe,oe,Q;x.save(),x.scale(M.x,M.y),x.translate(Z,D),x.beginPath();for(let se=0;se<S.length;se++){const ee=S[se];switch(_=ee.x,w=ee.y,ee.command){case de.close:x.closePath();break;case de.arc:G=ee.rx,L=ee.ry,Y=ee.xAxisRotation,xe=ee.largeArcFlag,fe=ee.sweepFlag,n=q?Vn(se-1,te):Math.max(se-1,0),i=S[n],oe=i.x,Q=i.y,xb.renderSvgArcCommand(x,oe,Q,G,L,xe,fe,Y,_,w);break;case de.curve:n=q?Vn(se-1,te):Math.max(se-1,0),i=S[n],d=i.controls&&i.controls.right||ce.zero,g=ee.controls&&ee.controls.left||ce.zero,i._relative?(c=d.x+i.x,h=d.y+i.y):(c=d.x,h=d.y),ee._relative?(l=g.x+ee.x,a=g.y+ee.y):(l=g.x,a=g.y),x.bezierCurveTo(c,h,l,a,_,w),se>=re&&q&&(o=B,m=ee.controls&&ee.controls.right||ce.zero,v=o.controls&&o.controls.left||ce.zero,ee._relative?(c=m.x+ee.x,h=m.y+ee.y):(c=m.x,h=m.y),o._relative?(l=v.x+o.x,a=v.y+o.y):(l=v.x,a=v.y),_=o.x,w=o.y,x.bezierCurveTo(c,h,l,a,_,w));break;case de.line:x.lineTo(_,w);break;case de.move:B=ee,x.moveTo(_,w);break}}q&&x.closePath(),Ae.isHidden.test(j)||(k=j._renderer&&j._renderer.offset,k&&(x.save(),x.translate(-j._renderer.offset.x,-j._renderer.offset.y),x.scale(j._renderer.scale.x,j._renderer.scale.y)),x.fill(),k&&x.restore()),Ae.isHidden.test(P)||(k=P._renderer&&P._renderer.offset,k&&(x.save(),x.translate(-P._renderer.offset.x,-P._renderer.offset.y),x.scale(P._renderer.scale.x,P._renderer.scale.y),x.lineWidth=I/P._renderer.scale.x),x.stroke(),k&&x.restore()),x.restore()},getBoundingClientRect:function(e,t,n){let i=1/0,o=-1/0,l=1/0,a=-1/0,c,h;e.forEach(function(d){const g=d.x,m=d.y,v=d.controls;let _,w,k,S,b,x;l=Math.min(m,l),i=Math.min(g,i),o=Math.max(g,o),a=Math.max(m,a),d.controls&&(b=v.left,x=v.right,!(!b||!x)&&(_=d._relative?b.x+g:b.x,w=d._relative?b.y+m:b.y,k=d._relative?x.x+g:x.x,S=d._relative?x.y+m:x.y,!(!_||!w||!k||!S)&&(l=Math.min(w,S,l),i=Math.min(_,k,i),o=Math.max(_,k,o),a=Math.max(w,S,a))))}),typeof t=="number"&&(l-=t,i-=t,o+=t,a+=t),c=o-i,h=a-l,n.top=l,n.left=i,n.right=o,n.bottom=a,n.width=c,n.height=h,n.centroid||(n.centroid={}),n.centroid.x=-i,n.centroid.y=-l},render:function(e,t,n){if(!this._visible||!this._opacity)return this;this._update();const i=n||this.parent,o=Gt.Utils.getRendererType(this._renderer.type),l=t[o],a=i._matrix.manual||i._flagMatrix,c=this._matrix.manual||this._flagMatrix,h=this._renderer.parent!==i,d=this._flagVertices||this._flagFill||this._fill instanceof Ze&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagEndPoints)||this._fill instanceof Je&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagRadius||this._fill._flagCenter||this._fill._flagFocal)||this._fill instanceof ze&&(this._fill._flagLoaded&&this._fill.loaded||this._fill._flagImage||this._fill._flagVideo||this._fill._flagRepeat||this._fill._flagOffset||this._fill._flagScale)||this._stroke instanceof Ze&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagEndPoints)||this._stroke instanceof Je&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagRadius||this._stroke._flagCenter||this._stroke._flagFocal)||this._stroke instanceof ze&&(this._stroke._flagLoaded&&this._stroke.loaded||this._stroke._flagImage||this._stroke._flagVideo||this._stroke._flagRepeat||this._stroke._flagOffset||this._fill._flagScale)||this._flagStroke||this._flagLinewidth||this._flagOpacity||i._flagOpacity||this._flagVisible||this._flagCap||this._flagJoin||this._flagMiter||this._flagScale||this.dashes&&this.dashes.length>0||!this._renderer.texture;if(a||c||h){this._renderer.matrix||(this._renderer.matrix=new Ir(9)),this._matrix.toTransformArray(!0,Ni),Su(Ni,i._renderer.matrix,this._renderer.matrix),this._renderer.scale instanceof ce||(this._renderer.scale=new ce);let m,v;this._scale instanceof ce?(m=this._scale.x*i._renderer.scale.x,v=this._scale.y*i._renderer.scale.y):(m=this._scale*i._renderer.scale.x,v=this._scale*i._renderer.scale.y),this._renderer.scale.x=m<0?-m:m,this._renderer.scale.y=v<0?-v:v,h&&(this._renderer.parent=i)}if(this._mask){e.clear(e.STENCIL_BUFFER_BIT),e.enable(e.STENCIL_TEST),e.stencilFunc(e.ALWAYS,1,0),e.stencilOp(e.KEEP,e.KEEP,e.REPLACE),e.colorMask(!1,!1,!1,!1);const m=Gt.Utils.getRendererType(this._mask._renderer.type);Ae[m].render.call(this._mask,e,t,this),e.stencilFunc(e.EQUAL,1,255),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.colorMask(!0,!0,!0,!0)}if(d?(this._renderer.rect||(this._renderer.rect={}),this._renderer.opacity=this._opacity*i._renderer.opacity,Ae.path.getBoundingClientRect(this._renderer.vertices,this._linewidth,this._renderer.rect),Ae.updateTexture.call(Ae,e,this)):(this._fill&&this._fill._update&&this._fill._update(),this._stroke&&this._stroke._update&&this._stroke._update()),this._clip&&!n||!this._renderer.texture)return this;t.current!==l&&(e.useProgram(l),e.bindBuffer(e.ARRAY_BUFFER,t.buffers.position),e.vertexAttribPointer(l.position,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(l.position),e.bufferData(e.ARRAY_BUFFER,id,e.STATIC_DRAW),t.resolution.flagged||e.uniform2f(e.getUniformLocation(l,"u_resolution"),t.resolution.width,t.resolution.height),t.current=l),t.resolution.flagged&&e.uniform2f(e.getUniformLocation(l,"u_resolution"),t.resolution.width,t.resolution.height),e.bindTexture(e.TEXTURE_2D,this._renderer.texture);const g=this._renderer.rect;return e.uniformMatrix3fv(l.matrix,!1,this._renderer.matrix),e.uniform4f(l.rect,g.left,g.top,g.right,g.bottom),e.drawArrays(e.TRIANGLES,0,6),this._mask&&e.disable(e.STENCIL_TEST),this.flagReset()}},points:{updateCanvas:function(e,t){let n;const i=this.canvas,o=this.ctx,l=e.renderer.ratio,a=t._stroke,c=t._linewidth,h=t._fill,d=t._renderer.opacity||t._opacity,g=t.dashes,m=t._size*l;let v=m;Ae.isHidden.test(a)||(v+=c),i.width=rv(v),i.height=i.width;const _=v/i.width,w=i.width/2,k=i.height/2;if(o.clearRect(0,0,i.width,i.height),h)if(typeof h=="string")o.fillStyle=h;else{const S=Gt.Utils.getRendererType(h._renderer.type);Ae[S].render.call(h,o,t),o.fillStyle=h._renderer.effect}if(a){if(typeof a=="string")o.strokeStyle=a;else{const S=Gt.Utils.getRendererType(a._renderer.type);Ae[S].render.call(a,o,t),o.strokeStyle=a._renderer.effect}c&&(o.lineWidth=c/_)}typeof d=="number"&&(o.globalAlpha=d),g&&g.length>0&&(o.lineDashOffset=g.offset||0,o.setLineDash(g)),o.save(),o.translate(w,k),o.scale(Ae.precision,Ae.precision),o.beginPath(),o.arc(0,0,m/_*.5,0,Jt),o.restore(),closed&&o.closePath(),Ae.isHidden.test(h)||(n=h._renderer&&h._renderer.offset,n&&(o.save(),o.translate(-h._renderer.offset.x,-h._renderer.offset.y),o.scale(h._renderer.scale.x,h._renderer.scale.y)),o.fill(),n&&o.restore()),Ae.isHidden.test(a)||(n=a._renderer&&a._renderer.offset,n&&(o.save(),o.translate(-a._renderer.offset.x,-a._renderer.offset.y),o.scale(a._renderer.scale.x,a._renderer.scale.y),o.lineWidth=c/a._renderer.scale.x),o.stroke(),n&&o.restore())},render:function(e,t,n){if(!this._visible||!this._opacity)return this;this._update();let i=this._size;const o=n||this.parent,l=t[this._renderer.type],a=this._sizeAttenuation,c=this._stroke,h=this._linewidth,d=o._matrix.manual||o._flagMatrix,g=this._matrix.manual||this._flagMatrix,m=this._renderer.parent!==o,v=this._renderer.vertices,_=this._renderer.collection.length,w=this._flagVertices,k=this._flagFill||this._fill instanceof Ze&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagEndPoints)||this._fill instanceof Je&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagRadius||this._fill._flagCenter||this._fill._flagFocal)||this._fill instanceof ze&&(this._fill._flagLoaded&&this._fill.loaded||this._fill._flagImage||this._fill._flagVideo||this._fill._flagRepeat||this._fill._flagOffset||this._fill._flagScale)||this._stroke instanceof Ze&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagEndPoints)||this._stroke instanceof Je&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagRadius||this._stroke._flagCenter||this._stroke._flagFocal)||this._stroke instanceof ze&&(this._stroke._flagLoaded&&this._stroke.loaded||this._stroke._flagImage||this._stroke._flagVideo||this._stroke._flagRepeat||this._stroke._flagOffset||this._fill._flagScale)||this._flagStroke||this._flagLinewidth||this._flagOpacity||o._flagOpacity||this._flagVisible||this._flagScale||this.dashes&&this.dashes.length>0||!this._renderer.texture;if(d||g||m){this._renderer.matrix||(this._renderer.matrix=new Ir(9)),this._matrix.toTransformArray(!0,Ni),Su(Ni,o._renderer.matrix,this._renderer.matrix),this._renderer.scale instanceof ce||(this._renderer.scale=new ce);let S,b;this._scale instanceof ce?(S=this._scale.x*o._renderer.scale.x,b=this._scale.y*o._renderer.scale.y):(S=this._scale*o._renderer.scale.x,b=this._scale*o._renderer.scale.y),this._renderer.scale.x=S<0?-S:S,this._renderer.scale.y=b<0?-b:b,m&&(this._renderer.parent=o)}if(w){const S=this._renderer.positionBuffer;S&&e.deleteBuffer(S),this._renderer.positionBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this._renderer.positionBuffer),e.vertexAttribPointer(l.position,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(l.position),e.bufferData(e.ARRAY_BUFFER,v,e.STATIC_DRAW)}return k?(this._renderer.opacity=this._opacity*o._renderer.opacity,Ae.updateTexture.call(Ae,e,this)):(this._fill&&this._fill._update&&this._fill._update(),this._stroke&&this._stroke._update&&this._stroke._update()),this._clip&&!n||!this._renderer.texture?this:(Ae.isHidden.test(c)||(i+=h),i/=Ae.precision,a&&(i*=Math.max(this._renderer.scale.x,this._renderer.scale.y)),t.current!==l&&(e.useProgram(l),t.resolution.flagged||e.uniform2f(e.getUniformLocation(l,"u_resolution"),t.resolution.width,t.resolution.height),t.current=l),t.resolution.flagged&&e.uniform2f(e.getUniformLocation(l,"u_resolution"),t.resolution.width,t.resolution.height),e.bindTexture(e.TEXTURE_2D,this._renderer.texture),e.uniformMatrix3fv(l.matrix,!1,this._renderer.matrix),e.uniform1f(l.size,i*t.resolution.ratio),e.drawArrays(e.POINTS,0,_),this.flagReset())}},text:{updateCanvas:function(e,t){const n=this.canvas,i=this.ctx,o=e.renderer.ratio,l=$y.copy(t._renderer.scale).multiply(o),a=t._stroke,c=t._linewidth,h=t._fill,d=t._renderer.opacity||t._opacity,g=t.dashes,m=t._decoration,v=t._direction;n.width=Math.max(Math.ceil(t._renderer.rect.width*l.x),1),n.height=Math.max(Math.ceil(t._renderer.rect.height*l.y),1);const _=t._renderer.rect.centroid,w=_.x,k=_.y;let S,b,x,R,M,P,I,j,X,z,W;const K=h._renderer&&h._renderer.offset&&a._renderer&&a._renderer.offset;if(i.clearRect(0,0,n.width,n.height),K||(i.font=[t._style,t._weight,t._size+"px/"+t._leading+"px",t._family].join(" ")),i.textAlign="center",i.textBaseline="middle",i.textDirection=v,h)if(typeof h=="string")i.fillStyle=h;else{const q=Gt.Utils.getRendererType(h._renderer.type);Ae[q].render.call(h,i,t),i.fillStyle=h._renderer.effect}if(a){if(typeof a=="string")i.strokeStyle=a;else{const q=Gt.Utils.getRendererType(a._renderer.type);Ae[q].render.call(a,i,t),i.strokeStyle=a._renderer.effect}c&&(i.lineWidth=c)}if(typeof d=="number"&&(i.globalAlpha=d),g&&g.length>0&&(i.lineDashOffset=g.offset||0,i.setLineDash(g)),i.save(),i.scale(l.x,l.y),i.translate(w,k),Ae.isHidden.test(h)||(h._renderer&&h._renderer.offset?(P=h._renderer.scale.x,I=h._renderer.scale.y,i.save(),i.translate(-h._renderer.offset.x,-h._renderer.offset.y),i.scale(P,I),S=t._size/h._renderer.scale.y,b=t._leading/h._renderer.scale.y,i.font=[t._style,t._weight,S+"px/",b+"px",t._family].join(" "),x=h._renderer.offset.x/h._renderer.scale.x,R=h._renderer.offset.y/h._renderer.scale.y,i.fillText(t.value,x,R),i.restore()):i.fillText(t.value,0,0)),Ae.isHidden.test(a)||(a._renderer&&a._renderer.offset?(P=a._renderer.scale.x,I=a._renderer.scale.y,i.save(),i.translate(-a._renderer.offset.x,-a._renderer.offset.y),i.scale(P,I),S=t._size/a._renderer.scale.y,b=t._leading/a._renderer.scale.y,i.font=[t._style,t._weight,S+"px/",b+"px",t._family].join(" "),x=a._renderer.offset.x/a._renderer.scale.x,R=a._renderer.offset.y/a._renderer.scale.y,M=c/a._renderer.scale.x,i.lineWidth=M,i.strokeText(t.value,x,R),i.restore()):i.strokeText(t.value,0,0)),/(underline|strikethrough)/i.test(m)){const q=i.measureText(t.value);switch(m){case"underline":X=q.actualBoundingBoxDescent,W=q.actualBoundingBoxDescent;break;case"strikethrough":X=0,W=0;break}j=-q.width/2,z=q.width/2,i.lineWidth=Math.max(Math.floor(t._size/15),1),i.strokeStyle=i.fillStyle,i.beginPath(),i.moveTo(j,X),i.lineTo(z,W),i.stroke()}i.restore()},getBoundingClientRect:function(e,t){const n=Ae.ctx;n.font=[e._style,e._weight,e._size+"px/"+e._leading+"px",e._family].join(" "),n.textAlign="center",n.textBaseline=Gt.Utils.baselines[e._baseline]||e._baseline;const i=n.measureText(e._value);let o=i.width,l=1.15*(i.actualBoundingBoxAscent+i.actualBoundingBoxDescent);this._linewidth&&!Ae.isHidden.test(this._stroke)&&(o+=this._linewidth*2,l+=this._linewidth*2);const a=o/2,c=l/2;switch(Ae.alignments[e._alignment]||e._alignment){case Ae.alignments.left:e.direction==="ltr"?(t.left=0,t.right=o):(t.left=-o,t.right=0);break;case Ae.alignments.right:e.direction==="ltr"?(t.left=-o,t.right=0):(t.left=0,t.right=o);break;default:t.left=-a,t.right=a}switch(e._baseline){case"bottom":t.top=-l,t.bottom=0;break;case"top":t.top=0,t.bottom=l;break;case"baseline":t.top=-c*1.5,t.bottom=c*.5;break;default:t.top=-c,t.bottom=c}t.width=o,t.height=l,t.centroid||(t.centroid={}),t.centroid.x=a,t.centroid.y=c},render:function(e,t,n){if(!this._visible||!this._opacity)return this;this._update();const i=n||this.parent,o=t[this._renderer.type],l=i._matrix.manual||i._flagMatrix,a=this._matrix.manual||this._flagMatrix,c=this._renderer.parent!==i,h=this._flagVertices||this._flagFill||this._fill instanceof Ze&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagEndPoints)||this._fill instanceof Je&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagRadius||this._fill._flagCenter||this._fill._flagFocal)||this._fill instanceof ze&&(this._fill._flagLoaded&&this._fill.loaded||this._fill._flagImage||this._fill._flagVideo||this._fill._flagRepeat||this._fill._flagOffset||this._fill._flagScale)||this._stroke instanceof Ze&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagEndPoints)||this._stroke instanceof Je&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagRadius||this._stroke._flagCenter||this._stroke._flagFocal)||this._stroke instanceof ze&&(this._stroke._flagLoaded&&this._stroke.loaded||this._stroke._flagImage||this._stroke._flagVideo||this._stroke._flagRepeat||this._stroke._flagOffset||this._fill._flagScale)||this._flagStroke||this._flagLinewidth||this._flagOpacity||i._flagOpacity||this._flagVisible||this._flagScale||this._flagValue||this._flagFamily||this._flagSize||this._flagLeading||this._flagAlignment||this._flagBaseline||this._flagStyle||this._flagWeight||this._flagDecoration||this.dashes&&this.dashes.length>0||!this._renderer.texture;if(l||a||c){this._renderer.matrix||(this._renderer.matrix=new Ir(9)),this._matrix.toTransformArray(!0,Ni),Su(Ni,i._renderer.matrix,this._renderer.matrix),this._renderer.scale instanceof ce||(this._renderer.scale=new ce);let g,m;this._scale instanceof ce?(g=this._scale.x*i._renderer.scale.x,m=this._scale.y*i._renderer.scale.y):(g=this._scale*i._renderer.scale.x,m=this._scale*i._renderer.scale.y),this._renderer.scale.x=g<0?-g:g,this._renderer.scale.y=m<0?-m:m,c&&(this._renderer.parent=i)}if(this._mask){e.clear(e.STENCIL_BUFFER_BIT),e.enable(e.STENCIL_TEST),e.stencilFunc(e.ALWAYS,1,0),e.stencilOp(e.KEEP,e.KEEP,e.REPLACE),e.colorMask(!1,!1,!1,!1);const g=Gt.Utils.getRendererType(this._mask._renderer.type);Ae[g].render.call(this._mask,e,t,this),e.stencilFunc(e.EQUAL,1,255),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.colorMask(!0,!0,!0,!0)}if(h?(this._renderer.rect||(this._renderer.rect={}),this._renderer.opacity=this._opacity*i._renderer.opacity,Ae.text.getBoundingClientRect(this,this._renderer.rect),Ae.updateTexture.call(Ae,e,this)):(this._fill&&this._fill._update&&this._fill._update(),this._stroke&&this._stroke._update&&this._stroke._update()),this._clip&&!n||!this._renderer.texture)return this;t.current!==o&&(e.useProgram(o),e.bindBuffer(e.ARRAY_BUFFER,t.buffers.position),e.vertexAttribPointer(o.position,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(o.position),e.bufferData(e.ARRAY_BUFFER,id,e.STATIC_DRAW),t.resolution.flagged||e.uniform2f(e.getUniformLocation(o,"u_resolution"),t.resolution.width,t.resolution.height),t.current=o),t.resolution.flagged&&e.uniform2f(e.getUniformLocation(o,"u_resolution"),t.resolution.width,t.resolution.height),e.bindTexture(e.TEXTURE_2D,this._renderer.texture);const d=this._renderer.rect;return e.uniformMatrix3fv(o.matrix,!1,this._renderer.matrix),e.uniform4f(o.rect,d.left,d.top,d.right,d.bottom),e.drawArrays(e.TRIANGLES,0,6),this._mask&&e.disable(e.STENCIL_TEST),this.flagReset()}},"linear-gradient":{render:function(e,t){if(!(!e.canvas.getContext("2d")||!t)){if(this._update(),!this._renderer.effect||this._flagEndPoints||this._flagStops||this._flagUnits){let n,i=this.left._x,o=this.left._y,l=this.right._x,a=this.right._y;/objectBoundingBox/i.test(this._units)&&(n=t.getBoundingClientRect(!0),i=(i-.5)*n.width,o=(o-.5)*n.height,l=(l-.5)*n.width,a=(a-.5)*n.height),this._renderer.effect=e.createLinearGradient(i,o,l,a);for(let c=0;c<this.stops.length;c++){const h=this.stops[c];this._renderer.effect.addColorStop(h._offset,h._color)}}return this.flagReset()}}},"radial-gradient":{render:function(e,t){if(!(!e.canvas.getContext("2d")||!t)){if(this._update(),!this._renderer.effect||this._flagCenter||this._flagFocal||this._flagRadius||this._flagStops||this._flagUnits){let n,i=this.center._x,o=this.center._y,l=this.focal._x,a=this.focal._y,c=this._radius;/objectBoundingBox/i.test(this._units)&&(n=t.getBoundingClientRect(!0),i=(i-.5)*n.width*.5,o=(o-.5)*n.height*.5,l=(l-.5)*n.width*.5,a=(a-.5)*n.height*.5,c*=Math.min(n.width,n.height)),this._renderer.effect=e.createRadialGradient(i,o,0,l,a,c);for(let h=0;h<this.stops.length;h++){const d=this.stops[h];this._renderer.effect.addColorStop(d._offset,d._color)}}return this.flagReset()}}},texture:{render:function(e,t){if(!e.canvas.getContext("2d"))return;this._update();const n=this.image;if((this._flagLoaded||this._flagImage||this._flagVideo||this._flagRepeat)&&this.loaded)this._renderer.effect=e.createPattern(n,this._repeat);else if(!this._renderer.effect)return this.flagReset();if((this._flagOffset||this._flagLoaded||this._flagScale)&&(this._renderer.offset instanceof ce||(this._renderer.offset=new ce),this._renderer.offset.x=-this._offset.x,this._renderer.offset.y=-this._offset.y,n&&(this._renderer.offset.x+=n.width/2,this._renderer.offset.y+=n.height/2,this._scale instanceof ce?(this._renderer.offset.x*=this._scale.x,this._renderer.offset.y*=this._scale.y):(this._renderer.offset.x*=this._scale,this._renderer.offset.y*=this._scale))),this._flagScale||this._flagLoaded){this._renderer.scale instanceof ce||(this._renderer.scale=new ce);let i,o;this._scale instanceof ce?(i=this._scale.x,o=this._scale.y):(i=this._scale,o=this._scale),this._renderer.scale.x=i<0?-i:i,this._renderer.scale.y=o<0?-o:o}return this.flagReset()}},updateTexture:function(e,t){const n=Gt.Utils.getRendererType(t._renderer.type);if(this[n].updateCanvas.call(Ae,e,t),this.canvas.width<=0||this.canvas.height<=0){t._renderer.texture&&e.deleteTexture(t._renderer.texture),delete t._renderer.texture;return}t._renderer.texture||(t._renderer.texture=e.createTexture()),e.bindTexture(e.TEXTURE_2D,t._renderer.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,this.canvas),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR)},program:{create:function(e,t){let n,i,o;if(n=e.createProgram(),be.each(t,function(l){e.attachShader(n,l)}),e.linkProgram(n),i=e.getProgramParameter(n,e.LINK_STATUS),!i)throw o=e.getProgramInfoLog(n),e.deleteProgram(n),new $n("unable to link program: "+o);return n}},extensions:{init:function(e){const t={},n=["EXT_texture_filter_anisotropic","WEBGL_compressed_texture_s3tc","OES_texture_float_linear","WEBGL_multisampled_render_to_texture"];for(let i=0;i<n.length;i++){const o=n[i];t[o]=Ae.extensions.get(e,o)}return t},get:function(e,t){return e.getExtension(t)||e.getExtension(`MOZ_${t}`)||e.getExtension(`WEBKIT_${t}`)}},TextureRegistry:new hc};Ae.ctx=Ae.canvas.getContext("2d");var xv=class extends J{constructor(e){super();let t,n,i,o;if(this.domElement=e.domElement||document.createElement("canvas"),typeof e.offscreenElement<"u"&&(Ae.canvas=e.offscreenElement,Ae.ctx=Ae.canvas.getContext("2d")),this.scene=new xt,this.scene.parent=this,this._renderer={type:"renderer",matrix:new Ir(vb),scale:1,opacity:1},this._flagMatrix=!0,e=be.defaults(e||{},{antialias:!1,alpha:!0,premultipliedAlpha:!0,stencil:!0,preserveDrawingBuffer:!0,overdraw:!1}),this.overdraw=e.overdraw,t=this.ctx=this.domElement.getContext("webgl",e)||this.domElement.getContext("experimental-webgl",e),!this.ctx)throw new $n("unable to create a webgl context. Try using another renderer.");i=rr.create(t,rr.path.vertex,rr.types.vertex),o=rr.create(t,rr.path.fragment,rr.types.fragment),this.programs={current:null,buffers:{position:t.createBuffer()},resolution:{width:0,height:0,ratio:1,flagged:!1}},n=this.programs.path=Ae.program.create(t,[i,o]),this.programs.text=this.programs.path,t.extensions=Ae.extensions.init(t),t.renderer=this,n.position=t.getAttribLocation(n,"a_position"),n.matrix=t.getUniformLocation(n,"u_matrix"),n.rect=t.getUniformLocation(n,"u_rect");const l=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,l),t.vertexAttribPointer(n.position,2,t.FLOAT,!1,0,0),t.enableVertexAttribArray(n.position),t.bufferData(t.ARRAY_BUFFER,id,t.STATIC_DRAW),i=rr.create(t,rr.points.vertex,rr.types.vertex),o=rr.create(t,rr.points.fragment,rr.types.fragment),n=this.programs.points=Ae.program.create(t,[i,o]),n.position=t.getAttribLocation(n,"a_position"),n.matrix=t.getUniformLocation(n,"u_matrix"),n.size=t.getUniformLocation(n,"u_size"),t.enable(t.BLEND),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA)}setSize(e,t,n){let i,o;const l=this.ctx;return this.width=e,this.height=t,this.ratio=typeof n>"u"?jd(l):n,this.domElement.width=e*this.ratio,this.domElement.height=t*this.ratio,be.isObject(this.domElement.style)&&be.extend(this.domElement.style,{width:e+"px",height:t+"px"}),this._renderer.matrix[0]=this._renderer.matrix[4]=this._renderer.scale=this.ratio,this._flagMatrix=!0,i=e*this.ratio,o=t*this.ratio,l.viewport(0,0,i,o),this.programs.resolution.width=i,this.programs.resolution.height=o,this.programs.resolution.ratio=this.ratio,this.programs.resolution.flagged=!0,this.trigger(J.Types.resize,e,t,n)}render(){const e=this.ctx;return this.overdraw||e.clear(e.COLOR_BUFFER_BIT),Ae.group.render.call(this.scene,e,this.programs),this._flagMatrix=!1,this.programs.resolution.flagged=!0,this}};T(xv,"Utils",Ae);var wb=be.extend({Error:$n,getRatio:jd,read:nt,xhr:_v},be,an,Z_,J_),Fl=class{constructor(e){T(this,"_events",new J),T(this,"type",""),T(this,"renderer",null),T(this,"scene",null),T(this,"width",0),T(this,"height",0),T(this,"frameCount",0),T(this,"timeDelta",0),T(this,"playing",!1);const t=be.defaults(e||{},{fullscreen:!1,fitted:!1,width:640,height:480,type:Fl.Types.svg,autostart:!1});if(be.each(t,function(n,i){/fullscreen/i.test(i)||/autostart/i.test(i)||(this[i]=n)},this),be.isElement(t.domElement)){const n=t.domElement.tagName.toLowerCase();/^(CanvasRenderer-canvas|WebGLRenderer-canvas|SVGRenderer-svg)$/.test(this.type+"-"+n)||(this.type=Fl.Types[n])}this.renderer=new Fl[this.type](this),this.setPlaying(t.autostart),this.frameCount=0,t.fullscreen?(this.fit=kb.bind(this),this.fit.domElement=window,this.fit.attached=!0,be.extend(document.body.style,{overflow:"hidden",margin:0,padding:0,top:0,left:0,right:0,bottom:0,position:"fixed"}),be.extend(this.renderer.domElement.style,{display:"block",top:0,left:0,right:0,bottom:0,position:"fixed"}),Bn.bind(this.fit.domElement,"resize",this.fit),this.fit()):t.fitted?(this.fit=bb.bind(this),be.extend(this.renderer.domElement.style,{display:"block"})):be.isElement(t.domElement)||(this.renderer.setSize(t.width,t.height,this.ratio),this.width=t.width,this.height=t.height),this.renderer.bind(J.Types.resize,Sb.bind(this)),this.scene=this.renderer.scene,Fl.Instances.push(this),t.autostart&&Wl.init()}get _bound(){return this._events._bound}set _bound(e){this._events._bound=e}addEventListener(){return this._events.addEventListener.apply(this,arguments)}on(){return this._events.addEventListener.apply(this,arguments)}bind(){return this._events.addEventListener.apply(this,arguments)}removeEventListener(){return this._events.removeEventListener.apply(this,arguments)}off(){return this._events.removeEventListener.apply(this,arguments)}unbind(){return this._events.removeEventListener.apply(this,arguments)}dispatchEvent(){return this._events.dispatchEvent.apply(this,arguments)}trigger(){return this._events.dispatchEvent.apply(this,arguments)}listen(){return this._events.listen.apply(this,arguments)}ignore(){return this._events.ignore.apply(this,arguments)}appendTo(e){return e.appendChild(this.renderer.domElement),this.fit&&(this.fit.domElement!==window&&(this.fit.domElement=e,this.fit.attached=!1),this.update()),this}play(){return this.playing=!0,Wl.init(),this.trigger(J.Types.play)}pause(){return this.playing=!1,this.trigger(J.Types.pause)}setPlaying(e){this.playing=e}release(e){let t,n,i;if(!be.isObject(e))return this.release(this.scene);if(typeof e.unbind=="function"&&e.unbind(),e.vertices)for(typeof e.vertices.unbind=="function"&&e.vertices.unbind(),t=0;t<e.vertices.length;t++)n=e.vertices[t],typeof n.unbind=="function"&&n.unbind(),n.controls&&(n.controls.left&&typeof n.controls.left.unbind=="function"&&n.controls.left.unbind(),n.controls.right&&typeof n.controls.right.unbind=="function"&&n.controls.right.unbind());if(e.children){for(t=0;t<e.children.length;t++)i=e.children[t],this.release(i);typeof e.children.unbind=="function"&&e.children.unbind()}return e}update(){const e=!!this._lastFrame,t=be.performance.now();e&&(this.timeDelta=parseFloat((t-this._lastFrame).toFixed(3))),this._lastFrame=t,this.fit&&this.fit.domElement&&!this.fit.attached&&(Bn.bind(this.fit.domElement,"resize",this.fit),this.fit.attached=!0,this.fit());const n=this.width,i=this.height,o=this.renderer;return(n!==o.width||i!==o.height)&&o.setSize(n,i,this.ratio),this.trigger(J.Types.update,this.frameCount,this.timeDelta),this.render()}render(){return this.renderer.render(),this.trigger(J.Types.render,this.frameCount++)}add(e){return e instanceof Array||(e=Array.prototype.slice.call(arguments)),this.scene.add(e),this}remove(e){return e instanceof Array||(e=Array.prototype.slice.call(arguments)),this.scene.remove(e),this}clear(){return this.scene.remove(this.scene.children),this}makeLine(e,t,n,i){const o=new Dd(e,t,n,i);return this.scene.add(o),o}makeArrow(e,t,n,i,o){const l=typeof o=="number"?o:10,a=Math.atan2(i-t,n-e),c=[new Le(e,t,void 0,void 0,void 0,void 0,de.move),new Le(n,i,void 0,void 0,void 0,void 0,de.line),new Le(n-l*Math.cos(a-Math.PI/4),i-l*Math.sin(a-Math.PI/4),void 0,void 0,void 0,void 0,de.line),new Le(n,i,void 0,void 0,void 0,void 0,de.move),new Le(n-l*Math.cos(a+Math.PI/4),i-l*Math.sin(a+Math.PI/4),void 0,void 0,void 0,void 0,de.line)],h=new Ie(c,!1,!1,!0);return h.noFill(),h.cap="round",h.join="round",this.scene.add(h),h}makeRectangle(e,t,n,i){const o=new Qi(e,t,n,i);return this.scene.add(o),o}makeRoundedRectangle(e,t,n,i,o){const l=new Zl(e,t,n,i,o);return this.scene.add(l),l}makeCircle(e,t,n,i){const o=new Gl(e,t,n,i);return this.scene.add(o),o}makeEllipse(e,t,n,i,o){const l=new Ql(e,t,n,i,o);return this.scene.add(l),l}makeStar(e,t,n,i,o){const l=new yc(e,t,n,i,o);return this.scene.add(l),l}makeCurve(e){const t=arguments.length;if(!Array.isArray(e)){e=[];for(let l=0;l<t;l+=2){const a=arguments[l];if(typeof a!="number")break;const c=arguments[l+1];e.push(new Le(a,c))}}const n=arguments[t-1],i=new Ie(e,!(typeof n=="boolean"&&n),!0),o=i.getBoundingClientRect();return i.center().translation.set(o.left+o.width/2,o.top+o.height/2),this.scene.add(i),i}makePolygon(e,t,n,i){const o=new mc(e,t,n,i);return this.scene.add(o),o}makeArcSegment(e,t,n,i,o,l,a){const c=new pc(e,t,n,i,o,l,a);return this.scene.add(c),c}makePoints(e){const t=arguments.length;let n=e;if(!Array.isArray(e)){n=[];for(let o=0;o<t;o+=2){const l=arguments[o];if(typeof l!="number")break;const a=arguments[o+1];n.push(new ce(l,a))}}const i=new gc(n);return this.scene.add(i),i}makePath(e){const t=arguments.length;let n=e;if(!Array.isArray(e)){n=[];for(let a=0;a<t;a+=2){const c=arguments[a];if(typeof c!="number")break;const h=arguments[a+1];n.push(new Le(c,h))}}const i=arguments[t-1],o=new Ie(n,!(typeof i=="boolean"&&i)),l=o.getBoundingClientRect();return typeof l.top=="number"&&typeof l.left=="number"&&typeof l.right=="number"&&typeof l.bottom=="number"&&o.center().translation.set(l.left+l.width/2,l.top+l.height/2),this.scene.add(o),o}makeText(e,t,n,i){const o=new ir(e,t,n,i);return this.add(o),o}makeLinearGradient(e,t,n,i){const o=Array.prototype.slice.call(arguments,4),l=new Ze(e,t,n,i,o);return this.add(l),l}makeRadialGradient(e,t,n){const i=Array.prototype.slice.call(arguments,3),o=new Je(e,t,n,i);return this.add(o),o}makeSprite(e,t,n,i,o,l,a){const c=new dc(e,t,n,i,o,l);return a&&c.play(),this.add(c),c}makeImageSequence(e,t,n,i,o){const l=new _c(e,t,n,i);return o&&l.play(),this.add(l),l}makeTexture(e,t){return new ze(e,t)}makeGroup(e){e instanceof Array||(e=Array.prototype.slice.call(arguments));const t=new xt;return this.scene.add(t),t.add(e),t}interpret(e,t,n){const i=e.tagName.toLowerCase();if(n=typeof n<"u"?n:!0,!(i in nt))return null;const o=nt[i].call(this,e);return n?this.add(t&&o instanceof xt?o.children:o):o.parent&&o.remove(),o}load(e,t){const n=new xt;let i,o,l;const a=(function(c){for(Bn.temp.innerHTML=c,o=0;o<Bn.temp.children.length;o++)i=Bn.temp.children[o],l=this.interpret(i,!1,!1),l!==null&&n.add(l);if(typeof t=="function"){const h=Bn.temp.children.length<=1?Bn.temp.children[0]:Bn.temp.children;t(n,h)}}).bind(this);return/\.svg$/i.test(e)?(_v(e,a),n):(a(e),n)}},Ee=Fl;T(Ee,"nextFrameID",fn.nextFrameID);T(Ee,"Types",fn.Types);T(Ee,"Version",fn.Version);T(Ee,"PublishDate",fn.PublishDate);T(Ee,"Identifier",fn.Identifier);T(Ee,"Resolution",fn.Resolution);T(Ee,"AutoCalculateImportedMatrices",fn.AutoCalculateImportedMatrices);T(Ee,"Instances",fn.Instances);T(Ee,"uniqueId",fn.uniqueId);T(Ee,"Anchor",Le);T(Ee,"Collection",Xi);T(Ee,"Events",J);T(Ee,"Group",xt);T(Ee,"Matrix",Os);T(Ee,"Path",Ie);T(Ee,"Registry",hc);T(Ee,"Shape",jr);T(Ee,"Text",ir);T(Ee,"Vector",ce);T(Ee,"Gradient",yt);T(Ee,"ImageSequence",_c);T(Ee,"LinearGradient",Ze);T(Ee,"RadialGradient",Je);T(Ee,"Sprite",dc);T(Ee,"Stop",zr);T(Ee,"Texture",ze);T(Ee,"ArcSegment",pc);T(Ee,"Circle",Gl);T(Ee,"Ellipse",Ql);T(Ee,"Line",Dd);T(Ee,"Points",gc);T(Ee,"Polygon",mc);T(Ee,"Rectangle",Qi);T(Ee,"RoundedRectangle",Zl);T(Ee,"Star",yc);T(Ee,"CanvasRenderer",Gt);T(Ee,"SVGRenderer",vv);T(Ee,"WebGLRenderer",xv);T(Ee,"Commands",de);T(Ee,"Utils",wb);function kb(){const e=document.body.getBoundingClientRect(),t=this.width=e.width,n=this.height=e.height;this.renderer.setSize(t,n,this.ratio)}function bb(){const e=this.renderer.domElement.parentElement;if(!e){console.warn("Two.js: Attempting to fit to parent, but no parent found.");return}const t=e.getBoundingClientRect(),n=this.width=t.width,i=this.height=t.height;this.renderer.setSize(n,i,this.ratio)}function Sb(e,t){this.width=e,this.height=t,this.trigger(J.Types.resize,e,t)}var Wl=Bn.getRequestAnimationFrame();function wv(){for(let e=0;e<Ee.Instances.length;e++){const t=Ee.Instances[e];t.playing&&t.update()}Ee.nextFrameID=Wl(wv)}Wl.init=function(){wv(),Wl.init=function(){}};const tt={move:"M",line:"L",curve:"C",arc:"A",close:"Z"};class pe{constructor(){U(this,"_events",{});U(this,"_bound",!1)}addEventListener(t,n){return(this._events[t]||(this._events[t]=[])).push(n),this._bound=!0,this}on(){return this.addEventListener.apply(this,arguments)}bind(){return this.addEventListener.apply(this,arguments)}removeEventListener(t,n){if(!this._events)return this;if(!t&&!n)return this._events={},this._bound=!1,this;const i=t?[t]:Object.keys(this._events);for(let o=0,l=i.length;o<l;o++){t=i[o];let a=this._events[t];if(a){let c=[];if(n)for(let h=0,d=a.length;h<d;h++){let g=a[h];g=g.handler?g.handler:g,n!==g&&c.push(g)}this._events[t]=c}}return this}off(){return this.removeEventListener.apply(this,arguments)}unbind(){return this.removeEventListener.apply(this,arguments)}dispatchEvent(t){if(!this._events)return this;const n=Array.prototype.slice.call(arguments,1),i=this._events[t];if(i)for(let o=0;o<i.length;o++)i[o].call(this,...n);return this}trigger(){return this.dispatchEvent.apply(this,arguments)}listen(t,n,i){const o=this;t&&(l.obj=t,l.name=n,l.handler=i,t.on(n,l));function l(){i.apply(o,arguments)}return o}ignore(t,n,i){return t.off(n,i),this}}U(pe,"Types",{play:"play",pause:"pause",update:"update",render:"render",resize:"resize",change:"change",remove:"remove",insert:"insert",order:"order",load:"load"}),U(pe,"Methods",["addEventListener","on","removeEventListener","off","unbind","dispatchEvent","trigger","listen","ignore"]);var jt;class sd extends Array{constructor(){super();Mm(this,jt,new pe);arguments[0]&&Array.isArray(arguments[0])?arguments[0].length>0&&this.push.apply(this,arguments[0]):arguments.length>0&&this.push.apply(this,arguments)}get _events(){return vn(this,jt)}set _events(n){Pm(this,jt,n)}get _bound(){return vn(this,jt)._bound}set _bound(n){vn(this,jt)._bound=n}addEventListener(){return vn(this,jt).addEventListener.apply(this,arguments)}on(){return vn(this,jt).on.apply(this,arguments)}bind(){return vn(this,jt).bind.apply(this,arguments)}removeEventListener(){return vn(this,jt).removeEventListener.apply(this,arguments)}off(){return vn(this,jt).off.apply(this,arguments)}unbind(){return vn(this,jt).unbind.apply(this,arguments)}dispatchEvent(){return vn(this,jt).dispatchEvent.apply(this,arguments)}trigger(){return vn(this,jt).trigger.apply(this,arguments)}listen(){return vn(this,jt).listen.apply(this,arguments)}ignore(){return vn(this,jt).ignore.apply(this,arguments)}pop(){const n=super.pop.apply(this,arguments);return this.trigger(pe.Types.remove,[n]),n}shift(){const n=super.shift.apply(this,arguments);return this.trigger(pe.Types.remove,[n]),n}push(){const n=super.push.apply(this,arguments);return this.trigger(pe.Types.insert,arguments),n}unshift(){const n=super.unshift.apply(this,arguments);return this.trigger(pe.Types.insert,arguments),n}splice(){const n=super.splice.apply(this,arguments);if(this.trigger(pe.Types.remove,n),arguments.length>2){const i=this.slice(arguments[0],arguments[0]+arguments.length-2);this.trigger(pe.Types.insert,i),this.trigger(pe.Types.order)}return n}sort(){return super.sort.apply(this,arguments),this.trigger(pe.Types.order),this}reverse(){return super.reverse.apply(this,arguments),this.trigger(pe.Types.order),this}indexOf(){return super.indexOf.apply(this,arguments)}map(n,i){const o=[];for(let l=0;l<this.length;l++){const a=this[l];let c;i?c=n.call(i,a,l):c=n(a,l),o.push(c)}return o}}jt=new WeakMap;let Dr;typeof window<"u"?Dr=window:typeof global<"u"?Dr=global:typeof self<"u"&&(Dr=self);let kv;const Vy=Math.PI*.5;function Eb(e,t,n,i,o,l){let a;return arguments.length<=1?(a=e.a,t=e.b,n=e.c,i=e.d,o=e.e,l=e.f):a=e,{translateX:o,translateY:l,scaleX:Math.sqrt(a*a+t*t),scaleY:Math.sqrt(n*n+i*i),rotation:180*Math.atan2(t,a)/Math.PI}}function Cb(e){kv=e}function Rb(e,t){t=t&&t.identity()||new kv;let n=e;const i=[];for(;n&&n._matrix;)i.push(n._matrix),n=n.parent;i.reverse();for(let o=0;o<i.length;o++){const a=i[o].elements;t.multiply(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9])}return t}function Pr(e,t,n){return n*(t-e)+e}function Ku(e,t){for(;e<0;)e+=t;return e%t}const Hy=Dr.Float32Array||Array,Tb=Math.floor;function Lr(e){return Tb(e*1e6)/1e6}const Wy={x:{enumerable:!0,get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this._bound&&this.dispatchEvent(pe.Types.change))}},y:{enumerable:!0,get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this._bound&&this.dispatchEvent(pe.Types.change))}}},Nt=class Nt extends pe{constructor(n=0,i=0){super();U(this,"_x",0);U(this,"_y",0);for(let o in Wy)Object.defineProperty(this,o,Wy[o]);this.x=n,this.y=i}static add(n,i){return new Nt(n.x+i.x,n.y+i.y)}static sub(n,i){return new Nt(n.x-i.x,n.y-i.y)}static subtract(n,i){return Nt.sub(n,i)}static ratioBetween(n,i){return(n.x*i.x+n.y*i.y)/(n.length()*i.length())}static angleBetween(n,i){if(arguments.length>=4){const a=arguments[0]-arguments[2],c=arguments[1]-arguments[3];return Math.atan2(c,a)}const o=n.x-i.x,l=n.y-i.y;return Math.atan2(l,o)}static distanceBetween(n,i){return Math.sqrt(Nt.distanceBetweenSquared(n,i))}static distanceBetweenSquared(n,i){const o=n.x-i.x,l=n.y-i.y;return o*o+l*l}set(n,i){return this.x=n,this.y=i,this}copy(n){return this.x=n.x,this.y=n.y,this}clear(){return this.x=0,this.y=0,this}clone(){return new Nt(this.x,this.y)}add(n,i){return arguments.length<=0?this:(arguments.length<=1?typeof n=="number"?(this.x+=n,this.y+=n):n&&typeof n.x=="number"&&typeof n.y=="number"&&(this.x+=n.x,this.y+=n.y):(this.x+=n,this.y+=i),this)}addSelf(n){return this.add.apply(this,arguments)}sub(n,i){return arguments.length<=0?this:(arguments.length<=1?typeof n=="number"?(this.x-=n,this.y-=n):n&&typeof n.x=="number"&&typeof n.y=="number"&&(this.x-=n.x,this.y-=n.y):(this.x-=n,this.y-=i),this)}subtract(){return this.sub.apply(this,arguments)}subSelf(n){return this.sub.apply(this,arguments)}subtractSelf(n){return this.sub.apply(this,arguments)}multiply(n,i){return arguments.length<=0?this:(arguments.length<=1?typeof n=="number"?(this.x*=n,this.y*=n):n&&typeof n.x=="number"&&typeof n.y=="number"&&(this.x*=n.x,this.y*=n.y):(this.x*=n,this.y*=i),this)}multiplySelf(n){return this.multiply.apply(this,arguments)}multiplyScalar(n){return this.multiply(n)}divide(n,i){return arguments.length<=0?this:(arguments.length<=1?typeof n=="number"?(this.x/=n,this.y/=n):n&&typeof n.x=="number"&&typeof n.y=="number"&&(this.x/=n.x,this.y/=n.y):(this.x/=n,this.y/=i),isNaN(this.x)&&(this.x=0),isNaN(this.y)&&(this.y=0),this)}divideSelf(n){return this.divide.apply(this,arguments)}divideScalar(n){return this.divide(n)}negate(){return this.multiply(-1)}dot(n){return this.x*n.x+this.y*n.y}length(){return Math.sqrt(this.lengthSquared())}lengthSquared(){return this.x*this.x+this.y*this.y}normalize(){return this.divideScalar(this.length())}distanceTo(n){return Math.sqrt(this.distanceToSquared(n))}distanceToSquared(n){const i=this.x-n.x,o=this.y-n.y;return i*i+o*o}setLength(n){return this.normalize().multiplyScalar(n)}equals(n,i){return i=typeof i>"u"?1e-4:i,this.distanceTo(n)<i}lerp(n,i){const o=(n.x-this.x)*i+this.x,l=(n.y-this.y)*i+this.y;return this.set(o,l)}isZero(n){return n=typeof n>"u"?1e-4:n,this.length()<n}toString(){return this.x+", "+this.y}toObject(){return{x:Lr(this.x),y:Lr(this.y)}}rotate(n){const i=this.x,o=this.y,l=Math.cos(n),a=Math.sin(n);return this.x=i*l-o*a,this.y=i*a+o*l,this}};U(Nt,"zero",new Nt),U(Nt,"left",new Nt(-1,0)),U(Nt,"right",new Nt(1,0)),U(Nt,"up",new Nt(0,-1)),U(Nt,"down",new Nt(0,1));let Pe=Nt;class bn extends Pe{constructor(n=0,i=0,o=0,l=0,a=0,c=0,h=tt.move){super(n,i);U(this,"controls",{left:new Pe,right:new Pe});U(this,"_command",tt.move);U(this,"_relative",!0);U(this,"_rx",0);U(this,"_ry",0);U(this,"_xAxisRotation",0);U(this,"_largeArcFlag",0);U(this,"_sweepFlag",1);for(let g in Yy)Object.defineProperty(this,g,Yy[g]);this.command=h,this.relative=!0;const d=bn.makeBroadcast(this);this.controls.left.set(o,l).addEventListener(pe.Types.change,d),this.controls.right.set(a,c).addEventListener(pe.Types.change,d)}static makeBroadcast(n){return i;function i(){n._bound&&n.dispatchEvent(pe.Types.change)}}static fromObject(n){return new bn().copy(n)}copy(n){return this.x=n.x,this.y=n.y,typeof n.command=="string"&&(this.command=n.command),n.controls&&(n.controls.left&&this.controls.left.copy(n.controls.left),n.controls.right&&this.controls.right.copy(n.controls.right)),typeof n.relative=="boolean"&&(this.relative=n.relative),typeof n.rx=="number"&&(this.rx=n.rx),typeof n.ry=="number"&&(this.ry=n.ry),typeof n.xAxisRotation=="number"&&(this.xAxisRotation=n.xAxisRotation),typeof n.largeArcFlag=="number"&&(this.largeArcFlag=n.largeArcFlag),typeof n.sweepFlag=="number"&&(this.sweepFlag=n.sweepFlag),this}clone(){return new bn().copy(this)}toObject(){return{x:Lr(this.x),y:Lr(this.y),command:this.command,relative:this.relative,controls:{left:this.controls.left.toObject(),right:this.controls.right.toObject()},rx:Lr(this.rx),ry:Lr(this.ry),xAxisRotation:Lr(this.xAxisRotation),largeArcFlag:Lr(this.largeArcFlag),sweepFlag:Lr(this.sweepFlag)}}toString(){return JSON.stringify(this.toObject())}}const Yy={command:{enumerable:!0,get:function(){return this._command},set:function(e){this._command!==e&&(this._command=e,this._bound&&this.dispatchEvent(pe.Types.change))}},relative:{enumerable:!0,get:function(){return this._relative},set:function(e){this._relative!==!!e&&(this._relative=!!e,this._bound&&this.dispatchEvent(pe.Types.change))}},rx:{enumerable:!0,get:function(){return this._rx},set:function(e){this._rx!==e&&(this._rx=e,this._bound&&this.dispatchEvent(pe.Types.change))}},ry:{enumerable:!0,get:function(){return this._ry},set:function(e){this._ry!==e&&(this._ry=e,this._bound&&this.dispatchEvent(pe.Types.change))}},xAxisRotation:{enumerable:!0,get:function(){return this._xAxisRotation},set:function(e){this._xAxisRotation!==e&&(this._xAxisRotation=e,this._bound&&this.dispatchEvent(pe.Types.change))}},largeArcFlag:{enumerable:!0,get:function(){return this._largeArcFlag},set:function(e){this._largeArcFlag!==e&&(this._largeArcFlag=e,this._bound&&this.dispatchEvent(pe.Types.change))}},sweepFlag:{get:function(){return this._sweepFlag},set:function(e){this._sweepFlag!==e&&(this._sweepFlag=e,this._bound&&this.dispatchEvent(pe.Types.change))}}};let Mb=0;const Xy={nextFrameID:null,Types:{webgl:"WebGLRenderer",svg:"SVGRenderer",canvas:"CanvasRenderer"},Version:"<%= version %>",PublishDate:"<%= publishDate %>",Identifier:"two-",Resolution:12,AutoCalculateImportedMatrices:!0,Instances:[],uniqueId:function(){return Mb++}},qu={CollinearityEpsilon:Math.pow(10,-30),RecursionLimit:16,CuspLimit:0,Tolerance:{distance:.25,angle:0,epsilon:Number.EPSILON},abscissas:[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],weights:[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]]};function Gu(e,t,n,i,o){const l=1-e;return l*l*l*t+3*l*l*e*n+3*l*e*e*i+e*e*e*o}function Pb(e,t,n,i,o,l,a,c,h){h=h||qu.RecursionLimit;const d=h+1;if(Math.abs(e-a)<.001&&Math.abs(t-c)<.001)return[new bn(a,c)];const g=[];for(let m=0;m<d;m++){const v=m/d,_=Gu(v,e,n,o,a),w=Gu(v,t,i,l,c);g.push(new bn(_,w))}return g}function Ab(e,t,n,i,o,l,a,c,h){if(e===n&&t===i&&o===a&&l===c){const S=a-e,b=c-t;return Math.sqrt(S*S+b*b)}const d=9*(n-o)+3*(a-e),g=6*(e+o)-12*n,m=3*(n-e),v=9*(i-l)+3*(c-t),_=6*(t+l)-12*i,w=3*(i-t);function k(S){const b=(d*S+g)*S+m,x=(v*S+_)*S+w;return Math.sqrt(b*b+x*x)}return Lb(k,0,1,h||qu.RecursionLimit)}function Ob(e,t,n,i,o,l,a,c){const h=[],d=[[],[]];let g,m,v,_,w,k,S,b;for(let P=0;P<2;++P){if(P==0?(m=6*e-12*n+6*o,g=-3*e+9*n-9*o+3*a,v=3*n-3*e):(m=6*t-12*i+6*l,g=-3*t+9*i-9*l+3*c,v=3*i-3*t),Math.abs(g)<1e-12){if(Math.abs(m)<1e-12)continue;_=-v/m,0<_&&_<1&&h.push(_);continue}S=m*m-4*v*g,b=Math.sqrt(S),!(S<0)&&(w=(-m+b)/(2*g),0<w&&w<1&&h.push(w),k=(-m-b)/(2*g),0<k&&k<1&&h.push(k))}let x=h.length,R=x,M;for(;x--;)_=h[x],M=1-_,d[0][x]=M*M*M*e+3*M*M*_*n+3*M*_*_*o+_*_*_*a,d[1][x]=M*M*M*t+3*M*M*_*i+3*M*_*_*l+_*_*_*c;return d[0][R]=e,d[1][R]=t,d[0][R+1]=a,d[1][R+1]=c,d[0].length=d[1].length=R+2,{min:{x:Math.min.apply(0,d[0]),y:Math.min.apply(0,d[1])},max:{x:Math.max.apply(0,d[0]),y:Math.max.apply(0,d[1])}}}function Lb(e,t,n,i){let o=qu.abscissas[i-2],l=qu.weights[i-2],a=.5*(n-t),c=a+t,h=0,d=i+1>>1,g=i&1?l[h++]*e(c):0;for(;h<d;){const m=a*o[h];g+=l[h++]*(e(c+m)+e(c-m))}return a*g}function Fb(e,t){const n=e.length,i=n-1;for(let o=0;o<n;o++){const l=e[o],a=t?Ku(o-1,n):Math.max(o-1,0),c=t?Ku(o+1,n):Math.min(o+1,i),h=e[a],d=l,g=e[c];Ib(h,d,g),d.command=o===0?tt.move:tt.curve}}function Ib(e,t,n){const i=Pe.angleBetween(e,t),o=Pe.angleBetween(n,t);let l=Pe.distanceBetween(e,t),a=Pe.distanceBetween(n,t),c=(i+o)/2;return l<1e-4||a<1e-4?(typeof t.relative=="boolean"&&!t.relative&&(t.controls.left.copy(t),t.controls.right.copy(t)),t):(l*=.33,a*=.33,o<i?c+=Vy:c-=Vy,t.controls.left.x=Math.cos(c)*l,t.controls.left.y=Math.sin(c)*l,c-=Math.PI,t.controls.right.x=Math.cos(c)*a,t.controls.right.y=Math.sin(c)*a,typeof t.relative=="boolean"&&!t.relative&&(t.controls.left.x+=t.x,t.controls.left.y+=t.y,t.controls.right.x+=t.x,t.controls.right.y+=t.y),t)}let vc=class bv extends pe{constructor(){super();U(this,"_flagId",!1);U(this,"_flagClassName",!1);U(this,"_renderer",{});U(this,"_id",Xy.Identifier+Xy.uniqueId());U(this,"_className","");U(this,"classList",[]);for(let n in Ky)Object.defineProperty(this,n,Ky[n])}static fromObject(n){const i=new bv().copy(n);return"id"in n&&(i.id=n.id),i}flagReset(){this._flagId=this._flagClassName=!1}copy(n){return this.renderer.type=n.renderer.type,this.className=n.className,this}toObject(){return{renderer:{type:this.renderer.type},id:this.id,className:this.className}}};const Ky={renderer:{enumerable:!1,get:function(){return this._renderer}},id:{enumerable:!0,get:function(){return this._id},set:function(e){const t=this._id;e!==this._id&&(this._id=e,this._flagId=!0,this.parent&&(delete this.parent.children.ids[t],this.parent.children.ids[this._id]=this))}},className:{enumerable:!0,get:function(){return this._className},set:function(e){this._className!==e&&(this._flagClassName=!0,this.classList=e.split(/\s+?/),this._className=e)}}};class qy extends Error{constructor(n){super();U(this,"name","Two.js");U(this,"message");this.message=n}}class Nb{constructor(){U(this,"map",{})}add(t,n){return this.map[t]=n,this}remove(t){return delete this.map[t],this}get(t){return this.map[t]}contains(t){return t in this.map}}let Au;const Gy={video:/\.(mp4|webm|ogg)$/i,image:/\.(jpe?g|png|gif|tiff|webp)$/i,effect:/texture|gradient/i};Dr.document&&(Au=document.createElement("a"));const ot=class ot extends vc{constructor(n,i){super();U(this,"_flagSrc",!1);U(this,"_flagImage",!1);U(this,"_flagVideo",!1);U(this,"_flagLoaded",!1);U(this,"_flagRepeat",!1);U(this,"_flagOffset",!1);U(this,"_flagScale",!1);U(this,"_src","");U(this,"_image",null);U(this,"_loaded",!1);U(this,"_repeat","no-repeat");U(this,"_scale",1);U(this,"_offset",null);for(let o in Qy)Object.defineProperty(this,o,Qy[o]);if(this._renderer.type="texture",this._renderer.flagOffset=jb.bind(this),this._renderer.flagScale=Db.bind(this),this.loaded=!1,this.repeat="no-repeat",this.offset=new Pe,typeof i=="function"){const o=(function(){this.unbind(pe.Types.load,o),typeof i=="function"&&i()}).bind(this);this.bind(pe.Types.load,o)}if(typeof n=="string")this.src=n;else if(typeof n=="object"){const o=Object.prototype.toString.call(n);(o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]"||o==="[object HTMLVideoElement]"||o==="[object Image]")&&(this.image=n)}this._update()}fromObject(n){const i=new ot().copy(n);return"id"in n&&(i.id=n.id),i}static getAbsoluteURL(n){return Au?(Au.href=n,Au.href):n}static loadHeadlessBuffer(n,i){n.image.onload=i,n.image.src=n.src}static getTag(n){return n&&n.nodeName&&n.nodeName.toLowerCase()||"img"}static getImage(n){const i=ot.getAbsoluteURL(n);if(ot.ImageRegistry.contains(i))return ot.ImageRegistry.get(i);let o;return Dr.document?Gy.video.test(i)?o=document.createElement("video"):o=document.createElement("img"):console.warn("Two.js: no prototypical image defined for Two.Texture"),o.crossOrigin="anonymous",o.referrerPolicy="no-referrer",o}static load(n,i){let o=n.image,l=ot.getTag(o);n._flagImage&&(/canvas/i.test(l)?ot.Register.canvas(n,i):(n._src=o.getAttribute("two-src")||o.src,ot.Register[l](n,i))),n._flagSrc&&(o||(o=ot.getImage(n.src),n.image=o),l=ot.getTag(o),ot.Register[l](n,i))}clone(){const n=new ot(this.src);return n.repeat=this.repeat,n.offset.copy(this.offset),n.scale=this.scale,n}copy(n){return this.src=n.src,this.repeat=n.repeat,this.offset=typeof n.offset=="number"||n.offset instanceof Pe?n.offset:new Pe().copy(n.offset),this.scale=typeof n.scale=="number"||n.scale instanceof Pe?n.scale:new Pe().copy(n.scale),this}toObject(){const n=super.toObject.call(this);return n.renderer.type="texture",n.src=this.src,n.repeat=this.repeat,n.offset=this.offset.toObject(),n.scale=typeof this.scale=="number"?this.scale:this.scale.toObject(),n}_update(){return(this._flagSrc||this._flagImage)&&(this.trigger(pe.Types.change),(this._flagSrc||this._flagImage)&&(this.loaded=!1,ot.load(this,(function(){this.loaded=!0,this.trigger(pe.Types.change).trigger(pe.Types.load)}).bind(this)))),this._image&&this._image.readyState>=4&&(this._flagVideo=!0),this}flagReset(){return this._flagSrc=this._flagImage=this._flagLoaded=this._flagRepeat=this._flagVideo=this._flagScale=this._flagOffset=!1,super.flagReset.call(this),this}};U(ot,"Properties",["src","loaded","repeat","scale","offset","image"]),U(ot,"RegularExpressions",Gy),U(ot,"ImageRegistry",new Nb),U(ot,"Register",{canvas:function(n,i){n._src="#"+n.id,ot.ImageRegistry.add(n.src,n.image),typeof i=="function"&&i()},img:function(n,i){const o=n.image,l=function(c){o.removeEventListener&&typeof o.removeEventListener=="function"&&(o.removeEventListener("load",l,!1),o.removeEventListener("error",a,!1)),typeof i=="function"&&i()},a=function(c){throw typeof o.removeEventListener=="function"&&(o.removeEventListener("load",l,!1),o.removeEventListener("error",a,!1)),new qy("unable to load "+n.src)};typeof o.width=="number"&&o.width>0&&typeof o.height=="number"&&o.height>0?l():typeof o.addEventListener=="function"&&(o.addEventListener("load",l,!1),o.addEventListener("error",a,!1)),n._src=ot.getAbsoluteURL(n._src),!(o&&o.getAttribute("two-src"))&&(o.setAttribute("two-src",n.src),ot.ImageRegistry.add(n.src,o),n.image.src=n.src)},video:function(n,i){const o=function(a){n.image.removeEventListener("canplaythrough",o,!1),n.image.removeEventListener("error",l,!1),n.image.width=n.image.videoWidth,n.image.height=n.image.videoHeight,typeof i=="function"&&i()},l=function(a){throw n.image.removeEventListener("canplaythrough",o,!1),n.image.removeEventListener("error",l,!1),new qy("unable to load "+n.src)};n._src=ot.getAbsoluteURL(n._src),n.image.getAttribute("two-src")||(n.image.setAttribute("two-src",n.src),ot.ImageRegistry.add(n.src,n.image)),n.image.readyState>=4?o():(n.image.addEventListener("canplaythrough",o,!1),n.image.addEventListener("error",l,!1),n.image.src=n.src,n.image.load())}});let En=ot;const Qy={src:{enumerable:!0,get:function(){return this._src},set:function(e){this._src=e,this._flagSrc=!0}},loaded:{enumerable:!0,get:function(){return this._loaded},set:function(e){this._loaded=e,this._flagLoaded=!0}},repeat:{enumerable:!0,get:function(){return this._repeat},set:function(e){this._repeat=e,this._flagRepeat=!0}},image:{enumerable:!0,get:function(){return this._image},set:function(e){const t=En.getTag(e);let n;switch(t){case"canvas":n="#"+e.id;break;default:n=e.src}En.ImageRegistry.contains(n)?this._image=En.ImageRegistry.get(e.src):this._image=e,this._flagImage=!0}},offset:{enumerable:!0,get:function(){return this._offset},set:function(e){this._offset&&this._offset.unbind(pe.Types.change,this._renderer.flagOffset),this._offset=e,this._offset.bind(pe.Types.change,this._renderer.flagOffset),this._flagOffset=!0}},scale:{enumerable:!0,get:function(){return this._scale},set:function(e){this._scale instanceof Pe&&this._scale.unbind(pe.Types.change,this._renderer.flagScale),this._scale=e,this._scale instanceof Pe&&this._scale.bind(pe.Types.change,this._renderer.flagScale),this._flagScale=!0}}};function jb(){this._flagOffset=!0}function Db(){this._flagScale=!0}const Zy=Array.prototype.slice;function zb(e){if(e==null)return!1;const t=e.length;return typeof t=="number"&&t>=0&&t<4294967296}const Bt={isNaN:function(e){return typeof e=="number"&&e!==+e},isElement:function(e){return!!(e&&e.nodeType===1)},isObject:function(e){const t=typeof e;return t==="function"||t==="object"&&!!e},extend:function(e){const t=Zy.call(arguments,1);for(let n=0;n<t.length;n++){const i=t[n];for(let o in i)e[o]=i[o]}return e},defaults:function(e){const t=Zy.call(arguments,1);for(let n=0;n<t.length;n++){const i=t[n];for(let o in i)e[o]===void 0&&(e[o]=i[o])}return e},each:function(e,t,n){const i=n||this,o=!zb(e)&&Object.keys(e),l=(o||e).length;for(let a=0;a<l;a++){const c=o?o[a]:a;t.call(i,e[c],c,e)}return e},performance:Dr.performance&&Dr.performance.now?Dr.performance:Date},kn=class kn extends vc{constructor(n,i,o){super();U(this,"_flagOffset",!0);U(this,"_flagOpacity",!0);U(this,"_flagColor",!0);U(this,"_offset",0);U(this,"_opacity",1);U(this,"_color","#fff");for(let l in Jy)Object.defineProperty(this,l,Jy[l]);this._renderer.type="stop",this.offset=typeof n=="number"?n:kn.Index<=0?0:1,this.opacity=typeof o=="number"?o:1,this.color=typeof i=="string"?i:kn.Index<=0?"#fff":"#000",kn.Index=(kn.Index+1)%2}static fromObject(n){const i=new kn().copy(n);return"id"in n&&(i.id=n.id),i}copy(n){super.copy.call(this,n);for(let i=0;i<kn.Properties.length;i++){const o=kn.Properties[i];o in n&&(this[o]=n[o])}return this}clone(n){const i=new kn;return Bt.each(kn.Properties,function(o){i[o]=this[o]},this),n&&n.stops&&n.stops.push(i),i}toObject(){const n=super.toObject.call(this);return n.renderer.type="stop",Bt.each(kn.Properties,i=>{n[i]=this[i]},this),n}flagReset(){return this._flagOffset=this._flagColor=this._flagOpacity=!1,super.flagReset.call(this),this}};U(kn,"Index",0),U(kn,"Properties",["offset","opacity","color"]);let Cs=kn;const Jy={offset:{enumerable:!0,get:function(){return this._offset},set:function(e){this._offset=e,this._flagOffset=!0,this.parent&&(this.parent._flagStops=!0)}},opacity:{enumerable:!0,get:function(){return this._opacity},set:function(e){this._opacity=e,this._flagOpacity=!0,this.parent&&(this.parent._flagStops=!0)}},color:{enumerable:!0,get:function(){return this._color},set:function(e){this._color=e,this._flagColor=!0,this.parent&&(this.parent._flagStops=!0)}}},Ar=class Ar extends vc{constructor(n){super();U(this,"_flagStops",!1);U(this,"_flagSpread",!1);U(this,"_flagUnits",!1);U(this,"_spread","");U(this,"_units","");for(let i in e0)Object.defineProperty(this,i,e0[i]);this._renderer.type="gradient",this._renderer.flagStops=Bb.bind(this),this._renderer.bindStops=Ub.bind(this),this._renderer.unbindStops=$b.bind(this),this.spread="pad",this.units="objectBoundingBox",n&&(this.stops=n)}static fromObject(n){let i=n.stops;i&&i.length>0&&(i=i.map(l=>l instanceof Cs?l:new Cs().copy(l)));const o=new Ar().copy(n);return"id"in n&&(o.id=n.id),o}clone(n){const i=this.stops.map(l=>l.clone()),o=new Ar(i);return Bt.each(Ar.Properties,l=>{o[l]=this[l]},this),n&&n.add(o),o}copy(n){super.copy.call(this,n);for(let i=0;i<Ar.Properties.length;i++){const o=Ar.Properties[i];o in n&&(this[o]=n[o])}return this}toObject(){const n={stops:this.stops.map(i=>i.toObject())};return Bt.each(Ar.Properties,i=>{n[i]=this[i]},this),n}_update(){return(this._flagSpread||this._flagStops)&&this.trigger(pe.Types.change),this}flagReset(){return this._flagSpread=this._flagUnits=this._flagStops=!1,super.flagReset.call(this),this}};U(Ar,"Stop",Cs),U(Ar,"Properties",["spread","stops","units"]);let un=Ar;const e0={spread:{enumerable:!0,get:function(){return this._spread},set:function(e){this._spread=e,this._flagSpread=!0}},units:{enumerable:!0,get:function(){return this._units},set:function(e){this._units=e,this._flagUnits=!0}},stops:{enumerable:!0,get:function(){return this._stops},set:function(e){const t=this._renderer.bindStops,n=this._renderer.unbindStops;this._stops&&this._stops.unbind(pe.Types.insert,t).unbind(pe.Types.remove,n),this._stops=new sd((e||[]).slice(0)),this._stops.bind(pe.Types.insert,t).bind(pe.Types.remove,n),t(this._stops)}}};function Bb(){this._flagStops=!0}function Ub(e){let t=e.length;for(;t--;)e[t].bind(pe.Types.change,this._renderer.flagStops),e[t].parent=this;this._renderer.flagStops()}function $b(e){let t=e.length;for(;t--;)e[t].unbind(pe.Types.change,this._renderer.flagStops),delete e[t].parent;this._renderer.flagStops()}const zi=class zi extends un{constructor(n,i,o,l,a){super(a);U(this,"_flagEndPoints",!1);U(this,"_left",null);U(this,"_right",null);for(let c in t0)Object.defineProperty(this,c,t0[c]);this._renderer.type="linear-gradient",this._renderer.flagEndPoints=Vb.bind(this),this.left=new Pe,this.right=new Pe,typeof n=="number"&&(this.left.x=n),typeof i=="number"&&(this.left.y=i),typeof o=="number"&&(this.right.x=o),typeof l=="number"&&(this.right.y=l)}static fromObject(n){const i=new zi().copy(n);return"id"in n&&(i.id=n.id),i}copy(n){super.copy.call(this,n);for(let i=0;i<zi.Properties.length;i++){const o=zi.Properties[i];o in n&&(this[o]=n[o]instanceof Pe?n[o]:new Pe().copy(n[o]))}return this}clone(n){const i=this.stops.map(function(l){return l.clone()}),o=new zi(this.left._x,this.left._y,this.right._x,this.right._y,i);return Bt.each(un.Properties,function(l){o[l]=this[l]},this),n&&n.add(o),o}toObject(){const n=super.toObject.call(this);return n.left=this.left.toObject(),n.right=this.right.toObject(),n}_update(){return(this._flagEndPoints||this._flagSpread||this._flagStops)&&this.trigger(pe.Types.change),this}flagReset(){return this._flagEndPoints=!1,super.flagReset.call(this),this}};U(zi,"Stop",Cs),U(zi,"Properties",["left","right"]);let xr=zi;const t0={left:{enumerable:!0,get:function(){return this._left},set:function(e){this._left instanceof Pe&&this._left.unbind(pe.Types.change,this._renderer.flagEndPoints),this._left=e,this._left.bind(pe.Types.change,this._renderer.flagEndPoints),this._flagEndPoints=!0}},right:{enumerable:!0,get:function(){return this._right},set:function(e){this._right instanceof Pe&&this._right.unbind(pe.Types.change,this._renderer.flagEndPoints),this._right=e,this._right.bind(pe.Types.change,this._renderer.flagEndPoints),this._flagEndPoints=!0}}};function Vb(){this._flagEndPoints=!0}const Or=class Or extends un{constructor(n,i,o,l,a,c){super(l);U(this,"_flagRadius",!1);U(this,"_flagCenter",!1);U(this,"_flagFocal",!1);U(this,"_radius",0);U(this,"_center",null);U(this,"_focal",null);for(let h in n0)Object.defineProperty(this,h,n0[h]);this._renderer.type="radial-gradient",this._renderer.flagCenter=Hb.bind(this),this._renderer.flagFocal=Wb.bind(this),this.center=new Pe,this.radius=typeof o=="number"?o:1,this.focal=new Pe,typeof n=="number"&&(this.center.x=n),typeof i=="number"&&(this.center.y=i),this.focal.copy(this.center),typeof a=="number"&&(this.focal.x=a),typeof c=="number"&&(this.focal.y=c)}static fromObject(n){const i=new Or().copy(n);return"id"in n&&(i.id=n.id),i}copy(n){super.copy.call(this,n);for(let i=0;i<Or.Properties.length;i++){const o=Or.Properties[i];o in n&&(/(center|focal)i/.test(o)?this[o]=n[o]instanceof Pe?n[o]:new Pe().copy(n[o]):typeof n[o]=="number"&&(this[o]=n[MediaKeySystemAccess]))}return this}clone(n){const i=this.stops.map(function(l){return l.clone()}),o=new Or(this.center._x,this.center._y,this._radius,i,this.focal._x,this.focal._y);return Bt.each(un.Properties.concat(Or.Properties),function(l){o[l]=this[l]},this),n&&n.add(o),o}toObject(){const n=super.toObject.call(this);return Bt.each(Or.Properties,function(i){n[i]=this[i]},this),n.center=this.center.toObject(),n.focal=this.focal.toObject(),n}_update(){return(this._flagRadius||this._flatCenter||this._flagFocal||this._flagSpread||this._flagStops)&&this.trigger(pe.Types.change),this}flagReset(){return this._flagRadius=this._flagCenter=this._flagFocal=!1,super.flagReset.call(this),this}};U(Or,"Stop",Cs),U(Or,"Properties",["center","radius","focal"]);let wr=Or;const n0={radius:{enumerable:!0,get:function(){return this._radius},set:function(e){this._radius=e,this._flagRadius=!0}},center:{enumerable:!0,get:function(){return this._center},set:function(e){this._center&&this._center.unbind(pe.Types.change,this._renderer.flagCenter),this._center=e,this._center.bind(pe.Types.change,this._renderer.flagCenter),this._flagCenter=!0}},focal:{enumerable:!0,get:function(){return this._focal},set:function(e){this._focal&&this._focal.unbind(pe.Types.change,this._renderer.flagFocal),this._focal=e,this._focal.bind(pe.Types.change,this._renderer.flagFocal),this._flagFocal=!0}}};function Hb(){this._flagCenter=!0}function Wb(){this._flagFocal=!0}function r0(e,t){if(t===0||t===1)return!0;const i=e._length*t;let o=0;for(let l=0;l<e._lengths.length;l++){const a=e._lengths[l];if(o>=i)return i-o>=0;o+=a}return!1}function i0(e,t){const n=e._length;if(t<=0)return 0;if(t>=n)return e._lengths.length-1;for(let i=0,o=0;i<e._lengths.length;i++){if(o+e._lengths[i]>=t)return t-=o,Math.max(i-1,0)+t/e._lengths[i];o+=e._lengths[i]}return-1}function s0(e,t,n){let i,o,l,a,c,h,d,g;const m=t.controls&&t.controls.right,v=e.controls&&e.controls.left;return i=t.x,c=t.y,o=(m||t).x,h=(m||t).y,l=(v||e).x,d=(v||e).y,a=e.x,g=e.y,m&&t._relative&&(o+=t.x,h+=t.y),v&&e._relative&&(l+=e.x,d+=e.y),Ab(i,c,o,h,l,d,a,g,n)}function o0(e,t,n){let i,o,l,a,c,h,d,g;const m=t.controls&&t.controls.right,v=e.controls&&e.controls.left;return i=t.x,c=t.y,o=(m||t).x,h=(m||t).y,l=(v||e).x,d=(v||e).y,a=e.x,g=e.y,m&&t._relative&&(o+=t.x,h+=t.y),v&&e._relative&&(l+=e.x,d+=e.y),Pb(i,c,o,h,l,d,a,g,n)}function Qu(e){switch(e.renderer.type){case"texture":return En.fromObject(e);case"gradient":return un.fromObject(e);case"linear-gradient":return xr.fromObject(e);case"radial-gradient":return wr.fromObject(e)}return e}const Yb=Math.cos,Xb=Math.sin,l0=Math.tan,Mh=[],ln=class ln extends pe{constructor(n,i,o,l,a,c){super();U(this,"elements",new Hy(9));U(this,"manual",!1);let h=n;Array.isArray(h)||(h=Array.prototype.slice.call(arguments)),this.identity(),h.length>0&&this.set(h)}static Multiply(n,i,o){if(i.length<=3){const j=n;let X,z,W;const K=i[0]||0,q=i[1]||0,ae=i[2]||0;return X=j[0]*K+j[1]*q+j[2]*ae,z=j[3]*K+j[4]*q+j[5]*ae,W=j[6]*K+j[7]*q+j[8]*ae,[X,z,W]}const l=n[0],a=n[1],c=n[2],h=n[3],d=n[4],g=n[5],m=n[6],v=n[7],_=n[8],w=i[0],k=i[1],S=i[2],b=i[3],x=i[4],R=i[5],M=i[6],P=i[7],I=i[8];return o=o||new Hy(9),o[0]=l*w+a*b+c*M,o[1]=l*k+a*x+c*P,o[2]=l*S+a*R+c*I,o[3]=h*w+d*b+g*M,o[4]=h*k+d*x+g*P,o[5]=h*S+d*R+g*I,o[6]=m*w+v*b+_*M,o[7]=m*k+v*x+_*P,o[8]=m*S+v*R+_*I,o}static fromObject(n){return new ln().copy(n)}set(n,i,o,l,a,c,h,d,g){if(typeof i>"u"){const m=n;n=m[0],i=m[1],o=m[2],l=m[3],a=m[4],c=m[5],h=m[6],d=m[7],g=m[8]}return this.elements[0]=n,this.elements[1]=i,this.elements[2]=o,this.elements[3]=l,this.elements[4]=a,this.elements[5]=c,this.elements[6]=h,this.elements[7]=d,this.elements[8]=g,this.trigger(pe.Types.change)}copy(n){return this.elements[0]=n.elements[0],this.elements[1]=n.elements[1],this.elements[2]=n.elements[2],this.elements[3]=n.elements[3],this.elements[4]=n.elements[4],this.elements[5]=n.elements[5],this.elements[6]=n.elements[6],this.elements[7]=n.elements[7],this.elements[8]=n.elements[8],this.manual=n.manual,this.trigger(pe.Types.change)}identity(){return this.elements[0]=ln.Identity[0],this.elements[1]=ln.Identity[1],this.elements[2]=ln.Identity[2],this.elements[3]=ln.Identity[3],this.elements[4]=ln.Identity[4],this.elements[5]=ln.Identity[5],this.elements[6]=ln.Identity[6],this.elements[7]=ln.Identity[7],this.elements[8]=ln.Identity[8],this.trigger(pe.Types.change)}multiply(n,i,o,l,a,c,h,d,g){if(typeof i>"u")return this.elements[0]*=n,this.elements[1]*=n,this.elements[2]*=n,this.elements[3]*=n,this.elements[4]*=n,this.elements[5]*=n,this.elements[6]*=n,this.elements[7]*=n,this.elements[8]*=n,this.trigger(pe.Types.change);if(typeof o>"u"&&(o=1),typeof l>"u"){n=n||0,i=i||0,o=o||0,a=this.elements;const re=a[0]*n+a[1]*i+a[2]*o,ue=a[3]*n+a[4]*i+a[5]*o,Z=a[6]*n+a[7]*i+a[8]*o;return[re,ue,Z]}const m=this.elements,v=[n,i,o,l,a,c,h,d,g],_=m[0],w=m[1],k=m[2],S=m[3],b=m[4],x=m[5],R=m[6],M=m[7],P=m[8],I=v[0],j=v[1],X=v[2],z=v[3],W=v[4],K=v[5],q=v[6],ae=v[7],te=v[8];return this.elements[0]=_*I+w*z+k*q,this.elements[1]=_*j+w*W+k*ae,this.elements[2]=_*X+w*K+k*te,this.elements[3]=S*I+b*z+x*q,this.elements[4]=S*j+b*W+x*ae,this.elements[5]=S*X+b*K+x*te,this.elements[6]=R*I+M*z+P*q,this.elements[7]=R*j+M*W+P*ae,this.elements[8]=R*X+M*K+P*te,this.trigger(pe.Types.change)}inverse(n){const i=this.elements;n=n||new ln;const o=i[0],l=i[1],a=i[2],c=i[3],h=i[4],d=i[5],g=i[6],m=i[7],v=i[8],_=v*h-d*m,w=-v*c+d*g,k=m*c-h*g;let S=o*_+l*w+a*k;return S?(S=1/S,n.elements[0]=_*S,n.elements[1]=(-v*l+a*m)*S,n.elements[2]=(d*l-a*h)*S,n.elements[3]=w*S,n.elements[4]=(v*o-a*g)*S,n.elements[5]=(-d*o+a*c)*S,n.elements[6]=k*S,n.elements[7]=(-m*o+l*g)*S,n.elements[8]=(h*o-l*c)*S,n):null}scale(n,i){return arguments.length<=1&&(i=n),this.multiply(n,0,0,0,i,0,0,0,1)}rotate(n){const i=Yb(n),o=Xb(n);return this.multiply(i,-o,0,o,i,0,0,0,1)}translate(n,i){return this.multiply(1,0,n,0,1,i,0,0,1)}skewX(n){const i=l0(n);return this.multiply(1,i,0,0,1,0,0,0,1)}skewY(n){const i=l0(n);return this.multiply(1,0,0,i,1,0,0,0,1)}toString(n){return Mh.length=0,this.toTransformArray(n,Mh),Mh.map(Lr).join(" ")}toTransformArray(n,i){const o=this.elements,l=!!i,a=o[0],c=o[1],h=o[2],d=o[3],g=o[4],m=o[5];if(n){const v=o[6],_=o[7],w=o[8];if(l){i[0]=a,i[1]=d,i[2]=v,i[3]=c,i[4]=g,i[5]=_,i[6]=h,i[7]=m,i[8]=w;return}return[a,d,v,c,g,_,h,m,w]}if(l){i[0]=a,i[1]=d,i[2]=c,i[3]=g,i[4]=h,i[5]=m;return}return[a,d,c,g,h,m]}toArray(n,i){const o=this.elements,l=!!i,a=o[0],c=o[1],h=o[2],d=o[3],g=o[4],m=o[5];if(n){const v=o[6],_=o[7],w=o[8];if(l){i[0]=a,i[1]=c,i[2]=h,i[3]=d,i[4]=g,i[5]=m,i[6]=v,i[7]=_,i[8]=w;return}return[a,c,h,d,g,m,v,_,w]}if(l){i[0]=a,i[1]=c,i[2]=h,i[3]=d,i[4]=g,i[5]=m;return}return[a,c,h,d,g,m]}toObject(){return{renderer:{type:"matrix"},elements:this.toArray(!0),manual:!!this.manual}}clone(){return new ln().copy(this)}};U(ln,"Identity",[1,0,0,0,1,0,0,0,1]);let Ls=ln;Cb(Ls);class Rs extends vc{constructor(){super();U(this,"_flagMatrix",!0);U(this,"_flagScale",!1);U(this,"_matrix",null);U(this,"_worldMatrix",null);U(this,"_position",null);U(this,"_rotation",0);U(this,"_scale",1);U(this,"_skewX",0);U(this,"_skewY",0);for(let n in Eu)Object.defineProperty(this,n,Eu[n]);this._renderer.flagMatrix=Sv.bind(this),this.isShape=!0,this.matrix=new Ls,this.worldMatrix=new Ls,this.position=new Pe,this.rotation=0,this.scale=1,this.skewX=0,this.skewY=0}static fromObject(n){const i=new Rs().copy(n);return"id"in n&&(i.id=n.id),i}get renderer(){return this._renderer}set renderer(n){this._renderer=n}get translation(){return Eu.position.get.apply(this,arguments)}set translation(n){Eu.position.set.apply(this,arguments)}addTo(n){return n.add(this),this}remove(){return this.parent?(this.parent.remove(this),this):this}copy(n){return super.copy.call(this,n),"position"in n&&(n.position instanceof Pe?this.position=n.position:this.position.copy(n.position)),"rotation"in n&&(this.rotation=n.rotation),"scale"in n&&(this.scale=typeof n.scale=="number"||n.scale instanceof Pe?n.scale:new Pe(n.scale.x,n.scale.y)),"skewX"in n&&(this.skewX=n.skewX),"skewY"in n&&(this.skewY=n.skewY),"matrix"in n&&n.matrix.manual&&(this.matrix.copy(n.matrix),this.matrix.manual=!0),this}clone(n){const i=new Rs;return i.position.copy(this.position),i.rotation=this.rotation,i.scale=this.scale,i.skewX=this.skewX,i.skewY=this.skewY,this.matrix.manual&&i.matrix.copy(this.matrix),n&&n.add(i),i._update()}toObject(){const n=super.toObject.call(this);return n.renderer={type:"shape"},n.isShape=!0,n.translation=this.translation.toObject(),n.rotation=this.translation.rotation,n.scale=this.scale instanceof Pe?this.scale.toObject():this.scale,n.skewX=this.skewX,n.skewY=this.skewY,n.matrix=this.matrix.toObject(),n}_update(n){return!this._matrix.manual&&this._flagMatrix&&(this._matrix.identity().translate(this.position.x,this.position.y),this._scale instanceof Pe?this._matrix.scale(this._scale.x,this._scale.y):this._matrix.scale(this._scale),this._matrix.rotate(this.rotation),this._matrix.skewX(this.skewX),this._matrix.skewY(this.skewY)),n&&this.parent&&this.parent._update&&this.parent._update(),this}flagReset(){return this._flagMatrix=this._flagScale=!1,super.flagReset.call(this),this}}const Eu={position:{enumerable:!0,get:function(){return this._position},set:function(e){this._position&&this._position.unbind(pe.Types.change,this._renderer.flagMatrix),this._position=e,this._position.bind(pe.Types.change,this._renderer.flagMatrix),Sv.call(this)}},rotation:{enumerable:!0,get:function(){return this._rotation},set:function(e){this._rotation=e,this._flagMatrix=!0}},scale:{enumerable:!0,get:function(){return this._scale},set:function(e){this._scale instanceof Pe&&this._scale.unbind(pe.Types.change,this._renderer.flagMatrix),this._scale=e,this._scale instanceof Pe&&this._scale.bind(pe.Types.change,this._renderer.flagMatrix),this._flagMatrix=!0,this._flagScale=!0}},skewX:{enumerable:!0,get:function(){return this._skewX},set:function(e){this._skewX=e,this._flagMatrix=!0}},skewY:{enumerable:!0,get:function(){return this._skewY},set:function(e){this._skewY=e,this._flagMatrix=!0}},matrix:{enumerable:!0,get:function(){return this._matrix},set:function(e){this._matrix=e,this._flagMatrix=!0}},worldMatrix:{enumerable:!0,get:function(){return Rb(this,this._worldMatrix),this._worldMatrix},set:function(e){this._worldMatrix=e}}};function Sv(){this._flagMatrix=!0}const mo=Math.min,yo=Math.max,Kb=Math.ceil,qb=Math.floor,Gb=new Pe,mr=class mr extends Rs{constructor(n,i,o,l){super();U(this,"_flagVertices",!0);U(this,"_flagLength",!0);U(this,"_flagFill",!0);U(this,"_flagStroke",!0);U(this,"_flagLinewidth",!0);U(this,"_flagOpacity",!0);U(this,"_flagVisible",!0);U(this,"_flagCap",!0);U(this,"_flagJoin",!0);U(this,"_flagMiter",!0);U(this,"_flagMask",!1);U(this,"_flagClip",!1);U(this,"_length",0);U(this,"_fill","#fff");U(this,"_stroke","#000");U(this,"_linewidth",1);U(this,"_opacity",1);U(this,"_visible",!0);U(this,"_cap","round");U(this,"_join","round");U(this,"_miter",4);U(this,"_closed",!0);U(this,"_curved",!1);U(this,"_automatic",!0);U(this,"_beginning",0);U(this,"_ending",1);U(this,"_mask",null);U(this,"_clip",!1);U(this,"_dashes",null);for(let a in a0)Object.defineProperty(this,a,a0[a]);this._renderer.type="path",this._renderer.flagVertices=Qb.bind(this),this._renderer.bindVertices=Zb.bind(this),this._renderer.unbindVertices=Jb.bind(this),this._renderer.flagFill=eS.bind(this),this._renderer.flagStroke=tS.bind(this),this._renderer.vertices=[],this._renderer.collection=[],this.closed=!!i,this.curved=!!o,this.beginning=0,this.ending=1,this.fill="#fff",this.stroke="#000",this.linewidth=1,this.opacity=1,this.className="",this.visible=!0,this.cap="butt",this.join="miter",this.miter=4,this.vertices=n,this.automatic=!l,this.dashes=[],this.dashes.offset=0}static fromObject(n){const i=typeof n.fill=="string"?n.fill:Qu(n.fill),o=typeof n.stroke=="string"?n.stroke:Qu(n.stroke),l=new mr().copy({...n,fill:i,stroke:o});return"id"in n&&(l.id=n.id),l}copy(n){super.copy.call(this,n),this.vertices=[];for(let i=0;i<n.vertices.length;i++){const o=n.vertices[i];o instanceof bn?this.vertices.push(n.vertices[i].clone()):this.vertices.push(new bn().copy(o))}for(let i=0;i<mr.Properties.length;i++){const o=mr.Properties[i];o in n&&(this[o]=n[o])}return this}clone(n){const i=new mr;for(let o=0;o<this.vertices.length;o++)i.vertices.push(this.vertices[o].clone());for(let o=0;o<mr.Properties.length;o++){const l=mr.Properties[o];i[l]=this[l]}return i.className=this.className,i.translation.copy(this.translation),i.rotation=this.rotation,i.scale=this.scale,i.skewX=this.skewX,i.skewY=this.skewY,this.matrix.manual&&i.matrix.copy(this.matrix),n&&n.add(i),i._update()}toObject(){const n=super.toObject.call(this);return n.renderer.type="path",n.vertices=this.vertices.map(i=>i.toObject()),Bt.each(mr.Properties,i=>{typeof this[i]<"u"&&(this[i].toObject?n[i]=this[i].toObject():n[i]=this[i])},this),n}noFill(){return this.fill="none",this}noStroke(){return this.stroke="none",this.linewidth=0,this}corner(){const n=this.getBoundingClientRect(!0),i=n.width/2,o=n.height/2,l=n.left+n.width/2,a=n.top+n.height/2;for(let c=0;c<this.vertices.length;c++){const h=this.vertices[c];h.x-=l,h.y-=a,h.x+=i,h.y+=o}return this.mask&&(this.mask.translation.x-=l,this.mask.translation.x+=i,this.mask.translation.y-=a,this.mask.translation.y+=o),this}center(){const n=this.getBoundingClientRect(!0),i=n.left+n.width/2-this.translation.x,o=n.top+n.height/2-this.translation.y;for(let l=0;l<this.vertices.length;l++){const a=this.vertices[l];a.x-=i,a.y-=o}return this.mask&&(this.mask.translation.x-=i,this.mask.translation.y-=o),this}getBoundingClientRect(n){let i,o,l,a,c,h,d=1/0,g=-1/0,m=1/0,v=-1/0;if(this._update(!0),i=n?this.matrix:this.worldMatrix,o=(this.linewidth||0)/2,l=this._renderer.vertices.length,this.linewidth>0||this.stroke&&!/(transparent|none)/i.test(this.stroke))if(this.matrix.manual){const{scaleX:_,scaleY:w}=Eb(i.elements[0],i.elements[3],i.elements[1],i.elements[4],i.elements[2],i.elements[5]);typeof _=="number"&&typeof w=="number"&&(o=Math.max(_,w)*(this.linewidth||0)/2)}else o*=typeof this.scale=="number"?this.scale:Math.max(this.scale.x,this.scale.y);if(l<=0)return{width:0,height:0};for(a=0;a<l;a++){h=this._renderer.vertices[a],c=this._renderer.vertices[(a+l-1)%l];const[_,w]=i.multiply(c.x,c.y),[k,S]=i.multiply(h.x,h.y);if(c.controls&&h.controls){let b=c.controls.right.x,x=c.controls.right.y;c.relative&&(b+=c.x,x+=c.y);let[R,M]=i.multiply(b,x),P=h.controls.left.x,I=h.controls.left.y;h.relative&&(P+=h.x,I+=h.y);let[j,X]=i.multiply(P,I);const z=Ob(_,w,R,M,j,X,k,S);m=mo(z.min.y-o,m),d=mo(z.min.x-o,d),g=yo(z.max.x+o,g),v=yo(z.max.y+o,v)}else a<=1&&(m=mo(w-o,m),d=mo(_-o,d),g=yo(_+o,g),v=yo(w+o,v)),m=mo(S-o,m),d=mo(k-o,d),g=yo(k+o,g),v=yo(S+o,v)}return{top:m,left:d,right:g,bottom:v,width:g-d,height:v-m}}getPointAt(n,i){let o,l,a,c,h,d,g,m,v,_,w,k,S,b,x,R=this.length*Math.min(Math.max(n,0),1);const M=this.vertices.length,P=M-1;let I=null,j=null;for(let D=0,B=this._lengths.length,G=0;D<B;D++){if(G+this._lengths[D]>=R){this._closed?(o=Ku(D,M),l=Ku(D-1,M),D===0&&(o=l,l=D)):(o=D,l=Math.min(Math.max(D-1,0),P)),I=this.vertices[o],j=this.vertices[l],R-=G,this._lengths[D]!==0?n=R/this._lengths[D]:n=0;break}G+=this._lengths[D]}if(I===null||j===null)return null;if(I){if(!j)return I}else return j;x=j.controls&&j.controls.right,b=I.controls&&I.controls.left,h=j.x,_=j.y,d=(x||j).x,w=(x||j).y,g=(b||I).x,k=(b||I).y,m=I.x,S=I.y,x&&j.relative&&(d+=j.x,w+=j.y),b&&I.relative&&(g+=I.x,k+=I.y),c=Gu(n,h,d,g,m),v=Gu(n,_,w,k,S);const X=Pr(h,d,n),z=Pr(_,w,n),W=Pr(d,g,n),K=Pr(w,k,n),q=Pr(g,m,n),ae=Pr(k,S,n),te=Pr(X,W,n),re=Pr(z,K,n),ue=Pr(W,q,n),Z=Pr(K,ae,n);return Bt.isObject(i)?(i.x=c,i.y=v,i instanceof bn&&(i.controls.left.x=te,i.controls.left.y=re,i.controls.right.x=ue,i.controls.right.y=Z,(typeof i.relative!="boolean"||i.relative)&&(i.controls.left.x-=c,i.controls.left.y-=v,i.controls.right.x-=c,i.controls.right.y-=v)),i.t=n,i):(a=new bn(c,v,te-c,re-v,ue-c,Z-v,this._curved?tt.curve:tt.line),a.t=n,a)}plot(){if(this.curved)return Fb(this._collection,this.closed),this;for(let n=0;n<this._collection.length;n++)this._collection[n].command=n===0?tt.move:tt.line;return this}subdivide(n){this._update();const i=this.vertices.length-1,o=this._closed||this.vertices[i]._command===tt.close;let l=this.vertices[i],a=[],c;return Bt.each(this.vertices,function(h,d){if(d<=0&&!o){l=h;return}if(h.command===tt.move){a.push(new bn(l.x,l.y)),d>0&&(a[a.length-1].command=tt.line),l=h;return}c=o0(h,l,n),a=a.concat(c),Bt.each(c,function(g,m){m<=0&&l.command===tt.move?g.command=tt.move:g.command=tt.line}),d>=i&&(this._closed&&this._automatic?(l=h,c=o0(h,l,n),a=a.concat(c),Bt.each(c,function(g,m){m<=0&&l.command===tt.move?g.command=tt.move:g.command=tt.line})):o&&a.push(new bn(h.x,h.y)),a[a.length-1].command=o?tt.close:tt.line),l=h},this),this._automatic=!1,this._curved=!1,this.vertices=a,this}_updateLength(n,i){i||this._update();const l=this.vertices.length-1;let a=this.vertices[l],c=0;return typeof this._lengths>"u"&&(this._lengths=[]),Bt.each(this.vertices,function(h,d){if(d<=0||h.command===tt.move){a=h,this._lengths[d]=0;return}this._lengths[d]=s0(h,a,n),c+=this._lengths[d],a=h},this),this._length=c,this._flagLength=!1,this}_update(){if(this._flagVertices){this._automatic&&this.plot(),this._flagLength&&this._updateLength(void 0,!0);const n=this._collection.length,i=this._closed,o=Math.min(this._beginning,this._ending),l=Math.max(this._beginning,this._ending),a=i0(this,o*this._length),c=i0(this,l*this._length),h=Kb(a),d=qb(c);let g,m,v,_,w,k;for(this._renderer.vertices.length=0,k=0;k<n;k++)this._renderer.collection.length<=k&&this._renderer.collection.push(new bn),k>d&&!m?(w=this._renderer.collection[k].copy(this._collection[k]),this.getPointAt(l,w),w.command=this._renderer.collection[k].command,this._renderer.vertices.push(w),m=w,v=this._collection[k-1],v&&v.controls&&(w.relative?w.controls.right.clear():w.controls.right.copy(w),v.relative?this._renderer.collection[k-1].controls.right.copy(v.controls.right).lerp(Pe.zero,1-w.t):this._renderer.collection[k-1].controls.right.copy(v.controls.right).lerp(v,1-w.t))):k>=h&&k<=d&&(w=this._renderer.collection[k].copy(this._collection[k]),this._renderer.vertices.push(w),k===d&&r0(this,l)?(m=w,!i&&m.controls&&(m.relative?m.controls.right.clear():m.controls.right.copy(m))):k===h&&r0(this,o)&&(g=w,g.command=tt.move,!i&&g.controls&&(g.relative?g.controls.left.clear():g.controls.left.copy(g))));h>0&&!g&&(k=h-1,w=this._renderer.collection[k].copy(this._collection[k]),this.getPointAt(o,w),w.command=tt.move,this._renderer.vertices.unshift(w),_=this._collection[k+1],_&&_.controls&&(w.controls.left.clear(),_.relative?this._renderer.collection[k+1].controls.left.copy(_.controls.left).lerp(Pe.zero,w.t):(Gb.copy(_),this._renderer.collection[k+1].controls.left.copy(_.controls.left).lerp(_,w.t))))}return Rs.prototype._update.apply(this,arguments),this}flagReset(){return this._flagVertices=this._flagLength=this._flagFill=this._flagStroke=this._flagLinewidth=this._flagOpacity=this._flagVisible=this._flagCap=this._flagJoin=this._flagMiter=this._flagClip=!1,Rs.prototype.flagReset.call(this),this}};U(mr,"Properties",["fill","stroke","linewidth","opacity","visible","cap","join","miter","closed","curved","automatic","beginning","ending","dashes"]),U(mr,"Utils",{getCurveLength:s0});let kr=mr;const a0={linewidth:{enumerable:!0,get:function(){return this._linewidth},set:function(e){this._linewidth=e,this._flagLinewidth=!0}},opacity:{enumerable:!0,get:function(){return this._opacity},set:function(e){this._opacity=e,this._flagOpacity=!0}},visible:{enumerable:!0,get:function(){return this._visible},set:function(e){this._visible=e,this._flagVisible=!0}},cap:{enumerable:!0,get:function(){return this._cap},set:function(e){this._cap=e,this._flagCap=!0}},join:{enumerable:!0,get:function(){return this._join},set:function(e){this._join=e,this._flagJoin=!0}},miter:{enumerable:!0,get:function(){return this._miter},set:function(e){this._miter=e,this._flagMiter=!0}},fill:{enumerable:!0,get:function(){return this._fill},set:function(e){(this._fill instanceof un||this._fill instanceof xr||this._fill instanceof wr||this._fill instanceof En)&&this._fill.unbind(pe.Types.change,this._renderer.flagFill),this._fill=e,this._flagFill=!0,(this._fill instanceof un||this._fill instanceof xr||this._fill instanceof wr||this._fill instanceof En)&&this._fill.bind(pe.Types.change,this._renderer.flagFill)}},stroke:{enumerable:!0,get:function(){return this._stroke},set:function(e){(this._stroke instanceof un||this._stroke instanceof xr||this._stroke instanceof wr||this._stroke instanceof En)&&this._stroke.unbind(pe.Types.change,this._renderer.flagStroke),this._stroke=e,this._flagStroke=!0,(this._stroke instanceof un||this._stroke instanceof xr||this._stroke instanceof wr||this._stroke instanceof En)&&this._stroke.bind(pe.Types.change,this._renderer.flagStroke)}},length:{get:function(){return this._flagLength&&this._updateLength(),this._length}},closed:{enumerable:!0,get:function(){return this._closed},set:function(e){this._closed=!!e,this._flagVertices=!0}},curved:{enumerable:!0,get:function(){return this._curved},set:function(e){this._curved=!!e,this._flagVertices=!0}},automatic:{enumerable:!0,get:function(){return this._automatic},set:function(e){if(e===this._automatic)return;this._automatic=!!e;const t=this._automatic?"ignore":"listen";Bt.each(this.vertices,function(n){n[t]()})}},beginning:{enumerable:!0,get:function(){return this._beginning},set:function(e){this._beginning=e,this._flagVertices=!0}},ending:{enumerable:!0,get:function(){return this._ending},set:function(e){this._ending=e,this._flagVertices=!0}},vertices:{enumerable:!0,get:function(){return this._collection},set:function(e){const t=this._renderer.bindVertices,n=this._renderer.unbindVertices;this._collection&&this._collection.unbind(pe.Types.insert,t).unbind(pe.Types.remove,n),e instanceof sd?this._collection=e:this._collection=new sd(e||[]),this._collection.bind(pe.Types.insert,t).bind(pe.Types.remove,n),t(this._collection)}},mask:{enumerable:!0,get:function(){return this._mask},set:function(e){this._mask=e,this._flagMask=!0,Bt.isObject(e)&&!e.clip&&(e.clip=!0)}},clip:{enumerable:!0,get:function(){return this._clip},set:function(e){this._clip=e,this._flagClip=!0}},dashes:{enumerable:!0,get:function(){return this._dashes},set:function(e){typeof e.offset!="number"&&(e.offset=this.dashes&&this._dashes.offset||0),this._dashes=e}}};function Qb(){this._flagVertices=!0,this._flagLength=!0,this.parent&&(this.parent._flagLength=!0)}function Zb(e){let t=e.length;for(;t--;)e[t].bind(pe.Types.change,this._renderer.flagVertices);this._renderer.flagVertices()}function Jb(e){let t=e.length;for(;t--;)e[t].unbind(pe.Types.change,this._renderer.flagVertices);this._renderer.flagVertices()}function eS(){this._flagFill=!0}function tS(){this._flagStroke=!0}const li=class li extends kr{constructor(n,i,o,l,a){typeof a>"u"&&typeof o=="number"&&typeof l=="number"&&(a=Math.floor(Math.min(o,l)/12));const c=[];for(let h=0;h<10;h++)c.push(new bn(0,0,0,0,0,0,h===0?tt.move:tt.curve));super(c);U(this,"_flagWidth",!1);U(this,"_flagHeight",!1);U(this,"_flagRadius",!1);U(this,"_width",0);U(this,"_height",0);U(this,"_radius",12);this._renderer.type="rounded-rectangle";for(let h in u0)Object.defineProperty(this,h,u0[h]);this.closed=!0,this.automatic=!1,this._renderer.flagRadius=nS.bind(this),typeof o=="number"&&(this.width=o),typeof l=="number"&&(this.height=l),typeof a=="number"&&(this.radius=a),this._update(),typeof n=="number"&&(this.translation.x=n),typeof i=="number"&&(this.translation.y=i)}static fromObject(n){const i=new li().copy(n);return"id"in n&&(i.id=n.id),i}copy(n){super.copy.call(this,n);for(let i=0;i<li.Properties.length;i++){const o=li.Properties[i];if(o in n){const l=n[o];/radius/i.test(o)?this[o]=typeof l=="number"||l instanceof Pe?l:new Pe().copy(l):typeof l=="number"&&(this[o]=l)}}return this}_update(){if(this._flagVertices||this._flagWidth||this._flagHeight||this._flagRadius){const n=this._width,i=this._height;let o,l;this._radius instanceof Pe?(o=this._radius.x,l=this._radius.y):(o=this._radius,l=this._radius);let a,c=n/2,h=i/2;a=this.vertices[0],a.x=-(c-o),a.y=-h,a=this.vertices[1],a.x=c-o,a.y=-h,a.controls.left.clear(),a.controls.right.x=o,a.controls.right.y=0,a=this.vertices[2],a.x=c,a.y=-(h-l),a.controls.right.clear(),a.controls.left.clear(),a=this.vertices[3],a.x=c,a.y=h-l,a.controls.left.clear(),a.controls.right.x=0,a.controls.right.y=l,a=this.vertices[4],a.x=c-o,a.y=h,a.controls.right.clear(),a.controls.left.clear(),a=this.vertices[5],a.x=-(c-o),a.y=h,a.controls.left.clear(),a.controls.right.x=-o,a.controls.right.y=0,a=this.vertices[6],a.x=-c,a.y=h-l,a.controls.left.clear(),a.controls.right.clear(),a=this.vertices[7],a.x=-c,a.y=-(h-l),a.controls.left.clear(),a.controls.right.x=0,a.controls.right.y=-l,a=this.vertices[8],a.x=-(c-o),a.y=-h,a.controls.left.clear(),a.controls.right.clear(),a=this.vertices[9],a.copy(this.vertices[8])}return super._update.call(this),this}flagReset(){return this._flagWidth=this._flagHeight=this._flagRadius=!1,super.flagReset.call(this),this}clone(n){const i=this.width,o=this.height,l=this.radius,a=new li(0,0,i,o,l);a.translation.copy(this.translation),a.rotation=this.rotation,a.scale=this.scale,a.skewX=this.skewX,a.skewY=this.skewY,this.matrix.manual&&a.matrix.copy(this.matrix);for(let c=0;c<kr.Properties.length;c++){const h=kr.Properties[c];a[h]=this[h]}return n&&n.add(a),a}toObject(){const n=super.toObject.call(this);n.renderer.type="rounded-rectangle";for(let i=0;i<li.Properties.length;i++){const o=li.Properties[i];n[o]=this[o]}return n.radius=typeof this.radius=="number"?this.radius:this.radius.toObject(),n}};U(li,"Properties",["width","height","radius"]);let od=li;const u0={width:{enumerable:!0,get:function(){return this._width},set:function(e){this._width=e,this._flagWidth=!0}},height:{enumerable:!0,get:function(){return this._height},set:function(e){this._height=e,this._flagHeight=!0}},radius:{enumerable:!0,get:function(){return this._radius},set:function(e){this._radius instanceof Pe&&this._radius.unbind(pe.Types.change,this._renderer.flagRadius),this._radius=e,this._radius instanceof Pe&&this._radius.bind(pe.Types.change,this._renderer.flagRadius),this._flagRadius=!0}}};function nS(){this._flagRadius=!0}let ld;const c0=Math.min,f0=Math.max;Dr.document&&(ld=document.createElement("canvas"));const qt=class qt extends Rs{constructor(n,i,o,l){super();U(this,"_flagValue",!0);U(this,"_flagFamily",!0);U(this,"_flagSize",!0);U(this,"_flagLeading",!0);U(this,"_flagAlignment",!0);U(this,"_flagBaseline",!0);U(this,"_flagStyle",!0);U(this,"_flagWeight",!0);U(this,"_flagDecoration",!0);U(this,"_flagFill",!0);U(this,"_flagStroke",!0);U(this,"_flagLinewidth",!0);U(this,"_flagOpacity",!0);U(this,"_flagVisible",!0);U(this,"_flagMask",!1);U(this,"_flagClip",!1);U(this,"_flagDirection",!0);U(this,"_value","");U(this,"_family","sans-serif");U(this,"_size",13);U(this,"_leading",17);U(this,"_alignment","center");U(this,"_baseline","middle");U(this,"_style","normal");U(this,"_weight",500);U(this,"_decoration","none");U(this,"_direction","ltr");U(this,"_fill","#000");U(this,"_stroke","none");U(this,"_linewidth",1);U(this,"_opacity",1);U(this,"_visible",!0);U(this,"_mask",null);U(this,"_clip",!1);U(this,"_dashes",null);for(let a in h0)Object.defineProperty(this,a,h0[a]);if(this._renderer.type="text",this._renderer.flagFill=rS.bind(this),this._renderer.flagStroke=iS.bind(this),this.value=n,typeof i=="number"&&(this.translation.x=i),typeof o=="number"&&(this.translation.y=o),this.dashes=[],this.dashes.offset=0,!Bt.isObject(l))return this;for(let a=0;a<qt.Properties.length;a++){const c=qt.Properties[a];c in l&&(this[c]=l[c])}}static Measure(n){if(ld){const i=ld.getContext("2d");i.font=[n._style,n._weight,`${n._size}px/${n._leading}px`,n._family].join(" ");const o=i.measureText(n.value,0,0),l=o.actualBoundingBoxDescent+o.actualBoundingBoxAscent;return{width:o.width,height:l}}else{const i=this.value.length*this.size*qt.Ratio,o=this.leading;return console.warn("Two.Text: unable to accurately measure text, so using an approximation."),{width:i,height:o}}}static fromObject(n){const i=typeof n.fill=="string"?n.fill:Qu(n.fill),o=typeof n.stroke=="string"?n.stroke:Qu(n.stroke),l=new qt().copy({...n,fill:i,stroke:o});return"id"in n&&(l.id=n.id),l}copy(n){super.copy.call(this,n);for(let i=0;i<qt.Properties.length;i++){const o=qt.Properties[i];o in n&&(this[o]=n[o])}return this}clone(n){const i=new qt(this.value);i.translation.copy(this.translation),i.rotation=this.rotation,i.scale=this.scale;for(let o=0;o<qt.Properties.length;o++){const l=qt.Properties[o];i[l]=this[l]}return this.matrix.manual&&i.matrix.copy(this.matrix),n&&n.add(i),i._update()}toObject(){const n=super.toObject.call(this);n.renderer.type="text";for(let i=0;i<qt.Properties.length;i++){const o=qt.Properties[i];n[o]=this[o]}return n}noFill(){return this.fill="none",this}noStroke(){return this.stroke="none",this.linewidth=0,this}getBoundingClientRect(n){let i,o,l,a,c;this._update(!0),i=n?this.matrix:this.worldMatrix;const{width:h,height:d}=qt.Measure(this),g=(this._linewidth||0)/2;switch(this.alignment){case"left":o=-g,l=h+g;break;case"right":o=-(h+g),l=g;break;default:o=-(h/2+g),l=h/2+g}switch(this.baseline){case"middle":a=-(d/2+g),c=d/2+g;break;default:a=-(d+g),c=g}const[m,v]=i.multiply(o,a),[_,w]=i.multiply(o,c),[k,S]=i.multiply(l,a),[b,x]=i.multiply(l,c);return a=c0(v,w,S,x),o=c0(m,_,k,b),l=f0(m,_,k,b),c=f0(v,w,S,x),{top:a,left:o,right:l,bottom:c,width:l-o,height:c-a}}flagReset(){return super.flagReset.call(this),this._flagValue=this._flagFamily=this._flagSize=this._flagLeading=this._flagAlignment=this._flagFill=this._flagStroke=this._flagLinewidth=this._flagOpacity=this._flagVisible=this._flagClip=this._flagDecoration=this._flagClassName=this._flagBaseline=this._flagWeight=this._flagStyle=this._flagDirection=!1,this}};U(qt,"Ratio",.6),U(qt,"Properties",["value","family","size","leading","alignment","linewidth","style","weight","decoration","direction","baseline","opacity","visible","fill","stroke","dashes"]);let Zu=qt;const h0={value:{enumerable:!0,get:function(){return this._value},set:function(e){this._value=e,this._flagValue=!0}},family:{enumerable:!0,get:function(){return this._family},set:function(e){this._family=e,this._flagFamily=!0}},size:{enumerable:!0,get:function(){return this._size},set:function(e){this._size=e,this._flagSize=!0}},leading:{enumerable:!0,get:function(){return this._leading},set:function(e){this._leading=e,this._flagLeading=!0}},alignment:{enumerable:!0,get:function(){return this._alignment},set:function(e){this._alignment=e,this._flagAlignment=!0}},linewidth:{enumerable:!0,get:function(){return this._linewidth},set:function(e){this._linewidth=e,this._flagLinewidth=!0}},style:{enumerable:!0,get:function(){return this._style},set:function(e){this._style=e,this._flagStyle=!0}},weight:{enumerable:!0,get:function(){return this._weight},set:function(e){this._weight=e,this._flagWeight=!0}},decoration:{enumerable:!0,get:function(){return this._decoration},set:function(e){this._decoration=e,this._flagDecoration=!0}},direction:{enumerable:!0,get:function(){return this._direction},set:function(e){this._direction=e,this._flagDirection=!0}},baseline:{enumerable:!0,get:function(){return this._baseline},set:function(e){this._baseline=e,this._flagBaseline=!0}},opacity:{enumerable:!0,get:function(){return this._opacity},set:function(e){this._opacity=e,this._flagOpacity=!0}},visible:{enumerable:!0,get:function(){return this._visible},set:function(e){this._visible=e,this._flagVisible=!0}},fill:{enumerable:!0,get:function(){return this._fill},set:function(e){(this._fill instanceof un||this._fill instanceof xr||this._fill instanceof wr||this._fill instanceof En)&&this._fill.unbind(pe.Types.change,this._renderer.flagFill),this._fill=e,this._flagFill=!0,(this._fill instanceof un||this._fill instanceof xr||this._fill instanceof wr||this._fill instanceof En)&&this._fill.bind(pe.Types.change,this._renderer.flagFill)}},stroke:{enumerable:!0,get:function(){return this._stroke},set:function(e){(this._stroke instanceof un||this._stroke instanceof xr||this._stroke instanceof wr||this._stroke instanceof En)&&this._stroke.unbind(pe.Types.change,this._renderer.flagStroke),this._stroke=e,this._flagStroke=!0,(this._stroke instanceof un||this._stroke instanceof xr||this._stroke instanceof wr||this._stroke instanceof En)&&this._stroke.bind(pe.Types.change,this._renderer.flagStroke)}},mask:{enumerable:!0,get:function(){return this._mask},set:function(e){this._mask=e,this._flagMask=!0,Bt.isObject(e)&&!e.clip&&(e.clip=!0)}},clip:{enumerable:!0,get:function(){return this._clip},set:function(e){this._clip=e,this._flagClip=!0}},dashes:{enumerable:!0,get:function(){return this._dashes},set:function(e){typeof e.offset!="number"&&(e.offset=this.dashes&&this._dashes.offset||0),this._dashes=e}}};function rS(){this._flagFill=!0}function iS(){this._flagStroke=!0}function zd(e){const{shape:t,type:n}=e,{translation:i,id:o}=t,l=t.stroke,a=t.fill,c=t.linewidth,h=t.vertices,d=t.width||0,g=t.height||0,m=t.radius||0,v={id:o,t:n,x:i.x,y:i.y,w:d,h:g,r:m,sc:l||"none",fc:a||"none",lw:c||1,v:(h||[]).map(_=>[_.x,_.y])};if(n==="text"){const _=t;v.txt=_.value,v.ff=_.family,v.fs=_.size,v.fa=_.alignment,v.fw=_.weight}return v}function Bd(e){const{t,x:n,y:i,sc:o,fc:l,lw:a,v:c,w:h,h:d,r:g,id:m}=e;if(t==="brush"){const v=c.map(w=>new Ee.Anchor(w[0],w[1])),_=new kr(v,!1,!0);return _.id=m,_.cap="round",_.closed=!1,_.noFill().stroke=o,_.linewidth=a,_.translation.x=n,_.translation.y=i,{type:t,shape:_}}else if(t==="line"||t==="arrow"){const v=c.map(w=>new Ee.Anchor(w[0],w[1])),_=new kr(v,!1,!1);return _.id=m,_.cap="round",_.closed=!1,_.noFill().stroke=o,_.linewidth=a,_.translation.x=n,_.translation.y=i,{type:t,shape:_}}else if(t==="rect"){const v=new od(n,i,h,d);return v.radius=g,v.id=m,v.stroke=o,v.fill=l,v.linewidth=a,{shape:v,type:"rect"}}else if(t==="text"){const v=new Zu(e.txt||"",n,i);return v.id=m,v.fill=l,v.stroke=o,v.linewidth=a,v.family=e.ff||"sans-serif",v.size=e.fs||24,v.alignment=e.fa||"left",v.weight=e.fw||400,{shape:v,type:"text"}}else throw new Error(`Unknown doodle unserialization of type "${t}"`)}const Ev=br()(e=>({toasts:[],addToast:(t,n)=>{const i=Math.random().toString(36).replace("0.","");e(o=>{const l={id:i,message:t,type:n};return{toasts:[...o.toasts,l]}}),setTimeout(()=>{e(o=>({toasts:o.toasts.filter(a=>a.id!==i)}))},2500)}})),sS=()=>{const e=Ev().toasts;return A.jsx("div",{className:"fixed top-0 left-0 right-0 h-0 flex justify-center",children:A.jsx("div",{className:"flex flex-col md:items-center gap-2 relative top-14",children:e.map(t=>A.jsx(oS,{message:t.message},t.id))})})},oS=({message:e})=>A.jsx("div",{className:"text-inverse bg-secondary py-2 px-4 flex items-center rounded gap-2 animate-fade-in-down min-w-72",children:A.jsx("div",{className:"flex-grow text-center",children:e})});class lS{constructor(t){U(this,"two");U(this,"zui");U(this,"canvas");U(this,"sketchId");U(this,"container");U(this,"throttledTwoUpdate",Y_(()=>{var t,n,i;typeof((t=this.two)==null?void 0:t.update)=="function"&&((i=(n=this.two)==null?void 0:n.update)==null||i.call(n))},1));this.two=t.two,this.canvas=t.canvas,this.zui=t.zui,this.sketchId=t.sketchId||"default",this.container=t.container,typeof window<"u"&&(window.doodler=this)}doCenterCanvas(){this.canvas.position.x=0,this.canvas.position.y=0,this.throttledTwoUpdate()}addDoodle(t){t.shape.id=crypto.randomUUID();const{doodles:n,setDoodles:i}=tn.getState(),o=[...n,t];i(o),this.canvas.add(t.shape)}removeDoodle(t){const{doodles:n,setDoodles:i}=tn.getState(),o=n.filter(l=>l!==t);i(o),this.canvas.remove(t.shape)}async saveDoodles(){const{doodles:t}=tn.getState(),n=t.map(o=>zd(o));kk(this.sketchId,n);const i=Ev.getState().addToast;i("Sketch saved successfully")}async loadDoodles(){if(!this.sketchId)return;const t=wk(this.sketchId);if(!(!t||!(t!=null&&t.length))){for(const n of t)try{const i=Bd(n);this.addDoodle(i)}catch(i){console.warn(i);continue}this.throttledTwoUpdate()}}}let ad;function aS(e){ad=e}function He(){if(!ad)throw new Error("Doodler instance is not set yet.");return ad}const uS="#0ea5cf";var Cv=(e=>(e[e.Left=0]="Left",e[e.Middle=1]="Middle",e[e.Right=2]="Right",e))(Cv||{});function No(e,t){t=t||He().zui;const n=e.currentTarget.getBoundingClientRect(),i={x:e.clientX-n.left,y:e.clientY-n.top};return t.clientToSurface(i)}function Vr(e){const t=e.currentTarget.getBoundingClientRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}function cS(e,t){let n;return(...i)=>{clearTimeout(n),n=setTimeout(()=>e(...i),t)}}function d0(e,t){return Ud(e.x,e.y,t.left,t.top,t.right,t.bottom)}function Ud(e,t,n,i,o,l){return e>=n&&e<=o&&t>=i&&t<=l}function fS(e,t,n){return Math.max(t,Math.min(n,e))}function hS(e,t){const n=Math.pow(10,t);return Math.floor(e*n)/n}function dS(e){return e*(180/Math.PI)%360}function pS(e){return e*(Math.PI/180)}function $d(e){var i,o;const t=e,n=((i=e.touches)==null?void 0:i[0])||((o=e.changedTouches)==null?void 0:o[0])||{clientX:0,clientY:0};return t.clientX=n.clientX,t.clientY=n.clientY,t}var Cu={},p0;function gS(){return p0||(p0=1,Cu.ARRAY_BUFFER_SUPPORT=typeof ArrayBuffer<"u",Cu.SYMBOL_SUPPORT=typeof Symbol<"u"),Cu}var Ph,g0;function Rv(){if(g0)return Ph;g0=1;var e=gS(),t=e.ARRAY_BUFFER_SUPPORT,n=e.SYMBOL_SUPPORT;return Ph=function(o,l){var a,c,h,d,g;if(!o)throw new Error("obliterator/forEach: invalid iterable.");if(typeof l!="function")throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(o)||t&&ArrayBuffer.isView(o)||typeof o=="string"||o.toString()==="[object Arguments]"){for(h=0,d=o.length;h<d;h++)l(o[h],h);return}if(typeof o.forEach=="function"){o.forEach(l);return}if(n&&Symbol.iterator in o&&typeof o.next!="function"&&(o=o[Symbol.iterator]()),typeof o.next=="function"){for(a=o,h=0;g=a.next(),g.done!==!0;)l(g.value,h),h++;return}for(c in o)o.hasOwnProperty(c)&&l(o[c],c)},Ph}var _o={},m0;function mS(){if(m0)return _o;m0=1;var e=function(o,l){return o<l?-1:o>l?1:0},t=function(o,l){return o<l?1:o>l?-1:0};function n(o){return function(l,a){return o(a,l)}}function i(o){return o===2?function(l,a){return l[0]<a[0]?-1:l[0]>a[0]?1:l[1]<a[1]?-1:l[1]>a[1]?1:0}:function(l,a){for(var c=0;c<o;){if(l[c]<a[c])return-1;if(l[c]>a[c])return 1;c++}return 0}}return _o.DEFAULT_COMPARATOR=e,_o.DEFAULT_REVERSE_COMPARATOR=t,_o.reverseComparator=n,_o.createTupleComparator=i,_o}var vo={},Ah={},y0;function yS(){return y0||(y0=1,function(e){var t=Math.pow(2,8)-1,n=Math.pow(2,16)-1,i=Math.pow(2,32)-1,o=Math.pow(2,7)-1,l=Math.pow(2,15)-1,a=Math.pow(2,31)-1;e.getPointerArray=function(h){var d=h-1;if(d<=t)return Uint8Array;if(d<=n)return Uint16Array;if(d<=i)return Uint32Array;throw new Error("mnemonist: Pointer Array of size > 4294967295 is not supported.")},e.getSignedPointerArray=function(h){var d=h-1;return d<=o?Int8Array:d<=l?Int16Array:d<=a?Int32Array:Float64Array},e.getNumberType=function(h){return h===(h|0)?Math.sign(h)===-1?h<=127&&h>=-128?Int8Array:h<=32767&&h>=-32768?Int16Array:Int32Array:h<=255?Uint8Array:h<=65535?Uint16Array:Uint32Array:Float64Array};var c={Uint8Array:1,Int8Array:2,Uint16Array:3,Int16Array:4,Uint32Array:5,Int32Array:6,Float32Array:7,Float64Array:8};e.getMinimalRepresentation=function(h,d){var g=null,m=0,v,_,w,k,S;for(k=0,S=h.length;k<S;k++)w=d?d(h[k]):h[k],_=e.getNumberType(w),v=c[_.name],v>m&&(m=v,g=_);return g},e.isTypedArray=function(h){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView(h)},e.concat=function(){var h=0,d,g,m;for(d=0,m=arguments.length;d<m;d++)h+=arguments[d].length;var v=new arguments[0].constructor(h);for(d=0,g=0;d<m;d++)v.set(arguments[d],g),g+=arguments[d].length;return v},e.indices=function(h){for(var d=e.getPointerArray(h),g=new d(h),m=0;m<h;m++)g[m]=m;return g}}(Ah)),Ah}var _0;function _S(){if(_0)return vo;_0=1;var e=Rv(),t=yS();function n(a){return Array.isArray(a)||t.isTypedArray(a)}function i(a){if(typeof a.length=="number")return a.length;if(typeof a.size=="number")return a.size}function o(a){var c=i(a),h=typeof c=="number"?new Array(c):[],d=0;return e(a,function(g){h[d++]=g}),h}function l(a){var c=i(a),h=typeof c=="number"?t.getPointerArray(c):Array,d=typeof c=="number"?new Array(c):[],g=typeof c=="number"?new h(c):[],m=0;return e(a,function(v){d[m]=v,g[m]=m++}),[d,g]}return vo.isArrayLike=n,vo.guessLength=i,vo.toArray=o,vo.toArrayWithIndices=l,vo}var Oh,v0;function vS(){if(v0)return Oh;v0=1;var e=Rv(),t=mS(),n=_S(),i=t.DEFAULT_COMPARATOR,o=t.reverseComparator;function l(b,x,R,M){for(var P=x[M],I,j;M>R;){if(I=M-1>>1,j=x[I],b(P,j)<0){x[M]=j,M=I;continue}break}x[M]=P}function a(b,x,R){for(var M=x.length,P=R,I=x[R],j=2*R+1,X;j<M;)X=j+1,X<M&&b(x[j],x[X])>=0&&(j=X),x[R]=x[j],R=j,j=2*R+1;x[R]=I,l(b,x,P,R)}function c(b,x,R){x.push(R),l(b,x,0,x.length-1)}function h(b,x){var R=x.pop();if(x.length!==0){var M=x[0];return x[0]=R,a(b,x,0),M}return R}function d(b,x,R){if(x.length===0)throw new Error("mnemonist/heap.replace: cannot pop an empty heap.");var M=x[0];return x[0]=R,a(b,x,0),M}function g(b,x,R){var M;return x.length!==0&&b(x[0],R)<0&&(M=x[0],x[0]=R,R=M,a(b,x,0)),R}function m(b,x){for(var R=x.length,M=R>>1,P=M;--P>=0;)a(b,x,P)}function v(b,x){for(var R=x.length,M=0,P=new Array(R);M<R;)P[M++]=h(b,x);return P}function _(b,x,R){arguments.length===2&&(R=x,x=b,b=i);var M=o(b),P,I,j,X=1/0,z;if(x===1){if(n.isArrayLike(R)){for(P=0,I=R.length;P<I;P++)j=R[P],(X===1/0||b(j,X)<0)&&(X=j);return z=new R.constructor(1),z[0]=X,z}return e(R,function(K){(X===1/0||b(K,X)<0)&&(X=K)}),[X]}if(n.isArrayLike(R)){if(x>=R.length)return R.slice().sort(b);for(z=R.slice(0,x),m(M,z),P=x,I=R.length;P<I;P++)M(R[P],z[0])>0&&d(M,z,R[P]);return z.sort(b)}var W=n.guessLength(R);return W!==null&&W<x&&(x=W),z=new Array(x),P=0,e(R,function(K){P<x?z[P]=K:(P===x&&m(M,z),M(K,z[0])>0&&d(M,z,K)),P++}),z.length>P&&(z.length=P),z.sort(b)}function w(b,x,R){arguments.length===2&&(R=x,x=b,b=i);var M=o(b),P,I,j,X=-1/0,z;if(x===1){if(n.isArrayLike(R)){for(P=0,I=R.length;P<I;P++)j=R[P],(X===-1/0||b(j,X)>0)&&(X=j);return z=new R.constructor(1),z[0]=X,z}return e(R,function(K){(X===-1/0||b(K,X)>0)&&(X=K)}),[X]}if(n.isArrayLike(R)){if(x>=R.length)return R.slice().sort(M);for(z=R.slice(0,x),m(b,z),P=x,I=R.length;P<I;P++)b(R[P],z[0])>0&&d(b,z,R[P]);return z.sort(M)}var W=n.guessLength(R);return W!==null&&W<x&&(x=W),z=new Array(x),P=0,e(R,function(K){P<x?z[P]=K:(P===x&&m(b,z),b(K,z[0])>0&&d(b,z,K)),P++}),z.length>P&&(z.length=P),z.sort(M)}function k(b){if(this.clear(),this.comparator=b||i,typeof this.comparator!="function")throw new Error("mnemonist/Heap.constructor: given comparator should be a function.")}k.prototype.clear=function(){this.items=[],this.size=0},k.prototype.push=function(b){return c(this.comparator,this.items,b),++this.size},k.prototype.peek=function(){return this.items[0]},k.prototype.pop=function(){return this.size!==0&&this.size--,h(this.comparator,this.items)},k.prototype.replace=function(b){return d(this.comparator,this.items,b)},k.prototype.pushpop=function(b){return g(this.comparator,this.items,b)},k.prototype.consume=function(){return this.size=0,v(this.comparator,this.items)},k.prototype.toArray=function(){return v(this.comparator,this.items.slice())},k.prototype.inspect=function(){var b=this.toArray();return Object.defineProperty(b,"constructor",{value:k,enumerable:!1}),b},typeof Symbol<"u"&&(k.prototype[Symbol.for("nodejs.util.inspect.custom")]=k.prototype.inspect);function S(b){if(this.clear(),this.comparator=b||i,typeof this.comparator!="function")throw new Error("mnemonist/MaxHeap.constructor: given comparator should be a function.");this.comparator=o(this.comparator)}return S.prototype=k.prototype,k.from=function(b,x){var R=new k(x),M;return n.isArrayLike(b)?M=b.slice():M=n.toArray(b),m(R.comparator,M),R.items=M,R.size=M.length,R},S.from=function(b,x){var R=new S(x),M;return n.isArrayLike(b)?M=b.slice():M=n.toArray(b),m(R.comparator,M),R.items=M,R.size=M.length,R},k.siftUp=a,k.siftDown=l,k.push=c,k.pop=h,k.replace=d,k.pushpop=g,k.heapify=m,k.consume=v,k.nsmallest=_,k.nlargest=w,k.MinHeap=k,k.MaxHeap=S,Oh=k,Oh}var xo=vS();function xS([e,t,n]){return Math.abs((e.x-n.x)*(t.y-e.y)-(e.x-t.x)*(n.y-e.y))}function wS([e,t,n]){const i=Math.abs((n.y-t.y)*e.x-(n.x-t.x)*e.y+n.x*t.y-n.y*t.x),o=Math.sqrt(Math.pow(n.y-t.y,2)+Math.pow(n.x-t.x,2));return i/o}function kS([e,t,n]){const i={x:t.x-e.x,y:t.y-e.y},o={x:n.x-e.x,y:n.y-e.y},l=i.x*o.x+i.y*o.y,a=Math.sqrt(i.x**2+i.y**2),c=Math.sqrt(o.x**2+o.y**2);return Math.acos(l/(a*c))}function*bS(e){for(let t=1;t<e.length-1;t++)yield[e[t-1],e[t],e[t+1]]}const wo=(e,t)=>e.weight-t.weight;function SS(e,t,n){const i=t.length;if(i<3||typeof n=="number"&&i<n)return t;if(typeof n=="number"&&n<3)return[t[0],t[i-1]];const o=typeof n=="number"?n:2,l=typeof n=="number"?null:n,a=[],c=new WeakMap,h=new WeakMap;{let m=null;for(const v of bS(t)){const _={t:v,weight:e(v),dead:!1};m&&(c.set(m,_),h.set(_,m)),m=_,xo.push(wo,a,_)}}let d=i-o;const g=new WeakSet;for(;d>0;){const m=xo.pop(wo,a);if(!m)throw new Error("unexpected heap exhaustion");if(m.dead)continue;if(!isFinite(m.weight)||l&&!l(m.weight))break;g.add(m.t[1]),d-=1;const v=h.get(m),_=c.get(m);let w=null,k=null;if(v){v.dead=!0;const[S,b]=v.t,[,,x]=m.t,R=[S,b,x];w={t:R,weight:e(R),dead:!1};const M=h.get(v);M&&(c.set(M,w),h.set(w,M)),a[0].dead?xo.replace(wo,a,w):xo.push(wo,a,w)}if(_){_.dead=!0;const[,S,b]=_.t,[x]=m.t,R=[x,S,b];k={t:R,weight:e(R),dead:!1};const M=c.get(_);M&&(h.set(M,k),c.set(k,M)),a[0].dead?xo.replace(wo,a,k):xo.push(wo,a,k)}k&&w&&(c.set(w,k),h.set(k,w))}return t.filter(m=>!g.has(m))}function ES(e){return e==="triangle"?xS:e==="distance"?wS:e==="angle"?kS:null}function CS(e,t,n){var i=t.x,o=t.y,l=n.x-i,a=n.y-o;if(l!==0||a!==0){var c=((e.x-i)*l+(e.y-o)*a)/(l*l+a*a);c>1?(i=n.x,o=n.y):c>0&&(i+=l*c,o+=a*c)}return l=e.x-i,a=e.y-o,l*l+a*a}function ud(e,t,n,i,o){let l=i,a=1;for(var c=t+1;c<n;c++){var h=CS(e[c],e[t],e[n]);h>l&&(a=c,l=h)}l>i&&(a-t>1&&ud(e,t,a,i,o),o.push(e[a]),n-a>1&&ud(e,a,n,i,o))}function RS(e,t){var n=e.length-1,i=[e[0]];return ud(e,0,n,t,i),i.push(e[n]),i}function TS(e,t){if(e.length<=2)return e;var n=t!==void 0?t*t:1;return e=RS(e,n),e}var MS={grad:.9,turn:360,rad:360/(2*Math.PI)},oi=function(e){return typeof e=="string"?e.length>0:typeof e=="number"},Lt=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=Math.pow(10,t)),Math.round(n*e)/n+0},sr=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=1),e>n?n:e>t?e:t},Tv=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},x0=function(e){return{r:sr(e.r,0,255),g:sr(e.g,0,255),b:sr(e.b,0,255),a:sr(e.a)}},Lh=function(e){return{r:Lt(e.r),g:Lt(e.g),b:Lt(e.b),a:Lt(e.a,3)}},PS=/^#([0-9a-f]{3,8})$/i,Ru=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},Mv=function(e){var t=e.r,n=e.g,i=e.b,o=e.a,l=Math.max(t,n,i),a=l-Math.min(t,n,i),c=a?l===t?(n-i)/a:l===n?2+(i-t)/a:4+(t-n)/a:0;return{h:60*(c<0?c+6:c),s:l?a/l*100:0,v:l/255*100,a:o}},Pv=function(e){var t=e.h,n=e.s,i=e.v,o=e.a;t=t/360*6,n/=100,i/=100;var l=Math.floor(t),a=i*(1-n),c=i*(1-(t-l)*n),h=i*(1-(1-t+l)*n),d=l%6;return{r:255*[i,c,a,a,h,i][d],g:255*[h,i,i,c,a,a][d],b:255*[a,a,h,i,i,c][d],a:o}},w0=function(e){return{h:Tv(e.h),s:sr(e.s,0,100),l:sr(e.l,0,100),a:sr(e.a)}},k0=function(e){return{h:Lt(e.h),s:Lt(e.s),l:Lt(e.l),a:Lt(e.a,3)}},b0=function(e){return Pv((n=(t=e).s,{h:t.h,s:(n*=((i=t.l)<50?i:100-i)/100)>0?2*n/(i+n)*100:0,v:i+n,a:t.a}));var t,n,i},zl=function(e){return{h:(t=Mv(e)).h,s:(o=(200-(n=t.s))*(i=t.v)/100)>0&&o<200?n*i/100/(o<=100?o:200-o)*100:0,l:o/2,a:t.a};var t,n,i,o},AS=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,OS=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,LS=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,FS=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,S0={string:[[function(e){var t=PS.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?Lt(parseInt(e[3]+e[3],16)/255,2):1}:e.length===6||e.length===8?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:e.length===8?Lt(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=LS.exec(e)||FS.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:x0({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t=AS.exec(e)||OS.exec(e);if(!t)return null;var n,i,o=w0({h:(n=t[1],i=t[2],i===void 0&&(i="deg"),Number(n)*(MS[i]||1)),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)});return b0(o)},"hsl"]],object:[[function(e){var t=e.r,n=e.g,i=e.b,o=e.a,l=o===void 0?1:o;return oi(t)&&oi(n)&&oi(i)?x0({r:Number(t),g:Number(n),b:Number(i),a:Number(l)}):null},"rgb"],[function(e){var t=e.h,n=e.s,i=e.l,o=e.a,l=o===void 0?1:o;if(!oi(t)||!oi(n)||!oi(i))return null;var a=w0({h:Number(t),s:Number(n),l:Number(i),a:Number(l)});return b0(a)},"hsl"],[function(e){var t=e.h,n=e.s,i=e.v,o=e.a,l=o===void 0?1:o;if(!oi(t)||!oi(n)||!oi(i))return null;var a=function(c){return{h:Tv(c.h),s:sr(c.s,0,100),v:sr(c.v,0,100),a:sr(c.a)}}({h:Number(t),s:Number(n),v:Number(i),a:Number(l)});return Pv(a)},"hsv"]]},E0=function(e,t){for(var n=0;n<t.length;n++){var i=t[n][0](e);if(i)return[i,t[n][1]]}return[null,void 0]},IS=function(e){return typeof e=="string"?E0(e.trim(),S0.string):typeof e=="object"&&e!==null?E0(e,S0.object):[null,void 0]},Fh=function(e,t){var n=zl(e);return{h:n.h,s:sr(n.s+100*t,0,100),l:n.l,a:n.a}},Ih=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},C0=function(e,t){var n=zl(e);return{h:n.h,s:n.s,l:sr(n.l+100*t,0,100),a:n.a}},R0=function(){function e(t){this.parsed=IS(t)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return this.parsed!==null},e.prototype.brightness=function(){return Lt(Ih(this.rgba),2)},e.prototype.isDark=function(){return Ih(this.rgba)<.5},e.prototype.isLight=function(){return Ih(this.rgba)>=.5},e.prototype.toHex=function(){return t=Lh(this.rgba),n=t.r,i=t.g,o=t.b,a=(l=t.a)<1?Ru(Lt(255*l)):"","#"+Ru(n)+Ru(i)+Ru(o)+a;var t,n,i,o,l,a},e.prototype.toRgb=function(){return Lh(this.rgba)},e.prototype.toRgbString=function(){return t=Lh(this.rgba),n=t.r,i=t.g,o=t.b,(l=t.a)<1?"rgba("+n+", "+i+", "+o+", "+l+")":"rgb("+n+", "+i+", "+o+")";var t,n,i,o,l},e.prototype.toHsl=function(){return k0(zl(this.rgba))},e.prototype.toHslString=function(){return t=k0(zl(this.rgba)),n=t.h,i=t.s,o=t.l,(l=t.a)<1?"hsla("+n+", "+i+"%, "+o+"%, "+l+")":"hsl("+n+", "+i+"%, "+o+"%)";var t,n,i,o,l},e.prototype.toHsv=function(){return t=Mv(this.rgba),{h:Lt(t.h),s:Lt(t.s),v:Lt(t.v),a:Lt(t.a,3)};var t},e.prototype.invert=function(){return at({r:255-(t=this.rgba).r,g:255-t.g,b:255-t.b,a:t.a});var t},e.prototype.saturate=function(t){return t===void 0&&(t=.1),at(Fh(this.rgba,t))},e.prototype.desaturate=function(t){return t===void 0&&(t=.1),at(Fh(this.rgba,-t))},e.prototype.grayscale=function(){return at(Fh(this.rgba,-1))},e.prototype.lighten=function(t){return t===void 0&&(t=.1),at(C0(this.rgba,t))},e.prototype.darken=function(t){return t===void 0&&(t=.1),at(C0(this.rgba,-t))},e.prototype.rotate=function(t){return t===void 0&&(t=15),this.hue(this.hue()+t)},e.prototype.alpha=function(t){return typeof t=="number"?at({r:(n=this.rgba).r,g:n.g,b:n.b,a:t}):Lt(this.rgba.a,3);var n},e.prototype.hue=function(t){var n=zl(this.rgba);return typeof t=="number"?at({h:t,s:n.s,l:n.l,a:n.a}):Lt(n.h)},e.prototype.isEqual=function(t){return this.toHex()===at(t).toHex()},e}(),at=function(e){return e instanceof R0?e:new R0(e)};const Br=br()(e=>({undoStack:[],redoStack:[],push:t=>e(n=>({undoStack:[...n.undoStack,t],redoStack:[]})),clear:()=>e({undoStack:[],redoStack:[]})})),Rn=br()(e=>({selected:[],origin:new Pe,origins:[],highlighted:void 0,isMoving:!1,outlines:{origin:new Pe},originTranslations:{shape:new Pe,border:new Pe},setIsMoving:t=>e(n=>({...n,isMoving:t})),setOrigins:t=>e(n=>({...n,origins:t})),setHighlight:(t,n)=>e(i=>NS(i,t,n)),clearHighlight:()=>e(t=>jS(t)),clearSelected:()=>e(t=>BS(t)),addHighlightToSelection:t=>e(n=>DS(n,t))}));function NS(e,t,n){const i=e.outlines;return e.highlighted=t,i.highlight||(i.highlight=Av(0,0,0,0)),i.highlight.translation.x=n.x,i.highlight.translation.y=n.y,i.highlight.width=n.width,i.highlight.height=n.height,i.highlight.visible=!0,e}function jS(e){const t=e.outlines;return e.highlighted=void 0,t.highlight&&(t.highlight.remove(),t.highlight=void 0),e}function DS(e,t){const n=e.outlines,i=e.highlighted;if(n.selected||(n.selected=Av(0,0,0,0)),!i)return t?{...e}:(n.selected.remove(),n.selected=void 0,{...e,selected:[]});let o=[...e.selected];const l=e.selected.find(a=>a.id===(i==null?void 0:i.id));return t&&l?o=o.filter(a=>a.id!==i.id):t&&!l?o.push(i):!t&&!l&&(o=[i]),zS(o,n.selected),{...e,selected:o}}function zS(e,t){const n=He(),i=e.map(m=>m.getBoundingClientRect()),o=Math.min(...i.map(m=>m.left)),l=Math.min(...i.map(m=>m.top)),a=Math.max(...i.map(m=>m.right)),c=Math.max(...i.map(m=>m.bottom)),h=a-o,d=c-l,g=n.zui.clientToSurface({x:o+h/2,y:l+d/2});t.translation.x=g.x,t.translation.y=g.y,t.width=h/n.zui.scale,t.height=d/n.zui.scale,t.visible=!0}function BS(e){return e.outlines.selected&&(e.outlines.selected.remove(),e.outlines.selected=void 0),{...e,selected:[]}}function T0(){const{setToolOption:e}=wt.getState(),{setIsMoving:t,setOrigins:n,outlines:i}=Rn.getState(),o=Rn.getState().selected;t(!0),e("moving");const l=o.map(a=>a.translation.clone());i.selected&&i.origin.set(i.selected.translation.x,i.selected.translation.y),i.highlight&&(i.highlight.remove(),i.highlight=void 0),n(l)}function US(e){const t=He(),{origin:n,addHighlightToSelection:i,clearSelected:o,outlines:l}=Rn.getState(),a=No(e),c=Vr(e);n.set(a.x,a.y);let h=!1;if(l.highlight&&l.highlight.visible){const g=l.highlight.getBoundingClientRect();h=d0(c,g)}if(h&&(i(e.shiftKey),Rn.getState().selected.length)){T0(),t.throttledTwoUpdate();return}let d=!1;if(l.selected&&l.selected.visible){const g=l.selected.getBoundingClientRect();d=d0(c,g)}if(d){T0(),t.throttledTwoUpdate();return}e.shiftKey||o(),t.throttledTwoUpdate()}function $S(e){const{isMoving:t}=Rn.getState();t?HS(e):Ov(e)}function VS(e){const{isMoving:t,setIsMoving:n,selected:i,origins:o}=Rn.getState(),{setToolOption:l}=wt.getState(),a=He();if(t&&i.length&&o.length===i.length)for(let c=0;c<i.length;c++){const h=i[c],d=o[c];xc({type:"update",label:"Move shape",shapeId:h.id,changes:[{field:"translation.x",oldValue:d.x,newValue:h.translation.x},{field:"translation.y",oldValue:d.y,newValue:h.translation.y}]})}n(!1),l(""),a.throttledTwoUpdate()}function Av(e,t,n,i){const o=He(),l=o.two.makeRectangle(e,t,n,i);return l.stroke="#0ea5cf",l.noFill(),l.linewidth=1.5/o.zui.scale,l.scale=1.01,l.isHighlight=!0,o.canvas.add(l),l}function HS(e){const t=He(),{outlines:n,origins:i,origin:o,selected:l}=Rn.getState(),a=No(e);if(l.length===i.length){var c=a.x-o.x,h=a.y-o.y;for(let d=0;d<l.length;++d){const g=l[d],m=i[d];g.translation.x=m.x+c,g.translation.y=m.y+h}n.selected&&(n.selected.translation.x=n.origin.x+c,n.selected.translation.y=n.origin.y+h),t.throttledTwoUpdate()}}function Ov(e){const t=He(),{doodles:n}=tn.getState(),{highlighted:i,setHighlight:o,clearHighlight:l}=Rn.getState(),a=Vr(e);for(const c of n){const h=c.shape;if(!h.getBoundingClientRect)continue;const d=h.getBoundingClientRect(!1);if(!Ud(a.x,a.y,d.left,d.top,d.right,d.bottom)||h.isHighlight)continue;if(i===h)return;const m=t.zui.clientToSurface({x:d.left+d.width/2,y:d.top+d.height/2}),v={x:m.x,y:m.y,width:d.width/t.zui.scale,height:d.height/t.zui.scale};o(h,v),t.throttledTwoUpdate();return}l(),t.throttledTwoUpdate()}function Vd(e){const{doodles:t}=tn.getState();return t.find(n=>n.shape.id===e)}function Lv(){const{clearSelected:e,clearHighlight:t}=Rn.getState();e(),t()}function Fv(e,t,n){const i=t.split(".");i.length===2?e[i[0]][i[1]]=n:e[t]=n}function Iv(e){const t=He(),{doodles:n,setDoodles:i}=tn.getState();i([...n,e]),t.canvas.add(e.shape)}function Nv(e){const t=He(),n=Vd(e);if(!n)return;const{doodles:i,setDoodles:o}=tn.getState();o(i.filter(l=>l.shape.id!==e)),t.canvas.remove(n.shape)}function WS(e){switch(e.type){case"create":{const t=Bd(e.doodle);Iv(t);break}case"remove":{Nv(e.doodle.id);break}case"update":{const t=Vd(e.shapeId);if(!t)return;for(const n of e.changes)Fv(t.shape,n.field,n.newValue);break}}}function YS(e){switch(e.type){case"create":{Nv(e.doodle.id);break}case"remove":{const t=Bd(e.doodle);Iv(t);break}case"update":{const t=Vd(e.shapeId);if(!t)return;for(const n of e.changes)Fv(t.shape,n.field,n.oldValue);break}}}function xc(e){Br.getState().push(e)}function Hd(){const{undoStack:e}=Br.getState();if(e.length===0)return;const t=e[e.length-1];Br.setState(n=>({undoStack:n.undoStack.slice(0,-1),redoStack:[...n.redoStack,t]})),Lv(),YS(t),He().throttledTwoUpdate()}function Wd(){const{redoStack:e}=Br.getState();if(e.length===0)return;const t=e[e.length-1];Br.setState(n=>({redoStack:n.redoStack.slice(0,-1),undoStack:[...n.undoStack,t]})),Lv(),WS(t),He().throttledTwoUpdate()}function Ro(e,t){xc({type:"create",label:e,doodle:zd(t)})}function XS(e,t){xc({type:"remove",label:e,doodle:zd(t)})}const ui=br()(tc(e=>({strokeWidth:5,tolerance:30,stabilizer:1,strokeColor:{r:33,g:33,b:33,a:1},simplifyAlgo:"triangle",setStrokeColor:t=>e(()=>({strokeColor:t})),setStrokeWidth:t=>e(()=>({strokeWidth:t})),setTolerance:t=>e(()=>({tolerance:t})),setStabilizer:t=>e(()=>({stabilizer:t})),setSimplifyAlgo:t=>e(()=>({simplifyAlgo:t}))}),{name:"brush-tool",version:1}));let cd=new Pe,Ss,lt;function KS(e){const t=He(),{strokeWidth:n,strokeColor:i}=ui.getState(),o=at(i).toRgbString(),l=t.zui.clientToSurface(Vr(e));cd.set(l.x,l.y),lt=void 0,(i==null?void 0:i.a)===1&&(Ss=t.two.makeCircle(l.x,l.y,n/2),Ss.fill=o,Ss.noStroke(),t.canvas.add(Ss)),t.throttledTwoUpdate()}function qS(e){const t=He(),{strokeColor:n,strokeWidth:i,stabilizer:o}=ui.getState(),l=at(n).toRgbString(),a=No(e,t.zui);if(lt){let c=!1;if(lt.vertices.length){const h=lt.vertices[lt.vertices.length-1];Ee.Vector.distanceBetween(h,a)<o&&(c=!0)}c||lt.vertices.push(Ou(a))}else{lt=t.two.makeCurve([Ou(cd),Ou(a)],!0),lt.cap="round",lt.noFill().stroke=l,lt.linewidth=i;for(const c of lt.vertices)c.addSelf(lt.position);lt.position.clear(),t.addDoodle({shape:lt,type:"brush"})}cd.set(a.x,a.y),t.throttledTwoUpdate()}function GS(e){const t=He(),{tolerance:n,simplifyAlgo:i}=ui.getState();if(!lt)return;Ss&&(t.canvas.remove(Ss),Ss=void 0);const o=t.zui.clientToSurface(Vr(e));if(lt.vertices.push(Ou(o)),QS(lt),n!==0)if(i==="douglas"){const l=n/100,a=TS(lt.vertices,l);lt.vertices=a}else{const l=Math.floor((100-n)*lt.vertices.length/100),a=SS(ES(i),lt.vertices,l);lt.vertices=a}t.throttledTwoUpdate(),Ro("Draw brush stroke",{shape:lt,type:"brush"})}function QS(e){const t=e.vertices[0].clone();e.translation.add(t);for(const n of e.vertices)n.subSelf(t)}function Ou({x:e,y:t}){var n=new Ee.Anchor(e,t);return n}let Lu=new Ee.Vector;function M0(e){Lu.set(e.clientX,e.clientY)}function ZS(e){var t=e.clientX-Lu.x,n=e.clientY-Lu.y;Lu.set(e.clientX,e.clientY),jv(t,n)}function jv(e,t){const n=He();n.zui.translateSurface(e,t),n.throttledTwoUpdate()}function Dv(e){const t=He(),{doodles:n}=tn.getState(),{clearHighlight:i}=Rn.getState(),o=Vr(e);for(const l of n){const a=l.shape.getBoundingClientRect(!1);if(Ud(o.x,o.y,a.left,a.top,a.right,a.bottom)){XS("Delete shape",l),t.removeDoodle(l),i(),t.throttledTwoUpdate();return}}}const Ui=br()(e=>({shape:void 0,origin:new Pe,strokeWidth:2,radius:0,strokeColor:{r:0,g:0,b:0,a:1},fillColor:{r:255,g:255,b:255,a:1},setShape:t=>e(()=>({shape:t})),setStrokeColor:t=>e(()=>({strokeColor:t})),setFillColor:t=>e(()=>({fillColor:t})),setStrokeWidth:t=>e(()=>({strokeWidth:t})),setRadius:t=>e(()=>({radius:t}))}));function JS(e){const t=He(),{setShape:n,origin:i,fillColor:o,strokeColor:l,strokeWidth:a,radius:c}=Ui.getState(),h=t.zui.clientToSurface(Vr(e));i.set(h.x,h.y);const d=t.two.makeRoundedRectangle(h.x,h.y,1,1,c);d.stroke=at(l).toRgbString(),d.fill=at(o).toRgbString(),a?d.linewidth=a:d.noStroke(),t.addDoodle({shape:d,type:"rect"}),n(d),t.throttledTwoUpdate()}function eE(e){const t=He(),{shape:n,origin:i}=Ui.getState(),o=No(e,t.zui);if(n){const l=n.width,a=n.height;n.width=o.x-i.x,n.height=o.y-i.y;const c={x:(n.width-l)/2,y:(n.height-a)/2};n.position.x+=c.x,n.position.y+=c.y,t.throttledTwoUpdate()}}function tE(){const{shape:e,setShape:t}=Ui.getState();e&&Ro("Draw rectangle",{shape:e,type:"rect"}),t(void 0)}const $i=br()(tc(e=>({line:void 0,arrowHead:void 0,arrowTail:void 0,origin:new Pe,strokeWidth:3,strokeColor:{r:33,g:33,b:33,a:1},hasArrow:!1,doubleArrow:!1,setLine:t=>e(()=>({line:t})),setArrowHead:t=>e(()=>({arrowHead:t})),setArrowTail:t=>e(()=>({arrowTail:t})),setStrokeWidth:t=>e(()=>({strokeWidth:t})),setStrokeColor:t=>e(()=>({strokeColor:t})),setHasArrow:t=>e(()=>({hasArrow:t})),setDoubleArrow:t=>e(()=>({doubleArrow:t}))}),{name:"line-tool",version:1,partialize:e=>({strokeWidth:e.strokeWidth,strokeColor:e.strokeColor})}));function nE(e){const t=He(),{setLine:n,setArrowHead:i,setArrowTail:o,origin:l,strokeColor:a,strokeWidth:c,hasArrow:h,doubleArrow:d}=$i.getState(),g=t.zui.clientToSurface(Vr(e));l.set(g.x,g.y);const m=at(a).toRgbString(),v=new Ee.Anchor(g.x,g.y),_=new Ee.Anchor(g.x,g.y),w=new kr([v,_],!1,!1);w.cap="round",w.noFill().stroke=m,w.linewidth=c;const k=h?"arrow":"line";if(t.addDoodle({shape:w,type:k}),n(w),h){const S=P0(g,g,c,m);if(t.addDoodle({shape:S,type:"arrow"}),i(S),d){const b=P0(g,g,c,m);t.addDoodle({shape:b,type:"arrow"}),o(b)}}t.throttledTwoUpdate()}function rE(e){const t=He(),{line:n,arrowHead:i,arrowTail:o,hasArrow:l,strokeWidth:a}=$i.getState();if(!n)return;const c=No(e,t.zui),h=n.vertices[0],d=n.vertices[1];d.x=c.x,d.y=c.y,l&&i&&A0(i,h,c,a),l&&o&&A0(o,c,h,a),t.throttledTwoUpdate()}function iE(){const{line:e,arrowHead:t,arrowTail:n,hasArrow:i,setLine:o,setArrowHead:l,setArrowTail:a}=$i.getState();e&&Ro(i?"Draw arrow":"Draw line",{shape:e,type:i?"arrow":"line"}),i&&t&&Ro("Draw arrowhead",{shape:t,type:"arrow"}),i&&n&&Ro("Draw arrowhead",{shape:n,type:"arrow"}),o(void 0),l(void 0),a(void 0)}function P0(e,t,n,i){const o=Math.max(n*3,10),l=Math.atan2(t.y-e.y,t.x-e.x),a=new Ee.Anchor(t.x,t.y),c=new Ee.Anchor(t.x-o*Math.cos(l-Math.PI/6),t.y-o*Math.sin(l-Math.PI/6)),h=new Ee.Anchor(t.x-o*Math.cos(l+Math.PI/6),t.y-o*Math.sin(l+Math.PI/6)),d=new kr([a,c,h],!1,!1);return d.closed=!0,d.fill=i,d.noStroke(),d}function A0(e,t,n,i){const o=Math.max(i*3,10),l=Math.atan2(n.y-t.y,n.x-t.x),a=e.vertices[0],c=e.vertices[1],h=e.vertices[2];a.x=n.x,a.y=n.y,c.x=n.x-o*Math.cos(l-Math.PI/6),c.y=n.y-o*Math.sin(l-Math.PI/6),h.x=n.x-o*Math.cos(l+Math.PI/6),h.y=n.y-o*Math.sin(l+Math.PI/6)}const Il=br()(tc(e=>({fontSize:24,fontFamily:"sans-serif",fillColor:{r:33,g:33,b:33,a:1},alignment:"left",setFontSize:t=>e(()=>({fontSize:t})),setFontFamily:t=>e(()=>({fontFamily:t})),setFillColor:t=>e(()=>({fillColor:t})),setAlignment:t=>e(()=>({alignment:t}))}),{name:"text-tool",version:1}));let Nh;function sE(e){if(Nh)return;e.preventDefault();const t=He(),{fontSize:n,fontFamily:i,fillColor:o,alignment:l}=Il.getState(),a=t.zui.clientToSurface(Vr(e)),c=t.zui.scale,h=at(o).toRgbString(),d=document.createElement("div");d.contentEditable="true",d.style.position="fixed",d.style.left=`${e.clientX}px`,d.style.top=`${e.clientY}px`,d.style.fontSize=`${n*c}px`,d.style.fontFamily=i,d.style.color=h,d.style.textAlign=l,d.style.background="transparent",d.style.border="1px dashed #0ea5cf",d.style.outline="none",d.style.minWidth="60px",d.style.minHeight=`${n*c+8}px`,d.style.lineHeight="1.2",d.style.zIndex="10000",d.style.whiteSpace="pre-wrap",d.style.cursor="text",Nh=d,document.body.appendChild(d),d.addEventListener("mousedown",v=>v.stopPropagation()),requestAnimationFrame(()=>d.focus());function g(){const v=(d.innerText||"").trim();if(v){const _=new Zu(v,a.x,a.y+n/2);_.fill=h,_.noStroke(),_.family=i,_.size=n,_.alignment=l,t.addDoodle({shape:_,type:"text"}),Ro("Add text",{shape:_,type:"text"}),t.throttledTwoUpdate()}m()}function m(){d.parentNode&&d.parentNode.removeChild(d),Nh=void 0}d.addEventListener("blur",()=>{g()}),d.addEventListener("keydown",v=>{v.key==="Enter"&&!v.shiftKey&&(v.preventDefault(),d.blur()),v.key==="Escape"&&(v.preventDefault(),m()),v.stopPropagation()})}const wc=br()(e=>({zoom:100,setZoom:t=>e(n=>({...n,zoom:t})),initialDistance:void 0,setInitialDistance:t=>e(n=>({...n,initialDistance:t}))}));function fd(e,t){const n=He(),{setZoom:i}=wc.getState();var o=t/100;n.zui.zoomBy(o,e.clientX,e.clientY),i(Math.floor(n.zui.scale*100));const{outlines:l}=Rn.getState();for(const a of Object.values(l))a&&(a.linewidth=1.5/n.zui.scale);n.throttledTwoUpdate()}function oE(){const e=He(),{setZoom:t}=wc.getState();e.zui.reset(),e.zui.translateSurface(0,0),t(100),e.two.update(),e.throttledTwoUpdate()}const hd=br()(e=>({path:void 0,preview:void 0,anchors:[],strokeWidth:5,strokeColor:{r:33,g:33,b:33,a:1},setStrokeColor:t=>e(()=>({strokeColor:t})),setPath:t=>e(()=>({path:t})),setPreview:t=>e(()=>({preview:t})),setAnchors:t=>e(()=>({anchors:t})),setStrokeWidth:t=>e(()=>({strokeWidth:t}))}));function lE(e){const t=He(),{setAnchors:n,setPath:i,strokeColor:o,strokeWidth:l,anchors:a,setPreview:c}=hd.getState(),h=at(o).toRgbString(),d=t.zui.clientToSurface(Vr(e)),g=new Ee.Anchor(d.x,d.y),m=[...a,g];n(m);let v=hd.getState().path;if(v)v.vertices.push(g),v.vertices.push(g);else{const _=new kr([g],!1,!0);_.cap="round",_.noFill().stroke=h,_.linewidth=l,i(_),v=_,t.canvas.add(_);const w=new kr([g.clone(),g.clone()],!1,!0);w.cap="round",w.noFill().stroke=uS,w.linewidth=1,c(w),t.canvas.add(w)}t.throttledTwoUpdate()}function aE(e){const{preview:t,path:n}=hd.getState(),i=He();if(n!=null&&n.vertices.length){const o=n.vertices[n.vertices.length-1],l=i.zui.clientToSurface(Vr(e)),a=t==null?void 0:t.vertices[1];let c=t==null?void 0:t.vertices[0];a.x=o.x,a.y=o.y,c.x=l.x,c.y=l.y,i.throttledTwoUpdate()}}function uE(){He().throttledTwoUpdate()}function zv(e){const{selectedTool:t,setActiveTool:n,setRestoreTool:i,setSelectedTool:o}=wt.getState();if(e.button===Cv.Middle){i(t),n("hand"),o("hand"),M0(e);return}if(n(t||"hand"),t==="hand"){M0(e);return}if(t==="pointer"){US(e);return}if(t==="eraser"){Dv(e);return}if(t==="brush"){KS(e);return}if(t==="bezier"){lE(e);return}if(t==="square"){JS(e);return}if(t==="line"||t==="arrow"){$i.getState().setHasArrow(t==="arrow"),nE(e);return}if(t==="text"){sE(e);return}if(t==="zoom"){e.shiftKey?fd(e,-30):fd(e,30);return}}const cE=Y_(e=>{var o;if(!((o=tn.getState().doodler)!=null&&o.two)||!e.currentTarget)return;const t=He(),n=No(e,t==null?void 0:t.zui),{setCursor:i}=tn.getState();i(n)},16);function Bv(e){const{activeTool:t,selectedTool:n}=wt.getState();if(cE(e),n==="eraser"&&t!=="eraser"&&Ov(e),n==="pointer"){$S(e);return}if(n==="bezier"){aE(e);return}if(t==="hand"){ZS(e);return}if(t==="eraser"){Dv(e);return}if(t==="brush"){qS(e);return}if(t==="square"){eE(e);return}if(t==="line"||t==="arrow"){rE(e);return}}function Uv(e){const{activeTool:t,setActiveTool:n,restoreTool:i,setRestoreTool:o,setSelectedTool:l}=wt.getState();if(t){if(i&&(l(i),o(void 0)),(t==="hand"||t==="eraser")&&n(void 0),t==="pointer"){VS(),n(void 0);return}if(t==="brush"){GS(e),n(void 0);return}if(t==="bezier"){uE(),n(void 0);return}if(t==="square"){tE(),n(void 0);return}if(t==="line"||t==="arrow"){iE(),n(void 0);return}}}function fE(e){const{setCursor:t}=tn.getState();wt.getState(),t(void 0)}function hE(e){}function dE(e){e.preventDefault(),e.ctrlKey||e.metaKey||e.altKey?fd(e,-e.deltaY):jv(-e.deltaX,-e.deltaY)}function pE(e){e.touches.length===1&&zv($d(e))}function gE(e){e.touches.length===1&&Bv($d(e))}function mE(e){Uv($d(e))}function yE(){const{container:e}=tn.getState(),t=He();!t.two||!e||((e.clientWidth!==t.two.width||e.clientHeight!==t.two.height)&&(t.two.width=e.clientWidth,t.two.height=e.clientHeight),t==null||t.throttledTwoUpdate())}function _E(e){const t=e.target;if(!(t.tagName==="INPUT"||t.tagName==="TEXTAREA")){if((e.ctrlKey||e.metaKey)&&e.shiftKey&&(e.key==="Z"||e.key==="z")){e.preventDefault(),Wd();return}if((e.ctrlKey||e.metaKey)&&e.key==="z"){e.preventDefault(),Hd();return}}}function vE(){}const Un={doMouseWheel:dE,doMouseDown:zv,doMouseMove:Bv,doMouseUp:Uv,doMouseOut:fE,doMouseOver:hE,doTouchStart:pE,doTouchMove:gE,doTouchEnd:mE,doWindowResize:yE,doUpdate:vE,doKeyDown:_E};class O0{constructor(t){this.object=t}limits(t,n){const i=typeof t<"u",o=typeof n<"u";return!o&&!i?{min:this.min,max:this.max}:(this.min=i?t:this.min,this.max=o?n:this.max,this)}apply(t,n,i){return this.object.translation.set(t,n),this.object.scale=i,this}}const yr=class yr{constructor(t,n){this.limits={scale:yr.Limit.clone(),x:yr.Limit.clone(),y:yr.Limit.clone()},this.viewport=n||document.body,this.viewportOffset={top:0,left:0,matrix:new Ls},this.surfaceMatrix=new Ls,this.surfaces=[],this.reset(),this.updateSurface(),this.add(new O0(t))}static Clamp(t,n,i){return Math.min(Math.max(t,n),i)}static TranslateMatrix(t,n,i){return t.elements[2]+=n,t.elements[5]+=i,t}static PositionToScale(t){return Math.exp(t)}static ScaleToPosition(t){return Math.log(t)}add(t){this.surfaces.push(t);const n=t.limits();return this.addLimits(n.min,n.max),this}addLimits(t,n){return typeof t<"u"&&(this.limits.scale.min?this.limits.scale.min=Math.max(t,this.limits.scale.min):this.limits.scale.min=t),typeof n>"u"?this:(this.limits.scale.max?this.limits.scale.max=Math.min(n,this.limits.scale.max):this.limits.scale.max=n,this)}clientToSurface(t,n,i){this.updateOffset();const o=this.surfaceMatrix.inverse();let l,a,c;if(arguments.length===1){const g=t;l=typeof g.x=="number"?g.x:0,a=typeof g.y=="number"?g.y:0,c=typeof g.z=="number"?g.z:1}else l=typeof t=="number"?t:0,a=typeof n=="number"?n:0,c=typeof i=="number"?i:1;const h=this.viewportOffset.matrix.inverse().multiply(l,a,c),d=o.multiply(h[0],h[1],h[2]);return{x:d[0],y:d[1],z:d[2]}}surfaceToClient(t,n,i){this.updateOffset();const o=this.viewportOffset.matrix.clone();let l,a,c;if(arguments.length===1){const g=t;l=typeof g.x=="number"?g.x:0,a=typeof g.y=="number"?g.y:0,c=typeof g.z=="number"?g.z:1}else l=typeof t=="number"?t:0,a=typeof n=="number"?n:0,c=typeof i=="number"?i:1;const h=this.surfaceMatrix.multiply(l,a,c),d=o.multiply(h[0],h[1],h[2]);return{x:d[0],y:d[1],z:d[2]}}zoomBy(t,n,i){const o=yr.PositionToScale(this.zoom+t);return this.zoomSet(o,n,i),this}zoomSet(t,n,i){const o=this.fitToLimits(t);if(this.zoom=yr.ScaleToPosition(o),o===this.scale)return this;const l=this.clientToSurface(n,i),a=o/this.scale;this.surfaceMatrix.scale(a),this.scale=o;const c=this.surfaceToClient(l),h=n-c.x,d=i-c.y;return this.translateSurface(h,d),this}translateSurface(t,n){return yr.TranslateMatrix(this.surfaceMatrix,t,n),this.updateSurface(),this}updateOffset(){const t=this.viewport.getBoundingClientRect();return this.viewportOffset.left=t.left-document.body.scrollLeft,this.viewportOffset.top=t.top-document.body.scrollTop,this.viewportOffset.matrix.identity().translate(this.viewportOffset.left,this.viewportOffset.top),this}updateSurface(){const t=this.surfaceMatrix.elements;for(let n=0;n<this.surfaces.length;n++)this.surfaces[n].apply(t[2],t[5],t[0]);return this}reset(){return this.zoom=0,this.scale=1,this.surfaceMatrix.identity(),this}fitToLimits(t){return yr.Clamp(t,this.limits.scale.min,this.limits.scale.max)}};U(yr,"Surface",O0),U(yr,"Limit",{min:-1/0,max:1/0,clone:function(){const t={};for(let n in this)t[n]=this[n];return t}});let dd=yr;const xE=(e,t,n)=>{E.useEffect(()=>{const{setContainer:i,setDoodler:o}=tn.getState();if(!e.current)return;const l=wE(e.current),a=kE(l),c=bE(a),h=new lS({two:l,canvas:a,zui:c,sketchId:t,container:e.current});o(h),i(e.current),aS(h),h.loadDoodles().finally(()=>n==null?void 0:n());const d=e.current;d.addEventListener("wheel",Un.doMouseWheel,{passive:!1});const g=cS(Un.doWindowResize,250);return window.addEventListener("resize",g),window.addEventListener("keydown",Un.doKeyDown),()=>{window.removeEventListener("resize",g),window.removeEventListener("keydown",Un.doKeyDown),d.removeEventListener("wheel",Un.doMouseWheel),d.firstChild&&d.removeChild(d.firstChild),l.remove();const{setDoodles:m}=tn.getState();m([]),Br.getState().clear()}},[e,n,t])},wE=e=>new Ee({autostart:!1,fitted:!0,width:e.clientWidth,height:e.clientHeight,type:Ee.Types.svg}).appendTo(e),kE=e=>{const t=new Ee.Group;return e.add(t),t},bE=e=>{const t=new dd(e);return t.addLimits(.05,100),t},SE=({sketchId:e,onReady:t})=>{const n=E.useRef(null),i=wt(h=>h.selectedTool),o=wt(h=>h.activeTool),l=wt(h=>h.toolOption),a=wt(h=>h.canvasColor),c=at(a).toHex();return xE(n,e,t),A.jsx("div",{style:{backgroundColor:c||"black"},className:"canvas-container flex-grow overflow-hidden",tabIndex:0,ref:n,"data-selected":i,"data-active":o,"data-option":l,onMouseDown:h=>Un.doMouseDown(h),onMouseMove:h=>Un.doMouseMove(h),onMouseUp:h=>Un.doMouseUp(h),onMouseOut:h=>Un.doMouseOut(h),onMouseOver:h=>Un.doMouseOver(h),onTouchStart:h=>Un.doTouchStart(h),onTouchMove:h=>Un.doTouchMove(h),onTouchEnd:h=>Un.doTouchEnd(h)})},EE=()=>{const e=tn(n=>n.cursor),t=wc(n=>n.zoom);if(e){const n=Math.floor(e.x),i=Math.floor(e.y);return A.jsxs("div",{className:"flex justify-end py-1 px-4 text-xs gap-4",children:[A.jsxs("div",{children:[n,":",i]}),A.jsxs("div",{className:"w-24",children:[t,"%"]})]})}return null},CE=()=>{const e=tn(i=>i.doodles),t=Rn(i=>i.selected),n=E.useMemo(()=>t.map(i=>i.id),[t]);return A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"pb-1 pt-4",children:"Layers"}),A.jsx("div",{className:"h-64 overflow-y-auto scroll-smooth shadow rounded bg-default-3",children:A.jsx("div",{className:"flex flex-col  text-sm",children:e.map(i=>A.jsx(RE,{doodle:i,isSelected:n.includes(i.shape.id)},i.shape.id))})})]})},RE=({doodle:e,isSelected:t})=>A.jsxs("button",{type:"button",className:`flex items-center hover:bg-default-4 text-left ${t?"bg-secondary":""}`,children:[A.jsx("div",{className:"w-8 h-8 flex flex-center text-default-6",children:A.jsx(TE,{type:e.type})}),A.jsx("div",{className:"flex-grow",children:e.type})]}),TE=({type:e})=>{switch(e){case"brush":return A.jsx(o_,{stroke:1,size:16});case"circle":case"ellipse":return A.jsx(gw,{stroke:1,size:16});case"rect":return A.jsx(Ew,{stroke:1,size:16});case"line":return A.jsx(Rd,{stroke:1,size:16});case"arrow":return A.jsx(r_,{stroke:1,size:16});case"text":return A.jsx(Cd,{stroke:1,size:16});default:return A.jsx(vw,{stroke:1,size:16})}},Vi=E.forwardRef((e,t)=>{const{className:n,...i}=e;return A.jsx("button",{type:"button",className:`p-1 rounded hover:bg-default-3 ${n||""}`,ref:t,...i,children:e.children})});Vi.displayName="Button";const $v=({children:e})=>A.jsx("div",{className:"flex  border border-default-4 rounded overflow-hidden",children:e}),Nl=e=>{const{isSelected:t,children:n,...i}=e,o=!!t;return A.jsx("button",{type:"button",className:`p-1 hover:bg-default-4 ${o?"bg-default-3":""}`,"aria-pressed":o,...i,children:n})},ME=()=>{const e=Br(o=>o.undoStack),t=Br(o=>o.redoStack),n=e.length>0,i=t.length>0;return A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"pb-1 pt-4 flex items-center justify-between",children:[A.jsx("span",{children:"History"}),A.jsxs("div",{className:"flex gap-1",children:[A.jsx(Vi,{onClick:Hd,disabled:!n,title:"Undo (Ctrl+Z)",children:A.jsx(t_,{size:16,stroke:1})}),A.jsx(Vi,{onClick:Wd,disabled:!i,title:"Redo (Ctrl+Shift+Z)",children:A.jsx(n_,{size:16,stroke:1})})]})]}),A.jsx("div",{className:"h-40 overflow-y-auto scroll-smooth shadow rounded bg-default-3",children:A.jsxs("div",{className:"flex flex-col text-sm",children:[[...t].reverse().map((o,l)=>A.jsx(jh,{command:o,variant:"future"},`redo-${l}`)),e.length>0&&A.jsx(jh,{command:e[e.length-1],variant:"current"},"current"),[...e].slice(0,-1).reverse().map((o,l)=>A.jsx(jh,{command:o,variant:"past"},`undo-${l}`))]})})]})},jh=({command:e,variant:t})=>A.jsx("div",{className:`px-2 py-0.5 text-xs ${t==="current"?"bg-secondary":t==="future"?"opacity-40":"opacity-70"}`,children:e.label});function kc(){return(kc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function Vv(e,t){if(e==null)return{};var n,i,o={},l=Object.keys(e);for(i=0;i<l.length;i++)t.indexOf(n=l[i])>=0||(o[n]=e[n]);return o}function pd(e){var t=E.useRef(e),n=E.useRef(function(i){t.current&&t.current(i)});return t.current=e,n.current}var Lo=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=1),e>n?n:e<t?t:e},Bl=function(e){return"touches"in e},gd=function(e){return e&&e.ownerDocument.defaultView||self},L0=function(e,t,n){var i=e.getBoundingClientRect(),o=Bl(t)?function(l,a){for(var c=0;c<l.length;c++)if(l[c].identifier===a)return l[c];return l[0]}(t.touches,n):t;return{left:Lo((o.pageX-(i.left+gd(e).pageXOffset))/i.width),top:Lo((o.pageY-(i.top+gd(e).pageYOffset))/i.height)}},F0=function(e){!Bl(e)&&e.preventDefault()},Yd=rt.memo(function(e){var t=e.onMove,n=e.onKey,i=Vv(e,["onMove","onKey"]),o=E.useRef(null),l=pd(t),a=pd(n),c=E.useRef(null),h=E.useRef(!1),d=E.useMemo(function(){var _=function(S){F0(S),(Bl(S)?S.touches.length>0:S.buttons>0)&&o.current?l(L0(o.current,S,c.current)):k(!1)},w=function(){return k(!1)};function k(S){var b=h.current,x=gd(o.current),R=S?x.addEventListener:x.removeEventListener;R(b?"touchmove":"mousemove",_),R(b?"touchend":"mouseup",w)}return[function(S){var b=S.nativeEvent,x=o.current;if(x&&(F0(b),!function(M,P){return P&&!Bl(M)}(b,h.current)&&x)){if(Bl(b)){h.current=!0;var R=b.changedTouches||[];R.length&&(c.current=R[0].identifier)}x.focus(),l(L0(x,b,c.current)),k(!0)}},function(S){var b=S.which||S.keyCode;b<37||b>40||(S.preventDefault(),a({left:b===39?.05:b===37?-.05:0,top:b===40?.05:b===38?-.05:0}))},k]},[a,l]),g=d[0],m=d[1],v=d[2];return E.useEffect(function(){return v},[v]),rt.createElement("div",kc({},i,{onTouchStart:g,onMouseDown:g,className:"react-colorful__interactive",ref:o,onKeyDown:m,tabIndex:0,role:"slider"}))}),bc=function(e){return e.filter(Boolean).join(" ")},Xd=function(e){var t=e.color,n=e.left,i=e.top,o=i===void 0?.5:i,l=bc(["react-colorful__pointer",e.className]);return rt.createElement("div",{className:l,style:{top:100*o+"%",left:100*n+"%"}},rt.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},cn=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=Math.pow(10,t)),Math.round(n*e)/n},Hv=function(e){var t=e.s,n=e.v,i=e.a,o=(200-t)*n/100;return{h:cn(e.h),s:cn(o>0&&o<200?t*n/100/(o<=100?o:200-o)*100:0),l:cn(o/2),a:cn(i,2)}},md=function(e){var t=Hv(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},Dh=function(e){var t=Hv(e);return"hsla("+t.h+", "+t.s+"%, "+t.l+"%, "+t.a+")"},PE=function(e){var t=e.h,n=e.s,i=e.v,o=e.a;t=t/360*6,n/=100,i/=100;var l=Math.floor(t),a=i*(1-n),c=i*(1-(t-l)*n),h=i*(1-(1-t+l)*n),d=l%6;return{r:cn(255*[i,c,a,a,h,i][d]),g:cn(255*[h,i,i,c,a,a][d]),b:cn(255*[a,a,h,i,i,c][d]),a:cn(o,2)}},AE=function(e){var t=e.r,n=e.g,i=e.b,o=e.a,l=Math.max(t,n,i),a=l-Math.min(t,n,i),c=a?l===t?(n-i)/a:l===n?2+(i-t)/a:4+(t-n)/a:0;return{h:cn(60*(c<0?c+6:c)),s:cn(l?a/l*100:0),v:cn(l/255*100),a:o}},OE=rt.memo(function(e){var t=e.hue,n=e.onChange,i=bc(["react-colorful__hue",e.className]);return rt.createElement("div",{className:i},rt.createElement(Yd,{onMove:function(o){n({h:360*o.left})},onKey:function(o){n({h:Lo(t+360*o.left,0,360)})},"aria-label":"Hue","aria-valuenow":cn(t),"aria-valuemax":"360","aria-valuemin":"0"},rt.createElement(Xd,{className:"react-colorful__hue-pointer",left:t/360,color:md({h:t,s:100,v:100,a:1})})))}),LE=rt.memo(function(e){var t=e.hsva,n=e.onChange,i={backgroundColor:md({h:t.h,s:100,v:100,a:1})};return rt.createElement("div",{className:"react-colorful__saturation",style:i},rt.createElement(Yd,{onMove:function(o){n({s:100*o.left,v:100-100*o.top})},onKey:function(o){n({s:Lo(t.s+100*o.left,0,100),v:Lo(t.v-100*o.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+cn(t.s)+"%, Brightness "+cn(t.v)+"%"},rt.createElement(Xd,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:md(t)})))}),Wv=function(e,t){if(e===t)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0};function FE(e,t,n){var i=pd(n),o=E.useState(function(){return e.toHsva(t)}),l=o[0],a=o[1],c=E.useRef({color:t,hsva:l});E.useEffect(function(){if(!e.equal(t,c.current.color)){var d=e.toHsva(t);c.current={hsva:d,color:t},a(d)}},[t,e]),E.useEffect(function(){var d;Wv(l,c.current.hsva)||e.equal(d=e.fromHsva(l),c.current.color)||(c.current={hsva:l,color:d},i(d))},[l,e,i]);var h=E.useCallback(function(d){a(function(g){return Object.assign({},g,d)})},[]);return[l,h]}var IE=typeof window<"u"?E.useLayoutEffect:E.useEffect,NE=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},I0=new Map,jE=function(e){IE(function(){var t=e.current?e.current.ownerDocument:document;if(t!==void 0&&!I0.has(t)){var n=t.createElement("style");n.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,I0.set(t,n);var i=NE();i&&n.setAttribute("nonce",i),t.head.appendChild(n)}},[])},DE=function(e){var t=e.className,n=e.hsva,i=e.onChange,o={backgroundImage:"linear-gradient(90deg, "+Dh(Object.assign({},n,{a:0}))+", "+Dh(Object.assign({},n,{a:1}))+")"},l=bc(["react-colorful__alpha",t]),a=cn(100*n.a);return rt.createElement("div",{className:l},rt.createElement("div",{className:"react-colorful__alpha-gradient",style:o}),rt.createElement(Yd,{onMove:function(c){i({a:c.left})},onKey:function(c){i({a:Lo(n.a+c.left)})},"aria-label":"Alpha","aria-valuetext":a+"%","aria-valuenow":a,"aria-valuemin":"0","aria-valuemax":"100"},rt.createElement(Xd,{className:"react-colorful__alpha-pointer",left:n.a,color:Dh(n)})))},zE=function(e){var t=e.className,n=e.colorModel,i=e.color,o=i===void 0?n.defaultColor:i,l=e.onChange,a=Vv(e,["className","colorModel","color","onChange"]),c=E.useRef(null);jE(c);var h=FE(n,o,l),d=h[0],g=h[1],m=bc(["react-colorful",t]);return rt.createElement("div",kc({},a,{ref:c,className:m}),rt.createElement(LE,{hsva:d,onChange:g}),rt.createElement(OE,{hue:d.h,onChange:g}),rt.createElement(DE,{hsva:d,onChange:g,className:"react-colorful__last-control"}))},BE={defaultColor:{r:0,g:0,b:0,a:1},toHsva:AE,fromHsva:PE,equal:Wv},UE=function(e){return rt.createElement(zE,kc({},e,{colorModel:BE}))};function $E({initialOpen:e=!1,placement:t="top",modal:n,open:i,onOpenChange:o,initialOffset:l=5}={}){const[a,c]=E.useState(e),[h,d]=E.useState(),[g,m]=E.useState(),v=i??a,_=o??c,w=U_({placement:t,open:v,onOpenChange:_,whileElementsMounted:R_,middleware:[M_(l),A_({crossAxis:t.includes("-"),fallbackAxisSideDirection:"end",padding:5}),P_({padding:5})]}),k=w.context,S=ck(k,{enabled:i==null}),b=B_(k),x=V_(k),R=$_([S,b,x]);return E.useMemo(()=>({open:v,setOpen:_,...R,...w,modal:n,labelId:h,descriptionId:g,setLabelId:d,setDescriptionId:m}),[v,_,R,w,n,h,g])}const Yv=E.createContext(null),Jl=()=>{const e=E.useContext(Yv);if(e==null)throw new Error("Popover components must be wrapped in <Popover />");return e};function Kd({children:e,modal:t=!1,...n}){const i=$E({modal:t,...n});return A.jsx(Yv.Provider,{value:i,children:e})}const qd=E.forwardRef(function({children:t,asChild:n=!1,...i},o){const l=Jl(),a=t.ref,c=uc([l.refs.setReference,o,a]);return n&&E.isValidElement(t)?E.cloneElement(t,l.getReferenceProps({ref:c,...i,...t.props,"data-state":l.open?"open":"closed"})):A.jsx("button",{ref:c,type:"button","data-state":l.open?"open":"closed",...l.getReferenceProps(i),children:t})}),Gd=E.forwardRef(function({style:t,...n},i){const{context:o,...l}=Jl(),a=uc([l.refs.setFloating,i]);return o.open?A.jsx(D_,{children:A.jsx(uk,{context:o,modal:l.modal,children:A.jsx("div",{ref:a,style:{...l.floatingStyles,...t},"aria-labelledby":l.labelId,"aria-describedby":l.descriptionId,...l.getFloatingProps(n),children:n.children})})}):null});E.forwardRef(function(t,n){const{setLabelId:i}=Jl(),o=ql();return E.useLayoutEffect(()=>(i(o),()=>i(void 0)),[o,i]),A.jsx("h2",{...t,ref:n,id:o,children:t.children})});E.forwardRef(function(t,n){const{setDescriptionId:i}=Jl(),o=ql();return E.useLayoutEffect(()=>(i(o),()=>i(void 0)),[o,i]),A.jsx("p",{...t,ref:n,id:o})});E.forwardRef(function(t,n){const{setOpen:i}=Jl();return A.jsx("button",{type:"button",ref:n,...t,onClick:o=>{var l;(l=t.onClick)==null||l.call(t,o),i(!1)}})});const VE=({value:e,onChange:t})=>{const n={r:0,g:0,b:0,a:1},[i,o]=E.useState(e||n),[l,a]=E.useState(""),[c,h]=E.useState(""),d=Bh(c),g=zh(i);E.useEffect(()=>{e&&(h(`${Math.round((e.a||0)*100)}`),a(zh(e)),o(e))},[e]);const m=x=>{o(x),i.a&&h(`${Math.floor(i.a*100)}`),t==null||t(x)},v=x=>{x.a>.95&&(x.a=1),o(x),m(x),a(zh(i))},_=x=>{a(x);const R=at(x);if(R.isValid()&&R.toHex()===x){const M=R.toRgb();isNaN(d)||(M.a=d),m(M)}},w=()=>{const x=at(i);x.isEqual(l)||m(x.toRgb())},k=x=>{h(x);const R=Bh(x);x&&!isNaN(R)&&R>=0&&R<=1&&S(R)},S=x=>{const R={...i};R.a=x,m(R)};return{rgbaValue:i,rgbValue:g,alphaValue:c,rgbStrValue:l,doChangePicker:v,doChangeRgbValue:_,doChangeAlpha:k,doChangeAlphaValue:S,doRgbBlur:w,doAlphaBlur:()=>{const x=i.a,R=Bh(c);x!=R&&m({...i})}}};function zh(e){return at({r:e.r,g:e.g,b:e.b}).toHex()}function Bh(e){return Number(e||"1")/100}function Ki(e){"@babel/helpers - typeof";return Ki=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ki(e)}function HE(e,t){if(Ki(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(Ki(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WE(e){var t=HE(e,"string");return Ki(t)=="symbol"?t:t+""}function or(e,t,n){return(t=WE(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function en(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?N0(Object(n),!0).forEach(function(i){or(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N0(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function yd(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function YE(e){if(Array.isArray(e))return yd(e)}function XE(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Xv(e,t){if(e){if(typeof e=="string")return yd(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yd(e,t):void 0}}function KE(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ci(e){return YE(e)||XE(e)||Xv(e)||KE()}function qE(e){if(Array.isArray(e))return e}function GE(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,o,l,a,c=[],h=!0,d=!1;try{if(l=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;h=!1}else for(;!(h=(i=l.call(n)).done)&&(c.push(i.value),c.length!==t);h=!0);}catch(g){d=!0,o=g}finally{try{if(!h&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw o}}return c}}function QE(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zt(e,t){return qE(e)||GE(e,t)||Xv(e,t)||QE()}var Uh={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var j0;function ZE(){return j0||(j0=1,function(e){(function(){var t={}.hasOwnProperty;function n(){for(var l="",a=0;a<arguments.length;a++){var c=arguments[a];c&&(l=o(l,i(c)))}return l}function i(l){if(typeof l=="string"||typeof l=="number")return l;if(typeof l!="object")return"";if(Array.isArray(l))return n.apply(null,l);if(l.toString!==Object.prototype.toString&&!l.toString.toString().includes("[native code]"))return l.toString();var a="";for(var c in l)t.call(l,c)&&l[c]&&(a=o(a,c));return a}function o(l,a){return a?l?l+" "+a:l+a:l}e.exports?(n.default=n,e.exports=n):window.classNames=n})()}(Uh)),Uh.exports}var JE=ZE();const Fs=Z0(JE);function To(e){var t=E.useRef();t.current=e;var n=E.useCallback(function(){for(var i,o=arguments.length,l=new Array(o),a=0;a<o;a++)l[a]=arguments[a];return(i=t.current)===null||i===void 0?void 0:i.call.apply(i,[t].concat(l))},[]);return n}function e3(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var D0=e3()?E.useLayoutEffect:E.useEffect,Kv=function(t,n){var i=E.useRef(!0);D0(function(){return t(i.current)},n),D0(function(){return i.current=!1,function(){i.current=!0}},[])},z0=function(t,n){Kv(function(i){if(!i)return t()},n)};function B0(e){var t=E.useRef(!1),n=E.useState(e),i=zt(n,2),o=i[0],l=i[1];E.useEffect(function(){return t.current=!1,function(){t.current=!0}},[]);function a(c,h){h&&t.current||l(c)}return[o,a]}function $h(e){return e!==void 0}function t3(e,t){var n=t,i=n.defaultValue,o=n.value,l=n.onChange,a=n.postState,c=B0(function(){return $h(o)?o:$h(i)?typeof i=="function"?i():i:typeof e=="function"?e():e}),h=zt(c,2),d=h[0],g=h[1],m=o!==void 0?o:d,v=a?a(m):m,_=To(l),w=B0([m]),k=zt(w,2),S=k[0],b=k[1];z0(function(){var R=S[0];d!==R&&_(d,R)},[S]),z0(function(){$h(o)||g(o)},[o]);var x=To(function(R,M){g(R,M),b([m],M)});return[v,x]}var _d={},n3=function(t){};function r3(e,t){}function i3(e,t){}function s3(){_d={}}function qv(e,t,n){!t&&!_d[n]&&(e(!1,n),_d[n]=!0)}function Fo(e,t){qv(r3,e,t)}function o3(e,t){qv(i3,e,t)}Fo.preMessage=n3;Fo.resetWarned=s3;Fo.noteOnce=o3;function l3(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=new Set;function o(l,a){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,h=i.has(l);if(Fo(!h,"Warning: There may be circular references"),h)return!1;if(l===a)return!0;if(n&&c>1)return!1;i.add(l);var d=c+1;if(Array.isArray(l)){if(!Array.isArray(a)||l.length!==a.length)return!1;for(var g=0;g<l.length;g++)if(!o(l[g],a[g],d))return!1;return!0}if(l&&a&&Ki(l)==="object"&&Ki(a)==="object"){var m=Object.keys(l);return m.length!==Object.keys(a).length?!1:m.every(function(v){return o(l[v],a[v],d)})}return!1}return o(e,t)}function Yl(){return Yl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Yl.apply(null,arguments)}function a3(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.includes(i))continue;n[i]=e[i]}return n}function Gv(e,t){if(e==null)return{};var n,i,o=a3(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)n=l[i],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function vd(e,t,n){return(e-t)/(n-t)}function Qd(e,t,n,i){var o=vd(t,n,i),l={};switch(e){case"rtl":l.right="".concat(o*100,"%"),l.transform="translateX(50%)";break;case"btt":l.bottom="".concat(o*100,"%"),l.transform="translateY(50%)";break;case"ttb":l.top="".concat(o*100,"%"),l.transform="translateY(-50%)";break;default:l.left="".concat(o*100,"%"),l.transform="translateX(-50%)";break}return l}function bs(e,t){return Array.isArray(e)?e[t]:e}var _e={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(t){var n=t.keyCode;if(t.altKey&&!t.ctrlKey||t.metaKey||n>=_e.F1&&n<=_e.F12)return!1;switch(n){case _e.ALT:case _e.CAPS_LOCK:case _e.CONTEXT_MENU:case _e.CTRL:case _e.DOWN:case _e.END:case _e.ESC:case _e.HOME:case _e.INSERT:case _e.LEFT:case _e.MAC_FF_META:case _e.META:case _e.NUMLOCK:case _e.NUM_CENTER:case _e.PAGE_DOWN:case _e.PAGE_UP:case _e.PAUSE:case _e.PRINT_SCREEN:case _e.RIGHT:case _e.SHIFT:case _e.UP:case _e.WIN_KEY:case _e.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(t){if(t>=_e.ZERO&&t<=_e.NINE||t>=_e.NUM_ZERO&&t<=_e.NUM_MULTIPLY||t>=_e.A&&t<=_e.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&t===0)return!0;switch(t){case _e.SPACE:case _e.QUESTION_MARK:case _e.NUM_PLUS:case _e.NUM_MINUS:case _e.NUM_PERIOD:case _e.NUM_DIVISION:case _e.SEMICOLON:case _e.DASH:case _e.EQUALS:case _e.COMMA:case _e.PERIOD:case _e.SLASH:case _e.APOSTROPHE:case _e.SINGLE_QUOTE:case _e.OPEN_SQUARE_BRACKET:case _e.BACKSLASH:case _e.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},Is=E.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}}),u3=E.createContext({}),c3=["prefixCls","value","valueIndex","onStartMove","onDelete","style","render","dragging","draggingDelete","onOffsetChange","onChangeComplete","onFocus","onMouseEnter"],U0=E.forwardRef(function(e,t){var n=e.prefixCls,i=e.value,o=e.valueIndex,l=e.onStartMove,a=e.onDelete,c=e.style,h=e.render,d=e.dragging,g=e.draggingDelete,m=e.onOffsetChange,v=e.onChangeComplete,_=e.onFocus,w=e.onMouseEnter,k=Gv(e,c3),S=E.useContext(Is),b=S.min,x=S.max,R=S.direction,M=S.disabled,P=S.keyboard,I=S.range,j=S.tabIndex,X=S.ariaLabelForHandle,z=S.ariaLabelledByForHandle,W=S.ariaRequired,K=S.ariaValueTextFormatterForHandle,q=S.styles,ae=S.classNames,te="".concat(n,"-handle"),re=function(oe){M||l(oe,o)},ue=function(oe){_==null||_(oe,o)},Z=function(oe){w(oe,o)},D=function(oe){if(!M&&P){var Q=null;switch(oe.which||oe.keyCode){case _e.LEFT:Q=R==="ltr"||R==="btt"?-1:1;break;case _e.RIGHT:Q=R==="ltr"||R==="btt"?1:-1;break;case _e.UP:Q=R!=="ttb"?1:-1;break;case _e.DOWN:Q=R!=="ttb"?-1:1;break;case _e.HOME:Q="min";break;case _e.END:Q="max";break;case _e.PAGE_UP:Q=2;break;case _e.PAGE_DOWN:Q=-2;break;case _e.BACKSPACE:case _e.DELETE:a(o);break}Q!==null&&(oe.preventDefault(),m(Q,o))}},B=function(oe){switch(oe.which||oe.keyCode){case _e.LEFT:case _e.RIGHT:case _e.UP:case _e.DOWN:case _e.HOME:case _e.END:case _e.PAGE_UP:case _e.PAGE_DOWN:v==null||v();break}},G=Qd(R,i,b,x),L={};if(o!==null){var Y;L={tabIndex:M?null:bs(j,o),role:"slider","aria-valuemin":b,"aria-valuemax":x,"aria-valuenow":i,"aria-disabled":M,"aria-label":bs(X,o),"aria-labelledby":bs(z,o),"aria-required":bs(W,o),"aria-valuetext":(Y=bs(K,o))===null||Y===void 0?void 0:Y(i),"aria-orientation":R==="ltr"||R==="rtl"?"horizontal":"vertical",onMouseDown:re,onTouchStart:re,onFocus:ue,onMouseEnter:Z,onKeyDown:D,onKeyUp:B}}var xe=E.createElement("div",Yl({ref:t,className:Fs(te,or(or(or({},"".concat(te,"-").concat(o+1),o!==null&&I),"".concat(te,"-dragging"),d),"".concat(te,"-dragging-delete"),g),ae.handle),style:en(en(en({},G),c),q.handle)},L,k));return h&&(xe=h(xe,{index:o,prefixCls:n,value:i,dragging:d,draggingDelete:g})),xe}),f3=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","activeHandleRender","draggingIndex","draggingDelete","onFocus"],h3=E.forwardRef(function(e,t){var n=e.prefixCls,i=e.style,o=e.onStartMove,l=e.onOffsetChange,a=e.values,c=e.handleRender,h=e.activeHandleRender,d=e.draggingIndex,g=e.draggingDelete,m=e.onFocus,v=Gv(e,f3),_=E.useRef({}),w=E.useState(!1),k=zt(w,2),S=k[0],b=k[1],x=E.useState(-1),R=zt(x,2),M=R[0],P=R[1],I=function(K){P(K),b(!0)},j=function(K,q){I(q),m==null||m(K)},X=function(K,q){I(q)};E.useImperativeHandle(t,function(){return{focus:function(K){var q;(q=_.current[K])===null||q===void 0||q.focus()},hideHelp:function(){Pd.flushSync(function(){b(!1)})}}});var z=en({prefixCls:n,onStartMove:o,onOffsetChange:l,render:c,onFocus:j,onMouseEnter:X},v);return E.createElement(E.Fragment,null,a.map(function(W,K){var q=d===K;return E.createElement(U0,Yl({ref:function(te){te?_.current[K]=te:delete _.current[K]},dragging:q,draggingDelete:q&&g,style:bs(i,K),key:K,value:W,valueIndex:K},z))}),h&&S&&E.createElement(U0,Yl({key:"a11y"},z,{value:a[M],valueIndex:null,dragging:d!==-1,draggingDelete:g,render:h,style:{pointerEvents:"none"},tabIndex:null,"aria-hidden":!0})))}),d3=function(t){var n=t.prefixCls,i=t.style,o=t.children,l=t.value,a=t.onClick,c=E.useContext(Is),h=c.min,d=c.max,g=c.direction,m=c.includedStart,v=c.includedEnd,_=c.included,w="".concat(n,"-text"),k=Qd(g,l,h,d);return E.createElement("span",{className:Fs(w,or({},"".concat(w,"-active"),_&&m<=l&&l<=v)),style:en(en({},k),i),onMouseDown:function(b){b.stopPropagation()},onClick:function(){a(l)}},o)},p3=function(t){var n=t.prefixCls,i=t.marks,o=t.onClick,l="".concat(n,"-mark");return i.length?E.createElement("div",{className:l},i.map(function(a){var c=a.value,h=a.style,d=a.label;return E.createElement(d3,{key:c,prefixCls:l,style:h,value:c,onClick:o},d)})):null},g3=function(t){var n=t.prefixCls,i=t.value,o=t.style,l=t.activeStyle,a=E.useContext(Is),c=a.min,h=a.max,d=a.direction,g=a.included,m=a.includedStart,v=a.includedEnd,_="".concat(n,"-dot"),w=g&&m<=i&&i<=v,k=en(en({},Qd(d,i,c,h)),typeof o=="function"?o(i):o);return w&&(k=en(en({},k),typeof l=="function"?l(i):l)),E.createElement("span",{className:Fs(_,or({},"".concat(_,"-active"),w)),style:k})},m3=function(t){var n=t.prefixCls,i=t.marks,o=t.dots,l=t.style,a=t.activeStyle,c=E.useContext(Is),h=c.min,d=c.max,g=c.step,m=E.useMemo(function(){var v=new Set;if(i.forEach(function(w){v.add(w.value)}),o&&g!==null)for(var _=h;_<=d;)v.add(_),_+=g;return Array.from(v)},[h,d,g,o,i]);return E.createElement("div",{className:"".concat(n,"-step")},m.map(function(v){return E.createElement(g3,{prefixCls:n,key:v,value:v,style:l,activeStyle:a})}))},$0=function(t){var n=t.prefixCls,i=t.style,o=t.start,l=t.end,a=t.index,c=t.onStartMove,h=t.replaceCls,d=E.useContext(Is),g=d.direction,m=d.min,v=d.max,_=d.disabled,w=d.range,k=d.classNames,S="".concat(n,"-track"),b=vd(o,m,v),x=vd(l,m,v),R=function(j){!_&&c&&c(j,-1)},M={};switch(g){case"rtl":M.right="".concat(b*100,"%"),M.width="".concat(x*100-b*100,"%");break;case"btt":M.bottom="".concat(b*100,"%"),M.height="".concat(x*100-b*100,"%");break;case"ttb":M.top="".concat(b*100,"%"),M.height="".concat(x*100-b*100,"%");break;default:M.left="".concat(b*100,"%"),M.width="".concat(x*100-b*100,"%")}var P=h||Fs(S,or(or({},"".concat(S,"-").concat(a+1),a!==null&&w),"".concat(n,"-track-draggable"),c),k.track);return E.createElement("div",{className:P,style:en(en({},M),i),onMouseDown:R,onTouchStart:R})},y3=function(t){var n=t.prefixCls,i=t.style,o=t.values,l=t.startPoint,a=t.onStartMove,c=E.useContext(Is),h=c.included,d=c.range,g=c.min,m=c.styles,v=c.classNames,_=E.useMemo(function(){if(!d){if(o.length===0)return[];var k=l??g,S=o[0];return[{start:Math.min(k,S),end:Math.max(k,S)}]}for(var b=[],x=0;x<o.length-1;x+=1)b.push({start:o[x],end:o[x+1]});return b},[o,d,l,g]);if(!h)return null;var w=_!=null&&_.length&&(v.tracks||m.tracks)?E.createElement($0,{index:null,prefixCls:n,start:_[0].start,end:_[_.length-1].end,replaceCls:Fs(v.tracks,"".concat(n,"-tracks")),style:m.tracks}):null;return E.createElement(E.Fragment,null,w,_.map(function(k,S){var b=k.start,x=k.end;return E.createElement($0,{index:S,prefixCls:n,style:en(en({},bs(i,S)),m.track),start:b,end:x,key:S,onStartMove:a})}))},_3=130;function V0(e){var t="targetTouches"in e?e.targetTouches[0]:e;return{pageX:t.pageX,pageY:t.pageY}}function v3(e,t,n,i,o,l,a,c,h,d,g){var m=E.useState(null),v=zt(m,2),_=v[0],w=v[1],k=E.useState(-1),S=zt(k,2),b=S[0],x=S[1],R=E.useState(!1),M=zt(R,2),P=M[0],I=M[1],j=E.useState(n),X=zt(j,2),z=X[0],W=X[1],K=E.useState(n),q=zt(K,2),ae=q[0],te=q[1],re=E.useRef(null),ue=E.useRef(null),Z=E.useRef(null),D=E.useContext(u3),B=D.onDragStart,G=D.onDragChange;Kv(function(){b===-1&&W(n)},[n,b]),E.useEffect(function(){return function(){document.removeEventListener("mousemove",re.current),document.removeEventListener("mouseup",ue.current),Z.current&&(Z.current.removeEventListener("touchmove",re.current),Z.current.removeEventListener("touchend",ue.current))}},[]);var L=function(Q,se,ee){se!==void 0&&w(se),W(Q);var Ce=Q;ee&&(Ce=Q.filter(function(Me,Ve){return Ve!==b})),a(Ce),G&&G({rawValues:Q,deleteIndex:ee?b:-1,draggingIndex:b,draggingValue:se})},Y=To(function(oe,Q,se){if(oe===-1){var ee=ae[0],Ce=ae[ae.length-1],Me=i-ee,Ve=o-Ce,dt=Q*(o-i);dt=Math.max(dt,Me),dt=Math.min(dt,Ve);var Ut=l(ee+dt);dt=Ut-ee;var Rt=ae.map(function(Hn){return Hn+dt});L(Rt)}else{var pt=(o-i)*Q,$t=ci(z);$t[oe]=ae[oe];var nn=h($t,pt,oe,"dist");L(nn.values,nn.value,se)}}),xe=function(Q,se,ee){Q.stopPropagation();var Ce=ee||n,Me=Ce[se];x(se),w(Me),te(Ce),W(Ce),I(!1);var Ve=V0(Q),dt=Ve.pageX,Ut=Ve.pageY,Rt=!1;B&&B({rawValues:Ce,draggingIndex:se,draggingValue:Me});var pt=function(Hn){Hn.preventDefault();var Vt=V0(Hn),Wn=Vt.pageX,Tn=Vt.pageY,Sr=Wn-dt,Mn=Tn-Ut,hn=e.current.getBoundingClientRect(),Er=hn.width,Yr=hn.height,Yn,Pn;switch(t){case"btt":Yn=-Mn/Yr,Pn=Sr;break;case"ttb":Yn=Mn/Yr,Pn=Sr;break;case"rtl":Yn=-Sr/Er,Pn=Mn;break;default:Yn=Sr/Er,Pn=Mn}Rt=d?Math.abs(Pn)>_3&&g<z.length:!1,I(Rt),Y(se,Yn,Rt)},$t=function nn(Hn){Hn.preventDefault(),document.removeEventListener("mouseup",nn),document.removeEventListener("mousemove",pt),Z.current&&(Z.current.removeEventListener("touchmove",re.current),Z.current.removeEventListener("touchend",ue.current)),re.current=null,ue.current=null,Z.current=null,c(Rt),x(-1),I(!1)};document.addEventListener("mouseup",$t),document.addEventListener("mousemove",pt),Q.currentTarget.addEventListener("touchend",$t),Q.currentTarget.addEventListener("touchmove",pt),re.current=pt,ue.current=$t,Z.current=Q.currentTarget},fe=E.useMemo(function(){var oe=ci(n).sort(function(Me,Ve){return Me-Ve}),Q=ci(z).sort(function(Me,Ve){return Me-Ve}),se={};Q.forEach(function(Me){se[Me]=(se[Me]||0)+1}),oe.forEach(function(Me){se[Me]=(se[Me]||0)-1});var ee=d?1:0,Ce=Object.values(se).reduce(function(Me,Ve){return Me+Math.abs(Ve)},0);return Ce<=ee?z:n},[n,z,d]);return[b,_,P,fe,xe]}function x3(e,t,n,i,o,l){var a=E.useCallback(function(_){return Math.max(e,Math.min(t,_))},[e,t]),c=E.useCallback(function(_){if(n!==null){var w=e+Math.round((a(_)-e)/n)*n,k=function(R){return(String(R).split(".")[1]||"").length},S=Math.max(k(n),k(t),k(e)),b=Number(w.toFixed(S));return e<=b&&b<=t?b:null}return null},[n,e,t,a]),h=E.useCallback(function(_){var w=a(_),k=i.map(function(x){return x.value});n!==null&&k.push(c(_)),k.push(e,t);var S=k[0],b=t-e;return k.forEach(function(x){var R=Math.abs(w-x);R<=b&&(S=x,b=R)}),S},[e,t,i,n,a,c]),d=function _(w,k,S){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof k=="number"){var x,R=w[S],M=R+k,P=[];i.forEach(function(W){P.push(W.value)}),P.push(e,t),P.push(c(R));var I=k>0?1:-1;b==="unit"?P.push(c(R+I*n)):P.push(c(M)),P=P.filter(function(W){return W!==null}).filter(function(W){return k<0?W<=R:W>=R}),b==="unit"&&(P=P.filter(function(W){return W!==R}));var j=b==="unit"?R:M;x=P[0];var X=Math.abs(x-j);if(P.forEach(function(W){var K=Math.abs(W-j);K<X&&(x=W,X=K)}),x===void 0)return k<0?e:t;if(b==="dist")return x;if(Math.abs(k)>1){var z=ci(w);return z[S]=x,_(z,k-I,S,b)}return x}else{if(k==="min")return e;if(k==="max")return t}},g=function(w,k,S){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",x=w[S],R=d(w,k,S,b);return{value:R,changed:R!==x}},m=function(w){return l===null&&w===0||typeof l=="number"&&w<l},v=function(w,k,S){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",x=w.map(h),R=x[S],M=d(x,k,S,b);if(x[S]=M,o===!1){var P=l||0;S>0&&x[S-1]!==R&&(x[S]=Math.max(x[S],x[S-1]+P)),S<x.length-1&&x[S+1]!==R&&(x[S]=Math.min(x[S],x[S+1]-P))}else if(typeof l=="number"||l===null){for(var I=S+1;I<x.length;I+=1)for(var j=!0;m(x[I]-x[I-1])&&j;){var X=g(x,1,I);x[I]=X.value,j=X.changed}for(var z=S;z>0;z-=1)for(var W=!0;m(x[z]-x[z-1])&&W;){var K=g(x,-1,z-1);x[z-1]=K.value,W=K.changed}for(var q=x.length-1;q>0;q-=1)for(var ae=!0;m(x[q]-x[q-1])&&ae;){var te=g(x,-1,q-1);x[q-1]=te.value,ae=te.changed}for(var re=0;re<x.length-1;re+=1)for(var ue=!0;m(x[re+1]-x[re])&&ue;){var Z=g(x,1,re+1);x[re+1]=Z.value,ue=Z.changed}}return{value:x[S],values:x}};return[h,v]}function w3(e){return E.useMemo(function(){if(e===!0||!e)return[!!e,!1,!1,0];var t=e.editable,n=e.draggableTrack,i=e.minCount,o=e.maxCount;return[!0,t,!t&&n,i||0,o]},[e])}var Qv=E.forwardRef(function(e,t){var n=e.prefixCls,i=n===void 0?"rc-slider":n,o=e.className,l=e.style,a=e.classNames,c=e.styles,h=e.id,d=e.disabled,g=d===void 0?!1:d,m=e.keyboard,v=m===void 0?!0:m,_=e.autoFocus,w=e.onFocus,k=e.onBlur,S=e.min,b=S===void 0?0:S,x=e.max,R=x===void 0?100:x,M=e.step,P=M===void 0?1:M,I=e.value,j=e.defaultValue,X=e.range,z=e.count,W=e.onChange,K=e.onBeforeChange,q=e.onAfterChange,ae=e.onChangeComplete,te=e.allowCross,re=te===void 0?!0:te,ue=e.pushable,Z=ue===void 0?!1:ue,D=e.reverse,B=e.vertical,G=e.included,L=G===void 0?!0:G,Y=e.startPoint,xe=e.trackStyle,fe=e.handleStyle,oe=e.railStyle,Q=e.dotStyle,se=e.activeDotStyle,ee=e.marks,Ce=e.dots,Me=e.handleRender,Ve=e.activeHandleRender,dt=e.track,Ut=e.tabIndex,Rt=Ut===void 0?0:Ut,pt=e.ariaLabelForHandle,$t=e.ariaLabelledByForHandle,nn=e.ariaRequired,Hn=e.ariaValueTextFormatterForHandle,Vt=E.useRef(null),Wn=E.useRef(null),Tn=E.useMemo(function(){return B?D?"ttb":"btt":D?"rtl":"ltr"},[D,B]),Sr=w3(X),Mn=zt(Sr,5),hn=Mn[0],Er=Mn[1],Yr=Mn[2],Yn=Mn[3],Pn=Mn[4],rn=E.useMemo(function(){return isFinite(b)?b:0},[b]),Xn=E.useMemo(function(){return isFinite(R)?R:100},[R]),An=E.useMemo(function(){return P!==null&&P<=0?1:P},[P]),Cc=E.useMemo(function(){return typeof Z=="boolean"?Z?An:!1:Z>=0?Z:!1},[Z,An]),Zi=E.useMemo(function(){return Object.keys(ee||{}).map(function(Ue){var ge=ee[Ue],We={value:Number(Ue)};return ge&&Ki(ge)==="object"&&!E.isValidElement(ge)&&("label"in ge||"style"in ge)?(We.style=ge.style,We.label=ge.label):We.label=ge,We}).filter(function(Ue){var ge=Ue.label;return ge||typeof ge=="number"}).sort(function(Ue,ge){return Ue.value-ge.value})},[ee]),ra=x3(rn,Xn,An,Zi,re,Cc),ia=zt(ra,2),di=ia[0],js=ia[1],zo=t3(j,{value:I}),Ds=zt(zo,2),Kn=Ds[0],pi=Ds[1],ft=E.useMemo(function(){var Ue=Kn==null?[]:Array.isArray(Kn)?Kn:[Kn],ge=zt(Ue,1),We=ge[0],Xe=We===void 0?rn:We,gt=Kn===null?[]:[Xe];if(hn){if(gt=ci(Ue),z||Kn===void 0){var On=z>=0?z+1:2;for(gt=gt.slice(0,On);gt.length<On;){var ar;gt.push((ar=gt[gt.length-1])!==null&&ar!==void 0?ar:rn)}}gt.sort(function(qn,dn){return qn-dn})}return gt.forEach(function(qn,dn){gt[dn]=di(qn)}),gt},[Kn,hn,rn,z,di]),Xr=function(ge){return hn?ge:ge[0]},Ji=To(function(Ue){var ge=ci(Ue).sort(function(We,Xe){return We-Xe});W&&!l3(ge,ft,!0)&&W(Xr(ge)),pi(ge)}),Bo=To(function(Ue){Ue&&Vt.current.hideHelp();var ge=Xr(ft);q==null||q(ge),Fo(!q,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),ae==null||ae(ge)}),sa=function(ge){if(!(g||!Er||ft.length<=Yn)){var We=ci(ft);We.splice(ge,1),K==null||K(Xr(We)),Ji(We);var Xe=Math.max(0,ge-1);Vt.current.hideHelp(),Vt.current.focus(Xe)}},oa=v3(Wn,Tn,ft,rn,Xn,di,Ji,Bo,js,Er,Yn),Kr=zt(oa,5),Uo=Kr[0],es=Kr[1],$o=Kr[2],qr=Kr[3],la=Kr[4],gi=function(ge,We){if(!g){var Xe=ci(ft),gt=0,On=0,ar=Xn-rn;ft.forEach(function(_t,$s){var ca=Math.abs(ge-_t);ca<=ar&&(ar=ca,gt=$s),_t<ge&&(On=$s)});var qn=gt;Er&&ar!==0&&(!Pn||ft.length<Pn)?(Xe.splice(On+1,0,ge),qn=On+1):Xe[gt]=ge,hn&&!ft.length&&z===void 0&&Xe.push(ge);var dn=Xr(Xe);if(K==null||K(dn),Ji(Xe),We){var Tt,mi;(Tt=document.activeElement)===null||Tt===void 0||(mi=Tt.blur)===null||mi===void 0||mi.call(Tt),Vt.current.focus(qn),la(We,qn,Xe)}else q==null||q(dn),Fo(!q,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),ae==null||ae(dn)}},zs=function(ge){ge.preventDefault();var We=Wn.current.getBoundingClientRect(),Xe=We.width,gt=We.height,On=We.left,ar=We.top,qn=We.bottom,dn=We.right,Tt=ge.clientX,mi=ge.clientY,_t;switch(Tn){case"btt":_t=(qn-mi)/gt;break;case"ttb":_t=(mi-ar)/gt;break;case"rtl":_t=(dn-Tt)/Xe;break;default:_t=(Tt-On)/Xe}var $s=rn+_t*(Xn-rn);gi(di($s),ge)},Bs=E.useState(null),Us=zt(Bs,2),Vo=Us[0],aa=Us[1],Rc=function(ge,We){if(!g){var Xe=js(ft,ge,We);K==null||K(Xr(ft)),Ji(Xe.values),aa(Xe.value)}};E.useEffect(function(){if(Vo!==null){var Ue=ft.indexOf(Vo);Ue>=0&&Vt.current.focus(Ue)}aa(null)},[Vo]);var Gr=E.useMemo(function(){return Yr&&An===null?!1:Yr},[Yr,An]),Ho=To(function(Ue,ge){la(Ue,ge),K==null||K(Xr(ft))}),Wo=Uo!==-1;E.useEffect(function(){if(!Wo){var Ue=ft.lastIndexOf(es);Vt.current.focus(Ue)}},[Wo]);var ts=E.useMemo(function(){return ci(qr).sort(function(Ue,ge){return Ue-ge})},[qr]),ua=E.useMemo(function(){return hn?[ts[0],ts[ts.length-1]]:[rn,ts[0]]},[ts,hn,rn]),Yo=zt(ua,2),Xo=Yo[0],Ko=Yo[1];E.useImperativeHandle(t,function(){return{focus:function(){Vt.current.focus(0)},blur:function(){var ge,We=document,Xe=We.activeElement;(ge=Wn.current)!==null&&ge!==void 0&&ge.contains(Xe)&&(Xe==null||Xe.blur())}}}),E.useEffect(function(){_&&Vt.current.focus(0)},[]);var Tc=E.useMemo(function(){return{min:rn,max:Xn,direction:Tn,disabled:g,keyboard:v,step:An,included:L,includedStart:Xo,includedEnd:Ko,range:hn,tabIndex:Rt,ariaLabelForHandle:pt,ariaLabelledByForHandle:$t,ariaRequired:nn,ariaValueTextFormatterForHandle:Hn,styles:c||{},classNames:a||{}}},[rn,Xn,Tn,g,v,An,L,Xo,Ko,hn,Rt,pt,$t,nn,Hn,c,a]);return E.createElement(Is.Provider,{value:Tc},E.createElement("div",{ref:Wn,className:Fs(i,o,or(or(or(or({},"".concat(i,"-disabled"),g),"".concat(i,"-vertical"),B),"".concat(i,"-horizontal"),!B),"".concat(i,"-with-marks"),Zi.length)),style:l,onMouseDown:zs,id:h},E.createElement("div",{className:Fs("".concat(i,"-rail"),a==null?void 0:a.rail),style:en(en({},oe),c==null?void 0:c.rail)}),dt!==!1&&E.createElement(y3,{prefixCls:i,style:xe,values:ft,startPoint:Y,onStartMove:Gr?Ho:void 0}),E.createElement(m3,{prefixCls:i,marks:Zi,dots:Ce,style:Q,activeStyle:se}),E.createElement(h3,{ref:Vt,prefixCls:i,style:fe,values:qr,draggingIndex:Uo,draggingDelete:$o,onStartMove:Ho,onOffsetChange:Rc,onFocus:w,onBlur:k,handleRender:Me,activeHandleRender:Ve,onChangeComplete:Bo,onDelete:Er?sa:void 0}),E.createElement(p3,{prefixCls:i,marks:Zi,onClick:gi})))});const Wi=({value:e,onChange:t})=>{const[n,i]=E.useState(!1),{rgbValue:o,rgbaValue:l,alphaValue:a,rgbStrValue:c,doChangePicker:h,doChangeAlpha:d,doChangeRgbValue:g,doRgbBlur:m,doAlphaBlur:v,doChangeAlphaValue:_}=VE({value:e,onChange:t});return A.jsxs("div",{className:"relative max-w-40 ",children:[A.jsxs(Kd,{open:n,onOpenChange:i,placement:"bottom-start",initialOffset:10,children:[A.jsx(qd,{onClick:()=>i(w=>!w),className:`w-[18px] h-[18px] rounded absolute left-1 top-1 ${n?"border-2 border-highlight":""}`,style:{background:o},children:""}),A.jsx(Gd,{className:"bg-default-2 border border-default-1 p-4 rounded-lg color-picker",children:A.jsx(UE,{color:l,onChange:w=>h(w)})})]}),A.jsx("input",{type:"text",autoComplete:"off",spellCheck:!1,className:"color-input",value:c,onChange:w=>g(w.currentTarget.value),onBlur:()=>m()}),A.jsx("input",{type:"text",autoComplete:"off",spellCheck:!1,className:"alpha-input",value:a,onChange:w=>d(w.currentTarget.value),onBlur:()=>v()}),A.jsx(k3,{value:l.a,setValue:w=>_(w)})]})},k3=({value:e,setValue:t})=>{const[n,i]=E.useState(!1);return A.jsxs(Kd,{open:n,onOpenChange:i,placement:"bottom",initialOffset:10,children:[A.jsx(qd,{onClick:()=>i(o=>!o),className:`absolute border right-px top-px w-6 h-6 cursor-pointer center rounded text-white/65" ${n?"border-highlight":"border-transparent"}`,children:A.jsx(bw,{size:18,stroke:1})}),A.jsx(Gd,{className:"bg-default-2 px-4 py-2 rounded w-60 border border-white/10",children:A.jsx(Qv,{min:0,max:1,step:.01,value:e,onChange:o=>t(o)})})]})},b3=({min:e=0,max:t=100,sensitivity:n=1,decimals:i=4,value:o,onChange:l,convertFrom:a,convertTo:c})=>{const[h,d]=E.useState(""),[g,m]=E.useState(0),[v,_]=E.useState(!1),w=E.useRef(0),k=E.useRef(0);E.useEffect(()=>{if(isNaN(o))return;let I=o;a&&(I=a(I)),d(I.toString()),m(o)},[o,a]);const S=I=>{w.current=I,window.addEventListener("mousemove",b),window.addEventListener("mouseup",x),_(!0)},b=I=>{requestAnimationFrame(()=>{let j=Number(h)+(I.screenX-w.current)*n;R(j)})},x=()=>{_(!1),window.removeEventListener("mousemove",b),window.removeEventListener("mouseup",x)},R=I=>{I=fS(I,e,t),I=hS(I,i),d(I.toString()),k.current=I,m(I),c&&(I=c(I)),l(I)};return{strValue:h,numValue:g,onMouseDown:S,updateInputValue:R,doChange:I=>{let j=Number(I);if(I===""||I.endsWith(".")||isNaN(j)){d(I);return}R(j)},doBlur:()=>{R(k.current)},isHoverSliding:v}},Dt=({min:e=0,max:t=100,sensitivity:n=1,decimals:i=3,label:o,value:l,icon:a,onChange:c,convertTo:h,convertFrom:d,className:g=""})=>{const{strValue:m,numValue:v,onMouseDown:_,doChange:w,doBlur:k,updateInputValue:S,isHoverSliding:b}=b3({min:e,max:t,sensitivity:n,decimals:i,value:l,onChange:c,convertTo:h,convertFrom:d});return A.jsxs("div",{children:[o&&A.jsx("label",{className:"text-xs font-light opacity-65",children:o}),A.jsxs("div",{className:`relative ${g}`,children:[A.jsx("button",{className:`absolute left-px top-px w-6 h-6 cursor-ew-resize center rounded text-white/65 border ${b?"border-highlight":"border-transparent"}`,onMouseDown:x=>_(x.screenX),children:a&&A.jsx(a,{size:18,stroke:1})}),A.jsx("input",{type:"text",autoComplete:"off",spellCheck:!1,className:"slider-input",value:m,onChange:x=>w(x.target.value),onBlur:()=>k()}),A.jsx(S3,{min:e,max:t,value:v,setValue:S})]})]})},S3=({min:e,max:t,value:n,setValue:i})=>{const[o,l]=E.useState(!1);return A.jsxs(Kd,{open:o,onOpenChange:l,placement:"bottom",initialOffset:10,children:[A.jsx(qd,{onClick:()=>l(a=>!a),className:`absolute border right-px top-px w-6 h-6 cursor-pointer center rounded text-white/65" ${o?"border-highlight":"border-transparent"}`,children:A.jsx(Tw,{size:18,stroke:1})}),A.jsx(Gd,{className:"bg-default-2 px-4 py-2 rounded w-64 border border-white/10",children:A.jsx(Qv,{min:e,max:t,value:n,onChange:a=>i(a)})})]})};var Ml={},H0;function E3(){if(H0)return Ml;H0=1,Object.defineProperty(Ml,"__esModule",{value:!0}),Ml.parse=a,Ml.serialize=d;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function a(v,_){const w=new l,k=v.length;if(k<2)return w;const S=(_==null?void 0:_.decode)||g;let b=0;do{const x=v.indexOf("=",b);if(x===-1)break;const R=v.indexOf(";",b),M=R===-1?k:R;if(x>M){b=v.lastIndexOf(";",x-1)+1;continue}const P=c(v,b,x),I=h(v,x,P),j=v.slice(P,I);if(w[j]===void 0){let X=c(v,x+1,M),z=h(v,M,X);const W=S(v.slice(X,z));w[j]=W}b=M+1}while(b<k);return w}function c(v,_,w){do{const k=v.charCodeAt(_);if(k!==32&&k!==9)return _}while(++_<w);return w}function h(v,_,w){for(;_>w;){const k=v.charCodeAt(--_);if(k!==32&&k!==9)return _+1}return w}function d(v,_,w){const k=(w==null?void 0:w.encode)||encodeURIComponent;if(!e.test(v))throw new TypeError(`argument name is invalid: ${v}`);const S=k(_);if(!t.test(S))throw new TypeError(`argument val is invalid: ${_}`);let b=v+"="+S;if(!w)return b;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);b+="; Max-Age="+w.maxAge}if(w.domain){if(!n.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);b+="; Domain="+w.domain}if(w.path){if(!i.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);b+="; Path="+w.path}if(w.expires){if(!m(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);b+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(b+="; HttpOnly"),w.secure&&(b+="; Secure"),w.partitioned&&(b+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":b+="; Priority=Low";break;case"medium":b+="; Priority=Medium";break;case"high":b+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":b+="; SameSite=Strict";break;case"lax":b+="; SameSite=Lax";break;case"none":b+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return b}function g(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function m(v){return o.call(v)==="[object Date]"}return Ml}E3();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var W0="popstate";function C3(e={}){function t(i,o){let{pathname:l,search:a,hash:c}=i.location;return xd("",{pathname:l,search:a,hash:c},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){return typeof o=="string"?o:Xl(o)}return T3(t,n,null,e)}function ct(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ur(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function R3(){return Math.random().toString(36).substring(2,10)}function Y0(e,t){return{usr:e.state,key:e.key,idx:t}}function xd(e,t,n=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?jo(t):t,state:n,key:t&&t.key||i||R3()}}function Xl({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function jo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function T3(e,t,n,i={}){let{window:o=document.defaultView,v5Compat:l=!1}=i,a=o.history,c="POP",h=null,d=g();d==null&&(d=0,a.replaceState({...a.state,idx:d},""));function g(){return(a.state||{idx:null}).idx}function m(){c="POP";let S=g(),b=S==null?null:S-d;d=S,h&&h({action:c,location:k.location,delta:b})}function v(S,b){c="PUSH";let x=xd(k.location,S,b);d=g()+1;let R=Y0(x,d),M=k.createHref(x);try{a.pushState(R,"",M)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;o.location.assign(M)}l&&h&&h({action:c,location:k.location,delta:1})}function _(S,b){c="REPLACE";let x=xd(k.location,S,b);d=g();let R=Y0(x,d),M=k.createHref(x);a.replaceState(R,"",M),l&&h&&h({action:c,location:k.location,delta:0})}function w(S){let b=o.location.origin!=="null"?o.location.origin:o.location.href,x=typeof S=="string"?S:Xl(S);return x=x.replace(/ $/,"%20"),ct(b,`No window.location.(origin|href) available to create URL for href: ${x}`),new URL(x,b)}let k={get action(){return c},get location(){return e(o,a)},listen(S){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(W0,m),h=S,()=>{o.removeEventListener(W0,m),h=null}},createHref(S){return t(o,S)},createURL:w,encodeLocation(S){let b=w(S);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:v,replace:_,go(S){return a.go(S)}};return k}function Zv(e,t,n="/"){return M3(e,t,n,!1)}function M3(e,t,n,i){let o=typeof t=="string"?jo(t):t,l=qi(o.pathname||"/",n);if(l==null)return null;let a=Jv(e);P3(a);let c=null;for(let h=0;c==null&&h<a.length;++h){let d=U3(l);c=z3(a[h],d,i)}return c}function Jv(e,t=[],n=[],i=""){let o=(l,a,c)=>{let h={relativePath:c===void 0?l.path||"":c,caseSensitive:l.caseSensitive===!0,childrenIndex:a,route:l};h.relativePath.startsWith("/")&&(ct(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length));let d=fi([i,h.relativePath]),g=n.concat(h);l.children&&l.children.length>0&&(ct(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),Jv(l.children,t,g,d)),!(l.path==null&&!l.index)&&t.push({path:d,score:j3(d,l.index),routesMeta:g})};return e.forEach((l,a)=>{var c;if(l.path===""||!((c=l.path)!=null&&c.includes("?")))o(l,a);else for(let h of e1(l.path))o(l,a,h)}),t}function e1(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,o=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let a=e1(i.join("/")),c=[];return c.push(...a.map(h=>h===""?l:[l,h].join("/"))),o&&c.push(...a),c.map(h=>e.startsWith("/")&&h===""?"/":h)}function P3(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:D3(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var A3=/^:[\w-]+$/,O3=3,L3=2,F3=1,I3=10,N3=-2,X0=e=>e==="*";function j3(e,t){let n=e.split("/"),i=n.length;return n.some(X0)&&(i+=N3),t&&(i+=L3),n.filter(o=>!X0(o)).reduce((o,l)=>o+(A3.test(l)?O3:l===""?F3:I3),i)}function D3(e,t){return e.length===t.length&&e.slice(0,-1).every((i,o)=>i===t[o])?e[e.length-1]-t[t.length-1]:0}function z3(e,t,n=!1){let{routesMeta:i}=e,o={},l="/",a=[];for(let c=0;c<i.length;++c){let h=i[c],d=c===i.length-1,g=l==="/"?t:t.slice(l.length)||"/",m=Ju({path:h.relativePath,caseSensitive:h.caseSensitive,end:d},g),v=h.route;if(!m&&d&&n&&!i[i.length-1].route.index&&(m=Ju({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!m)return null;Object.assign(o,m.params),a.push({params:o,pathname:fi([l,m.pathname]),pathnameBase:W3(fi([l,m.pathnameBase])),route:v}),m.pathnameBase!=="/"&&(l=fi([l,m.pathnameBase]))}return a}function Ju(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=B3(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let l=o[0],a=l.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:i.reduce((d,{paramName:g,isOptional:m},v)=>{if(g==="*"){let w=c[v]||"";a=l.slice(0,l.length-w.length).replace(/(.)\/+$/,"$1")}const _=c[v];return m&&!_?d[g]=void 0:d[g]=(_||"").replace(/%2F/g,"/"),d},{}),pathname:l,pathnameBase:a,pattern:e}}function B3(e,t=!1,n=!0){Ur(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,c,h)=>(i.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),i]}function U3(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ur(!1,`The URL path "${e}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function qi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function $3(e,t="/"){let{pathname:n,search:i="",hash:o=""}=typeof e=="string"?jo(e):e;return{pathname:n?n.startsWith("/")?n:V3(n,t):t,search:Y3(i),hash:X3(o)}}function V3(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Vh(e,t,n,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function H3(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function t1(e){let t=H3(e);return t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase)}function n1(e,t,n,i=!1){let o;typeof e=="string"?o=jo(e):(o={...e},ct(!o.pathname||!o.pathname.includes("?"),Vh("?","pathname","search",o)),ct(!o.pathname||!o.pathname.includes("#"),Vh("#","pathname","hash",o)),ct(!o.search||!o.search.includes("#"),Vh("#","search","hash",o)));let l=e===""||o.pathname==="",a=l?"/":o.pathname,c;if(a==null)c=n;else{let m=t.length-1;if(!i&&a.startsWith("..")){let v=a.split("/");for(;v[0]==="..";)v.shift(),m-=1;o.pathname=v.join("/")}c=m>=0?t[m]:"/"}let h=$3(o,c),d=a&&a!=="/"&&a.endsWith("/"),g=(l||a===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(d||g)&&(h.pathname+="/"),h}var fi=e=>e.join("/").replace(/\/\/+/g,"/"),W3=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Y3=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,X3=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function K3(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var r1=["POST","PUT","PATCH","DELETE"];new Set(r1);var q3=["GET",...r1];new Set(q3);var Do=E.createContext(null);Do.displayName="DataRouter";var Sc=E.createContext(null);Sc.displayName="DataRouterState";var i1=E.createContext({isTransitioning:!1});i1.displayName="ViewTransition";var G3=E.createContext(new Map);G3.displayName="Fetchers";var Q3=E.createContext(null);Q3.displayName="Await";var Hr=E.createContext(null);Hr.displayName="Navigation";var ea=E.createContext(null);ea.displayName="Location";var Wr=E.createContext({outlet:null,matches:[],isDataRoute:!1});Wr.displayName="Route";var Zd=E.createContext(null);Zd.displayName="RouteError";function Z3(e,{relative:t}={}){ct(ta(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=E.useContext(Hr),{hash:o,pathname:l,search:a}=na(e,{relative:t}),c=l;return n!=="/"&&(c=l==="/"?n:fi([n,l])),i.createHref({pathname:c,search:a,hash:o})}function ta(){return E.useContext(ea)!=null}function Ns(){return ct(ta(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(ea).location}var s1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function o1(e){E.useContext(Hr).static||E.useLayoutEffect(e)}function J3(){let{isDataRoute:e}=E.useContext(Wr);return e?d4():e4()}function e4(){ct(ta(),"useNavigate() may be used only in the context of a <Router> component.");let e=E.useContext(Do),{basename:t,navigator:n}=E.useContext(Hr),{matches:i}=E.useContext(Wr),{pathname:o}=Ns(),l=JSON.stringify(t1(i)),a=E.useRef(!1);return o1(()=>{a.current=!0}),E.useCallback((h,d={})=>{if(Ur(a.current,s1),!a.current)return;if(typeof h=="number"){n.go(h);return}let g=n1(h,JSON.parse(l),o,d.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:fi([t,g.pathname])),(d.replace?n.replace:n.push)(g,d.state,d)},[t,n,l,o,e])}E.createContext(null);function t4(){let{matches:e}=E.useContext(Wr),t=e[e.length-1];return t?t.params:{}}function na(e,{relative:t}={}){let{matches:n}=E.useContext(Wr),{pathname:i}=Ns(),o=JSON.stringify(t1(n));return E.useMemo(()=>n1(e,JSON.parse(o),i,t==="path"),[e,o,i,t])}function n4(e,t){return l1(e,t)}function l1(e,t,n,i){var b;ct(ta(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=E.useContext(Hr),{matches:l}=E.useContext(Wr),a=l[l.length-1],c=a?a.params:{},h=a?a.pathname:"/",d=a?a.pathnameBase:"/",g=a&&a.route;{let x=g&&g.path||"";a1(h,!g||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let m=Ns(),v;if(t){let x=typeof t=="string"?jo(t):t;ct(d==="/"||((b=x.pathname)==null?void 0:b.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${x.pathname}" was given in the \`location\` prop.`),v=x}else v=m;let _=v.pathname||"/",w=_;if(d!=="/"){let x=d.replace(/^\//,"").split("/");w="/"+_.replace(/^\//,"").split("/").slice(x.length).join("/")}let k=Zv(e,{pathname:w});Ur(g||k!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Ur(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=l4(k&&k.map(x=>Object.assign({},x,{params:Object.assign({},c,x.params),pathname:fi([d,o.encodeLocation?o.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?d:fi([d,o.encodeLocation?o.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),l,n,i);return t&&S?E.createElement(ea.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},S):S}function r4(){let e=h4(),t=K3(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=E.createElement(E.Fragment,null,E.createElement("p",null," Hey developer "),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:l},"ErrorBoundary")," or"," ",E.createElement("code",{style:l},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},t),n?E.createElement("pre",{style:o},n):null,a)}var i4=E.createElement(r4,null),s4=class extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?E.createElement(Wr.Provider,{value:this.props.routeContext},E.createElement(Zd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function o4({routeContext:e,match:t,children:n}){let i=E.useContext(Do);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),E.createElement(Wr.Provider,{value:e},n)}function l4(e,t=[],n=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=n==null?void 0:n.errors;if(l!=null){let h=o.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);ct(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,h+1))}let a=!1,c=-1;if(n)for(let h=0;h<o.length;h++){let d=o[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=h),d.route.id){let{loaderData:g,errors:m}=n,v=d.route.loader&&!g.hasOwnProperty(d.route.id)&&(!m||m[d.route.id]===void 0);if(d.route.lazy||v){a=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,d,g)=>{let m,v=!1,_=null,w=null;n&&(m=l&&d.route.id?l[d.route.id]:void 0,_=d.route.errorElement||i4,a&&(c<0&&g===0?(a1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,w=null):c===g&&(v=!0,w=d.route.hydrateFallbackElement||null)));let k=t.concat(o.slice(0,g+1)),S=()=>{let b;return m?b=_:v?b=w:d.route.Component?b=E.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=h,E.createElement(o4,{match:d,routeContext:{outlet:h,matches:k,isDataRoute:n!=null},children:b})};return n&&(d.route.ErrorBoundary||d.route.errorElement||g===0)?E.createElement(s4,{location:n.location,revalidation:n.revalidation,component:_,error:m,children:S(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):S()},null)}function Jd(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function a4(e){let t=E.useContext(Do);return ct(t,Jd(e)),t}function u4(e){let t=E.useContext(Sc);return ct(t,Jd(e)),t}function c4(e){let t=E.useContext(Wr);return ct(t,Jd(e)),t}function ep(e){let t=c4(e),n=t.matches[t.matches.length-1];return ct(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function f4(){return ep("useRouteId")}function h4(){var i;let e=E.useContext(Zd),t=u4("useRouteError"),n=ep("useRouteError");return e!==void 0?e:(i=t.errors)==null?void 0:i[n]}function d4(){let{router:e}=a4("useNavigate"),t=ep("useNavigate"),n=E.useRef(!1);return o1(()=>{n.current=!0}),E.useCallback(async(o,l={})=>{Ur(n.current,s1),n.current&&(typeof o=="number"?e.navigate(o):await e.navigate(o,{fromRouteId:t,...l}))},[e,t])}var K0={};function a1(e,t,n){!t&&!K0[e]&&(K0[e]=!0,Ur(!1,n))}E.memo(p4);function p4({routes:e,future:t,state:n}){return l1(e,void 0,n,t)}function wd(e){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function g4({basename:e="/",children:t=null,location:n,navigationType:i="POP",navigator:o,static:l=!1}){ct(!ta(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=e.replace(/^\/*/,"/"),c=E.useMemo(()=>({basename:a,navigator:o,static:l,future:{}}),[a,o,l]);typeof n=="string"&&(n=jo(n));let{pathname:h="/",search:d="",hash:g="",state:m=null,key:v="default"}=n,_=E.useMemo(()=>{let w=qi(h,a);return w==null?null:{location:{pathname:w,search:d,hash:g,state:m,key:v},navigationType:i}},[a,h,d,g,m,v,i]);return Ur(_!=null,`<Router basename="${a}"> is not able to match the URL "${h}${d}${g}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:E.createElement(Hr.Provider,{value:c},E.createElement(ea.Provider,{children:t,value:_}))}function m4({children:e,location:t}){return n4(kd(e),t)}function kd(e,t=[]){let n=[];return E.Children.forEach(e,(i,o)=>{if(!E.isValidElement(i))return;let l=[...t,o];if(i.type===E.Fragment){n.push.apply(n,kd(i.props.children,l));return}ct(i.type===wd,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!i.props.index||!i.props.children,"An index route cannot have child routes.");let a={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=kd(i.props.children,l)),n.push(a)}),n}var Fu="get",Iu="application/x-www-form-urlencoded";function Ec(e){return e!=null&&typeof e.tagName=="string"}function y4(e){return Ec(e)&&e.tagName.toLowerCase()==="button"}function _4(e){return Ec(e)&&e.tagName.toLowerCase()==="form"}function v4(e){return Ec(e)&&e.tagName.toLowerCase()==="input"}function x4(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function w4(e,t){return e.button===0&&(!t||t==="_self")&&!x4(e)}var Tu=null;function k4(){if(Tu===null)try{new FormData(document.createElement("form"),0),Tu=!1}catch{Tu=!0}return Tu}var b4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Hh(e){return e!=null&&!b4.has(e)?(Ur(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Iu}"`),null):e}function S4(e,t){let n,i,o,l,a;if(_4(e)){let c=e.getAttribute("action");i=c?qi(c,t):null,n=e.getAttribute("method")||Fu,o=Hh(e.getAttribute("enctype"))||Iu,l=new FormData(e)}else if(y4(e)||v4(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||c.getAttribute("action");if(i=h?qi(h,t):null,n=e.getAttribute("formmethod")||c.getAttribute("method")||Fu,o=Hh(e.getAttribute("formenctype"))||Hh(c.getAttribute("enctype"))||Iu,l=new FormData(c,e),!k4()){let{name:d,type:g,value:m}=e;if(g==="image"){let v=d?`${d}.`:"";l.append(`${v}x`,"0"),l.append(`${v}y`,"0")}else d&&l.append(d,m)}}else{if(Ec(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Fu,i=null,o=Iu,a=e}return l&&o==="text/plain"&&(a=l,l=void 0),{action:i,method:n.toLowerCase(),encType:o,formData:l,body:a}}function tp(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function E4(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function C4(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function R4(e,t,n){let i=await Promise.all(e.map(async o=>{let l=t.routes[o.route.id];if(l){let a=await E4(l,n);return a.links?a.links():[]}return[]}));return A4(i.flat(1).filter(C4).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function q0(e,t,n,i,o,l){let a=(h,d)=>n[d]?h.route.id!==n[d].route.id:!0,c=(h,d)=>{var g;return n[d].pathname!==h.pathname||((g=n[d].route.path)==null?void 0:g.endsWith("*"))&&n[d].params["*"]!==h.params["*"]};return l==="assets"?t.filter((h,d)=>a(h,d)||c(h,d)):l==="data"?t.filter((h,d)=>{var m;let g=i.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(a(h,d)||c(h,d))return!0;if(h.route.shouldRevalidate){let v=h.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function T4(e,t){return M4(e.map(n=>{let i=t.routes[n.route.id];if(!i)return[];let o=[i.module];return i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function M4(e){return[...new Set(e)]}function P4(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}function A4(e,t){let n=new Set;return new Set(t),e.reduce((i,o)=>{let l=JSON.stringify(P4(o));return n.has(l)||(n.add(l),i.push({key:l,link:o})),i},[])}function O4(e){let t=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function L4(){let e=E.useContext(Do);return tp(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function F4(){let e=E.useContext(Sc);return tp(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var np=E.createContext(void 0);np.displayName="FrameworkContext";function u1(){let e=E.useContext(np);return tp(e,"You must render this element inside a <HydratedRouter> element"),e}function I4(e,t){let n=E.useContext(np),[i,o]=E.useState(!1),[l,a]=E.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:d,onMouseLeave:g,onTouchStart:m}=t,v=E.useRef(null);E.useEffect(()=>{if(e==="render"&&a(!0),e==="viewport"){let k=b=>{b.forEach(x=>{a(x.isIntersecting)})},S=new IntersectionObserver(k,{threshold:.5});return v.current&&S.observe(v.current),()=>{S.disconnect()}}},[e]),E.useEffect(()=>{if(i){let k=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(k)}}},[i]);let _=()=>{o(!0)},w=()=>{o(!1),a(!1)};return n?e!=="intent"?[l,v,{}]:[l,v,{onFocus:Pl(c,_),onBlur:Pl(h,w),onMouseEnter:Pl(d,_),onMouseLeave:Pl(g,w),onTouchStart:Pl(m,_)}]:[!1,v,{}]}function Pl(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function N4({page:e,...t}){let{router:n}=L4(),i=E.useMemo(()=>Zv(n.routes,e,n.basename),[n.routes,e,n.basename]);return i?E.createElement(D4,{page:e,matches:i,...t}):null}function j4(e){let{manifest:t,routeModules:n}=u1(),[i,o]=E.useState([]);return E.useEffect(()=>{let l=!1;return R4(e,t,n).then(a=>{l||o(a)}),()=>{l=!0}},[e,t,n]),i}function D4({page:e,matches:t,...n}){let i=Ns(),{manifest:o,routeModules:l}=u1(),{loaderData:a,matches:c}=F4(),h=E.useMemo(()=>q0(e,t,c,o,i,"data"),[e,t,c,o,i]),d=E.useMemo(()=>q0(e,t,c,o,i,"assets"),[e,t,c,o,i]),g=E.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let _=new Set,w=!1;if(t.forEach(S=>{var x;let b=o.routes[S.route.id];!b||!b.hasLoader||(!h.some(R=>R.route.id===S.route.id)&&S.route.id in a&&((x=l[S.route.id])!=null&&x.shouldRevalidate)||b.hasClientLoader?w=!0:_.add(S.route.id))}),_.size===0)return[];let k=O4(e);return w&&_.size>0&&k.searchParams.set("_routes",t.filter(S=>_.has(S.route.id)).map(S=>S.route.id).join(",")),[k.pathname+k.search]},[a,i,o,h,t,e,l]),m=E.useMemo(()=>T4(d,o),[d,o]),v=j4(d);return E.createElement(E.Fragment,null,g.map(_=>E.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),m.map(_=>E.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),v.map(({key:_,link:w})=>E.createElement("link",{key:_,...w})))}function z4(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var c1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{c1&&(window.__reactRouterVersion="7.1.1")}catch{}function B4({basename:e,children:t,window:n}){let i=E.useRef();i.current==null&&(i.current=C3({window:n,v5Compat:!0}));let o=i.current,[l,a]=E.useState({action:o.action,location:o.location}),c=E.useCallback(h=>{E.startTransition(()=>a(h))},[a]);return E.useLayoutEffect(()=>o.listen(c),[o,c]),E.createElement(g4,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:o})}var f1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rp=E.forwardRef(function({onClick:t,discover:n="render",prefetch:i="none",relative:o,reloadDocument:l,replace:a,state:c,target:h,to:d,preventScrollReset:g,viewTransition:m,...v},_){let{basename:w}=E.useContext(Hr),k=typeof d=="string"&&f1.test(d),S,b=!1;if(typeof d=="string"&&k&&(S=d,c1))try{let z=new URL(window.location.href),W=d.startsWith("//")?new URL(z.protocol+d):new URL(d),K=qi(W.pathname,w);W.origin===z.origin&&K!=null?d=K+W.search+W.hash:b=!0}catch{Ur(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let x=Z3(d,{relative:o}),[R,M,P]=I4(i,v),I=H4(d,{replace:a,state:c,target:h,preventScrollReset:g,relative:o,viewTransition:m});function j(z){t&&t(z),z.defaultPrevented||I(z)}let X=E.createElement("a",{...v,...P,href:S||x,onClick:b||l?t:j,ref:z4(_,M),target:h,"data-discover":!k&&n==="render"?"true":void 0});return R&&!k?E.createElement(E.Fragment,null,X,E.createElement(N4,{page:x})):X});rp.displayName="Link";var U4=E.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:i="",end:o=!1,style:l,to:a,viewTransition:c,children:h,...d},g){let m=na(a,{relative:d.relative}),v=Ns(),_=E.useContext(Sc),{navigator:w,basename:k}=E.useContext(Hr),S=_!=null&&q4(m)&&c===!0,b=w.encodeLocation?w.encodeLocation(m).pathname:m.pathname,x=v.pathname,R=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;n||(x=x.toLowerCase(),R=R?R.toLowerCase():null,b=b.toLowerCase()),R&&k&&(R=qi(R,k)||R);const M=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let P=x===b||!o&&x.startsWith(b)&&x.charAt(M)==="/",I=R!=null&&(R===b||!o&&R.startsWith(b)&&R.charAt(b.length)==="/"),j={isActive:P,isPending:I,isTransitioning:S},X=P?t:void 0,z;typeof i=="function"?z=i(j):z=[i,P?"active":null,I?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let W=typeof l=="function"?l(j):l;return E.createElement(rp,{...d,"aria-current":X,className:z,ref:g,style:W,to:a,viewTransition:c},typeof h=="function"?h(j):h)});U4.displayName="NavLink";var $4=E.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:i,replace:o,state:l,method:a=Fu,action:c,onSubmit:h,relative:d,preventScrollReset:g,viewTransition:m,...v},_)=>{let w=X4(),k=K4(c,{relative:d}),S=a.toLowerCase()==="get"?"get":"post",b=typeof c=="string"&&f1.test(c),x=R=>{if(h&&h(R),R.defaultPrevented)return;R.preventDefault();let M=R.nativeEvent.submitter,P=(M==null?void 0:M.getAttribute("formmethod"))||a;w(M||R.currentTarget,{fetcherKey:t,method:P,navigate:n,replace:o,state:l,relative:d,preventScrollReset:g,viewTransition:m})};return E.createElement("form",{ref:_,method:S,action:k,onSubmit:i?h:x,...v,"data-discover":!b&&e==="render"?"true":void 0})});$4.displayName="Form";function V4(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function h1(e){let t=E.useContext(Do);return ct(t,V4(e)),t}function H4(e,{target:t,replace:n,state:i,preventScrollReset:o,relative:l,viewTransition:a}={}){let c=J3(),h=Ns(),d=na(e,{relative:l});return E.useCallback(g=>{if(w4(g,t)){g.preventDefault();let m=n!==void 0?n:Xl(h)===Xl(d);c(e,{replace:m,state:i,preventScrollReset:o,relative:l,viewTransition:a})}},[h,c,d,n,i,t,e,o,l,a])}var W4=0,Y4=()=>`__${String(++W4)}__`;function X4(){let{router:e}=h1("useSubmit"),{basename:t}=E.useContext(Hr),n=f4();return E.useCallback(async(i,o={})=>{let{action:l,method:a,encType:c,formData:h,body:d}=S4(i,t);if(o.navigate===!1){let g=o.fetcherKey||Y4();await e.fetch(g,n,o.action||l,{preventScrollReset:o.preventScrollReset,formData:h,body:d,formMethod:o.method||a,formEncType:o.encType||c,flushSync:o.flushSync})}else await e.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:h,body:d,formMethod:o.method||a,formEncType:o.encType||c,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[e,t,n])}function K4(e,{relative:t}={}){let{basename:n}=E.useContext(Hr),i=E.useContext(Wr);ct(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),l={...na(e||".",{relative:t})},a=Ns();if(e==null){l.search=a.search;let c=new URLSearchParams(l.search),h=c.getAll("index");if(h.some(g=>g==="")){c.delete("index"),h.filter(m=>m).forEach(m=>c.append("index",m));let g=c.toString();l.search=g?`?${g}`:""}}return(!e||e===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:fi([n,l.pathname])),Xl(l)}function q4(e,t={}){let n=E.useContext(i1);ct(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=h1("useViewTransitionState"),o=na(e,{relative:t.relative});if(!n.isTransitioning)return!1;let l=qi(n.currentLocation.pathname,i)||n.currentLocation.pathname,a=qi(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Ju(o.pathname,a)!=null||Ju(o.pathname,l)!=null}new TextEncoder;const G4=()=>{const[e,t]=E.useState([]);async function n(){const i=await bk();t(i)}return E.useEffect(()=>{n()},[]),A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"pb-1 pt-4",children:"Sketches"}),A.jsx("div",{className:"h-64 overflow-y-auto scroll-smooth shadow rounded bg-default-3",children:A.jsx("div",{className:"flex flex-col text-sm gap-1",children:e.map(i=>A.jsx(rp,{className:"px-2 py-0.5 hover:bg-default-4",to:`/sketch/${i}`,children:i},i))})})]})};let ec=new Map,bd;function Q4(){for(const[,e]of ec)xc({type:"update",label:"Edit properties",shapeId:e.shapeId,changes:Array.from(e.changes.values())});ec=new Map,bd=void 0}function Z4(e,t,n,i){let o=ec.get(e);o||(o={shapeId:e,changes:new Map},ec.set(e,o));const l=o.changes.get(t);o.changes.set(t,{field:t,oldValue:l?l.oldValue:n,newValue:i}),clearTimeout(bd),bd=setTimeout(Q4,500)}function J4(e,t){const n=t.split(".");return n.length===2?e[n[0]][n[1]]:e[t]}const eC=()=>{const e=Rn(c=>c.selected),t=e==null?void 0:e[0],n=at(t==null?void 0:t.stroke).toRgb(),i=at(t==null?void 0:t.fill).toRgb(),o=wt(c=>c.canvasColor),l=wt.getState().setCanvasColor;function a(c,h){const d=He();for(const g of Rn.getState().selected){const m=J4(g,c),v=c.split(".");["stroke","fill"].includes(c)&&(h=at(h).toHex()),v.length==2?g[v[0]][v[1]]=h:g[c]=h,Z4(g.id,c,m,h)}d.throttledTwoUpdate()}return A.jsxs("div",{className:"flex flex-col h-full",children:[A.jsxs("div",{className:"flex-grow",children:[!(e!=null&&e.length)&&A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"pt-4 pb-1 text-sm",children:"Page"}),A.jsx("div",{className:"flex flex-col gap-4",children:A.jsx(Wi,{value:o,onChange:c=>l(c)})}),A.jsx("div",{children:A.jsx(G4,{})})]}),!!(e!=null&&e.length)&&A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"pt-4 pb-1 text-sm",children:"Color"}),A.jsxs("div",{className:"flex flex-col gap-4",children:[n&&A.jsx(Wi,{value:n,onChange:c=>a("stroke",c)}),i&&A.jsx(Wi,{value:i,onChange:c=>a("fill",c)})]}),A.jsx("div",{className:"pt-4 pb-1 text-sm",children:"Stroke"}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsx(Dt,{icon:Ed,min:1,max:5e3,value:t==null?void 0:t.linewidth,onChange:c=>a("linewidth",c)}),A.jsx(Dt,{icon:i_,min:-100,max:100,value:t==null?void 0:t.radius,onChange:c=>a("radius",c)})]}),A.jsx("div",{className:"pt-4 pb-1 text-sm",children:"Size"}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsx(Dt,{icon:Rw,min:1,max:5e3,value:t==null?void 0:t.width,onChange:c=>a("width",c)}),A.jsx(Dt,{icon:Cw,min:1,max:5e3,value:t==null?void 0:t.height,onChange:c=>a("height",c)})]}),A.jsx("div",{className:"pt-4 pb-1 text-sm",children:"Position"}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsx(Dt,{icon:Aw,min:-5e3,max:5e3,value:t==null?void 0:t.position.x,onChange:c=>a("position.x",c)}),A.jsx(Dt,{icon:Ow,min:-5e3,max:5e3,value:t==null?void 0:t.position.y,onChange:c=>a("position.y",c)})]}),A.jsx("div",{className:"pt-4 pb-1 text-sm",children:"Transform"}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsx(Dt,{icon:e_,min:-360,max:360,sensitivity:1,value:t==null?void 0:t.rotation,onChange:c=>a("rotation",c),convertFrom:dS,convertTo:pS}),A.jsx(Dt,{icon:yw,min:-1/0,max:1/0,sensitivity:1,value:t==null?void 0:t.scale,onChange:c=>a("scale",c),convertFrom:c=>c*100,convertTo:c=>c/100}),A.jsx(Dt,{icon:Mw,min:-Math.PI,max:Math.PI,sensitivity:.01,value:t==null?void 0:t.skewX,onChange:c=>a("skewX",c)}),A.jsx(Dt,{icon:Pw,min:-Math.PI,max:Math.PI,sensitivity:.01,value:t==null?void 0:t.skewY,onChange:c=>a("skewY",c)})]})]})]}),A.jsx("div",{children:A.jsx(ME,{})}),A.jsx("div",{children:A.jsx(CE,{})}),A.jsx("div",{className:"pt-16"})]})},tC=()=>{const e=wt(n=>n.isPanelOpen),t=wt.getState().setIsPanelOpen;return A.jsx("div",{className:`transition-all duration-150 w-64 absolute right-0 top-0 overflow-hidden ${e?"h-[calc(100%-56px)] md:h-full":"h-11"}`,children:A.jsxs("div",{className:`bg-default-2 border-l border-default-1 px-4 h-full ${e?"":"rounded-bl-lg"}`,children:[A.jsxs("div",{className:"flex items-center w-full gap-4 py-1",children:[A.jsx(Vi,{onClick:()=>t(!e),children:A.jsx(kw,{stroke:1})}),A.jsx(nC,{})]}),A.jsx(eC,{})]})})},nC=()=>{const e=wc(o=>o.zoom),t=Br(o=>o.undoStack.length),n=Br(o=>o.redoStack.length),i=()=>{He().saveDoodles()};return A.jsxs("div",{className:"text-sm flex justify-end items-center w-full",children:[A.jsx(Ot,{tooltip:"Undo (Ctrl+Z)",children:A.jsx(Vi,{onClick:Hd,disabled:t===0,children:A.jsx(t_,{stroke:1})})}),A.jsx(Ot,{tooltip:"Redo (Ctrl+Shift+Z)",children:A.jsx(Vi,{onClick:Wd,disabled:n===0,children:A.jsx(n_,{stroke:1})})}),A.jsx(Ot,{tooltip:"Save to local storage",children:A.jsx(Vi,{onClick:()=>i(),children:A.jsx(mw,{stroke:1})})}),A.jsx(Ot,{tooltip:"Reset zoom",children:A.jsx(Vi,{onClick:()=>oE(),children:A.jsx(xw,{stroke:1})})}),A.jsxs("div",{className:"w-12 text-right",children:[e,"%"]})]})},rC=()=>{E.useEffect(()=>(window.addEventListener("wheel",G0,{passive:!1}),()=>{window.removeEventListener("wheel",G0)}),[])};function G0(e){var t;e.deltaX!==0&&((t=e==null?void 0:e.preventDefault)==null||t.call(e))}const iC=()=>{let e=wt(n=>n.selectedTool);const t=wt(n=>n.restoreTool);return t&&(e=t),e==="brush"?A.jsx(sC,{}):e==="square"?A.jsx(oC,{}):e==="line"||e==="arrow"?A.jsx(aC,{}):e==="text"?A.jsx(lC,{}):null},sC=()=>{const e=ui(g=>g.strokeWidth),t=ui(g=>g.tolerance),n=ui(g=>g.stabilizer),i=ui(g=>g.strokeColor),o=ui(g=>g.simplifyAlgo),{setStrokeColor:l,setStrokeWidth:a,setStabilizer:c,setTolerance:h,setSimplifyAlgo:d}=ui.getState();return A.jsxs("div",{className:"flex flex-row gap-2 text-xs items-center",children:[A.jsx("label",{children:"Color"}),A.jsx(Wi,{value:i,onChange:g=>l(g)}),A.jsx("label",{className:"pl-2",children:"Stroke"}),A.jsx(Dt,{className:"max-w-20",value:e,min:1,max:256,onChange:g=>a(g),icon:Ed}),A.jsx("label",{className:"pl-2",children:"Stabilizer"}),A.jsx(Dt,{className:"max-w-20",value:n,min:0,max:10,onChange:g=>c(g),icon:pw}),A.jsx("label",{className:"pl-2",children:"Smoothing"}),A.jsx(Dt,{className:"max-w-20",value:t,min:0,max:100,onChange:g=>h(g),icon:o_}),A.jsxs($v,{children:[A.jsx(Ot,{tooltip:"Douglas-Peucker: High-performance general-purpose simplification. Preserves the path's overall shape efficiently. The number represents the acceptable tolerance x 10 times",children:A.jsx(Nl,{isSelected:o==="douglas",onClick:()=>d("douglas"),children:A.jsx(Fw,{size:20,stroke:1})})}),A.jsx(Ot,{tooltip:"Area of Triangle smoothing: General-purpose line simplification, especially for preserving visual shapes and smooth curves. The number represents the percentage of nodes to simplify. (Visvalingam-Whyatt algorithm)",children:A.jsx(Nl,{isSelected:o==="triangle",onClick:()=>d("triangle"),children:A.jsx(Iw,{size:20,stroke:1})})}),A.jsx(Ot,{tooltip:"Angle smoothing: Best for straight-line approximations and paths where deviations from linearity are critical to detect. The number represents the percentage of nodes to simplify. (Visvalingam-Whyatt algorithm)",children:A.jsx(Nl,{isSelected:o==="angle",onClick:()=>d("angle"),children:A.jsx(e_,{size:20,stroke:1})})}),A.jsx(Ot,{tooltip:"Perpendicular Distance smoothing: Best for straight-line approximations and paths where deviations from linearity are critical to detect. The number the represents percentage of nodes to simplify. (Visvalingam-Whyatt algorithm)",children:A.jsx(Nl,{isSelected:o==="distance",onClick:()=>d("distance"),children:A.jsx(Lw,{size:20,stroke:1})})})]})]})},oC=()=>{const e=Ui(h=>h.strokeWidth),t=Ui(h=>h.strokeColor),n=Ui(h=>h.fillColor),i=Ui(h=>h.radius),{setStrokeColor:o,setStrokeWidth:l,setFillColor:a,setRadius:c}=Ui.getState();return A.jsxs("div",{className:"flex flex-row gap-2 text-xs items-center",children:[A.jsx("label",{children:"Fill"}),A.jsx(Wi,{value:n,onChange:h=>a(h)}),A.jsx("label",{className:"pl-2",children:"Stroke"}),A.jsx(Wi,{value:t,onChange:h=>o(h)}),A.jsx("label",{className:"pl-2",children:"Width"}),A.jsx(Dt,{className:"max-w-24",value:e,min:0,max:100,onChange:h=>l(h),icon:s_}),A.jsx("label",{className:"pl-2",children:"Radius"}),A.jsx(Dt,{className:"max-w-24",value:i,min:0,max:100,onChange:h=>c(h),icon:i_})]})},lC=()=>{const e=Il(a=>a.fontSize),t=Il(a=>a.fillColor),n=Il(a=>a.fontFamily),{setFillColor:i,setFontSize:o,setFontFamily:l}=Il.getState();return A.jsxs("div",{className:"flex flex-row gap-2 text-xs items-center",children:[A.jsx("label",{children:"Color"}),A.jsx(Wi,{value:t,onChange:a=>i(a)}),A.jsx("label",{className:"pl-2",children:"Size"}),A.jsx(Dt,{className:"max-w-24",value:e,min:8,max:256,onChange:a=>o(a),icon:Cd}),A.jsx("label",{className:"pl-2",children:"Font"}),A.jsxs("select",{className:"bg-default-3 border border-default-1 rounded px-2 py-1 text-xs",value:n,onChange:a=>l(a.target.value),children:[A.jsx("option",{value:"sans-serif",children:"Sans Serif"}),A.jsx("option",{value:"serif",children:"Serif"}),A.jsx("option",{value:"monospace",children:"Monospace"}),A.jsx("option",{value:"cursive",children:"Cursive"})]})]})},aC=()=>{const e=$i(c=>c.strokeWidth),t=$i(c=>c.strokeColor),n=$i(c=>c.doubleArrow),i=wt(c=>c.selectedTool),{setStrokeColor:o,setStrokeWidth:l,setDoubleArrow:a}=$i.getState();return A.jsxs("div",{className:"flex flex-row gap-2 text-xs items-center",children:[A.jsx("label",{children:"Color"}),A.jsx(Wi,{value:t,onChange:c=>o(c)}),A.jsx("label",{className:"pl-2",children:"Width"}),A.jsx(Dt,{className:"max-w-24",value:e,min:1,max:100,onChange:c=>l(c),icon:Rd}),i==="arrow"&&A.jsxs(A.Fragment,{children:[A.jsx("label",{className:"pl-2",children:"Double"}),A.jsx($v,{children:A.jsx(Ot,{tooltip:"Double-ended arrow",children:A.jsx(Nl,{isSelected:n,onClick:()=>a(!n),children:A.jsx(dw,{size:20,stroke:1})})})})]})]})},uC=()=>A.jsx("div",{className:"absolute inset-0 bg-default-1 flex flex-center transition-opacity",children:A.jsx("div",{className:"w-64",children:A.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 700 311",version:"1.1",xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd",children:[A.jsx("path",{fill:"none",stroke:"#2b2b2b",strokeWidth:30,strokeLinecap:"round",d:"M187,274C187,274 170.378,268.864 228.974,285C292.703,302.549 303.927,266.646 338,265C374.056,263.258 399.792,287.297 431,286C454.178,285.037 488.914,274.714 493,275C520.055,276.893 531.314,284.145 556,288C578.43,291.503 591.566,293.837 607,294C626.331,294.205 671,282 671,282"}),A.jsx("path",{className:"animate-tail",fill:"none",stroke:"#6e6e6e",strokeWidth:30,strokeDasharray:500,strokeLinecap:"round",d:"M187,274C187,274 170.378,268.864 228.974,285C292.703,302.549 303.927,266.646 338,265C374.056,263.258 399.792,287.297 431,286C454.178,285.037 488.914,274.714 493,275C520.055,276.893 531.314,284.145 556,288C578.43,291.503 591.566,293.837 607,294C626.331,294.205 671,282 671,282"}),A.jsx("g",{transform:"matrix(1,0,0,1,-812.627,-384.976)",children:A.jsx("path",{fill:"#6e6e6e",d:"M867,654C867,654 852.472,690.859 850,692C847.528,693.141 836.252,694.04 832,692C827.748,689.96 827.491,691.692 823,680C818.774,668.997 828.585,670.176 832,667C833.65,665.465 833.381,633.906 828,602C822.619,570.094 818.937,566.178 814,529C809.063,491.822 818.383,449.085 827,438C835.617,426.915 847.48,414.625 847,415C846.52,415.375 863.327,383.996 867,385C870.673,386.004 878.926,404.441 884,406C885.134,406.348 897.779,406.147 905,408C914.601,410.463 921.008,418.516 924,420C926.992,421.484 949.052,408.87 955,412C960.948,415.13 957.273,443.171 954,448C953.51,448.724 959.617,477.941 961,484C962.383,490.059 963.043,498.797 971,518C978.609,536.363 1012.31,578.249 1016,586C1019.7,593.751 1037.3,629.813 1029,655C1018.99,685.409 992.067,694.274 980,695C948.988,696.865 870,694 870,694C870,694 861.378,693.918 862,683C862.33,677.209 879.324,673.309 883,675C886.676,676.691 867,654 867,654Z"})})]})})}),Q0=()=>{rC();const{id:e}=t4(),t=e||"local",n=450,[i,o]=E.useState(!0),l=E.useCallback(()=>{setTimeout(()=>o(!1),n)},[o,n]);return A.jsxs("main",{className:"w-dvw h-dvh flex flex-col text-white relative",children:[A.jsx("div",{className:"bg-default-2 border-b border-default-1 min-h-12 h-12 flex items-center px-4",children:A.jsx(iC,{})}),A.jsxs("div",{className:"flex-grow flex relative overflow-hidden",children:[A.jsx(xk,{}),A.jsx(SE,{sketchId:t,onReady:l}),A.jsx(tC,{})]}),A.jsx("div",{className:"bg-default-2 border-t border-default-1 h-6 overflow-hidden",children:A.jsx(EE,{})}),i&&A.jsx(uC,{}),A.jsx(sS,{})]})};sw.createRoot(document.getElementById("root")).render(A.jsx(E.StrictMode,{children:A.jsx(B4,{children:A.jsxs(m4,{children:[A.jsx(wd,{path:"/*",element:A.jsx(Q0,{})}),A.jsx(wd,{path:"/sketch/:id",element:A.jsx(Q0,{})})]})})}));
