var zx=Object.defineProperty;var xm=e=>{throw TypeError(e)};var Bx=(e,t,n)=>t in e?zx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var G=(e,t,n)=>Bx(e,typeof t!="symbol"?t+"":t,n),wm=(e,t,n)=>t.has(e)||xm("Cannot "+n);var yn=(e,t,n)=>(wm(e,t,"read from private field"),n?n.call(e):t.get(e)),km=(e,t,n)=>t.has(e)?xm("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),bm=(e,t,n,i)=>(wm(e,t,"write to private field"),i?i.call(e,n):t.set(e,n),n);function Ux(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in e)){const l=Object.getOwnPropertyDescriptor(i,o);l&&Object.defineProperty(e,o,l.get?l:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function V0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ih={exports:{}},Cl={},sh={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sm;function $x(){if(Sm)return Fe;Sm=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),m=Symbol.iterator;function v(L){return L===null||typeof L!="object"?null:(L=m&&L[m]||L["@@iterator"],typeof L=="function"?L:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,k={};function S(L,W,xe){this.props=L,this.context=W,this.refs=k,this.updater=xe||_}S.prototype.isReactComponent={},S.prototype.setState=function(L,W){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,W,"setState")},S.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function b(){}b.prototype=S.prototype;function x(L,W,xe){this.props=L,this.context=W,this.refs=k,this.updater=xe||_}var R=x.prototype=new b;R.constructor=x,w(R,S.prototype),R.isPureReactComponent=!0;var M=Array.isArray,P=Object.prototype.hasOwnProperty,I={current:null},j={key:!0,ref:!0,__self:!0,__source:!0};function Y(L,W,xe){var fe,oe={},Q=null,se=null;if(W!=null)for(fe in W.ref!==void 0&&(se=W.ref),W.key!==void 0&&(Q=""+W.key),W)P.call(W,fe)&&!j.hasOwnProperty(fe)&&(oe[fe]=W[fe]);var ee=arguments.length-2;if(ee===1)oe.children=xe;else if(1<ee){for(var Ce=Array(ee),Me=0;Me<ee;Me++)Ce[Me]=arguments[Me+2];oe.children=Ce}if(L&&L.defaultProps)for(fe in ee=L.defaultProps,ee)oe[fe]===void 0&&(oe[fe]=ee[fe]);return{$$typeof:e,type:L,key:Q,ref:se,props:oe,_owner:I.current}}function z(L,W){return{$$typeof:e,type:L.type,key:W,ref:L.ref,props:L.props,_owner:L._owner}}function H(L){return typeof L=="object"&&L!==null&&L.$$typeof===e}function X(L){var W={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(xe){return W[xe]})}var K=/\/+/g;function ae(L,W){return typeof L=="object"&&L!==null&&L.key!=null?X(""+L.key):W.toString(36)}function te(L,W,xe,fe,oe){var Q=typeof L;(Q==="undefined"||Q==="boolean")&&(L=null);var se=!1;if(L===null)se=!0;else switch(Q){case"string":case"number":se=!0;break;case"object":switch(L.$$typeof){case e:case t:se=!0}}if(se)return se=L,oe=oe(se),L=fe===""?"."+ae(se,0):fe,M(oe)?(xe="",L!=null&&(xe=L.replace(K,"$&/")+"/"),te(oe,W,xe,"",function(Me){return Me})):oe!=null&&(H(oe)&&(oe=z(oe,xe+(!oe.key||se&&se.key===oe.key?"":(""+oe.key).replace(K,"$&/")+"/")+L)),W.push(oe)),1;if(se=0,fe=fe===""?".":fe+":",M(L))for(var ee=0;ee<L.length;ee++){Q=L[ee];var Ce=fe+ae(Q,ee);se+=te(Q,W,xe,Ce,oe)}else if(Ce=v(L),typeof Ce=="function")for(L=Ce.call(L),ee=0;!(Q=L.next()).done;)Q=Q.value,Ce=fe+ae(Q,ee++),se+=te(Q,W,xe,Ce,oe);else if(Q==="object")throw W=String(L),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return se}function re(L,W,xe){if(L==null)return L;var fe=[],oe=0;return te(L,fe,"","",function(Q){return W.call(xe,Q,oe++)}),fe}function ue(L){if(L._status===-1){var W=L._result;W=W(),W.then(function(xe){(L._status===0||L._status===-1)&&(L._status=1,L._result=xe)},function(xe){(L._status===0||L._status===-1)&&(L._status=2,L._result=xe)}),L._status===-1&&(L._status=0,L._result=W)}if(L._status===1)return L._result.default;throw L._result}var Z={current:null},D={transition:null},B={ReactCurrentDispatcher:Z,ReactCurrentBatchConfig:D,ReactCurrentOwner:I};function q(){throw Error("act(...) is not supported in production builds of React.")}return Fe.Children={map:re,forEach:function(L,W,xe){re(L,function(){W.apply(this,arguments)},xe)},count:function(L){var W=0;return re(L,function(){W++}),W},toArray:function(L){return re(L,function(W){return W})||[]},only:function(L){if(!H(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Fe.Component=S,Fe.Fragment=n,Fe.Profiler=o,Fe.PureComponent=x,Fe.StrictMode=i,Fe.Suspense=h,Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B,Fe.act=q,Fe.cloneElement=function(L,W,xe){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var fe=w({},L.props),oe=L.key,Q=L.ref,se=L._owner;if(W!=null){if(W.ref!==void 0&&(Q=W.ref,se=I.current),W.key!==void 0&&(oe=""+W.key),L.type&&L.type.defaultProps)var ee=L.type.defaultProps;for(Ce in W)P.call(W,Ce)&&!j.hasOwnProperty(Ce)&&(fe[Ce]=W[Ce]===void 0&&ee!==void 0?ee[Ce]:W[Ce])}var Ce=arguments.length-2;if(Ce===1)fe.children=xe;else if(1<Ce){ee=Array(Ce);for(var Me=0;Me<Ce;Me++)ee[Me]=arguments[Me+2];fe.children=ee}return{$$typeof:e,type:L.type,key:oe,ref:Q,props:fe,_owner:se}},Fe.createContext=function(L){return L={$$typeof:u,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:l,_context:L},L.Consumer=L},Fe.createElement=Y,Fe.createFactory=function(L){var W=Y.bind(null,L);return W.type=L,W},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(L){return{$$typeof:c,render:L}},Fe.isValidElement=H,Fe.lazy=function(L){return{$$typeof:g,_payload:{_status:-1,_result:L},_init:ue}},Fe.memo=function(L,W){return{$$typeof:d,type:L,compare:W===void 0?null:W}},Fe.startTransition=function(L){var W=D.transition;D.transition={};try{L()}finally{D.transition=W}},Fe.unstable_act=q,Fe.useCallback=function(L,W){return Z.current.useCallback(L,W)},Fe.useContext=function(L){return Z.current.useContext(L)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(L){return Z.current.useDeferredValue(L)},Fe.useEffect=function(L,W){return Z.current.useEffect(L,W)},Fe.useId=function(){return Z.current.useId()},Fe.useImperativeHandle=function(L,W,xe){return Z.current.useImperativeHandle(L,W,xe)},Fe.useInsertionEffect=function(L,W){return Z.current.useInsertionEffect(L,W)},Fe.useLayoutEffect=function(L,W){return Z.current.useLayoutEffect(L,W)},Fe.useMemo=function(L,W){return Z.current.useMemo(L,W)},Fe.useReducer=function(L,W,xe){return Z.current.useReducer(L,W,xe)},Fe.useRef=function(L){return Z.current.useRef(L)},Fe.useState=function(L){return Z.current.useState(L)},Fe.useSyncExternalStore=function(L,W,xe){return Z.current.useSyncExternalStore(L,W,xe)},Fe.useTransition=function(){return Z.current.useTransition()},Fe.version="18.3.1",Fe}var Em;function yd(){return Em||(Em=1,sh.exports=$x()),sh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cm;function Vx(){if(Cm)return Cl;Cm=1;var e=yd(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(c,h,d){var g,m={},v=null,_=null;d!==void 0&&(v=""+d),h.key!==void 0&&(v=""+h.key),h.ref!==void 0&&(_=h.ref);for(g in h)i.call(h,g)&&!l.hasOwnProperty(g)&&(m[g]=h[g]);if(c&&c.defaultProps)for(g in h=c.defaultProps,h)m[g]===void 0&&(m[g]=h[g]);return{$$typeof:t,type:c,key:v,ref:_,props:m,_owner:o.current}}return Cl.Fragment=n,Cl.jsx=u,Cl.jsxs=u,Cl}var Rm;function Hx(){return Rm||(Rm=1,ih.exports=Vx()),ih.exports}var O=Hx(),E=yd();const rt=V0(E),Wx=Ux({__proto__:null,default:rt},[E]);var hu={},oh={exports:{}},_n={},lh={exports:{}},ah={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tm;function Yx(){return Tm||(Tm=1,function(e){function t(D,B){var q=D.length;D.push(B);e:for(;0<q;){var L=q-1>>>1,W=D[L];if(0<o(W,B))D[L]=B,D[q]=W,q=L;else break e}}function n(D){return D.length===0?null:D[0]}function i(D){if(D.length===0)return null;var B=D[0],q=D.pop();if(q!==B){D[0]=q;e:for(var L=0,W=D.length,xe=W>>>1;L<xe;){var fe=2*(L+1)-1,oe=D[fe],Q=fe+1,se=D[Q];if(0>o(oe,q))Q<W&&0>o(se,oe)?(D[L]=se,D[Q]=q,L=Q):(D[L]=oe,D[fe]=q,L=fe);else if(Q<W&&0>o(se,q))D[L]=se,D[Q]=q,L=Q;else break e}}return B}function o(D,B){var q=D.sortIndex-B.sortIndex;return q!==0?q:D.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var u=Date,c=u.now();e.unstable_now=function(){return u.now()-c}}var h=[],d=[],g=1,m=null,v=3,_=!1,w=!1,k=!1,S=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(D){for(var B=n(d);B!==null;){if(B.callback===null)i(d);else if(B.startTime<=D)i(d),B.sortIndex=B.expirationTime,t(h,B);else break;B=n(d)}}function M(D){if(k=!1,R(D),!w)if(n(h)!==null)w=!0,ue(P);else{var B=n(d);B!==null&&Z(M,B.startTime-D)}}function P(D,B){w=!1,k&&(k=!1,b(Y),Y=-1),_=!0;var q=v;try{for(R(B),m=n(h);m!==null&&(!(m.expirationTime>B)||D&&!X());){var L=m.callback;if(typeof L=="function"){m.callback=null,v=m.priorityLevel;var W=L(m.expirationTime<=B);B=e.unstable_now(),typeof W=="function"?m.callback=W:m===n(h)&&i(h),R(B)}else i(h);m=n(h)}if(m!==null)var xe=!0;else{var fe=n(d);fe!==null&&Z(M,fe.startTime-B),xe=!1}return xe}finally{m=null,v=q,_=!1}}var I=!1,j=null,Y=-1,z=5,H=-1;function X(){return!(e.unstable_now()-H<z)}function K(){if(j!==null){var D=e.unstable_now();H=D;var B=!0;try{B=j(!0,D)}finally{B?ae():(I=!1,j=null)}}else I=!1}var ae;if(typeof x=="function")ae=function(){x(K)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,re=te.port2;te.port1.onmessage=K,ae=function(){re.postMessage(null)}}else ae=function(){S(K,0)};function ue(D){j=D,I||(I=!0,ae())}function Z(D,B){Y=S(function(){D(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){w||_||(w=!0,ue(P))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(h)},e.unstable_next=function(D){switch(v){case 1:case 2:case 3:var B=3;break;default:B=v}var q=v;v=B;try{return D()}finally{v=q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,B){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var q=v;v=D;try{return B()}finally{v=q}},e.unstable_scheduleCallback=function(D,B,q){var L=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?L+q:L):q=L,D){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=q+W,D={id:g++,callback:B,priorityLevel:D,startTime:q,expirationTime:W,sortIndex:-1},q>L?(D.sortIndex=q,t(d,D),n(h)===null&&D===n(d)&&(k?(b(Y),Y=-1):k=!0,Z(M,q-L))):(D.sortIndex=W,t(h,D),w||_||(w=!0,ue(P))),D},e.unstable_shouldYield=X,e.unstable_wrapCallback=function(D){var B=v;return function(){var q=v;v=B;try{return D.apply(this,arguments)}finally{v=q}}}}(ah)),ah}var Mm;function Xx(){return Mm||(Mm=1,lh.exports=Yx()),lh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pm;function Kx(){if(Pm)return _n;Pm=1;var e=yd(),t=Xx();function n(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(r,s){u(r,s),u(r+"Capture",s)}function u(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},m={};function v(r){return h.call(m,r)?!0:h.call(g,r)?!1:d.test(r)?m[r]=!0:(g[r]=!0,!1)}function _(r,s,a,f){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return f?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function w(r,s,a,f){if(s===null||typeof s>"u"||_(r,s,a,f))return!0;if(f)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function k(r,s,a,f,p,y,C){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=f,this.attributeNamespace=p,this.mustUseProperty=a,this.propertyName=r,this.type=s,this.sanitizeURL=y,this.removeEmptyString=C}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){S[r]=new k(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];S[s]=new k(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){S[r]=new k(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){S[r]=new k(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){S[r]=new k(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){S[r]=new k(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){S[r]=new k(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){S[r]=new k(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){S[r]=new k(r,5,!1,r.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function x(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(b,x);S[s]=new k(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(b,x);S[s]=new k(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(b,x);S[s]=new k(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){S[r]=new k(r,1,!1,r.toLowerCase(),null,!1,!1)}),S.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){S[r]=new k(r,1,!1,r.toLowerCase(),null,!0,!0)});function R(r,s,a,f){var p=S.hasOwnProperty(s)?S[s]:null;(p!==null?p.type!==0:f||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(w(s,a,p,f)&&(a=null),f||p===null?v(s)&&(a===null?r.removeAttribute(s):r.setAttribute(s,""+a)):p.mustUseProperty?r[p.propertyName]=a===null?p.type===3?!1:"":a:(s=p.attributeName,f=p.attributeNamespace,a===null?r.removeAttribute(s):(p=p.type,a=p===3||p===4&&a===!0?"":""+a,f?r.setAttributeNS(f,s,a):r.setAttribute(s,a))))}var M=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),I=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),X=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),re=Symbol.for("react.memo"),ue=Symbol.for("react.lazy"),Z=Symbol.for("react.offscreen"),D=Symbol.iterator;function B(r){return r===null||typeof r!="object"?null:(r=D&&r[D]||r["@@iterator"],typeof r=="function"?r:null)}var q=Object.assign,L;function W(r){if(L===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);L=s&&s[1]||""}return`
`+L+r}var xe=!1;function fe(r,s){if(!r||xe)return"";xe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(V){var f=V}Reflect.construct(r,[],s)}else{try{s.call()}catch(V){f=V}r.call(s.prototype)}else{try{throw Error()}catch(V){f=V}r()}}catch(V){if(V&&f&&typeof V.stack=="string"){for(var p=V.stack.split(`
`),y=f.stack.split(`
`),C=p.length-1,A=y.length-1;1<=C&&0<=A&&p[C]!==y[A];)A--;for(;1<=C&&0<=A;C--,A--)if(p[C]!==y[A]){if(C!==1||A!==1)do if(C--,A--,0>A||p[C]!==y[A]){var F=`
`+p[C].replace(" at new "," at ");return r.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",r.displayName)),F}while(1<=C&&0<=A);break}}}finally{xe=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?W(r):""}function oe(r){switch(r.tag){case 5:return W(r.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return r=fe(r.type,!1),r;case 11:return r=fe(r.type.render,!1),r;case 1:return r=fe(r.type,!0),r;default:return""}}function Q(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case j:return"Fragment";case I:return"Portal";case z:return"Profiler";case Y:return"StrictMode";case ae:return"Suspense";case te:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case X:return(r.displayName||"Context")+".Consumer";case H:return(r._context.displayName||"Context")+".Provider";case K:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case re:return s=r.displayName||null,s!==null?s:Q(r.type)||"Memo";case ue:s=r._payload,r=r._init;try{return Q(r(s))}catch{}}return null}function se(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Q(s);case 8:return s===Y?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function ee(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ce(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Me(r){var s=Ce(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),f=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var p=a.get,y=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return p.call(this)},set:function(C){f=""+C,y.call(this,C)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return f},setValue:function(C){f=""+C},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Ve(r){r._valueTracker||(r._valueTracker=Me(r))}function dt(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),f="";return r&&(f=Ce(r)?r.checked?"true":"false":r.value),r=f,r!==a?(s.setValue(r),!0):!1}function zt(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Rt(r,s){var a=s.checked;return q({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function pt(r,s){var a=s.defaultValue==null?"":s.defaultValue,f=s.checked!=null?s.checked:s.defaultChecked;a=ee(s.value!=null?s.value:a),r._wrapperState={initialChecked:f,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Bt(r,s){s=s.checked,s!=null&&R(r,"checked",s,!1)}function en(r,s){Bt(r,s);var a=ee(s.value),f=s.type;if(a!=null)f==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(f==="submit"||f==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Ut(r,s.type,a):s.hasOwnProperty("defaultValue")&&Ut(r,s.type,ee(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Un(r,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var f=s.type;if(!(f!=="submit"&&f!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,a||s===r.value||(r.value=s),r.defaultValue=s}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function Ut(r,s,a){(s!=="number"||zt(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var $n=Array.isArray;function En(r,s,a,f){if(r=r.options,s){s={};for(var p=0;p<a.length;p++)s["$"+a[p]]=!0;for(a=0;a<r.length;a++)p=s.hasOwnProperty("$"+r[a].value),r[a].selected!==p&&(r[a].selected=p),p&&f&&(r[a].defaultSelected=!0)}else{for(a=""+ee(a),s=null,p=0;p<r.length;p++){if(r[p].value===a){r[p].selected=!0,f&&(r[p].defaultSelected=!0);return}s!==null||r[p].disabled||(s=r[p])}s!==null&&(s.selected=!0)}}function vr(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return q({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Cn(r,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(n(92));if($n(a)){if(1<a.length)throw Error(n(93));a=a[0]}s=a}s==null&&(s=""),a=s}r._wrapperState={initialValue:ee(a)}}function cn(r,s){var a=ee(s.value),f=ee(s.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),s.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),f!=null&&(r.defaultValue=""+f)}function xr(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function Ur(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vn(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?Ur(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Rn,tn=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,f,p){MSApp.execUnsafeLocalFunction(function(){return r(s,a,f,p)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Rn=Rn||document.createElement("div"),Rn.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Rn.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function Hn(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var Tn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wc=["Webkit","ms","Moz","O"];Object.keys(Tn).forEach(function(r){wc.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Tn[s]=Tn[r]})});function Ki(r,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||Tn.hasOwnProperty(r)&&Tn[r]?(""+s).trim():s+"px"}function ta(r,s){r=r.style;for(var a in s)if(s.hasOwnProperty(a)){var f=a.indexOf("--")===0,p=Ki(a,s[a],f);a==="float"&&(a="cssFloat"),f?r.setProperty(a,p):r[a]=p}}var na=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ui(r,s){if(s){if(na[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function Is(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jo=null;function Ns(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Wn=null,ci=null,ct=null;function $r(r){if(r=fl(r)){if(typeof Wn!="function")throw Error(n(280));var s=r.stateNode;s&&(s=Ra(s),Wn(r.stateNode,r.type,s))}}function qi(r){ci?ct?ct.push(r):ct=[r]:ci=r}function Do(){if(ci){var r=ci,s=ct;if(ct=ci=null,$r(r),s)for(r=0;r<s.length;r++)$r(s[r])}}function ra(r,s){return r(s)}function ia(){}var Vr=!1;function zo(r,s,a){if(Vr)return r(s,a);Vr=!0;try{return ra(r,s,a)}finally{Vr=!1,(ci!==null||ct!==null)&&(ia(),Do())}}function Gi(r,s){var a=r.stateNode;if(a===null)return null;var f=Ra(a);if(f===null)return null;a=f[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(r=r.type,f=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!f;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(n(231,s,typeof a));return a}var Bo=!1;if(c)try{var Hr={};Object.defineProperty(Hr,"passive",{get:function(){Bo=!0}}),window.addEventListener("test",Hr,Hr),window.removeEventListener("test",Hr,Hr)}catch{Bo=!1}function sa(r,s,a,f,p,y,C,A,F){var V=Array.prototype.slice.call(arguments,3);try{s.apply(a,V)}catch(ie){this.onError(ie)}}var fi=!1,js=null,Ds=!1,zs=null,Uo={onError:function(r){fi=!0,js=r}};function oa(r,s,a,f,p,y,C,A,F){fi=!1,js=null,sa.apply(Uo,arguments)}function kc(r,s,a,f,p,y,C,A,F){if(oa.apply(this,arguments),fi){if(fi){var V=js;fi=!1,js=null}else throw Error(n(198));Ds||(Ds=!0,zs=V)}}function Wr(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function $o(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Vo(r){if(Wr(r)!==r)throw Error(n(188))}function Qi(r){var s=r.alternate;if(!s){if(s=Wr(r),s===null)throw Error(n(188));return s!==r?null:r}for(var a=r,f=s;;){var p=a.return;if(p===null)break;var y=p.alternate;if(y===null){if(f=p.return,f!==null){a=f;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===a)return Vo(p),r;if(y===f)return Vo(p),s;y=y.sibling}throw Error(n(188))}if(a.return!==f.return)a=p,f=y;else{for(var C=!1,A=p.child;A;){if(A===a){C=!0,a=p,f=y;break}if(A===f){C=!0,f=p,a=y;break}A=A.sibling}if(!C){for(A=y.child;A;){if(A===a){C=!0,a=y,f=p;break}if(A===f){C=!0,f=y,a=p;break}A=A.sibling}if(!C)throw Error(n(189))}}if(a.alternate!==f)throw Error(n(190))}if(a.tag!==3)throw Error(n(188));return a.stateNode.current===a?r:s}function la(r){return r=Qi(r),r!==null?Ho(r):null}function Ho(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Ho(r);if(s!==null)return s;r=r.sibling}return null}var Wo=t.unstable_scheduleCallback,Yo=t.unstable_cancelCallback,bc=t.unstable_shouldYield,Ue=t.unstable_requestPaint,ge=t.unstable_now,He=t.unstable_getCurrentPriorityLevel,Xe=t.unstable_ImmediatePriority,gt=t.unstable_UserBlockingPriority,Mn=t.unstable_NormalPriority,sr=t.unstable_LowPriority,Yn=t.unstable_IdlePriority,fn=null,Tt=null;function hi(r){if(Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(fn,r,void 0,(r.current.flags&128)===128)}catch{}}var _t=Math.clz32?Math.clz32:i1,Bs=Math.log,aa=Math.LN2;function i1(r){return r>>>=0,r===0?32:31-(Bs(r)/aa|0)|0}var ua=64,ca=4194304;function Xo(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function fa(r,s){var a=r.pendingLanes;if(a===0)return 0;var f=0,p=r.suspendedLanes,y=r.pingedLanes,C=a&268435455;if(C!==0){var A=C&~p;A!==0?f=Xo(A):(y&=C,y!==0&&(f=Xo(y)))}else C=a&~p,C!==0?f=Xo(C):y!==0&&(f=Xo(y));if(f===0)return 0;if(s!==0&&s!==f&&!(s&p)&&(p=f&-f,y=s&-s,p>=y||p===16&&(y&4194240)!==0))return s;if(f&4&&(f|=a&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=f;0<s;)a=31-_t(s),p=1<<a,f|=r[a],s&=~p;return f}function s1(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function o1(r,s){for(var a=r.suspendedLanes,f=r.pingedLanes,p=r.expirationTimes,y=r.pendingLanes;0<y;){var C=31-_t(y),A=1<<C,F=p[C];F===-1?(!(A&a)||A&f)&&(p[C]=s1(A,s)):F<=s&&(r.expiredLanes|=A),y&=~A}}function Sc(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Qd(){var r=ua;return ua<<=1,!(ua&4194240)&&(ua=64),r}function Ec(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function Ko(r,s,a){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-_t(s),r[s]=a}function l1(r,s){var a=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var f=r.eventTimes;for(r=r.expirationTimes;0<a;){var p=31-_t(a),y=1<<p;s[p]=0,f[p]=-1,r[p]=-1,a&=~y}}function Cc(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var f=31-_t(a),p=1<<f;p&s|r[f]&s&&(r[f]|=s),a&=~p}}var We=0;function Zd(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var Jd,Rc,ep,tp,np,Tc=!1,ha=[],di=null,pi=null,gi=null,qo=new Map,Go=new Map,mi=[],a1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rp(r,s){switch(r){case"focusin":case"focusout":di=null;break;case"dragenter":case"dragleave":pi=null;break;case"mouseover":case"mouseout":gi=null;break;case"pointerover":case"pointerout":qo.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Go.delete(s.pointerId)}}function Qo(r,s,a,f,p,y){return r===null||r.nativeEvent!==y?(r={blockedOn:s,domEventName:a,eventSystemFlags:f,nativeEvent:y,targetContainers:[p]},s!==null&&(s=fl(s),s!==null&&Rc(s)),r):(r.eventSystemFlags|=f,s=r.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),r)}function u1(r,s,a,f,p){switch(s){case"focusin":return di=Qo(di,r,s,a,f,p),!0;case"dragenter":return pi=Qo(pi,r,s,a,f,p),!0;case"mouseover":return gi=Qo(gi,r,s,a,f,p),!0;case"pointerover":var y=p.pointerId;return qo.set(y,Qo(qo.get(y)||null,r,s,a,f,p)),!0;case"gotpointercapture":return y=p.pointerId,Go.set(y,Qo(Go.get(y)||null,r,s,a,f,p)),!0}return!1}function ip(r){var s=Zi(r.target);if(s!==null){var a=Wr(s);if(a!==null){if(s=a.tag,s===13){if(s=$o(a),s!==null){r.blockedOn=s,np(r.priority,function(){ep(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function da(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=Pc(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var f=new a.constructor(a.type,a);jo=f,a.target.dispatchEvent(f),jo=null}else return s=fl(a),s!==null&&Rc(s),r.blockedOn=a,!1;s.shift()}return!0}function sp(r,s,a){da(r)&&a.delete(s)}function c1(){Tc=!1,di!==null&&da(di)&&(di=null),pi!==null&&da(pi)&&(pi=null),gi!==null&&da(gi)&&(gi=null),qo.forEach(sp),Go.forEach(sp)}function Zo(r,s){r.blockedOn===s&&(r.blockedOn=null,Tc||(Tc=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,c1)))}function Jo(r){function s(p){return Zo(p,r)}if(0<ha.length){Zo(ha[0],r);for(var a=1;a<ha.length;a++){var f=ha[a];f.blockedOn===r&&(f.blockedOn=null)}}for(di!==null&&Zo(di,r),pi!==null&&Zo(pi,r),gi!==null&&Zo(gi,r),qo.forEach(s),Go.forEach(s),a=0;a<mi.length;a++)f=mi[a],f.blockedOn===r&&(f.blockedOn=null);for(;0<mi.length&&(a=mi[0],a.blockedOn===null);)ip(a),a.blockedOn===null&&mi.shift()}var Us=M.ReactCurrentBatchConfig,pa=!0;function f1(r,s,a,f){var p=We,y=Us.transition;Us.transition=null;try{We=1,Mc(r,s,a,f)}finally{We=p,Us.transition=y}}function h1(r,s,a,f){var p=We,y=Us.transition;Us.transition=null;try{We=4,Mc(r,s,a,f)}finally{We=p,Us.transition=y}}function Mc(r,s,a,f){if(pa){var p=Pc(r,s,a,f);if(p===null)Xc(r,s,f,ga,a),rp(r,f);else if(u1(p,r,s,a,f))f.stopPropagation();else if(rp(r,f),s&4&&-1<a1.indexOf(r)){for(;p!==null;){var y=fl(p);if(y!==null&&Jd(y),y=Pc(r,s,a,f),y===null&&Xc(r,s,f,ga,a),y===p)break;p=y}p!==null&&f.stopPropagation()}else Xc(r,s,f,null,a)}}var ga=null;function Pc(r,s,a,f){if(ga=null,r=Ns(f),r=Zi(r),r!==null)if(s=Wr(r),s===null)r=null;else if(a=s.tag,a===13){if(r=$o(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return ga=r,null}function op(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(He()){case Xe:return 1;case gt:return 4;case Mn:case sr:return 16;case Yn:return 536870912;default:return 16}default:return 16}}var yi=null,Ac=null,ma=null;function lp(){if(ma)return ma;var r,s=Ac,a=s.length,f,p="value"in yi?yi.value:yi.textContent,y=p.length;for(r=0;r<a&&s[r]===p[r];r++);var C=a-r;for(f=1;f<=C&&s[a-f]===p[y-f];f++);return ma=p.slice(r,1<f?1-f:void 0)}function ya(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function _a(){return!0}function ap(){return!1}function Pn(r){function s(a,f,p,y,C){this._reactName=a,this._targetInst=p,this.type=f,this.nativeEvent=y,this.target=C,this.currentTarget=null;for(var A in r)r.hasOwnProperty(A)&&(a=r[A],this[A]=a?a(y):y[A]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?_a:ap,this.isPropagationStopped=ap,this}return q(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=_a)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=_a)},persist:function(){},isPersistent:_a}),s}var $s={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oc=Pn($s),el=q({},$s,{view:0,detail:0}),d1=Pn(el),Lc,Fc,tl,va=q({},el,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nc,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==tl&&(tl&&r.type==="mousemove"?(Lc=r.screenX-tl.screenX,Fc=r.screenY-tl.screenY):Fc=Lc=0,tl=r),Lc)},movementY:function(r){return"movementY"in r?r.movementY:Fc}}),up=Pn(va),p1=q({},va,{dataTransfer:0}),g1=Pn(p1),m1=q({},el,{relatedTarget:0}),Ic=Pn(m1),y1=q({},$s,{animationName:0,elapsedTime:0,pseudoElement:0}),_1=Pn(y1),v1=q({},$s,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),x1=Pn(v1),w1=q({},$s,{data:0}),cp=Pn(w1),k1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},b1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},S1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function E1(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=S1[r])?!!s[r]:!1}function Nc(){return E1}var C1=q({},el,{key:function(r){if(r.key){var s=k1[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=ya(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?b1[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nc,charCode:function(r){return r.type==="keypress"?ya(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ya(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),R1=Pn(C1),T1=q({},va,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fp=Pn(T1),M1=q({},el,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nc}),P1=Pn(M1),A1=q({},$s,{propertyName:0,elapsedTime:0,pseudoElement:0}),O1=Pn(A1),L1=q({},va,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),F1=Pn(L1),I1=[9,13,27,32],jc=c&&"CompositionEvent"in window,nl=null;c&&"documentMode"in document&&(nl=document.documentMode);var N1=c&&"TextEvent"in window&&!nl,hp=c&&(!jc||nl&&8<nl&&11>=nl),dp=" ",pp=!1;function gp(r,s){switch(r){case"keyup":return I1.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mp(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Vs=!1;function j1(r,s){switch(r){case"compositionend":return mp(s);case"keypress":return s.which!==32?null:(pp=!0,dp);case"textInput":return r=s.data,r===dp&&pp?null:r;default:return null}}function D1(r,s){if(Vs)return r==="compositionend"||!jc&&gp(r,s)?(r=lp(),ma=Ac=yi=null,Vs=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return hp&&s.locale!=="ko"?null:s.data;default:return null}}var z1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yp(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!z1[r.type]:s==="textarea"}function _p(r,s,a,f){qi(f),s=Sa(s,"onChange"),0<s.length&&(a=new Oc("onChange","change",null,a,f),r.push({event:a,listeners:s}))}var rl=null,il=null;function B1(r){Np(r,0)}function xa(r){var s=Ks(r);if(dt(s))return r}function U1(r,s){if(r==="change")return s}var vp=!1;if(c){var Dc;if(c){var zc="oninput"in document;if(!zc){var xp=document.createElement("div");xp.setAttribute("oninput","return;"),zc=typeof xp.oninput=="function"}Dc=zc}else Dc=!1;vp=Dc&&(!document.documentMode||9<document.documentMode)}function wp(){rl&&(rl.detachEvent("onpropertychange",kp),il=rl=null)}function kp(r){if(r.propertyName==="value"&&xa(il)){var s=[];_p(s,il,r,Ns(r)),zo(B1,s)}}function $1(r,s,a){r==="focusin"?(wp(),rl=s,il=a,rl.attachEvent("onpropertychange",kp)):r==="focusout"&&wp()}function V1(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return xa(il)}function H1(r,s){if(r==="click")return xa(s)}function W1(r,s){if(r==="input"||r==="change")return xa(s)}function Y1(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var or=typeof Object.is=="function"?Object.is:Y1;function sl(r,s){if(or(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),f=Object.keys(s);if(a.length!==f.length)return!1;for(f=0;f<a.length;f++){var p=a[f];if(!h.call(s,p)||!or(r[p],s[p]))return!1}return!0}function bp(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Sp(r,s){var a=bp(r);r=0;for(var f;a;){if(a.nodeType===3){if(f=r+a.textContent.length,r<=s&&f>=s)return{node:a,offset:s-r};r=f}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=bp(a)}}function Ep(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Ep(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Cp(){for(var r=window,s=zt();s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=zt(r.document)}return s}function Bc(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function X1(r){var s=Cp(),a=r.focusedElem,f=r.selectionRange;if(s!==a&&a&&a.ownerDocument&&Ep(a.ownerDocument.documentElement,a)){if(f!==null&&Bc(a)){if(s=f.start,r=f.end,r===void 0&&(r=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(r,a.value.length);else if(r=(s=a.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var p=a.textContent.length,y=Math.min(f.start,p);f=f.end===void 0?y:Math.min(f.end,p),!r.extend&&y>f&&(p=f,f=y,y=p),p=Sp(a,y);var C=Sp(a,f);p&&C&&(r.rangeCount!==1||r.anchorNode!==p.node||r.anchorOffset!==p.offset||r.focusNode!==C.node||r.focusOffset!==C.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),r.removeAllRanges(),y>f?(r.addRange(s),r.extend(C.node,C.offset)):(s.setEnd(C.node,C.offset),r.addRange(s)))}}for(s=[],r=a;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)r=s[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var K1=c&&"documentMode"in document&&11>=document.documentMode,Hs=null,Uc=null,ol=null,$c=!1;function Rp(r,s,a){var f=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;$c||Hs==null||Hs!==zt(f)||(f=Hs,"selectionStart"in f&&Bc(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),ol&&sl(ol,f)||(ol=f,f=Sa(Uc,"onSelect"),0<f.length&&(s=new Oc("onSelect","select",null,s,a),r.push({event:s,listeners:f}),s.target=Hs)))}function wa(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var Ws={animationend:wa("Animation","AnimationEnd"),animationiteration:wa("Animation","AnimationIteration"),animationstart:wa("Animation","AnimationStart"),transitionend:wa("Transition","TransitionEnd")},Vc={},Tp={};c&&(Tp=document.createElement("div").style,"AnimationEvent"in window||(delete Ws.animationend.animation,delete Ws.animationiteration.animation,delete Ws.animationstart.animation),"TransitionEvent"in window||delete Ws.transitionend.transition);function ka(r){if(Vc[r])return Vc[r];if(!Ws[r])return r;var s=Ws[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in Tp)return Vc[r]=s[a];return r}var Mp=ka("animationend"),Pp=ka("animationiteration"),Ap=ka("animationstart"),Op=ka("transitionend"),Lp=new Map,Fp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _i(r,s){Lp.set(r,s),l(s,[r])}for(var Hc=0;Hc<Fp.length;Hc++){var Wc=Fp[Hc],q1=Wc.toLowerCase(),G1=Wc[0].toUpperCase()+Wc.slice(1);_i(q1,"on"+G1)}_i(Mp,"onAnimationEnd"),_i(Pp,"onAnimationIteration"),_i(Ap,"onAnimationStart"),_i("dblclick","onDoubleClick"),_i("focusin","onFocus"),_i("focusout","onBlur"),_i(Op,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Q1=new Set("cancel close invalid load scroll toggle".split(" ").concat(ll));function Ip(r,s,a){var f=r.type||"unknown-event";r.currentTarget=a,kc(f,s,void 0,r),r.currentTarget=null}function Np(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var f=r[a],p=f.event;f=f.listeners;e:{var y=void 0;if(s)for(var C=f.length-1;0<=C;C--){var A=f[C],F=A.instance,V=A.currentTarget;if(A=A.listener,F!==y&&p.isPropagationStopped())break e;Ip(p,A,V),y=F}else for(C=0;C<f.length;C++){if(A=f[C],F=A.instance,V=A.currentTarget,A=A.listener,F!==y&&p.isPropagationStopped())break e;Ip(p,A,V),y=F}}}if(Ds)throw r=zs,Ds=!1,zs=null,r}function Ge(r,s){var a=s[Jc];a===void 0&&(a=s[Jc]=new Set);var f=r+"__bubble";a.has(f)||(jp(s,r,2,!1),a.add(f))}function Yc(r,s,a){var f=0;s&&(f|=4),jp(a,r,f,s)}var ba="_reactListening"+Math.random().toString(36).slice(2);function al(r){if(!r[ba]){r[ba]=!0,i.forEach(function(a){a!=="selectionchange"&&(Q1.has(a)||Yc(a,!1,r),Yc(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[ba]||(s[ba]=!0,Yc("selectionchange",!1,s))}}function jp(r,s,a,f){switch(op(s)){case 1:var p=f1;break;case 4:p=h1;break;default:p=Mc}a=p.bind(null,s,a,r),p=void 0,!Bo||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),f?p!==void 0?r.addEventListener(s,a,{capture:!0,passive:p}):r.addEventListener(s,a,!0):p!==void 0?r.addEventListener(s,a,{passive:p}):r.addEventListener(s,a,!1)}function Xc(r,s,a,f,p){var y=f;if(!(s&1)&&!(s&2)&&f!==null)e:for(;;){if(f===null)return;var C=f.tag;if(C===3||C===4){var A=f.stateNode.containerInfo;if(A===p||A.nodeType===8&&A.parentNode===p)break;if(C===4)for(C=f.return;C!==null;){var F=C.tag;if((F===3||F===4)&&(F=C.stateNode.containerInfo,F===p||F.nodeType===8&&F.parentNode===p))return;C=C.return}for(;A!==null;){if(C=Zi(A),C===null)return;if(F=C.tag,F===5||F===6){f=y=C;continue e}A=A.parentNode}}f=f.return}zo(function(){var V=y,ie=Ns(a),le=[];e:{var ne=Lp.get(r);if(ne!==void 0){var me=Oc,ve=r;switch(r){case"keypress":if(ya(a)===0)break e;case"keydown":case"keyup":me=R1;break;case"focusin":ve="focus",me=Ic;break;case"focusout":ve="blur",me=Ic;break;case"beforeblur":case"afterblur":me=Ic;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=up;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=g1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=P1;break;case Mp:case Pp:case Ap:me=_1;break;case Op:me=O1;break;case"scroll":me=d1;break;case"wheel":me=F1;break;case"copy":case"cut":case"paste":me=x1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=fp}var we=(s&4)!==0,mt=!we&&r==="scroll",U=we?ne!==null?ne+"Capture":null:ne;we=[];for(var N=V,$;N!==null;){$=N;var he=$.stateNode;if($.tag===5&&he!==null&&($=he,U!==null&&(he=Gi(N,U),he!=null&&we.push(ul(N,he,$)))),mt)break;N=N.return}0<we.length&&(ne=new me(ne,ve,null,a,ie),le.push({event:ne,listeners:we}))}}if(!(s&7)){e:{if(ne=r==="mouseover"||r==="pointerover",me=r==="mouseout"||r==="pointerout",ne&&a!==jo&&(ve=a.relatedTarget||a.fromElement)&&(Zi(ve)||ve[Yr]))break e;if((me||ne)&&(ne=ie.window===ie?ie:(ne=ie.ownerDocument)?ne.defaultView||ne.parentWindow:window,me?(ve=a.relatedTarget||a.toElement,me=V,ve=ve?Zi(ve):null,ve!==null&&(mt=Wr(ve),ve!==mt||ve.tag!==5&&ve.tag!==6)&&(ve=null)):(me=null,ve=V),me!==ve)){if(we=up,he="onMouseLeave",U="onMouseEnter",N="mouse",(r==="pointerout"||r==="pointerover")&&(we=fp,he="onPointerLeave",U="onPointerEnter",N="pointer"),mt=me==null?ne:Ks(me),$=ve==null?ne:Ks(ve),ne=new we(he,N+"leave",me,a,ie),ne.target=mt,ne.relatedTarget=$,he=null,Zi(ie)===V&&(we=new we(U,N+"enter",ve,a,ie),we.target=$,we.relatedTarget=mt,he=we),mt=he,me&&ve)t:{for(we=me,U=ve,N=0,$=we;$;$=Ys($))N++;for($=0,he=U;he;he=Ys(he))$++;for(;0<N-$;)we=Ys(we),N--;for(;0<$-N;)U=Ys(U),$--;for(;N--;){if(we===U||U!==null&&we===U.alternate)break t;we=Ys(we),U=Ys(U)}we=null}else we=null;me!==null&&Dp(le,ne,me,we,!1),ve!==null&&mt!==null&&Dp(le,mt,ve,we,!0)}}e:{if(ne=V?Ks(V):window,me=ne.nodeName&&ne.nodeName.toLowerCase(),me==="select"||me==="input"&&ne.type==="file")var Se=U1;else if(yp(ne))if(vp)Se=W1;else{Se=V1;var Re=$1}else(me=ne.nodeName)&&me.toLowerCase()==="input"&&(ne.type==="checkbox"||ne.type==="radio")&&(Se=H1);if(Se&&(Se=Se(r,V))){_p(le,Se,a,ie);break e}Re&&Re(r,ne,V),r==="focusout"&&(Re=ne._wrapperState)&&Re.controlled&&ne.type==="number"&&Ut(ne,"number",ne.value)}switch(Re=V?Ks(V):window,r){case"focusin":(yp(Re)||Re.contentEditable==="true")&&(Hs=Re,Uc=V,ol=null);break;case"focusout":ol=Uc=Hs=null;break;case"mousedown":$c=!0;break;case"contextmenu":case"mouseup":case"dragend":$c=!1,Rp(le,a,ie);break;case"selectionchange":if(K1)break;case"keydown":case"keyup":Rp(le,a,ie)}var Te;if(jc)e:{switch(r){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Vs?gp(r,a)&&(Oe="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Oe="onCompositionStart");Oe&&(hp&&a.locale!=="ko"&&(Vs||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Vs&&(Te=lp()):(yi=ie,Ac="value"in yi?yi.value:yi.textContent,Vs=!0)),Re=Sa(V,Oe),0<Re.length&&(Oe=new cp(Oe,r,null,a,ie),le.push({event:Oe,listeners:Re}),Te?Oe.data=Te:(Te=mp(a),Te!==null&&(Oe.data=Te)))),(Te=N1?j1(r,a):D1(r,a))&&(V=Sa(V,"onBeforeInput"),0<V.length&&(ie=new cp("onBeforeInput","beforeinput",null,a,ie),le.push({event:ie,listeners:V}),ie.data=Te))}Np(le,s)})}function ul(r,s,a){return{instance:r,listener:s,currentTarget:a}}function Sa(r,s){for(var a=s+"Capture",f=[];r!==null;){var p=r,y=p.stateNode;p.tag===5&&y!==null&&(p=y,y=Gi(r,a),y!=null&&f.unshift(ul(r,y,p)),y=Gi(r,s),y!=null&&f.push(ul(r,y,p))),r=r.return}return f}function Ys(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Dp(r,s,a,f,p){for(var y=s._reactName,C=[];a!==null&&a!==f;){var A=a,F=A.alternate,V=A.stateNode;if(F!==null&&F===f)break;A.tag===5&&V!==null&&(A=V,p?(F=Gi(a,y),F!=null&&C.unshift(ul(a,F,A))):p||(F=Gi(a,y),F!=null&&C.push(ul(a,F,A)))),a=a.return}C.length!==0&&r.push({event:s,listeners:C})}var Z1=/\r\n?/g,J1=/\u0000|\uFFFD/g;function zp(r){return(typeof r=="string"?r:""+r).replace(Z1,`
`).replace(J1,"")}function Ea(r,s,a){if(s=zp(s),zp(r)!==s&&a)throw Error(n(425))}function Ca(){}var Kc=null,qc=null;function Gc(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Qc=typeof setTimeout=="function"?setTimeout:void 0,ex=typeof clearTimeout=="function"?clearTimeout:void 0,Bp=typeof Promise=="function"?Promise:void 0,tx=typeof queueMicrotask=="function"?queueMicrotask:typeof Bp<"u"?function(r){return Bp.resolve(null).then(r).catch(nx)}:Qc;function nx(r){setTimeout(function(){throw r})}function Zc(r,s){var a=s,f=0;do{var p=a.nextSibling;if(r.removeChild(a),p&&p.nodeType===8)if(a=p.data,a==="/$"){if(f===0){r.removeChild(p),Jo(s);return}f--}else a!=="$"&&a!=="$?"&&a!=="$!"||f++;a=p}while(a);Jo(s)}function vi(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Up(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}var Xs=Math.random().toString(36).slice(2),wr="__reactFiber$"+Xs,cl="__reactProps$"+Xs,Yr="__reactContainer$"+Xs,Jc="__reactEvents$"+Xs,rx="__reactListeners$"+Xs,ix="__reactHandles$"+Xs;function Zi(r){var s=r[wr];if(s)return s;for(var a=r.parentNode;a;){if(s=a[Yr]||a[wr]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=Up(r);r!==null;){if(a=r[wr])return a;r=Up(r)}return s}r=a,a=r.parentNode}return null}function fl(r){return r=r[wr]||r[Yr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Ks(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function Ra(r){return r[cl]||null}var ef=[],qs=-1;function xi(r){return{current:r}}function Qe(r){0>qs||(r.current=ef[qs],ef[qs]=null,qs--)}function Ke(r,s){qs++,ef[qs]=r.current,r.current=s}var wi={},$t=xi(wi),hn=xi(!1),Ji=wi;function Gs(r,s){var a=r.type.contextTypes;if(!a)return wi;var f=r.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===s)return f.__reactInternalMemoizedMaskedChildContext;var p={},y;for(y in a)p[y]=s[y];return f&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=p),p}function dn(r){return r=r.childContextTypes,r!=null}function Ta(){Qe(hn),Qe($t)}function $p(r,s,a){if($t.current!==wi)throw Error(n(168));Ke($t,s),Ke(hn,a)}function Vp(r,s,a){var f=r.stateNode;if(s=s.childContextTypes,typeof f.getChildContext!="function")return a;f=f.getChildContext();for(var p in f)if(!(p in s))throw Error(n(108,se(r)||"Unknown",p));return q({},a,f)}function Ma(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||wi,Ji=$t.current,Ke($t,r),Ke(hn,hn.current),!0}function Hp(r,s,a){var f=r.stateNode;if(!f)throw Error(n(169));a?(r=Vp(r,s,Ji),f.__reactInternalMemoizedMergedChildContext=r,Qe(hn),Qe($t),Ke($t,r)):Qe(hn),Ke(hn,a)}var Xr=null,Pa=!1,tf=!1;function Wp(r){Xr===null?Xr=[r]:Xr.push(r)}function sx(r){Pa=!0,Wp(r)}function ki(){if(!tf&&Xr!==null){tf=!0;var r=0,s=We;try{var a=Xr;for(We=1;r<a.length;r++){var f=a[r];do f=f(!0);while(f!==null)}Xr=null,Pa=!1}catch(p){throw Xr!==null&&(Xr=Xr.slice(r+1)),Wo(Xe,ki),p}finally{We=s,tf=!1}}return null}var Qs=[],Zs=0,Aa=null,Oa=0,Xn=[],Kn=0,es=null,Kr=1,qr="";function ts(r,s){Qs[Zs++]=Oa,Qs[Zs++]=Aa,Aa=r,Oa=s}function Yp(r,s,a){Xn[Kn++]=Kr,Xn[Kn++]=qr,Xn[Kn++]=es,es=r;var f=Kr;r=qr;var p=32-_t(f)-1;f&=~(1<<p),a+=1;var y=32-_t(s)+p;if(30<y){var C=p-p%5;y=(f&(1<<C)-1).toString(32),f>>=C,p-=C,Kr=1<<32-_t(s)+p|a<<p|f,qr=y+r}else Kr=1<<y|a<<p|f,qr=r}function nf(r){r.return!==null&&(ts(r,1),Yp(r,1,0))}function rf(r){for(;r===Aa;)Aa=Qs[--Zs],Qs[Zs]=null,Oa=Qs[--Zs],Qs[Zs]=null;for(;r===es;)es=Xn[--Kn],Xn[Kn]=null,qr=Xn[--Kn],Xn[Kn]=null,Kr=Xn[--Kn],Xn[Kn]=null}var An=null,On=null,et=!1,lr=null;function Xp(r,s){var a=Zn(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=r,s=r.deletions,s===null?(r.deletions=[a],r.flags|=16):s.push(a)}function Kp(r,s){switch(r.tag){case 5:var a=r.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,An=r,On=vi(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,An=r,On=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=es!==null?{id:Kr,overflow:qr}:null,r.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Zn(18,null,null,0),a.stateNode=s,a.return=r,r.child=a,An=r,On=null,!0):!1;default:return!1}}function sf(r){return(r.mode&1)!==0&&(r.flags&128)===0}function of(r){if(et){var s=On;if(s){var a=s;if(!Kp(r,s)){if(sf(r))throw Error(n(418));s=vi(a.nextSibling);var f=An;s&&Kp(r,s)?Xp(f,a):(r.flags=r.flags&-4097|2,et=!1,An=r)}}else{if(sf(r))throw Error(n(418));r.flags=r.flags&-4097|2,et=!1,An=r}}}function qp(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;An=r}function La(r){if(r!==An)return!1;if(!et)return qp(r),et=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Gc(r.type,r.memoizedProps)),s&&(s=On)){if(sf(r))throw Gp(),Error(n(418));for(;s;)Xp(r,s),s=vi(s.nextSibling)}if(qp(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(s===0){On=vi(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}r=r.nextSibling}On=null}}else On=An?vi(r.stateNode.nextSibling):null;return!0}function Gp(){for(var r=On;r;)r=vi(r.nextSibling)}function Js(){On=An=null,et=!1}function lf(r){lr===null?lr=[r]:lr.push(r)}var ox=M.ReactCurrentBatchConfig;function hl(r,s,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(n(309));var f=a.stateNode}if(!f)throw Error(n(147,r));var p=f,y=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===y?s.ref:(s=function(C){var A=p.refs;C===null?delete A[y]:A[y]=C},s._stringRef=y,s)}if(typeof r!="string")throw Error(n(284));if(!a._owner)throw Error(n(290,r))}return r}function Fa(r,s){throw r=Object.prototype.toString.call(s),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Qp(r){var s=r._init;return s(r._payload)}function Zp(r){function s(U,N){if(r){var $=U.deletions;$===null?(U.deletions=[N],U.flags|=16):$.push(N)}}function a(U,N){if(!r)return null;for(;N!==null;)s(U,N),N=N.sibling;return null}function f(U,N){for(U=new Map;N!==null;)N.key!==null?U.set(N.key,N):U.set(N.index,N),N=N.sibling;return U}function p(U,N){return U=Pi(U,N),U.index=0,U.sibling=null,U}function y(U,N,$){return U.index=$,r?($=U.alternate,$!==null?($=$.index,$<N?(U.flags|=2,N):$):(U.flags|=2,N)):(U.flags|=1048576,N)}function C(U){return r&&U.alternate===null&&(U.flags|=2),U}function A(U,N,$,he){return N===null||N.tag!==6?(N=Zf($,U.mode,he),N.return=U,N):(N=p(N,$),N.return=U,N)}function F(U,N,$,he){var Se=$.type;return Se===j?ie(U,N,$.props.children,he,$.key):N!==null&&(N.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===ue&&Qp(Se)===N.type)?(he=p(N,$.props),he.ref=hl(U,N,$),he.return=U,he):(he=iu($.type,$.key,$.props,null,U.mode,he),he.ref=hl(U,N,$),he.return=U,he)}function V(U,N,$,he){return N===null||N.tag!==4||N.stateNode.containerInfo!==$.containerInfo||N.stateNode.implementation!==$.implementation?(N=Jf($,U.mode,he),N.return=U,N):(N=p(N,$.children||[]),N.return=U,N)}function ie(U,N,$,he,Se){return N===null||N.tag!==7?(N=us($,U.mode,he,Se),N.return=U,N):(N=p(N,$),N.return=U,N)}function le(U,N,$){if(typeof N=="string"&&N!==""||typeof N=="number")return N=Zf(""+N,U.mode,$),N.return=U,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case P:return $=iu(N.type,N.key,N.props,null,U.mode,$),$.ref=hl(U,null,N),$.return=U,$;case I:return N=Jf(N,U.mode,$),N.return=U,N;case ue:var he=N._init;return le(U,he(N._payload),$)}if($n(N)||B(N))return N=us(N,U.mode,$,null),N.return=U,N;Fa(U,N)}return null}function ne(U,N,$,he){var Se=N!==null?N.key:null;if(typeof $=="string"&&$!==""||typeof $=="number")return Se!==null?null:A(U,N,""+$,he);if(typeof $=="object"&&$!==null){switch($.$$typeof){case P:return $.key===Se?F(U,N,$,he):null;case I:return $.key===Se?V(U,N,$,he):null;case ue:return Se=$._init,ne(U,N,Se($._payload),he)}if($n($)||B($))return Se!==null?null:ie(U,N,$,he,null);Fa(U,$)}return null}function me(U,N,$,he,Se){if(typeof he=="string"&&he!==""||typeof he=="number")return U=U.get($)||null,A(N,U,""+he,Se);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case P:return U=U.get(he.key===null?$:he.key)||null,F(N,U,he,Se);case I:return U=U.get(he.key===null?$:he.key)||null,V(N,U,he,Se);case ue:var Re=he._init;return me(U,N,$,Re(he._payload),Se)}if($n(he)||B(he))return U=U.get($)||null,ie(N,U,he,Se,null);Fa(N,he)}return null}function ve(U,N,$,he){for(var Se=null,Re=null,Te=N,Oe=N=0,At=null;Te!==null&&Oe<$.length;Oe++){Te.index>Oe?(At=Te,Te=null):At=Te.sibling;var Be=ne(U,Te,$[Oe],he);if(Be===null){Te===null&&(Te=At);break}r&&Te&&Be.alternate===null&&s(U,Te),N=y(Be,N,Oe),Re===null?Se=Be:Re.sibling=Be,Re=Be,Te=At}if(Oe===$.length)return a(U,Te),et&&ts(U,Oe),Se;if(Te===null){for(;Oe<$.length;Oe++)Te=le(U,$[Oe],he),Te!==null&&(N=y(Te,N,Oe),Re===null?Se=Te:Re.sibling=Te,Re=Te);return et&&ts(U,Oe),Se}for(Te=f(U,Te);Oe<$.length;Oe++)At=me(Te,U,Oe,$[Oe],he),At!==null&&(r&&At.alternate!==null&&Te.delete(At.key===null?Oe:At.key),N=y(At,N,Oe),Re===null?Se=At:Re.sibling=At,Re=At);return r&&Te.forEach(function(Ai){return s(U,Ai)}),et&&ts(U,Oe),Se}function we(U,N,$,he){var Se=B($);if(typeof Se!="function")throw Error(n(150));if($=Se.call($),$==null)throw Error(n(151));for(var Re=Se=null,Te=N,Oe=N=0,At=null,Be=$.next();Te!==null&&!Be.done;Oe++,Be=$.next()){Te.index>Oe?(At=Te,Te=null):At=Te.sibling;var Ai=ne(U,Te,Be.value,he);if(Ai===null){Te===null&&(Te=At);break}r&&Te&&Ai.alternate===null&&s(U,Te),N=y(Ai,N,Oe),Re===null?Se=Ai:Re.sibling=Ai,Re=Ai,Te=At}if(Be.done)return a(U,Te),et&&ts(U,Oe),Se;if(Te===null){for(;!Be.done;Oe++,Be=$.next())Be=le(U,Be.value,he),Be!==null&&(N=y(Be,N,Oe),Re===null?Se=Be:Re.sibling=Be,Re=Be);return et&&ts(U,Oe),Se}for(Te=f(U,Te);!Be.done;Oe++,Be=$.next())Be=me(Te,U,Oe,Be.value,he),Be!==null&&(r&&Be.alternate!==null&&Te.delete(Be.key===null?Oe:Be.key),N=y(Be,N,Oe),Re===null?Se=Be:Re.sibling=Be,Re=Be);return r&&Te.forEach(function(Dx){return s(U,Dx)}),et&&ts(U,Oe),Se}function mt(U,N,$,he){if(typeof $=="object"&&$!==null&&$.type===j&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case P:e:{for(var Se=$.key,Re=N;Re!==null;){if(Re.key===Se){if(Se=$.type,Se===j){if(Re.tag===7){a(U,Re.sibling),N=p(Re,$.props.children),N.return=U,U=N;break e}}else if(Re.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===ue&&Qp(Se)===Re.type){a(U,Re.sibling),N=p(Re,$.props),N.ref=hl(U,Re,$),N.return=U,U=N;break e}a(U,Re);break}else s(U,Re);Re=Re.sibling}$.type===j?(N=us($.props.children,U.mode,he,$.key),N.return=U,U=N):(he=iu($.type,$.key,$.props,null,U.mode,he),he.ref=hl(U,N,$),he.return=U,U=he)}return C(U);case I:e:{for(Re=$.key;N!==null;){if(N.key===Re)if(N.tag===4&&N.stateNode.containerInfo===$.containerInfo&&N.stateNode.implementation===$.implementation){a(U,N.sibling),N=p(N,$.children||[]),N.return=U,U=N;break e}else{a(U,N);break}else s(U,N);N=N.sibling}N=Jf($,U.mode,he),N.return=U,U=N}return C(U);case ue:return Re=$._init,mt(U,N,Re($._payload),he)}if($n($))return ve(U,N,$,he);if(B($))return we(U,N,$,he);Fa(U,$)}return typeof $=="string"&&$!==""||typeof $=="number"?($=""+$,N!==null&&N.tag===6?(a(U,N.sibling),N=p(N,$),N.return=U,U=N):(a(U,N),N=Zf($,U.mode,he),N.return=U,U=N),C(U)):a(U,N)}return mt}var eo=Zp(!0),Jp=Zp(!1),Ia=xi(null),Na=null,to=null,af=null;function uf(){af=to=Na=null}function cf(r){var s=Ia.current;Qe(Ia),r._currentValue=s}function ff(r,s,a){for(;r!==null;){var f=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,f!==null&&(f.childLanes|=s)):f!==null&&(f.childLanes&s)!==s&&(f.childLanes|=s),r===a)break;r=r.return}}function no(r,s){Na=r,af=to=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&s&&(pn=!0),r.firstContext=null)}function qn(r){var s=r._currentValue;if(af!==r)if(r={context:r,memoizedValue:s,next:null},to===null){if(Na===null)throw Error(n(308));to=r,Na.dependencies={lanes:0,firstContext:r}}else to=to.next=r;return s}var ns=null;function hf(r){ns===null?ns=[r]:ns.push(r)}function eg(r,s,a,f){var p=s.interleaved;return p===null?(a.next=a,hf(s)):(a.next=p.next,p.next=a),s.interleaved=a,Gr(r,f)}function Gr(r,s){r.lanes|=s;var a=r.alternate;for(a!==null&&(a.lanes|=s),a=r,r=r.return;r!==null;)r.childLanes|=s,a=r.alternate,a!==null&&(a.childLanes|=s),a=r,r=r.return;return a.tag===3?a.stateNode:null}var bi=!1;function df(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tg(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Qr(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function Si(r,s,a){var f=r.updateQueue;if(f===null)return null;if(f=f.shared,je&2){var p=f.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),f.pending=s,Gr(r,a)}return p=f.interleaved,p===null?(s.next=s,hf(f)):(s.next=p.next,p.next=s),f.interleaved=s,Gr(r,a)}function ja(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var f=s.lanes;f&=r.pendingLanes,a|=f,s.lanes=a,Cc(r,a)}}function ng(r,s){var a=r.updateQueue,f=r.alternate;if(f!==null&&(f=f.updateQueue,a===f)){var p=null,y=null;if(a=a.firstBaseUpdate,a!==null){do{var C={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};y===null?p=y=C:y=y.next=C,a=a.next}while(a!==null);y===null?p=y=s:y=y.next=s}else p=y=s;a={baseState:f.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:f.shared,effects:f.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}function Da(r,s,a,f){var p=r.updateQueue;bi=!1;var y=p.firstBaseUpdate,C=p.lastBaseUpdate,A=p.shared.pending;if(A!==null){p.shared.pending=null;var F=A,V=F.next;F.next=null,C===null?y=V:C.next=V,C=F;var ie=r.alternate;ie!==null&&(ie=ie.updateQueue,A=ie.lastBaseUpdate,A!==C&&(A===null?ie.firstBaseUpdate=V:A.next=V,ie.lastBaseUpdate=F))}if(y!==null){var le=p.baseState;C=0,ie=V=F=null,A=y;do{var ne=A.lane,me=A.eventTime;if((f&ne)===ne){ie!==null&&(ie=ie.next={eventTime:me,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var ve=r,we=A;switch(ne=s,me=a,we.tag){case 1:if(ve=we.payload,typeof ve=="function"){le=ve.call(me,le,ne);break e}le=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=we.payload,ne=typeof ve=="function"?ve.call(me,le,ne):ve,ne==null)break e;le=q({},le,ne);break e;case 2:bi=!0}}A.callback!==null&&A.lane!==0&&(r.flags|=64,ne=p.effects,ne===null?p.effects=[A]:ne.push(A))}else me={eventTime:me,lane:ne,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ie===null?(V=ie=me,F=le):ie=ie.next=me,C|=ne;if(A=A.next,A===null){if(A=p.shared.pending,A===null)break;ne=A,A=ne.next,ne.next=null,p.lastBaseUpdate=ne,p.shared.pending=null}}while(!0);if(ie===null&&(F=le),p.baseState=F,p.firstBaseUpdate=V,p.lastBaseUpdate=ie,s=p.shared.interleaved,s!==null){p=s;do C|=p.lane,p=p.next;while(p!==s)}else y===null&&(p.shared.lanes=0);ss|=C,r.lanes=C,r.memoizedState=le}}function rg(r,s,a){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var f=r[s],p=f.callback;if(p!==null){if(f.callback=null,f=a,typeof p!="function")throw Error(n(191,p));p.call(f)}}}var dl={},kr=xi(dl),pl=xi(dl),gl=xi(dl);function rs(r){if(r===dl)throw Error(n(174));return r}function pf(r,s){switch(Ke(gl,s),Ke(pl,r),Ke(kr,dl),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Vn(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=Vn(s,r)}Qe(kr),Ke(kr,s)}function ro(){Qe(kr),Qe(pl),Qe(gl)}function ig(r){rs(gl.current);var s=rs(kr.current),a=Vn(s,r.type);s!==a&&(Ke(pl,r),Ke(kr,a))}function gf(r){pl.current===r&&(Qe(kr),Qe(pl))}var it=xi(0);function za(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var mf=[];function yf(){for(var r=0;r<mf.length;r++)mf[r]._workInProgressVersionPrimary=null;mf.length=0}var Ba=M.ReactCurrentDispatcher,_f=M.ReactCurrentBatchConfig,is=0,st=null,kt=null,Mt=null,Ua=!1,ml=!1,yl=0,lx=0;function Vt(){throw Error(n(321))}function vf(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!or(r[a],s[a]))return!1;return!0}function xf(r,s,a,f,p,y){if(is=y,st=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Ba.current=r===null||r.memoizedState===null?fx:hx,r=a(f,p),ml){y=0;do{if(ml=!1,yl=0,25<=y)throw Error(n(301));y+=1,Mt=kt=null,s.updateQueue=null,Ba.current=dx,r=a(f,p)}while(ml)}if(Ba.current=Ha,s=kt!==null&&kt.next!==null,is=0,Mt=kt=st=null,Ua=!1,s)throw Error(n(300));return r}function wf(){var r=yl!==0;return yl=0,r}function br(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?st.memoizedState=Mt=r:Mt=Mt.next=r,Mt}function Gn(){if(kt===null){var r=st.alternate;r=r!==null?r.memoizedState:null}else r=kt.next;var s=Mt===null?st.memoizedState:Mt.next;if(s!==null)Mt=s,kt=r;else{if(r===null)throw Error(n(310));kt=r,r={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},Mt===null?st.memoizedState=Mt=r:Mt=Mt.next=r}return Mt}function _l(r,s){return typeof s=="function"?s(r):s}function kf(r){var s=Gn(),a=s.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=r;var f=kt,p=f.baseQueue,y=a.pending;if(y!==null){if(p!==null){var C=p.next;p.next=y.next,y.next=C}f.baseQueue=p=y,a.pending=null}if(p!==null){y=p.next,f=f.baseState;var A=C=null,F=null,V=y;do{var ie=V.lane;if((is&ie)===ie)F!==null&&(F=F.next={lane:0,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),f=V.hasEagerState?V.eagerState:r(f,V.action);else{var le={lane:ie,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null};F===null?(A=F=le,C=f):F=F.next=le,st.lanes|=ie,ss|=ie}V=V.next}while(V!==null&&V!==y);F===null?C=f:F.next=A,or(f,s.memoizedState)||(pn=!0),s.memoizedState=f,s.baseState=C,s.baseQueue=F,a.lastRenderedState=f}if(r=a.interleaved,r!==null){p=r;do y=p.lane,st.lanes|=y,ss|=y,p=p.next;while(p!==r)}else p===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function bf(r){var s=Gn(),a=s.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=r;var f=a.dispatch,p=a.pending,y=s.memoizedState;if(p!==null){a.pending=null;var C=p=p.next;do y=r(y,C.action),C=C.next;while(C!==p);or(y,s.memoizedState)||(pn=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),a.lastRenderedState=y}return[y,f]}function sg(){}function og(r,s){var a=st,f=Gn(),p=s(),y=!or(f.memoizedState,p);if(y&&(f.memoizedState=p,pn=!0),f=f.queue,Sf(ug.bind(null,a,f,r),[r]),f.getSnapshot!==s||y||Mt!==null&&Mt.memoizedState.tag&1){if(a.flags|=2048,vl(9,ag.bind(null,a,f,p,s),void 0,null),Pt===null)throw Error(n(349));is&30||lg(a,s,p)}return p}function lg(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=st.updateQueue,s===null?(s={lastEffect:null,stores:null},st.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function ag(r,s,a,f){s.value=a,s.getSnapshot=f,cg(s)&&fg(r)}function ug(r,s,a){return a(function(){cg(s)&&fg(r)})}function cg(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!or(r,a)}catch{return!0}}function fg(r){var s=Gr(r,1);s!==null&&fr(s,r,1,-1)}function hg(r){var s=br();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_l,lastRenderedState:r},s.queue=r,r=r.dispatch=cx.bind(null,st,r),[s.memoizedState,r]}function vl(r,s,a,f){return r={tag:r,create:s,destroy:a,deps:f,next:null},s=st.updateQueue,s===null?(s={lastEffect:null,stores:null},st.updateQueue=s,s.lastEffect=r.next=r):(a=s.lastEffect,a===null?s.lastEffect=r.next=r:(f=a.next,a.next=r,r.next=f,s.lastEffect=r)),r}function dg(){return Gn().memoizedState}function $a(r,s,a,f){var p=br();st.flags|=r,p.memoizedState=vl(1|s,a,void 0,f===void 0?null:f)}function Va(r,s,a,f){var p=Gn();f=f===void 0?null:f;var y=void 0;if(kt!==null){var C=kt.memoizedState;if(y=C.destroy,f!==null&&vf(f,C.deps)){p.memoizedState=vl(s,a,y,f);return}}st.flags|=r,p.memoizedState=vl(1|s,a,y,f)}function pg(r,s){return $a(8390656,8,r,s)}function Sf(r,s){return Va(2048,8,r,s)}function gg(r,s){return Va(4,2,r,s)}function mg(r,s){return Va(4,4,r,s)}function yg(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function _g(r,s,a){return a=a!=null?a.concat([r]):null,Va(4,4,yg.bind(null,s,r),a)}function Ef(){}function vg(r,s){var a=Gn();s=s===void 0?null:s;var f=a.memoizedState;return f!==null&&s!==null&&vf(s,f[1])?f[0]:(a.memoizedState=[r,s],r)}function xg(r,s){var a=Gn();s=s===void 0?null:s;var f=a.memoizedState;return f!==null&&s!==null&&vf(s,f[1])?f[0]:(r=r(),a.memoizedState=[r,s],r)}function wg(r,s,a){return is&21?(or(a,s)||(a=Qd(),st.lanes|=a,ss|=a,r.baseState=!0),s):(r.baseState&&(r.baseState=!1,pn=!0),r.memoizedState=a)}function ax(r,s){var a=We;We=a!==0&&4>a?a:4,r(!0);var f=_f.transition;_f.transition={};try{r(!1),s()}finally{We=a,_f.transition=f}}function kg(){return Gn().memoizedState}function ux(r,s,a){var f=Ti(r);if(a={lane:f,action:a,hasEagerState:!1,eagerState:null,next:null},bg(r))Sg(s,a);else if(a=eg(r,s,a,f),a!==null){var p=rn();fr(a,r,f,p),Eg(a,s,f)}}function cx(r,s,a){var f=Ti(r),p={lane:f,action:a,hasEagerState:!1,eagerState:null,next:null};if(bg(r))Sg(s,p);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var C=s.lastRenderedState,A=y(C,a);if(p.hasEagerState=!0,p.eagerState=A,or(A,C)){var F=s.interleaved;F===null?(p.next=p,hf(s)):(p.next=F.next,F.next=p),s.interleaved=p;return}}catch{}finally{}a=eg(r,s,p,f),a!==null&&(p=rn(),fr(a,r,f,p),Eg(a,s,f))}}function bg(r){var s=r.alternate;return r===st||s!==null&&s===st}function Sg(r,s){ml=Ua=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function Eg(r,s,a){if(a&4194240){var f=s.lanes;f&=r.pendingLanes,a|=f,s.lanes=a,Cc(r,a)}}var Ha={readContext:qn,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},fx={readContext:qn,useCallback:function(r,s){return br().memoizedState=[r,s===void 0?null:s],r},useContext:qn,useEffect:pg,useImperativeHandle:function(r,s,a){return a=a!=null?a.concat([r]):null,$a(4194308,4,yg.bind(null,s,r),a)},useLayoutEffect:function(r,s){return $a(4194308,4,r,s)},useInsertionEffect:function(r,s){return $a(4,2,r,s)},useMemo:function(r,s){var a=br();return s=s===void 0?null:s,r=r(),a.memoizedState=[r,s],r},useReducer:function(r,s,a){var f=br();return s=a!==void 0?a(s):s,f.memoizedState=f.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},f.queue=r,r=r.dispatch=ux.bind(null,st,r),[f.memoizedState,r]},useRef:function(r){var s=br();return r={current:r},s.memoizedState=r},useState:hg,useDebugValue:Ef,useDeferredValue:function(r){return br().memoizedState=r},useTransition:function(){var r=hg(!1),s=r[0];return r=ax.bind(null,r[1]),br().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,a){var f=st,p=br();if(et){if(a===void 0)throw Error(n(407));a=a()}else{if(a=s(),Pt===null)throw Error(n(349));is&30||lg(f,s,a)}p.memoizedState=a;var y={value:a,getSnapshot:s};return p.queue=y,pg(ug.bind(null,f,y,r),[r]),f.flags|=2048,vl(9,ag.bind(null,f,y,a,s),void 0,null),a},useId:function(){var r=br(),s=Pt.identifierPrefix;if(et){var a=qr,f=Kr;a=(f&~(1<<32-_t(f)-1)).toString(32)+a,s=":"+s+"R"+a,a=yl++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=lx++,s=":"+s+"r"+a.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},hx={readContext:qn,useCallback:vg,useContext:qn,useEffect:Sf,useImperativeHandle:_g,useInsertionEffect:gg,useLayoutEffect:mg,useMemo:xg,useReducer:kf,useRef:dg,useState:function(){return kf(_l)},useDebugValue:Ef,useDeferredValue:function(r){var s=Gn();return wg(s,kt.memoizedState,r)},useTransition:function(){var r=kf(_l)[0],s=Gn().memoizedState;return[r,s]},useMutableSource:sg,useSyncExternalStore:og,useId:kg,unstable_isNewReconciler:!1},dx={readContext:qn,useCallback:vg,useContext:qn,useEffect:Sf,useImperativeHandle:_g,useInsertionEffect:gg,useLayoutEffect:mg,useMemo:xg,useReducer:bf,useRef:dg,useState:function(){return bf(_l)},useDebugValue:Ef,useDeferredValue:function(r){var s=Gn();return kt===null?s.memoizedState=r:wg(s,kt.memoizedState,r)},useTransition:function(){var r=bf(_l)[0],s=Gn().memoizedState;return[r,s]},useMutableSource:sg,useSyncExternalStore:og,useId:kg,unstable_isNewReconciler:!1};function ar(r,s){if(r&&r.defaultProps){s=q({},s),r=r.defaultProps;for(var a in r)s[a]===void 0&&(s[a]=r[a]);return s}return s}function Cf(r,s,a,f){s=r.memoizedState,a=a(f,s),a=a==null?s:q({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Wa={isMounted:function(r){return(r=r._reactInternals)?Wr(r)===r:!1},enqueueSetState:function(r,s,a){r=r._reactInternals;var f=rn(),p=Ti(r),y=Qr(f,p);y.payload=s,a!=null&&(y.callback=a),s=Si(r,y,p),s!==null&&(fr(s,r,p,f),ja(s,r,p))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var f=rn(),p=Ti(r),y=Qr(f,p);y.tag=1,y.payload=s,a!=null&&(y.callback=a),s=Si(r,y,p),s!==null&&(fr(s,r,p,f),ja(s,r,p))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=rn(),f=Ti(r),p=Qr(a,f);p.tag=2,s!=null&&(p.callback=s),s=Si(r,p,f),s!==null&&(fr(s,r,f,a),ja(s,r,f))}};function Cg(r,s,a,f,p,y,C){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(f,y,C):s.prototype&&s.prototype.isPureReactComponent?!sl(a,f)||!sl(p,y):!0}function Rg(r,s,a){var f=!1,p=wi,y=s.contextType;return typeof y=="object"&&y!==null?y=qn(y):(p=dn(s)?Ji:$t.current,f=s.contextTypes,y=(f=f!=null)?Gs(r,p):wi),s=new s(a,y),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Wa,r.stateNode=s,s._reactInternals=r,f&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=p,r.__reactInternalMemoizedMaskedChildContext=y),s}function Tg(r,s,a,f){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,f),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,f),s.state!==r&&Wa.enqueueReplaceState(s,s.state,null)}function Rf(r,s,a,f){var p=r.stateNode;p.props=a,p.state=r.memoizedState,p.refs={},df(r);var y=s.contextType;typeof y=="object"&&y!==null?p.context=qn(y):(y=dn(s)?Ji:$t.current,p.context=Gs(r,y)),p.state=r.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(Cf(r,s,y,a),p.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(s=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),s!==p.state&&Wa.enqueueReplaceState(p,p.state,null),Da(r,a,p,f),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308)}function io(r,s){try{var a="",f=s;do a+=oe(f),f=f.return;while(f);var p=a}catch(y){p=`
Error generating stack: `+y.message+`
`+y.stack}return{value:r,source:s,stack:p,digest:null}}function Tf(r,s,a){return{value:r,source:null,stack:a??null,digest:s??null}}function Mf(r,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var px=typeof WeakMap=="function"?WeakMap:Map;function Mg(r,s,a){a=Qr(-1,a),a.tag=3,a.payload={element:null};var f=s.value;return a.callback=function(){Za||(Za=!0,Hf=f),Mf(r,s)},a}function Pg(r,s,a){a=Qr(-1,a),a.tag=3;var f=r.type.getDerivedStateFromError;if(typeof f=="function"){var p=s.value;a.payload=function(){return f(p)},a.callback=function(){Mf(r,s)}}var y=r.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(a.callback=function(){Mf(r,s),typeof f!="function"&&(Ci===null?Ci=new Set([this]):Ci.add(this));var C=s.stack;this.componentDidCatch(s.value,{componentStack:C!==null?C:""})}),a}function Ag(r,s,a){var f=r.pingCache;if(f===null){f=r.pingCache=new px;var p=new Set;f.set(s,p)}else p=f.get(s),p===void 0&&(p=new Set,f.set(s,p));p.has(a)||(p.add(a),r=Tx.bind(null,r,s,a),s.then(r,r))}function Og(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Lg(r,s,a,f,p){return r.mode&1?(r.flags|=65536,r.lanes=p,r):(r===s?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=Qr(-1,1),s.tag=2,Si(a,s,1))),a.lanes|=1),r)}var gx=M.ReactCurrentOwner,pn=!1;function nn(r,s,a,f){s.child=r===null?Jp(s,null,a,f):eo(s,r.child,a,f)}function Fg(r,s,a,f,p){a=a.render;var y=s.ref;return no(s,p),f=xf(r,s,a,f,y,p),a=wf(),r!==null&&!pn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,Zr(r,s,p)):(et&&a&&nf(s),s.flags|=1,nn(r,s,f,p),s.child)}function Ig(r,s,a,f,p){if(r===null){var y=a.type;return typeof y=="function"&&!Qf(y)&&y.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=y,Ng(r,s,y,f,p)):(r=iu(a.type,null,f,s,s.mode,p),r.ref=s.ref,r.return=s,s.child=r)}if(y=r.child,!(r.lanes&p)){var C=y.memoizedProps;if(a=a.compare,a=a!==null?a:sl,a(C,f)&&r.ref===s.ref)return Zr(r,s,p)}return s.flags|=1,r=Pi(y,f),r.ref=s.ref,r.return=s,s.child=r}function Ng(r,s,a,f,p){if(r!==null){var y=r.memoizedProps;if(sl(y,f)&&r.ref===s.ref)if(pn=!1,s.pendingProps=f=y,(r.lanes&p)!==0)r.flags&131072&&(pn=!0);else return s.lanes=r.lanes,Zr(r,s,p)}return Pf(r,s,a,f,p)}function jg(r,s,a){var f=s.pendingProps,p=f.children,y=r!==null?r.memoizedState:null;if(f.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(oo,Ln),Ln|=a;else{if(!(a&1073741824))return r=y!==null?y.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Ke(oo,Ln),Ln|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=y!==null?y.baseLanes:a,Ke(oo,Ln),Ln|=f}else y!==null?(f=y.baseLanes|a,s.memoizedState=null):f=a,Ke(oo,Ln),Ln|=f;return nn(r,s,p,a),s.child}function Dg(r,s){var a=s.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function Pf(r,s,a,f,p){var y=dn(a)?Ji:$t.current;return y=Gs(s,y),no(s,p),a=xf(r,s,a,f,y,p),f=wf(),r!==null&&!pn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,Zr(r,s,p)):(et&&f&&nf(s),s.flags|=1,nn(r,s,a,p),s.child)}function zg(r,s,a,f,p){if(dn(a)){var y=!0;Ma(s)}else y=!1;if(no(s,p),s.stateNode===null)Xa(r,s),Rg(s,a,f),Rf(s,a,f,p),f=!0;else if(r===null){var C=s.stateNode,A=s.memoizedProps;C.props=A;var F=C.context,V=a.contextType;typeof V=="object"&&V!==null?V=qn(V):(V=dn(a)?Ji:$t.current,V=Gs(s,V));var ie=a.getDerivedStateFromProps,le=typeof ie=="function"||typeof C.getSnapshotBeforeUpdate=="function";le||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(A!==f||F!==V)&&Tg(s,C,f,V),bi=!1;var ne=s.memoizedState;C.state=ne,Da(s,f,C,p),F=s.memoizedState,A!==f||ne!==F||hn.current||bi?(typeof ie=="function"&&(Cf(s,a,ie,f),F=s.memoizedState),(A=bi||Cg(s,a,A,f,ne,F,V))?(le||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(s.flags|=4194308)):(typeof C.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=f,s.memoizedState=F),C.props=f,C.state=F,C.context=V,f=A):(typeof C.componentDidMount=="function"&&(s.flags|=4194308),f=!1)}else{C=s.stateNode,tg(r,s),A=s.memoizedProps,V=s.type===s.elementType?A:ar(s.type,A),C.props=V,le=s.pendingProps,ne=C.context,F=a.contextType,typeof F=="object"&&F!==null?F=qn(F):(F=dn(a)?Ji:$t.current,F=Gs(s,F));var me=a.getDerivedStateFromProps;(ie=typeof me=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(A!==le||ne!==F)&&Tg(s,C,f,F),bi=!1,ne=s.memoizedState,C.state=ne,Da(s,f,C,p);var ve=s.memoizedState;A!==le||ne!==ve||hn.current||bi?(typeof me=="function"&&(Cf(s,a,me,f),ve=s.memoizedState),(V=bi||Cg(s,a,V,f,ne,ve,F)||!1)?(ie||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(f,ve,F),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(f,ve,F)),typeof C.componentDidUpdate=="function"&&(s.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof C.componentDidUpdate!="function"||A===r.memoizedProps&&ne===r.memoizedState||(s.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&ne===r.memoizedState||(s.flags|=1024),s.memoizedProps=f,s.memoizedState=ve),C.props=f,C.state=ve,C.context=F,f=V):(typeof C.componentDidUpdate!="function"||A===r.memoizedProps&&ne===r.memoizedState||(s.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&ne===r.memoizedState||(s.flags|=1024),f=!1)}return Af(r,s,a,f,y,p)}function Af(r,s,a,f,p,y){Dg(r,s);var C=(s.flags&128)!==0;if(!f&&!C)return p&&Hp(s,a,!1),Zr(r,s,y);f=s.stateNode,gx.current=s;var A=C&&typeof a.getDerivedStateFromError!="function"?null:f.render();return s.flags|=1,r!==null&&C?(s.child=eo(s,r.child,null,y),s.child=eo(s,null,A,y)):nn(r,s,A,y),s.memoizedState=f.state,p&&Hp(s,a,!0),s.child}function Bg(r){var s=r.stateNode;s.pendingContext?$p(r,s.pendingContext,s.pendingContext!==s.context):s.context&&$p(r,s.context,!1),pf(r,s.containerInfo)}function Ug(r,s,a,f,p){return Js(),lf(p),s.flags|=256,nn(r,s,a,f),s.child}var Of={dehydrated:null,treeContext:null,retryLane:0};function Lf(r){return{baseLanes:r,cachePool:null,transitions:null}}function $g(r,s,a){var f=s.pendingProps,p=it.current,y=!1,C=(s.flags&128)!==0,A;if((A=C)||(A=r!==null&&r.memoizedState===null?!1:(p&2)!==0),A?(y=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(p|=1),Ke(it,p&1),r===null)return of(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(s.mode&1?r.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(C=f.children,r=f.fallback,y?(f=s.mode,y=s.child,C={mode:"hidden",children:C},!(f&1)&&y!==null?(y.childLanes=0,y.pendingProps=C):y=su(C,f,0,null),r=us(r,f,a,null),y.return=s,r.return=s,y.sibling=r,s.child=y,s.child.memoizedState=Lf(a),s.memoizedState=Of,r):Ff(s,C));if(p=r.memoizedState,p!==null&&(A=p.dehydrated,A!==null))return mx(r,s,C,f,A,p,a);if(y){y=f.fallback,C=s.mode,p=r.child,A=p.sibling;var F={mode:"hidden",children:f.children};return!(C&1)&&s.child!==p?(f=s.child,f.childLanes=0,f.pendingProps=F,s.deletions=null):(f=Pi(p,F),f.subtreeFlags=p.subtreeFlags&14680064),A!==null?y=Pi(A,y):(y=us(y,C,a,null),y.flags|=2),y.return=s,f.return=s,f.sibling=y,s.child=f,f=y,y=s.child,C=r.child.memoizedState,C=C===null?Lf(a):{baseLanes:C.baseLanes|a,cachePool:null,transitions:C.transitions},y.memoizedState=C,y.childLanes=r.childLanes&~a,s.memoizedState=Of,f}return y=r.child,r=y.sibling,f=Pi(y,{mode:"visible",children:f.children}),!(s.mode&1)&&(f.lanes=a),f.return=s,f.sibling=null,r!==null&&(a=s.deletions,a===null?(s.deletions=[r],s.flags|=16):a.push(r)),s.child=f,s.memoizedState=null,f}function Ff(r,s){return s=su({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Ya(r,s,a,f){return f!==null&&lf(f),eo(s,r.child,null,a),r=Ff(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function mx(r,s,a,f,p,y,C){if(a)return s.flags&256?(s.flags&=-257,f=Tf(Error(n(422))),Ya(r,s,C,f)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(y=f.fallback,p=s.mode,f=su({mode:"visible",children:f.children},p,0,null),y=us(y,p,C,null),y.flags|=2,f.return=s,y.return=s,f.sibling=y,s.child=f,s.mode&1&&eo(s,r.child,null,C),s.child.memoizedState=Lf(C),s.memoizedState=Of,y);if(!(s.mode&1))return Ya(r,s,C,null);if(p.data==="$!"){if(f=p.nextSibling&&p.nextSibling.dataset,f)var A=f.dgst;return f=A,y=Error(n(419)),f=Tf(y,f,void 0),Ya(r,s,C,f)}if(A=(C&r.childLanes)!==0,pn||A){if(f=Pt,f!==null){switch(C&-C){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=p&(f.suspendedLanes|C)?0:p,p!==0&&p!==y.retryLane&&(y.retryLane=p,Gr(r,p),fr(f,r,p,-1))}return Gf(),f=Tf(Error(n(421))),Ya(r,s,C,f)}return p.data==="$?"?(s.flags|=128,s.child=r.child,s=Mx.bind(null,r),p._reactRetry=s,null):(r=y.treeContext,On=vi(p.nextSibling),An=s,et=!0,lr=null,r!==null&&(Xn[Kn++]=Kr,Xn[Kn++]=qr,Xn[Kn++]=es,Kr=r.id,qr=r.overflow,es=s),s=Ff(s,f.children),s.flags|=4096,s)}function Vg(r,s,a){r.lanes|=s;var f=r.alternate;f!==null&&(f.lanes|=s),ff(r.return,s,a)}function If(r,s,a,f,p){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:f,tail:a,tailMode:p}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=f,y.tail=a,y.tailMode=p)}function Hg(r,s,a){var f=s.pendingProps,p=f.revealOrder,y=f.tail;if(nn(r,s,f.children,a),f=it.current,f&2)f=f&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Vg(r,a,s);else if(r.tag===19)Vg(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}f&=1}if(Ke(it,f),!(s.mode&1))s.memoizedState=null;else switch(p){case"forwards":for(a=s.child,p=null;a!==null;)r=a.alternate,r!==null&&za(r)===null&&(p=a),a=a.sibling;a=p,a===null?(p=s.child,s.child=null):(p=a.sibling,a.sibling=null),If(s,!1,p,a,y);break;case"backwards":for(a=null,p=s.child,s.child=null;p!==null;){if(r=p.alternate,r!==null&&za(r)===null){s.child=p;break}r=p.sibling,p.sibling=a,a=p,p=r}If(s,!0,a,null,y);break;case"together":If(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Xa(r,s){!(s.mode&1)&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Zr(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),ss|=s.lanes,!(a&s.childLanes))return null;if(r!==null&&s.child!==r.child)throw Error(n(153));if(s.child!==null){for(r=s.child,a=Pi(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=Pi(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function yx(r,s,a){switch(s.tag){case 3:Bg(s),Js();break;case 5:ig(s);break;case 1:dn(s.type)&&Ma(s);break;case 4:pf(s,s.stateNode.containerInfo);break;case 10:var f=s.type._context,p=s.memoizedProps.value;Ke(Ia,f._currentValue),f._currentValue=p;break;case 13:if(f=s.memoizedState,f!==null)return f.dehydrated!==null?(Ke(it,it.current&1),s.flags|=128,null):a&s.child.childLanes?$g(r,s,a):(Ke(it,it.current&1),r=Zr(r,s,a),r!==null?r.sibling:null);Ke(it,it.current&1);break;case 19:if(f=(a&s.childLanes)!==0,r.flags&128){if(f)return Hg(r,s,a);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Ke(it,it.current),f)break;return null;case 22:case 23:return s.lanes=0,jg(r,s,a)}return Zr(r,s,a)}var Wg,Nf,Yg,Xg;Wg=function(r,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Nf=function(){},Yg=function(r,s,a,f){var p=r.memoizedProps;if(p!==f){r=s.stateNode,rs(kr.current);var y=null;switch(a){case"input":p=Rt(r,p),f=Rt(r,f),y=[];break;case"select":p=q({},p,{value:void 0}),f=q({},f,{value:void 0}),y=[];break;case"textarea":p=vr(r,p),f=vr(r,f),y=[];break;default:typeof p.onClick!="function"&&typeof f.onClick=="function"&&(r.onclick=Ca)}ui(a,f);var C;a=null;for(V in p)if(!f.hasOwnProperty(V)&&p.hasOwnProperty(V)&&p[V]!=null)if(V==="style"){var A=p[V];for(C in A)A.hasOwnProperty(C)&&(a||(a={}),a[C]="")}else V!=="dangerouslySetInnerHTML"&&V!=="children"&&V!=="suppressContentEditableWarning"&&V!=="suppressHydrationWarning"&&V!=="autoFocus"&&(o.hasOwnProperty(V)?y||(y=[]):(y=y||[]).push(V,null));for(V in f){var F=f[V];if(A=p!=null?p[V]:void 0,f.hasOwnProperty(V)&&F!==A&&(F!=null||A!=null))if(V==="style")if(A){for(C in A)!A.hasOwnProperty(C)||F&&F.hasOwnProperty(C)||(a||(a={}),a[C]="");for(C in F)F.hasOwnProperty(C)&&A[C]!==F[C]&&(a||(a={}),a[C]=F[C])}else a||(y||(y=[]),y.push(V,a)),a=F;else V==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,A=A?A.__html:void 0,F!=null&&A!==F&&(y=y||[]).push(V,F)):V==="children"?typeof F!="string"&&typeof F!="number"||(y=y||[]).push(V,""+F):V!=="suppressContentEditableWarning"&&V!=="suppressHydrationWarning"&&(o.hasOwnProperty(V)?(F!=null&&V==="onScroll"&&Ge("scroll",r),y||A===F||(y=[])):(y=y||[]).push(V,F))}a&&(y=y||[]).push("style",a);var V=y;(s.updateQueue=V)&&(s.flags|=4)}},Xg=function(r,s,a,f){a!==f&&(s.flags|=4)};function xl(r,s){if(!et)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var f=null;a!==null;)a.alternate!==null&&(f=a),a=a.sibling;f===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:f.sibling=null}}function Ht(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,f=0;if(s)for(var p=r.child;p!==null;)a|=p.lanes|p.childLanes,f|=p.subtreeFlags&14680064,f|=p.flags&14680064,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)a|=p.lanes|p.childLanes,f|=p.subtreeFlags,f|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=f,r.childLanes=a,s}function _x(r,s,a){var f=s.pendingProps;switch(rf(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(s),null;case 1:return dn(s.type)&&Ta(),Ht(s),null;case 3:return f=s.stateNode,ro(),Qe(hn),Qe($t),yf(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(r===null||r.child===null)&&(La(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,lr!==null&&(Xf(lr),lr=null))),Nf(r,s),Ht(s),null;case 5:gf(s);var p=rs(gl.current);if(a=s.type,r!==null&&s.stateNode!=null)Yg(r,s,a,f,p),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!f){if(s.stateNode===null)throw Error(n(166));return Ht(s),null}if(r=rs(kr.current),La(s)){f=s.stateNode,a=s.type;var y=s.memoizedProps;switch(f[wr]=s,f[cl]=y,r=(s.mode&1)!==0,a){case"dialog":Ge("cancel",f),Ge("close",f);break;case"iframe":case"object":case"embed":Ge("load",f);break;case"video":case"audio":for(p=0;p<ll.length;p++)Ge(ll[p],f);break;case"source":Ge("error",f);break;case"img":case"image":case"link":Ge("error",f),Ge("load",f);break;case"details":Ge("toggle",f);break;case"input":pt(f,y),Ge("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!y.multiple},Ge("invalid",f);break;case"textarea":Cn(f,y),Ge("invalid",f)}ui(a,y),p=null;for(var C in y)if(y.hasOwnProperty(C)){var A=y[C];C==="children"?typeof A=="string"?f.textContent!==A&&(y.suppressHydrationWarning!==!0&&Ea(f.textContent,A,r),p=["children",A]):typeof A=="number"&&f.textContent!==""+A&&(y.suppressHydrationWarning!==!0&&Ea(f.textContent,A,r),p=["children",""+A]):o.hasOwnProperty(C)&&A!=null&&C==="onScroll"&&Ge("scroll",f)}switch(a){case"input":Ve(f),Un(f,y,!0);break;case"textarea":Ve(f),xr(f);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(f.onclick=Ca)}f=p,s.updateQueue=f,f!==null&&(s.flags|=4)}else{C=p.nodeType===9?p:p.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Ur(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=C.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof f.is=="string"?r=C.createElement(a,{is:f.is}):(r=C.createElement(a),a==="select"&&(C=r,f.multiple?C.multiple=!0:f.size&&(C.size=f.size))):r=C.createElementNS(r,a),r[wr]=s,r[cl]=f,Wg(r,s,!1,!1),s.stateNode=r;e:{switch(C=Is(a,f),a){case"dialog":Ge("cancel",r),Ge("close",r),p=f;break;case"iframe":case"object":case"embed":Ge("load",r),p=f;break;case"video":case"audio":for(p=0;p<ll.length;p++)Ge(ll[p],r);p=f;break;case"source":Ge("error",r),p=f;break;case"img":case"image":case"link":Ge("error",r),Ge("load",r),p=f;break;case"details":Ge("toggle",r),p=f;break;case"input":pt(r,f),p=Rt(r,f),Ge("invalid",r);break;case"option":p=f;break;case"select":r._wrapperState={wasMultiple:!!f.multiple},p=q({},f,{value:void 0}),Ge("invalid",r);break;case"textarea":Cn(r,f),p=vr(r,f),Ge("invalid",r);break;default:p=f}ui(a,p),A=p;for(y in A)if(A.hasOwnProperty(y)){var F=A[y];y==="style"?ta(r,F):y==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,F!=null&&tn(r,F)):y==="children"?typeof F=="string"?(a!=="textarea"||F!=="")&&Hn(r,F):typeof F=="number"&&Hn(r,""+F):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?F!=null&&y==="onScroll"&&Ge("scroll",r):F!=null&&R(r,y,F,C))}switch(a){case"input":Ve(r),Un(r,f,!1);break;case"textarea":Ve(r),xr(r);break;case"option":f.value!=null&&r.setAttribute("value",""+ee(f.value));break;case"select":r.multiple=!!f.multiple,y=f.value,y!=null?En(r,!!f.multiple,y,!1):f.defaultValue!=null&&En(r,!!f.multiple,f.defaultValue,!0);break;default:typeof p.onClick=="function"&&(r.onclick=Ca)}switch(a){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Ht(s),null;case 6:if(r&&s.stateNode!=null)Xg(r,s,r.memoizedProps,f);else{if(typeof f!="string"&&s.stateNode===null)throw Error(n(166));if(a=rs(gl.current),rs(kr.current),La(s)){if(f=s.stateNode,a=s.memoizedProps,f[wr]=s,(y=f.nodeValue!==a)&&(r=An,r!==null))switch(r.tag){case 3:Ea(f.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Ea(f.nodeValue,a,(r.mode&1)!==0)}y&&(s.flags|=4)}else f=(a.nodeType===9?a:a.ownerDocument).createTextNode(f),f[wr]=s,s.stateNode=f}return Ht(s),null;case 13:if(Qe(it),f=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(et&&On!==null&&s.mode&1&&!(s.flags&128))Gp(),Js(),s.flags|=98560,y=!1;else if(y=La(s),f!==null&&f.dehydrated!==null){if(r===null){if(!y)throw Error(n(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));y[wr]=s}else Js(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Ht(s),y=!1}else lr!==null&&(Xf(lr),lr=null),y=!0;if(!y)return s.flags&65536?s:null}return s.flags&128?(s.lanes=a,s):(f=f!==null,f!==(r!==null&&r.memoizedState!==null)&&f&&(s.child.flags|=8192,s.mode&1&&(r===null||it.current&1?bt===0&&(bt=3):Gf())),s.updateQueue!==null&&(s.flags|=4),Ht(s),null);case 4:return ro(),Nf(r,s),r===null&&al(s.stateNode.containerInfo),Ht(s),null;case 10:return cf(s.type._context),Ht(s),null;case 17:return dn(s.type)&&Ta(),Ht(s),null;case 19:if(Qe(it),y=s.memoizedState,y===null)return Ht(s),null;if(f=(s.flags&128)!==0,C=y.rendering,C===null)if(f)xl(y,!1);else{if(bt!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(C=za(r),C!==null){for(s.flags|=128,xl(y,!1),f=C.updateQueue,f!==null&&(s.updateQueue=f,s.flags|=4),s.subtreeFlags=0,f=a,a=s.child;a!==null;)y=a,r=f,y.flags&=14680066,C=y.alternate,C===null?(y.childLanes=0,y.lanes=r,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=C.childLanes,y.lanes=C.lanes,y.child=C.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=C.memoizedProps,y.memoizedState=C.memoizedState,y.updateQueue=C.updateQueue,y.type=C.type,r=C.dependencies,y.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return Ke(it,it.current&1|2),s.child}r=r.sibling}y.tail!==null&&ge()>lo&&(s.flags|=128,f=!0,xl(y,!1),s.lanes=4194304)}else{if(!f)if(r=za(C),r!==null){if(s.flags|=128,f=!0,a=r.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),xl(y,!0),y.tail===null&&y.tailMode==="hidden"&&!C.alternate&&!et)return Ht(s),null}else 2*ge()-y.renderingStartTime>lo&&a!==1073741824&&(s.flags|=128,f=!0,xl(y,!1),s.lanes=4194304);y.isBackwards?(C.sibling=s.child,s.child=C):(a=y.last,a!==null?a.sibling=C:s.child=C,y.last=C)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=ge(),s.sibling=null,a=it.current,Ke(it,f?a&1|2:a&1),s):(Ht(s),null);case 22:case 23:return qf(),f=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==f&&(s.flags|=8192),f&&s.mode&1?Ln&1073741824&&(Ht(s),s.subtreeFlags&6&&(s.flags|=8192)):Ht(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function vx(r,s){switch(rf(s),s.tag){case 1:return dn(s.type)&&Ta(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return ro(),Qe(hn),Qe($t),yf(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 5:return gf(s),null;case 13:if(Qe(it),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(n(340));Js()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Qe(it),null;case 4:return ro(),null;case 10:return cf(s.type._context),null;case 22:case 23:return qf(),null;case 24:return null;default:return null}}var Ka=!1,Wt=!1,xx=typeof WeakSet=="function"?WeakSet:Set,ye=null;function so(r,s){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(f){ft(r,s,f)}else a.current=null}function jf(r,s,a){try{a()}catch(f){ft(r,s,f)}}var Kg=!1;function wx(r,s){if(Kc=pa,r=Cp(),Bc(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var f=a.getSelection&&a.getSelection();if(f&&f.rangeCount!==0){a=f.anchorNode;var p=f.anchorOffset,y=f.focusNode;f=f.focusOffset;try{a.nodeType,y.nodeType}catch{a=null;break e}var C=0,A=-1,F=-1,V=0,ie=0,le=r,ne=null;t:for(;;){for(var me;le!==a||p!==0&&le.nodeType!==3||(A=C+p),le!==y||f!==0&&le.nodeType!==3||(F=C+f),le.nodeType===3&&(C+=le.nodeValue.length),(me=le.firstChild)!==null;)ne=le,le=me;for(;;){if(le===r)break t;if(ne===a&&++V===p&&(A=C),ne===y&&++ie===f&&(F=C),(me=le.nextSibling)!==null)break;le=ne,ne=le.parentNode}le=me}a=A===-1||F===-1?null:{start:A,end:F}}else a=null}a=a||{start:0,end:0}}else a=null;for(qc={focusedElem:r,selectionRange:a},pa=!1,ye=s;ye!==null;)if(s=ye,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,ye=r;else for(;ye!==null;){s=ye;try{var ve=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ve!==null){var we=ve.memoizedProps,mt=ve.memoizedState,U=s.stateNode,N=U.getSnapshotBeforeUpdate(s.elementType===s.type?we:ar(s.type,we),mt);U.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var $=s.stateNode.containerInfo;$.nodeType===1?$.textContent="":$.nodeType===9&&$.documentElement&&$.removeChild($.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(he){ft(s,s.return,he)}if(r=s.sibling,r!==null){r.return=s.return,ye=r;break}ye=s.return}return ve=Kg,Kg=!1,ve}function wl(r,s,a){var f=s.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var p=f=f.next;do{if((p.tag&r)===r){var y=p.destroy;p.destroy=void 0,y!==void 0&&jf(s,a,y)}p=p.next}while(p!==f)}}function qa(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&r)===r){var f=a.create;a.destroy=f()}a=a.next}while(a!==s)}}function Df(r){var s=r.ref;if(s!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof s=="function"?s(r):s.current=r}}function qg(r){var s=r.alternate;s!==null&&(r.alternate=null,qg(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[wr],delete s[cl],delete s[Jc],delete s[rx],delete s[ix])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Gg(r){return r.tag===5||r.tag===3||r.tag===4}function Qg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Gg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function zf(r,s,a){var f=r.tag;if(f===5||f===6)r=r.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(r,s):a.insertBefore(r,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(r,a)):(s=a,s.appendChild(r)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Ca));else if(f!==4&&(r=r.child,r!==null))for(zf(r,s,a),r=r.sibling;r!==null;)zf(r,s,a),r=r.sibling}function Bf(r,s,a){var f=r.tag;if(f===5||f===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(f!==4&&(r=r.child,r!==null))for(Bf(r,s,a),r=r.sibling;r!==null;)Bf(r,s,a),r=r.sibling}var Lt=null,ur=!1;function Ei(r,s,a){for(a=a.child;a!==null;)Zg(r,s,a),a=a.sibling}function Zg(r,s,a){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(fn,a)}catch{}switch(a.tag){case 5:Wt||so(a,s);case 6:var f=Lt,p=ur;Lt=null,Ei(r,s,a),Lt=f,ur=p,Lt!==null&&(ur?(r=Lt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):Lt.removeChild(a.stateNode));break;case 18:Lt!==null&&(ur?(r=Lt,a=a.stateNode,r.nodeType===8?Zc(r.parentNode,a):r.nodeType===1&&Zc(r,a),Jo(r)):Zc(Lt,a.stateNode));break;case 4:f=Lt,p=ur,Lt=a.stateNode.containerInfo,ur=!0,Ei(r,s,a),Lt=f,ur=p;break;case 0:case 11:case 14:case 15:if(!Wt&&(f=a.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){p=f=f.next;do{var y=p,C=y.destroy;y=y.tag,C!==void 0&&(y&2||y&4)&&jf(a,s,C),p=p.next}while(p!==f)}Ei(r,s,a);break;case 1:if(!Wt&&(so(a,s),f=a.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=a.memoizedProps,f.state=a.memoizedState,f.componentWillUnmount()}catch(A){ft(a,s,A)}Ei(r,s,a);break;case 21:Ei(r,s,a);break;case 22:a.mode&1?(Wt=(f=Wt)||a.memoizedState!==null,Ei(r,s,a),Wt=f):Ei(r,s,a);break;default:Ei(r,s,a)}}function Jg(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new xx),s.forEach(function(f){var p=Px.bind(null,r,f);a.has(f)||(a.add(f),f.then(p,p))})}}function cr(r,s){var a=s.deletions;if(a!==null)for(var f=0;f<a.length;f++){var p=a[f];try{var y=r,C=s,A=C;e:for(;A!==null;){switch(A.tag){case 5:Lt=A.stateNode,ur=!1;break e;case 3:Lt=A.stateNode.containerInfo,ur=!0;break e;case 4:Lt=A.stateNode.containerInfo,ur=!0;break e}A=A.return}if(Lt===null)throw Error(n(160));Zg(y,C,p),Lt=null,ur=!1;var F=p.alternate;F!==null&&(F.return=null),p.return=null}catch(V){ft(p,s,V)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)em(s,r),s=s.sibling}function em(r,s){var a=r.alternate,f=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(cr(s,r),Sr(r),f&4){try{wl(3,r,r.return),qa(3,r)}catch(we){ft(r,r.return,we)}try{wl(5,r,r.return)}catch(we){ft(r,r.return,we)}}break;case 1:cr(s,r),Sr(r),f&512&&a!==null&&so(a,a.return);break;case 5:if(cr(s,r),Sr(r),f&512&&a!==null&&so(a,a.return),r.flags&32){var p=r.stateNode;try{Hn(p,"")}catch(we){ft(r,r.return,we)}}if(f&4&&(p=r.stateNode,p!=null)){var y=r.memoizedProps,C=a!==null?a.memoizedProps:y,A=r.type,F=r.updateQueue;if(r.updateQueue=null,F!==null)try{A==="input"&&y.type==="radio"&&y.name!=null&&Bt(p,y),Is(A,C);var V=Is(A,y);for(C=0;C<F.length;C+=2){var ie=F[C],le=F[C+1];ie==="style"?ta(p,le):ie==="dangerouslySetInnerHTML"?tn(p,le):ie==="children"?Hn(p,le):R(p,ie,le,V)}switch(A){case"input":en(p,y);break;case"textarea":cn(p,y);break;case"select":var ne=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!y.multiple;var me=y.value;me!=null?En(p,!!y.multiple,me,!1):ne!==!!y.multiple&&(y.defaultValue!=null?En(p,!!y.multiple,y.defaultValue,!0):En(p,!!y.multiple,y.multiple?[]:"",!1))}p[cl]=y}catch(we){ft(r,r.return,we)}}break;case 6:if(cr(s,r),Sr(r),f&4){if(r.stateNode===null)throw Error(n(162));p=r.stateNode,y=r.memoizedProps;try{p.nodeValue=y}catch(we){ft(r,r.return,we)}}break;case 3:if(cr(s,r),Sr(r),f&4&&a!==null&&a.memoizedState.isDehydrated)try{Jo(s.containerInfo)}catch(we){ft(r,r.return,we)}break;case 4:cr(s,r),Sr(r);break;case 13:cr(s,r),Sr(r),p=r.child,p.flags&8192&&(y=p.memoizedState!==null,p.stateNode.isHidden=y,!y||p.alternate!==null&&p.alternate.memoizedState!==null||(Vf=ge())),f&4&&Jg(r);break;case 22:if(ie=a!==null&&a.memoizedState!==null,r.mode&1?(Wt=(V=Wt)||ie,cr(s,r),Wt=V):cr(s,r),Sr(r),f&8192){if(V=r.memoizedState!==null,(r.stateNode.isHidden=V)&&!ie&&r.mode&1)for(ye=r,ie=r.child;ie!==null;){for(le=ye=ie;ye!==null;){switch(ne=ye,me=ne.child,ne.tag){case 0:case 11:case 14:case 15:wl(4,ne,ne.return);break;case 1:so(ne,ne.return);var ve=ne.stateNode;if(typeof ve.componentWillUnmount=="function"){f=ne,a=ne.return;try{s=f,ve.props=s.memoizedProps,ve.state=s.memoizedState,ve.componentWillUnmount()}catch(we){ft(f,a,we)}}break;case 5:so(ne,ne.return);break;case 22:if(ne.memoizedState!==null){rm(le);continue}}me!==null?(me.return=ne,ye=me):rm(le)}ie=ie.sibling}e:for(ie=null,le=r;;){if(le.tag===5){if(ie===null){ie=le;try{p=le.stateNode,V?(y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(A=le.stateNode,F=le.memoizedProps.style,C=F!=null&&F.hasOwnProperty("display")?F.display:null,A.style.display=Ki("display",C))}catch(we){ft(r,r.return,we)}}}else if(le.tag===6){if(ie===null)try{le.stateNode.nodeValue=V?"":le.memoizedProps}catch(we){ft(r,r.return,we)}}else if((le.tag!==22&&le.tag!==23||le.memoizedState===null||le===r)&&le.child!==null){le.child.return=le,le=le.child;continue}if(le===r)break e;for(;le.sibling===null;){if(le.return===null||le.return===r)break e;ie===le&&(ie=null),le=le.return}ie===le&&(ie=null),le.sibling.return=le.return,le=le.sibling}}break;case 19:cr(s,r),Sr(r),f&4&&Jg(r);break;case 21:break;default:cr(s,r),Sr(r)}}function Sr(r){var s=r.flags;if(s&2){try{e:{for(var a=r.return;a!==null;){if(Gg(a)){var f=a;break e}a=a.return}throw Error(n(160))}switch(f.tag){case 5:var p=f.stateNode;f.flags&32&&(Hn(p,""),f.flags&=-33);var y=Qg(r);Bf(r,y,p);break;case 3:case 4:var C=f.stateNode.containerInfo,A=Qg(r);zf(r,A,C);break;default:throw Error(n(161))}}catch(F){ft(r,r.return,F)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function kx(r,s,a){ye=r,tm(r)}function tm(r,s,a){for(var f=(r.mode&1)!==0;ye!==null;){var p=ye,y=p.child;if(p.tag===22&&f){var C=p.memoizedState!==null||Ka;if(!C){var A=p.alternate,F=A!==null&&A.memoizedState!==null||Wt;A=Ka;var V=Wt;if(Ka=C,(Wt=F)&&!V)for(ye=p;ye!==null;)C=ye,F=C.child,C.tag===22&&C.memoizedState!==null?im(p):F!==null?(F.return=C,ye=F):im(p);for(;y!==null;)ye=y,tm(y),y=y.sibling;ye=p,Ka=A,Wt=V}nm(r)}else p.subtreeFlags&8772&&y!==null?(y.return=p,ye=y):nm(r)}}function nm(r){for(;ye!==null;){var s=ye;if(s.flags&8772){var a=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Wt||qa(5,s);break;case 1:var f=s.stateNode;if(s.flags&4&&!Wt)if(a===null)f.componentDidMount();else{var p=s.elementType===s.type?a.memoizedProps:ar(s.type,a.memoizedProps);f.componentDidUpdate(p,a.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var y=s.updateQueue;y!==null&&rg(s,y,f);break;case 3:var C=s.updateQueue;if(C!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}rg(s,C,a)}break;case 5:var A=s.stateNode;if(a===null&&s.flags&4){a=A;var F=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":F.autoFocus&&a.focus();break;case"img":F.src&&(a.src=F.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var V=s.alternate;if(V!==null){var ie=V.memoizedState;if(ie!==null){var le=ie.dehydrated;le!==null&&Jo(le)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Wt||s.flags&512&&Df(s)}catch(ne){ft(s,s.return,ne)}}if(s===r){ye=null;break}if(a=s.sibling,a!==null){a.return=s.return,ye=a;break}ye=s.return}}function rm(r){for(;ye!==null;){var s=ye;if(s===r){ye=null;break}var a=s.sibling;if(a!==null){a.return=s.return,ye=a;break}ye=s.return}}function im(r){for(;ye!==null;){var s=ye;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{qa(4,s)}catch(F){ft(s,a,F)}break;case 1:var f=s.stateNode;if(typeof f.componentDidMount=="function"){var p=s.return;try{f.componentDidMount()}catch(F){ft(s,p,F)}}var y=s.return;try{Df(s)}catch(F){ft(s,y,F)}break;case 5:var C=s.return;try{Df(s)}catch(F){ft(s,C,F)}}}catch(F){ft(s,s.return,F)}if(s===r){ye=null;break}var A=s.sibling;if(A!==null){A.return=s.return,ye=A;break}ye=s.return}}var bx=Math.ceil,Ga=M.ReactCurrentDispatcher,Uf=M.ReactCurrentOwner,Qn=M.ReactCurrentBatchConfig,je=0,Pt=null,vt=null,Ft=0,Ln=0,oo=xi(0),bt=0,kl=null,ss=0,Qa=0,$f=0,bl=null,gn=null,Vf=0,lo=1/0,Jr=null,Za=!1,Hf=null,Ci=null,Ja=!1,Ri=null,eu=0,Sl=0,Wf=null,tu=-1,nu=0;function rn(){return je&6?ge():tu!==-1?tu:tu=ge()}function Ti(r){return r.mode&1?je&2&&Ft!==0?Ft&-Ft:ox.transition!==null?(nu===0&&(nu=Qd()),nu):(r=We,r!==0||(r=window.event,r=r===void 0?16:op(r.type)),r):1}function fr(r,s,a,f){if(50<Sl)throw Sl=0,Wf=null,Error(n(185));Ko(r,a,f),(!(je&2)||r!==Pt)&&(r===Pt&&(!(je&2)&&(Qa|=a),bt===4&&Mi(r,Ft)),mn(r,f),a===1&&je===0&&!(s.mode&1)&&(lo=ge()+500,Pa&&ki()))}function mn(r,s){var a=r.callbackNode;o1(r,s);var f=fa(r,r===Pt?Ft:0);if(f===0)a!==null&&Yo(a),r.callbackNode=null,r.callbackPriority=0;else if(s=f&-f,r.callbackPriority!==s){if(a!=null&&Yo(a),s===1)r.tag===0?sx(om.bind(null,r)):Wp(om.bind(null,r)),tx(function(){!(je&6)&&ki()}),a=null;else{switch(Zd(f)){case 1:a=Xe;break;case 4:a=gt;break;case 16:a=Mn;break;case 536870912:a=Yn;break;default:a=Mn}a=pm(a,sm.bind(null,r))}r.callbackPriority=s,r.callbackNode=a}}function sm(r,s){if(tu=-1,nu=0,je&6)throw Error(n(327));var a=r.callbackNode;if(ao()&&r.callbackNode!==a)return null;var f=fa(r,r===Pt?Ft:0);if(f===0)return null;if(f&30||f&r.expiredLanes||s)s=ru(r,f);else{s=f;var p=je;je|=2;var y=am();(Pt!==r||Ft!==s)&&(Jr=null,lo=ge()+500,ls(r,s));do try{Cx();break}catch(A){lm(r,A)}while(!0);uf(),Ga.current=y,je=p,vt!==null?s=0:(Pt=null,Ft=0,s=bt)}if(s!==0){if(s===2&&(p=Sc(r),p!==0&&(f=p,s=Yf(r,p))),s===1)throw a=kl,ls(r,0),Mi(r,f),mn(r,ge()),a;if(s===6)Mi(r,f);else{if(p=r.current.alternate,!(f&30)&&!Sx(p)&&(s=ru(r,f),s===2&&(y=Sc(r),y!==0&&(f=y,s=Yf(r,y))),s===1))throw a=kl,ls(r,0),Mi(r,f),mn(r,ge()),a;switch(r.finishedWork=p,r.finishedLanes=f,s){case 0:case 1:throw Error(n(345));case 2:as(r,gn,Jr);break;case 3:if(Mi(r,f),(f&130023424)===f&&(s=Vf+500-ge(),10<s)){if(fa(r,0)!==0)break;if(p=r.suspendedLanes,(p&f)!==f){rn(),r.pingedLanes|=r.suspendedLanes&p;break}r.timeoutHandle=Qc(as.bind(null,r,gn,Jr),s);break}as(r,gn,Jr);break;case 4:if(Mi(r,f),(f&4194240)===f)break;for(s=r.eventTimes,p=-1;0<f;){var C=31-_t(f);y=1<<C,C=s[C],C>p&&(p=C),f&=~y}if(f=p,f=ge()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*bx(f/1960))-f,10<f){r.timeoutHandle=Qc(as.bind(null,r,gn,Jr),f);break}as(r,gn,Jr);break;case 5:as(r,gn,Jr);break;default:throw Error(n(329))}}}return mn(r,ge()),r.callbackNode===a?sm.bind(null,r):null}function Yf(r,s){var a=bl;return r.current.memoizedState.isDehydrated&&(ls(r,s).flags|=256),r=ru(r,s),r!==2&&(s=gn,gn=a,s!==null&&Xf(s)),r}function Xf(r){gn===null?gn=r:gn.push.apply(gn,r)}function Sx(r){for(var s=r;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var f=0;f<a.length;f++){var p=a[f],y=p.getSnapshot;p=p.value;try{if(!or(y(),p))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Mi(r,s){for(s&=~$f,s&=~Qa,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var a=31-_t(s),f=1<<a;r[a]=-1,s&=~f}}function om(r){if(je&6)throw Error(n(327));ao();var s=fa(r,0);if(!(s&1))return mn(r,ge()),null;var a=ru(r,s);if(r.tag!==0&&a===2){var f=Sc(r);f!==0&&(s=f,a=Yf(r,f))}if(a===1)throw a=kl,ls(r,0),Mi(r,s),mn(r,ge()),a;if(a===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,as(r,gn,Jr),mn(r,ge()),null}function Kf(r,s){var a=je;je|=1;try{return r(s)}finally{je=a,je===0&&(lo=ge()+500,Pa&&ki())}}function os(r){Ri!==null&&Ri.tag===0&&!(je&6)&&ao();var s=je;je|=1;var a=Qn.transition,f=We;try{if(Qn.transition=null,We=1,r)return r()}finally{We=f,Qn.transition=a,je=s,!(je&6)&&ki()}}function qf(){Ln=oo.current,Qe(oo)}function ls(r,s){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,ex(a)),vt!==null)for(a=vt.return;a!==null;){var f=a;switch(rf(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&Ta();break;case 3:ro(),Qe(hn),Qe($t),yf();break;case 5:gf(f);break;case 4:ro();break;case 13:Qe(it);break;case 19:Qe(it);break;case 10:cf(f.type._context);break;case 22:case 23:qf()}a=a.return}if(Pt=r,vt=r=Pi(r.current,null),Ft=Ln=s,bt=0,kl=null,$f=Qa=ss=0,gn=bl=null,ns!==null){for(s=0;s<ns.length;s++)if(a=ns[s],f=a.interleaved,f!==null){a.interleaved=null;var p=f.next,y=a.pending;if(y!==null){var C=y.next;y.next=p,f.next=C}a.pending=f}ns=null}return r}function lm(r,s){do{var a=vt;try{if(uf(),Ba.current=Ha,Ua){for(var f=st.memoizedState;f!==null;){var p=f.queue;p!==null&&(p.pending=null),f=f.next}Ua=!1}if(is=0,Mt=kt=st=null,ml=!1,yl=0,Uf.current=null,a===null||a.return===null){bt=1,kl=s,vt=null;break}e:{var y=r,C=a.return,A=a,F=s;if(s=Ft,A.flags|=32768,F!==null&&typeof F=="object"&&typeof F.then=="function"){var V=F,ie=A,le=ie.tag;if(!(ie.mode&1)&&(le===0||le===11||le===15)){var ne=ie.alternate;ne?(ie.updateQueue=ne.updateQueue,ie.memoizedState=ne.memoizedState,ie.lanes=ne.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var me=Og(C);if(me!==null){me.flags&=-257,Lg(me,C,A,y,s),me.mode&1&&Ag(y,V,s),s=me,F=V;var ve=s.updateQueue;if(ve===null){var we=new Set;we.add(F),s.updateQueue=we}else ve.add(F);break e}else{if(!(s&1)){Ag(y,V,s),Gf();break e}F=Error(n(426))}}else if(et&&A.mode&1){var mt=Og(C);if(mt!==null){!(mt.flags&65536)&&(mt.flags|=256),Lg(mt,C,A,y,s),lf(io(F,A));break e}}y=F=io(F,A),bt!==4&&(bt=2),bl===null?bl=[y]:bl.push(y),y=C;do{switch(y.tag){case 3:y.flags|=65536,s&=-s,y.lanes|=s;var U=Mg(y,F,s);ng(y,U);break e;case 1:A=F;var N=y.type,$=y.stateNode;if(!(y.flags&128)&&(typeof N.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&(Ci===null||!Ci.has($)))){y.flags|=65536,s&=-s,y.lanes|=s;var he=Pg(y,A,s);ng(y,he);break e}}y=y.return}while(y!==null)}cm(a)}catch(Se){s=Se,vt===a&&a!==null&&(vt=a=a.return);continue}break}while(!0)}function am(){var r=Ga.current;return Ga.current=Ha,r===null?Ha:r}function Gf(){(bt===0||bt===3||bt===2)&&(bt=4),Pt===null||!(ss&268435455)&&!(Qa&268435455)||Mi(Pt,Ft)}function ru(r,s){var a=je;je|=2;var f=am();(Pt!==r||Ft!==s)&&(Jr=null,ls(r,s));do try{Ex();break}catch(p){lm(r,p)}while(!0);if(uf(),je=a,Ga.current=f,vt!==null)throw Error(n(261));return Pt=null,Ft=0,bt}function Ex(){for(;vt!==null;)um(vt)}function Cx(){for(;vt!==null&&!bc();)um(vt)}function um(r){var s=dm(r.alternate,r,Ln);r.memoizedProps=r.pendingProps,s===null?cm(r):vt=s,Uf.current=null}function cm(r){var s=r;do{var a=s.alternate;if(r=s.return,s.flags&32768){if(a=vx(a,s),a!==null){a.flags&=32767,vt=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{bt=6,vt=null;return}}else if(a=_x(a,s,Ln),a!==null){vt=a;return}if(s=s.sibling,s!==null){vt=s;return}vt=s=r}while(s!==null);bt===0&&(bt=5)}function as(r,s,a){var f=We,p=Qn.transition;try{Qn.transition=null,We=1,Rx(r,s,a,f)}finally{Qn.transition=p,We=f}return null}function Rx(r,s,a,f){do ao();while(Ri!==null);if(je&6)throw Error(n(327));a=r.finishedWork;var p=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var y=a.lanes|a.childLanes;if(l1(r,y),r===Pt&&(vt=Pt=null,Ft=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||Ja||(Ja=!0,pm(Mn,function(){return ao(),null})),y=(a.flags&15990)!==0,a.subtreeFlags&15990||y){y=Qn.transition,Qn.transition=null;var C=We;We=1;var A=je;je|=4,Uf.current=null,wx(r,a),em(a,r),X1(qc),pa=!!Kc,qc=Kc=null,r.current=a,kx(a),Ue(),je=A,We=C,Qn.transition=y}else r.current=a;if(Ja&&(Ja=!1,Ri=r,eu=p),y=r.pendingLanes,y===0&&(Ci=null),hi(a.stateNode),mn(r,ge()),s!==null)for(f=r.onRecoverableError,a=0;a<s.length;a++)p=s[a],f(p.value,{componentStack:p.stack,digest:p.digest});if(Za)throw Za=!1,r=Hf,Hf=null,r;return eu&1&&r.tag!==0&&ao(),y=r.pendingLanes,y&1?r===Wf?Sl++:(Sl=0,Wf=r):Sl=0,ki(),null}function ao(){if(Ri!==null){var r=Zd(eu),s=Qn.transition,a=We;try{if(Qn.transition=null,We=16>r?16:r,Ri===null)var f=!1;else{if(r=Ri,Ri=null,eu=0,je&6)throw Error(n(331));var p=je;for(je|=4,ye=r.current;ye!==null;){var y=ye,C=y.child;if(ye.flags&16){var A=y.deletions;if(A!==null){for(var F=0;F<A.length;F++){var V=A[F];for(ye=V;ye!==null;){var ie=ye;switch(ie.tag){case 0:case 11:case 15:wl(8,ie,y)}var le=ie.child;if(le!==null)le.return=ie,ye=le;else for(;ye!==null;){ie=ye;var ne=ie.sibling,me=ie.return;if(qg(ie),ie===V){ye=null;break}if(ne!==null){ne.return=me,ye=ne;break}ye=me}}}var ve=y.alternate;if(ve!==null){var we=ve.child;if(we!==null){ve.child=null;do{var mt=we.sibling;we.sibling=null,we=mt}while(we!==null)}}ye=y}}if(y.subtreeFlags&2064&&C!==null)C.return=y,ye=C;else e:for(;ye!==null;){if(y=ye,y.flags&2048)switch(y.tag){case 0:case 11:case 15:wl(9,y,y.return)}var U=y.sibling;if(U!==null){U.return=y.return,ye=U;break e}ye=y.return}}var N=r.current;for(ye=N;ye!==null;){C=ye;var $=C.child;if(C.subtreeFlags&2064&&$!==null)$.return=C,ye=$;else e:for(C=N;ye!==null;){if(A=ye,A.flags&2048)try{switch(A.tag){case 0:case 11:case 15:qa(9,A)}}catch(Se){ft(A,A.return,Se)}if(A===C){ye=null;break e}var he=A.sibling;if(he!==null){he.return=A.return,ye=he;break e}ye=A.return}}if(je=p,ki(),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(fn,r)}catch{}f=!0}return f}finally{We=a,Qn.transition=s}}return!1}function fm(r,s,a){s=io(a,s),s=Mg(r,s,1),r=Si(r,s,1),s=rn(),r!==null&&(Ko(r,1,s),mn(r,s))}function ft(r,s,a){if(r.tag===3)fm(r,r,a);else for(;s!==null;){if(s.tag===3){fm(s,r,a);break}else if(s.tag===1){var f=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Ci===null||!Ci.has(f))){r=io(a,r),r=Pg(s,r,1),s=Si(s,r,1),r=rn(),s!==null&&(Ko(s,1,r),mn(s,r));break}}s=s.return}}function Tx(r,s,a){var f=r.pingCache;f!==null&&f.delete(s),s=rn(),r.pingedLanes|=r.suspendedLanes&a,Pt===r&&(Ft&a)===a&&(bt===4||bt===3&&(Ft&130023424)===Ft&&500>ge()-Vf?ls(r,0):$f|=a),mn(r,s)}function hm(r,s){s===0&&(r.mode&1?(s=ca,ca<<=1,!(ca&130023424)&&(ca=4194304)):s=1);var a=rn();r=Gr(r,s),r!==null&&(Ko(r,s,a),mn(r,a))}function Mx(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),hm(r,a)}function Px(r,s){var a=0;switch(r.tag){case 13:var f=r.stateNode,p=r.memoizedState;p!==null&&(a=p.retryLane);break;case 19:f=r.stateNode;break;default:throw Error(n(314))}f!==null&&f.delete(s),hm(r,a)}var dm;dm=function(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps||hn.current)pn=!0;else{if(!(r.lanes&a)&&!(s.flags&128))return pn=!1,yx(r,s,a);pn=!!(r.flags&131072)}else pn=!1,et&&s.flags&1048576&&Yp(s,Oa,s.index);switch(s.lanes=0,s.tag){case 2:var f=s.type;Xa(r,s),r=s.pendingProps;var p=Gs(s,$t.current);no(s,a),p=xf(null,s,f,r,p,a);var y=wf();return s.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,dn(f)?(y=!0,Ma(s)):y=!1,s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,df(s),p.updater=Wa,s.stateNode=p,p._reactInternals=s,Rf(s,f,r,a),s=Af(null,s,f,!0,y,a)):(s.tag=0,et&&y&&nf(s),nn(null,s,p,a),s=s.child),s;case 16:f=s.elementType;e:{switch(Xa(r,s),r=s.pendingProps,p=f._init,f=p(f._payload),s.type=f,p=s.tag=Ox(f),r=ar(f,r),p){case 0:s=Pf(null,s,f,r,a);break e;case 1:s=zg(null,s,f,r,a);break e;case 11:s=Fg(null,s,f,r,a);break e;case 14:s=Ig(null,s,f,ar(f.type,r),a);break e}throw Error(n(306,f,""))}return s;case 0:return f=s.type,p=s.pendingProps,p=s.elementType===f?p:ar(f,p),Pf(r,s,f,p,a);case 1:return f=s.type,p=s.pendingProps,p=s.elementType===f?p:ar(f,p),zg(r,s,f,p,a);case 3:e:{if(Bg(s),r===null)throw Error(n(387));f=s.pendingProps,y=s.memoizedState,p=y.element,tg(r,s),Da(s,f,null,a);var C=s.memoizedState;if(f=C.element,y.isDehydrated)if(y={element:f,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){p=io(Error(n(423)),s),s=Ug(r,s,f,a,p);break e}else if(f!==p){p=io(Error(n(424)),s),s=Ug(r,s,f,a,p);break e}else for(On=vi(s.stateNode.containerInfo.firstChild),An=s,et=!0,lr=null,a=Jp(s,null,f,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Js(),f===p){s=Zr(r,s,a);break e}nn(r,s,f,a)}s=s.child}return s;case 5:return ig(s),r===null&&of(s),f=s.type,p=s.pendingProps,y=r!==null?r.memoizedProps:null,C=p.children,Gc(f,p)?C=null:y!==null&&Gc(f,y)&&(s.flags|=32),Dg(r,s),nn(r,s,C,a),s.child;case 6:return r===null&&of(s),null;case 13:return $g(r,s,a);case 4:return pf(s,s.stateNode.containerInfo),f=s.pendingProps,r===null?s.child=eo(s,null,f,a):nn(r,s,f,a),s.child;case 11:return f=s.type,p=s.pendingProps,p=s.elementType===f?p:ar(f,p),Fg(r,s,f,p,a);case 7:return nn(r,s,s.pendingProps,a),s.child;case 8:return nn(r,s,s.pendingProps.children,a),s.child;case 12:return nn(r,s,s.pendingProps.children,a),s.child;case 10:e:{if(f=s.type._context,p=s.pendingProps,y=s.memoizedProps,C=p.value,Ke(Ia,f._currentValue),f._currentValue=C,y!==null)if(or(y.value,C)){if(y.children===p.children&&!hn.current){s=Zr(r,s,a);break e}}else for(y=s.child,y!==null&&(y.return=s);y!==null;){var A=y.dependencies;if(A!==null){C=y.child;for(var F=A.firstContext;F!==null;){if(F.context===f){if(y.tag===1){F=Qr(-1,a&-a),F.tag=2;var V=y.updateQueue;if(V!==null){V=V.shared;var ie=V.pending;ie===null?F.next=F:(F.next=ie.next,ie.next=F),V.pending=F}}y.lanes|=a,F=y.alternate,F!==null&&(F.lanes|=a),ff(y.return,a,s),A.lanes|=a;break}F=F.next}}else if(y.tag===10)C=y.type===s.type?null:y.child;else if(y.tag===18){if(C=y.return,C===null)throw Error(n(341));C.lanes|=a,A=C.alternate,A!==null&&(A.lanes|=a),ff(C,a,s),C=y.sibling}else C=y.child;if(C!==null)C.return=y;else for(C=y;C!==null;){if(C===s){C=null;break}if(y=C.sibling,y!==null){y.return=C.return,C=y;break}C=C.return}y=C}nn(r,s,p.children,a),s=s.child}return s;case 9:return p=s.type,f=s.pendingProps.children,no(s,a),p=qn(p),f=f(p),s.flags|=1,nn(r,s,f,a),s.child;case 14:return f=s.type,p=ar(f,s.pendingProps),p=ar(f.type,p),Ig(r,s,f,p,a);case 15:return Ng(r,s,s.type,s.pendingProps,a);case 17:return f=s.type,p=s.pendingProps,p=s.elementType===f?p:ar(f,p),Xa(r,s),s.tag=1,dn(f)?(r=!0,Ma(s)):r=!1,no(s,a),Rg(s,f,p),Rf(s,f,p,a),Af(null,s,f,!0,r,a);case 19:return Hg(r,s,a);case 22:return jg(r,s,a)}throw Error(n(156,s.tag))};function pm(r,s){return Wo(r,s)}function Ax(r,s,a,f){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zn(r,s,a,f){return new Ax(r,s,a,f)}function Qf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Ox(r){if(typeof r=="function")return Qf(r)?1:0;if(r!=null){if(r=r.$$typeof,r===K)return 11;if(r===re)return 14}return 2}function Pi(r,s){var a=r.alternate;return a===null?(a=Zn(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function iu(r,s,a,f,p,y){var C=2;if(f=r,typeof r=="function")Qf(r)&&(C=1);else if(typeof r=="string")C=5;else e:switch(r){case j:return us(a.children,p,y,s);case Y:C=8,p|=8;break;case z:return r=Zn(12,a,s,p|2),r.elementType=z,r.lanes=y,r;case ae:return r=Zn(13,a,s,p),r.elementType=ae,r.lanes=y,r;case te:return r=Zn(19,a,s,p),r.elementType=te,r.lanes=y,r;case Z:return su(a,p,y,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case H:C=10;break e;case X:C=9;break e;case K:C=11;break e;case re:C=14;break e;case ue:C=16,f=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return s=Zn(C,a,s,p),s.elementType=r,s.type=f,s.lanes=y,s}function us(r,s,a,f){return r=Zn(7,r,f,s),r.lanes=a,r}function su(r,s,a,f){return r=Zn(22,r,f,s),r.elementType=Z,r.lanes=a,r.stateNode={isHidden:!1},r}function Zf(r,s,a){return r=Zn(6,r,null,s),r.lanes=a,r}function Jf(r,s,a){return s=Zn(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function Lx(r,s,a,f,p){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ec(0),this.expirationTimes=Ec(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ec(0),this.identifierPrefix=f,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function eh(r,s,a,f,p,y,C,A,F){return r=new Lx(r,s,a,A,F),s===1?(s=1,y===!0&&(s|=8)):s=0,y=Zn(3,null,null,s),r.current=y,y.stateNode=r,y.memoizedState={element:f,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},df(y),r}function Fx(r,s,a){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:I,key:f==null?null:""+f,children:r,containerInfo:s,implementation:a}}function gm(r){if(!r)return wi;r=r._reactInternals;e:{if(Wr(r)!==r||r.tag!==1)throw Error(n(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(dn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(r.tag===1){var a=r.type;if(dn(a))return Vp(r,a,s)}return s}function mm(r,s,a,f,p,y,C,A,F){return r=eh(a,f,!0,r,p,y,C,A,F),r.context=gm(null),a=r.current,f=rn(),p=Ti(a),y=Qr(f,p),y.callback=s??null,Si(a,y,p),r.current.lanes=p,Ko(r,p,f),mn(r,f),r}function ou(r,s,a,f){var p=s.current,y=rn(),C=Ti(p);return a=gm(a),s.context===null?s.context=a:s.pendingContext=a,s=Qr(y,C),s.payload={element:r},f=f===void 0?null:f,f!==null&&(s.callback=f),r=Si(p,s,C),r!==null&&(fr(r,p,C,y),ja(r,p,C)),C}function lu(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function ym(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function th(r,s){ym(r,s),(r=r.alternate)&&ym(r,s)}var _m=typeof reportError=="function"?reportError:function(r){console.error(r)};function nh(r){this._internalRoot=r}au.prototype.render=nh.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(n(409));ou(r,s,null,null)},au.prototype.unmount=nh.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;os(function(){ou(null,r,null,null)}),s[Yr]=null}};function au(r){this._internalRoot=r}au.prototype.unstable_scheduleHydration=function(r){if(r){var s=tp();r={blockedOn:null,target:r,priority:s};for(var a=0;a<mi.length&&s!==0&&s<mi[a].priority;a++);mi.splice(a,0,r),a===0&&ip(r)}};function rh(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function uu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function vm(){}function Ix(r,s,a,f,p){if(p){if(typeof f=="function"){var y=f;f=function(){var V=lu(C);y.call(V)}}var C=mm(s,f,r,0,null,!1,!1,"",vm);return r._reactRootContainer=C,r[Yr]=C.current,al(r.nodeType===8?r.parentNode:r),os(),C}for(;p=r.lastChild;)r.removeChild(p);if(typeof f=="function"){var A=f;f=function(){var V=lu(F);A.call(V)}}var F=eh(r,0,!1,null,null,!1,!1,"",vm);return r._reactRootContainer=F,r[Yr]=F.current,al(r.nodeType===8?r.parentNode:r),os(function(){ou(s,F,a,f)}),F}function cu(r,s,a,f,p){var y=a._reactRootContainer;if(y){var C=y;if(typeof p=="function"){var A=p;p=function(){var F=lu(C);A.call(F)}}ou(s,C,r,p)}else C=Ix(a,s,r,p,f);return lu(C)}Jd=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var a=Xo(s.pendingLanes);a!==0&&(Cc(s,a|1),mn(s,ge()),!(je&6)&&(lo=ge()+500,ki()))}break;case 13:os(function(){var f=Gr(r,1);if(f!==null){var p=rn();fr(f,r,1,p)}}),th(r,1)}},Rc=function(r){if(r.tag===13){var s=Gr(r,134217728);if(s!==null){var a=rn();fr(s,r,134217728,a)}th(r,134217728)}},ep=function(r){if(r.tag===13){var s=Ti(r),a=Gr(r,s);if(a!==null){var f=rn();fr(a,r,s,f)}th(r,s)}},tp=function(){return We},np=function(r,s){var a=We;try{return We=r,s()}finally{We=a}},Wn=function(r,s,a){switch(s){case"input":if(en(r,a),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var f=a[s];if(f!==r&&f.form===r.form){var p=Ra(f);if(!p)throw Error(n(90));dt(f),en(f,p)}}}break;case"textarea":cn(r,a);break;case"select":s=a.value,s!=null&&En(r,!!a.multiple,s,!1)}},ra=Kf,ia=os;var Nx={usingClientEntryPoint:!1,Events:[fl,Ks,Ra,qi,Do,Kf]},El={findFiberByHostInstance:Zi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jx={bundleType:El.bundleType,version:El.version,rendererPackageName:El.rendererPackageName,rendererConfig:El.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=la(r),r===null?null:r.stateNode},findFiberByHostInstance:El.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fu.isDisabled&&fu.supportsFiber)try{fn=fu.inject(jx),Tt=fu}catch{}}return _n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Nx,_n.createPortal=function(r,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rh(s))throw Error(n(200));return Fx(r,s,null,a)},_n.createRoot=function(r,s){if(!rh(r))throw Error(n(299));var a=!1,f="",p=_m;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=eh(r,1,!1,null,null,a,!1,f,p),r[Yr]=s.current,al(r.nodeType===8?r.parentNode:r),new nh(s)},_n.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=la(s),r=r===null?null:r.stateNode,r},_n.flushSync=function(r){return os(r)},_n.hydrate=function(r,s,a){if(!uu(s))throw Error(n(200));return cu(null,r,s,!0,a)},_n.hydrateRoot=function(r,s,a){if(!rh(r))throw Error(n(405));var f=a!=null&&a.hydratedSources||null,p=!1,y="",C=_m;if(a!=null&&(a.unstable_strictMode===!0&&(p=!0),a.identifierPrefix!==void 0&&(y=a.identifierPrefix),a.onRecoverableError!==void 0&&(C=a.onRecoverableError)),s=mm(s,null,r,1,a??null,p,!1,y,C),r[Yr]=s.current,al(r),f)for(r=0;r<f.length;r++)a=f[r],p=a._getVersion,p=p(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,p]:s.mutableSourceEagerHydrationData.push(a,p);return new au(s)},_n.render=function(r,s,a){if(!uu(s))throw Error(n(200));return cu(null,r,s,!1,a)},_n.unmountComponentAtNode=function(r){if(!uu(r))throw Error(n(40));return r._reactRootContainer?(os(function(){cu(null,null,r,!1,function(){r._reactRootContainer=null,r[Yr]=null})}),!0):!1},_n.unstable_batchedUpdates=Kf,_n.unstable_renderSubtreeIntoContainer=function(r,s,a,f){if(!uu(a))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return cu(r,s,a,!1,f)},_n.version="18.3.1-next-f1338f8080-20240426",_n}var Am;function H0(){if(Am)return oh.exports;Am=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),oh.exports=Kx(),oh.exports}var Om;function qx(){if(Om)return hu;Om=1;var e=H0();return hu.createRoot=e.createRoot,hu.hydrateRoot=e.hydrateRoot,hu}var Gx=qx();const Lm=e=>{let t;const n=new Set,i=(d,g)=>{const m=typeof d=="function"?d(t):d;if(!Object.is(m,t)){const v=t;t=g??(typeof m!="object"||m===null)?m:Object.assign({},t,m),n.forEach(_=>_(t,v))}},o=()=>t,c={setState:i,getState:o,getInitialState:()=>h,subscribe:d=>(n.add(d),()=>n.delete(d))},h=t=e(i,o,c);return c},Qx=e=>e?Lm(e):Lm,Zx=e=>e;function Jx(e,t=Zx){const n=rt.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return rt.useDebugValue(n),n}const ew=e=>{const t=Qx(e),n=i=>Jx(t,i);return Object.assign(n,t),n},jr=e=>ew;function tw(e,t){let n;try{n=e()}catch{return}return{getItem:o=>{var l;const u=h=>h===null?null:JSON.parse(h,void 0),c=(l=n.getItem(o))!=null?l:null;return c instanceof Promise?c.then(u):u(c)},setItem:(o,l)=>n.setItem(o,JSON.stringify(l,void 0)),removeItem:o=>n.removeItem(o)}}const zh=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(i){return zh(i)(n)},catch(i){return this}}}catch(n){return{then(i){return this},catch(i){return zh(i)(n)}}}},nw=(e,t)=>(n,i,o)=>{let l={storage:tw(()=>localStorage),partialize:k=>k,version:0,merge:(k,S)=>({...S,...k}),...t},u=!1;const c=new Set,h=new Set;let d=l.storage;if(!d)return e((...k)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),n(...k)},i,o);const g=()=>{const k=l.partialize({...i()});return d.setItem(l.name,{state:k,version:l.version})},m=o.setState;o.setState=(k,S)=>{m(k,S),g()};const v=e((...k)=>{n(...k),g()},i,o);o.getInitialState=()=>v;let _;const w=()=>{var k,S;if(!d)return;u=!1,c.forEach(x=>{var R;return x((R=i())!=null?R:v)});const b=((S=l.onRehydrateStorage)==null?void 0:S.call(l,(k=i())!=null?k:v))||void 0;return zh(d.getItem.bind(d))(l.name).then(x=>{if(x)if(typeof x.version=="number"&&x.version!==l.version){if(l.migrate){const R=l.migrate(x.state,x.version);return R instanceof Promise?R.then(M=>[!0,M]):[!0,R]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,x.state];return[!1,void 0]}).then(x=>{var R;const[M,P]=x;if(_=l.merge(P,(R=i())!=null?R:v),n(_,!0),M)return g()}).then(()=>{b==null||b(_,void 0),_=i(),u=!0,h.forEach(x=>x(_))}).catch(x=>{b==null||b(void 0,x)})};return o.persist={setOptions:k=>{l={...l,...k},k.storage&&(d=k.storage)},clearStorage:()=>{d==null||d.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>w(),hasHydrated:()=>u,onHydrate:k=>(c.add(k),()=>{c.delete(k)}),onFinishHydration:k=>(h.add(k),()=>{h.delete(k)})},l.skipHydration||w(),_||v},_d=nw,Jt=jr()(e=>({doodler:void 0,cursor:void 0,doodles:[],setDoodler:t=>e(()=>({doodler:t})),setContainer:t=>e(()=>({container:t})),setCursor:t=>e(()=>({cursor:t})),setDoodles:t=>e(()=>({doodles:t}))})),wt=jr()(_d(e=>({canvasColor:{r:249,g:250,b:251,a:1},throttleRate:1,selectedTool:"brush",activeTool:void 0,restoreTool:void 0,toolOption:"",isPanelOpen:!0,setSelectedTool:t=>e(()=>({selectedTool:t})),setActiveTool:t=>e(()=>({activeTool:t})),setRestoreTool:t=>e(()=>({restoreTool:t})),setToolOption:t=>e(()=>({toolOption:t})),setCanvasColor:t=>e(()=>({canvasColor:t})),setThrottleRate:t=>e(()=>({throttleRate:t})),setIsPanelOpen:t=>e(()=>({isPanelOpen:t}))}),{name:"options",version:1}));/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var rw={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=(e,t,n,i)=>{const o=E.forwardRef(({color:l="currentColor",size:u=24,stroke:c=2,title:h,className:d,children:g,...m},v)=>E.createElement("svg",{ref:v,...rw[e],width:u,height:u,className:["tabler-icon",`tabler-icon-${t}`,d].join(" "),strokeWidth:c,stroke:l,...m},[h&&E.createElement("title",{key:"svg-title"},h),...i.map(([_,w])=>E.createElement(_,w)),...Array.isArray(g)?g:[g]]));return o.displayName=`${n}`,o};/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var W0=ze("outline","angle","IconAngle",[["path",{d:"M21 19h-18l9 -15",key:"svg-0"}],["path",{d:"M20.615 15.171h.015",key:"svg-1"}],["path",{d:"M19.515 11.771h.015",key:"svg-2"}],["path",{d:"M17.715 8.671h.015",key:"svg-3"}],["path",{d:"M15.415 5.971h.015",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Y0=ze("outline","arrow-back-up","IconArrowBackUp",[["path",{d:"M9 14l-4 -4l4 -4",key:"svg-0"}],["path",{d:"M5 10h11a4 4 0 1 1 0 8h-1",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var X0=ze("outline","arrow-forward-up","IconArrowForwardUp",[["path",{d:"M15 14l4 -4l-4 -4",key:"svg-0"}],["path",{d:"M19 10h-11a4 4 0 1 0 0 8h1",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var K0=ze("outline","arrow-narrow-right","IconArrowNarrowRight",[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M15 16l4 -4",key:"svg-1"}],["path",{d:"M15 8l4 4",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var iw=ze("outline","arrows-horizontal","IconArrowsHorizontal",[["path",{d:"M7 8l-4 4l4 4",key:"svg-0"}],["path",{d:"M17 8l4 4l-4 4",key:"svg-1"}],["path",{d:"M3 12l18 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var q0=ze("outline","border-corner-rounded","IconBorderCornerRounded",[["path",{d:"M4 20v-10a6 6 0 0 1 6 -6h10",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var vd=ze("outline","brush","IconBrush",[["path",{d:"M3 21v-4a4 4 0 1 1 4 4h-4",key:"svg-0"}],["path",{d:"M21 3a16 16 0 0 0 -12.8 10.2",key:"svg-1"}],["path",{d:"M21 3a16 16 0 0 1 -10.2 12.8",key:"svg-2"}],["path",{d:"M10.6 9a9 9 0 0 1 4.4 4.4",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var sw=ze("outline","chart-scatter-3d","IconChartScatter3d",[["path",{d:"M3 20l9 -7",key:"svg-0"}],["path",{d:"M12 3v10l9 7",key:"svg-1"}],["path",{d:"M17 12v.015",key:"svg-2"}],["path",{d:"M17 4.015v.015",key:"svg-3"}],["path",{d:"M21 8.015v.015",key:"svg-4"}],["path",{d:"M12 19.015v.015",key:"svg-5"}],["path",{d:"M3 12.015v.015",key:"svg-6"}],["path",{d:"M7 8.015v.015",key:"svg-7"}],["path",{d:"M3 4.015v.015",key:"svg-8"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ow=ze("outline","circle","IconCircle",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var lw=ze("outline","device-floppy","IconDeviceFloppy",[["path",{d:"M6 4h10l4 4v10a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2",key:"svg-0"}],["path",{d:"M12 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M14 4l0 4l-6 0l0 -4",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var aw=ze("outline","dimensions","IconDimensions",[["path",{d:"M3 5h11",key:"svg-0"}],["path",{d:"M12 7l2 -2l-2 -2",key:"svg-1"}],["path",{d:"M5 3l-2 2l2 2",key:"svg-2"}],["path",{d:"M19 10v11",key:"svg-3"}],["path",{d:"M17 19l2 2l2 -2",key:"svg-4"}],["path",{d:"M21 12l-2 -2l-2 2",key:"svg-5"}],["path",{d:"M3 10m0 2a2 2 0 0 1 2 -2h7a2 2 0 0 1 2 2v7a2 2 0 0 1 -2 2h-7a2 2 0 0 1 -2 -2z",key:"svg-6"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var uw=ze("outline","eraser","IconEraser",[["path",{d:"M19 20h-10.5l-4.21 -4.3a1 1 0 0 1 0 -1.41l10 -10a1 1 0 0 1 1.41 0l5 5a1 1 0 0 1 0 1.41l-9.2 9.3",key:"svg-0"}],["path",{d:"M18 13.3l-6.3 -6.3",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var cw=ze("outline","file-unknown","IconFileUnknown",[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z",key:"svg-1"}],["path",{d:"M12 17v.01",key:"svg-2"}],["path",{d:"M12 14a1.5 1.5 0 1 0 -1.14 -2.474",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var fw=ze("outline","focus-2","IconFocus2",[["circle",{cx:"12",cy:"12",r:".5",fill:"currentColor",key:"svg-0"}],["path",{d:"M12 12m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0",key:"svg-1"}],["path",{d:"M12 3l0 2",key:"svg-2"}],["path",{d:"M3 12l2 0",key:"svg-3"}],["path",{d:"M12 19l0 2",key:"svg-4"}],["path",{d:"M19 12l2 0",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var hw=ze("outline","hand-stop","IconHandStop",[["path",{d:"M8 13v-7.5a1.5 1.5 0 0 1 3 0v6.5",key:"svg-0"}],["path",{d:"M11 5.5v-2a1.5 1.5 0 1 1 3 0v8.5",key:"svg-1"}],["path",{d:"M14 5.5a1.5 1.5 0 0 1 3 0v6.5",key:"svg-2"}],["path",{d:"M17 7.5a1.5 1.5 0 0 1 3 0v8.5a6 6 0 0 1 -6 6h-2h.208a6 6 0 0 1 -5.012 -2.7a69.74 69.74 0 0 1 -.196 -.3c-.312 -.479 -1.407 -2.388 -3.286 -5.728a1.5 1.5 0 0 1 .536 -2.022a1.867 1.867 0 0 1 2.28 .28l1.47 1.47",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var xd=ze("outline","line","IconLine",[["path",{d:"M6 18m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-0"}],["path",{d:"M18 6m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M7.5 16.5l9 -9",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var dw=ze("outline","menu-2","IconMenu2",[["path",{d:"M4 6l16 0",key:"svg-0"}],["path",{d:"M4 12l16 0",key:"svg-1"}],["path",{d:"M4 18l16 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var pw=ze("outline","percentage","IconPercentage",[["path",{d:"M17 17m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M7 7m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M6 18l12 -12",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var gw=ze("outline","pointer","IconPointer",[["path",{d:"M7.904 17.563a1.2 1.2 0 0 0 2.228 .308l2.09 -3.093l4.907 4.907a1.067 1.067 0 0 0 1.509 0l1.047 -1.047a1.067 1.067 0 0 0 0 -1.509l-4.907 -4.907l3.113 -2.09a1.2 1.2 0 0 0 -.309 -2.228l-13.582 -3.904l3.904 13.563z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var mw=ze("outline","rectangle","IconRectangle",[["path",{d:"M3 5m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var yw=ze("outline","ruler-measure-2","IconRulerMeasure2",[["path",{d:"M12 19.875c0 .621 -.512 1.125 -1.143 1.125h-5.714a1.134 1.134 0 0 1 -1.143 -1.125v-15.875a1 1 0 0 1 1 -1h5.857c.631 0 1.143 .504 1.143 1.125z",key:"svg-0"}],["path",{d:"M12 9h-2",key:"svg-1"}],["path",{d:"M12 6h-3",key:"svg-2"}],["path",{d:"M12 12h-3",key:"svg-3"}],["path",{d:"M12 18h-3",key:"svg-4"}],["path",{d:"M12 15h-2",key:"svg-5"}],["path",{d:"M21 3h-4",key:"svg-6"}],["path",{d:"M19 3v18",key:"svg-7"}],["path",{d:"M21 21h-4",key:"svg-8"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var _w=ze("outline","ruler-measure","IconRulerMeasure",[["path",{d:"M19.875 12c.621 0 1.125 .512 1.125 1.143v5.714c0 .631 -.504 1.143 -1.125 1.143h-15.875a1 1 0 0 1 -1 -1v-5.857c0 -.631 .504 -1.143 1.125 -1.143h15.75z",key:"svg-0"}],["path",{d:"M9 12v2",key:"svg-1"}],["path",{d:"M6 12v3",key:"svg-2"}],["path",{d:"M12 12v3",key:"svg-3"}],["path",{d:"M18 12v3",key:"svg-4"}],["path",{d:"M15 12v2",key:"svg-5"}],["path",{d:"M3 3v4",key:"svg-6"}],["path",{d:"M3 5h18",key:"svg-7"}],["path",{d:"M21 3v4",key:"svg-8"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var vw=ze("outline","selector","IconSelector",[["path",{d:"M8 9l4 -4l4 4",key:"svg-0"}],["path",{d:"M16 15l-4 4l-4 -4",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var xw=ze("outline","skew-x","IconSkewX",[["path",{d:"M4 5.205v13.59a1 1 0 0 0 1.184 .983l14 -2.625a1 1 0 0 0 .816 -.983v-8.34a1 1 0 0 0 -.816 -.983l-14 -2.625a1 1 0 0 0 -1.184 .983z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ww=ze("outline","skew-y","IconSkewY",[["path",{d:"M4.326 19h15.348a1 1 0 0 0 .962 -1.275l-3.429 -12a1 1 0 0 0 -.961 -.725h-8.492a1 1 0 0 0 -.961 .725l-3.429 12a1 1 0 0 0 .962 1.275z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var kw=ze("outline","square-letter-x","IconSquareLetterX",[["path",{d:"M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M10 8l4 8",key:"svg-1"}],["path",{d:"M10 16l4 -8",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var bw=ze("outline","square-letter-y","IconSquareLetterY",[["path",{d:"M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M10 8l2 5l2 -5",key:"svg-1"}],["path",{d:"M12 16v-3",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var G0=ze("outline","square","IconSquare",[["path",{d:"M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Sw=ze("outline","vector-bezier","IconVectorBezier",[["path",{d:"M3 14m0 1a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1z",key:"svg-0"}],["path",{d:"M17 14m0 1a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1z",key:"svg-1"}],["path",{d:"M10 6m0 1a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1z",key:"svg-2"}],["path",{d:"M10 8.5a6 6 0 0 0 -5 5.5",key:"svg-3"}],["path",{d:"M14 8.5a6 6 0 0 1 5 5.5",key:"svg-4"}],["path",{d:"M10 8l-6 0",key:"svg-5"}],["path",{d:"M20 8l-6 0",key:"svg-6"}],["path",{d:"M3 8m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-7"}],["path",{d:"M21 8m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-8"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ew=ze("outline","vector-spline","IconVectorSpline",[["path",{d:"M17 3m0 1a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1z",key:"svg-0"}],["path",{d:"M3 17m0 1a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1z",key:"svg-1"}],["path",{d:"M17 5c-6.627 0 -12 5.373 -12 12",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Cw=ze("outline","vector-triangle","IconVectorTriangle",[["path",{d:"M10 4m0 1a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1z",key:"svg-0"}],["path",{d:"M3 17m0 1a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1z",key:"svg-1"}],["path",{d:"M17 17m0 1a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1z",key:"svg-2"}],["path",{d:"M6.5 17.1l5 -9.1",key:"svg-3"}],["path",{d:"M17.5 17.1l-5 -9.1",key:"svg-4"}],["path",{d:"M7 19l10 0",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Q0=ze("outline","wave-sine","IconWaveSine",[["path",{d:"M21 12h-2c-.894 0 -1.662 -.857 -1.761 -2c-.296 -3.45 -.749 -6 -2.749 -6s-2.5 3.582 -2.5 8s-.5 8 -2.5 8s-2.452 -2.547 -2.749 -6c-.1 -1.147 -.867 -2 -1.763 -2h-2",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Rw=ze("outline","zoom","IconZoom",[["path",{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0",key:"svg-0"}],["path",{d:"M21 21l-6 -6",key:"svg-1"}]]);function Qu(){return typeof window<"u"}function Yi(e){return Z0(e)?(e.nodeName||"").toLowerCase():"#document"}function bn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Dr(e){var t;return(t=(Z0(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Z0(e){return Qu()?e instanceof Node||e instanceof bn(e).Node:!1}function qe(e){return Qu()?e instanceof Element||e instanceof bn(e).Element:!1}function Ct(e){return Qu()?e instanceof HTMLElement||e instanceof bn(e).HTMLElement:!1}function Bh(e){return!Qu()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof bn(e).ShadowRoot}function Yl(e){const{overflow:t,overflowX:n,overflowY:i,display:o}=ir(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+n)&&!["inline","contents"].includes(o)}function Tw(e){return["table","td","th"].includes(Yi(e))}function Zu(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function wd(e){const t=Ju(),n=qe(e)?ir(e):e;return["transform","translate","scale","rotate","perspective"].some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(i=>(n.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(n.contain||"").includes(i))}function Mw(e){let t=li(e);for(;Ct(t)&&!$i(t);){if(wd(t))return t;if(Zu(t))return null;t=li(t)}return null}function Ju(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function $i(e){return["html","body","#document"].includes(Yi(e))}function ir(e){return bn(e).getComputedStyle(e)}function ec(e){return qe(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function li(e){if(Yi(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Bh(e)&&e.host||Dr(e);return Bh(t)?t.host:t}function J0(e){const t=li(e);return $i(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ct(t)&&Yl(t)?t:J0(t)}function Ui(e,t,n){var i;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=J0(e),l=o===((i=e.ownerDocument)==null?void 0:i.body),u=bn(o);if(l){const c=Uh(u);return t.concat(u,u.visualViewport||[],Yl(o)?o:[],c&&n?Ui(c):[])}return t.concat(o,Ui(o,[],n))}function Uh(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function ni(e){let t=e.activeElement;for(;((n=t)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;t=t.shadowRoot.activeElement}return t}function Kt(e,t){if(!e||!t)return!1;const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&Bh(n)){let i=t;for(;i;){if(e===i)return!0;i=i.parentNode||i.host}}return!1}function e_(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function t_(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:i}=t;return n+"/"+i}).join(" "):navigator.userAgent}function Pw(e){return e.mozInputSource===0&&e.isTrusted?!0:$h()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function n_(e){return Ow()?!1:!$h()&&e.width===0&&e.height===0||$h()&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType==="touch"}function r_(){return/apple/i.test(navigator.vendor)}function $h(){const e=/android/i;return e.test(e_())||e.test(t_())}function Aw(){return e_().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function Ow(){return t_().includes("jsdom/")}function zl(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function Lw(e){return"nativeEvent"in e}function Fw(e){return e.matches("html,body")}function Gt(e){return(e==null?void 0:e.ownerDocument)||document}function uh(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function ji(e){return"composedPath"in e?e.composedPath()[0]:e.target}const Iw="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function kd(e){return Ct(e)&&e.matches(Iw)}function ch(e){e.preventDefault(),e.stopPropagation()}function Nw(e){return e?e.getAttribute("role")==="combobox"&&kd(e):!1}const Fu=Math.min,bs=Math.max,Iu=Math.round,du=Math.floor,Or=e=>({x:e,y:e}),jw={left:"right",right:"left",bottom:"top",top:"bottom"},Dw={start:"end",end:"start"};function Fm(e,t,n){return bs(e,Fu(t,n))}function tc(e,t){return typeof e=="function"?e(t):e}function Cs(e){return e.split("-")[0]}function nc(e){return e.split("-")[1]}function i_(e){return e==="x"?"y":"x"}function s_(e){return e==="y"?"height":"width"}function Ro(e){return["top","bottom"].includes(Cs(e))?"y":"x"}function o_(e){return i_(Ro(e))}function zw(e,t,n){n===void 0&&(n=!1);const i=nc(e),o=o_(e),l=s_(o);let u=o==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[l]>t.floating[l]&&(u=Nu(u)),[u,Nu(u)]}function Bw(e){const t=Nu(e);return[Vh(e),t,Vh(t)]}function Vh(e){return e.replace(/start|end/g,t=>Dw[t])}function Uw(e,t,n){const i=["left","right"],o=["right","left"],l=["top","bottom"],u=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:i:t?i:o;case"left":case"right":return t?l:u;default:return[]}}function $w(e,t,n,i){const o=nc(e);let l=Uw(Cs(e),n==="start",i);return o&&(l=l.map(u=>u+"-"+o),t&&(l=l.concat(l.map(Vh)))),l}function Nu(e){return e.replace(/left|right|bottom|top/g,t=>jw[t])}function Vw(e){return{top:0,right:0,bottom:0,left:0,...e}}function Hw(e){return typeof e!="number"?Vw(e):{top:e,right:e,bottom:e,left:e}}function ju(e){const{x:t,y:n,width:i,height:o}=e;return{width:i,height:o,top:n,left:t,right:t+i,bottom:n+o,x:t,y:n}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Ww=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Du=Ww.join(","),l_=typeof Element>"u",To=l_?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,zu=!l_&&Element.prototype.getRootNode?function(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}:function(e){return e==null?void 0:e.ownerDocument},Bu=function e(t,n){var i;n===void 0&&(n=!0);var o=t==null||(i=t.getAttribute)===null||i===void 0?void 0:i.call(t,"inert"),l=o===""||o==="true",u=l||n&&t&&e(t.parentNode);return u},Yw=function(t){var n,i=t==null||(n=t.getAttribute)===null||n===void 0?void 0:n.call(t,"contenteditable");return i===""||i==="true"},Xw=function(t,n,i){if(Bu(t))return[];var o=Array.prototype.slice.apply(t.querySelectorAll(Du));return n&&To.call(t,Du)&&o.unshift(t),o=o.filter(i),o},Kw=function e(t,n,i){for(var o=[],l=Array.from(t);l.length;){var u=l.shift();if(!Bu(u,!1))if(u.tagName==="SLOT"){var c=u.assignedElements(),h=c.length?c:u.children,d=e(h,!0,i);i.flatten?o.push.apply(o,d):o.push({scopeParent:u,candidates:d})}else{var g=To.call(u,Du);g&&i.filter(u)&&(n||!t.includes(u))&&o.push(u);var m=u.shadowRoot||typeof i.getShadowRoot=="function"&&i.getShadowRoot(u),v=!Bu(m,!1)&&(!i.shadowRootFilter||i.shadowRootFilter(u));if(m&&v){var _=e(m===!0?u.children:m.children,!0,i);i.flatten?o.push.apply(o,_):o.push({scopeParent:u,candidates:_})}else l.unshift.apply(l,u.children)}}return o},a_=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},u_=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||Yw(t))&&!a_(t)?0:t.tabIndex},qw=function(t,n){var i=u_(t);return i<0&&n&&!a_(t)?0:i},Gw=function(t,n){return t.tabIndex===n.tabIndex?t.documentOrder-n.documentOrder:t.tabIndex-n.tabIndex},c_=function(t){return t.tagName==="INPUT"},Qw=function(t){return c_(t)&&t.type==="hidden"},Zw=function(t){var n=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(i){return i.tagName==="SUMMARY"});return n},Jw=function(t,n){for(var i=0;i<t.length;i++)if(t[i].checked&&t[i].form===n)return t[i]},e2=function(t){if(!t.name)return!0;var n=t.form||zu(t),i=function(c){return n.querySelectorAll('input[type="radio"][name="'+c+'"]')},o;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")o=i(window.CSS.escape(t.name));else try{o=i(t.name)}catch(u){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",u.message),!1}var l=Jw(o,t.form);return!l||l===t},t2=function(t){return c_(t)&&t.type==="radio"},n2=function(t){return t2(t)&&!e2(t)},r2=function(t){var n,i=t&&zu(t),o=(n=i)===null||n===void 0?void 0:n.host,l=!1;if(i&&i!==t){var u,c,h;for(l=!!((u=o)!==null&&u!==void 0&&(c=u.ownerDocument)!==null&&c!==void 0&&c.contains(o)||t!=null&&(h=t.ownerDocument)!==null&&h!==void 0&&h.contains(t));!l&&o;){var d,g,m;i=zu(o),o=(d=i)===null||d===void 0?void 0:d.host,l=!!((g=o)!==null&&g!==void 0&&(m=g.ownerDocument)!==null&&m!==void 0&&m.contains(o))}}return l},Im=function(t){var n=t.getBoundingClientRect(),i=n.width,o=n.height;return i===0&&o===0},i2=function(t,n){var i=n.displayCheck,o=n.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var l=To.call(t,"details>summary:first-of-type"),u=l?t.parentElement:t;if(To.call(u,"details:not([open]) *"))return!0;if(!i||i==="full"||i==="legacy-full"){if(typeof o=="function"){for(var c=t;t;){var h=t.parentElement,d=zu(t);if(h&&!h.shadowRoot&&o(h)===!0)return Im(t);t.assignedSlot?t=t.assignedSlot:!h&&d!==t.ownerDocument?t=d.host:t=h}t=c}if(r2(t))return!t.getClientRects().length;if(i!=="legacy-full")return!0}else if(i==="non-zero-area")return Im(t);return!1},s2=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var n=t.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var i=0;i<n.children.length;i++){var o=n.children.item(i);if(o.tagName==="LEGEND")return To.call(n,"fieldset[disabled] *")?!0:!o.contains(t)}return!0}n=n.parentElement}return!1},o2=function(t,n){return!(n.disabled||Bu(n)||Qw(n)||i2(n,t)||Zw(n)||s2(n))},Hh=function(t,n){return!(n2(n)||u_(n)<0||!o2(t,n))},l2=function(t){var n=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},a2=function e(t){var n=[],i=[];return t.forEach(function(o,l){var u=!!o.scopeParent,c=u?o.scopeParent:o,h=qw(c,u),d=u?e(o.candidates):c;h===0?u?n.push.apply(n,d):n.push(c):i.push({documentOrder:l,tabIndex:h,item:o,isScope:u,content:d})}),i.sort(Gw).reduce(function(o,l){return l.isScope?o.push.apply(o,l.content):o.push(l.content),o},[]).concat(n)},rc=function(t,n){n=n||{};var i;return n.getShadowRoot?i=Kw([t],n.includeContainer,{filter:Hh.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:l2}):i=Xw(t,n.includeContainer,Hh.bind(null,n)),a2(i)},u2=function(t,n){if(n=n||{},!t)throw new Error("No node provided");return To.call(t,Du)===!1?!1:Hh(n,t)},bd=H0();function Nm(e,t,n){let{reference:i,floating:o}=e;const l=Ro(t),u=o_(t),c=s_(u),h=Cs(t),d=l==="y",g=i.x+i.width/2-o.width/2,m=i.y+i.height/2-o.height/2,v=i[c]/2-o[c]/2;let _;switch(h){case"top":_={x:g,y:i.y-o.height};break;case"bottom":_={x:g,y:i.y+i.height};break;case"right":_={x:i.x+i.width,y:m};break;case"left":_={x:i.x-o.width,y:m};break;default:_={x:i.x,y:i.y}}switch(nc(t)){case"start":_[u]-=v*(n&&d?-1:1);break;case"end":_[u]+=v*(n&&d?-1:1);break}return _}const c2=async(e,t,n)=>{const{placement:i="bottom",strategy:o="absolute",middleware:l=[],platform:u}=n,c=l.filter(Boolean),h=await(u.isRTL==null?void 0:u.isRTL(t));let d=await u.getElementRects({reference:e,floating:t,strategy:o}),{x:g,y:m}=Nm(d,i,h),v=i,_={},w=0;for(let k=0;k<c.length;k++){const{name:S,fn:b}=c[k],{x,y:R,data:M,reset:P}=await b({x:g,y:m,initialPlacement:i,placement:v,strategy:o,middlewareData:_,rects:d,platform:u,elements:{reference:e,floating:t}});g=x??g,m=R??m,_={..._,[S]:{..._[S],...M}},P&&w<=50&&(w++,typeof P=="object"&&(P.placement&&(v=P.placement),P.rects&&(d=P.rects===!0?await u.getElementRects({reference:e,floating:t,strategy:o}):P.rects),{x:g,y:m}=Nm(d,v,h)),k=-1)}return{x:g,y:m,placement:v,strategy:o,middlewareData:_}};async function f_(e,t){var n;t===void 0&&(t={});const{x:i,y:o,platform:l,rects:u,elements:c,strategy:h}=e,{boundary:d="clippingAncestors",rootBoundary:g="viewport",elementContext:m="floating",altBoundary:v=!1,padding:_=0}=tc(t,e),w=Hw(_),S=c[v?m==="floating"?"reference":"floating":m],b=ju(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(S)))==null||n?S:S.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(c.floating)),boundary:d,rootBoundary:g,strategy:h})),x=m==="floating"?{x:i,y:o,width:u.floating.width,height:u.floating.height}:u.reference,R=await(l.getOffsetParent==null?void 0:l.getOffsetParent(c.floating)),M=await(l.isElement==null?void 0:l.isElement(R))?await(l.getScale==null?void 0:l.getScale(R))||{x:1,y:1}:{x:1,y:1},P=ju(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:x,offsetParent:R,strategy:h}):x);return{top:(b.top-P.top+w.top)/M.y,bottom:(P.bottom-b.bottom+w.bottom)/M.y,left:(b.left-P.left+w.left)/M.x,right:(P.right-b.right+w.right)/M.x}}const f2=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,i;const{placement:o,middlewareData:l,rects:u,initialPlacement:c,platform:h,elements:d}=t,{mainAxis:g=!0,crossAxis:m=!0,fallbackPlacements:v,fallbackStrategy:_="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:k=!0,...S}=tc(e,t);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const b=Cs(o),x=Ro(c),R=Cs(c)===c,M=await(h.isRTL==null?void 0:h.isRTL(d.floating)),P=v||(R||!k?[Nu(c)]:Bw(c)),I=w!=="none";!v&&I&&P.push(...$w(c,k,w,M));const j=[c,...P],Y=await f_(t,S),z=[];let H=((i=l.flip)==null?void 0:i.overflows)||[];if(g&&z.push(Y[b]),m){const te=zw(o,u,M);z.push(Y[te[0]],Y[te[1]])}if(H=[...H,{placement:o,overflows:z}],!z.every(te=>te<=0)){var X,K;const te=(((X=l.flip)==null?void 0:X.index)||0)+1,re=j[te];if(re)return{data:{index:te,overflows:H},reset:{placement:re}};let ue=(K=H.filter(Z=>Z.overflows[0]<=0).sort((Z,D)=>Z.overflows[1]-D.overflows[1])[0])==null?void 0:K.placement;if(!ue)switch(_){case"bestFit":{var ae;const Z=(ae=H.filter(D=>{if(I){const B=Ro(D.placement);return B===x||B==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(B=>B>0).reduce((B,q)=>B+q,0)]).sort((D,B)=>D[1]-B[1])[0])==null?void 0:ae[0];Z&&(ue=Z);break}case"initialPlacement":ue=c;break}if(o!==ue)return{reset:{placement:ue}}}return{}}}};async function h2(e,t){const{placement:n,platform:i,elements:o}=e,l=await(i.isRTL==null?void 0:i.isRTL(o.floating)),u=Cs(n),c=nc(n),h=Ro(n)==="y",d=["left","top"].includes(u)?-1:1,g=l&&h?-1:1,m=tc(t,e);let{mainAxis:v,crossAxis:_,alignmentAxis:w}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return c&&typeof w=="number"&&(_=c==="end"?w*-1:w),h?{x:_*g,y:v*d}:{x:v*d,y:_*g}}const d2=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,i;const{x:o,y:l,placement:u,middlewareData:c}=t,h=await h2(t,e);return u===((n=c.offset)==null?void 0:n.placement)&&(i=c.arrow)!=null&&i.alignmentOffset?{}:{x:o+h.x,y:l+h.y,data:{...h,placement:u}}}}},p2=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:i,placement:o}=t,{mainAxis:l=!0,crossAxis:u=!1,limiter:c={fn:S=>{let{x:b,y:x}=S;return{x:b,y:x}}},...h}=tc(e,t),d={x:n,y:i},g=await f_(t,h),m=Ro(Cs(o)),v=i_(m);let _=d[v],w=d[m];if(l){const S=v==="y"?"top":"left",b=v==="y"?"bottom":"right",x=_+g[S],R=_-g[b];_=Fm(x,_,R)}if(u){const S=m==="y"?"top":"left",b=m==="y"?"bottom":"right",x=w+g[S],R=w-g[b];w=Fm(x,w,R)}const k=c.fn({...t,[v]:_,[m]:w});return{...k,data:{x:k.x-n,y:k.y-i,enabled:{[v]:l,[m]:u}}}}}};function h_(e){const t=ir(e);let n=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const o=Ct(e),l=o?e.offsetWidth:n,u=o?e.offsetHeight:i,c=Iu(n)!==l||Iu(i)!==u;return c&&(n=l,i=u),{width:n,height:i,$:c}}function Sd(e){return qe(e)?e:e.contextElement}function bo(e){const t=Sd(e);if(!Ct(t))return Or(1);const n=t.getBoundingClientRect(),{width:i,height:o,$:l}=h_(t);let u=(l?Iu(n.width):n.width)/i,c=(l?Iu(n.height):n.height)/o;return(!u||!Number.isFinite(u))&&(u=1),(!c||!Number.isFinite(c))&&(c=1),{x:u,y:c}}const g2=Or(0);function d_(e){const t=bn(e);return!Ju()||!t.visualViewport?g2:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function m2(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==bn(e)?!1:t}function Rs(e,t,n,i){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),l=Sd(e);let u=Or(1);t&&(i?qe(i)&&(u=bo(i)):u=bo(e));const c=m2(l,n,i)?d_(l):Or(0);let h=(o.left+c.x)/u.x,d=(o.top+c.y)/u.y,g=o.width/u.x,m=o.height/u.y;if(l){const v=bn(l),_=i&&qe(i)?bn(i):i;let w=v,k=Uh(w);for(;k&&i&&_!==w;){const S=bo(k),b=k.getBoundingClientRect(),x=ir(k),R=b.left+(k.clientLeft+parseFloat(x.paddingLeft))*S.x,M=b.top+(k.clientTop+parseFloat(x.paddingTop))*S.y;h*=S.x,d*=S.y,g*=S.x,m*=S.y,h+=R,d+=M,w=bn(k),k=Uh(w)}}return ju({width:g,height:m,x:h,y:d})}function Ed(e,t){const n=ec(e).scrollLeft;return t?t.left+n:Rs(Dr(e)).left+n}function p_(e,t,n){n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=i.left+t.scrollLeft-(n?0:Ed(e,i)),l=i.top+t.scrollTop;return{x:o,y:l}}function y2(e){let{elements:t,rect:n,offsetParent:i,strategy:o}=e;const l=o==="fixed",u=Dr(i),c=t?Zu(t.floating):!1;if(i===u||c&&l)return n;let h={scrollLeft:0,scrollTop:0},d=Or(1);const g=Or(0),m=Ct(i);if((m||!m&&!l)&&((Yi(i)!=="body"||Yl(u))&&(h=ec(i)),Ct(i))){const _=Rs(i);d=bo(i),g.x=_.x+i.clientLeft,g.y=_.y+i.clientTop}const v=u&&!m&&!l?p_(u,h,!0):Or(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-h.scrollLeft*d.x+g.x+v.x,y:n.y*d.y-h.scrollTop*d.y+g.y+v.y}}function _2(e){return Array.from(e.getClientRects())}function v2(e){const t=Dr(e),n=ec(e),i=e.ownerDocument.body,o=bs(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),l=bs(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let u=-n.scrollLeft+Ed(e);const c=-n.scrollTop;return ir(i).direction==="rtl"&&(u+=bs(t.clientWidth,i.clientWidth)-o),{width:o,height:l,x:u,y:c}}function x2(e,t){const n=bn(e),i=Dr(e),o=n.visualViewport;let l=i.clientWidth,u=i.clientHeight,c=0,h=0;if(o){l=o.width,u=o.height;const d=Ju();(!d||d&&t==="fixed")&&(c=o.offsetLeft,h=o.offsetTop)}return{width:l,height:u,x:c,y:h}}function w2(e,t){const n=Rs(e,!0,t==="fixed"),i=n.top+e.clientTop,o=n.left+e.clientLeft,l=Ct(e)?bo(e):Or(1),u=e.clientWidth*l.x,c=e.clientHeight*l.y,h=o*l.x,d=i*l.y;return{width:u,height:c,x:h,y:d}}function jm(e,t,n){let i;if(t==="viewport")i=x2(e,n);else if(t==="document")i=v2(Dr(e));else if(qe(t))i=w2(t,n);else{const o=d_(e);i={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return ju(i)}function g_(e,t){const n=li(e);return n===t||!qe(n)||$i(n)?!1:ir(n).position==="fixed"||g_(n,t)}function k2(e,t){const n=t.get(e);if(n)return n;let i=Ui(e,[],!1).filter(c=>qe(c)&&Yi(c)!=="body"),o=null;const l=ir(e).position==="fixed";let u=l?li(e):e;for(;qe(u)&&!$i(u);){const c=ir(u),h=wd(u);!h&&c.position==="fixed"&&(o=null),(l?!h&&!o:!h&&c.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||Yl(u)&&!h&&g_(e,u))?i=i.filter(g=>g!==u):o=c,u=li(u)}return t.set(e,i),i}function b2(e){let{element:t,boundary:n,rootBoundary:i,strategy:o}=e;const u=[...n==="clippingAncestors"?Zu(t)?[]:k2(t,this._c):[].concat(n),i],c=u[0],h=u.reduce((d,g)=>{const m=jm(t,g,o);return d.top=bs(m.top,d.top),d.right=Fu(m.right,d.right),d.bottom=Fu(m.bottom,d.bottom),d.left=bs(m.left,d.left),d},jm(t,c,o));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function S2(e){const{width:t,height:n}=h_(e);return{width:t,height:n}}function E2(e,t,n){const i=Ct(t),o=Dr(t),l=n==="fixed",u=Rs(e,!0,l,t);let c={scrollLeft:0,scrollTop:0};const h=Or(0);if(i||!i&&!l)if((Yi(t)!=="body"||Yl(o))&&(c=ec(t)),i){const v=Rs(t,!0,l,t);h.x=v.x+t.clientLeft,h.y=v.y+t.clientTop}else o&&(h.x=Ed(o));const d=o&&!i&&!l?p_(o,c):Or(0),g=u.left+c.scrollLeft-h.x-d.x,m=u.top+c.scrollTop-h.y-d.y;return{x:g,y:m,width:u.width,height:u.height}}function fh(e){return ir(e).position==="static"}function Dm(e,t){if(!Ct(e)||ir(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Dr(e)===n&&(n=n.ownerDocument.body),n}function m_(e,t){const n=bn(e);if(Zu(e))return n;if(!Ct(e)){let o=li(e);for(;o&&!$i(o);){if(qe(o)&&!fh(o))return o;o=li(o)}return n}let i=Dm(e,t);for(;i&&Tw(i)&&fh(i);)i=Dm(i,t);return i&&$i(i)&&fh(i)&&!wd(i)?n:i||Mw(e)||n}const C2=async function(e){const t=this.getOffsetParent||m_,n=this.getDimensions,i=await n(e.floating);return{reference:E2(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function R2(e){return ir(e).direction==="rtl"}const T2={convertOffsetParentRelativeRectToViewportRelativeRect:y2,getDocumentElement:Dr,getClippingRect:b2,getOffsetParent:m_,getElementRects:C2,getClientRects:_2,getDimensions:S2,getScale:bo,isElement:qe,isRTL:R2};function y_(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function M2(e,t){let n=null,i;const o=Dr(e);function l(){var c;clearTimeout(i),(c=n)==null||c.disconnect(),n=null}function u(c,h){c===void 0&&(c=!1),h===void 0&&(h=1),l();const d=e.getBoundingClientRect(),{left:g,top:m,width:v,height:_}=d;if(c||t(),!v||!_)return;const w=du(m),k=du(o.clientWidth-(g+v)),S=du(o.clientHeight-(m+_)),b=du(g),R={rootMargin:-w+"px "+-k+"px "+-S+"px "+-b+"px",threshold:bs(0,Fu(1,h))||1};let M=!0;function P(I){const j=I[0].intersectionRatio;if(j!==h){if(!M)return u();j?u(!1,j):i=setTimeout(()=>{u(!1,1e-7)},1e3)}j===1&&!y_(d,e.getBoundingClientRect())&&u(),M=!1}try{n=new IntersectionObserver(P,{...R,root:o.ownerDocument})}catch{n=new IntersectionObserver(P,R)}n.observe(e)}return u(!0),l}function __(e,t,n,i){i===void 0&&(i={});const{ancestorScroll:o=!0,ancestorResize:l=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:h=!1}=i,d=Sd(e),g=o||l?[...d?Ui(d):[],...Ui(t)]:[];g.forEach(b=>{o&&b.addEventListener("scroll",n,{passive:!0}),l&&b.addEventListener("resize",n)});const m=d&&c?M2(d,n):null;let v=-1,_=null;u&&(_=new ResizeObserver(b=>{let[x]=b;x&&x.target===d&&_&&(_.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var R;(R=_)==null||R.observe(t)})),n()}),d&&!h&&_.observe(d),_.observe(t));let w,k=h?Rs(e):null;h&&S();function S(){const b=Rs(e);k&&!y_(k,b)&&n(),k=b,w=requestAnimationFrame(S)}return n(),()=>{var b;g.forEach(x=>{o&&x.removeEventListener("scroll",n),l&&x.removeEventListener("resize",n)}),m==null||m(),(b=_)==null||b.disconnect(),_=null,h&&cancelAnimationFrame(w)}}const P2=d2,A2=p2,O2=f2,L2=(e,t,n)=>{const i=new Map,o={platform:T2,...n},l={...o.platform,_c:i};return c2(e,t,{...o,platform:l})};var Ru=typeof document<"u"?E.useLayoutEffect:E.useEffect;function Uu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,i,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(i=n;i--!==0;)if(!Uu(e[i],t[i]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(i=n;i--!==0;)if(!{}.hasOwnProperty.call(t,o[i]))return!1;for(i=n;i--!==0;){const l=o[i];if(!(l==="_owner"&&e.$$typeof)&&!Uu(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}function v_(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function zm(e,t){const n=v_(e);return Math.round(t*n)/n}function hh(e){const t=E.useRef(e);return Ru(()=>{t.current=e}),t}function F2(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:i=[],platform:o,elements:{reference:l,floating:u}={},transform:c=!0,whileElementsMounted:h,open:d}=e,[g,m]=E.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[v,_]=E.useState(i);Uu(v,i)||_(i);const[w,k]=E.useState(null),[S,b]=E.useState(null),x=E.useCallback(D=>{D!==I.current&&(I.current=D,k(D))},[]),R=E.useCallback(D=>{D!==j.current&&(j.current=D,b(D))},[]),M=l||w,P=u||S,I=E.useRef(null),j=E.useRef(null),Y=E.useRef(g),z=h!=null,H=hh(h),X=hh(o),K=hh(d),ae=E.useCallback(()=>{if(!I.current||!j.current)return;const D={placement:t,strategy:n,middleware:v};X.current&&(D.platform=X.current),L2(I.current,j.current,D).then(B=>{const q={...B,isPositioned:K.current!==!1};te.current&&!Uu(Y.current,q)&&(Y.current=q,bd.flushSync(()=>{m(q)}))})},[v,t,n,X,K]);Ru(()=>{d===!1&&Y.current.isPositioned&&(Y.current.isPositioned=!1,m(D=>({...D,isPositioned:!1})))},[d]);const te=E.useRef(!1);Ru(()=>(te.current=!0,()=>{te.current=!1}),[]),Ru(()=>{if(M&&(I.current=M),P&&(j.current=P),M&&P){if(H.current)return H.current(M,P,ae);ae()}},[M,P,ae,H,z]);const re=E.useMemo(()=>({reference:I,floating:j,setReference:x,setFloating:R}),[x,R]),ue=E.useMemo(()=>({reference:M,floating:P}),[M,P]),Z=E.useMemo(()=>{const D={position:n,left:0,top:0};if(!ue.floating)return D;const B=zm(ue.floating,g.x),q=zm(ue.floating,g.y);return c?{...D,transform:"translate("+B+"px, "+q+"px)",...v_(ue.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:B,top:q}},[n,c,ue.floating,g.x,g.y]);return E.useMemo(()=>({...g,update:ae,refs:re,elements:ue,floatingStyles:Z}),[g,ae,re,ue,Z])}const x_=(e,t)=>({...P2(e),options:[e,t]}),w_=(e,t)=>({...A2(e),options:[e,t]}),k_=(e,t)=>({...O2(e),options:[e,t]});function ic(e){return E.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})},e)}const b_={...Wx},I2=b_.useInsertionEffect,N2=I2||(e=>e());function gr(e){const t=E.useRef(()=>{});return N2(()=>{t.current=e}),E.useCallback(function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t.current==null?void 0:t.current(...i)},[])}var kn=typeof document<"u"?E.useLayoutEffect:E.useEffect;function $u(){return $u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},$u.apply(this,arguments)}let Bm=!1,j2=0;const Um=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+j2++;function D2(){const[e,t]=E.useState(()=>Bm?Um():void 0);return kn(()=>{e==null&&t(Um())},[]),E.useEffect(()=>{Bm=!0},[]),e}const z2=b_.useId,Xl=z2||D2;function B2(){const e=new Map;return{emit(t,n){var i;(i=e.get(t))==null||i.forEach(o=>o(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var i;e.set(t,((i=e.get(t))==null?void 0:i.filter(o=>o!==n))||[])}}}const U2=E.createContext(null),$2=E.createContext(null),Cd=()=>{var e;return((e=E.useContext(U2))==null?void 0:e.id)||null},sc=()=>E.useContext($2);function Ts(e){return"data-floating-ui-"+e}function So(e){const t=E.useRef(e);return kn(()=>{t.current=e}),t}const $m=Ts("safe-polygon");function dh(e,t,n){return n&&!zl(n)?0:typeof e=="number"?e:e==null?void 0:e[t]}function V2(e,t){t===void 0&&(t={});const{open:n,onOpenChange:i,dataRef:o,events:l,elements:u}=e,{enabled:c=!0,delay:h=0,handleClose:d=null,mouseOnly:g=!1,restMs:m=0,move:v=!0}=t,_=sc(),w=Cd(),k=So(d),S=So(h),b=So(n),x=E.useRef(),R=E.useRef(-1),M=E.useRef(),P=E.useRef(-1),I=E.useRef(!0),j=E.useRef(!1),Y=E.useRef(()=>{}),z=E.useRef(!1),H=E.useCallback(()=>{var Z;const D=(Z=o.current.openEvent)==null?void 0:Z.type;return(D==null?void 0:D.includes("mouse"))&&D!=="mousedown"},[o]);E.useEffect(()=>{if(!c)return;function Z(D){let{open:B}=D;B||(clearTimeout(R.current),clearTimeout(P.current),I.current=!0,z.current=!1)}return l.on("openchange",Z),()=>{l.off("openchange",Z)}},[c,l]),E.useEffect(()=>{if(!c||!k.current||!n)return;function Z(B){H()&&i(!1,B,"hover")}const D=Gt(u.floating).documentElement;return D.addEventListener("mouseleave",Z),()=>{D.removeEventListener("mouseleave",Z)}},[u.floating,n,i,c,k,H]);const X=E.useCallback(function(Z,D,B){D===void 0&&(D=!0),B===void 0&&(B="hover");const q=dh(S.current,"close",x.current);q&&!M.current?(clearTimeout(R.current),R.current=window.setTimeout(()=>i(!1,Z,B),q)):D&&(clearTimeout(R.current),i(!1,Z,B))},[S,i]),K=gr(()=>{Y.current(),M.current=void 0}),ae=gr(()=>{if(j.current){const Z=Gt(u.floating).body;Z.style.pointerEvents="",Z.removeAttribute($m),j.current=!1}}),te=gr(()=>o.current.openEvent?["click","mousedown"].includes(o.current.openEvent.type):!1);E.useEffect(()=>{if(!c)return;function Z(L){if(clearTimeout(R.current),I.current=!1,g&&!zl(x.current)||m>0&&!dh(S.current,"open"))return;const W=dh(S.current,"open",x.current);W?R.current=window.setTimeout(()=>{b.current||i(!0,L,"hover")},W):n||i(!0,L,"hover")}function D(L){if(te())return;Y.current();const W=Gt(u.floating);if(clearTimeout(P.current),z.current=!1,k.current&&o.current.floatingContext){n||clearTimeout(R.current),M.current=k.current({...o.current.floatingContext,tree:_,x:L.clientX,y:L.clientY,onClose(){ae(),K(),te()||X(L,!0,"safe-polygon")}});const fe=M.current;W.addEventListener("mousemove",fe),Y.current=()=>{W.removeEventListener("mousemove",fe)};return}(x.current==="touch"?!Kt(u.floating,L.relatedTarget):!0)&&X(L)}function B(L){te()||o.current.floatingContext&&(k.current==null||k.current({...o.current.floatingContext,tree:_,x:L.clientX,y:L.clientY,onClose(){ae(),K(),te()||X(L)}})(L))}if(qe(u.domReference)){var q;const L=u.domReference;return n&&L.addEventListener("mouseleave",B),(q=u.floating)==null||q.addEventListener("mouseleave",B),v&&L.addEventListener("mousemove",Z,{once:!0}),L.addEventListener("mouseenter",Z),L.addEventListener("mouseleave",D),()=>{var W;n&&L.removeEventListener("mouseleave",B),(W=u.floating)==null||W.removeEventListener("mouseleave",B),v&&L.removeEventListener("mousemove",Z),L.removeEventListener("mouseenter",Z),L.removeEventListener("mouseleave",D)}}},[u,c,e,g,m,v,X,K,ae,i,n,b,_,S,k,o,te]),kn(()=>{var Z;if(c&&n&&(Z=k.current)!=null&&Z.__options.blockPointerEvents&&H()){j.current=!0;const B=u.floating;if(qe(u.domReference)&&B){var D;const q=Gt(u.floating).body;q.setAttribute($m,"");const L=u.domReference,W=_==null||(D=_.nodesRef.current.find(xe=>xe.id===w))==null||(D=D.context)==null?void 0:D.elements.floating;return W&&(W.style.pointerEvents=""),q.style.pointerEvents="none",L.style.pointerEvents="auto",B.style.pointerEvents="auto",()=>{q.style.pointerEvents="",L.style.pointerEvents="",B.style.pointerEvents=""}}}},[c,n,w,u,_,k,H]),kn(()=>{n||(x.current=void 0,z.current=!1,K(),ae())},[n,K,ae]),E.useEffect(()=>()=>{K(),clearTimeout(R.current),clearTimeout(P.current),ae()},[c,u.domReference,K,ae]);const re=E.useMemo(()=>{function Z(D){x.current=D.pointerType}return{onPointerDown:Z,onPointerEnter:Z,onMouseMove(D){const{nativeEvent:B}=D;function q(){!I.current&&!b.current&&i(!0,B,"hover")}g&&!zl(x.current)||n||m===0||z.current&&D.movementX**2+D.movementY**2<2||(clearTimeout(P.current),x.current==="touch"?q():(z.current=!0,P.current=window.setTimeout(q,m)))}}},[g,i,n,b,m]),ue=E.useMemo(()=>({onMouseEnter(){clearTimeout(R.current)},onMouseLeave(Z){te()||X(Z.nativeEvent,!1)}}),[X,te]);return E.useMemo(()=>c?{reference:re,floating:ue}:{},[c,re,ue])}let Vm=0;function uo(e,t){t===void 0&&(t={});const{preventScroll:n=!1,cancelPrevious:i=!0,sync:o=!1}=t;i&&cancelAnimationFrame(Vm);const l=()=>e==null?void 0:e.focus({preventScroll:n});o?l():Vm=requestAnimationFrame(l)}function H2(e,t){var n;let i=[],o=(n=e.find(l=>l.id===t))==null?void 0:n.parentId;for(;o;){const l=e.find(u=>u.id===o);o=l==null?void 0:l.parentId,l&&(i=i.concat(l))}return i}function Fl(e,t){let n=e.filter(o=>{var l;return o.parentId===t&&((l=o.context)==null?void 0:l.open)}),i=n;for(;i.length;)i=e.filter(o=>{var l;return(l=i)==null?void 0:l.some(u=>{var c;return o.parentId===u.id&&((c=o.context)==null?void 0:c.open)})}),n=n.concat(i);return n}let co=new WeakMap,pu=new WeakSet,gu={},ph=0;const W2=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,S_=e=>e&&(e.host||S_(e.parentNode)),Y2=(e,t)=>t.map(n=>{if(e.contains(n))return n;const i=S_(n);return e.contains(i)?i:null}).filter(n=>n!=null);function X2(e,t,n,i){const o="data-floating-ui-inert",l=i?"inert":n?"aria-hidden":null,u=Y2(t,e),c=new Set,h=new Set(u),d=[];gu[o]||(gu[o]=new WeakMap);const g=gu[o];u.forEach(m),v(t),c.clear();function m(_){!_||c.has(_)||(c.add(_),_.parentNode&&m(_.parentNode))}function v(_){!_||h.has(_)||[].forEach.call(_.children,w=>{if(Yi(w)!=="script")if(c.has(w))v(w);else{const k=l?w.getAttribute(l):null,S=k!==null&&k!=="false",b=(co.get(w)||0)+1,x=(g.get(w)||0)+1;co.set(w,b),g.set(w,x),d.push(w),b===1&&S&&pu.add(w),x===1&&w.setAttribute(o,""),!S&&l&&w.setAttribute(l,"true")}})}return ph++,()=>{d.forEach(_=>{const w=(co.get(_)||0)-1,k=(g.get(_)||0)-1;co.set(_,w),g.set(_,k),w||(!pu.has(_)&&l&&_.removeAttribute(l),pu.delete(_)),k||_.removeAttribute(o)}),ph--,ph||(co=new WeakMap,co=new WeakMap,pu=new WeakSet,gu={})}}function Hm(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=Gt(e[0]).body;return X2(e.concat(Array.from(i.querySelectorAll("[aria-live]"))),i,t,n)}const Bl=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function E_(e,t){const n=rc(e,Bl());t==="prev"&&n.reverse();const i=n.indexOf(ni(Gt(e)));return n.slice(i+1)[0]}function C_(){return E_(document.body,"next")}function R_(){return E_(document.body,"prev")}function Il(e,t){const n=t||e.currentTarget,i=e.relatedTarget;return!i||!Kt(n,i)}function K2(e){rc(e,Bl()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function Wm(e){e.querySelectorAll("[data-tabindex]").forEach(n=>{const i=n.dataset.tabindex;delete n.dataset.tabindex,i?n.setAttribute("tabindex",i):n.removeAttribute("tabindex")})}const oc={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let q2;function Ym(e){e.key==="Tab"&&(e.target,clearTimeout(q2))}const Vu=E.forwardRef(function(t,n){const[i,o]=E.useState();kn(()=>(r_()&&o("button"),document.addEventListener("keydown",Ym),()=>{document.removeEventListener("keydown",Ym)}),[]);const l={ref:n,tabIndex:0,role:i,"aria-hidden":i?void 0:!0,[Ts("focus-guard")]:"",style:oc};return E.createElement("span",$u({},t,l))}),T_=E.createContext(null),Xm=Ts("portal");function G2(e){e===void 0&&(e={});const{id:t,root:n}=e,i=Xl(),o=P_(),[l,u]=E.useState(null),c=E.useRef(null);return kn(()=>()=>{l==null||l.remove(),queueMicrotask(()=>{c.current=null})},[l]),kn(()=>{if(!i||c.current)return;const h=t?document.getElementById(t):null;if(!h)return;const d=document.createElement("div");d.id=i,d.setAttribute(Xm,""),h.appendChild(d),c.current=d,u(d)},[t,i]),kn(()=>{if(n===null||!i||c.current)return;let h=n||(o==null?void 0:o.portalNode);h&&!qe(h)&&(h=h.current),h=h||document.body;let d=null;t&&(d=document.createElement("div"),d.id=t,h.appendChild(d));const g=document.createElement("div");g.id=i,g.setAttribute(Xm,""),h=d||h,h.appendChild(g),c.current=g,u(g)},[t,n,i,o]),l}function M_(e){const{children:t,id:n,root:i,preserveTabOrder:o=!0}=e,l=G2({id:n,root:i}),[u,c]=E.useState(null),h=E.useRef(null),d=E.useRef(null),g=E.useRef(null),m=E.useRef(null),v=u==null?void 0:u.modal,_=u==null?void 0:u.open,w=!!u&&!u.modal&&u.open&&o&&!!(i||l);return E.useEffect(()=>{if(!l||!o||v)return;function k(S){l&&Il(S)&&(S.type==="focusin"?Wm:K2)(l)}return l.addEventListener("focusin",k,!0),l.addEventListener("focusout",k,!0),()=>{l.removeEventListener("focusin",k,!0),l.removeEventListener("focusout",k,!0)}},[l,o,v]),E.useEffect(()=>{l&&(_||Wm(l))},[_,l]),E.createElement(T_.Provider,{value:E.useMemo(()=>({preserveTabOrder:o,beforeOutsideRef:h,afterOutsideRef:d,beforeInsideRef:g,afterInsideRef:m,portalNode:l,setFocusManagerState:c}),[o,l])},w&&l&&E.createElement(Vu,{"data-type":"outside",ref:h,onFocus:k=>{if(Il(k,l)){var S;(S=g.current)==null||S.focus()}else{const b=R_()||(u==null?void 0:u.refs.domReference.current);b==null||b.focus()}}}),w&&l&&E.createElement("span",{"aria-owns":l.id,style:oc}),l&&bd.createPortal(t,l),w&&l&&E.createElement(Vu,{"data-type":"outside",ref:d,onFocus:k=>{if(Il(k,l)){var S;(S=m.current)==null||S.focus()}else{const b=C_()||(u==null?void 0:u.refs.domReference.current);b==null||b.focus(),u!=null&&u.closeOnFocusOut&&(u==null||u.onOpenChange(!1,k.nativeEvent,"focus-out"))}}}))}const P_=()=>E.useContext(T_),Wh="data-floating-ui-focusable";function Q2(e){return e?e.hasAttribute(Wh)?e:e.querySelector("["+Wh+"]")||e:null}const Z2=20;let cs=[];function gh(e){cs=cs.filter(n=>n.isConnected);let t=e;if(!(!t||Yi(t)==="body")){if(!u2(t,Bl())){const n=rc(t,Bl())[0];n&&(t=n)}cs.push(t),cs.length>Z2&&(cs=cs.slice(-20))}}function Km(){return cs.slice().reverse().find(e=>e.isConnected)}const J2=E.forwardRef(function(t,n){return E.createElement("button",$u({},t,{type:"button",ref:n,tabIndex:-1,style:oc}))});function ek(e){const{context:t,children:n,disabled:i=!1,order:o=["content"],guards:l=!0,initialFocus:u=0,returnFocus:c=!0,restoreFocus:h=!1,modal:d=!0,visuallyHiddenDismiss:g=!1,closeOnFocusOut:m=!0}=e,{open:v,refs:_,nodeId:w,onOpenChange:k,events:S,dataRef:b,floatingId:x,elements:{domReference:R,floating:M}}=t,P=typeof u=="number"&&u<0,I=Nw(R)&&P,j=W2()?l:!0,Y=So(o),z=So(u),H=So(c),X=sc(),K=P_(),ae=E.useRef(null),te=E.useRef(null),re=E.useRef(!1),ue=E.useRef(!1),Z=E.useRef(-1),D=K!=null,B=Q2(M),q=gr(function(fe){return fe===void 0&&(fe=B),fe?rc(fe,Bl()):[]}),L=gr(fe=>{const oe=q(fe);return Y.current.map(Q=>R&&Q==="reference"?R:B&&Q==="floating"?B:oe).filter(Boolean).flat()});E.useEffect(()=>{if(i||!d)return;function fe(Q){if(Q.key==="Tab"){Kt(B,ni(Gt(B)))&&q().length===0&&!I&&ch(Q);const se=L(),ee=ji(Q);Y.current[0]==="reference"&&ee===R&&(ch(Q),Q.shiftKey?uo(se[se.length-1]):uo(se[1])),Y.current[1]==="floating"&&ee===B&&Q.shiftKey&&(ch(Q),uo(se[0]))}}const oe=Gt(B);return oe.addEventListener("keydown",fe),()=>{oe.removeEventListener("keydown",fe)}},[i,R,B,d,Y,I,q,L]),E.useEffect(()=>{if(i||!M)return;function fe(oe){const Q=ji(oe),ee=q().indexOf(Q);ee!==-1&&(Z.current=ee)}return M.addEventListener("focusin",fe),()=>{M.removeEventListener("focusin",fe)}},[i,M,q]),E.useEffect(()=>{if(i||!m)return;function fe(){ue.current=!0,setTimeout(()=>{ue.current=!1})}function oe(Q){const se=Q.relatedTarget;queueMicrotask(()=>{const ee=!(Kt(R,se)||Kt(M,se)||Kt(se,M)||Kt(K==null?void 0:K.portalNode,se)||se!=null&&se.hasAttribute(Ts("focus-guard"))||X&&(Fl(X.nodesRef.current,w).find(Ce=>{var Me,Ve;return Kt((Me=Ce.context)==null?void 0:Me.elements.floating,se)||Kt((Ve=Ce.context)==null?void 0:Ve.elements.domReference,se)})||H2(X.nodesRef.current,w).find(Ce=>{var Me,Ve;return((Me=Ce.context)==null?void 0:Me.elements.floating)===se||((Ve=Ce.context)==null?void 0:Ve.elements.domReference)===se})));if(h&&ee&&ni(Gt(B))===Gt(B).body){Ct(B)&&B.focus();const Ce=Z.current,Me=q(),Ve=Me[Ce]||Me[Me.length-1]||B;Ct(Ve)&&Ve.focus()}(I||!d)&&se&&ee&&!ue.current&&se!==Km()&&(re.current=!0,k(!1,Q,"focus-out"))})}if(M&&Ct(R))return R.addEventListener("focusout",oe),R.addEventListener("pointerdown",fe),M.addEventListener("focusout",oe),()=>{R.removeEventListener("focusout",oe),R.removeEventListener("pointerdown",fe),M.removeEventListener("focusout",oe)}},[i,R,M,B,d,w,X,K,k,m,h,q,I]),E.useEffect(()=>{var fe;if(i)return;const oe=Array.from((K==null||(fe=K.portalNode)==null?void 0:fe.querySelectorAll("["+Ts("portal")+"]"))||[]);if(M){const Q=[M,...oe,ae.current,te.current,Y.current.includes("reference")||I?R:null].filter(ee=>ee!=null),se=d||I?Hm(Q,j,!j):Hm(Q);return()=>{se()}}},[i,R,M,d,Y,K,I,j]),kn(()=>{if(i||!Ct(B))return;const fe=Gt(B),oe=ni(fe);queueMicrotask(()=>{const Q=L(B),se=z.current,ee=(typeof se=="number"?Q[se]:se.current)||B,Ce=Kt(B,oe);!P&&!Ce&&v&&uo(ee,{preventScroll:ee===B})})},[i,v,B,P,L,z]),kn(()=>{if(i||!B)return;let fe=!1;const oe=Gt(B),Q=ni(oe);let ee=b.current.openEvent;gh(Q);function Ce(dt){let{open:zt,reason:Rt,event:pt,nested:Bt}=dt;zt&&(ee=pt),Rt==="escape-key"&&_.domReference.current&&gh(_.domReference.current),Rt==="hover"&&pt.type==="mouseleave"&&(re.current=!0),Rt==="outside-press"&&(Bt?(re.current=!1,fe=!0):re.current=!(Pw(pt)||n_(pt)))}S.on("openchange",Ce);const Me=oe.createElement("span");Me.setAttribute("tabindex","-1"),Me.setAttribute("aria-hidden","true"),Object.assign(Me.style,oc),D&&R&&R.insertAdjacentElement("afterend",Me);function Ve(){return typeof H.current=="boolean"?Km()||Me:H.current.current||Me}return()=>{S.off("openchange",Ce);const dt=ni(oe),zt=Kt(M,dt)||X&&Fl(X.nodesRef.current,w).some(Bt=>{var en;return Kt((en=Bt.context)==null?void 0:en.elements.floating,dt)});(zt||ee&&["click","mousedown"].includes(ee.type))&&_.domReference.current&&gh(_.domReference.current);const pt=Ve();queueMicrotask(()=>{H.current&&!re.current&&Ct(pt)&&(!(pt!==dt&&dt!==oe.body)||zt)&&pt.focus({preventScroll:fe}),Me.remove()})}},[i,M,B,H,b,_,S,X,w,D,R]),E.useEffect(()=>{queueMicrotask(()=>{re.current=!1})},[i]),kn(()=>{if(!i&&K)return K.setFocusManagerState({modal:d,closeOnFocusOut:m,open:v,onOpenChange:k,refs:_}),()=>{K.setFocusManagerState(null)}},[i,K,d,v,k,_,m]),kn(()=>{if(i||!B||typeof MutationObserver!="function"||P)return;const fe=()=>{const Q=B.getAttribute("tabindex"),se=q(),ee=ni(Gt(M)),Ce=se.indexOf(ee);Ce!==-1&&(Z.current=Ce),Y.current.includes("floating")||ee!==_.domReference.current&&se.length===0?Q!=="0"&&B.setAttribute("tabindex","0"):Q!=="-1"&&B.setAttribute("tabindex","-1")};fe();const oe=new MutationObserver(fe);return oe.observe(B,{childList:!0,subtree:!0,attributes:!0}),()=>{oe.disconnect()}},[i,M,B,_,Y,q,P]);function W(fe){return i||!g||!d?null:E.createElement(J2,{ref:fe==="start"?ae:te,onClick:oe=>k(!1,oe.nativeEvent)},typeof g=="string"?g:"Dismiss")}const xe=!i&&j&&(d?!I:!0)&&(D||d);return E.createElement(E.Fragment,null,xe&&E.createElement(Vu,{"data-type":"inside",ref:K==null?void 0:K.beforeInsideRef,onFocus:fe=>{if(d){const Q=L();uo(o[0]==="reference"?Q[0]:Q[Q.length-1])}else if(K!=null&&K.preserveTabOrder&&K.portalNode)if(re.current=!1,Il(fe,K.portalNode)){const Q=C_()||R;Q==null||Q.focus()}else{var oe;(oe=K.beforeOutsideRef.current)==null||oe.focus()}}}),!I&&W("start"),n,W("end"),xe&&E.createElement(Vu,{"data-type":"inside",ref:K==null?void 0:K.afterInsideRef,onFocus:fe=>{if(d)uo(L()[0]);else if(K!=null&&K.preserveTabOrder&&K.portalNode)if(m&&(re.current=!0),Il(fe,K.portalNode)){const Q=R_()||R;Q==null||Q.focus()}else{var oe;(oe=K.afterOutsideRef.current)==null||oe.focus()}}}))}function qm(e){return Ct(e.target)&&e.target.tagName==="BUTTON"}function Gm(e){return kd(e)}function tk(e,t){t===void 0&&(t={});const{open:n,onOpenChange:i,dataRef:o,elements:{domReference:l}}=e,{enabled:u=!0,event:c="click",toggle:h=!0,ignoreMouse:d=!1,keyboardHandlers:g=!0,stickIfOpen:m=!0}=t,v=E.useRef(),_=E.useRef(!1),w=E.useMemo(()=>({onPointerDown(k){v.current=k.pointerType},onMouseDown(k){const S=v.current;k.button===0&&c!=="click"&&(zl(S,!0)&&d||(n&&h&&(!(o.current.openEvent&&m)||o.current.openEvent.type==="mousedown")?i(!1,k.nativeEvent,"click"):(k.preventDefault(),i(!0,k.nativeEvent,"click"))))},onClick(k){const S=v.current;if(c==="mousedown"&&v.current){v.current=void 0;return}zl(S,!0)&&d||(n&&h&&(!(o.current.openEvent&&m)||o.current.openEvent.type==="click")?i(!1,k.nativeEvent,"click"):i(!0,k.nativeEvent,"click"))},onKeyDown(k){v.current=void 0,!(k.defaultPrevented||!g||qm(k))&&(k.key===" "&&!Gm(l)&&(k.preventDefault(),_.current=!0),k.key==="Enter"&&i(!(n&&h),k.nativeEvent,"click"))},onKeyUp(k){k.defaultPrevented||!g||qm(k)||Gm(l)||k.key===" "&&_.current&&(_.current=!1,i(!(n&&h),k.nativeEvent,"click"))}}),[o,l,c,d,g,i,n,m,h]);return E.useMemo(()=>u?{reference:w}:{},[u,w])}const nk={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},rk={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Qm=e=>{var t,n;return{escapeKey:typeof e=="boolean"?e:(t=e==null?void 0:e.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(n=e==null?void 0:e.outsidePress)!=null?n:!0}};function A_(e,t){t===void 0&&(t={});const{open:n,onOpenChange:i,elements:o,dataRef:l}=e,{enabled:u=!0,escapeKey:c=!0,outsidePress:h=!0,outsidePressEvent:d="pointerdown",referencePress:g=!1,referencePressEvent:m="pointerdown",ancestorScroll:v=!1,bubbles:_,capture:w}=t,k=sc(),S=gr(typeof h=="function"?h:()=>!1),b=typeof h=="function"?S:h,x=E.useRef(!1),R=E.useRef(!1),{escapeKey:M,outsidePress:P}=Qm(_),{escapeKey:I,outsidePress:j}=Qm(w),Y=E.useRef(!1),z=gr(re=>{var ue;if(!n||!u||!c||re.key!=="Escape"||Y.current)return;const Z=(ue=l.current.floatingContext)==null?void 0:ue.nodeId,D=k?Fl(k.nodesRef.current,Z):[];if(!M&&(re.stopPropagation(),D.length>0)){let B=!0;if(D.forEach(q=>{var L;if((L=q.context)!=null&&L.open&&!q.context.dataRef.current.__escapeKeyBubbles){B=!1;return}}),!B)return}i(!1,Lw(re)?re.nativeEvent:re,"escape-key")}),H=gr(re=>{var ue;const Z=()=>{var D;z(re),(D=ji(re))==null||D.removeEventListener("keydown",Z)};(ue=ji(re))==null||ue.addEventListener("keydown",Z)}),X=gr(re=>{var ue;const Z=x.current;x.current=!1;const D=R.current;if(R.current=!1,d==="click"&&D||Z||typeof b=="function"&&!b(re))return;const B=ji(re),q="["+Ts("inert")+"]",L=Gt(o.floating).querySelectorAll(q);let W=qe(B)?B:null;for(;W&&!$i(W);){const Q=li(W);if($i(Q)||!qe(Q))break;W=Q}if(L.length&&qe(B)&&!Fw(B)&&!Kt(B,o.floating)&&Array.from(L).every(Q=>!Kt(W,Q)))return;if(Ct(B)&&te){const Q=B.clientWidth>0&&B.scrollWidth>B.clientWidth,se=B.clientHeight>0&&B.scrollHeight>B.clientHeight;let ee=se&&re.offsetX>B.clientWidth;if(se&&ir(B).direction==="rtl"&&(ee=re.offsetX<=B.offsetWidth-B.clientWidth),ee||Q&&re.offsetY>B.clientHeight)return}const xe=(ue=l.current.floatingContext)==null?void 0:ue.nodeId,fe=k&&Fl(k.nodesRef.current,xe).some(Q=>{var se;return uh(re,(se=Q.context)==null?void 0:se.elements.floating)});if(uh(re,o.floating)||uh(re,o.domReference)||fe)return;const oe=k?Fl(k.nodesRef.current,xe):[];if(oe.length>0){let Q=!0;if(oe.forEach(se=>{var ee;if((ee=se.context)!=null&&ee.open&&!se.context.dataRef.current.__outsidePressBubbles){Q=!1;return}}),!Q)return}i(!1,re,"outside-press")}),K=gr(re=>{var ue;const Z=()=>{var D;X(re),(D=ji(re))==null||D.removeEventListener(d,Z)};(ue=ji(re))==null||ue.addEventListener(d,Z)});E.useEffect(()=>{if(!n||!u)return;l.current.__escapeKeyBubbles=M,l.current.__outsidePressBubbles=P;let re=-1;function ue(L){i(!1,L,"ancestor-scroll")}function Z(){window.clearTimeout(re),Y.current=!0}function D(){re=window.setTimeout(()=>{Y.current=!1},Ju()?5:0)}const B=Gt(o.floating);c&&(B.addEventListener("keydown",I?H:z,I),B.addEventListener("compositionstart",Z),B.addEventListener("compositionend",D)),b&&B.addEventListener(d,j?K:X,j);let q=[];return v&&(qe(o.domReference)&&(q=Ui(o.domReference)),qe(o.floating)&&(q=q.concat(Ui(o.floating))),!qe(o.reference)&&o.reference&&o.reference.contextElement&&(q=q.concat(Ui(o.reference.contextElement)))),q=q.filter(L=>{var W;return L!==((W=B.defaultView)==null?void 0:W.visualViewport)}),q.forEach(L=>{L.addEventListener("scroll",ue,{passive:!0})}),()=>{c&&(B.removeEventListener("keydown",I?H:z,I),B.removeEventListener("compositionstart",Z),B.removeEventListener("compositionend",D)),b&&B.removeEventListener(d,j?K:X,j),q.forEach(L=>{L.removeEventListener("scroll",ue)}),window.clearTimeout(re)}},[l,o,c,b,d,n,i,v,u,M,P,z,I,H,X,j,K]),E.useEffect(()=>{x.current=!1},[b,d]);const ae=E.useMemo(()=>({onKeyDown:z,[nk[m]]:re=>{g&&i(!1,re.nativeEvent,"reference-press")}}),[z,i,g,m]),te=E.useMemo(()=>({onKeyDown:z,onMouseDown(){R.current=!0},onMouseUp(){R.current=!0},[rk[d]]:()=>{x.current=!0}}),[z,d]);return E.useMemo(()=>u?{reference:ae,floating:te}:{},[u,ae,te])}function ik(e){const{open:t=!1,onOpenChange:n,elements:i}=e,o=Xl(),l=E.useRef({}),[u]=E.useState(()=>B2()),c=Cd()!=null,[h,d]=E.useState(i.reference),g=gr((_,w,k)=>{l.current.openEvent=_?w:void 0,u.emit("openchange",{open:_,event:w,reason:k,nested:c}),n==null||n(_,w,k)}),m=E.useMemo(()=>({setPositionReference:d}),[]),v=E.useMemo(()=>({reference:h||i.reference||null,floating:i.floating||null,domReference:i.reference}),[h,i.reference,i.floating]);return E.useMemo(()=>({dataRef:l,open:t,onOpenChange:g,elements:v,events:u,floatingId:o,refs:m}),[t,g,v,u,o,m])}function O_(e){e===void 0&&(e={});const{nodeId:t}=e,n=ik({...e,elements:{reference:null,floating:null,...e.elements}}),i=e.rootContext||n,o=i.elements,[l,u]=E.useState(null),[c,h]=E.useState(null),g=(o==null?void 0:o.domReference)||l,m=E.useRef(null),v=sc();kn(()=>{g&&(m.current=g)},[g]);const _=F2({...e,elements:{...o,...c&&{reference:c}}}),w=E.useCallback(R=>{const M=qe(R)?{getBoundingClientRect:()=>R.getBoundingClientRect(),contextElement:R}:R;h(M),_.refs.setReference(M)},[_.refs]),k=E.useCallback(R=>{(qe(R)||R===null)&&(m.current=R,u(R)),(qe(_.refs.reference.current)||_.refs.reference.current===null||R!==null&&!qe(R))&&_.refs.setReference(R)},[_.refs]),S=E.useMemo(()=>({..._.refs,setReference:k,setPositionReference:w,domReference:m}),[_.refs,k,w]),b=E.useMemo(()=>({..._.elements,domReference:g}),[_.elements,g]),x=E.useMemo(()=>({..._,...i,refs:S,elements:b,nodeId:t}),[_,S,b,t,i]);return kn(()=>{i.dataRef.current.floatingContext=x;const R=v==null?void 0:v.nodesRef.current.find(M=>M.id===t);R&&(R.context=x)}),E.useMemo(()=>({..._,context:x,refs:S,elements:b}),[_,S,b,x])}function sk(e,t){t===void 0&&(t={});const{open:n,onOpenChange:i,events:o,dataRef:l,elements:u}=e,{enabled:c=!0,visibleOnly:h=!0}=t,d=E.useRef(!1),g=E.useRef(),m=E.useRef(!0);E.useEffect(()=>{if(!c)return;const _=bn(u.domReference);function w(){!n&&Ct(u.domReference)&&u.domReference===ni(Gt(u.domReference))&&(d.current=!0)}function k(){m.current=!0}return _.addEventListener("blur",w),_.addEventListener("keydown",k,!0),()=>{_.removeEventListener("blur",w),_.removeEventListener("keydown",k,!0)}},[u.domReference,n,c]),E.useEffect(()=>{if(!c)return;function _(w){let{reason:k}=w;(k==="reference-press"||k==="escape-key")&&(d.current=!0)}return o.on("openchange",_),()=>{o.off("openchange",_)}},[o,c]),E.useEffect(()=>()=>{clearTimeout(g.current)},[]);const v=E.useMemo(()=>({onPointerDown(_){n_(_.nativeEvent)||(m.current=!1)},onMouseLeave(){d.current=!1},onFocus(_){if(d.current)return;const w=ji(_.nativeEvent);if(h&&qe(w))try{if(r_()&&Aw())throw Error();if(!w.matches(":focus-visible"))return}catch{if(!m.current&&!kd(w))return}i(!0,_.nativeEvent,"focus")},onBlur(_){d.current=!1;const w=_.relatedTarget,k=_.nativeEvent,S=qe(w)&&w.hasAttribute(Ts("focus-guard"))&&w.getAttribute("data-type")==="outside";g.current=window.setTimeout(()=>{var b;const x=ni(u.domReference?u.domReference.ownerDocument:document);!w&&x===u.domReference||Kt((b=l.current.floatingContext)==null?void 0:b.refs.floating.current,x)||Kt(u.domReference,x)||S||i(!1,k,"focus")})}}),[l,u.domReference,i,h]);return E.useMemo(()=>c?{reference:v}:{},[c,v])}const Zm="active",Jm="selected";function mh(e,t,n){const i=new Map,o=n==="item";let l=e;if(o&&e){const{[Zm]:u,[Jm]:c,...h}=e;l=h}return{...n==="floating"&&{tabIndex:-1,[Wh]:""},...l,...t.map(u=>{const c=u?u[n]:null;return typeof c=="function"?e?c(e):null:c}).concat(e).reduce((u,c)=>(c&&Object.entries(c).forEach(h=>{let[d,g]=h;if(!(o&&[Zm,Jm].includes(d)))if(d.indexOf("on")===0){if(i.has(d)||i.set(d,[]),typeof g=="function"){var m;(m=i.get(d))==null||m.push(g),u[d]=function(){for(var v,_=arguments.length,w=new Array(_),k=0;k<_;k++)w[k]=arguments[k];return(v=i.get(d))==null?void 0:v.map(S=>S(...w)).find(S=>S!==void 0)}}}else u[d]=g}),u),{})}}function L_(e){e===void 0&&(e=[]);const t=e.map(c=>c==null?void 0:c.reference),n=e.map(c=>c==null?void 0:c.floating),i=e.map(c=>c==null?void 0:c.item),o=E.useCallback(c=>mh(c,e,"reference"),t),l=E.useCallback(c=>mh(c,e,"floating"),n),u=E.useCallback(c=>mh(c,e,"item"),i);return E.useMemo(()=>({getReferenceProps:o,getFloatingProps:l,getItemProps:u}),[o,l,u])}const ok=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function F_(e,t){var n;t===void 0&&(t={});const{open:i,floatingId:o}=e,{enabled:l=!0,role:u="dialog"}=t,c=(n=ok.get(u))!=null?n:u,h=Xl(),g=Cd()!=null,m=E.useMemo(()=>c==="tooltip"||u==="label"?{["aria-"+(u==="label"?"labelledby":"describedby")]:i?o:void 0}:{"aria-expanded":i?"true":"false","aria-haspopup":c==="alertdialog"?"dialog":c,"aria-controls":i?o:void 0,...c==="listbox"&&{role:"combobox"},...c==="menu"&&{id:h},...c==="menu"&&g&&{role:"menuitem"},...u==="select"&&{"aria-autocomplete":"none"},...u==="combobox"&&{"aria-autocomplete":"list"}},[c,o,g,i,h,u]),v=E.useMemo(()=>{const w={id:o,...c&&{role:c}};return c==="tooltip"||u==="label"?w:{...w,...c==="menu"&&{"aria-labelledby":h}}},[c,o,h,u]),_=E.useCallback(w=>{let{active:k,selected:S}=w;const b={role:"option",...k&&{id:o+"-option"}};switch(u){case"select":return{...b,"aria-selected":k&&S};case"combobox":return{...b,...k&&{"aria-selected":!0}}}return{}},[o,u]);return E.useMemo(()=>l?{reference:m,floating:v,item:_}:{},[l,m,v,_])}function lk({initialOpen:e=!1,placement:t="top",open:n,onOpenChange:i}={}){const[o,l]=E.useState(e),u=n??o,c=i??l,h=O_({placement:t,open:u,onOpenChange:c,whileElementsMounted:__,middleware:[x_(5),k_({crossAxis:t.includes("-"),fallbackAxisSideDirection:"start",padding:5}),w_({padding:5})]}),d=h.context,g=V2(d,{move:!1,enabled:n==null,delay:{open:1e3,close:0}}),m=sk(d,{enabled:n==null}),v=A_(d),_=F_(d,{role:"tooltip"}),w=L_([g,m,v,_]);return E.useMemo(()=>({open:u,setOpen:c,...w,...h}),[u,c,w,h])}const I_=E.createContext(null),N_=()=>{const e=E.useContext(I_);if(e==null)throw new Error("Tooltip components must be wrapped in <Tooltip />");return e};function ak({children:e,...t}){const n=lk(t);return O.jsx(I_.Provider,{value:n,children:e})}const uk=E.forwardRef(function({children:t,asChild:n=!1,...i},o){const l=N_(),u=t.ref,c=ic([l.refs.setReference,o,u]);return n&&E.isValidElement(t)?E.cloneElement(t,l.getReferenceProps({ref:c,...i,...t.props,"data-state":l.open?"open":"closed"})):O.jsx("div",{ref:c,"data-state":l.open?"open":"closed",...l.getReferenceProps(i),children:t})}),ck=E.forwardRef(function({style:t,...n},i){const o=N_(),l=ic([o.refs.setFloating,i]);return o.open?O.jsx(M_,{children:O.jsx("div",{ref:l,style:{...o.floatingStyles,...t},...o.getFloatingProps(n)})}):null}),jt=({children:e,tooltip:t,...n})=>E.isValidElement(e)?O.jsxs(ak,{children:[O.jsx(uk,{children:E.cloneElement(e,n)}),O.jsx(ck,{className:"py-1 px-2 bg-default-2 border border-default-1 text-white rounded text-xs font-normal max-w-sm",children:t})]}):(console.error("WithTooltip expects a single element as a child."),null),fk=()=>O.jsx("div",{className:"absolute bottom-0 left-0 h-14 min-h-14 right-0 md:right-auto md:top-0  md:h-auto md:w-14",children:O.jsxs("div",{className:"h-full bg-default-2 border-t md:border-r md:border-t-0 border-default-1 flex md:flex-col justify-center md:justify-start items-center gap-4 py-2 md:pt-4",children:[O.jsx(jt,{tooltip:"Hand tool [H]",children:O.jsx(Oi,{value:"hand",children:O.jsx(hw,{stroke:1})})}),O.jsx(jt,{tooltip:"Pointer tool [P]",children:O.jsx(Oi,{value:"pointer",children:O.jsx(gw,{stroke:1})})}),O.jsx(jt,{tooltip:"Eraser tool [E]",children:O.jsx(Oi,{value:"eraser",children:O.jsx(uw,{stroke:1})})}),O.jsx(jt,{tooltip:"Brush tool [B]",children:O.jsx(Oi,{value:"brush",children:O.jsx(vd,{stroke:1})})}),O.jsx(jt,{tooltip:"Rectangle tool [R]",children:O.jsx(Oi,{value:"square",children:O.jsx(G0,{stroke:1})})}),O.jsx(jt,{tooltip:"Line tool [L]",children:O.jsx(Oi,{value:"line",children:O.jsx(xd,{stroke:1})})}),O.jsx(jt,{tooltip:"Arrow tool [A]",children:O.jsx(Oi,{value:"arrow",children:O.jsx(K0,{stroke:1})})}),O.jsx(jt,{tooltip:"Zoom tool [Z]",children:O.jsx(Oi,{value:"zoom",children:O.jsx(Rw,{stroke:1})})})]})}),Oi=({value:e,children:t})=>{let n=wt(u=>u.selectedTool);const i=wt(u=>u.restoreTool);i&&(n=i);const o=wt(u=>u.setSelectedTool),l=n===e;return O.jsx("button",{type:"button",className:`p-1 rounded  ${l?"bg-primary":"hover:bg-default-3"}`,onClick:()=>o(e),children:t})};function j_(e,t){let n=0,i=null;return function(...o){const l=Date.now();l-n>=t?(n=l,e.apply(this,o)):(i&&clearTimeout(i),i=setTimeout(()=>{n=Date.now(),e.apply(this,o)},t-(l-n)))}}const Yh="Sketch: ",D_=e=>`${Yh}${e}`;function hk(e){const t=localStorage.getItem(D_(e));if(t)try{return JSON.parse(t)}catch(n){return console.error("Failed to parse localStorage item",n),null}return null}function dk(e,t){try{const n=JSON.stringify(t);localStorage.setItem(D_(e),n)}catch(n){console.error("Failed to stringify or set localStorage item",n)}}function pk(){const e=[];for(let t=0;t<localStorage.length;t++){const n=localStorage.key(t);n&&n.startsWith(Yh)&&e.push(n.substring(Yh.length))}return e}var z_=Object.defineProperty,gk=Object.defineProperties,mk=Object.getOwnPropertyDescriptors,ey=Object.getOwnPropertySymbols,yk=Object.prototype.hasOwnProperty,_k=Object.prototype.propertyIsEnumerable,Xh=(e,t,n)=>t in e?z_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Rd=(e,t)=>{for(var n in t||(t={}))yk.call(t,n)&&Xh(e,n,t[n]);if(ey)for(var n of ey(t))_k.call(t,n)&&Xh(e,n,t[n]);return e},Td=(e,t)=>gk(e,mk(t)),B_=(e,t)=>{for(var n in t)z_(e,n,{get:t[n],enumerable:!0})},T=(e,t,n)=>(Xh(e,typeof t!="symbol"?t+"":t,n),n),U_=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},vn=(e,t,n)=>(U_(e,t,"read from private field"),n?n.call(e):t.get(e)),$_=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},vk=(e,t,n,i)=>(U_(e,t,"write to private field"),t.set(e,n),n),on={Image:null,isHeadless:!1,shim:function(e,t){return e.tagName=e.nodeName=t||"canvas",e.nodeType=1,e.getAttribute=function(n){return this[n]},e.setAttribute=function(n,i){return this[n]=i,this},e},polyfill:function(e,t){return on.shim(e),typeof t<"u"&&(on.Image=t),on.isHeadless=!0,e}},V_={};B_(V_,{Curve:()=>Po,getAnchorsFromArcData:()=>kk,getComponentOnCubicBezier:()=>Ul,getControlPoints:()=>J_,getCurveBoundingBox:()=>G_,getCurveFromPoints:()=>Z_,getCurveLength:()=>q_,getReflection:()=>Kh,integrate:()=>Q_,subdivide:()=>Md});var H_={};B_(H_,{HALF_PI:()=>Et,NumArray:()=>Pr,TWO_PI:()=>Qt,decomposeMatrix:()=>Mo,getComputedMatrix:()=>X_,getPoT:()=>K_,lerp:()=>Nn,mod:()=>Bn,setMatrix:()=>Y_,toFixed:()=>$e});var at;typeof window<"u"?at=window:typeof global<"u"?at=global:typeof self<"u"&&(at=self);var W_,Qt=Math.PI*2,Et=Math.PI*.5;function Mo(e,t,n,i,o,l){let u;return arguments.length<=1?(u=e.a,t=e.b,n=e.c,i=e.d,o=e.e,l=e.f):u=e,{translateX:o,translateY:l,scaleX:Math.sqrt(u*u+t*t),scaleY:Math.sqrt(n*n+i*i),rotation:180*Math.atan2(t,u)/Math.PI}}function Y_(e){W_=e}function X_(e,t){t=t&&t.identity()||new W_;let n=e;const i=[];for(;n&&n._matrix;)i.push(n._matrix),n=n.parent;i.reverse();for(let o=0;o<i.length;o++){const u=i[o].elements;t.multiply(u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],u[8],u[9])}return t}function Nn(e,t,n){return n*(t-e)+e}var yh=[2,4,8,16,32,64,128,256,512,1024,2048,4096];function K_(e){let t=0;for(;yh[t]&&yh[t]<e;)t++;return yh[t]}function Bn(e,t){for(;e<0;)e+=t;return e%t}var Pr=at.Float32Array||Array,xk=Math.floor;function $e(e){return xk(e*1e6)/1e6}var de={move:"M",line:"L",curve:"C",arc:"A",close:"Z"},J=class{constructor(){T(this,"_events",{}),T(this,"_bound",!1)}addEventListener(t,n){return(this._events[t]||(this._events[t]=[])).push(n),this._bound=!0,this}on(){return this.addEventListener.apply(this,arguments)}bind(){return this.addEventListener.apply(this,arguments)}removeEventListener(t,n){if(!this._events)return this;if(!t&&!n)return this._events={},this._bound=!1,this;const i=t?[t]:Object.keys(this._events);for(let o=0,l=i.length;o<l;o++){t=i[o];let u=this._events[t];if(u){let c=[];if(n)for(let h=0,d=u.length;h<d;h++){let g=u[h];g=g.handler?g.handler:g,n!==g&&c.push(g)}this._events[t]=c}}return this}off(){return this.removeEventListener.apply(this,arguments)}unbind(){return this.removeEventListener.apply(this,arguments)}dispatchEvent(t){if(!this._events)return this;const n=Array.prototype.slice.call(arguments,1),i=this._events[t];if(i)for(let o=0;o<i.length;o++)i[o].call(this,...n);return this}trigger(){return this.dispatchEvent.apply(this,arguments)}listen(t,n,i){const o=this;t&&(l.obj=t,l.name=n,l.handler=i,t.on(n,l));function l(){i.apply(o,arguments)}return o}ignore(t,n,i){return t.off(n,i),this}};T(J,"Types",{play:"play",pause:"pause",update:"update",render:"render",resize:"resize",change:"change",remove:"remove",insert:"insert",order:"order",load:"load"});T(J,"Methods",["addEventListener","on","removeEventListener","off","unbind","dispatchEvent","trigger","listen","ignore"]);var ty={x:{enumerable:!0,get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this._bound&&this.dispatchEvent(J.Types.change))}},y:{enumerable:!0,get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this._bound&&this.dispatchEvent(J.Types.change))}}},mr=class extends J{constructor(e=0,t=0){super(),T(this,"_x",0),T(this,"_y",0);for(let n in ty)Object.defineProperty(this,n,ty[n]);this.x=e,this.y=t}static add(e,t){return new mr(e.x+t.x,e.y+t.y)}static sub(e,t){return new mr(e.x-t.x,e.y-t.y)}static subtract(e,t){return mr.sub(e,t)}static ratioBetween(e,t){return(e.x*t.x+e.y*t.y)/(e.length()*t.length())}static angleBetween(e,t){if(arguments.length>=4){const o=arguments[0]-arguments[2],l=arguments[1]-arguments[3];return Math.atan2(l,o)}const n=e.x-t.x,i=e.y-t.y;return Math.atan2(i,n)}static distanceBetween(e,t){return Math.sqrt(mr.distanceBetweenSquared(e,t))}static distanceBetweenSquared(e,t){const n=e.x-t.x,i=e.y-t.y;return n*n+i*i}set(e,t){return this.x=e,this.y=t,this}copy(e){return this.x=e.x,this.y=e.y,this}clear(){return this.x=0,this.y=0,this}clone(){return new mr(this.x,this.y)}add(e,t){return arguments.length<=0?this:(arguments.length<=1?typeof e=="number"?(this.x+=e,this.y+=e):e&&typeof e.x=="number"&&typeof e.y=="number"&&(this.x+=e.x,this.y+=e.y):(this.x+=e,this.y+=t),this)}addSelf(e){return this.add.apply(this,arguments)}sub(e,t){return arguments.length<=0?this:(arguments.length<=1?typeof e=="number"?(this.x-=e,this.y-=e):e&&typeof e.x=="number"&&typeof e.y=="number"&&(this.x-=e.x,this.y-=e.y):(this.x-=e,this.y-=t),this)}subtract(){return this.sub.apply(this,arguments)}subSelf(e){return this.sub.apply(this,arguments)}subtractSelf(e){return this.sub.apply(this,arguments)}multiply(e,t){return arguments.length<=0?this:(arguments.length<=1?typeof e=="number"?(this.x*=e,this.y*=e):e&&typeof e.x=="number"&&typeof e.y=="number"&&(this.x*=e.x,this.y*=e.y):(this.x*=e,this.y*=t),this)}multiplySelf(e){return this.multiply.apply(this,arguments)}multiplyScalar(e){return this.multiply(e)}divide(e,t){return arguments.length<=0?this:(arguments.length<=1?typeof e=="number"?(this.x/=e,this.y/=e):e&&typeof e.x=="number"&&typeof e.y=="number"&&(this.x/=e.x,this.y/=e.y):(this.x/=e,this.y/=t),isNaN(this.x)&&(this.x=0),isNaN(this.y)&&(this.y=0),this)}divideSelf(e){return this.divide.apply(this,arguments)}divideScalar(e){return this.divide(e)}negate(){return this.multiply(-1)}dot(e){return this.x*e.x+this.y*e.y}length(){return Math.sqrt(this.lengthSquared())}lengthSquared(){return this.x*this.x+this.y*this.y}normalize(){return this.divideScalar(this.length())}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}setLength(e){return this.normalize().multiplyScalar(e)}equals(e,t){return t=typeof t>"u"?1e-4:t,this.distanceTo(e)<t}lerp(e,t){const n=(e.x-this.x)*t+this.x,i=(e.y-this.y)*t+this.y;return this.set(n,i)}isZero(e){return e=typeof e>"u"?1e-4:e,this.length()<e}toString(){return this.x+", "+this.y}toObject(){return{x:$e(this.x),y:$e(this.y)}}rotate(e){const t=this.x,n=this.y,i=Math.cos(e),o=Math.sin(e);return this.x=t*i-n*o,this.y=t*o+n*i,this}},ce=mr;T(ce,"zero",new mr);T(ce,"left",new mr(-1,0));T(ce,"right",new mr(1,0));T(ce,"up",new mr(0,-1));T(ce,"down",new mr(0,1));var Le=class extends ce{constructor(t=0,n=0,i=0,o=0,l=0,u=0,c=de.move){super(t,n),T(this,"controls",{left:new ce,right:new ce}),T(this,"_command",de.move),T(this,"_relative",!0),T(this,"_rx",0),T(this,"_ry",0),T(this,"_xAxisRotation",0),T(this,"_largeArcFlag",0),T(this,"_sweepFlag",1);for(let d in ny)Object.defineProperty(this,d,ny[d]);this.command=c,this.relative=!0;const h=Le.makeBroadcast(this);this.controls.left.set(i,o).addEventListener(J.Types.change,h),this.controls.right.set(l,u).addEventListener(J.Types.change,h)}static makeBroadcast(t){return n;function n(){t._bound&&t.dispatchEvent(J.Types.change)}}static fromObject(t){return new Le().copy(t)}copy(t){return this.x=t.x,this.y=t.y,typeof t.command=="string"&&(this.command=t.command),t.controls&&(t.controls.left&&this.controls.left.copy(t.controls.left),t.controls.right&&this.controls.right.copy(t.controls.right)),typeof t.relative=="boolean"&&(this.relative=t.relative),typeof t.rx=="number"&&(this.rx=t.rx),typeof t.ry=="number"&&(this.ry=t.ry),typeof t.xAxisRotation=="number"&&(this.xAxisRotation=t.xAxisRotation),typeof t.largeArcFlag=="number"&&(this.largeArcFlag=t.largeArcFlag),typeof t.sweepFlag=="number"&&(this.sweepFlag=t.sweepFlag),this}clone(){return new Le().copy(this)}toObject(){return{x:$e(this.x),y:$e(this.y),command:this.command,relative:this.relative,controls:{left:this.controls.left.toObject(),right:this.controls.right.toObject()},rx:$e(this.rx),ry:$e(this.ry),xAxisRotation:$e(this.xAxisRotation),largeArcFlag:$e(this.largeArcFlag),sweepFlag:$e(this.sweepFlag)}}toString(){return JSON.stringify(this.toObject())}},ny={command:{enumerable:!0,get:function(){return this._command},set:function(e){this._command!==e&&(this._command=e,this._bound&&this.dispatchEvent(J.Types.change))}},relative:{enumerable:!0,get:function(){return this._relative},set:function(e){this._relative!==!!e&&(this._relative=!!e,this._bound&&this.dispatchEvent(J.Types.change))}},rx:{enumerable:!0,get:function(){return this._rx},set:function(e){this._rx!==e&&(this._rx=e,this._bound&&this.dispatchEvent(J.Types.change))}},ry:{enumerable:!0,get:function(){return this._ry},set:function(e){this._ry!==e&&(this._ry=e,this._bound&&this.dispatchEvent(J.Types.change))}},xAxisRotation:{enumerable:!0,get:function(){return this._xAxisRotation},set:function(e){this._xAxisRotation!==e&&(this._xAxisRotation=e,this._bound&&this.dispatchEvent(J.Types.change))}},largeArcFlag:{enumerable:!0,get:function(){return this._largeArcFlag},set:function(e){this._largeArcFlag!==e&&(this._largeArcFlag=e,this._bound&&this.dispatchEvent(J.Types.change))}},sweepFlag:{get:function(){return this._sweepFlag},set:function(e){this._sweepFlag!==e&&(this._sweepFlag=e,this._bound&&this.dispatchEvent(J.Types.change))}}},wk=0,un={nextFrameID:null,Types:{webgl:"WebGLRenderer",svg:"SVGRenderer",canvas:"CanvasRenderer"},Version:"v0.8.15",PublishDate:"2025-01-01T01:30:08.872Z",Identifier:"two-",Resolution:12,AutoCalculateImportedMatrices:!0,Instances:[],uniqueId:function(){return wk++}},Po={CollinearityEpsilon:Math.pow(10,-30),RecursionLimit:16,CuspLimit:0,Tolerance:{distance:.25,angle:0,epsilon:Number.EPSILON},abscissas:[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],weights:[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]]};function Ul(e,t,n,i,o){const l=1-e;return l*l*l*t+3*l*l*e*n+3*l*e*e*i+e*e*e*o}function Md(e,t,n,i,o,l,u,c,h){h=h||Po.RecursionLimit;const d=h+1;if(Math.abs(e-u)<.001&&Math.abs(t-c)<.001)return[new Le(u,c)];const g=[];for(let m=0;m<d;m++){const v=m/d,_=Ul(v,e,n,o,u),w=Ul(v,t,i,l,c);g.push(new Le(_,w))}return g}function q_(e,t,n,i,o,l,u,c,h){if(e===n&&t===i&&o===u&&l===c){const S=u-e,b=c-t;return Math.sqrt(S*S+b*b)}const d=9*(n-o)+3*(u-e),g=6*(e+o)-12*n,m=3*(n-e),v=9*(i-l)+3*(c-t),_=6*(t+l)-12*i,w=3*(i-t);function k(S){const b=(d*S+g)*S+m,x=(v*S+_)*S+w;return Math.sqrt(b*b+x*x)}return Q_(k,0,1,h||Po.RecursionLimit)}function G_(e,t,n,i,o,l,u,c){const h=[],d=[[],[]];let g,m,v,_,w,k,S,b;for(let P=0;P<2;++P){if(P==0?(m=6*e-12*n+6*o,g=-3*e+9*n-9*o+3*u,v=3*n-3*e):(m=6*t-12*i+6*l,g=-3*t+9*i-9*l+3*c,v=3*i-3*t),Math.abs(g)<1e-12){if(Math.abs(m)<1e-12)continue;_=-v/m,0<_&&_<1&&h.push(_);continue}S=m*m-4*v*g,b=Math.sqrt(S),!(S<0)&&(w=(-m+b)/(2*g),0<w&&w<1&&h.push(w),k=(-m-b)/(2*g),0<k&&k<1&&h.push(k))}let x=h.length,R=x,M;for(;x--;)_=h[x],M=1-_,d[0][x]=M*M*M*e+3*M*M*_*n+3*M*_*_*o+_*_*_*u,d[1][x]=M*M*M*t+3*M*M*_*i+3*M*_*_*l+_*_*_*c;return d[0][R]=e,d[1][R]=t,d[0][R+1]=u,d[1][R+1]=c,d[0].length=d[1].length=R+2,{min:{x:Math.min.apply(0,d[0]),y:Math.min.apply(0,d[1])},max:{x:Math.max.apply(0,d[0]),y:Math.max.apply(0,d[1])}}}function Q_(e,t,n,i){let o=Po.abscissas[i-2],l=Po.weights[i-2],u=.5*(n-t),c=u+t,h=0,d=i+1>>1,g=i&1?l[h++]*e(c):0;for(;h<d;){const m=u*o[h];g+=l[h++]*(e(c+m)+e(c-m))}return u*g}function Z_(e,t){const n=e.length,i=n-1;for(let o=0;o<n;o++){const l=e[o],u=t?Bn(o-1,n):Math.max(o-1,0),c=t?Bn(o+1,n):Math.min(o+1,i),h=e[u],d=l,g=e[c];J_(h,d,g),d.command=o===0?de.move:de.curve}}function J_(e,t,n){const i=ce.angleBetween(e,t),o=ce.angleBetween(n,t);let l=ce.distanceBetween(e,t),u=ce.distanceBetween(n,t),c=(i+o)/2;return l<1e-4||u<1e-4?(typeof t.relative=="boolean"&&!t.relative&&(t.controls.left.copy(t),t.controls.right.copy(t)),t):(l*=.33,u*=.33,o<i?c+=Et:c-=Et,t.controls.left.x=Math.cos(c)*l,t.controls.left.y=Math.sin(c)*l,c-=Math.PI,t.controls.right.x=Math.cos(c)*u,t.controls.right.y=Math.sin(c)*u,typeof t.relative=="boolean"&&!t.relative&&(t.controls.left.x+=t.x,t.controls.left.y+=t.y,t.controls.right.x+=t.x,t.controls.right.y+=t.y),t)}function Kh(e,t,n){return new ce(2*e.x-(t.x+e.x)-(n?e.x:0),2*e.y-(t.y+e.y)-(n?e.y:0))}function kk(e,t,n,i,o,l,u){const c=un.Resolution;for(let h=0;h<c;h++){let d=(h+1)/c;u&&(d=1-d);const g=d*l+o,m=n*Math.cos(g),v=i*Math.sin(g),_=new Le(m,v);_.command=de.line}}var ry=Array.prototype.slice;function bk(e){if(e==null)return!1;const t=e.length;return typeof t=="number"&&t>=0&&t<4294967296}var be={isNaN:function(e){return typeof e=="number"&&e!==+e},isElement:function(e){return!!(e&&e.nodeType===1)},isObject:function(e){const t=typeof e;return t==="function"||t==="object"&&!!e},extend:function(e){const t=ry.call(arguments,1);for(let n=0;n<t.length;n++){const i=t[n];for(let o in i)e[o]=i[o]}return e},defaults:function(e){const t=ry.call(arguments,1);for(let n=0;n<t.length;n++){const i=t[n];for(let o in i)e[o]===void 0&&(e[o]=i[o])}return e},each:function(e,t,n){const i=n||this,o=!bk(e)&&Object.keys(e),l=(o||e).length;for(let u=0;u<l;u++){const c=o?o[u]:u;t.call(i,e[c],c,e)}return e},performance:at.performance&&at.performance.now?at.performance:Date},jn={hasEventListeners:typeof at.addEventListener=="function",bind:function(e,t,n,i){return this.hasEventListeners?e.addEventListener(t,n,!!i):e.attachEvent("on"+t,n),jn},unbind:function(e,t,n,i){return jn.hasEventListeners?e.removeEventListeners(t,n,!!i):e.detachEvent("on"+t,n),jn},getRequestAnimationFrame:function(){const e=["ms","moz","webkit","o"];let t=0,n=at.requestAnimationFrame;if(!n){for(let o=0;o<e.length;o++)n=at[e[o]+"RequestAnimationFrame"]||n;n=n||i}function i(o,l){const u=new Date().getTime(),c=Math.max(0,16-(u-t)),h=at.setTimeout(d,c);t=u+c;function d(){o(u+c)}return h}return n}},xo=at.document?at.document.createElement("div"):{};xo.id="help-two-load";Object.defineProperty(jn,"temp",{enumerable:!0,get:function(){return be.isElement(xo)&&!at.document.head.contains(xo)&&(xo.style.display="none",at.document.head.appendChild(xo)),xo}});var zn=class extends Error{constructor(t){super(),T(this,"name","Two.js"),T(this,"message"),this.message=t}},Sk=at.devicePixelRatio||1;function Ek(e){return e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1}function Pd(e){return Sk/Ek(e)}var lc=class{constructor(){T(this,"map",{})}add(t,n){return this.map[t]=n,this}remove(t){return delete this.map[t],this}get(t){return this.map[t]}contains(t){return t in this.map}},Yt,Vi=class extends Array{constructor(){super(),$_(this,Yt,new J),arguments[0]&&Array.isArray(arguments[0])?arguments[0].length>0&&this.push.apply(this,arguments[0]):arguments.length>0&&this.push.apply(this,arguments)}get _events(){return vn(this,Yt)}set _events(t){vk(this,Yt,t)}get _bound(){return vn(this,Yt)._bound}set _bound(t){vn(this,Yt)._bound=t}addEventListener(){return vn(this,Yt).addEventListener.apply(this,arguments)}on(){return vn(this,Yt).on.apply(this,arguments)}bind(){return vn(this,Yt).bind.apply(this,arguments)}removeEventListener(){return vn(this,Yt).removeEventListener.apply(this,arguments)}off(){return vn(this,Yt).off.apply(this,arguments)}unbind(){return vn(this,Yt).unbind.apply(this,arguments)}dispatchEvent(){return vn(this,Yt).dispatchEvent.apply(this,arguments)}trigger(){return vn(this,Yt).trigger.apply(this,arguments)}listen(){return vn(this,Yt).listen.apply(this,arguments)}ignore(){return vn(this,Yt).ignore.apply(this,arguments)}pop(){const t=super.pop.apply(this,arguments);return this.trigger(J.Types.remove,[t]),t}shift(){const t=super.shift.apply(this,arguments);return this.trigger(J.Types.remove,[t]),t}push(){const t=super.push.apply(this,arguments);return this.trigger(J.Types.insert,arguments),t}unshift(){const t=super.unshift.apply(this,arguments);return this.trigger(J.Types.insert,arguments),t}splice(){const t=super.splice.apply(this,arguments);if(this.trigger(J.Types.remove,t),arguments.length>2){const n=this.slice(arguments[0],arguments[0]+arguments.length-2);this.trigger(J.Types.insert,n),this.trigger(J.Types.order)}return t}sort(){return super.sort.apply(this,arguments),this.trigger(J.Types.order),this}reverse(){return super.reverse.apply(this,arguments),this.trigger(J.Types.order),this}indexOf(){return super.indexOf.apply(this,arguments)}map(t,n){const i=[];for(let o=0;o<this.length;o++){const l=this[o];let u;n?u=t.call(n,l,o):u=t(l,o),i.push(u)}return i}};Yt=new WeakMap;var Lo=class extends J{constructor(){super(),T(this,"_flagId",!1),T(this,"_flagClassName",!1),T(this,"_renderer",{}),T(this,"_id",un.Identifier+un.uniqueId()),T(this,"_className",""),T(this,"classList",[]);for(let t in iy)Object.defineProperty(this,t,iy[t])}static fromObject(t){const n=new Lo().copy(t);return"id"in t&&(n.id=t.id),n}flagReset(){this._flagId=this._flagClassName=!1}copy(t){return this.renderer.type=t.renderer.type,this.className=t.className,this}toObject(){return{renderer:{type:this.renderer.type},id:this.id,className:this.className}}},iy={renderer:{enumerable:!1,get:function(){return this._renderer}},id:{enumerable:!0,get:function(){return this._id},set:function(e){const t=this._id;e!==this._id&&(this._id=e,this._flagId=!0,this.parent&&(delete this.parent.children.ids[t],this.parent.children.ids[this._id]=this))}},className:{enumerable:!0,get:function(){return this._className},set:function(e){this._className!==e&&(this._flagClassName=!0,this.classList=e.split(/\s+?/),this._className=e)}}},Tu,ev={video:/\.(mp4|webm|ogg)$/i,image:/\.(jpe?g|png|gif|tiff|webp)$/i,effect:/texture|gradient/i};at.document&&(Tu=document.createElement("a"));var St=class extends Lo{constructor(e,t){super(),T(this,"_flagSrc",!1),T(this,"_flagImage",!1),T(this,"_flagVideo",!1),T(this,"_flagLoaded",!1),T(this,"_flagRepeat",!1),T(this,"_flagOffset",!1),T(this,"_flagScale",!1),T(this,"_src",""),T(this,"_image",null),T(this,"_loaded",!1),T(this,"_repeat","no-repeat"),T(this,"_scale",1),T(this,"_offset",null);for(let n in sy)Object.defineProperty(this,n,sy[n]);if(this._renderer.type="texture",this._renderer.flagOffset=Ck.bind(this),this._renderer.flagScale=Rk.bind(this),this.loaded=!1,this.repeat="no-repeat",this.offset=new ce,typeof t=="function"){const n=(function(){this.unbind(J.Types.load,n),typeof t=="function"&&t()}).bind(this);this.bind(J.Types.load,n)}if(typeof e=="string")this.src=e;else if(typeof e=="object"){const n=Object.prototype.toString.call(e);(n==="[object HTMLImageElement]"||n==="[object HTMLCanvasElement]"||n==="[object HTMLVideoElement]"||n==="[object Image]")&&(this.image=e)}this._update()}fromObject(e){const t=new St().copy(e);return"id"in e&&(t.id=e.id),t}static getAbsoluteURL(e){return Tu?(Tu.href=e,Tu.href):e}static loadHeadlessBuffer(e,t){e.image.onload=t,e.image.src=e.src}static getTag(e){return e&&e.nodeName&&e.nodeName.toLowerCase()||"img"}static getImage(e){const t=St.getAbsoluteURL(e);if(St.ImageRegistry.contains(t))return St.ImageRegistry.get(t);let n;return on.Image?(n=new on.Image,on.shim(n,"img")):at.document?ev.video.test(t)?n=document.createElement("video"):n=document.createElement("img"):console.warn("Two.js: no prototypical image defined for Two.Texture"),n.crossOrigin="anonymous",n.referrerPolicy="no-referrer",n}static load(e,t){let n=e.image,i=St.getTag(n);e._flagImage&&(/canvas/i.test(i)?St.Register.canvas(e,t):(e._src=!on.isHeadless&&n.getAttribute("two-src")||n.src,St.Register[i](e,t))),e._flagSrc&&(n||(n=St.getImage(e.src),e.image=n),i=St.getTag(n),St.Register[i](e,t))}clone(){const e=new St(this.src);return e.repeat=this.repeat,e.offset.copy(this.offset),e.scale=this.scale,e}copy(e){return this.src=e.src,this.repeat=e.repeat,this.offset=typeof e.offset=="number"||e.offset instanceof ce?e.offset:new ce().copy(e.offset),this.scale=typeof e.scale=="number"||e.scale instanceof ce?e.scale:new ce().copy(e.scale),this}toObject(){const e=super.toObject.call(this);return e.renderer.type="texture",e.src=this.src,e.repeat=this.repeat,e.offset=this.offset.toObject(),e.scale=typeof this.scale=="number"?this.scale:this.scale.toObject(),e}_update(){return(this._flagSrc||this._flagImage)&&(this.trigger(J.Types.change),(this._flagSrc||this._flagImage)&&(this.loaded=!1,St.load(this,(function(){this.loaded=!0,this.trigger(J.Types.change).trigger(J.Types.load)}).bind(this)))),this._image&&this._image.readyState>=4&&(this._flagVideo=!0),this}flagReset(){return this._flagSrc=this._flagImage=this._flagLoaded=this._flagRepeat=this._flagVideo=this._flagScale=this._flagOffset=!1,super.flagReset.call(this),this}},De=St;T(De,"Properties",["src","loaded","repeat","scale","offset","image"]);T(De,"RegularExpressions",ev);T(De,"ImageRegistry",new lc);T(De,"Register",{canvas:function(e,t){e._src="#"+e.id,St.ImageRegistry.add(e.src,e.image),typeof t=="function"&&t()},img:function(e,t){const n=e.image,i=function(l){!on.isHeadless&&n.removeEventListener&&typeof n.removeEventListener=="function"&&(n.removeEventListener("load",i,!1),n.removeEventListener("error",o,!1)),typeof t=="function"&&t()},o=function(l){throw!on.isHeadless&&typeof n.removeEventListener=="function"&&(n.removeEventListener("load",i,!1),n.removeEventListener("error",o,!1)),new zn("unable to load "+e.src)};typeof n.width=="number"&&n.width>0&&typeof n.height=="number"&&n.height>0?i():!on.isHeadless&&typeof n.addEventListener=="function"&&(n.addEventListener("load",i,!1),n.addEventListener("error",o,!1)),e._src=St.getAbsoluteURL(e._src),!(!on.isHeadless&&n&&n.getAttribute("two-src"))&&(on.isHeadless||n.setAttribute("two-src",e.src),St.ImageRegistry.add(e.src,n),on.isHeadless?St.loadHeadlessBuffer(e,i):e.image.src=e.src)},video:function(e,t){if(on.isHeadless)throw new zn("video textures are not implemented in headless environments.");const n=function(o){e.image.removeEventListener("canplaythrough",n,!1),e.image.removeEventListener("error",i,!1),e.image.width=e.image.videoWidth,e.image.height=e.image.videoHeight,typeof t=="function"&&t()},i=function(o){throw e.image.removeEventListener("canplaythrough",n,!1),e.image.removeEventListener("error",i,!1),new zn("unable to load "+e.src)};e._src=St.getAbsoluteURL(e._src),e.image.getAttribute("two-src")||(e.image.setAttribute("two-src",e.src),St.ImageRegistry.add(e.src,e.image)),e.image.readyState>=4?n():(e.image.addEventListener("canplaythrough",n,!1),e.image.addEventListener("error",i,!1),e.image.src=e.src,e.image.load())}});var sy={src:{enumerable:!0,get:function(){return this._src},set:function(e){this._src=e,this._flagSrc=!0}},loaded:{enumerable:!0,get:function(){return this._loaded},set:function(e){this._loaded=e,this._flagLoaded=!0}},repeat:{enumerable:!0,get:function(){return this._repeat},set:function(e){this._repeat=e,this._flagRepeat=!0}},image:{enumerable:!0,get:function(){return this._image},set:function(e){const t=De.getTag(e);let n;switch(t){case"canvas":n="#"+e.id;break;default:n=e.src}De.ImageRegistry.contains(n)?this._image=De.ImageRegistry.get(e.src):this._image=e,this._flagImage=!0}},offset:{enumerable:!0,get:function(){return this._offset},set:function(e){this._offset&&this._offset.unbind(J.Types.change,this._renderer.flagOffset),this._offset=e,this._offset.bind(J.Types.change,this._renderer.flagOffset),this._flagOffset=!0}},scale:{enumerable:!0,get:function(){return this._scale},set:function(e){this._scale instanceof ce&&this._scale.unbind(J.Types.change,this._renderer.flagScale),this._scale=e,this._scale instanceof ce&&this._scale.bind(J.Types.change,this._renderer.flagScale),this._flagScale=!0}}};function Ck(){this._flagOffset=!0}function Rk(){this._flagScale=!0}var hr=class extends Lo{constructor(e,t,n){super(),T(this,"_flagOffset",!0),T(this,"_flagOpacity",!0),T(this,"_flagColor",!0),T(this,"_offset",0),T(this,"_opacity",1),T(this,"_color","#fff");for(let i in oy)Object.defineProperty(this,i,oy[i]);this._renderer.type="stop",this.offset=typeof e=="number"?e:hr.Index<=0?0:1,this.opacity=typeof n=="number"?n:1,this.color=typeof t=="string"?t:hr.Index<=0?"#fff":"#000",hr.Index=(hr.Index+1)%2}static fromObject(e){const t=new hr().copy(e);return"id"in e&&(t.id=e.id),t}copy(e){super.copy.call(this,e);for(let t=0;t<hr.Properties.length;t++){const n=hr.Properties[t];n in e&&(this[n]=e[n])}return this}clone(e){const t=new hr;return be.each(hr.Properties,function(n){t[n]=this[n]},this),e&&e.stops&&e.stops.push(t),t}toObject(){const e=super.toObject.call(this);return e.renderer.type="stop",be.each(hr.Properties,t=>{e[t]=this[t]},this),e}flagReset(){return this._flagOffset=this._flagColor=this._flagOpacity=!1,super.flagReset.call(this),this}},Fr=hr;T(Fr,"Index",0);T(Fr,"Properties",["offset","opacity","color"]);var oy={offset:{enumerable:!0,get:function(){return this._offset},set:function(e){this._offset=e,this._flagOffset=!0,this.parent&&(this.parent._flagStops=!0)}},opacity:{enumerable:!0,get:function(){return this._opacity},set:function(e){this._opacity=e,this._flagOpacity=!0,this.parent&&(this.parent._flagStops=!0)}},color:{enumerable:!0,get:function(){return this._color},set:function(e){this._color=e,this._flagColor=!0,this.parent&&(this.parent._flagStops=!0)}}},fs=class extends Lo{constructor(e){super(),T(this,"_flagStops",!1),T(this,"_flagSpread",!1),T(this,"_flagUnits",!1),T(this,"_spread",""),T(this,"_units","");for(let t in ly)Object.defineProperty(this,t,ly[t]);this._renderer.type="gradient",this._renderer.flagStops=Tk.bind(this),this._renderer.bindStops=Mk.bind(this),this._renderer.unbindStops=Pk.bind(this),this.spread="pad",this.units="objectBoundingBox",e&&(this.stops=e)}static fromObject(e){let t=e.stops;t&&t.length>0&&(t=t.map(i=>i instanceof Fr?i:new Fr().copy(i)));const n=new fs().copy(e);return"id"in e&&(n.id=e.id),n}clone(e){const t=this.stops.map(i=>i.clone()),n=new fs(t);return be.each(fs.Properties,i=>{n[i]=this[i]},this),e&&e.add(n),n}copy(e){super.copy.call(this,e);for(let t=0;t<fs.Properties.length;t++){const n=fs.Properties[t];n in e&&(this[n]=e[n])}return this}toObject(){const e={stops:this.stops.map(t=>t.toObject())};return be.each(fs.Properties,t=>{e[t]=this[t]},this),e}_update(){return(this._flagSpread||this._flagStops)&&this.trigger(J.Types.change),this}flagReset(){return this._flagSpread=this._flagUnits=this._flagStops=!1,super.flagReset.call(this),this}},yt=fs;T(yt,"Stop",Fr);T(yt,"Properties",["spread","stops","units"]);var ly={spread:{enumerable:!0,get:function(){return this._spread},set:function(e){this._spread=e,this._flagSpread=!0}},units:{enumerable:!0,get:function(){return this._units},set:function(e){this._units=e,this._flagUnits=!0}},stops:{enumerable:!0,get:function(){return this._stops},set:function(e){const t=this._renderer.bindStops,n=this._renderer.unbindStops;this._stops&&this._stops.unbind(J.Types.insert,t).unbind(J.Types.remove,n),this._stops=new Vi((e||[]).slice(0)),this._stops.bind(J.Types.insert,t).bind(J.Types.remove,n),t(this._stops)}}};function Tk(){this._flagStops=!0}function Mk(e){let t=e.length;for(;t--;)e[t].bind(J.Types.change,this._renderer.flagStops),e[t].parent=this;this._renderer.flagStops()}function Pk(e){let t=e.length;for(;t--;)e[t].unbind(J.Types.change,this._renderer.flagStops),delete e[t].parent;this._renderer.flagStops()}var Ml=class extends yt{constructor(e,t,n,i,o){super(o),T(this,"_flagEndPoints",!1),T(this,"_left",null),T(this,"_right",null);for(let l in ay)Object.defineProperty(this,l,ay[l]);this._renderer.type="linear-gradient",this._renderer.flagEndPoints=Ak.bind(this),this.left=new ce,this.right=new ce,typeof e=="number"&&(this.left.x=e),typeof t=="number"&&(this.left.y=t),typeof n=="number"&&(this.right.x=n),typeof i=="number"&&(this.right.y=i)}static fromObject(e){const t=new Ml().copy(e);return"id"in e&&(t.id=e.id),t}copy(e){super.copy.call(this,e);for(let t=0;t<Ml.Properties.length;t++){const n=Ml.Properties[t];n in e&&(this[n]=e[n]instanceof ce?e[n]:new ce().copy(e[n]))}return this}clone(e){const t=this.stops.map(function(i){return i.clone()}),n=new Ml(this.left._x,this.left._y,this.right._x,this.right._y,t);return be.each(yt.Properties,function(i){n[i]=this[i]},this),e&&e.add(n),n}toObject(){const e=super.toObject.call(this);return e.left=this.left.toObject(),e.right=this.right.toObject(),e}_update(){return(this._flagEndPoints||this._flagSpread||this._flagStops)&&this.trigger(J.Types.change),this}flagReset(){return this._flagEndPoints=!1,super.flagReset.call(this),this}},Ze=Ml;T(Ze,"Stop",Fr);T(Ze,"Properties",["left","right"]);var ay={left:{enumerable:!0,get:function(){return this._left},set:function(e){this._left instanceof ce&&this._left.unbind(J.Types.change,this._renderer.flagEndPoints),this._left=e,this._left.bind(J.Types.change,this._renderer.flagEndPoints),this._flagEndPoints=!0}},right:{enumerable:!0,get:function(){return this._right},set:function(e){this._right instanceof ce&&this._right.unbind(J.Types.change,this._renderer.flagEndPoints),this._right=e,this._right.bind(J.Types.change,this._renderer.flagEndPoints),this._flagEndPoints=!0}}};function Ak(){this._flagEndPoints=!0}var hs=class extends yt{constructor(e,t,n,i,o,l){super(i),T(this,"_flagRadius",!1),T(this,"_flagCenter",!1),T(this,"_flagFocal",!1),T(this,"_radius",0),T(this,"_center",null),T(this,"_focal",null);for(let u in uy)Object.defineProperty(this,u,uy[u]);this._renderer.type="radial-gradient",this._renderer.flagCenter=Ok.bind(this),this._renderer.flagFocal=Lk.bind(this),this.center=new ce,this.radius=typeof n=="number"?n:1,this.focal=new ce,typeof e=="number"&&(this.center.x=e),typeof t=="number"&&(this.center.y=t),this.focal.copy(this.center),typeof o=="number"&&(this.focal.x=o),typeof l=="number"&&(this.focal.y=l)}static fromObject(e){const t=new hs().copy(e);return"id"in e&&(t.id=e.id),t}copy(e){super.copy.call(this,e);for(let t=0;t<hs.Properties.length;t++){const n=hs.Properties[t];n in e&&(/(center|focal)i/.test(n)?this[n]=e[n]instanceof ce?e[n]:new ce().copy(e[n]):typeof e[n]=="number"&&(this[n]=e[MediaKeySystemAccess]))}return this}clone(e){const t=this.stops.map(function(i){return i.clone()}),n=new hs(this.center._x,this.center._y,this._radius,t,this.focal._x,this.focal._y);return be.each(yt.Properties.concat(hs.Properties),function(i){n[i]=this[i]},this),e&&e.add(n),n}toObject(){const e=super.toObject.call(this);return be.each(hs.Properties,function(t){e[t]=this[t]},this),e.center=this.center.toObject(),e.focal=this.focal.toObject(),e}_update(){return(this._flagRadius||this._flatCenter||this._flagFocal||this._flagSpread||this._flagStops)&&this.trigger(J.Types.change),this}flagReset(){return this._flagRadius=this._flagCenter=this._flagFocal=!1,super.flagReset.call(this),this}},Je=hs;T(Je,"Stop",Fr);T(Je,"Properties",["center","radius","focal"]);var uy={radius:{enumerable:!0,get:function(){return this._radius},set:function(e){this._radius=e,this._flagRadius=!0}},center:{enumerable:!0,get:function(){return this._center},set:function(e){this._center&&this._center.unbind(J.Types.change,this._renderer.flagCenter),this._center=e,this._center.bind(J.Types.change,this._renderer.flagCenter),this._flagCenter=!0}},focal:{enumerable:!0,get:function(){return this._focal},set:function(e){this._focal&&this._focal.unbind(J.Types.change,this._renderer.flagFocal),this._focal=e,this._focal.bind(J.Types.change,this._renderer.flagFocal),this._flagFocal=!0}}};function Ok(){this._flagCenter=!0}function Lk(){this._flagFocal=!0}function cy(e,t){if(t===0||t===1)return!0;const i=e._length*t;let o=0;for(let l=0;l<e._lengths.length;l++){const u=e._lengths[l];if(o>=i)return i-o>=0;o+=u}return!1}function Hu(e,t){const n=e._length;if(t<=0)return 0;if(t>=n)return e._lengths.length-1;for(let i=0,o=0;i<e._lengths.length;i++){if(o+e._lengths[i]>=t)return t-=o,Math.max(i-1,0)+t/e._lengths[i];o+=e._lengths[i]}return-1}function tv(e,t,n){let i,o,l,u,c,h,d,g;const m=t.controls&&t.controls.right,v=e.controls&&e.controls.left;return i=t.x,c=t.y,o=(m||t).x,h=(m||t).y,l=(v||e).x,d=(v||e).y,u=e.x,g=e.y,m&&t._relative&&(o+=t.x,h+=t.y),v&&e._relative&&(l+=e.x,d+=e.y),q_(i,c,o,h,l,d,u,g,n)}function fy(e,t,n){let i,o,l,u,c,h,d,g;const m=t.controls&&t.controls.right,v=e.controls&&e.controls.left;return i=t.x,c=t.y,o=(m||t).x,h=(m||t).y,l=(v||e).x,d=(v||e).y,u=e.x,g=e.y,m&&t._relative&&(o+=t.x,h+=t.y),v&&e._relative&&(l+=e.x,d+=e.y),Md(i,c,o,h,l,d,u,g,n)}function Ms(e){switch(e.renderer.type){case"texture":return De.fromObject(e);case"gradient":return yt.fromObject(e);case"linear-gradient":return Ze.fromObject(e);case"radial-gradient":return Je.fromObject(e)}return e}var Fk=Math.cos,Ik=Math.sin,hy=Math.tan,_h=[],Fn=class extends J{constructor(e,t,n,i,o,l){super(),T(this,"elements",new Pr(9)),T(this,"manual",!1);let u=e;Array.isArray(u)||(u=Array.prototype.slice.call(arguments)),this.identity(),u.length>0&&this.set(u)}static Multiply(e,t,n){if(t.length<=3){const P=e;let I,j,Y;const z=t[0]||0,H=t[1]||0,X=t[2]||0;return I=P[0]*z+P[1]*H+P[2]*X,j=P[3]*z+P[4]*H+P[5]*X,Y=P[6]*z+P[7]*H+P[8]*X,[I,j,Y]}const i=e[0],o=e[1],l=e[2],u=e[3],c=e[4],h=e[5],d=e[6],g=e[7],m=e[8],v=t[0],_=t[1],w=t[2],k=t[3],S=t[4],b=t[5],x=t[6],R=t[7],M=t[8];return n=n||new Pr(9),n[0]=i*v+o*k+l*x,n[1]=i*_+o*S+l*R,n[2]=i*w+o*b+l*M,n[3]=u*v+c*k+h*x,n[4]=u*_+c*S+h*R,n[5]=u*w+c*b+h*M,n[6]=d*v+g*k+m*x,n[7]=d*_+g*S+m*R,n[8]=d*w+g*b+m*M,n}static fromObject(e){return new Fn().copy(e)}set(e,t,n,i,o,l,u,c,h){if(typeof t>"u"){const d=e;e=d[0],t=d[1],n=d[2],i=d[3],o=d[4],l=d[5],u=d[6],c=d[7],h=d[8]}return this.elements[0]=e,this.elements[1]=t,this.elements[2]=n,this.elements[3]=i,this.elements[4]=o,this.elements[5]=l,this.elements[6]=u,this.elements[7]=c,this.elements[8]=h,this.trigger(J.Types.change)}copy(e){return this.elements[0]=e.elements[0],this.elements[1]=e.elements[1],this.elements[2]=e.elements[2],this.elements[3]=e.elements[3],this.elements[4]=e.elements[4],this.elements[5]=e.elements[5],this.elements[6]=e.elements[6],this.elements[7]=e.elements[7],this.elements[8]=e.elements[8],this.manual=e.manual,this.trigger(J.Types.change)}identity(){return this.elements[0]=Fn.Identity[0],this.elements[1]=Fn.Identity[1],this.elements[2]=Fn.Identity[2],this.elements[3]=Fn.Identity[3],this.elements[4]=Fn.Identity[4],this.elements[5]=Fn.Identity[5],this.elements[6]=Fn.Identity[6],this.elements[7]=Fn.Identity[7],this.elements[8]=Fn.Identity[8],this.trigger(J.Types.change)}multiply(e,t,n,i,o,l,u,c,h){if(typeof t>"u")return this.elements[0]*=e,this.elements[1]*=e,this.elements[2]*=e,this.elements[3]*=e,this.elements[4]*=e,this.elements[5]*=e,this.elements[6]*=e,this.elements[7]*=e,this.elements[8]*=e,this.trigger(J.Types.change);if(typeof n>"u"&&(n=1),typeof i>"u"){e=e||0,t=t||0,n=n||0,o=this.elements;const ae=o[0]*e+o[1]*t+o[2]*n,te=o[3]*e+o[4]*t+o[5]*n,re=o[6]*e+o[7]*t+o[8]*n;return[ae,te,re]}const d=this.elements,g=[e,t,n,i,o,l,u,c,h],m=d[0],v=d[1],_=d[2],w=d[3],k=d[4],S=d[5],b=d[6],x=d[7],R=d[8],M=g[0],P=g[1],I=g[2],j=g[3],Y=g[4],z=g[5],H=g[6],X=g[7],K=g[8];return this.elements[0]=m*M+v*j+_*H,this.elements[1]=m*P+v*Y+_*X,this.elements[2]=m*I+v*z+_*K,this.elements[3]=w*M+k*j+S*H,this.elements[4]=w*P+k*Y+S*X,this.elements[5]=w*I+k*z+S*K,this.elements[6]=b*M+x*j+R*H,this.elements[7]=b*P+x*Y+R*X,this.elements[8]=b*I+x*z+R*K,this.trigger(J.Types.change)}inverse(e){const t=this.elements;e=e||new Fn;const n=t[0],i=t[1],o=t[2],l=t[3],u=t[4],c=t[5],h=t[6],d=t[7],g=t[8],m=g*u-c*d,v=-g*l+c*h,_=d*l-u*h;let w=n*m+i*v+o*_;return w?(w=1/w,e.elements[0]=m*w,e.elements[1]=(-g*i+o*d)*w,e.elements[2]=(c*i-o*u)*w,e.elements[3]=v*w,e.elements[4]=(g*n-o*h)*w,e.elements[5]=(-c*n+o*l)*w,e.elements[6]=_*w,e.elements[7]=(-d*n+i*h)*w,e.elements[8]=(u*n-i*l)*w,e):null}scale(e,t){return arguments.length<=1&&(t=e),this.multiply(e,0,0,0,t,0,0,0,1)}rotate(e){const t=Fk(e),n=Ik(e);return this.multiply(t,-n,0,n,t,0,0,0,1)}translate(e,t){return this.multiply(1,0,e,0,1,t,0,0,1)}skewX(e){const t=hy(e);return this.multiply(1,t,0,0,1,0,0,0,1)}skewY(e){const t=hy(e);return this.multiply(1,0,0,t,1,0,0,0,1)}toString(e){return _h.length=0,this.toTransformArray(e,_h),_h.map($e).join(" ")}toTransformArray(e,t){const n=this.elements,i=!!t,o=n[0],l=n[1],u=n[2],c=n[3],h=n[4],d=n[5];if(e){const g=n[6],m=n[7],v=n[8];if(i){t[0]=o,t[1]=c,t[2]=g,t[3]=l,t[4]=h,t[5]=m,t[6]=u,t[7]=d,t[8]=v;return}return[o,c,g,l,h,m,u,d,v]}if(i){t[0]=o,t[1]=c,t[2]=l,t[3]=h,t[4]=u,t[5]=d;return}return[o,c,l,h,u,d]}toArray(e,t){const n=this.elements,i=!!t,o=n[0],l=n[1],u=n[2],c=n[3],h=n[4],d=n[5];if(e){const g=n[6],m=n[7],v=n[8];if(i){t[0]=o,t[1]=l,t[2]=u,t[3]=c,t[4]=h,t[5]=d,t[6]=g,t[7]=m,t[8]=v;return}return[o,l,u,c,h,d,g,m,v]}if(i){t[0]=o,t[1]=l,t[2]=u,t[3]=c,t[4]=h,t[5]=d;return}return[o,l,u,c,h,d]}toObject(){return{renderer:{type:"matrix"},elements:this.toArray(!0),manual:!!this.manual}}clone(){return new Fn().copy(this)}},Ps=Fn;T(Ps,"Identity",[1,0,0,0,1,0,0,0,1]);Y_(Ps);var Lr=class extends Lo{constructor(){super(),T(this,"_flagMatrix",!0),T(this,"_flagScale",!1),T(this,"_matrix",null),T(this,"_worldMatrix",null),T(this,"_position",null),T(this,"_rotation",0),T(this,"_scale",1),T(this,"_skewX",0),T(this,"_skewY",0);for(let t in mu)Object.defineProperty(this,t,mu[t]);this._renderer.flagMatrix=nv.bind(this),this.isShape=!0,this.matrix=new Ps,this.worldMatrix=new Ps,this.position=new ce,this.rotation=0,this.scale=1,this.skewX=0,this.skewY=0}static fromObject(t){const n=new Lr().copy(t);return"id"in t&&(n.id=t.id),n}get renderer(){return this._renderer}set renderer(t){this._renderer=t}get translation(){return mu.position.get.apply(this,arguments)}set translation(t){mu.position.set.apply(this,arguments)}addTo(t){return t.add(this),this}remove(){return this.parent?(this.parent.remove(this),this):this}copy(t){return super.copy.call(this,t),"position"in t&&(t.position instanceof ce?this.position=t.position:this.position.copy(t.position)),"rotation"in t&&(this.rotation=t.rotation),"scale"in t&&(this.scale=typeof t.scale=="number"||t.scale instanceof ce?t.scale:new ce(t.scale.x,t.scale.y)),"skewX"in t&&(this.skewX=t.skewX),"skewY"in t&&(this.skewY=t.skewY),"matrix"in t&&t.matrix.manual&&(this.matrix.copy(t.matrix),this.matrix.manual=!0),this}clone(t){const n=new Lr;return n.position.copy(this.position),n.rotation=this.rotation,n.scale=this.scale,n.skewX=this.skewX,n.skewY=this.skewY,this.matrix.manual&&n.matrix.copy(this.matrix),t&&t.add(n),n._update()}toObject(){const t=super.toObject.call(this);return t.renderer={type:"shape"},t.isShape=!0,t.translation=this.translation.toObject(),t.rotation=this.translation.rotation,t.scale=this.scale instanceof ce?this.scale.toObject():this.scale,t.skewX=this.skewX,t.skewY=this.skewY,t.matrix=this.matrix.toObject(),t}_update(t){return!this._matrix.manual&&this._flagMatrix&&(this._matrix.identity().translate(this.position.x,this.position.y),this._scale instanceof ce?this._matrix.scale(this._scale.x,this._scale.y):this._matrix.scale(this._scale),this._matrix.rotate(this.rotation),this._matrix.skewX(this.skewX),this._matrix.skewY(this.skewY)),t&&this.parent&&this.parent._update&&this.parent._update(),this}flagReset(){return this._flagMatrix=this._flagScale=!1,super.flagReset.call(this),this}},mu={position:{enumerable:!0,get:function(){return this._position},set:function(e){this._position&&this._position.unbind(J.Types.change,this._renderer.flagMatrix),this._position=e,this._position.bind(J.Types.change,this._renderer.flagMatrix),nv.call(this)}},rotation:{enumerable:!0,get:function(){return this._rotation},set:function(e){this._rotation=e,this._flagMatrix=!0}},scale:{enumerable:!0,get:function(){return this._scale},set:function(e){this._scale instanceof ce&&this._scale.unbind(J.Types.change,this._renderer.flagMatrix),this._scale=e,this._scale instanceof ce&&this._scale.bind(J.Types.change,this._renderer.flagMatrix),this._flagMatrix=!0,this._flagScale=!0}},skewX:{enumerable:!0,get:function(){return this._skewX},set:function(e){this._skewX=e,this._flagMatrix=!0}},skewY:{enumerable:!0,get:function(){return this._skewY},set:function(e){this._skewY=e,this._flagMatrix=!0}},matrix:{enumerable:!0,get:function(){return this._matrix},set:function(e){this._matrix=e,this._flagMatrix=!0}},worldMatrix:{enumerable:!0,get:function(){return X_(this,this._worldMatrix),this._worldMatrix},set:function(e){this._worldMatrix=e}}};function nv(){this._flagMatrix=!0}var fo=Math.min,ho=Math.max,Nk=Math.ceil,jk=Math.floor,Dk=new ce,Fi=class extends Lr{constructor(e,t,n,i){super(),T(this,"_flagVertices",!0),T(this,"_flagLength",!0),T(this,"_flagFill",!0),T(this,"_flagStroke",!0),T(this,"_flagLinewidth",!0),T(this,"_flagOpacity",!0),T(this,"_flagVisible",!0),T(this,"_flagCap",!0),T(this,"_flagJoin",!0),T(this,"_flagMiter",!0),T(this,"_flagMask",!1),T(this,"_flagClip",!1),T(this,"_length",0),T(this,"_fill","#fff"),T(this,"_stroke","#000"),T(this,"_linewidth",1),T(this,"_opacity",1),T(this,"_visible",!0),T(this,"_cap","round"),T(this,"_join","round"),T(this,"_miter",4),T(this,"_closed",!0),T(this,"_curved",!1),T(this,"_automatic",!0),T(this,"_beginning",0),T(this,"_ending",1),T(this,"_mask",null),T(this,"_clip",!1),T(this,"_dashes",null);for(let o in dy)Object.defineProperty(this,o,dy[o]);this._renderer.type="path",this._renderer.flagVertices=rv.bind(this),this._renderer.bindVertices=iv.bind(this),this._renderer.unbindVertices=sv.bind(this),this._renderer.flagFill=ov.bind(this),this._renderer.flagStroke=lv.bind(this),this._renderer.vertices=[],this._renderer.collection=[],this.closed=!!t,this.curved=!!n,this.beginning=0,this.ending=1,this.fill="#fff",this.stroke="#000",this.linewidth=1,this.opacity=1,this.className="",this.visible=!0,this.cap="butt",this.join="miter",this.miter=4,this.vertices=e,this.automatic=!i,this.dashes=[],this.dashes.offset=0}static fromObject(e){const t=typeof e.fill=="string"?e.fill:Ms(e.fill),n=typeof e.stroke=="string"?e.stroke:Ms(e.stroke),i=new Fi().copy(Td(Rd({},e),{fill:t,stroke:n}));return"id"in e&&(i.id=e.id),i}copy(e){super.copy.call(this,e),this.vertices=[];for(let t=0;t<e.vertices.length;t++){const n=e.vertices[t];n instanceof Le?this.vertices.push(e.vertices[t].clone()):this.vertices.push(new Le().copy(n))}for(let t=0;t<Fi.Properties.length;t++){const n=Fi.Properties[t];n in e&&(this[n]=e[n])}return this}clone(e){const t=new Fi;for(let n=0;n<this.vertices.length;n++)t.vertices.push(this.vertices[n].clone());for(let n=0;n<Fi.Properties.length;n++){const i=Fi.Properties[n];t[i]=this[i]}return t.className=this.className,t.translation.copy(this.translation),t.rotation=this.rotation,t.scale=this.scale,t.skewX=this.skewX,t.skewY=this.skewY,this.matrix.manual&&t.matrix.copy(this.matrix),e&&e.add(t),t._update()}toObject(){const e=super.toObject.call(this);return e.renderer.type="path",e.vertices=this.vertices.map(t=>t.toObject()),be.each(Fi.Properties,t=>{typeof this[t]<"u"&&(this[t].toObject?e[t]=this[t].toObject():e[t]=this[t])},this),e}noFill(){return this.fill="none",this}noStroke(){return this.stroke="none",this.linewidth=0,this}corner(){const e=this.getBoundingClientRect(!0),t=e.width/2,n=e.height/2,i=e.left+e.width/2,o=e.top+e.height/2;for(let l=0;l<this.vertices.length;l++){const u=this.vertices[l];u.x-=i,u.y-=o,u.x+=t,u.y+=n}return this.mask&&(this.mask.translation.x-=i,this.mask.translation.x+=t,this.mask.translation.y-=o,this.mask.translation.y+=n),this}center(){const e=this.getBoundingClientRect(!0),t=e.left+e.width/2-this.translation.x,n=e.top+e.height/2-this.translation.y;for(let i=0;i<this.vertices.length;i++){const o=this.vertices[i];o.x-=t,o.y-=n}return this.mask&&(this.mask.translation.x-=t,this.mask.translation.y-=n),this}getBoundingClientRect(e){let t,n,i,o,l,u,c=1/0,h=-1/0,d=1/0,g=-1/0;if(this._update(!0),t=e?this.matrix:this.worldMatrix,n=(this.linewidth||0)/2,i=this._renderer.vertices.length,this.linewidth>0||this.stroke&&!/(transparent|none)/i.test(this.stroke))if(this.matrix.manual){const{scaleX:m,scaleY:v}=Mo(t.elements[0],t.elements[3],t.elements[1],t.elements[4],t.elements[2],t.elements[5]);typeof m=="number"&&typeof v=="number"&&(n=Math.max(m,v)*(this.linewidth||0)/2)}else n*=typeof this.scale=="number"?this.scale:Math.max(this.scale.x,this.scale.y);if(i<=0)return{width:0,height:0};for(o=0;o<i;o++){u=this._renderer.vertices[o],l=this._renderer.vertices[(o+i-1)%i];const[m,v]=t.multiply(l.x,l.y),[_,w]=t.multiply(u.x,u.y);if(l.controls&&u.controls){let k=l.controls.right.x,S=l.controls.right.y;l.relative&&(k+=l.x,S+=l.y);let[b,x]=t.multiply(k,S),R=u.controls.left.x,M=u.controls.left.y;u.relative&&(R+=u.x,M+=u.y);let[P,I]=t.multiply(R,M);const j=G_(m,v,b,x,P,I,_,w);d=fo(j.min.y-n,d),c=fo(j.min.x-n,c),h=ho(j.max.x+n,h),g=ho(j.max.y+n,g)}else o<=1&&(d=fo(v-n,d),c=fo(m-n,c),h=ho(m+n,h),g=ho(v+n,g)),d=fo(w-n,d),c=fo(_-n,c),h=ho(_+n,h),g=ho(w+n,g)}return{top:d,left:c,right:h,bottom:g,width:h-c,height:g-d}}getPointAt(e,t){let n,i,o,l,u,c,h,d,g,m,v,_,w,k,S,b=this.length*Math.min(Math.max(e,0),1);const x=this.vertices.length,R=x-1;let M=null,P=null;for(let ue=0,Z=this._lengths.length,D=0;ue<Z;ue++){if(D+this._lengths[ue]>=b){this._closed?(n=Bn(ue,x),i=Bn(ue-1,x),ue===0&&(n=i,i=ue)):(n=ue,i=Math.min(Math.max(ue-1,0),R)),M=this.vertices[n],P=this.vertices[i],b-=D,this._lengths[ue]!==0?e=b/this._lengths[ue]:e=0;break}D+=this._lengths[ue]}if(M===null||P===null)return null;if(M){if(!P)return M}else return P;S=P.controls&&P.controls.right,k=M.controls&&M.controls.left,u=P.x,m=P.y,c=(S||P).x,v=(S||P).y,h=(k||M).x,_=(k||M).y,d=M.x,w=M.y,S&&P.relative&&(c+=P.x,v+=P.y),k&&M.relative&&(h+=M.x,_+=M.y),l=Ul(e,u,c,h,d),g=Ul(e,m,v,_,w);const I=Nn(u,c,e),j=Nn(m,v,e),Y=Nn(c,h,e),z=Nn(v,_,e),H=Nn(h,d,e),X=Nn(_,w,e),K=Nn(I,Y,e),ae=Nn(j,z,e),te=Nn(Y,H,e),re=Nn(z,X,e);return be.isObject(t)?(t.x=l,t.y=g,t instanceof Le&&(t.controls.left.x=K,t.controls.left.y=ae,t.controls.right.x=te,t.controls.right.y=re,(typeof t.relative!="boolean"||t.relative)&&(t.controls.left.x-=l,t.controls.left.y-=g,t.controls.right.x-=l,t.controls.right.y-=g)),t.t=e,t):(o=new Le(l,g,K-l,ae-g,te-l,re-g,this._curved?de.curve:de.line),o.t=e,o)}plot(){if(this.curved)return Z_(this._collection,this.closed),this;for(let e=0;e<this._collection.length;e++)this._collection[e].command=e===0?de.move:de.line;return this}subdivide(e){this._update();const t=this.vertices.length-1,n=this._closed||this.vertices[t]._command===de.close;let i=this.vertices[t],o=[],l;return be.each(this.vertices,function(u,c){if(c<=0&&!n){i=u;return}if(u.command===de.move){o.push(new Le(i.x,i.y)),c>0&&(o[o.length-1].command=de.line),i=u;return}l=fy(u,i,e),o=o.concat(l),be.each(l,function(h,d){d<=0&&i.command===de.move?h.command=de.move:h.command=de.line}),c>=t&&(this._closed&&this._automatic?(i=u,l=fy(u,i,e),o=o.concat(l),be.each(l,function(h,d){d<=0&&i.command===de.move?h.command=de.move:h.command=de.line})):n&&o.push(new Le(u.x,u.y)),o[o.length-1].command=n?de.close:de.line),i=u},this),this._automatic=!1,this._curved=!1,this.vertices=o,this}_updateLength(e,t){t||this._update();const i=this.vertices.length-1;let o=this.vertices[i],l=0;return typeof this._lengths>"u"&&(this._lengths=[]),be.each(this.vertices,function(u,c){if(c<=0||u.command===de.move){o=u,this._lengths[c]=0;return}this._lengths[c]=tv(u,o,e),l+=this._lengths[c],o=u},this),this._length=l,this._flagLength=!1,this}_update(){if(this._flagVertices){this._automatic&&this.plot(),this._flagLength&&this._updateLength(void 0,!0);const e=this._collection.length,t=this._closed,n=Math.min(this._beginning,this._ending),i=Math.max(this._beginning,this._ending),o=Hu(this,n*this._length),l=Hu(this,i*this._length),u=Nk(o),c=jk(l);let h,d,g,m,v,_;for(this._renderer.vertices.length=0,_=0;_<e;_++)this._renderer.collection.length<=_&&this._renderer.collection.push(new Le),_>c&&!d?(v=this._renderer.collection[_].copy(this._collection[_]),this.getPointAt(i,v),v.command=this._renderer.collection[_].command,this._renderer.vertices.push(v),d=v,g=this._collection[_-1],g&&g.controls&&(v.relative?v.controls.right.clear():v.controls.right.copy(v),g.relative?this._renderer.collection[_-1].controls.right.copy(g.controls.right).lerp(ce.zero,1-v.t):this._renderer.collection[_-1].controls.right.copy(g.controls.right).lerp(g,1-v.t))):_>=u&&_<=c&&(v=this._renderer.collection[_].copy(this._collection[_]),this._renderer.vertices.push(v),_===c&&cy(this,i)?(d=v,!t&&d.controls&&(d.relative?d.controls.right.clear():d.controls.right.copy(d))):_===u&&cy(this,n)&&(h=v,h.command=de.move,!t&&h.controls&&(h.relative?h.controls.left.clear():h.controls.left.copy(h))));u>0&&!h&&(_=u-1,v=this._renderer.collection[_].copy(this._collection[_]),this.getPointAt(n,v),v.command=de.move,this._renderer.vertices.unshift(v),m=this._collection[_+1],m&&m.controls&&(v.controls.left.clear(),m.relative?this._renderer.collection[_+1].controls.left.copy(m.controls.left).lerp(ce.zero,v.t):(Dk.copy(m),this._renderer.collection[_+1].controls.left.copy(m.controls.left).lerp(m,v.t))))}return Lr.prototype._update.apply(this,arguments),this}flagReset(){return this._flagVertices=this._flagLength=this._flagFill=this._flagStroke=this._flagLinewidth=this._flagOpacity=this._flagVisible=this._flagCap=this._flagJoin=this._flagMiter=this._flagClip=!1,Lr.prototype.flagReset.call(this),this}},Ie=Fi;T(Ie,"Properties",["fill","stroke","linewidth","opacity","visible","cap","join","miter","closed","curved","automatic","beginning","ending","dashes"]);T(Ie,"Utils",{getCurveLength:tv});var dy={linewidth:{enumerable:!0,get:function(){return this._linewidth},set:function(e){this._linewidth=e,this._flagLinewidth=!0}},opacity:{enumerable:!0,get:function(){return this._opacity},set:function(e){this._opacity=e,this._flagOpacity=!0}},visible:{enumerable:!0,get:function(){return this._visible},set:function(e){this._visible=e,this._flagVisible=!0}},cap:{enumerable:!0,get:function(){return this._cap},set:function(e){this._cap=e,this._flagCap=!0}},join:{enumerable:!0,get:function(){return this._join},set:function(e){this._join=e,this._flagJoin=!0}},miter:{enumerable:!0,get:function(){return this._miter},set:function(e){this._miter=e,this._flagMiter=!0}},fill:{enumerable:!0,get:function(){return this._fill},set:function(e){(this._fill instanceof yt||this._fill instanceof Ze||this._fill instanceof Je||this._fill instanceof De)&&this._fill.unbind(J.Types.change,this._renderer.flagFill),this._fill=e,this._flagFill=!0,(this._fill instanceof yt||this._fill instanceof Ze||this._fill instanceof Je||this._fill instanceof De)&&this._fill.bind(J.Types.change,this._renderer.flagFill)}},stroke:{enumerable:!0,get:function(){return this._stroke},set:function(e){(this._stroke instanceof yt||this._stroke instanceof Ze||this._stroke instanceof Je||this._stroke instanceof De)&&this._stroke.unbind(J.Types.change,this._renderer.flagStroke),this._stroke=e,this._flagStroke=!0,(this._stroke instanceof yt||this._stroke instanceof Ze||this._stroke instanceof Je||this._stroke instanceof De)&&this._stroke.bind(J.Types.change,this._renderer.flagStroke)}},length:{get:function(){return this._flagLength&&this._updateLength(),this._length}},closed:{enumerable:!0,get:function(){return this._closed},set:function(e){this._closed=!!e,this._flagVertices=!0}},curved:{enumerable:!0,get:function(){return this._curved},set:function(e){this._curved=!!e,this._flagVertices=!0}},automatic:{enumerable:!0,get:function(){return this._automatic},set:function(e){if(e===this._automatic)return;this._automatic=!!e;const t=this._automatic?"ignore":"listen";be.each(this.vertices,function(n){n[t]()})}},beginning:{enumerable:!0,get:function(){return this._beginning},set:function(e){this._beginning=e,this._flagVertices=!0}},ending:{enumerable:!0,get:function(){return this._ending},set:function(e){this._ending=e,this._flagVertices=!0}},vertices:{enumerable:!0,get:function(){return this._collection},set:function(e){const t=this._renderer.bindVertices,n=this._renderer.unbindVertices;this._collection&&this._collection.unbind(J.Types.insert,t).unbind(J.Types.remove,n),e instanceof Vi?this._collection=e:this._collection=new Vi(e||[]),this._collection.bind(J.Types.insert,t).bind(J.Types.remove,n),t(this._collection)}},mask:{enumerable:!0,get:function(){return this._mask},set:function(e){this._mask=e,this._flagMask=!0,be.isObject(e)&&!e.clip&&(e.clip=!0)}},clip:{enumerable:!0,get:function(){return this._clip},set:function(e){this._clip=e,this._flagClip=!0}},dashes:{enumerable:!0,get:function(){return this._dashes},set:function(e){typeof e.offset!="number"&&(e.offset=this.dashes&&this._dashes.offset||0),this._dashes=e}}};function rv(){this._flagVertices=!0,this._flagLength=!0,this.parent&&(this.parent._flagLength=!0)}function iv(e){let t=e.length;for(;t--;)e[t].bind(J.Types.change,this._renderer.flagVertices);this._renderer.flagVertices()}function sv(e){let t=e.length;for(;t--;)e[t].unbind(J.Types.change,this._renderer.flagVertices);this._renderer.flagVertices()}function ov(){this._flagFill=!0}function lv(){this._flagStroke=!0}var Pl=class extends Ie{constructor(e,t,n,i){const o=[new Le,new Le,new Le,new Le];super(o,!0,!1,!0),T(this,"_flagWidth",0),T(this,"_flagHeight",0),T(this,"_width",0),T(this,"_height",0),T(this,"_origin",null),this._renderer.type="rectangle";for(let l in py)Object.defineProperty(this,l,py[l]);this.width=typeof n=="number"?n:1,this.height=typeof i=="number"?i:1,this.origin=new ce,typeof e=="number"&&(this.translation.x=e),typeof t=="number"&&(this.translation.y=t),this._update()}static fromObject(e){const t=new Pl().copy(e);return"id"in e&&(t.id=e.id),t}copy(e){super.copy.call(this,e);for(let t=0;t<Pl.Properties.length;t++){const n=Pl.Properties[t];n in e&&typeof e[n]=="number"&&(this[n]=e[n])}return this}_update(){if(this._flagVertices||this._flagWidth||this._flagHeight){const e=this._width/2,t=this._height/2;!this._closed&&this.vertices.length===4&&this.vertices.push(new Le),this.vertices[0].set(-e,-t).sub(this._origin).command=de.move,this.vertices[1].set(e,-t).sub(this._origin).command=de.line,this.vertices[2].set(e,t).sub(this._origin).command=de.line,this.vertices[3].set(-e,t).sub(this._origin).command=de.line,this.vertices[4]&&(this.vertices[4].set(-e,-t).sub(this._origin).command=de.line)}return super._update.call(this),this}flagReset(){return this._flagWidth=this._flagHeight=!1,super.flagReset.call(this),this}clone(e){const t=new Pl(0,0,this.width,this.height);t.translation.copy(this.translation),t.rotation=this.rotation,t.scale=this.scale,t.skewX=this.skewX,t.skewY=this.skewY,this.matrix.manual&&t.matrix.copy(this.matrix);for(let n=0;n<Ie.Properties.length;n++){const i=Ie.Properties[n];t[i]=this[i]}return e&&e.add(t),t}toObject(){const e=super.toObject.call(this);return e.renderer.type="rectangle",e.width=this.width,e.height=this.height,e.origin=this.origin.toObject(),e}},Xi=Pl;T(Xi,"Properties",["width","height"]);var py={width:{enumerable:!0,get:function(){return this._width},set:function(e){this._width=e,this._flagWidth=!0}},height:{enumerable:!0,get:function(){return this._height},set:function(e){this._height=e,this._flagHeight=!0}},origin:{enumerable:!0,get:function(){return this._origin},set:function(e){this._origin&&this._origin.unbind(J.Types.change,this._renderer.flagVertices),this._origin=e,this._origin.bind(J.Types.change,this._renderer.flagVertices),this._renderer.flagVertices()}}},Al=class extends Xi{constructor(e,t,n,i,o,l){super(t,n,0,0),T(this,"_flagTexture",!1),T(this,"_flagColumns",!1),T(this,"_flagRows",!1),T(this,"_flagFrameRate",!1),T(this,"_flagIndex",!1),T(this,"_amount",1),T(this,"_duration",0),T(this,"_startTime",0),T(this,"_playing",!1),T(this,"_firstFrame",0),T(this,"_lastFrame",0),T(this,"_loop",!0),T(this,"_texture",null),T(this,"_columns",1),T(this,"_rows",1),T(this,"_frameRate",0),T(this,"_index",0),T(this,"_origin",null);for(let u in gy)Object.defineProperty(this,u,gy[u]);this.noStroke(),this.noFill(),e instanceof De?this.texture=e:typeof e=="string"&&(this.texture=new De(e)),this.origin=new ce,this._update(),typeof i=="number"&&(this.columns=i),typeof o=="number"&&(this.rows=o),typeof l=="number"&&(this.frameRate=l),this.index=0}static fromObject(e){const t=new Al().copy(e);return"id"in e&&(t.id=e.id),t}copy(e){super.copy.call(this,e);for(let t=0;t<Al.Properties.length;t++){const n=Al.Properties[t];n in e&&(this[n]=e[n])}return this}play(e,t,n){return this._playing=!0,this._firstFrame=0,this._lastFrame=this.amount-1,this._startTime=be.performance.now(),typeof e=="number"&&(this._firstFrame=e),typeof t=="number"&&(this._lastFrame=t),typeof n=="function"?this._onLastFrame=n:delete this._onLastFrame,this._index!==this._firstFrame&&(this._startTime-=1e3*Math.abs(this._index-this._firstFrame)/this._frameRate),this}pause(){return this._playing=!1,this}stop(){return this._playing=!1,this._index=0,this}clone(e){const t=new Al(this.texture,this.translation.x,this.translation.y,this.columns,this.rows,this.frameRate);return this.playing&&t.play(this._firstFrame,this._lastFrame),t.loop=this.loop,t.firstFrame=this.firstFrame,t.lastFrame=this.lastFrame,e&&e.add(t),t}toObject(){const e=super.toObject.call(this);return e.texture=this.texture.toObject(),e.columns=this.columns,e.rows=this.rows,e.frameRate=this.frameRate,e.index=this.index,e.firstFrame=this.firstFrame,e.lastFrame=this.lastFrame,e.loop=this.loop,e}_update(){const e=this._texture,t=this._columns,n=this._rows;let i,o,l,u,c,h,d,g,m;if(e&&((this._flagColumns||this._flagRows)&&(this._amount=this._columns*this._rows),this._flagFrameRate&&(this._duration=1e3*this._amount/this._frameRate),this._flagTexture&&(this.fill=e),e.loaded)){d=e.image.width,g=e.image.height,i=d/t,o=g/n,u=this._amount,this.width!==i&&(this.width=i),this.height!==o&&(this.height=o),this._playing&&this._frameRate>0&&(be.isNaN(this._lastFrame)&&(this._lastFrame=u-1),l=be.performance.now()-this._startTime,m=this._lastFrame+1,c=1e3*(m-this._firstFrame)/this._frameRate,this._loop?l=l%c:l=Math.min(l,c),h=Nn(this._firstFrame,m,l/c),h=Math.floor(h),h!==this._index&&(this._index=h,h>=this._lastFrame-1&&this._onLastFrame&&this._onLastFrame()));const v=this._index%t,_=Math.floor(this._index/t),w=-i*v+(d-i)/2,k=-o*_+(g-o)/2;w!==e.offset.x&&(e.offset.x=w),k!==e.offset.y&&(e.offset.y=k)}return super._update.call(this),this}flagReset(){return this._flagTexture=this._flagColumns=this._flagRows=this._flagFrameRate=!1,super.flagReset.call(this),this}},ac=Al;T(ac,"Properties",["texture","columns","rows","frameRate","index","firstFrame","lastFrame","loop"]);var gy={texture:{enumerable:!0,get:function(){return this._texture},set:function(e){this._texture=e,this._flagTexture=!0}},columns:{enumerable:!0,get:function(){return this._columns},set:function(e){this._columns=e,this._flagColumns=!0}},rows:{enumerable:!0,get:function(){return this._rows},set:function(e){this._rows=e,this._flagRows=!0}},frameRate:{enumerable:!0,get:function(){return this._frameRate},set:function(e){this._frameRate=e,this._flagFrameRate=!0}},index:{enumerable:!0,get:function(){return this._index},set:function(e){this._index=e,this._flagIndex=!0}},firstFrame:{enumerable:!0,get:function(){return this._firstFrame},set:function(e){this._firstFrame=e}},lastFrame:{enumerable:!0,get:function(){return this._lastFrame},set:function(e){this._lastFrame=e}},loop:{enumerable:!0,get:function(){return this._loop},set:function(e){this._loop=!!e}}},qh,av=class extends Vi{constructor(e){e=Array.isArray(e)?e:Array.prototype.slice.call(arguments),super(e),$_(this,qh,{}),this.attach(e),this.on(J.Types.insert,this.attach),this.on(J.Types.remove,this.detach)}get ids(){return vn(this,qh)}attach(e){for(let t=0;t<e.length;t++){const n=e[t];n&&n.id&&(this.ids[n.id]=n)}return this}detach(e){for(let t=0;t<e.length;t++)delete this.ids[e[t].id];return this}};qh=new WeakMap;var ds=class extends Ie{constructor(e,t,n,i,o,l,u){const c=u||un.Resolution*3,h=[];for(let d=0;d<c;d++)h.push(new Le);super(h,!0,!1,!0),T(this,"_flagStartAngle",!1),T(this,"_flagEndAngle",!1),T(this,"_flagInnerRadius",!1),T(this,"_flagOuterRadius",!1),T(this,"_startAngle",0),T(this,"_endAngle",Qt),T(this,"_innerRadius",0),T(this,"_outerRadius",0),this._renderer.type="arc-segment";for(let d in my)Object.defineProperty(this,d,my[d]);typeof n=="number"&&(this.innerRadius=n),typeof i=="number"&&(this.outerRadius=i),typeof o=="number"&&(this.startAngle=o),typeof l=="number"&&(this.endAngle=l),this._update(),typeof e=="number"&&(this.translation.x=e),typeof t=="number"&&(this.translation.y=t)}static fromObject(e){const t=new ds().copy(e);return"id"in e&&(t.id=e.id),t}copy(e){super.copy.call(this,e);for(let t=0;t<ds.Properties.length;t++){const n=ds.Properties[t];n in e&&typeof e[n]=="number"&&(this[n]=e[n])}return this}_update(){if(this._flagVertices||this._flagStartAngle||this._flagEndAngle||this._flagInnerRadius||this._flagOuterRadius){const e=this._startAngle,t=this._endAngle,n=this._innerRadius,i=this._outerRadius,o=Bn(e,Qt)===Bn(t,Qt),l=n>0,u=this.vertices;let c=l?u.length/2:u.length,h,d=0,g,m,v,_,w,k,S,b,x;for(o?c--:l||(c-=2),g=0,m=c-1;g<c;g++){switch(v=g/m,_=u[d],w=v*(t-e)+e,k=(t-e)/c,S=i*Math.cos(w),b=i*Math.sin(w),g){case 0:h=de.move;break;default:h=de.curve}_.command=h,_.x=S,_.y=b,_.controls.left.clear(),_.controls.right.clear(),_.command===de.curve&&(x=i*k/Math.PI,_.controls.left.x=x*Math.cos(w-Et),_.controls.left.y=x*Math.sin(w-Et),_.controls.right.x=x*Math.cos(w+Et),_.controls.right.y=x*Math.sin(w+Et),g===1&&_.controls.left.multiplyScalar(2),g===m&&_.controls.right.multiplyScalar(2)),d++}if(l){for(o?(u[d].command=de.close,d++):(c--,m=c-1),g=0;g<c;g++)v=g/m,_=u[d],w=(1-v)*(t-e)+e,k=(t-e)/c,S=n*Math.cos(w),b=n*Math.sin(w),h=de.curve,g<=0&&(h=o?de.move:de.line),_.command=h,_.x=S,_.y=b,_.controls.left.clear(),_.controls.right.clear(),_.command===de.curve&&(x=n*k/Math.PI,_.controls.left.x=x*Math.cos(w+Et),_.controls.left.y=x*Math.sin(w+Et),_.controls.right.x=x*Math.cos(w-Et),_.controls.right.y=x*Math.sin(w-Et),g===1&&_.controls.left.multiplyScalar(2),g===m&&_.controls.right.multiplyScalar(2)),d++;u[d].copy(u[0]),u[d].command=de.line}else o||(u[d].command=de.line,u[d].x=0,u[d].y=0,d++,u[d].copy(u[0]),u[d].command=de.line)}return super._update.call(this),this}flagReset(){return super.flagReset.call(this),this._flagStartAngle=this._flagEndAngle=this._flagInnerRadius=this._flagOuterRadius=!1,this}clone(e){const t=this.innerRadius,n=this.outerRadius,i=this.startAngle,o=this.endAngle,l=this.vertices.length,u=new ds(0,0,t,n,i,o,l);u.translation.copy(this.translation),u.rotation=this.rotation,u.scale=this.scale,u.skewX=this.skewX,u.skewY=this.skewY,this.matrix.manual&&u.matrix.copy(this.matrix);for(let c=0;c<Ie.Properties.length;c++){const h=Ie.Properties[c];u[h]=this[h]}return e&&e.add(u),u}toObject(){const e=super.toObject.call(this);e.renderer.type="arc-segment";for(let t=0;t<ds.Properties.length;t++){const n=ds.Properties[t];e[n]=this[n]}return e}},uc=ds;T(uc,"Properties",["startAngle","endAngle","innerRadius","outerRadius"]);var my={startAngle:{enumerable:!0,get:function(){return this._startAngle},set:function(e){this._startAngle=e,this._flagStartAngle=!0}},endAngle:{enumerable:!0,get:function(){return this._endAngle},set:function(e){this._endAngle=e,this._flagEndAngle=!0}},innerRadius:{enumerable:!0,get:function(){return this._innerRadius},set:function(e){this._innerRadius=e,this._flagInnerRadius=!0}},outerRadius:{enumerable:!0,get:function(){return this._outerRadius},set:function(e){this._outerRadius=e,this._flagOuterRadius=!0}}},vh=Math.cos,xh=Math.sin,ps=class extends Ie{constructor(e,t,n,i){const o=i?Math.max(i,2):4,l=[];for(let u=0;u<o;u++)l.push(new Le(0,0,0,0,0,0));super(l,!0,!0,!0),T(this,"_flagRadius",!1),T(this,"_radius",0),this._renderer.type="circle";for(let u in yy)Object.defineProperty(this,u,yy[u]);typeof n=="number"&&(this.radius=n),this._update(),typeof e=="number"&&(this.translation.x=e),typeof t=="number"&&(this.translation.y=t)}static fromObject(e){const t=new ps().copy(e);return"id"in e&&(t.id=e.id),t}copy(e){super.copy.call(this,e);for(let t=0;t<ps.Properties.length;t++){const n=ps.Properties[t];n in e&&typeof e[n]=="number"&&(this[n]=e[n])}return this}_update(){if(this._flagVertices||this._flagRadius){let e=this.vertices.length;!this._closed&&e>2&&(e-=1);const t=4/3*Math.tan(Math.PI/(e*2)),n=this._radius,i=n*t;for(let o=0;o<this.vertices.length;o++){const u=o/e*Qt,c=n*vh(u),h=n*xh(u),d=i*vh(u-Et),g=i*xh(u-Et),m=i*vh(u+Et),v=i*xh(u+Et),_=this.vertices[o];_.command=o===0?de.move:de.curve,_.set(c,h),_.controls.left.set(d,g),_.controls.right.set(m,v)}}return super._update.call(this),this}flagReset(){return this._flagRadius=!1,super.flagReset.call(this),this}clone(e){const t=new ps(0,0,this.radius,this.vertices.length);t.translation.copy(this.translation),t.rotation=this.rotation,t.scale=this.scale,t.skewX=this.skewX,t.skewY=this.skewY,this.matrix.manual&&t.matrix.copy(this.matrix);for(let n=0;n<Ie.Properties.length;n++){const i=Ie.Properties[n];t[i]=this[i]}return e&&e.add(t),t}toObject(){const e=super.toObject.call(this);e.renderer.type="circle";for(let t=0;t<ps.Properties.length;t++){const n=ps.Properties[t];e[n]=this[n]}return e}},Kl=ps;T(Kl,"Properties",["radius"]);var yy={radius:{enumerable:!0,get:function(){return this._radius},set:function(e){this._radius=e,this._flagRadius=!0}}},wh=Math.cos,kh=Math.sin,gs=class extends Ie{constructor(e,t,n,i,o){typeof i!="number"&&typeof n=="number"&&(i=n);const l=o?Math.max(o,2):4,u=[];for(let c=0;c<l;c++)u.push(new Le);super(u,!0,!0,!0),T(this,"_flagWidth",!1),T(this,"_flagHeight",!1),T(this,"_width",0),T(this,"_height",0),this._renderer.type="ellipse";for(let c in _y)Object.defineProperty(this,c,_y[c]);typeof n=="number"&&(this.width=n*2),typeof i=="number"&&(this.height=i*2),this._update(),typeof e=="number"&&(this.translation.x=e),typeof t=="number"&&(this.translation.y=t)}static fromObject(e){const t=new gs().copy(e);return"id"in e&&(t.id=e.id),t}copy(e){super.copy.call(this,e);for(let t=0;t<gs.Properties.length;t++){const n=gs.Properties[t];n in e&&typeof e[n]=="number"&&(this[n]=e[n])}return this}_update(){if(this._flagVertices||this._flagWidth||this._flagHeight){let e=this.vertices.length;!this._closed&&e>2&&(e-=1);const t=4/3*Math.tan(Math.PI/(this.vertices.length*2)),n=this._width/2,i=this._height/2;for(let o=0;o<this.vertices.length;o++){const u=o/e*Qt,c=n*wh(u),h=i*kh(u),d=n*t*wh(u-Et),g=i*t*kh(u-Et),m=n*t*wh(u+Et),v=i*t*kh(u+Et),_=this.vertices[o];_.command=o===0?de.move:de.curve,_.set(c,h),_.controls.left.set(d,g),_.controls.right.set(m,v)}}return super._update.call(this),this}flagReset(){return this._flagWidth=this._flagHeight=!1,super.flagReset.call(this),this}clone(e){const t=this.width/2,n=this.height/2,i=this.vertices.length,o=new gs(0,0,t,n,i);o.translation.copy(this.translation),o.rotation=this.rotation,o.scale=this.scale,o.skewX=this.skewX,o.skewY=this.skewY,this.matrix.manual&&o.matrix.copy(this.matrix);for(let l=0;l<Ie.Properties.length;l++){const u=Ie.Properties[l];o[u]=this[u]}return e&&e.add(o),o}toObject(){const e=super.toObject.call(this);e.renderer.type="ellipse";for(let t=0;t<gs.Properties.length;t++){const n=gs.Properties[t];e[n]=this[n]}return e}},ql=gs;T(ql,"Properties",["width","height"]);var _y={width:{enumerable:!0,get:function(){return this._width},set:function(e){this._width=e,this._flagWidth=!0}},height:{enumerable:!0,get:function(){return this._height},set:function(e){this._height=e,this._flagHeight=!0}}},zk=Math.ceil,Bk=Math.floor,Ii=class extends Lr{constructor(e){super(),T(this,"_flagVertices",!0),T(this,"_flagLength",!0),T(this,"_flagFill",!0),T(this,"_flagStroke",!0),T(this,"_flagLinewidth",!0),T(this,"_flagOpacity",!0),T(this,"_flagVisible",!0),T(this,"_flagSize",!0),T(this,"_flagSizeAttenuation",!0),T(this,"_length",0),T(this,"_fill","#fff"),T(this,"_stroke","#000"),T(this,"_linewidth",1),T(this,"_opacity",1),T(this,"_visible",!0),T(this,"_size",1),T(this,"_sizeAttenuation",!1),T(this,"_beginning",0),T(this,"_ending",1),T(this,"_dashes",null),T(this,"noFill",Ie.prototype.noFill),T(this,"noStroke",Ie.prototype.noStroke),T(this,"corner",Ie.prototype.corner),T(this,"center",Ie.prototype.center),T(this,"getBoundingClientRect",Ie.prototype.getBoundingClientRect),T(this,"_updateLength",Ie.prototype._updateLength);for(let t in vy)Object.defineProperty(this,t,vy[t]);this._renderer.type="points",this._renderer.flagVertices=rv.bind(this),this._renderer.bindVertices=iv.bind(this),this._renderer.unbindVertices=sv.bind(this),this._renderer.flagFill=ov.bind(this),this._renderer.flagStroke=lv.bind(this),this._renderer.vertices=null,this._renderer.collection=null,this.sizeAttenuation=!1,this.beginning=0,this.ending=1,this.fill="#fff",this.stroke="#000",this.className="",this.visible=!0,this.vertices=e,this.dashes=[],this.dashes.offset=0}static fromObject(e){const t=typeof e.fill=="string"?e.fill:Ms(e.fill),n=typeof e.stroke=="string"?e.stroke:Ms(e.stroke),i=new Ii().copy(Td(Rd({},e),{fill:t,stroke:n}));return"id"in e&&(i.id=e.id),i}copy(e){super.copy.call(this,e);for(let t=0;t<e.vertices.length;t++){const n=e.vertices[t];n instanceof Le?this.vertices.push(e.vertices[t].clone()):this.vertices.push(new Le().copy(n))}for(let t=0;t<Ii.Properties.length;t++){const n=Ii.Properties[t];n in e&&(this[n]=e[n])}return this}clone(e){const t=new Ii;for(let n=0;n<this.vertices.length;n++)t.vertices.push(this.vertices[n].clone());for(let n=0;n<Ii.Properties.length;n++){const i=Ii.Properties[n];t[i]=this[i]}return t.className=this.className,t.translation.copy(this.translation),t.rotation=this.rotation,t.scale=this.scale,t.skewX=this.skewX,t.skewY=this.skewY,this.matrix.manual&&t.matrix.copy(this.matrix),e&&e.add(t),t._update()}toObject(){const e=super.toObject.call(this);return e.renderer.type="points",e.vertices=this.vertices.map(t=>t.toObject()),be.each(Ii.Properties,function(t){typeof this[t]<"u"&&(this[t].toObject?e[t]=this[t].toObject():e[t]=this[t])},this),e}subdivide(e){this._update();let t=[];for(let n=0;n<this.vertices.length;n++){const i=this.vertices[n],o=this.vertices[n-1];if(!o)continue;const l=i.x,u=i.y,c=o.x,h=o.y,d=Md(l,u,l,u,c,h,c,h,e);t=t.concat(d)}return this.vertices=t,this}_update(){if(this._flagVertices){this._flagLength&&this._updateLength(void 0,!0);const e=Math.min(this._beginning,this._ending),t=Math.max(this._beginning,this._ending),n=Hu(this,e*this._length),i=Hu(this,t*this._length),o=zk(n),l=Bk(i);let u=0,c;this._renderer.vertices=[],this._renderer.collection=[];for(let h=0;h<this._collection.length;h++)h>=o&&h<=l&&(c=this._collection[h],this._renderer.collection.push(c),this._renderer.vertices[u*2+0]=c.x,this._renderer.vertices[u*2+1]=c.y,u++)}return super._update.apply(this,arguments),this}flagReset(){return this._flagVertices=this._flagLength=this._flagFill=this._flagStroke=this._flagLinewidth=this._flagOpacity=this._flagVisible=this._flagSize=this._flagSizeAttenuation=!1,super.flagReset.call(this),this}},cc=Ii;T(cc,"Properties",["fill","stroke","linewidth","opacity","visible","size","sizeAttenuation","beginning","ending","dashes"]);var vy={linewidth:{enumerable:!0,get:function(){return this._linewidth},set:function(e){this._linewidth=e,this._flagLinewidth=!0}},opacity:{enumerable:!0,get:function(){return this._opacity},set:function(e){this._opacity=e,this._flagOpacity=!0}},visible:{enumerable:!0,get:function(){return this._visible},set:function(e){this._visible=e,this._flagVisible=!0}},size:{enumerable:!0,get:function(){return this._size},set:function(e){this._size=e,this._flagSize=!0}},sizeAttenuation:{enumerable:!0,get:function(){return this._sizeAttenuation},set:function(e){this._sizeAttenuation=e,this._flagSizeAttenuation=!0}},fill:{enumerable:!0,get:function(){return this._fill},set:function(e){(this._fill instanceof yt||this._fill instanceof Ze||this._fill instanceof Je||this._fill instanceof De)&&this._fill.unbind(J.Types.change,this._renderer.flagFill),this._fill=e,this._flagFill=!0,(this._fill instanceof yt||this._fill instanceof Ze||this._fill instanceof Je||this._fill instanceof De)&&this._fill.bind(J.Types.change,this._renderer.flagFill)}},stroke:{enumerable:!0,get:function(){return this._stroke},set:function(e){(this._stroke instanceof yt||this._stroke instanceof Ze||this._stroke instanceof Je||this._stroke instanceof De)&&this._stroke.unbind(J.Types.change,this._renderer.flagStroke),this._stroke=e,this._flagStroke=!0,(this._stroke instanceof yt||this._stroke instanceof Ze||this._stroke instanceof Je||this._stroke instanceof De)&&this._stroke.bind(J.Types.change,this._renderer.flagStroke)}},length:{get:function(){return this._flagLength&&this._updateLength(),this._length}},beginning:{enumerable:!0,get:function(){return this._beginning},set:function(e){this._beginning=e,this._flagVertices=!0}},ending:{enumerable:!0,get:function(){return this._ending},set:function(e){this._ending=e,this._flagVertices=!0}},vertices:{enumerable:!0,get:function(){return this._collection},set:function(e){const t=this._renderer.bindVertices,n=this._renderer.unbindVertices;this._collection&&this._collection.unbind(J.Types.insert,t).unbind(J.Types.remove,n),e instanceof Vi?this._collection=e:this._collection=new Vi(e||[]),this._collection.bind(J.Types.insert,t).bind(J.Types.remove,n),t(this._collection)}},dashes:{enumerable:!0,get:function(){return this._dashes},set:function(e){typeof e.offset!="number"&&(e.offset=this.dashes&&this._dashes.offset||0),this._dashes=e}}},Uk=Math.cos,$k=Math.sin,ms=class extends Ie{constructor(e,t,n,i){i=Math.max(i||0,3),super(),T(this,"_flagWidth",!1),T(this,"_flagHeight",!1),T(this,"_flagSides",!1),T(this,"_radius",0),T(this,"_width",0),T(this,"_height",0),T(this,"_sides",0),this._renderer.type="polygon";for(let o in xy)Object.defineProperty(this,o,xy[o]);this.closed=!0,this.automatic=!1,typeof n=="number"&&(this.radius=n),typeof i=="number"&&(this.sides=i),this._update(),typeof e=="number"&&(this.translation.x=e),typeof t=="number"&&(this.translation.y=t)}static fromObject(e){const t=new ms().copy(e);return"id"in e&&(t.id=e.id),t}copy(e){super.copy.call(this,e);for(let t=0;t<ms.Properties.length;t++){const n=ms.Properties[t];n in e&&typeof e[n]=="number"&&(this[n]=e[n])}return this}_update(){if(this._flagVertices||this._flagWidth||this._flagHeight||this._flagSides){const e=this._sides,t=e+1;let n=this.vertices.length;n>e&&(this.vertices.splice(e-1,n-e),n=e);for(let i=0;i<t;i++){const o=(i+.5)/e,l=Qt*o+Math.PI/2,u=this._width*Uk(l)/2,c=this._height*$k(l)/2;i>=n?this.vertices.push(new Le(u,c)):this.vertices[i].set(u,c),this.vertices[i].command=i===0?de.move:de.line}}return super._update.call(this),this}flagReset(){return this._flagWidth=this._flagHeight=this._flagSides=!1,super.flagReset.call(this),this}clone(e){const t=new ms(0,0,0,this.sides);t.translation.copy(this.translation),t.rotation=this.rotation,t.scale=this.scale,t.skewX=this.skewX,t.skewY=this.skewY,t.width=this.width,t.height=this.height,this.matrix.manual&&t.matrix.copy(this.matrix);for(let n=0;n<Ie.Properties.length;n++){const i=Ie.Properties[n];t[i]=this[i]}return e&&e.add(t),t}toObject(){const e=super.toObject.call(this);e.renderer.type="polygon";for(let t=0;t<ms.Properties.length;t++){const n=ms.Properties[t];e[n]=this[n]}return e}},fc=ms;T(fc,"Properties",["width","height","sides"]);var xy={radius:{enumerable:!0,get:function(){return this._radius},set:function(e){this._radius=e,this.width=e*2,this.height=e*2}},width:{enumerable:!0,get:function(){return this._width},set:function(e){this._width=e,this._flagWidth=!0,this._radius=Math.max(this.width,this.height)/2}},height:{enumerable:!0,get:function(){return this._height},set:function(e){this._height=e,this._flagHeight=!0,this._radius=Math.max(this.width,this.height)/2}},sides:{enumerable:!0,get:function(){return this._sides},set:function(e){this._sides=e,this._flagSides=!0}}},ys=class extends Ie{constructor(e,t,n,i,o){typeof o>"u"&&typeof n=="number"&&typeof i=="number"&&(o=Math.floor(Math.min(n,i)/12));const l=[];for(let u=0;u<10;u++)l.push(new Le(0,0,0,0,0,0,u===0?de.move:de.curve));super(l),T(this,"_flagWidth",!1),T(this,"_flagHeight",!1),T(this,"_flagRadius",!1),T(this,"_width",0),T(this,"_height",0),T(this,"_radius",12),this._renderer.type="rounded-rectangle";for(let u in wy)Object.defineProperty(this,u,wy[u]);this.closed=!0,this.automatic=!1,this._renderer.flagRadius=Vk.bind(this),typeof n=="number"&&(this.width=n),typeof i=="number"&&(this.height=i),typeof o=="number"&&(this.radius=o),this._update(),typeof e=="number"&&(this.translation.x=e),typeof t=="number"&&(this.translation.y=t)}static fromObject(e){const t=new ys().copy(e);return"id"in e&&(t.id=e.id),t}copy(e){super.copy.call(this,e);for(let t=0;t<ys.Properties.length;t++){const n=ys.Properties[t];if(n in e){const i=e[n];/radius/i.test(n)?this[n]=typeof i=="number"||i instanceof ce?i:new ce().copy(i):typeof i=="number"&&(this[n]=i)}}return this}_update(){if(this._flagVertices||this._flagWidth||this._flagHeight||this._flagRadius){const e=this._width,t=this._height;let n,i;this._radius instanceof ce?(n=this._radius.x,i=this._radius.y):(n=this._radius,i=this._radius);let o,l=e/2,u=t/2;o=this.vertices[0],o.x=-(l-n),o.y=-u,o=this.vertices[1],o.x=l-n,o.y=-u,o.controls.left.clear(),o.controls.right.x=n,o.controls.right.y=0,o=this.vertices[2],o.x=l,o.y=-(u-i),o.controls.right.clear(),o.controls.left.clear(),o=this.vertices[3],o.x=l,o.y=u-i,o.controls.left.clear(),o.controls.right.x=0,o.controls.right.y=i,o=this.vertices[4],o.x=l-n,o.y=u,o.controls.right.clear(),o.controls.left.clear(),o=this.vertices[5],o.x=-(l-n),o.y=u,o.controls.left.clear(),o.controls.right.x=-n,o.controls.right.y=0,o=this.vertices[6],o.x=-l,o.y=u-i,o.controls.left.clear(),o.controls.right.clear(),o=this.vertices[7],o.x=-l,o.y=-(u-i),o.controls.left.clear(),o.controls.right.x=0,o.controls.right.y=-i,o=this.vertices[8],o.x=-(l-n),o.y=-u,o.controls.left.clear(),o.controls.right.clear(),o=this.vertices[9],o.copy(this.vertices[8])}return super._update.call(this),this}flagReset(){return this._flagWidth=this._flagHeight=this._flagRadius=!1,super.flagReset.call(this),this}clone(e){const t=this.width,n=this.height,i=this.radius,o=new ys(0,0,t,n,i);o.translation.copy(this.translation),o.rotation=this.rotation,o.scale=this.scale,o.skewX=this.skewX,o.skewY=this.skewY,this.matrix.manual&&o.matrix.copy(this.matrix);for(let l=0;l<Ie.Properties.length;l++){const u=Ie.Properties[l];o[u]=this[u]}return e&&e.add(o),o}toObject(){const e=super.toObject.call(this);e.renderer.type="rounded-rectangle";for(let t=0;t<ys.Properties.length;t++){const n=ys.Properties[t];e[n]=this[n]}return e.radius=typeof this.radius=="number"?this.radius:this.radius.toObject(),e}},Gl=ys;T(Gl,"Properties",["width","height","radius"]);var wy={width:{enumerable:!0,get:function(){return this._width},set:function(e){this._width=e,this._flagWidth=!0}},height:{enumerable:!0,get:function(){return this._height},set:function(e){this._height=e,this._flagHeight=!0}},radius:{enumerable:!0,get:function(){return this._radius},set:function(e){this._radius instanceof ce&&this._radius.unbind(J.Types.change,this._renderer.flagRadius),this._radius=e,this._radius instanceof ce&&this._radius.bind(J.Types.change,this._renderer.flagRadius),this._flagRadius=!0}}};function Vk(){this._flagRadius=!0}var Hk=Math.cos,Wk=Math.sin,_s=class extends Ie{constructor(e,t,n,i,o){arguments.length<=3&&(i=n,n=i/2),(typeof o!="number"||o<=0)&&(o=5),super(),T(this,"_flagInnerRadius",!1),T(this,"_flagOuterRadius",!1),T(this,"_flagSides",!1),T(this,"_innerRadius",0),T(this,"_outerRadius",0),T(this,"_sides",0),this._renderer.type="star";for(let l in ky)Object.defineProperty(this,l,ky[l]);this.closed=!0,this.automatic=!1,typeof n=="number"&&(this.innerRadius=n),typeof i=="number"&&(this.outerRadius=i),typeof o=="number"&&(this.sides=o),this._update(),typeof e=="number"&&(this.translation.x=e),typeof t=="number"&&(this.translation.y=t)}static fromObject(e){const t=new _s().copy(e);return"id"in e&&(t.id=e.id),t}copy(e){super.copy.call(this,e);for(let t=0;t<_s.Properties.length;t++){const n=_s.Properties[t];n in e&&typeof e[n]=="number"&&(this[n]=e[n])}return this}_update(){if(this._flagVertices||this._flagInnerRadius||this._flagOuterRadius||this._flagSides){const e=this._sides*2,t=e+1;let n=this.vertices.length;n>e&&(this.vertices.splice(e-1,n-e),n=e);for(let i=0;i<t;i++){const o=(i+.5)/e,l=Qt*o,u=(i%2?this._outerRadius:this._innerRadius)/2,c=u*Hk(l),h=u*Wk(l);i>=n?this.vertices.push(new Le(c,h)):this.vertices[i].set(c,h),this.vertices[i].command=i===0?de.move:de.line}}return super._update.call(this),this}flagReset(){return this._flagInnerRadius=this._flagOuterRadius=this._flagSides=!1,super.flagReset.call(this),this}clone(e){const t=this.innerRadius,n=this.outerRadius,i=this.sides,o=new _s(0,0,t,n,i);o.translation.copy(this.translation),o.rotation=this.rotation,o.scale=this.scale,o.skewX=this.skewX,o.skewY=this.skewY,this.matrix.manual&&o.matrix.copy(this.matrix);for(let l=0;l<Ie.Properties.length;l++){const u=Ie.Properties[l];o[u]=this[u]}return e&&e.add(o),o}toObject(){const e=super.toObject.call(this);e.renderer.type="star";for(let t=0;t<_s.Properties.length;t++){const n=_s.Properties[t];e[n]=this[n]}return e}},hc=_s;T(hc,"Properties",["innerRadius","outerRadius","sides"]);var ky={innerRadius:{enumerable:!0,get:function(){return this._innerRadius},set:function(e){this._innerRadius=e,this._flagInnerRadius=!0}},outerRadius:{enumerable:!0,get:function(){return this._outerRadius},set:function(e){this._outerRadius=e,this._flagOuterRadius=!0}},sides:{enumerable:!0,get:function(){return this._sides},set:function(e){this._sides=e,this._flagSides=!0}}},Gh,by=Math.min,Sy=Math.max;at.document&&(Gh=document.createElement("canvas"));var In=class extends Lr{constructor(e,t,n,i){super(),T(this,"_flagValue",!0),T(this,"_flagFamily",!0),T(this,"_flagSize",!0),T(this,"_flagLeading",!0),T(this,"_flagAlignment",!0),T(this,"_flagBaseline",!0),T(this,"_flagStyle",!0),T(this,"_flagWeight",!0),T(this,"_flagDecoration",!0),T(this,"_flagFill",!0),T(this,"_flagStroke",!0),T(this,"_flagLinewidth",!0),T(this,"_flagOpacity",!0),T(this,"_flagVisible",!0),T(this,"_flagMask",!1),T(this,"_flagClip",!1),T(this,"_flagDirection",!0),T(this,"_value",""),T(this,"_family","sans-serif"),T(this,"_size",13),T(this,"_leading",17),T(this,"_alignment","center"),T(this,"_baseline","middle"),T(this,"_style","normal"),T(this,"_weight",500),T(this,"_decoration","none"),T(this,"_direction","ltr"),T(this,"_fill","#000"),T(this,"_stroke","none"),T(this,"_linewidth",1),T(this,"_opacity",1),T(this,"_visible",!0),T(this,"_mask",null),T(this,"_clip",!1),T(this,"_dashes",null);for(let o in Ey)Object.defineProperty(this,o,Ey[o]);if(this._renderer.type="text",this._renderer.flagFill=Yk.bind(this),this._renderer.flagStroke=Xk.bind(this),this.value=e,typeof t=="number"&&(this.translation.x=t),typeof n=="number"&&(this.translation.y=n),this.dashes=[],this.dashes.offset=0,!be.isObject(i))return this;for(let o=0;o<In.Properties.length;o++){const l=In.Properties[o];l in i&&(this[l]=i[l])}}static Measure(e){if(Gh){const t=Gh.getContext("2d");t.font=[e._style,e._weight,`${e._size}px/${e._leading}px`,e._family].join(" ");const n=t.measureText(e.value,0,0),i=n.actualBoundingBoxDescent+n.actualBoundingBoxAscent;return{width:n.width,height:i}}else{const t=this.value.length*this.size*In.Ratio,n=this.leading;return console.warn("Two.Text: unable to accurately measure text, so using an approximation."),{width:t,height:n}}}static fromObject(e){const t=typeof e.fill=="string"?e.fill:Ms(e.fill),n=typeof e.stroke=="string"?e.stroke:Ms(e.stroke),i=new In().copy(Td(Rd({},e),{fill:t,stroke:n}));return"id"in e&&(i.id=e.id),i}copy(e){super.copy.call(this,e);for(let t=0;t<In.Properties.length;t++){const n=In.Properties[t];n in e&&(this[n]=e[n])}return this}clone(e){const t=new In(this.value);t.translation.copy(this.translation),t.rotation=this.rotation,t.scale=this.scale;for(let n=0;n<In.Properties.length;n++){const i=In.Properties[n];t[i]=this[i]}return this.matrix.manual&&t.matrix.copy(this.matrix),e&&e.add(t),t._update()}toObject(){const e=super.toObject.call(this);e.renderer.type="text";for(let t=0;t<In.Properties.length;t++){const n=In.Properties[t];e[n]=this[n]}return e}noFill(){return this.fill="none",this}noStroke(){return this.stroke="none",this.linewidth=0,this}getBoundingClientRect(e){let t,n,i,o,l;this._update(!0),t=e?this.matrix:this.worldMatrix;const{width:u,height:c}=In.Measure(this),h=(this._linewidth||0)/2;switch(this.alignment){case"left":n=-h,i=u+h;break;case"right":n=-(u+h),i=h;break;default:n=-(u/2+h),i=u/2+h}switch(this.baseline){case"middle":o=-(c/2+h),l=c/2+h;break;default:o=-(c+h),l=h}const[d,g]=t.multiply(n,o),[m,v]=t.multiply(n,l),[_,w]=t.multiply(i,o),[k,S]=t.multiply(i,l);return o=by(g,v,w,S),n=by(d,m,_,k),i=Sy(d,m,_,k),l=Sy(g,v,w,S),{top:o,left:n,right:i,bottom:l,width:i-n,height:l-o}}flagReset(){return super.flagReset.call(this),this._flagValue=this._flagFamily=this._flagSize=this._flagLeading=this._flagAlignment=this._flagFill=this._flagStroke=this._flagLinewidth=this._flagOpacity=this._flagVisible=this._flagClip=this._flagDecoration=this._flagClassName=this._flagBaseline=this._flagWeight=this._flagStyle=this._flagDirection=!1,this}},tr=In;T(tr,"Ratio",.6);T(tr,"Properties",["value","family","size","leading","alignment","linewidth","style","weight","decoration","direction","baseline","opacity","visible","fill","stroke","dashes"]);var Ey={value:{enumerable:!0,get:function(){return this._value},set:function(e){this._value=e,this._flagValue=!0}},family:{enumerable:!0,get:function(){return this._family},set:function(e){this._family=e,this._flagFamily=!0}},size:{enumerable:!0,get:function(){return this._size},set:function(e){this._size=e,this._flagSize=!0}},leading:{enumerable:!0,get:function(){return this._leading},set:function(e){this._leading=e,this._flagLeading=!0}},alignment:{enumerable:!0,get:function(){return this._alignment},set:function(e){this._alignment=e,this._flagAlignment=!0}},linewidth:{enumerable:!0,get:function(){return this._linewidth},set:function(e){this._linewidth=e,this._flagLinewidth=!0}},style:{enumerable:!0,get:function(){return this._style},set:function(e){this._style=e,this._flagStyle=!0}},weight:{enumerable:!0,get:function(){return this._weight},set:function(e){this._weight=e,this._flagWeight=!0}},decoration:{enumerable:!0,get:function(){return this._decoration},set:function(e){this._decoration=e,this._flagDecoration=!0}},direction:{enumerable:!0,get:function(){return this._direction},set:function(e){this._direction=e,this._flagDirection=!0}},baseline:{enumerable:!0,get:function(){return this._baseline},set:function(e){this._baseline=e,this._flagBaseline=!0}},opacity:{enumerable:!0,get:function(){return this._opacity},set:function(e){this._opacity=e,this._flagOpacity=!0}},visible:{enumerable:!0,get:function(){return this._visible},set:function(e){this._visible=e,this._flagVisible=!0}},fill:{enumerable:!0,get:function(){return this._fill},set:function(e){(this._fill instanceof yt||this._fill instanceof Ze||this._fill instanceof Je||this._fill instanceof De)&&this._fill.unbind(J.Types.change,this._renderer.flagFill),this._fill=e,this._flagFill=!0,(this._fill instanceof yt||this._fill instanceof Ze||this._fill instanceof Je||this._fill instanceof De)&&this._fill.bind(J.Types.change,this._renderer.flagFill)}},stroke:{enumerable:!0,get:function(){return this._stroke},set:function(e){(this._stroke instanceof yt||this._stroke instanceof Ze||this._stroke instanceof Je||this._stroke instanceof De)&&this._stroke.unbind(J.Types.change,this._renderer.flagStroke),this._stroke=e,this._flagStroke=!0,(this._stroke instanceof yt||this._stroke instanceof Ze||this._stroke instanceof Je||this._stroke instanceof De)&&this._stroke.bind(J.Types.change,this._renderer.flagStroke)}},mask:{enumerable:!0,get:function(){return this._mask},set:function(e){this._mask=e,this._flagMask=!0,be.isObject(e)&&!e.clip&&(e.clip=!0)}},clip:{enumerable:!0,get:function(){return this._clip},set:function(e){this._clip=e,this._flagClip=!0}},dashes:{enumerable:!0,get:function(){return this._dashes},set:function(e){typeof e.offset!="number"&&(e.offset=this.dashes&&this._dashes.offset||0),this._dashes=e}}};function Yk(){this._flagFill=!0}function Xk(){this._flagStroke=!0}var yu=Math.min,_u=Math.max,wo=class extends Lr{constructor(e){super(),T(this,"_flagAdditions",!1),T(this,"_flagSubtractions",!1),T(this,"_flagOrder",!1),T(this,"_flagOpacity",!0),T(this,"_flagBeginning",!1),T(this,"_flagEnding",!1),T(this,"_flagLength",!1),T(this,"_flagMask",!1),T(this,"_fill","#fff"),T(this,"_stroke","#000"),T(this,"_linewidth",1),T(this,"_opacity",1),T(this,"_visible",!0),T(this,"_cap","round"),T(this,"_join","round"),T(this,"_miter",4),T(this,"_closed",!0),T(this,"_curved",!1),T(this,"_automatic",!0),T(this,"_beginning",0),T(this,"_ending",1),T(this,"_length",0),T(this,"_mask",null);for(let t in Cy)Object.defineProperty(this,t,Cy[t]);this._renderer.type="group",this.additions=[],this.subtractions=[],this.children=Array.isArray(e)?e:Array.prototype.slice.call(arguments)}static InsertChildren(e){for(let t=0;t<e.length;t++)Ry.call(this,e[t],this)}static RemoveChildren(e){for(let t=0;t<e.length;t++)Ry.call(this,e[t])}static OrderChildren(e){this._flagOrder=!0}static fromObject(e){const t=new wo;for(let i=0;i<wo.Properties.length;i++){const o=wo.Properties[i];o in e&&(/(fill|stroke)/i.test(o)?t[o]=typeof e[o]=="string"?e[o]:Ms(e[o]):t[o]=e[o])}return"mask"in e&&(t.mask=n(e.mask)),"id"in e&&(t.id=e.id),t.children=e.children.map(n),t;function n(i){if(i&&i.renderer)switch(i.renderer.type){case"arc-segment":return uc.fromObject(i);case"circle":return Kl.fromObject(i);case"ellipse":return ql.fromObject(i);case"points":return cc.fromObject(i);case"polygon":return fc.fromObject(i);case"rectangle":return Xi.fromObject(i);case"rounded-rectangle":return Gl.fromObject(i);case"star":return hc.fromObject(i);case"path":return Ie.fromObject(i);case"text":return tr.fromObject(i);case"group":return wo.fromObject(i);case"shape":return Lr.fromObject(i);case"element":return Lo.fromObject(i)}return i}}copy(e){return super.copy.call(this,e),console.warn("Two.Group.copy is not supported yet."),this}clone(e){const t=new wo,n=this.children.map(function(i){return i.clone()});return t.add(n),t.opacity=this.opacity,this.mask&&(t.mask=this.mask),t.translation.copy(this.translation),t.rotation=this.rotation,t.scale=this.scale,t.className=this.className,this.matrix.manual&&t.matrix.copy(this.matrix),e&&e.add(t),t._update()}toObject(){const e=super.toObject.call(this);return e.renderer.type="group",e.children=[],e.opacity=this.opacity,e.className=this.className,e.mask=this.mask?this.mask.toObject():null,be.each(this.children,(t,n)=>{e.children[n]=t.toObject()},this),e}corner(){const e=this.getBoundingClientRect(!0);for(let t=0;t<this.children.length;t++){const n=this.children[t];n.translation.x-=e.left,n.translation.y-=e.top}return this.mask&&(this.mask.translation.x-=e.left,this.mask.translation.y-=e.top),this}center(){const e=this.getBoundingClientRect(!0),t=e.left+e.width/2-this.translation.x,n=e.top+e.height/2-this.translation.y;for(let i=0;i<this.children.length;i++){const o=this.children[i];o.isShape&&(o.translation.x-=t,o.translation.y-=n)}return this.mask&&(this.mask.translation.x-=t,this.mask.translation.y-=n),this}getById(e){let t=null;function n(i){if(i.id===e)return i;if(i.children){for(let o=0;o<i.children.length;o++)if(t=n(i.children[o]),t)return t}return null}return n(this)}getByClassName(e){const t=[];function n(i){if(Array.prototype.indexOf.call(i.classList,e)>=0&&t.push(i),i.children)for(let o=0;o<i.children.length;o++){const l=i.children[o];n(l)}return t}return n(this)}getByType(e){const t=[];function n(i){if(i instanceof e&&t.push(i),i.children)for(let o=0;o<i.children.length;o++){const l=i.children[o];n(l)}return t}return n(this)}add(e){e instanceof Array?e=e.slice():e=Array.prototype.slice.call(arguments);for(let t=0;t<e.length;t++){const n=e[t];if(!(n&&n.id))continue;const i=Array.prototype.indexOf.call(this.children,n);i>=0&&this.children.splice(i,1),this.children.push(n)}return this}remove(e){const t=arguments.length,n=this.parent;if(t<=0&&n)return n.remove(this),this;e instanceof Array?e=e.slice():e=Array.prototype.slice.call(arguments);for(let i=0;i<e.length;i++){const o=e[i];if(!o||!this.children.ids[o.id])continue;const l=this.children.indexOf(o);l>=0&&this.children.splice(l,1)}return this}getBoundingClientRect(e){let t,n,i,o,l,u;this._update(!0);let c=1/0,h=-1/0,d=1/0,g=-1/0;const m=/texture|gradient/i;n=e?this.matrix:this.worldMatrix;for(let v=0;v<this.children.length;v++){const _=this.children[v];if(!(!_.visible||m.test(_._renderer.type))&&(t=_.getBoundingClientRect(e),i=typeof t.top!="number"||be.isNaN(t.top)||!isFinite(t.top),o=typeof t.left!="number"||be.isNaN(t.left)||!isFinite(t.left),l=typeof t.right!="number"||be.isNaN(t.right)||!isFinite(t.right),u=typeof t.bottom!="number"||be.isNaN(t.bottom)||!isFinite(t.bottom),!(i||o||l||u)))if(e){const[w,k]=n.multiply(t.left,t.top),[S,b]=n.multiply(t.right,t.top),[x,R]=n.multiply(t.left,t.bottom),[M,P]=n.multiply(t.right,t.bottom);d=yu(k,b,R,P),c=yu(w,S,x,M),h=_u(w,S,x,M),g=_u(k,b,R,P)}else d=yu(t.top,d),c=yu(t.left,c),h=_u(t.right,h),g=_u(t.bottom,g)}return{top:d,left:c,right:h,bottom:g,width:h-c,height:g-d}}noFill(){return this.children.forEach(function(e){e.noFill()}),this}noStroke(){return this.children.forEach(function(e){e.noStroke()}),this}subdivide(){const e=arguments;return this.children.forEach(function(t){t.subdivide.apply(t,e)}),this}_update(){let e,t,n;if(this._flagBeginning||this._flagEnding){const i=Math.min(this._beginning,this._ending),o=Math.max(this._beginning,this._ending),l=this.length;let u=0;const c=i*l,h=o*l;for(e=0;e<this.children.length;e++)n=this.children[e],t=n.length,c>u+t?(n.beginning=1,n.ending=1):h<u?(n.beginning=0,n.ending=0):c>u&&c<u+t?(n.beginning=(c-u)/t,n.ending=1):h>u&&h<u+t?(n.beginning=0,n.ending=(h-u)/t):(n.beginning=0,n.ending=1),u+=t}return super._update.apply(this,arguments)}flagReset(){return this._flagAdditions&&(this.additions.length=0,this._flagAdditions=!1),this._flagSubtractions&&(this.subtractions.length=0,this._flagSubtractions=!1),this._flagOrder=this._flagMask=this._flagOpacity=this._flagBeginning=this._flagEnding=!1,super.flagReset.call(this),this}},xt=wo;T(xt,"Children",av);T(xt,"Properties",["fill","stroke","linewidth","cap","join","miter","closed","curved","automatic"]);var Cy={visible:{enumerable:!0,get:function(){return this._visible},set:function(e){this._flagVisible=this._visible!==e||this._flagVisible,this._visible=e}},opacity:{enumerable:!0,get:function(){return this._opacity},set:function(e){this._flagOpacity=this._opacity!==e||this._flagOpacity,this._opacity=e}},beginning:{enumerable:!0,get:function(){return this._beginning},set:function(e){this._flagBeginning=this._beginning!==e||this._flagBeginning,this._beginning=e}},ending:{enumerable:!0,get:function(){return this._ending},set:function(e){this._flagEnding=this._ending!==e||this._flagEnding,this._ending=e}},length:{enumerable:!0,get:function(){if(this._flagLength||this._length<=0){if(this._length=0,!this.children)return this._length;for(let e=0;e<this.children.length;e++){const t=this.children[e];this._length+=t.length}}return this._length}},fill:{enumerable:!0,get:function(){return this._fill},set:function(e){this._fill=e;for(let t=0;t<this.children.length;t++){const n=this.children[t];n.fill=e}}},stroke:{enumerable:!0,get:function(){return this._stroke},set:function(e){this._stroke=e;for(let t=0;t<this.children.length;t++){const n=this.children[t];n.stroke=e}}},linewidth:{enumerable:!0,get:function(){return this._linewidth},set:function(e){this._linewidth=e;for(let t=0;t<this.children.length;t++){const n=this.children[t];n.linewidth=e}}},join:{enumerable:!0,get:function(){return this._join},set:function(e){this._join=e;for(let t=0;t<this.children.length;t++){const n=this.children[t];n.join=e}}},miter:{enumerable:!0,get:function(){return this._miter},set:function(e){this._miter=e;for(let t=0;t<this.children.length;t++){const n=this.children[t];n.miter=e}}},cap:{enumerable:!0,get:function(){return this._cap},set:function(e){this._cap=e;for(let t=0;t<this.children.length;t++){const n=this.children[t];n.cap=e}}},closed:{enumerable:!0,get:function(){return this._closed},set:function(e){this._closed=e;for(let t=0;t<this.children.length;t++){const n=this.children[t];n.closed=e}}},curved:{enumerable:!0,get:function(){return this._curved},set:function(e){this._curved=e;for(let t=0;t<this.children.length;t++){const n=this.children[t];n.curved=e}}},automatic:{enumerable:!0,get:function(){return this._automatic},set:function(e){this._automatic=e;for(let t=0;t<this.children.length;t++){const n=this.children[t];n.automatic=e}}},children:{enumerable:!0,get:function(){return this._children},set:function(e){const t=xt.InsertChildren.bind(this),n=xt.RemoveChildren.bind(this),i=xt.OrderChildren.bind(this);this._children&&(this._children.unbind(),this._children.length>0&&n(this._children)),this._children=new av(e),this._children.bind(J.Types.insert,t),this._children.bind(J.Types.remove,n),this._children.bind(J.Types.order,i),e.length>0&&t(e)}},mask:{enumerable:!0,get:function(){return this._mask},set:function(e){this._mask=e,this._flagMask=!0,be.isObject(e)&&!e.clip&&(e.clip=!0)}}};function Ry(e,t){const n=e.parent;let i;if(n===t){o();return}if(n&&n.children.ids[e.id]&&(i=Array.prototype.indexOf.call(n.children,e),n.children.splice(i,1),l()),t){o();return}l(),n._flagAdditions&&n.additions.length===0&&(n._flagAdditions=!1),n._flagSubtractions&&n.subtractions.length===0&&(n._flagSubtractions=!1),delete e.parent;function o(){t.subtractions.length>0&&(i=Array.prototype.indexOf.call(t.subtractions,e),i>=0&&t.subtractions.splice(i,1)),t.additions.length>0&&(i=Array.prototype.indexOf.call(t.additions,e),i>=0&&t.additions.splice(i,1)),e.parent=t,t.additions.push(e),t._flagAdditions=!0}function l(){i=Array.prototype.indexOf.call(n.additions,e),i>=0&&n.additions.splice(i,1),i=Array.prototype.indexOf.call(n.subtractions,e),i<0&&(n.subtractions.push(e),n._flagSubtractions=!0)}}var Ad=class extends Ie{constructor(e,t,n,i){const o=[new Le(e,t),new Le(n,i)];super(o);for(let l in Ty)Object.defineProperty(this,l,Ty[l]);this.vertices[0].command=de.move,this.vertices[1].command=de.line,this.automatic=!1}},Ty={left:{enumerable:!0,get:function(){return this.vertices[0]},set:function(e){if(be.isObject(e))this.vertices.splice(0,1,e);else{const t=new zn("Two.Line.x argument is not an object.");console.warn(t.name,t.message)}}},right:{enumerable:!0,get:function(){return this.vertices[1]},set:function(e){if(be.isObject(e))this.vertices.splice(1,1,e);else{const t=new zn("Two.Line.y argument is not an object.");console.warn(t.name,t.message)}}}},Mr={path:/[+-]?(?:\d*\.\d+|\d+)(?:[eE][+-]\d+)?/g,cssBackgroundImage:/url\(['"]?#([\w\d-_]*)['"]?\)/i,unitSuffix:/[a-zA-Z%]*/i},Kk={start:"left",middle:"center",end:"right"},My=["id","class","transform","xmlns","viewBox"],qk=["x","y","width","height","href","xlink:href"];function Gk(e){return Kk[e]}function Qk(e){const t=e.getAttribute("dominant-baseline"),n=e.getAttribute("alignment-baseline");return t||n}function $l(e){return e.replace(/svg:/gi,"").toLowerCase()}function Py(e,t){if(t.x+=e.translateX,t.y+=e.translateY,t.x*=e.scaleX,t.y*=e.scaleY,e.rotation!==0){const n=t.length();t.x=n*Math.cos(e.rotation),t.y=n*Math.sin(e.rotation)}}function Zk(e,t){t||(t={});const n=e.split(";");for(let i=0;i<n.length;i++){const o=n[i].split(":"),l=o[0],u=o[1];typeof l>"u"||typeof u>"u"||(t[l]=u.replace(/\s/,""))}return t}function Jk(e){const t={},n=eb(e),i=Math.max(n.length,e.style.length);for(let o=0;o<i;o++){const l=e.style[o],u=n[o];l&&(t[l]=e.style[l]),u&&(t[u]=e.getAttribute(u))}return t}function eb(e){const t=e.getAttributeNames();for(let n=0;n<My.length;n++){const i=My[n],o=Array.prototype.indexOf.call(t,i);o>=0&&t.splice(o,1)}return t}function tb(e,t){const n=t.split(/[\s,]/),i=-parseFloat(n[0]),o=-parseFloat(n[1]),l=parseFloat(n[2]),u=parseFloat(n[3]);if(i&&o)for(let m=0;m<e.children.length;m++){const v=e.children[m];"translation"in v?v.translation.add(i,o):"x"in v?v.x=i:"y"in v&&(v.y=o)}const c=typeof e.x=="number",h=typeof e.y=="number",d=typeof e.width=="number",g=typeof e.height=="number";return c&&(e.translation.x+=e.x),h&&(e.translation.y+=e.y),(d||g)&&(e.scale=new ce(1,1)),d&&(e.scale.x=e.width/l),g&&(e.scale.y=e.height/u),e.mask=new Xi(0,0,l,u),e.mask.origin.set(-l/2,-u/2),e}function Jn(e,t,n){const i={},o={},l={};let u,c,h,d,g,m,v,_,w,k,S,b,x,R,M,P,I;if(e===null)return i;if(at.getComputedStyle){const j=at.getComputedStyle(e);for(u=j.length;u--;)h=j[u],d=j[h],typeof d<"u"&&(i[h]=d)}for(u=0;u<e.attributes.length;u++)m=e.attributes[u],/style/i.test(m.nodeName)?Zk(m.value,l):o[m.nodeName]=m.value;typeof i.opacity<"u"&&(i["stroke-opacity"]=i.opacity,i["fill-opacity"]=i.opacity,delete i.opacity),n&&be.defaults(i,n),be.extend(i,l,o),i.visible=!(typeof i.display>"u"&&/none/i.test(i.display))||typeof i.visibility>"u"&&/hidden/i.test(i.visibility);for(h in i)switch(d=i[h],h){case"gradientTransform":if(/none/i.test(d)||(c=e.gradientTransform&&e.gradientTransform.baseVal&&e.gradientTransform.baseVal.length>0?e.gradientTransform.baseVal[0].matrix:e.getCTM?e.getCTM():null,c===null))break;switch(v=Mo(c),t._renderer.type){case"linear-gradient":Py(v,t.left),Py(v,t.right);break;case"radial-gradient":t.center.x+=v.translateX,t.center.y+=v.translateY,t.focal.x+=v.translateX,t.focal.y+=v.translateY,t.radius*=Math.max(v.scaleX,v.scaleY);break}break;case"transform":if(/none/i.test(d)||(c=e.transform&&e.transform.baseVal&&e.transform.baseVal.length>0?e.transform.baseVal[0].matrix:e.getCTM?e.getCTM():null,c===null))break;v=Mo(c),t.translation.set(v.translateX,v.translateY),t.rotation=Math.PI*(v.rotation/180),t.scale=new ce(v.scaleX,v.scaleY),_=parseFloat((i.x+"").replace("px")),w=parseFloat((i.y+"").replace("px")),_&&(t.translation.x=_),w&&(t.translation.y=w);break;case"visible":if(t instanceof xt){t._visible=d;break}t.visible=d;break;case"stroke-linecap":if(t instanceof xt){t._cap=d;break}t.cap=d;break;case"stroke-linejoin":if(t instanceof xt){t._join=d;break}t.join=d;break;case"stroke-miterlimit":if(t instanceof xt){t._miter=d;break}t.miter=d;break;case"stroke-width":if(t instanceof xt){t._linewidth=parseFloat(d);break}t.linewidth=parseFloat(d);break;case"opacity":case"stroke-opacity":case"fill-opacity":if(t instanceof xt){t._opacity=parseFloat(d);break}t.opacity=parseFloat(d);break;case"clip-path":if(Mr.cssBackgroundImage.test(d)&&(k=d.replace(Mr.cssBackgroundImage,"$1"),nt.defs.current&&nt.defs.current.contains(k)&&(b=nt.defs.current.get(k),b&&b.childNodes.length>0)))switch(b=b.childNodes[0],x=$l(b.nodeName),t.mask=nt[x].call(this,b,{}),t._renderer.type){case"text":case"path":t.position.add(t.mask.position),t.mask.position.clear();break}break;case"fill":case"stroke":g=(t instanceof xt?"_":"")+h,Mr.cssBackgroundImage.test(d)?(k=d.replace(Mr.cssBackgroundImage,"$1"),nt.defs.current&&nt.defs.current.contains(k)?(b=nt.defs.current.get(k),b.object||(x=$l(b.nodeName),b.object=nt[x].call(this,b,{})),b=b.object):(S=rb(this),b=S.getById(k)),t[g]=b):t[g]=d;break;case"id":t.id=d;break;case"class":case"className":t.classList=d.split(" "),t._flagClassName=!0;break;case"x":case"y":if(R=t instanceof yt,M=t instanceof Ze,P=t instanceof Je,R||M||P)break;d.match("[a-z%]$")&&!d.endsWith("px")&&(I=new zn("only pixel values are supported with the "+h+" attribute."),console.warn(I.name,I.message)),t.translation[h]=parseFloat(d);break;case"font-family":t instanceof tr&&(t.family=d);break;case"font-size":t instanceof tr&&(t.size=d);break;case"font-weight":t instanceof tr&&(t.weight=d);break;case"font-style":t instanceof tr&&(t.style=d);break;case"text-decoration":t instanceof tr&&(t.decoration=d);break;case"line-height":t instanceof tr&&(t.leading=d);break}return Object.keys(e.dataset).length&&(t.dataset=e.dataset),i}function nb(e,t){for(let n=0,i=e.childNodes.length;n<i;n++){const o=e.childNodes[n];!o.id||$l(e.nodeName)==="#text"||t.add(o.id,o)}}function rb(e){for(;e.parent;)e=e.parent;return e.scene}var nt={svg:function(e){const t=nt.defs.current=new lc,n=e.getElementsByTagName("defs");for(let w=0;w<n.length;w++)nb(n[w],t);const i=nt.g.call(this,e),o=e.getAttribute("viewBox"),l=e.getAttribute("x"),u=e.getAttribute("y"),c=e.getAttribute("width"),h=e.getAttribute("height");i.defs=t;const d=o!==null,g=l!==null,m=u!==null,v=c!==null,_=h!==null;return g&&(i.x=parseFloat(l.replace(Mr.unitSuffix,""))),m&&(i.y=parseFloat(u.replace(Mr.unitSuffix,""))),v&&(i.width=parseFloat(c.replace(Mr.unitSuffix,""))),_&&(i.height=parseFloat(h.replace(Mr.unitSuffix,""))),d&&tb(i,o),delete nt.defs.current,i},defs:function(e){return null},use:function(e,t){let n;const i=e.getAttribute("href")||e.getAttribute("xlink:href");if(!i)return n=new zn("encountered <use /> with no href."),console.warn(n.name,n.message),null;const o=i.slice(1);if(!nt.defs.current.contains(o))return n=new zn("unable to find element for reference "+i+"."),console.warn(n.name,n.message),null;const u=nt.defs.current.get(o).cloneNode(!0);for(let h=0;h<e.attributes.length;h++){const d=e.attributes[h],g=qk.includes(d.nodeName),m=!u.hasAttribute(d.nodeName);(g||m)&&u.setAttribute(d.nodeName,d.value)}const c=$l(u.nodeName);return nt[c].call(this,u,t)},g:function(e,t){const n=new xt;Jn.call(this,e,n,t),this.add(n);const i=Jk.call(this,e);for(let o=0,l=e.childNodes.length;o<l;o++){const u=e.childNodes[o],c=u.nodeName;if(!c)return;const h=$l(c);if(h in nt){const d=nt[h].call(n,u,i);d&&!d.parent&&n.add(d)}}return n},polygon:function(e,t){let n;typeof e=="string"?n=e:n=e.getAttribute("points");const i=[];n.replace(/(-?[\d.eE-]+)[,|\s](-?[\d.eE-]+)/g,function(l,u,c){i.push(new Le(parseFloat(u),parseFloat(c)))});const o=new Ie(i,!0);return o.stroke="none",o.fill="black",Jn.call(this,e,o,t),o},polyline:function(e,t){const n=nt.polygon.call(this,e,t);return n.closed=!1,n},path:function(e,t){let n;typeof e=="string"?(n=e,e=null):n=e.getAttribute("d");let i=[],o=!1,l=!1;if(n){let c=new Le,h,d,g=n.match(/[a-df-z][^a-df-z]*/gi);const m=g.length-1;be.each(g.slice(0),function(v,_){const w=v.slice(1).trim().match(Mr.path),k=v[0],S=k.toLowerCase();let b,x,R,M,P;const I=[];switch(_===0&&(g=[]),S){case"h":case"v":w.length>1&&(b=1);break;case"m":case"l":case"t":w.length>2&&(b=2);break;case"s":case"q":w.length>4&&(b=4);break;case"c":w.length>6&&(b=6);break;case"a":w.length>7&&(b=7);break}if(b){for(x=0,R=w.length,P=0;x<R;x+=b){if(M=k,P>0)switch(k){case"m":M="l";break;case"M":M="L";break}I.push(M+w.slice(x,x+b).join(" ")),P++}g=Array.prototype.concat.apply(g,I)}else g.push(v)}),be.each(g,function(v,_){let w,k,S;const b=v[0],x=b.toLowerCase();d=v.slice(1).trim().match(Mr.path),l=b===x;let R,M,P,I,j,Y,z,H,X,K,ae,te,re,ue,Z,D,B;switch(x){case"z":if(_>=m)o=!0;else{k=c.x,S=c.y,w=new Le(k,S,void 0,void 0,void 0,void 0,de.close);for(let q=i.length-1;q>=0;q--){const L=i[q];if(/m/i.test(L.command)){c=L;break}}}break;case"m":case"l":h=void 0,k=parseFloat(d[0]),S=parseFloat(d[1]),w=new Le(k,S,void 0,void 0,void 0,void 0,/m/i.test(x)?de.move:de.line),l&&w.addSelf(c),c=w;break;case"h":case"v":K=/h/i.test(x)?"x":"y",ae=/x/i.test(K)?"y":"x",w=new Le(void 0,void 0,void 0,void 0,void 0,void 0,de.line),w[K]=parseFloat(d[0]),w[ae]=c[ae],l&&(w[K]+=c[K]),c=w;break;case"c":case"s":R=c.x,M=c.y,h||(h=new ce),/c/i.test(x)?(P=parseFloat(d[0]),I=parseFloat(d[1]),j=parseFloat(d[2]),Y=parseFloat(d[3]),z=parseFloat(d[4]),H=parseFloat(d[5])):(X=Kh(c,h,l),P=X.x,I=X.y,j=parseFloat(d[0]),Y=parseFloat(d[1]),z=parseFloat(d[2]),H=parseFloat(d[3])),l&&(P+=R,I+=M,j+=R,Y+=M,z+=R,H+=M),c.controls.right.set(P-c.x,I-c.y),w=new Le(z,H,j-z,Y-H,void 0,void 0,de.curve),c=w,h=w.controls.left;break;case"t":case"q":R=c.x,M=c.y,h||(h=new ce),/q/i.test(x)?(P=parseFloat(d[0]),I=parseFloat(d[1]),j=parseFloat(d[0]),Y=parseFloat(d[1]),z=parseFloat(d[2]),H=parseFloat(d[3])):(X=Kh(c,h,l),P=X.x,I=X.y,j=X.x,Y=X.y,z=parseFloat(d[0]),H=parseFloat(d[1])),l&&(P+=R,I+=M,j+=R,Y+=M,z+=R,H+=M),c.controls.right.set((P-c.x)*.33,(I-c.y)*.33),w=new Le(z,H,j-z,Y-H,void 0,void 0,de.curve),c=w,h=w.controls.left;break;case"a":R=c.x,M=c.y,re=parseFloat(d[0]),ue=parseFloat(d[1]),Z=parseFloat(d[2]),D=parseFloat(d[3]),B=parseFloat(d[4]),z=parseFloat(d[5]),H=parseFloat(d[6]),l&&(z+=R,H+=M),te=new Le(z,H),te.command=de.arc,te.rx=re,te.ry=ue,te.xAxisRotation=Z,te.largeArcFlag=D,te.sweepFlag=B,w=te,c=te,h=void 0;break}w&&(Array.isArray(w)?i=i.concat(w):i.push(w))})}n=new Ie(i,o,void 0,!0),n.stroke="none",n.fill="black";const u=n.getBoundingClientRect(!0);return u.centroid={x:u.left+u.width/2,y:u.top+u.height/2},be.each(n.vertices,function(c){c.subSelf(u.centroid)}),Jn.call(this,e,n,t),n.translation.addSelf(u.centroid),n},circle:function(e,t){const n=parseFloat(e.getAttribute("cx")),i=parseFloat(e.getAttribute("cy")),o=parseFloat(e.getAttribute("r")),l=new Kl(0,0,o);return l.stroke="none",l.fill="black",Jn.call(this,e,l,t),l.translation.x=n,l.translation.y=i,l},ellipse:function(e,t){const n=parseFloat(e.getAttribute("cx")),i=parseFloat(e.getAttribute("cy")),o=parseFloat(e.getAttribute("rx")),l=parseFloat(e.getAttribute("ry")),u=new ql(0,0,o,l);return u.stroke="none",u.fill="black",Jn.call(this,e,u,t),u.translation.x=n,u.translation.y=i,u},rect:function(e,t){const n=parseFloat(e.getAttribute("rx")),i=parseFloat(e.getAttribute("ry"));if(!be.isNaN(n)||!be.isNaN(i))return nt["rounded-rect"](e);const o=parseFloat(e.getAttribute("width")),l=parseFloat(e.getAttribute("height")),u=o/2,c=l/2,h=new Xi(0,0,o,l);return h.stroke="none",h.fill="black",Jn.call(this,e,h,t),h.translation.x+=u,h.translation.y+=c,h},"rounded-rect":function(e,t){const n=parseFloat(e.getAttribute("rx"))||0,i=parseFloat(e.getAttribute("ry"))||0,o=parseFloat(e.getAttribute("width")),l=parseFloat(e.getAttribute("height")),u=o/2,c=l/2,h=new ce(n,i),d=new Gl(0,0,o,l,h);return d.stroke="none",d.fill="black",Jn.call(this,e,d,t),d.translation.x+=u,d.translation.y+=c,d},line:function(e,t){const n=parseFloat(e.getAttribute("x1")),i=parseFloat(e.getAttribute("y1")),o=parseFloat(e.getAttribute("x2")),l=parseFloat(e.getAttribute("y2")),u=new Ad(n,i,o,l).noFill();return Jn.call(this,e,u,t),u},lineargradient:function(e,t){let n=e.getAttribute("gradientUnits"),i=e.getAttribute("spreadMethod");n||(n="objectBoundingBox"),i||(i="pad");let o=parseFloat(e.getAttribute("x1")||0),l=parseFloat(e.getAttribute("y1")||0),u=parseFloat(e.getAttribute("x2")||0),c=parseFloat(e.getAttribute("y2")||0);const h=(u+o)/2,d=(c+l)/2;/userSpaceOnUse/i.test(n)&&(o-=h,l-=d,u-=h,c-=d);const g=[];for(let v=0;v<e.children.length;v++){const _=e.children[v];let w=_.getAttribute("offset");/%/gi.test(w)&&(w=parseFloat(w.replace(/%/gi,""))/100),w=parseFloat(w);let k=_.getAttribute("stop-color"),S=_.getAttribute("stop-opacity"),b=_.getAttribute("style"),x;k===null&&(x=b?b.match(/stop-color:\s?([#a-fA-F0-9]*)/):!1,k=x&&x.length>1?x[1]:void 0),S===null?(x=b?b.match(/stop-opacity:\s?([0-9.-]*)/):!1,S=x&&x.length>1?parseFloat(x[1]):1):S=parseFloat(S),g.push(new Fr(w,k,S))}const m=new Ze(o,l,u,c,g);return m.spread=i,m.units=n,Jn.call(this,e,m,t),m},radialgradient:function(e,t){let n=e.getAttribute("gradientUnits"),i=e.getAttribute("spreadMethod");n||(n="objectBoundingBox"),i||(i="pad");let o=parseFloat(e.getAttribute("cx"))||0,l=parseFloat(e.getAttribute("cy"))||0,u=parseFloat(e.getAttribute("r")),c=parseFloat(e.getAttribute("fx")),h=parseFloat(e.getAttribute("fy"));be.isNaN(c)&&(c=o),be.isNaN(h)&&(h=l);const d=Math.abs(o+c)/2,g=Math.abs(l+h)/2;/userSpaceOnUse/i.test(n)&&(o-=d,l-=g,c-=d,h-=g);const m=[];for(let _=0;_<e.children.length;_++){const w=e.children[_];let k=w.getAttribute("offset");/%/gi.test(k)&&(k=parseFloat(k.replace(/%/gi,""))/100),k=parseFloat(k);let S=w.getAttribute("stop-color"),b=w.getAttribute("stop-opacity"),x=w.getAttribute("style"),R;S===null&&(R=x?x.match(/stop-color:\s?([#a-fA-F0-9]*)/):!1,S=R&&R.length>1?R[1]:void 0),b===null?(R=x?x.match(/stop-opacity:\s?([0-9.-]*)/):!1,b=R&&R.length>1?parseFloat(R[1]):1):b=parseFloat(b),m.push(new Fr(k,S,b))}const v=new Je(o,l,u,m,c,h);return v.spread=i,v.units=n,Jn.call(this,e,v,t),v},text:function(e,t){const n=Gk(e.getAttribute("text-anchor"))||"left",i=Qk(e)||"baseline",o=e.textContent,l=new tr(o);return Jn.call(this,e,l,t),l.alignment=n,l.baseline=i,l},clippath:function(e,t){return nt.defs.current&&!nt.defs.current.contains(e.id)&&nt.defs.current.add(e.id,e),null},image:function(e,t){let n;const i=e.getAttribute("href")||e.getAttribute("xlink:href");if(!i)return n=new zn("encountered <image /> with no href."),console.warn(n.name,n.message),null;const o=parseFloat(e.getAttribute("x"))||0,l=parseFloat(e.getAttribute("y"))||0,u=parseFloat(e.getAttribute("width")),c=parseFloat(e.getAttribute("height")),h=new ac(i,o,l);return be.isNaN(u)||(h.width=u),be.isNaN(c)||(h.height=c),Jn.call(this,e,h,t),h}};function uv(e,t){const n=new XMLHttpRequest;return n.open("GET",e),n.onreadystatechange=function(){n.readyState===4&&n.status===200&&t(n.responseText)},n.send(),n}var ko=class extends Xi{constructor(e,t,n,i){super(t,n,0,0),T(this,"_flagTextures",!1),T(this,"_flagFrameRate",!1),T(this,"_flagIndex",!1),T(this,"_amount",1),T(this,"_duration",0),T(this,"_index",0),T(this,"_startTime",0),T(this,"_playing",!1),T(this,"_firstFrame",0),T(this,"_lastFrame",0),T(this,"_loop",!0),T(this,"_textures",null),T(this,"_frameRate",0),T(this,"_origin",null);for(let o in Ay)Object.defineProperty(this,o,Ay[o]);this._renderer.flagTextures=ib.bind(this),this._renderer.bindTextures=sb.bind(this),this._renderer.unbindTextures=ob.bind(this),this.noStroke(),this.noFill(),Array.isArray(e)?this.textures=e.map(Oy.bind(this)):this.textures=[Oy(e)],this.origin=new ce,this._update(),typeof i=="number"?this.frameRate=i:this.frameRate=ko.DefaultFrameRate,this.index=0}static fromObject(e){const t=new ko().copy(e);return"id"in e&&(t.id=e.id),t}copy(e){super.copy.call(this,e);for(let t=0;t<ko.Properties.length;t++){const n=ko.Properties[t];n in e&&(this[n]=e[n])}return this}play(e,t,n){return this._playing=!0,this._firstFrame=0,this._lastFrame=this.amount-1,this._startTime=be.performance.now(),typeof e=="number"&&(this._firstFrame=e),typeof t=="number"&&(this._lastFrame=t),typeof n=="function"?this._onLastFrame=n:delete this._onLastFrame,this._index!==this._firstFrame&&(this._startTime-=1e3*Math.abs(this._index-this._firstFrame)/this._frameRate),this}pause(){return this._playing=!1,this}stop(){return this._playing=!1,this._index=this._firstFrame,this}clone(e){const t=new ko(this.textures,this.translation.x,this.translation.y,this.frameRate);return t._loop=this._loop,this._playing&&t.play(),e&&e.add(t),t}toObject(){const e=super.toObject.call(this);return e.textures=this.textures.map(function(t){return t.toObject()}),e.frameRate=this.frameRate,e.index=this.index,e.firstFrame=this.firstFrame,e.lastFrame=this.lastFrame,e.loop=this.loop,e}_update(){const e=this._textures;let t,n,i,o,l,u,c,h;return e&&(this._flagTextures&&(this._amount=e.length),this._flagFrameRate&&(this._duration=1e3*this._amount/this._frameRate),this._playing&&this._frameRate>0?(o=this._amount,be.isNaN(this._lastFrame)&&(this._lastFrame=o-1),i=be.performance.now()-this._startTime,h=this._lastFrame+1,l=1e3*(h-this._firstFrame)/this._frameRate,this._loop?i=i%l:i=Math.min(i,l),c=Nn(this._firstFrame,h,i/l),c=Math.floor(c),c!==this._index&&(this._index=c,u=e[this._index],u.loaded&&(t=u.image.width,n=u.image.height,this.width!==t&&(this.width=t),this.height!==n&&(this.height=n),this.fill=u,c>=this._lastFrame-1&&this._onLastFrame&&this._onLastFrame()))):(this._flagIndex||!(this.fill instanceof De))&&(u=e[this._index],u.loaded&&(t=u.image.width,n=u.image.height,this.width!==t&&(this.width=t),this.height!==n&&(this.height=n)),this.fill=u)),super._update.call(this),this}flagReset(){return this._flagTextures=this._flagFrameRate=!1,super.flagReset.call(this),this}},dc=ko;T(dc,"Properties",["textures","frameRate","index","firstFrame","lastFrame","loop"]);T(dc,"DefaultFrameRate",30);var Ay={frameRate:{enumerable:!0,get:function(){return this._frameRate},set:function(e){this._frameRate=e,this._flagFrameRate=!0}},index:{enumerable:!0,get:function(){return this._index},set:function(e){this._index=e,this._flagIndex=!0}},textures:{enumerable:!0,get:function(){return this._textures},set:function(e){const t=this._renderer.bindTextures,n=this._renderer.unbindTextures;this._textures&&this._textures.unbind(J.Types.insert,t).unbind(J.Types.remove,n),this._textures=new Vi((e||[]).slice(0)),this._textures.bind(J.Types.insert,t).bind(J.Types.remove,n),t(this._textures)}},firstFrame:{enumerable:!0,get:function(){return this._firstFrame},set:function(e){this._firstFrame=e}},lastFrame:{enumerable:!0,get:function(){return this._lastFrame},set:function(e){this._lastFrame=e}},loop:{enumerable:!0,get:function(){return this._loop},set:function(e){this._loop=!!e}}};function ib(){this._flagTextures=!0}function sb(e){let t=e.length;for(;t--;)e[t].bind(J.Types.change,this._renderer.flagTextures);this._renderer.flagTextures()}function ob(e){let t=e.length;for(;t--;)e[t].unbind(J.Types.change,this._renderer.flagTextures);this._renderer.flagTextures()}function Oy(e){if(e instanceof De)return e;if(typeof e=="string")return new De(e)}var bh=[],Qh=Math.max,lb=Math.min,Ly=Math.abs,vu=Math.sin,xu=Math.cos,ab=Math.acos,Wu=Math.sqrt,Ne={isHidden:/(undefined|none|transparent)/i,alignments:{left:"start",middle:"center",right:"end"},baselines:{top:"top",middle:"middle",bottom:"bottom",baseline:"alphabetic"},getRendererType:function(e){return e in Ne?e:"path"},group:{renderChild:function(e){const t=Ne.getRendererType(e._renderer.type);Ne[t].render.call(e,this.ctx,!0,this.clip)},render:function(e){if(!this._visible)return this;this._update();const t=this._matrix.elements,n=this.parent;this._renderer.opacity=this._opacity*(n&&n._renderer?n._renderer.opacity:1);const i=this._mask,o=wu(t),l=!o||!!i;if(this._renderer.context||(this._renderer.context={}),this._renderer.context.ctx=e,l&&(e.save(),o||e.transform(t[0],t[3],t[1],t[4],t[2],t[5])),i){const u=Ne.getRendererType(i._renderer.type);Ne[u].render.call(i,e,!0)}if(this._opacity>0&&this._scale!==0)for(let u=0;u<this.children.length;u++){const c=this.children[u],h=Ne.getRendererType(c._renderer.type);Ne[h].render.call(c,e)}return l&&e.restore(),this.flagReset()}},path:{render:function(e,t,n){let i,o,l,u,c,h,d,g,m,v,_,w,k,S,b,x,R,M,P,I,j,Y,z,H,X,K,ae,te,re,ue,Z,D,B,q;if(q=this.parent&&this.parent._renderer?this.parent._renderer.opacity:1,re=this._mask,ue=this._clip,c=this._opacity*(q||1),h=this._visible,!t&&(!h||ue||c===0))return this;if(this._update(),i=this._matrix.elements,o=this._stroke,l=this._linewidth,u=this._fill,d=this._cap,g=this._join,m=this._miter,v=this._closed,_=this._renderer.vertices,w=_.length,k=w-1,Z=wu(i),B=this.dashes,Z||(e.save(),e.transform(i[0],i[3],i[1],i[4],i[2],i[5])),re){const ee=Ne.getRendererType(re._renderer.type);Ne[ee].render.call(re,e,!0)}if(u)if(typeof u=="string")e.fillStyle=u;else{const ee=Ne.getRendererType(u._renderer.type);Ne[ee].render.call(u,e,this),e.fillStyle=u._renderer.effect}if(o){if(typeof o=="string")e.strokeStyle=o;else{const ee=Ne.getRendererType(o._renderer.type);Ne[ee].render.call(o,e,this),e.strokeStyle=o._renderer.effect}l&&(e.lineWidth=l),m&&(e.miterLimit=m),g&&(e.lineJoin=g),!v&&d&&(e.lineCap=d)}typeof c=="number"&&(e.globalAlpha=c),B&&B.length>0&&(e.lineDashOffset=B.offset||0,e.setLineDash(B)),e.beginPath();let L,W,xe,fe,oe,Q,se;for(let ee=0;ee<w;ee++)switch(x=_[ee],ae=x.x,te=x.y,x.command){case de.close:e.closePath();break;case de.arc:L=x.rx,W=x.ry,xe=x.xAxisRotation,fe=x.largeArcFlag,oe=x.sweepFlag,S=v?Bn(ee-1,w):Qh(ee-1,0),b=_[S],Q=b.x,se=b.y,Ne.renderSvgArcCommand(e,Q,se,L,W,fe,oe,xe,ae,te);break;case de.curve:S=v?Bn(ee-1,w):Math.max(ee-1,0),b=_[S],z=b.controls&&b.controls.right||ce.zero,H=x.controls&&x.controls.left||ce.zero,b._relative?(j=z.x+b.x,Y=z.y+b.y):(j=z.x,Y=z.y),x._relative?(P=H.x+x.x,I=H.y+x.y):(P=H.x,I=H.y),e.bezierCurveTo(j,Y,P,I,ae,te),ee>=k&&v&&(R=M,X=x.controls&&x.controls.right||ce.zero,K=R.controls&&R.controls.left||ce.zero,x._relative?(j=X.x+x.x,Y=X.y+x.y):(j=X.x,Y=X.y),R._relative?(P=K.x+R.x,I=K.y+R.y):(P=K.x,I=K.y),ae=R.x,te=R.y,e.bezierCurveTo(j,Y,P,I,ae,te));break;case de.line:e.lineTo(ae,te);break;case de.move:M=x,e.moveTo(ae,te);break}return v&&e.closePath(),!ue&&!n&&(Ne.isHidden.test(u)||(D=u._renderer&&u._renderer.offset,D&&(e.save(),e.translate(-u._renderer.offset.x,-u._renderer.offset.y),e.scale(u._renderer.scale.x,u._renderer.scale.y)),e.fill(),D&&e.restore()),Ne.isHidden.test(o)||(D=o._renderer&&o._renderer.offset,D&&(e.save(),e.translate(-o._renderer.offset.x,-o._renderer.offset.y),e.scale(o._renderer.scale.x,o._renderer.scale.y),e.lineWidth=l/o._renderer.scale.x),e.stroke(),D&&e.restore())),Z||e.restore(),ue&&!n&&e.clip(),B&&B.length>0&&e.setLineDash(bh),this.flagReset()}},points:{render:function(e,t,n){let i,o,l,u,c,h,d,g,m,v,_,w,k,S,b,x;if(x=this.parent&&this.parent._renderer?this.parent._renderer.opacity:1,c=this._opacity*(x||1),h=this._visible,!t&&(!h||c===0))return this;if(this._update(),i=this._matrix.elements,o=this._stroke,l=this._linewidth,u=this._fill,g=this._renderer.collection,m=g.length,k=wu(i),b=this.dashes,d=this._size,k||(e.save(),e.transform(i[0],i[3],i[1],i[4],i[2],i[5])),u)if(typeof u=="string")e.fillStyle=u;else{const P=Ne.getRendererType(u._renderer.type);Ne[P].render.call(u,e,this),e.fillStyle=u._renderer.effect}if(o){if(typeof o=="string")e.strokeStyle=o;else{const P=Ne.getRendererType(o._renderer.type);Ne[P].render.call(o,e,this),e.strokeStyle=o._renderer.effect}l&&(e.lineWidth=l)}typeof c=="number"&&(e.globalAlpha=c),b&&b.length>0&&(e.lineDashOffset=b.offset||0,e.setLineDash(b)),e.beginPath();let R=d*.5,M;this._sizeAttenuation||(M=this.worldMatrix.elements,M=Mo(M[0],M[3],M[1],M[4],M[2],M[5]),R/=Math.max(M.scaleX,M.scaleY));for(let P=0;P<m;P++)v=g[P],_=v.x,w=v.y,e.moveTo(_+R,w),e.arc(_,w,R,0,Qt);return n||(Ne.isHidden.test(u)||(S=u._renderer&&u._renderer.offset,S&&(e.save(),e.translate(-u._renderer.offset.x,-u._renderer.offset.y),e.scale(u._renderer.scale.x,u._renderer.scale.y)),e.fill(),S&&e.restore()),Ne.isHidden.test(o)||(S=o._renderer&&o._renderer.offset,S&&(e.save(),e.translate(-o._renderer.offset.x,-o._renderer.offset.y),e.scale(o._renderer.scale.x,o._renderer.scale.y),e.lineWidth=l/o._renderer.scale.x),e.stroke(),S&&e.restore())),k||e.restore(),b&&b.length>0&&e.setLineDash(bh),this.flagReset()}},text:{render:function(e,t,n){const i=this.parent&&this.parent._renderer?this.parent._renderer.opacity:1,o=this._opacity*i,l=this._visible,u=this._mask,c=this._clip;if(!t&&(!l||c||o===0))return this;this._update();const h=this._matrix.elements,d=this._stroke,g=this._linewidth,m=this._fill,v=this._decoration,_=this._direction,w=wu(h),k=m._renderer&&m._renderer.offset&&d._renderer&&d._renderer.offset,S=this.dashes,b=Ne.alignments[this._alignment]||this._alignment,x=Ne.baselines[this._baseline]||this._baseline;let R,M,P,I,j,Y,z,H,X,K,ae;if(w||(e.save(),e.transform(h[0],h[3],h[1],h[4],h[2],h[5])),u){const te=Ne.getRendererType(u._renderer.type);Ne[te].render.call(u,e,!0)}if(k||(e.font=[this._style,this._weight,this._size+"px/"+this._leading+"px",this._family].join(" ")),e.textAlign=b,e.textBaseline=x,e.direction=_,m)if(typeof m=="string")e.fillStyle=m;else{const te=Ne.getRendererType(m._renderer.type);Ne[te].render.call(m,e,this),e.fillStyle=m._renderer.effect}if(d){if(typeof d=="string")e.strokeStyle=d;else{const te=Ne.getRendererType(d._renderer.type);Ne[te].render.call(d,e,this),e.strokeStyle=d._renderer.effect}g&&(e.lineWidth=g)}if(typeof o=="number"&&(e.globalAlpha=o),S&&S.length>0&&(e.lineDashOffset=S.offset||0,e.setLineDash(S)),!c&&!n&&(Ne.isHidden.test(m)||(m._renderer&&m._renderer.offset?(Y=m._renderer.scale.x,z=m._renderer.scale.y,e.save(),e.translate(-m._renderer.offset.x,-m._renderer.offset.y),e.scale(Y,z),R=this._size/m._renderer.scale.y,M=this._leading/m._renderer.scale.y,e.font=[this._style,this._weight,R+"px/",M+"px",this._family].join(" "),P=m._renderer.offset.x/m._renderer.scale.x,I=m._renderer.offset.y/m._renderer.scale.y,e.fillText(this.value,P,I),e.restore()):e.fillText(this.value,0,0)),Ne.isHidden.test(d)||(d._renderer&&d._renderer.offset?(Y=d._renderer.scale.x,z=d._renderer.scale.y,e.save(),e.translate(-d._renderer.offset.x,-d._renderer.offset.y),e.scale(Y,z),R=this._size/d._renderer.scale.y,M=this._leading/d._renderer.scale.y,e.font=[this._style,this._weight,R+"px/",M+"px",this._family].join(" "),P=d._renderer.offset.x/d._renderer.scale.x,I=d._renderer.offset.y/d._renderer.scale.y,j=g/d._renderer.scale.x,e.lineWidth=j,e.strokeText(this.value,P,I),e.restore()):e.strokeText(this.value,0,0))),/(underline|strikethrough)/i.test(v)){const te=e.measureText(this.value);let re=1;switch(v){case"underline":X=te.actualBoundingBoxDescent,ae=te.actualBoundingBoxDescent;break;case"strikethrough":X=0,ae=0,re=.5;break}switch(x){case"top":X+=this._size*re,ae+=this._size*re;break;case"baseline":case"bottom":X-=this._size*re,ae-=this._size*re;break}switch(b){case"left":case"start":H=0,K=te.width;break;case"right":case"end":H=-te.width,K=0;break;default:H=-te.width/2,K=te.width/2}e.lineWidth=Math.max(Math.floor(this._size/15),1),e.strokeStyle=e.fillStyle,e.beginPath(),e.moveTo(H,X),e.lineTo(K,ae),e.stroke()}return w||e.restore(),c&&!n&&e.clip(),S&&S.length>0&&e.setLineDash(bh),this.flagReset()}},"linear-gradient":{render:function(e,t){if(t){if(this._update(),!this._renderer.effect||this._flagEndPoints||this._flagStops||this._flagUnits){let n,i=this.left._x,o=this.left._y,l=this.right._x,u=this.right._y;/objectBoundingBox/i.test(this._units)&&(n=t.getBoundingClientRect(!0),i=(i-.5)*n.width,o=(o-.5)*n.height,l=(l-.5)*n.width,u=(u-.5)*n.height),this._renderer.effect=e.createLinearGradient(i,o,l,u);for(let c=0;c<this.stops.length;c++){const h=this.stops[c];this._renderer.effect.addColorStop(h._offset,h._color)}}return this.flagReset()}}},"radial-gradient":{render:function(e,t){if(t){if(this._update(),!this._renderer.effect||this._flagCenter||this._flagFocal||this._flagRadius||this._flagStops||this._flagUnits){let n,i=this.center._x,o=this.center._y,l=this.focal._x,u=this.focal._y,c=this._radius;/objectBoundingBox/i.test(this._units)&&(n=t.getBoundingClientRect(!0),i=(i-.5)*n.width*.5,o=(o-.5)*n.height*.5,l=(l-.5)*n.width*.5,u=(u-.5)*n.height*.5,c*=Math.min(n.width,n.height)),this._renderer.effect=e.createRadialGradient(i,o,0,l,u,c);for(let h=0;h<this.stops.length;h++){const d=this.stops[h];this._renderer.effect.addColorStop(d._offset,d._color)}}return this.flagReset()}}},texture:{render:function(e){this._update();const t=this.image;return(!this._renderer.effect||(this._flagLoaded||this._flagImage||this._flagVideo||this._flagRepeat)&&this.loaded)&&(this._renderer.effect=e.createPattern(this.image,this._repeat)),(this._flagOffset||this._flagLoaded||this._flagScale)&&(this._renderer.offset instanceof ce||(this._renderer.offset=new ce),this._renderer.offset.x=-this._offset.x,this._renderer.offset.y=-this._offset.y,t&&(this._renderer.offset.x+=t.width/2,this._renderer.offset.y+=t.height/2,this._scale instanceof ce?(this._renderer.offset.x*=this._scale.x,this._renderer.offset.y*=this._scale.y):(this._renderer.offset.x*=this._scale,this._renderer.offset.y*=this._scale))),(this._flagScale||this._flagLoaded)&&(this._renderer.scale instanceof ce||(this._renderer.scale=new ce),this._scale instanceof ce?this._renderer.scale.copy(this._scale):this._renderer.scale.set(this._scale,this._scale)),this.flagReset()}},renderSvgArcCommand:function(e,t,n,i,o,l,u,c,h,d){c=c*Math.PI/180,i=Ly(i),o=Ly(o);const g=(t-h)/2,m=(n-d)/2,v=xu(c)*g+vu(c)*m,_=-vu(c)*g+xu(c)*m,w=v*v,k=_*_;let S=i*i,b=o*o;const x=w/S+k/b;if(x>1){const te=Wu(x);i=te*i,o=te*o,S=i*i,b=o*o}const R=S*k+b*w,M=(S*b-R)/R;let P=Wu(Qh(0,M));l===u&&(P=-P);const I=P*i*_/o,j=-P*o*v/i,Y=xu(c)*I-vu(c)*j+(t+h)/2,z=vu(c)*I+xu(c)*j+(n+d)/2,H=Fy(1,0,(v-I)/i,(_-j)/o),X=Fy((v-I)/i,(_-j)/o,(-v-I)/i,(-_-j)/o)%Qt,K=H+X;ub(e,Y,z,i,o,H,K,u===0,c)}},Xt=class extends J{constructor(e){super();const t=e.smoothing!==!1;this.domElement=e.domElement||document.createElement("canvas"),this.ctx=this.domElement.getContext("2d"),this.overdraw=e.overdraw||!1,typeof this.ctx.imageSmoothingEnabled<"u"&&(this.ctx.imageSmoothingEnabled=t),this.scene=new xt,this.scene.parent=this}setSize(e,t,n){return this.width=e,this.height=t,this.ratio=typeof n>"u"?Pd(this.ctx):n,this.domElement.width=e*this.ratio,this.domElement.height=t*this.ratio,this.domElement.style&&be.extend(this.domElement.style,{width:e+"px",height:t+"px"}),this.trigger(J.Types.resize,e,t,n)}render(){const e=this.ratio===1;return e||(this.ctx.save(),this.ctx.scale(this.ratio,this.ratio)),this.overdraw||this.ctx.clearRect(0,0,this.width,this.height),Ne.group.render.call(this.scene,this.ctx),e||this.ctx.restore(),this}};T(Xt,"Utils",Ne);function ub(e,t,n,i,o,l,u,c,h){const d=u-l,g=Po.Tolerance.epsilon,m=Math.abs(d)<g;let v=Bn(d,Qt);v<g&&(m?v=0:v=Qt),c===!0&&!m&&(v===Qt?v=-Qt:v=v-Qt);for(let _=0;_<un.Resolution;_++){const w=_/(un.Resolution-1),k=l+w*v;let S=t+i*Math.cos(k),b=n+o*Math.sin(k);if(h!==0){const x=Math.cos(h),R=Math.sin(h),M=S-t,P=b-n;S=M*x-P*R+t,b=M*R+P*x+n}e.lineTo(S,b)}}function Fy(e,t,n,i){const o=e*n+t*i,l=Wu(e*e+t*t)*Wu(n*n+i*i);let u=ab(Qh(-1,lb(1,o/l)));return e*i-t*n<0&&(u=-u),u}function wu(e){return e[0]==1&&e[3]==0&&e[1]==0&&e[4]==1&&e[2]==0&&e[5]==0}var ke={version:1.1,ns:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",alignments:{left:"start",center:"middle",right:"end"},baselines:{top:"hanging",middle:"middle",bottom:"ideographic",baseline:"alphabetic"},createElement:function(e,t){const n=e,i=document.createElementNS(ke.ns,n);return n==="svg"&&(t=be.defaults(t||{},{version:ke.version})),t&&Object.keys(t).length>0&&ke.setAttributes(i,t),i},setAttributes:function(e,t){const n=Object.keys(t);for(let i=0;i<n.length;i++)/href/.test(n[i])?e.setAttributeNS(ke.xlink,n[i],t[n[i]]):e.setAttribute(n[i],t[n[i]]);return this},removeAttributes:function(e,t){for(let n in t)e.removeAttribute(n);return this},toString:function(e,t){let n=e.length,i=n-1,o,l="";for(let u=0;u<n;u++){const c=e[u],h=t?Bn(u-1,n):Math.max(u-1,0),d=e[h];let g,m,v,_,w,k,S,b,x,R,M,P,I,j,Y,z=$e(c.x),H=$e(c.y);switch(c.command){case de.close:g=de.close;break;case de.arc:M=c.rx,P=c.ry,I=c.xAxisRotation,j=c.largeArcFlag,Y=c.sweepFlag,g=de.arc+" "+M+" "+P+" "+I+" "+j+" "+Y+" "+z+" "+H;break;case de.curve:S=d.controls&&d.controls.right||ce.zero,b=c.controls&&c.controls.left||ce.zero,d.relative?(v=$e(S.x+d.x),_=$e(S.y+d.y)):(v=$e(S.x),_=$e(S.y)),c.relative?(w=$e(b.x+c.x),k=$e(b.y+c.y)):(w=$e(b.x),k=$e(b.y)),g=(u===0?de.move:de.curve)+" "+v+" "+_+" "+w+" "+k+" "+z+" "+H;break;case de.move:o=c,g=de.move+" "+z+" "+H;break;default:g=c.command+" "+z+" "+H}u>=i&&t&&(c.command===de.curve&&(m=o,x=c.controls&&c.controls.right||c,R=m.controls&&m.controls.left||m,c.relative?(v=$e(x.x+c.x),_=$e(x.y+c.y)):(v=$e(x.x),_=$e(x.y)),m.relative?(w=$e(R.x+m.x),k=$e(R.y+m.y)):(w=$e(R.x),k=$e(R.y)),z=$e(m.x),H=$e(m.y),g+=" C "+v+" "+_+" "+w+" "+k+" "+z+" "+H),c.command!==de.close&&(g+=" Z")),l+=g+" "}return l},pointsToString:function(e,t){let n="";const i=t*.5;for(let o=0;o<e.length;o++){const l=e[o].x,u=e[o].y-i;n+=de.move+" "+l+" "+u+" ",n+="a "+i+" "+i+" 0 1 0 0.001 0 Z"}return n},getClip:function(e,t){let n=e._renderer.clip;return n||(n=e._renderer.clip=ke.createElement("clipPath",{"clip-rule":"nonzero"})),n.parentNode===null&&t.defs.appendChild(n),n},getRendererType:function(e){return e in ke?e:"path"},defs:{update:function(e){const{defs:t}=e;if(t._flagUpdate){const n=Array.prototype.slice.call(t.children,0);for(let i=0;i<n.length;i++){const o=n[i],l=o.id,u=`[fill="url(#${l})"],[stroke="url(#${l})"],[clip-path="url(#${l})"]`;e.querySelector(u)||t.removeChild(o)}t._flagUpdate=!1}}},group:{appendChild:function(e){const t=e._renderer.elem;if(!t)return;const n=t.nodeName;!n||/(radial|linear)gradient/i.test(n)||e._clip||this.elem.appendChild(t)},removeChild:function(e){const t=e._renderer.elem;!t||t.parentNode!=this.elem||!t.nodeName||e._clip||this.elem.removeChild(t)},orderChild:function(e){this.elem.appendChild(e._renderer.elem)},renderChild:function(e){const t=ke.getRendererType(e._renderer.type);ke[t].render.call(e,this)},render:function(e){if(!this._visible&&!this._flagVisible||this._opacity===0&&!this._flagOpacity)return this;this._update(),this._renderer.elem||(this._renderer.elem=ke.createElement("g",{id:this.id}),e.appendChild(this._renderer.elem));const t=this._matrix.manual||this._flagMatrix,n={domElement:e,elem:this._renderer.elem};t&&this._renderer.elem.setAttribute("transform","matrix("+this._matrix.toString()+")");for(let i=0;i<this.children.length;i++){const o=this.children[i],l=ke.getRendererType(o._renderer.type);ke[l].render.call(o,e)}if(this._flagId&&this._renderer.elem.setAttribute("id",this._id),this._flagOpacity&&this._renderer.elem.setAttribute("opacity",this._opacity),this._flagVisible&&this._renderer.elem.setAttribute("display",this._visible?"inline":"none"),this._flagClassName&&this._renderer.elem.setAttribute("class",this.classList.join(" ")),this._flagAdditions&&this.additions.forEach(ke.group.appendChild,n),this._flagSubtractions&&this.subtractions.forEach(ke.group.removeChild,n),this._flagOrder&&this.children.forEach(ke.group.orderChild,n),this._flagMask)if(this._mask){const i=ke.getRendererType(this._mask._renderer.type);ke[i].render.call(this._mask,e),this._renderer.elem.setAttribute("clip-path","url(#"+this._mask.id+")")}else this._renderer.elem.removeAttribute("clip-path");return this.dataset&&Object.assign(this._renderer.elem.dataset,this.dataset),this.flagReset()}},path:{render:function(e){if(this._opacity===0&&!this._flagOpacity)return this;this._update();const t={};if((this._matrix.manual||this._flagMatrix)&&(t.transform="matrix("+this._matrix.toString()+")"),this._flagId&&(t.id=this._id),this._flagVertices){const i=ke.toString(this._renderer.vertices,this._closed);t.d=i}if(this._fill&&this._fill._renderer){this._renderer.hasFillEffect=!0,this._fill._update();const i=ke.getRendererType(this._fill._renderer.type);ke[i].render.call(this._fill,e,!0)}if(this._flagFill&&(t.fill=this._fill&&this._fill.id?"url(#"+this._fill.id+")":this._fill,this._renderer.hasFillEffect&&typeof this._fill.id>"u"&&(e.defs._flagUpdate=!0,delete this._renderer.hasFillEffect)),this._stroke&&this._stroke._renderer){this._renderer.hasStrokeEffect=!0,this._stroke._update();const i=ke.getRendererType(this._stroke._renderer.type);ke[i].render.call(this._stroke,e,!0)}if(this._flagStroke&&(t.stroke=this._stroke&&this._stroke.id?"url(#"+this._stroke.id+")":this._stroke,this._renderer.hasStrokeEffect&&typeof this._stroke.id>"u"&&(e.defs._flagUpdate=!0,delete this._renderer.hasStrokeEffect)),this._flagLinewidth&&(t["stroke-width"]=this._linewidth),this._flagOpacity&&(t["stroke-opacity"]=this._opacity,t["fill-opacity"]=this._opacity),this._flagClassName&&(t.class=this.classList.join(" ")),this._flagVisible&&(t.visibility=this._visible?"visible":"hidden"),this._flagCap&&(t["stroke-linecap"]=this._cap),this._flagJoin&&(t["stroke-linejoin"]=this._join),this._flagMiter&&(t["stroke-miterlimit"]=this._miter),this.dashes&&this.dashes.length>0&&(t["stroke-dasharray"]=this.dashes.join(" "),t["stroke-dashoffset"]=this.dashes.offset||0),this._renderer.elem?ke.setAttributes(this._renderer.elem,t):(t.id=this._id,this._renderer.elem=ke.createElement("path",t),e.appendChild(this._renderer.elem)),this._flagClip){const i=ke.getClip(this,e),o=this._renderer.elem;this._clip?(o.removeAttribute("id"),i.setAttribute("id",this.id),i.appendChild(o)):(i.removeAttribute("id"),o.setAttribute("id",this.id),this.parent._renderer.elem.appendChild(o))}if(this._flagMask)if(this._mask){const i=ke.getRendererType(this._mask._renderer.type);ke[i].render.call(this._mask,e),this._renderer.elem.setAttribute("clip-path","url(#"+this._mask.id+")")}else this._renderer.elem.removeAttribute("clip-path");return this.flagReset()}},points:{render:function(e){if(this._opacity===0&&!this._flagOpacity)return this;this._update();const t={};if((this._matrix.manual||this._flagMatrix)&&(t.transform="matrix("+this._matrix.toString()+")"),this._flagId&&(t.id=this._id),this._flagVertices||this._flagSize||this._flagSizeAttenuation){let i=this._size;if(!this._sizeAttenuation){const l=this.worldMatrix.elements,u=Mo(l[0],l[3],l[1],l[4],l[2],l[5]);i/=Math.max(u.scaleX,u.scaleY)}const o=ke.pointsToString(this._renderer.collection,i);t.d=o}if(this._fill&&this._fill._renderer){this._renderer.hasFillEffect=!0,this._fill._update();const i=ke.getRendererType(this._fill._renderer.type);ke[i].render.call(this._fill,e,!0)}if(this._flagFill&&(t.fill=this._fill&&this._fill.id?"url(#"+this._fill.id+")":this._fill,this._renderer.hasFillEffect&&typeof this._fill.id>"u"&&(e.defs._flagUpdate=!0,delete this._renderer.hasFillEffect)),this._stroke&&this._stroke._renderer){this._renderer.hasStrokeEffect=!0,this._stroke._update();const i=ke.getRendererType(this._stroke._renderer.type);ke[i].render.call(this._stroke,e,!0)}return this._flagStroke&&(t.stroke=this._stroke&&this._stroke.id?"url(#"+this._stroke.id+")":this._stroke,this._renderer.hasStrokeEffect&&typeof this._stroke.id>"u"&&(e.defs._flagUpdate=!0,delete this._renderer.hasStrokeEffect)),this._flagLinewidth&&(t["stroke-width"]=this._linewidth),this._flagOpacity&&(t["stroke-opacity"]=this._opacity,t["fill-opacity"]=this._opacity),this._flagClassName&&(t.class=this.classList.join(" ")),this._flagVisible&&(t.visibility=this._visible?"visible":"hidden"),this.dashes&&this.dashes.length>0&&(t["stroke-dasharray"]=this.dashes.join(" "),t["stroke-dashoffset"]=this.dashes.offset||0),this._renderer.elem?ke.setAttributes(this._renderer.elem,t):(t.id=this._id,this._renderer.elem=ke.createElement("path",t),e.appendChild(this._renderer.elem)),this.flagReset()}},text:{render:function(e){this._update();const t={};if((this._matrix.manual||this._flagMatrix)&&(t.transform="matrix("+this._matrix.toString()+")"),this._flagId&&(t.id=this._id),this._flagFamily&&(t["font-family"]=this._family),this._flagSize&&(t["font-size"]=this._size),this._flagLeading&&(t["line-height"]=this._leading),this._flagAlignment&&(t["text-anchor"]=ke.alignments[this._alignment]||this._alignment),this._flagBaseline&&(t["dominant-baseline"]=ke.baselines[this._baseline]||this._baseline),this._flagStyle&&(t["font-style"]=this._style),this._flagWeight&&(t["font-weight"]=this._weight),this._flagDecoration&&(t["text-decoration"]=this._decoration),this._flagDirection&&(t.direction=this._direction),this._fill&&this._fill._renderer){this._renderer.hasFillEffect=!0,this._fill._update();const i=ke.getRendererType(this._fill._renderer.type);ke[i].render.call(this._fill,e,!0)}if(this._flagFill&&(t.fill=this._fill&&this._fill.id?"url(#"+this._fill.id+")":this._fill,this._renderer.hasFillEffect&&typeof this._fill.id>"u"&&(e.defs._flagUpdate=!0,delete this._renderer.hasFillEffect)),this._stroke&&this._stroke._renderer){this._renderer.hasStrokeEffect=!0,this._stroke._update();const i=ke.getRendererType(this._stroke._renderer.type);ke[i].render.call(this._stroke,e,!0)}if(this._flagStroke&&(t.stroke=this._stroke&&this._stroke.id?"url(#"+this._stroke.id+")":this._stroke,this._renderer.hasStrokeEffect&&typeof this._stroke.id>"u"&&(e.defs._flagUpdate=!0,delete this._renderer.hasStrokeEffect)),this._flagLinewidth&&(t["stroke-width"]=this._linewidth),this._flagOpacity&&(t.opacity=this._opacity),this._flagClassName&&(t.class=this.classList.join(" ")),this._flagVisible&&(t.visibility=this._visible?"visible":"hidden"),this.dashes&&this.dashes.length>0&&(t["stroke-dasharray"]=this.dashes.join(" "),t["stroke-dashoffset"]=this.dashes.offset||0),this._renderer.elem?ke.setAttributes(this._renderer.elem,t):(t.id=this._id,this._renderer.elem=ke.createElement("text",t),e.appendChild(this._renderer.elem)),this._flagClip){const i=ke.getClip(this,e),o=this._renderer.elem;this._clip?(o.removeAttribute("id"),i.setAttribute("id",this.id),i.appendChild(o)):(i.removeAttribute("id"),o.setAttribute("id",this.id),this.parent._renderer.elem.appendChild(o))}if(this._flagMask)if(this._mask){const i=ke.getRendererType(this._mask._renderer.type);ke[i].render.call(this._mask,e),this._renderer.elem.setAttribute("clip-path","url(#"+this._mask.id+")")}else this._renderer.elem.removeAttribute("clip-path");return this._flagValue&&(this._renderer.elem.textContent=this._value),this.flagReset()}},"linear-gradient":{render:function(e,t){t||this._update();const n={};if(this._flagId&&(n.id=this._id),this._flagEndPoints&&(n.x1=this.left._x,n.y1=this.left._y,n.x2=this.right._x,n.y2=this.right._y),this._flagSpread&&(n.spreadMethod=this._spread),this._flagUnits&&(n.gradientUnits=this._units),this._renderer.elem?ke.setAttributes(this._renderer.elem,n):(n.id=this._id,this._renderer.elem=ke.createElement("linearGradient",n)),this._renderer.elem.parentNode===null&&e.defs.appendChild(this._renderer.elem),this._flagStops){const i=this._renderer.elem.childNodes.length!==this.stops.length;if(i)for(;this._renderer.elem.lastChild;)this._renderer.elem.removeChild(this._renderer.elem.lastChild);for(let o=0;o<this.stops.length;o++){const l=this.stops[o],u={};l._flagOffset&&(u.offset=100*l._offset+"%"),l._flagColor&&(u["stop-color"]=l._color),l._flagOpacity&&(u["stop-opacity"]=l._opacity),l._renderer.elem?ke.setAttributes(l._renderer.elem,u):l._renderer.elem=ke.createElement("stop",u),i&&this._renderer.elem.appendChild(l._renderer.elem),l.flagReset()}}return this.flagReset()}},"radial-gradient":{render:function(e,t){t||this._update();const n={};if(this._flagId&&(n.id=this._id),this._flagCenter&&(n.cx=this.center._x,n.cy=this.center._y),this._flagFocal&&(n.fx=this.focal._x,n.fy=this.focal._y),this._flagRadius&&(n.r=this._radius),this._flagSpread&&(n.spreadMethod=this._spread),this._flagUnits&&(n.gradientUnits=this._units),this._renderer.elem?ke.setAttributes(this._renderer.elem,n):(n.id=this._id,this._renderer.elem=ke.createElement("radialGradient",n)),this._renderer.elem.parentNode===null&&e.defs.appendChild(this._renderer.elem),this._flagStops){const i=this._renderer.elem.childNodes.length!==this.stops.length;if(i)for(;this._renderer.elem.lastChild;)this._renderer.elem.removeChild(this._renderer.elem.lastChild);for(let o=0;o<this.stops.length;o++){const l=this.stops[o],u={};l._flagOffset&&(u.offset=100*l._offset+"%"),l._flagColor&&(u["stop-color"]=l._color),l._flagOpacity&&(u["stop-opacity"]=l._opacity),l._renderer.elem?ke.setAttributes(l._renderer.elem,u):l._renderer.elem=ke.createElement("stop",u),i&&this._renderer.elem.appendChild(l._renderer.elem),l.flagReset()}}return this.flagReset()}},texture:{render:function(e,t){t||this._update();const n={},i={x:0,y:0},o=this.image;if(this._flagId&&(n.id=this._id),this._flagLoaded&&this.loaded)switch(o.nodeName.toLowerCase()){case"canvas":i.href=i["xlink:href"]=o.toDataURL("image/png");break;case"img":case"image":i.href=i["xlink:href"]=this.src;break}if((this._flagOffset||this._flagLoaded||this._flagScale)&&(n.x=this._offset.x,n.y=this._offset.y,o&&(n.x-=o.width/2,n.y-=o.height/2,this._scale instanceof ce?(n.x*=this._scale.x,n.y*=this._scale.y):(n.x*=this._scale,n.y*=this._scale)),n.x>0&&(n.x*=-1),n.y>0&&(n.y*=-1)),(this._flagScale||this._flagLoaded||this._flagRepeat)&&(n.width=0,n.height=0,o)){switch(n.width=o.width,n.height=o.height,this._repeat){case"no-repeat":n.width+=1,n.height+=1;break}this._scale instanceof ce?(n.width*=this._scale.x,n.height*=this._scale.y):(n.width*=this._scale,n.height*=this._scale),i.width=n.width,i.height=n.height}return(this._flagScale||this._flagLoaded)&&(this._renderer.image?ke.setAttributes(this._renderer.image,i):this._renderer.image=ke.createElement("image",i)),this._renderer.elem?Object.keys(n).length!==0&&ke.setAttributes(this._renderer.elem,n):(n.id=this._id,n.patternUnits="userSpaceOnUse",this._renderer.elem=ke.createElement("pattern",n)),this._renderer.elem.parentNode===null&&e.defs.appendChild(this._renderer.elem),this._renderer.elem&&this._renderer.image&&!this._renderer.appended&&(this._renderer.elem.appendChild(this._renderer.image),this._renderer.appended=!0),this.flagReset()}}},cv=class extends J{constructor(e){super(),this.domElement=e.domElement||ke.createElement("svg"),this.scene=new xt,this.scene.parent=this,this.defs=ke.createElement("defs"),this.defs._flagUpdate=!1,this.domElement.appendChild(this.defs),this.domElement.defs=this.defs,this.domElement.style.overflow="hidden"}setSize(e,t){return this.width=e,this.height=t,ke.setAttributes(this.domElement,{width:e,height:t}),this.trigger(J.Types.resize,e,t)}render(){return ke.group.render.call(this.scene,this.domElement),ke.defs.update(this.domElement),this}};T(cv,"Utils",ke);var er={create:function(e,t,n){const i=e.createShader(e[n]);if(e.shaderSource(i,t),e.compileShader(i),!e.getShaderParameter(i,e.COMPILE_STATUS)){const l=e.getShaderInfoLog(i);throw e.deleteShader(i),new zn("unable to compile shader "+i+": "+l)}return i},types:{vertex:"VERTEX_SHADER",fragment:"FRAGMENT_SHADER"},path:{vertex:`
      precision mediump float;
      attribute vec2 a_position;

      uniform mat3 u_matrix;
      uniform vec2 u_resolution;
      uniform vec4 u_rect;

      varying vec2 v_textureCoords;

      void main() {
        vec2 rectCoords = (a_position * (u_rect.zw - u_rect.xy)) + u_rect.xy;
        vec2 projected = (u_matrix * vec3(rectCoords, 1.0)).xy;
        vec2 normal = projected / u_resolution;
        vec2 clipspace = (normal * 2.0) - 1.0;

        gl_Position = vec4(clipspace * vec2(1.0, -1.0), 0.0, 1.0);
        v_textureCoords = a_position;
      }
    `,fragment:`
      precision mediump float;

      uniform sampler2D u_image;
      varying vec2 v_textureCoords;

      void main() {
        vec4 texel = texture2D(u_image, v_textureCoords);
        if (texel.a == 0.0) {
          discard;
        }
        gl_FragColor = texel;
      }
    `},points:{vertex:`
      precision mediump float;
      attribute vec2 a_position;

      uniform float u_size;
      uniform mat3 u_matrix;
      uniform vec2 u_resolution;

      varying vec2 v_textureCoords;

      void main() {
        vec2 projected = (u_matrix * vec3(a_position, 1.0)).xy;
        vec2 normal = projected / u_resolution;
        vec2 clipspace = (normal * 2.0) - 1.0;

        gl_PointSize = u_size;
        gl_Position = vec4(clipspace * vec2(1.0, -1.0), 0.0, 1.0);
        v_textureCoords = a_position;
      }
    `,fragment:`
      precision mediump float;

      uniform sampler2D u_image;

      void main() {
        vec4 texel = texture2D(u_image, gl_PointCoord);
        if (texel.a == 0.0) {
          discard;
        }
        gl_FragColor = texel;
      }
    `}},ku=Ps.Multiply,cb=[1,0,0,0,1,0,0,0,1],Li=new Pr(9),fb=Xt.Utils,Iy=new ce,Zh=new Pr([0,0,1,0,0,1,0,1,1,0,1,1]),Ae={precision:.9,isHidden:/(undefined|none|transparent)/i,canvas:at.document?at.document.createElement("canvas"):{getContext:function(){}},alignments:{left:"start",middle:"center",right:"end"},matrix:new Ps,group:{removeChild:function(e,t){if(e.children)for(let n=0;n<e.children.length;n++)Ae.group.removeChild(e.children[n],t);e._renderer.texture&&(t.deleteTexture(e._renderer.texture),delete e._renderer.texture),e._renderer.positionBuffer&&(t.deleteBuffer(e._renderer.positionBuffer),delete e._renderer.positionBuffer)},render:function(e,t){if(!this._visible)return;this._update();const n=this.parent,i=n._matrix&&n._matrix.manual||n._flagMatrix,o=this._matrix.manual||this._flagMatrix;if((i||o)&&(this._renderer.matrix||(this._renderer.matrix=new Pr(9)),this._matrix.toTransformArray(!0,Li),ku(Li,n._renderer.matrix,this._renderer.matrix),this._renderer.scale instanceof ce||(this._renderer.scale=new ce),this._scale instanceof ce?(this._renderer.scale.x=this._scale.x,this._renderer.scale.y=this._scale.y):(this._renderer.scale.x=this._scale,this._renderer.scale.y=this._scale),/renderer/i.test(n._renderer.type)||(this._renderer.scale.x*=n._renderer.scale.x,this._renderer.scale.y*=n._renderer.scale.y),i&&(this._flagMatrix=!0)),this._mask){e.clear(e.STENCIL_BUFFER_BIT),e.enable(e.STENCIL_TEST),e.stencilFunc(e.ALWAYS,1,0),e.stencilOp(e.KEEP,e.KEEP,e.REPLACE),e.colorMask(!1,!1,!1,!1);const u=Xt.Utils.getRendererType(this._mask._renderer.type);Ae[u].render.call(this._mask,e,t,this),e.stencilFunc(e.EQUAL,1,255),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.colorMask(!0,!0,!0,!0)}this._flagOpacity=n._flagOpacity||this._flagOpacity,this._renderer.opacity=this._opacity*(n&&n._renderer?n._renderer.opacity:1);let l;if(this._flagSubtractions)for(l=0;l<this.subtractions.length;l++)Ae.group.removeChild(this.subtractions[l],e);for(l=0;l<this.children.length;l++){const u=this.children[l],c=Xt.Utils.getRendererType(u._renderer.type);Ae[c].render.call(u,e,t)}return this._mask&&e.disable(e.STENCIL_TEST),this.flagReset()}},path:{updateCanvas:function(e,t){let n,i,o,l,u,c,h,d,g,m,v,_,w,k;const S=t._renderer.vertices,b=this.canvas,x=this.ctx,R=e.renderer.ratio,M=Iy.copy(t._renderer.scale).multiply(R),P=t._stroke,I=t._linewidth,j=t._fill,Y=t._renderer.opacity||t._opacity,z=t._cap,H=t._join,X=t._miter,K=t._closed,ae=t.dashes,te=S.length,re=te-1;b.width=Math.max(Math.ceil(t._renderer.rect.width*M.x),1),b.height=Math.max(Math.ceil(t._renderer.rect.height*M.y),1);const ue=t._renderer.rect.centroid,Z=ue.x,D=ue.y;if(x.clearRect(0,0,b.width,b.height),j)if(typeof j=="string")x.fillStyle=j;else{const se=Xt.Utils.getRendererType(j._renderer.type);Ae[se].render.call(j,x,t),x.fillStyle=j._renderer.effect}if(P){if(typeof P=="string")x.strokeStyle=P;else{const se=Xt.Utils.getRendererType(P._renderer.type);Ae[se].render.call(P,x,t),x.strokeStyle=P._renderer.effect}I&&(x.lineWidth=I),X&&(x.miterLimit=X),H&&(x.lineJoin=H),!K&&z&&(x.lineCap=z)}typeof Y=="number"&&(x.globalAlpha=Y),ae&&ae.length>0&&(x.lineDashOffset=ae.offset||0,x.setLineDash(ae));let B,q,L,W,xe,fe,oe,Q;x.save(),x.scale(M.x,M.y),x.translate(Z,D),x.beginPath();for(let se=0;se<S.length;se++){const ee=S[se];switch(_=ee.x,w=ee.y,ee.command){case de.close:x.closePath();break;case de.arc:q=ee.rx,L=ee.ry,W=ee.xAxisRotation,xe=ee.largeArcFlag,fe=ee.sweepFlag,n=K?Bn(se-1,te):Math.max(se-1,0),i=S[n],oe=i.x,Q=i.y,fb.renderSvgArcCommand(x,oe,Q,q,L,xe,fe,W,_,w);break;case de.curve:n=K?Bn(se-1,te):Math.max(se-1,0),i=S[n],d=i.controls&&i.controls.right||ce.zero,g=ee.controls&&ee.controls.left||ce.zero,i._relative?(c=d.x+i.x,h=d.y+i.y):(c=d.x,h=d.y),ee._relative?(l=g.x+ee.x,u=g.y+ee.y):(l=g.x,u=g.y),x.bezierCurveTo(c,h,l,u,_,w),se>=re&&K&&(o=B,m=ee.controls&&ee.controls.right||ce.zero,v=o.controls&&o.controls.left||ce.zero,ee._relative?(c=m.x+ee.x,h=m.y+ee.y):(c=m.x,h=m.y),o._relative?(l=v.x+o.x,u=v.y+o.y):(l=v.x,u=v.y),_=o.x,w=o.y,x.bezierCurveTo(c,h,l,u,_,w));break;case de.line:x.lineTo(_,w);break;case de.move:B=ee,x.moveTo(_,w);break}}K&&x.closePath(),Ae.isHidden.test(j)||(k=j._renderer&&j._renderer.offset,k&&(x.save(),x.translate(-j._renderer.offset.x,-j._renderer.offset.y),x.scale(j._renderer.scale.x,j._renderer.scale.y)),x.fill(),k&&x.restore()),Ae.isHidden.test(P)||(k=P._renderer&&P._renderer.offset,k&&(x.save(),x.translate(-P._renderer.offset.x,-P._renderer.offset.y),x.scale(P._renderer.scale.x,P._renderer.scale.y),x.lineWidth=I/P._renderer.scale.x),x.stroke(),k&&x.restore()),x.restore()},getBoundingClientRect:function(e,t,n){let i=1/0,o=-1/0,l=1/0,u=-1/0,c,h;e.forEach(function(d){const g=d.x,m=d.y,v=d.controls;let _,w,k,S,b,x;l=Math.min(m,l),i=Math.min(g,i),o=Math.max(g,o),u=Math.max(m,u),d.controls&&(b=v.left,x=v.right,!(!b||!x)&&(_=d._relative?b.x+g:b.x,w=d._relative?b.y+m:b.y,k=d._relative?x.x+g:x.x,S=d._relative?x.y+m:x.y,!(!_||!w||!k||!S)&&(l=Math.min(w,S,l),i=Math.min(_,k,i),o=Math.max(_,k,o),u=Math.max(w,S,u))))}),typeof t=="number"&&(l-=t,i-=t,o+=t,u+=t),c=o-i,h=u-l,n.top=l,n.left=i,n.right=o,n.bottom=u,n.width=c,n.height=h,n.centroid||(n.centroid={}),n.centroid.x=-i,n.centroid.y=-l},render:function(e,t,n){if(!this._visible||!this._opacity)return this;this._update();const i=n||this.parent,o=Xt.Utils.getRendererType(this._renderer.type),l=t[o],u=i._matrix.manual||i._flagMatrix,c=this._matrix.manual||this._flagMatrix,h=this._renderer.parent!==i,d=this._flagVertices||this._flagFill||this._fill instanceof Ze&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagEndPoints)||this._fill instanceof Je&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagRadius||this._fill._flagCenter||this._fill._flagFocal)||this._fill instanceof De&&(this._fill._flagLoaded&&this._fill.loaded||this._fill._flagImage||this._fill._flagVideo||this._fill._flagRepeat||this._fill._flagOffset||this._fill._flagScale)||this._stroke instanceof Ze&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagEndPoints)||this._stroke instanceof Je&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagRadius||this._stroke._flagCenter||this._stroke._flagFocal)||this._stroke instanceof De&&(this._stroke._flagLoaded&&this._stroke.loaded||this._stroke._flagImage||this._stroke._flagVideo||this._stroke._flagRepeat||this._stroke._flagOffset||this._fill._flagScale)||this._flagStroke||this._flagLinewidth||this._flagOpacity||i._flagOpacity||this._flagVisible||this._flagCap||this._flagJoin||this._flagMiter||this._flagScale||this.dashes&&this.dashes.length>0||!this._renderer.texture;if(u||c||h){this._renderer.matrix||(this._renderer.matrix=new Pr(9)),this._matrix.toTransformArray(!0,Li),ku(Li,i._renderer.matrix,this._renderer.matrix),this._renderer.scale instanceof ce||(this._renderer.scale=new ce);let m,v;this._scale instanceof ce?(m=this._scale.x*i._renderer.scale.x,v=this._scale.y*i._renderer.scale.y):(m=this._scale*i._renderer.scale.x,v=this._scale*i._renderer.scale.y),this._renderer.scale.x=m<0?-m:m,this._renderer.scale.y=v<0?-v:v,h&&(this._renderer.parent=i)}if(this._mask){e.clear(e.STENCIL_BUFFER_BIT),e.enable(e.STENCIL_TEST),e.stencilFunc(e.ALWAYS,1,0),e.stencilOp(e.KEEP,e.KEEP,e.REPLACE),e.colorMask(!1,!1,!1,!1);const m=Xt.Utils.getRendererType(this._mask._renderer.type);Ae[m].render.call(this._mask,e,t,this),e.stencilFunc(e.EQUAL,1,255),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.colorMask(!0,!0,!0,!0)}if(d?(this._renderer.rect||(this._renderer.rect={}),this._renderer.opacity=this._opacity*i._renderer.opacity,Ae.path.getBoundingClientRect(this._renderer.vertices,this._linewidth,this._renderer.rect),Ae.updateTexture.call(Ae,e,this)):(this._fill&&this._fill._update&&this._fill._update(),this._stroke&&this._stroke._update&&this._stroke._update()),this._clip&&!n||!this._renderer.texture)return this;t.current!==l&&(e.useProgram(l),e.bindBuffer(e.ARRAY_BUFFER,t.buffers.position),e.vertexAttribPointer(l.position,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(l.position),e.bufferData(e.ARRAY_BUFFER,Zh,e.STATIC_DRAW),t.resolution.flagged||e.uniform2f(e.getUniformLocation(l,"u_resolution"),t.resolution.width,t.resolution.height),t.current=l),t.resolution.flagged&&e.uniform2f(e.getUniformLocation(l,"u_resolution"),t.resolution.width,t.resolution.height),e.bindTexture(e.TEXTURE_2D,this._renderer.texture);const g=this._renderer.rect;return e.uniformMatrix3fv(l.matrix,!1,this._renderer.matrix),e.uniform4f(l.rect,g.left,g.top,g.right,g.bottom),e.drawArrays(e.TRIANGLES,0,6),this._mask&&e.disable(e.STENCIL_TEST),this.flagReset()}},points:{updateCanvas:function(e,t){let n;const i=this.canvas,o=this.ctx,l=e.renderer.ratio,u=t._stroke,c=t._linewidth,h=t._fill,d=t._renderer.opacity||t._opacity,g=t.dashes,m=t._size*l;let v=m;Ae.isHidden.test(u)||(v+=c),i.width=K_(v),i.height=i.width;const _=v/i.width,w=i.width/2,k=i.height/2;if(o.clearRect(0,0,i.width,i.height),h)if(typeof h=="string")o.fillStyle=h;else{const S=Xt.Utils.getRendererType(h._renderer.type);Ae[S].render.call(h,o,t),o.fillStyle=h._renderer.effect}if(u){if(typeof u=="string")o.strokeStyle=u;else{const S=Xt.Utils.getRendererType(u._renderer.type);Ae[S].render.call(u,o,t),o.strokeStyle=u._renderer.effect}c&&(o.lineWidth=c/_)}typeof d=="number"&&(o.globalAlpha=d),g&&g.length>0&&(o.lineDashOffset=g.offset||0,o.setLineDash(g)),o.save(),o.translate(w,k),o.scale(Ae.precision,Ae.precision),o.beginPath(),o.arc(0,0,m/_*.5,0,Qt),o.restore(),closed&&o.closePath(),Ae.isHidden.test(h)||(n=h._renderer&&h._renderer.offset,n&&(o.save(),o.translate(-h._renderer.offset.x,-h._renderer.offset.y),o.scale(h._renderer.scale.x,h._renderer.scale.y)),o.fill(),n&&o.restore()),Ae.isHidden.test(u)||(n=u._renderer&&u._renderer.offset,n&&(o.save(),o.translate(-u._renderer.offset.x,-u._renderer.offset.y),o.scale(u._renderer.scale.x,u._renderer.scale.y),o.lineWidth=c/u._renderer.scale.x),o.stroke(),n&&o.restore())},render:function(e,t,n){if(!this._visible||!this._opacity)return this;this._update();let i=this._size;const o=n||this.parent,l=t[this._renderer.type],u=this._sizeAttenuation,c=this._stroke,h=this._linewidth,d=o._matrix.manual||o._flagMatrix,g=this._matrix.manual||this._flagMatrix,m=this._renderer.parent!==o,v=this._renderer.vertices,_=this._renderer.collection.length,w=this._flagVertices,k=this._flagFill||this._fill instanceof Ze&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagEndPoints)||this._fill instanceof Je&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagRadius||this._fill._flagCenter||this._fill._flagFocal)||this._fill instanceof De&&(this._fill._flagLoaded&&this._fill.loaded||this._fill._flagImage||this._fill._flagVideo||this._fill._flagRepeat||this._fill._flagOffset||this._fill._flagScale)||this._stroke instanceof Ze&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagEndPoints)||this._stroke instanceof Je&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagRadius||this._stroke._flagCenter||this._stroke._flagFocal)||this._stroke instanceof De&&(this._stroke._flagLoaded&&this._stroke.loaded||this._stroke._flagImage||this._stroke._flagVideo||this._stroke._flagRepeat||this._stroke._flagOffset||this._fill._flagScale)||this._flagStroke||this._flagLinewidth||this._flagOpacity||o._flagOpacity||this._flagVisible||this._flagScale||this.dashes&&this.dashes.length>0||!this._renderer.texture;if(d||g||m){this._renderer.matrix||(this._renderer.matrix=new Pr(9)),this._matrix.toTransformArray(!0,Li),ku(Li,o._renderer.matrix,this._renderer.matrix),this._renderer.scale instanceof ce||(this._renderer.scale=new ce);let S,b;this._scale instanceof ce?(S=this._scale.x*o._renderer.scale.x,b=this._scale.y*o._renderer.scale.y):(S=this._scale*o._renderer.scale.x,b=this._scale*o._renderer.scale.y),this._renderer.scale.x=S<0?-S:S,this._renderer.scale.y=b<0?-b:b,m&&(this._renderer.parent=o)}if(w){const S=this._renderer.positionBuffer;S&&e.deleteBuffer(S),this._renderer.positionBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this._renderer.positionBuffer),e.vertexAttribPointer(l.position,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(l.position),e.bufferData(e.ARRAY_BUFFER,v,e.STATIC_DRAW)}return k?(this._renderer.opacity=this._opacity*o._renderer.opacity,Ae.updateTexture.call(Ae,e,this)):(this._fill&&this._fill._update&&this._fill._update(),this._stroke&&this._stroke._update&&this._stroke._update()),this._clip&&!n||!this._renderer.texture?this:(Ae.isHidden.test(c)||(i+=h),i/=Ae.precision,u&&(i*=Math.max(this._renderer.scale.x,this._renderer.scale.y)),t.current!==l&&(e.useProgram(l),t.resolution.flagged||e.uniform2f(e.getUniformLocation(l,"u_resolution"),t.resolution.width,t.resolution.height),t.current=l),t.resolution.flagged&&e.uniform2f(e.getUniformLocation(l,"u_resolution"),t.resolution.width,t.resolution.height),e.bindTexture(e.TEXTURE_2D,this._renderer.texture),e.uniformMatrix3fv(l.matrix,!1,this._renderer.matrix),e.uniform1f(l.size,i*t.resolution.ratio),e.drawArrays(e.POINTS,0,_),this.flagReset())}},text:{updateCanvas:function(e,t){const n=this.canvas,i=this.ctx,o=e.renderer.ratio,l=Iy.copy(t._renderer.scale).multiply(o),u=t._stroke,c=t._linewidth,h=t._fill,d=t._renderer.opacity||t._opacity,g=t.dashes,m=t._decoration,v=t._direction;n.width=Math.max(Math.ceil(t._renderer.rect.width*l.x),1),n.height=Math.max(Math.ceil(t._renderer.rect.height*l.y),1);const _=t._renderer.rect.centroid,w=_.x,k=_.y;let S,b,x,R,M,P,I,j,Y,z,H;const X=h._renderer&&h._renderer.offset&&u._renderer&&u._renderer.offset;if(i.clearRect(0,0,n.width,n.height),X||(i.font=[t._style,t._weight,t._size+"px/"+t._leading+"px",t._family].join(" ")),i.textAlign="center",i.textBaseline="middle",i.textDirection=v,h)if(typeof h=="string")i.fillStyle=h;else{const K=Xt.Utils.getRendererType(h._renderer.type);Ae[K].render.call(h,i,t),i.fillStyle=h._renderer.effect}if(u){if(typeof u=="string")i.strokeStyle=u;else{const K=Xt.Utils.getRendererType(u._renderer.type);Ae[K].render.call(u,i,t),i.strokeStyle=u._renderer.effect}c&&(i.lineWidth=c)}if(typeof d=="number"&&(i.globalAlpha=d),g&&g.length>0&&(i.lineDashOffset=g.offset||0,i.setLineDash(g)),i.save(),i.scale(l.x,l.y),i.translate(w,k),Ae.isHidden.test(h)||(h._renderer&&h._renderer.offset?(P=h._renderer.scale.x,I=h._renderer.scale.y,i.save(),i.translate(-h._renderer.offset.x,-h._renderer.offset.y),i.scale(P,I),S=t._size/h._renderer.scale.y,b=t._leading/h._renderer.scale.y,i.font=[t._style,t._weight,S+"px/",b+"px",t._family].join(" "),x=h._renderer.offset.x/h._renderer.scale.x,R=h._renderer.offset.y/h._renderer.scale.y,i.fillText(t.value,x,R),i.restore()):i.fillText(t.value,0,0)),Ae.isHidden.test(u)||(u._renderer&&u._renderer.offset?(P=u._renderer.scale.x,I=u._renderer.scale.y,i.save(),i.translate(-u._renderer.offset.x,-u._renderer.offset.y),i.scale(P,I),S=t._size/u._renderer.scale.y,b=t._leading/u._renderer.scale.y,i.font=[t._style,t._weight,S+"px/",b+"px",t._family].join(" "),x=u._renderer.offset.x/u._renderer.scale.x,R=u._renderer.offset.y/u._renderer.scale.y,M=c/u._renderer.scale.x,i.lineWidth=M,i.strokeText(t.value,x,R),i.restore()):i.strokeText(t.value,0,0)),/(underline|strikethrough)/i.test(m)){const K=i.measureText(t.value);switch(m){case"underline":Y=K.actualBoundingBoxDescent,H=K.actualBoundingBoxDescent;break;case"strikethrough":Y=0,H=0;break}j=-K.width/2,z=K.width/2,i.lineWidth=Math.max(Math.floor(t._size/15),1),i.strokeStyle=i.fillStyle,i.beginPath(),i.moveTo(j,Y),i.lineTo(z,H),i.stroke()}i.restore()},getBoundingClientRect:function(e,t){const n=Ae.ctx;n.font=[e._style,e._weight,e._size+"px/"+e._leading+"px",e._family].join(" "),n.textAlign="center",n.textBaseline=Xt.Utils.baselines[e._baseline]||e._baseline;const i=n.measureText(e._value);let o=i.width,l=1.15*(i.actualBoundingBoxAscent+i.actualBoundingBoxDescent);this._linewidth&&!Ae.isHidden.test(this._stroke)&&(o+=this._linewidth*2,l+=this._linewidth*2);const u=o/2,c=l/2;switch(Ae.alignments[e._alignment]||e._alignment){case Ae.alignments.left:e.direction==="ltr"?(t.left=0,t.right=o):(t.left=-o,t.right=0);break;case Ae.alignments.right:e.direction==="ltr"?(t.left=-o,t.right=0):(t.left=0,t.right=o);break;default:t.left=-u,t.right=u}switch(e._baseline){case"bottom":t.top=-l,t.bottom=0;break;case"top":t.top=0,t.bottom=l;break;case"baseline":t.top=-c*1.5,t.bottom=c*.5;break;default:t.top=-c,t.bottom=c}t.width=o,t.height=l,t.centroid||(t.centroid={}),t.centroid.x=u,t.centroid.y=c},render:function(e,t,n){if(!this._visible||!this._opacity)return this;this._update();const i=n||this.parent,o=t[this._renderer.type],l=i._matrix.manual||i._flagMatrix,u=this._matrix.manual||this._flagMatrix,c=this._renderer.parent!==i,h=this._flagVertices||this._flagFill||this._fill instanceof Ze&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagEndPoints)||this._fill instanceof Je&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagRadius||this._fill._flagCenter||this._fill._flagFocal)||this._fill instanceof De&&(this._fill._flagLoaded&&this._fill.loaded||this._fill._flagImage||this._fill._flagVideo||this._fill._flagRepeat||this._fill._flagOffset||this._fill._flagScale)||this._stroke instanceof Ze&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagEndPoints)||this._stroke instanceof Je&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagRadius||this._stroke._flagCenter||this._stroke._flagFocal)||this._stroke instanceof De&&(this._stroke._flagLoaded&&this._stroke.loaded||this._stroke._flagImage||this._stroke._flagVideo||this._stroke._flagRepeat||this._stroke._flagOffset||this._fill._flagScale)||this._flagStroke||this._flagLinewidth||this._flagOpacity||i._flagOpacity||this._flagVisible||this._flagScale||this._flagValue||this._flagFamily||this._flagSize||this._flagLeading||this._flagAlignment||this._flagBaseline||this._flagStyle||this._flagWeight||this._flagDecoration||this.dashes&&this.dashes.length>0||!this._renderer.texture;if(l||u||c){this._renderer.matrix||(this._renderer.matrix=new Pr(9)),this._matrix.toTransformArray(!0,Li),ku(Li,i._renderer.matrix,this._renderer.matrix),this._renderer.scale instanceof ce||(this._renderer.scale=new ce);let g,m;this._scale instanceof ce?(g=this._scale.x*i._renderer.scale.x,m=this._scale.y*i._renderer.scale.y):(g=this._scale*i._renderer.scale.x,m=this._scale*i._renderer.scale.y),this._renderer.scale.x=g<0?-g:g,this._renderer.scale.y=m<0?-m:m,c&&(this._renderer.parent=i)}if(this._mask){e.clear(e.STENCIL_BUFFER_BIT),e.enable(e.STENCIL_TEST),e.stencilFunc(e.ALWAYS,1,0),e.stencilOp(e.KEEP,e.KEEP,e.REPLACE),e.colorMask(!1,!1,!1,!1);const g=Xt.Utils.getRendererType(this._mask._renderer.type);Ae[g].render.call(this._mask,e,t,this),e.stencilFunc(e.EQUAL,1,255),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.colorMask(!0,!0,!0,!0)}if(h?(this._renderer.rect||(this._renderer.rect={}),this._renderer.opacity=this._opacity*i._renderer.opacity,Ae.text.getBoundingClientRect(this,this._renderer.rect),Ae.updateTexture.call(Ae,e,this)):(this._fill&&this._fill._update&&this._fill._update(),this._stroke&&this._stroke._update&&this._stroke._update()),this._clip&&!n||!this._renderer.texture)return this;t.current!==o&&(e.useProgram(o),e.bindBuffer(e.ARRAY_BUFFER,t.buffers.position),e.vertexAttribPointer(o.position,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(o.position),e.bufferData(e.ARRAY_BUFFER,Zh,e.STATIC_DRAW),t.resolution.flagged||e.uniform2f(e.getUniformLocation(o,"u_resolution"),t.resolution.width,t.resolution.height),t.current=o),t.resolution.flagged&&e.uniform2f(e.getUniformLocation(o,"u_resolution"),t.resolution.width,t.resolution.height),e.bindTexture(e.TEXTURE_2D,this._renderer.texture);const d=this._renderer.rect;return e.uniformMatrix3fv(o.matrix,!1,this._renderer.matrix),e.uniform4f(o.rect,d.left,d.top,d.right,d.bottom),e.drawArrays(e.TRIANGLES,0,6),this._mask&&e.disable(e.STENCIL_TEST),this.flagReset()}},"linear-gradient":{render:function(e,t){if(!(!e.canvas.getContext("2d")||!t)){if(this._update(),!this._renderer.effect||this._flagEndPoints||this._flagStops||this._flagUnits){let n,i=this.left._x,o=this.left._y,l=this.right._x,u=this.right._y;/objectBoundingBox/i.test(this._units)&&(n=t.getBoundingClientRect(!0),i=(i-.5)*n.width,o=(o-.5)*n.height,l=(l-.5)*n.width,u=(u-.5)*n.height),this._renderer.effect=e.createLinearGradient(i,o,l,u);for(let c=0;c<this.stops.length;c++){const h=this.stops[c];this._renderer.effect.addColorStop(h._offset,h._color)}}return this.flagReset()}}},"radial-gradient":{render:function(e,t){if(!(!e.canvas.getContext("2d")||!t)){if(this._update(),!this._renderer.effect||this._flagCenter||this._flagFocal||this._flagRadius||this._flagStops||this._flagUnits){let n,i=this.center._x,o=this.center._y,l=this.focal._x,u=this.focal._y,c=this._radius;/objectBoundingBox/i.test(this._units)&&(n=t.getBoundingClientRect(!0),i=(i-.5)*n.width*.5,o=(o-.5)*n.height*.5,l=(l-.5)*n.width*.5,u=(u-.5)*n.height*.5,c*=Math.min(n.width,n.height)),this._renderer.effect=e.createRadialGradient(i,o,0,l,u,c);for(let h=0;h<this.stops.length;h++){const d=this.stops[h];this._renderer.effect.addColorStop(d._offset,d._color)}}return this.flagReset()}}},texture:{render:function(e,t){if(!e.canvas.getContext("2d"))return;this._update();const n=this.image;if((this._flagLoaded||this._flagImage||this._flagVideo||this._flagRepeat)&&this.loaded)this._renderer.effect=e.createPattern(n,this._repeat);else if(!this._renderer.effect)return this.flagReset();if((this._flagOffset||this._flagLoaded||this._flagScale)&&(this._renderer.offset instanceof ce||(this._renderer.offset=new ce),this._renderer.offset.x=-this._offset.x,this._renderer.offset.y=-this._offset.y,n&&(this._renderer.offset.x+=n.width/2,this._renderer.offset.y+=n.height/2,this._scale instanceof ce?(this._renderer.offset.x*=this._scale.x,this._renderer.offset.y*=this._scale.y):(this._renderer.offset.x*=this._scale,this._renderer.offset.y*=this._scale))),this._flagScale||this._flagLoaded){this._renderer.scale instanceof ce||(this._renderer.scale=new ce);let i,o;this._scale instanceof ce?(i=this._scale.x,o=this._scale.y):(i=this._scale,o=this._scale),this._renderer.scale.x=i<0?-i:i,this._renderer.scale.y=o<0?-o:o}return this.flagReset()}},updateTexture:function(e,t){const n=Xt.Utils.getRendererType(t._renderer.type);if(this[n].updateCanvas.call(Ae,e,t),this.canvas.width<=0||this.canvas.height<=0){t._renderer.texture&&e.deleteTexture(t._renderer.texture),delete t._renderer.texture;return}t._renderer.texture||(t._renderer.texture=e.createTexture()),e.bindTexture(e.TEXTURE_2D,t._renderer.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,this.canvas),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR)},program:{create:function(e,t){let n,i,o;if(n=e.createProgram(),be.each(t,function(l){e.attachShader(n,l)}),e.linkProgram(n),i=e.getProgramParameter(n,e.LINK_STATUS),!i)throw o=e.getProgramInfoLog(n),e.deleteProgram(n),new zn("unable to link program: "+o);return n}},extensions:{init:function(e){const t={},n=["EXT_texture_filter_anisotropic","WEBGL_compressed_texture_s3tc","OES_texture_float_linear","WEBGL_multisampled_render_to_texture"];for(let i=0;i<n.length;i++){const o=n[i];t[o]=Ae.extensions.get(e,o)}return t},get:function(e,t){return e.getExtension(t)||e.getExtension(`MOZ_${t}`)||e.getExtension(`WEBKIT_${t}`)}},TextureRegistry:new lc};Ae.ctx=Ae.canvas.getContext("2d");var fv=class extends J{constructor(e){super();let t,n,i,o;if(this.domElement=e.domElement||document.createElement("canvas"),typeof e.offscreenElement<"u"&&(Ae.canvas=e.offscreenElement,Ae.ctx=Ae.canvas.getContext("2d")),this.scene=new xt,this.scene.parent=this,this._renderer={type:"renderer",matrix:new Pr(cb),scale:1,opacity:1},this._flagMatrix=!0,e=be.defaults(e||{},{antialias:!1,alpha:!0,premultipliedAlpha:!0,stencil:!0,preserveDrawingBuffer:!0,overdraw:!1}),this.overdraw=e.overdraw,t=this.ctx=this.domElement.getContext("webgl",e)||this.domElement.getContext("experimental-webgl",e),!this.ctx)throw new zn("unable to create a webgl context. Try using another renderer.");i=er.create(t,er.path.vertex,er.types.vertex),o=er.create(t,er.path.fragment,er.types.fragment),this.programs={current:null,buffers:{position:t.createBuffer()},resolution:{width:0,height:0,ratio:1,flagged:!1}},n=this.programs.path=Ae.program.create(t,[i,o]),this.programs.text=this.programs.path,t.extensions=Ae.extensions.init(t),t.renderer=this,n.position=t.getAttribLocation(n,"a_position"),n.matrix=t.getUniformLocation(n,"u_matrix"),n.rect=t.getUniformLocation(n,"u_rect");const l=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,l),t.vertexAttribPointer(n.position,2,t.FLOAT,!1,0,0),t.enableVertexAttribArray(n.position),t.bufferData(t.ARRAY_BUFFER,Zh,t.STATIC_DRAW),i=er.create(t,er.points.vertex,er.types.vertex),o=er.create(t,er.points.fragment,er.types.fragment),n=this.programs.points=Ae.program.create(t,[i,o]),n.position=t.getAttribLocation(n,"a_position"),n.matrix=t.getUniformLocation(n,"u_matrix"),n.size=t.getUniformLocation(n,"u_size"),t.enable(t.BLEND),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA)}setSize(e,t,n){let i,o;const l=this.ctx;return this.width=e,this.height=t,this.ratio=typeof n>"u"?Pd(l):n,this.domElement.width=e*this.ratio,this.domElement.height=t*this.ratio,be.isObject(this.domElement.style)&&be.extend(this.domElement.style,{width:e+"px",height:t+"px"}),this._renderer.matrix[0]=this._renderer.matrix[4]=this._renderer.scale=this.ratio,this._flagMatrix=!0,i=e*this.ratio,o=t*this.ratio,l.viewport(0,0,i,o),this.programs.resolution.width=i,this.programs.resolution.height=o,this.programs.resolution.ratio=this.ratio,this.programs.resolution.flagged=!0,this.trigger(J.Types.resize,e,t,n)}render(){const e=this.ctx;return this.overdraw||e.clear(e.COLOR_BUFFER_BIT),Ae.group.render.call(this.scene,e,this.programs),this._flagMatrix=!1,this.programs.resolution.flagged=!0,this}};T(fv,"Utils",Ae);var hb=be.extend({Error:zn,getRatio:Pd,read:nt,xhr:uv},be,on,V_,H_),Ol=class{constructor(e){T(this,"_events",new J),T(this,"type",""),T(this,"renderer",null),T(this,"scene",null),T(this,"width",0),T(this,"height",0),T(this,"frameCount",0),T(this,"timeDelta",0),T(this,"playing",!1);const t=be.defaults(e||{},{fullscreen:!1,fitted:!1,width:640,height:480,type:Ol.Types.svg,autostart:!1});if(be.each(t,function(n,i){/fullscreen/i.test(i)||/autostart/i.test(i)||(this[i]=n)},this),be.isElement(t.domElement)){const n=t.domElement.tagName.toLowerCase();/^(CanvasRenderer-canvas|WebGLRenderer-canvas|SVGRenderer-svg)$/.test(this.type+"-"+n)||(this.type=Ol.Types[n])}this.renderer=new Ol[this.type](this),this.setPlaying(t.autostart),this.frameCount=0,t.fullscreen?(this.fit=db.bind(this),this.fit.domElement=window,this.fit.attached=!0,be.extend(document.body.style,{overflow:"hidden",margin:0,padding:0,top:0,left:0,right:0,bottom:0,position:"fixed"}),be.extend(this.renderer.domElement.style,{display:"block",top:0,left:0,right:0,bottom:0,position:"fixed"}),jn.bind(this.fit.domElement,"resize",this.fit),this.fit()):t.fitted?(this.fit=pb.bind(this),be.extend(this.renderer.domElement.style,{display:"block"})):be.isElement(t.domElement)||(this.renderer.setSize(t.width,t.height,this.ratio),this.width=t.width,this.height=t.height),this.renderer.bind(J.Types.resize,gb.bind(this)),this.scene=this.renderer.scene,Ol.Instances.push(this),t.autostart&&Vl.init()}get _bound(){return this._events._bound}set _bound(e){this._events._bound=e}addEventListener(){return this._events.addEventListener.apply(this,arguments)}on(){return this._events.addEventListener.apply(this,arguments)}bind(){return this._events.addEventListener.apply(this,arguments)}removeEventListener(){return this._events.removeEventListener.apply(this,arguments)}off(){return this._events.removeEventListener.apply(this,arguments)}unbind(){return this._events.removeEventListener.apply(this,arguments)}dispatchEvent(){return this._events.dispatchEvent.apply(this,arguments)}trigger(){return this._events.dispatchEvent.apply(this,arguments)}listen(){return this._events.listen.apply(this,arguments)}ignore(){return this._events.ignore.apply(this,arguments)}appendTo(e){return e.appendChild(this.renderer.domElement),this.fit&&(this.fit.domElement!==window&&(this.fit.domElement=e,this.fit.attached=!1),this.update()),this}play(){return this.playing=!0,Vl.init(),this.trigger(J.Types.play)}pause(){return this.playing=!1,this.trigger(J.Types.pause)}setPlaying(e){this.playing=e}release(e){let t,n,i;if(!be.isObject(e))return this.release(this.scene);if(typeof e.unbind=="function"&&e.unbind(),e.vertices)for(typeof e.vertices.unbind=="function"&&e.vertices.unbind(),t=0;t<e.vertices.length;t++)n=e.vertices[t],typeof n.unbind=="function"&&n.unbind(),n.controls&&(n.controls.left&&typeof n.controls.left.unbind=="function"&&n.controls.left.unbind(),n.controls.right&&typeof n.controls.right.unbind=="function"&&n.controls.right.unbind());if(e.children){for(t=0;t<e.children.length;t++)i=e.children[t],this.release(i);typeof e.children.unbind=="function"&&e.children.unbind()}return e}update(){const e=!!this._lastFrame,t=be.performance.now();e&&(this.timeDelta=parseFloat((t-this._lastFrame).toFixed(3))),this._lastFrame=t,this.fit&&this.fit.domElement&&!this.fit.attached&&(jn.bind(this.fit.domElement,"resize",this.fit),this.fit.attached=!0,this.fit());const n=this.width,i=this.height,o=this.renderer;return(n!==o.width||i!==o.height)&&o.setSize(n,i,this.ratio),this.trigger(J.Types.update,this.frameCount,this.timeDelta),this.render()}render(){return this.renderer.render(),this.trigger(J.Types.render,this.frameCount++)}add(e){return e instanceof Array||(e=Array.prototype.slice.call(arguments)),this.scene.add(e),this}remove(e){return e instanceof Array||(e=Array.prototype.slice.call(arguments)),this.scene.remove(e),this}clear(){return this.scene.remove(this.scene.children),this}makeLine(e,t,n,i){const o=new Ad(e,t,n,i);return this.scene.add(o),o}makeArrow(e,t,n,i,o){const l=typeof o=="number"?o:10,u=Math.atan2(i-t,n-e),c=[new Le(e,t,void 0,void 0,void 0,void 0,de.move),new Le(n,i,void 0,void 0,void 0,void 0,de.line),new Le(n-l*Math.cos(u-Math.PI/4),i-l*Math.sin(u-Math.PI/4),void 0,void 0,void 0,void 0,de.line),new Le(n,i,void 0,void 0,void 0,void 0,de.move),new Le(n-l*Math.cos(u+Math.PI/4),i-l*Math.sin(u+Math.PI/4),void 0,void 0,void 0,void 0,de.line)],h=new Ie(c,!1,!1,!0);return h.noFill(),h.cap="round",h.join="round",this.scene.add(h),h}makeRectangle(e,t,n,i){const o=new Xi(e,t,n,i);return this.scene.add(o),o}makeRoundedRectangle(e,t,n,i,o){const l=new Gl(e,t,n,i,o);return this.scene.add(l),l}makeCircle(e,t,n,i){const o=new Kl(e,t,n,i);return this.scene.add(o),o}makeEllipse(e,t,n,i,o){const l=new ql(e,t,n,i,o);return this.scene.add(l),l}makeStar(e,t,n,i,o){const l=new hc(e,t,n,i,o);return this.scene.add(l),l}makeCurve(e){const t=arguments.length;if(!Array.isArray(e)){e=[];for(let l=0;l<t;l+=2){const u=arguments[l];if(typeof u!="number")break;const c=arguments[l+1];e.push(new Le(u,c))}}const n=arguments[t-1],i=new Ie(e,!(typeof n=="boolean"&&n),!0),o=i.getBoundingClientRect();return i.center().translation.set(o.left+o.width/2,o.top+o.height/2),this.scene.add(i),i}makePolygon(e,t,n,i){const o=new fc(e,t,n,i);return this.scene.add(o),o}makeArcSegment(e,t,n,i,o,l,u){const c=new uc(e,t,n,i,o,l,u);return this.scene.add(c),c}makePoints(e){const t=arguments.length;let n=e;if(!Array.isArray(e)){n=[];for(let o=0;o<t;o+=2){const l=arguments[o];if(typeof l!="number")break;const u=arguments[o+1];n.push(new ce(l,u))}}const i=new cc(n);return this.scene.add(i),i}makePath(e){const t=arguments.length;let n=e;if(!Array.isArray(e)){n=[];for(let u=0;u<t;u+=2){const c=arguments[u];if(typeof c!="number")break;const h=arguments[u+1];n.push(new Le(c,h))}}const i=arguments[t-1],o=new Ie(n,!(typeof i=="boolean"&&i)),l=o.getBoundingClientRect();return typeof l.top=="number"&&typeof l.left=="number"&&typeof l.right=="number"&&typeof l.bottom=="number"&&o.center().translation.set(l.left+l.width/2,l.top+l.height/2),this.scene.add(o),o}makeText(e,t,n,i){const o=new tr(e,t,n,i);return this.add(o),o}makeLinearGradient(e,t,n,i){const o=Array.prototype.slice.call(arguments,4),l=new Ze(e,t,n,i,o);return this.add(l),l}makeRadialGradient(e,t,n){const i=Array.prototype.slice.call(arguments,3),o=new Je(e,t,n,i);return this.add(o),o}makeSprite(e,t,n,i,o,l,u){const c=new ac(e,t,n,i,o,l);return u&&c.play(),this.add(c),c}makeImageSequence(e,t,n,i,o){const l=new dc(e,t,n,i);return o&&l.play(),this.add(l),l}makeTexture(e,t){return new De(e,t)}makeGroup(e){e instanceof Array||(e=Array.prototype.slice.call(arguments));const t=new xt;return this.scene.add(t),t.add(e),t}interpret(e,t,n){const i=e.tagName.toLowerCase();if(n=typeof n<"u"?n:!0,!(i in nt))return null;const o=nt[i].call(this,e);return n?this.add(t&&o instanceof xt?o.children:o):o.parent&&o.remove(),o}load(e,t){const n=new xt;let i,o,l;const u=(function(c){for(jn.temp.innerHTML=c,o=0;o<jn.temp.children.length;o++)i=jn.temp.children[o],l=this.interpret(i,!1,!1),l!==null&&n.add(l);if(typeof t=="function"){const h=jn.temp.children.length<=1?jn.temp.children[0]:jn.temp.children;t(n,h)}}).bind(this);return/\.svg$/i.test(e)?(uv(e,u),n):(u(e),n)}},Ee=Ol;T(Ee,"nextFrameID",un.nextFrameID);T(Ee,"Types",un.Types);T(Ee,"Version",un.Version);T(Ee,"PublishDate",un.PublishDate);T(Ee,"Identifier",un.Identifier);T(Ee,"Resolution",un.Resolution);T(Ee,"AutoCalculateImportedMatrices",un.AutoCalculateImportedMatrices);T(Ee,"Instances",un.Instances);T(Ee,"uniqueId",un.uniqueId);T(Ee,"Anchor",Le);T(Ee,"Collection",Vi);T(Ee,"Events",J);T(Ee,"Group",xt);T(Ee,"Matrix",Ps);T(Ee,"Path",Ie);T(Ee,"Registry",lc);T(Ee,"Shape",Lr);T(Ee,"Text",tr);T(Ee,"Vector",ce);T(Ee,"Gradient",yt);T(Ee,"ImageSequence",dc);T(Ee,"LinearGradient",Ze);T(Ee,"RadialGradient",Je);T(Ee,"Sprite",ac);T(Ee,"Stop",Fr);T(Ee,"Texture",De);T(Ee,"ArcSegment",uc);T(Ee,"Circle",Kl);T(Ee,"Ellipse",ql);T(Ee,"Line",Ad);T(Ee,"Points",cc);T(Ee,"Polygon",fc);T(Ee,"Rectangle",Xi);T(Ee,"RoundedRectangle",Gl);T(Ee,"Star",hc);T(Ee,"CanvasRenderer",Xt);T(Ee,"SVGRenderer",cv);T(Ee,"WebGLRenderer",fv);T(Ee,"Commands",de);T(Ee,"Utils",hb);function db(){const e=document.body.getBoundingClientRect(),t=this.width=e.width,n=this.height=e.height;this.renderer.setSize(t,n,this.ratio)}function pb(){const e=this.renderer.domElement.parentElement;if(!e){console.warn("Two.js: Attempting to fit to parent, but no parent found.");return}const t=e.getBoundingClientRect(),n=this.width=t.width,i=this.height=t.height;this.renderer.setSize(n,i,this.ratio)}function gb(e,t){this.width=e,this.height=t,this.trigger(J.Types.resize,e,t)}var Vl=jn.getRequestAnimationFrame();function hv(){for(let e=0;e<Ee.Instances.length;e++){const t=Ee.Instances[e];t.playing&&t.update()}Ee.nextFrameID=Vl(hv)}Vl.init=function(){hv(),Vl.init=function(){}};const tt={move:"M",line:"L",curve:"C",arc:"A",close:"Z"};class pe{constructor(){G(this,"_events",{});G(this,"_bound",!1)}addEventListener(t,n){return(this._events[t]||(this._events[t]=[])).push(n),this._bound=!0,this}on(){return this.addEventListener.apply(this,arguments)}bind(){return this.addEventListener.apply(this,arguments)}removeEventListener(t,n){if(!this._events)return this;if(!t&&!n)return this._events={},this._bound=!1,this;const i=t?[t]:Object.keys(this._events);for(let o=0,l=i.length;o<l;o++){t=i[o];let u=this._events[t];if(u){let c=[];if(n)for(let h=0,d=u.length;h<d;h++){let g=u[h];g=g.handler?g.handler:g,n!==g&&c.push(g)}this._events[t]=c}}return this}off(){return this.removeEventListener.apply(this,arguments)}unbind(){return this.removeEventListener.apply(this,arguments)}dispatchEvent(t){if(!this._events)return this;const n=Array.prototype.slice.call(arguments,1),i=this._events[t];if(i)for(let o=0;o<i.length;o++)i[o].call(this,...n);return this}trigger(){return this.dispatchEvent.apply(this,arguments)}listen(t,n,i){const o=this;t&&(l.obj=t,l.name=n,l.handler=i,t.on(n,l));function l(){i.apply(o,arguments)}return o}ignore(t,n,i){return t.off(n,i),this}}G(pe,"Types",{play:"play",pause:"pause",update:"update",render:"render",resize:"resize",change:"change",remove:"remove",insert:"insert",order:"order",load:"load"}),G(pe,"Methods",["addEventListener","on","removeEventListener","off","unbind","dispatchEvent","trigger","listen","ignore"]);var Nt;class Jh extends Array{constructor(){super();km(this,Nt,new pe);arguments[0]&&Array.isArray(arguments[0])?arguments[0].length>0&&this.push.apply(this,arguments[0]):arguments.length>0&&this.push.apply(this,arguments)}get _events(){return yn(this,Nt)}set _events(n){bm(this,Nt,n)}get _bound(){return yn(this,Nt)._bound}set _bound(n){yn(this,Nt)._bound=n}addEventListener(){return yn(this,Nt).addEventListener.apply(this,arguments)}on(){return yn(this,Nt).on.apply(this,arguments)}bind(){return yn(this,Nt).bind.apply(this,arguments)}removeEventListener(){return yn(this,Nt).removeEventListener.apply(this,arguments)}off(){return yn(this,Nt).off.apply(this,arguments)}unbind(){return yn(this,Nt).unbind.apply(this,arguments)}dispatchEvent(){return yn(this,Nt).dispatchEvent.apply(this,arguments)}trigger(){return yn(this,Nt).trigger.apply(this,arguments)}listen(){return yn(this,Nt).listen.apply(this,arguments)}ignore(){return yn(this,Nt).ignore.apply(this,arguments)}pop(){const n=super.pop.apply(this,arguments);return this.trigger(pe.Types.remove,[n]),n}shift(){const n=super.shift.apply(this,arguments);return this.trigger(pe.Types.remove,[n]),n}push(){const n=super.push.apply(this,arguments);return this.trigger(pe.Types.insert,arguments),n}unshift(){const n=super.unshift.apply(this,arguments);return this.trigger(pe.Types.insert,arguments),n}splice(){const n=super.splice.apply(this,arguments);if(this.trigger(pe.Types.remove,n),arguments.length>2){const i=this.slice(arguments[0],arguments[0]+arguments.length-2);this.trigger(pe.Types.insert,i),this.trigger(pe.Types.order)}return n}sort(){return super.sort.apply(this,arguments),this.trigger(pe.Types.order),this}reverse(){return super.reverse.apply(this,arguments),this.trigger(pe.Types.order),this}indexOf(){return super.indexOf.apply(this,arguments)}map(n,i){const o=[];for(let l=0;l<this.length;l++){const u=this[l];let c;i?c=n.call(i,u,l):c=n(u,l),o.push(c)}return o}}Nt=new WeakMap;let si;typeof window<"u"?si=window:typeof global<"u"?si=global:typeof self<"u"&&(si=self);let dv;const Ny=Math.PI*.5;function mb(e,t,n,i,o,l){let u;return arguments.length<=1?(u=e.a,t=e.b,n=e.c,i=e.d,o=e.e,l=e.f):u=e,{translateX:o,translateY:l,scaleX:Math.sqrt(u*u+t*t),scaleY:Math.sqrt(n*n+i*i),rotation:180*Math.atan2(t,u)/Math.PI}}function yb(e){dv=e}function _b(e,t){t=t&&t.identity()||new dv;let n=e;const i=[];for(;n&&n._matrix;)i.push(n._matrix),n=n.parent;i.reverse();for(let o=0;o<i.length;o++){const u=i[o].elements;t.multiply(u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],u[8],u[9])}return t}function Er(e,t,n){return n*(t-e)+e}function Yu(e,t){for(;e<0;)e+=t;return e%t}const jy=si.Float32Array||Array,vb=Math.floor;function Tr(e){return vb(e*1e6)/1e6}const Dy={x:{enumerable:!0,get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this._bound&&this.dispatchEvent(pe.Types.change))}},y:{enumerable:!0,get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this._bound&&this.dispatchEvent(pe.Types.change))}}},It=class It extends pe{constructor(n=0,i=0){super();G(this,"_x",0);G(this,"_y",0);for(let o in Dy)Object.defineProperty(this,o,Dy[o]);this.x=n,this.y=i}static add(n,i){return new It(n.x+i.x,n.y+i.y)}static sub(n,i){return new It(n.x-i.x,n.y-i.y)}static subtract(n,i){return It.sub(n,i)}static ratioBetween(n,i){return(n.x*i.x+n.y*i.y)/(n.length()*i.length())}static angleBetween(n,i){if(arguments.length>=4){const u=arguments[0]-arguments[2],c=arguments[1]-arguments[3];return Math.atan2(c,u)}const o=n.x-i.x,l=n.y-i.y;return Math.atan2(l,o)}static distanceBetween(n,i){return Math.sqrt(It.distanceBetweenSquared(n,i))}static distanceBetweenSquared(n,i){const o=n.x-i.x,l=n.y-i.y;return o*o+l*l}set(n,i){return this.x=n,this.y=i,this}copy(n){return this.x=n.x,this.y=n.y,this}clear(){return this.x=0,this.y=0,this}clone(){return new It(this.x,this.y)}add(n,i){return arguments.length<=0?this:(arguments.length<=1?typeof n=="number"?(this.x+=n,this.y+=n):n&&typeof n.x=="number"&&typeof n.y=="number"&&(this.x+=n.x,this.y+=n.y):(this.x+=n,this.y+=i),this)}addSelf(n){return this.add.apply(this,arguments)}sub(n,i){return arguments.length<=0?this:(arguments.length<=1?typeof n=="number"?(this.x-=n,this.y-=n):n&&typeof n.x=="number"&&typeof n.y=="number"&&(this.x-=n.x,this.y-=n.y):(this.x-=n,this.y-=i),this)}subtract(){return this.sub.apply(this,arguments)}subSelf(n){return this.sub.apply(this,arguments)}subtractSelf(n){return this.sub.apply(this,arguments)}multiply(n,i){return arguments.length<=0?this:(arguments.length<=1?typeof n=="number"?(this.x*=n,this.y*=n):n&&typeof n.x=="number"&&typeof n.y=="number"&&(this.x*=n.x,this.y*=n.y):(this.x*=n,this.y*=i),this)}multiplySelf(n){return this.multiply.apply(this,arguments)}multiplyScalar(n){return this.multiply(n)}divide(n,i){return arguments.length<=0?this:(arguments.length<=1?typeof n=="number"?(this.x/=n,this.y/=n):n&&typeof n.x=="number"&&typeof n.y=="number"&&(this.x/=n.x,this.y/=n.y):(this.x/=n,this.y/=i),isNaN(this.x)&&(this.x=0),isNaN(this.y)&&(this.y=0),this)}divideSelf(n){return this.divide.apply(this,arguments)}divideScalar(n){return this.divide(n)}negate(){return this.multiply(-1)}dot(n){return this.x*n.x+this.y*n.y}length(){return Math.sqrt(this.lengthSquared())}lengthSquared(){return this.x*this.x+this.y*this.y}normalize(){return this.divideScalar(this.length())}distanceTo(n){return Math.sqrt(this.distanceToSquared(n))}distanceToSquared(n){const i=this.x-n.x,o=this.y-n.y;return i*i+o*o}setLength(n){return this.normalize().multiplyScalar(n)}equals(n,i){return i=typeof i>"u"?1e-4:i,this.distanceTo(n)<i}lerp(n,i){const o=(n.x-this.x)*i+this.x,l=(n.y-this.y)*i+this.y;return this.set(o,l)}isZero(n){return n=typeof n>"u"?1e-4:n,this.length()<n}toString(){return this.x+", "+this.y}toObject(){return{x:Tr(this.x),y:Tr(this.y)}}rotate(n){const i=this.x,o=this.y,l=Math.cos(n),u=Math.sin(n);return this.x=i*l-o*u,this.y=i*u+o*l,this}};G(It,"zero",new It),G(It,"left",new It(-1,0)),G(It,"right",new It(1,0)),G(It,"up",new It(0,-1)),G(It,"down",new It(0,1));let Pe=It;class wn extends Pe{constructor(n=0,i=0,o=0,l=0,u=0,c=0,h=tt.move){super(n,i);G(this,"controls",{left:new Pe,right:new Pe});G(this,"_command",tt.move);G(this,"_relative",!0);G(this,"_rx",0);G(this,"_ry",0);G(this,"_xAxisRotation",0);G(this,"_largeArcFlag",0);G(this,"_sweepFlag",1);for(let g in zy)Object.defineProperty(this,g,zy[g]);this.command=h,this.relative=!0;const d=wn.makeBroadcast(this);this.controls.left.set(o,l).addEventListener(pe.Types.change,d),this.controls.right.set(u,c).addEventListener(pe.Types.change,d)}static makeBroadcast(n){return i;function i(){n._bound&&n.dispatchEvent(pe.Types.change)}}static fromObject(n){return new wn().copy(n)}copy(n){return this.x=n.x,this.y=n.y,typeof n.command=="string"&&(this.command=n.command),n.controls&&(n.controls.left&&this.controls.left.copy(n.controls.left),n.controls.right&&this.controls.right.copy(n.controls.right)),typeof n.relative=="boolean"&&(this.relative=n.relative),typeof n.rx=="number"&&(this.rx=n.rx),typeof n.ry=="number"&&(this.ry=n.ry),typeof n.xAxisRotation=="number"&&(this.xAxisRotation=n.xAxisRotation),typeof n.largeArcFlag=="number"&&(this.largeArcFlag=n.largeArcFlag),typeof n.sweepFlag=="number"&&(this.sweepFlag=n.sweepFlag),this}clone(){return new wn().copy(this)}toObject(){return{x:Tr(this.x),y:Tr(this.y),command:this.command,relative:this.relative,controls:{left:this.controls.left.toObject(),right:this.controls.right.toObject()},rx:Tr(this.rx),ry:Tr(this.ry),xAxisRotation:Tr(this.xAxisRotation),largeArcFlag:Tr(this.largeArcFlag),sweepFlag:Tr(this.sweepFlag)}}toString(){return JSON.stringify(this.toObject())}}const zy={command:{enumerable:!0,get:function(){return this._command},set:function(e){this._command!==e&&(this._command=e,this._bound&&this.dispatchEvent(pe.Types.change))}},relative:{enumerable:!0,get:function(){return this._relative},set:function(e){this._relative!==!!e&&(this._relative=!!e,this._bound&&this.dispatchEvent(pe.Types.change))}},rx:{enumerable:!0,get:function(){return this._rx},set:function(e){this._rx!==e&&(this._rx=e,this._bound&&this.dispatchEvent(pe.Types.change))}},ry:{enumerable:!0,get:function(){return this._ry},set:function(e){this._ry!==e&&(this._ry=e,this._bound&&this.dispatchEvent(pe.Types.change))}},xAxisRotation:{enumerable:!0,get:function(){return this._xAxisRotation},set:function(e){this._xAxisRotation!==e&&(this._xAxisRotation=e,this._bound&&this.dispatchEvent(pe.Types.change))}},largeArcFlag:{enumerable:!0,get:function(){return this._largeArcFlag},set:function(e){this._largeArcFlag!==e&&(this._largeArcFlag=e,this._bound&&this.dispatchEvent(pe.Types.change))}},sweepFlag:{get:function(){return this._sweepFlag},set:function(e){this._sweepFlag!==e&&(this._sweepFlag=e,this._bound&&this.dispatchEvent(pe.Types.change))}}};let xb=0;const By={nextFrameID:null,Types:{webgl:"WebGLRenderer",svg:"SVGRenderer",canvas:"CanvasRenderer"},Version:"<%= version %>",PublishDate:"<%= publishDate %>",Identifier:"two-",Resolution:12,AutoCalculateImportedMatrices:!0,Instances:[],uniqueId:function(){return xb++}},Xu={CollinearityEpsilon:Math.pow(10,-30),RecursionLimit:16,CuspLimit:0,Tolerance:{distance:.25,angle:0,epsilon:Number.EPSILON},abscissas:[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],weights:[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]]};function Ku(e,t,n,i,o){const l=1-e;return l*l*l*t+3*l*l*e*n+3*l*e*e*i+e*e*e*o}function wb(e,t,n,i,o,l,u,c,h){h=h||Xu.RecursionLimit;const d=h+1;if(Math.abs(e-u)<.001&&Math.abs(t-c)<.001)return[new wn(u,c)];const g=[];for(let m=0;m<d;m++){const v=m/d,_=Ku(v,e,n,o,u),w=Ku(v,t,i,l,c);g.push(new wn(_,w))}return g}function kb(e,t,n,i,o,l,u,c,h){if(e===n&&t===i&&o===u&&l===c){const S=u-e,b=c-t;return Math.sqrt(S*S+b*b)}const d=9*(n-o)+3*(u-e),g=6*(e+o)-12*n,m=3*(n-e),v=9*(i-l)+3*(c-t),_=6*(t+l)-12*i,w=3*(i-t);function k(S){const b=(d*S+g)*S+m,x=(v*S+_)*S+w;return Math.sqrt(b*b+x*x)}return Sb(k,0,1,h||Xu.RecursionLimit)}function bb(e,t,n,i,o,l,u,c){const h=[],d=[[],[]];let g,m,v,_,w,k,S,b;for(let P=0;P<2;++P){if(P==0?(m=6*e-12*n+6*o,g=-3*e+9*n-9*o+3*u,v=3*n-3*e):(m=6*t-12*i+6*l,g=-3*t+9*i-9*l+3*c,v=3*i-3*t),Math.abs(g)<1e-12){if(Math.abs(m)<1e-12)continue;_=-v/m,0<_&&_<1&&h.push(_);continue}S=m*m-4*v*g,b=Math.sqrt(S),!(S<0)&&(w=(-m+b)/(2*g),0<w&&w<1&&h.push(w),k=(-m-b)/(2*g),0<k&&k<1&&h.push(k))}let x=h.length,R=x,M;for(;x--;)_=h[x],M=1-_,d[0][x]=M*M*M*e+3*M*M*_*n+3*M*_*_*o+_*_*_*u,d[1][x]=M*M*M*t+3*M*M*_*i+3*M*_*_*l+_*_*_*c;return d[0][R]=e,d[1][R]=t,d[0][R+1]=u,d[1][R+1]=c,d[0].length=d[1].length=R+2,{min:{x:Math.min.apply(0,d[0]),y:Math.min.apply(0,d[1])},max:{x:Math.max.apply(0,d[0]),y:Math.max.apply(0,d[1])}}}function Sb(e,t,n,i){let o=Xu.abscissas[i-2],l=Xu.weights[i-2],u=.5*(n-t),c=u+t,h=0,d=i+1>>1,g=i&1?l[h++]*e(c):0;for(;h<d;){const m=u*o[h];g+=l[h++]*(e(c+m)+e(c-m))}return u*g}function Eb(e,t){const n=e.length,i=n-1;for(let o=0;o<n;o++){const l=e[o],u=t?Yu(o-1,n):Math.max(o-1,0),c=t?Yu(o+1,n):Math.min(o+1,i),h=e[u],d=l,g=e[c];Cb(h,d,g),d.command=o===0?tt.move:tt.curve}}function Cb(e,t,n){const i=Pe.angleBetween(e,t),o=Pe.angleBetween(n,t);let l=Pe.distanceBetween(e,t),u=Pe.distanceBetween(n,t),c=(i+o)/2;return l<1e-4||u<1e-4?(typeof t.relative=="boolean"&&!t.relative&&(t.controls.left.copy(t),t.controls.right.copy(t)),t):(l*=.33,u*=.33,o<i?c+=Ny:c-=Ny,t.controls.left.x=Math.cos(c)*l,t.controls.left.y=Math.sin(c)*l,c-=Math.PI,t.controls.right.x=Math.cos(c)*u,t.controls.right.y=Math.sin(c)*u,typeof t.relative=="boolean"&&!t.relative&&(t.controls.left.x+=t.x,t.controls.left.y+=t.y,t.controls.right.x+=t.x,t.controls.right.y+=t.y),t)}let pc=class pv extends pe{constructor(){super();G(this,"_flagId",!1);G(this,"_flagClassName",!1);G(this,"_renderer",{});G(this,"_id",By.Identifier+By.uniqueId());G(this,"_className","");G(this,"classList",[]);for(let n in Uy)Object.defineProperty(this,n,Uy[n])}static fromObject(n){const i=new pv().copy(n);return"id"in n&&(i.id=n.id),i}flagReset(){this._flagId=this._flagClassName=!1}copy(n){return this.renderer.type=n.renderer.type,this.className=n.className,this}toObject(){return{renderer:{type:this.renderer.type},id:this.id,className:this.className}}};const Uy={renderer:{enumerable:!1,get:function(){return this._renderer}},id:{enumerable:!0,get:function(){return this._id},set:function(e){const t=this._id;e!==this._id&&(this._id=e,this._flagId=!0,this.parent&&(delete this.parent.children.ids[t],this.parent.children.ids[this._id]=this))}},className:{enumerable:!0,get:function(){return this._className},set:function(e){this._className!==e&&(this._flagClassName=!0,this.classList=e.split(/\s+?/),this._className=e)}}};class $y extends Error{constructor(n){super();G(this,"name","Two.js");G(this,"message");this.message=n}}class Rb{constructor(){G(this,"map",{})}add(t,n){return this.map[t]=n,this}remove(t){return delete this.map[t],this}get(t){return this.map[t]}contains(t){return t in this.map}}let Mu;const Vy={video:/\.(mp4|webm|ogg)$/i,image:/\.(jpe?g|png|gif|tiff|webp)$/i,effect:/texture|gradient/i};si.document&&(Mu=document.createElement("a"));const ot=class ot extends pc{constructor(n,i){super();G(this,"_flagSrc",!1);G(this,"_flagImage",!1);G(this,"_flagVideo",!1);G(this,"_flagLoaded",!1);G(this,"_flagRepeat",!1);G(this,"_flagOffset",!1);G(this,"_flagScale",!1);G(this,"_src","");G(this,"_image",null);G(this,"_loaded",!1);G(this,"_repeat","no-repeat");G(this,"_scale",1);G(this,"_offset",null);for(let o in Hy)Object.defineProperty(this,o,Hy[o]);if(this._renderer.type="texture",this._renderer.flagOffset=Tb.bind(this),this._renderer.flagScale=Mb.bind(this),this.loaded=!1,this.repeat="no-repeat",this.offset=new Pe,typeof i=="function"){const o=(function(){this.unbind(pe.Types.load,o),typeof i=="function"&&i()}).bind(this);this.bind(pe.Types.load,o)}if(typeof n=="string")this.src=n;else if(typeof n=="object"){const o=Object.prototype.toString.call(n);(o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]"||o==="[object HTMLVideoElement]"||o==="[object Image]")&&(this.image=n)}this._update()}fromObject(n){const i=new ot().copy(n);return"id"in n&&(i.id=n.id),i}static getAbsoluteURL(n){return Mu?(Mu.href=n,Mu.href):n}static loadHeadlessBuffer(n,i){n.image.onload=i,n.image.src=n.src}static getTag(n){return n&&n.nodeName&&n.nodeName.toLowerCase()||"img"}static getImage(n){const i=ot.getAbsoluteURL(n);if(ot.ImageRegistry.contains(i))return ot.ImageRegistry.get(i);let o;return si.document?Vy.video.test(i)?o=document.createElement("video"):o=document.createElement("img"):console.warn("Two.js: no prototypical image defined for Two.Texture"),o.crossOrigin="anonymous",o.referrerPolicy="no-referrer",o}static load(n,i){let o=n.image,l=ot.getTag(o);n._flagImage&&(/canvas/i.test(l)?ot.Register.canvas(n,i):(n._src=o.getAttribute("two-src")||o.src,ot.Register[l](n,i))),n._flagSrc&&(o||(o=ot.getImage(n.src),n.image=o),l=ot.getTag(o),ot.Register[l](n,i))}clone(){const n=new ot(this.src);return n.repeat=this.repeat,n.offset.copy(this.offset),n.scale=this.scale,n}copy(n){return this.src=n.src,this.repeat=n.repeat,this.offset=typeof n.offset=="number"||n.offset instanceof Pe?n.offset:new Pe().copy(n.offset),this.scale=typeof n.scale=="number"||n.scale instanceof Pe?n.scale:new Pe().copy(n.scale),this}toObject(){const n=super.toObject.call(this);return n.renderer.type="texture",n.src=this.src,n.repeat=this.repeat,n.offset=this.offset.toObject(),n.scale=typeof this.scale=="number"?this.scale:this.scale.toObject(),n}_update(){return(this._flagSrc||this._flagImage)&&(this.trigger(pe.Types.change),(this._flagSrc||this._flagImage)&&(this.loaded=!1,ot.load(this,(function(){this.loaded=!0,this.trigger(pe.Types.change).trigger(pe.Types.load)}).bind(this)))),this._image&&this._image.readyState>=4&&(this._flagVideo=!0),this}flagReset(){return this._flagSrc=this._flagImage=this._flagLoaded=this._flagRepeat=this._flagVideo=this._flagScale=this._flagOffset=!1,super.flagReset.call(this),this}};G(ot,"Properties",["src","loaded","repeat","scale","offset","image"]),G(ot,"RegularExpressions",Vy),G(ot,"ImageRegistry",new Rb),G(ot,"Register",{canvas:function(n,i){n._src="#"+n.id,ot.ImageRegistry.add(n.src,n.image),typeof i=="function"&&i()},img:function(n,i){const o=n.image,l=function(c){o.removeEventListener&&typeof o.removeEventListener=="function"&&(o.removeEventListener("load",l,!1),o.removeEventListener("error",u,!1)),typeof i=="function"&&i()},u=function(c){throw typeof o.removeEventListener=="function"&&(o.removeEventListener("load",l,!1),o.removeEventListener("error",u,!1)),new $y("unable to load "+n.src)};typeof o.width=="number"&&o.width>0&&typeof o.height=="number"&&o.height>0?l():typeof o.addEventListener=="function"&&(o.addEventListener("load",l,!1),o.addEventListener("error",u,!1)),n._src=ot.getAbsoluteURL(n._src),!(o&&o.getAttribute("two-src"))&&(o.setAttribute("two-src",n.src),ot.ImageRegistry.add(n.src,o),n.image.src=n.src)},video:function(n,i){const o=function(u){n.image.removeEventListener("canplaythrough",o,!1),n.image.removeEventListener("error",l,!1),n.image.width=n.image.videoWidth,n.image.height=n.image.videoHeight,typeof i=="function"&&i()},l=function(u){throw n.image.removeEventListener("canplaythrough",o,!1),n.image.removeEventListener("error",l,!1),new $y("unable to load "+n.src)};n._src=ot.getAbsoluteURL(n._src),n.image.getAttribute("two-src")||(n.image.setAttribute("two-src",n.src),ot.ImageRegistry.add(n.src,n.image)),n.image.readyState>=4?o():(n.image.addEventListener("canplaythrough",o,!1),n.image.addEventListener("error",l,!1),n.image.src=n.src,n.image.load())}});let Ar=ot;const Hy={src:{enumerable:!0,get:function(){return this._src},set:function(e){this._src=e,this._flagSrc=!0}},loaded:{enumerable:!0,get:function(){return this._loaded},set:function(e){this._loaded=e,this._flagLoaded=!0}},repeat:{enumerable:!0,get:function(){return this._repeat},set:function(e){this._repeat=e,this._flagRepeat=!0}},image:{enumerable:!0,get:function(){return this._image},set:function(e){const t=Ar.getTag(e);let n;switch(t){case"canvas":n="#"+e.id;break;default:n=e.src}Ar.ImageRegistry.contains(n)?this._image=Ar.ImageRegistry.get(e.src):this._image=e,this._flagImage=!0}},offset:{enumerable:!0,get:function(){return this._offset},set:function(e){this._offset&&this._offset.unbind(pe.Types.change,this._renderer.flagOffset),this._offset=e,this._offset.bind(pe.Types.change,this._renderer.flagOffset),this._flagOffset=!0}},scale:{enumerable:!0,get:function(){return this._scale},set:function(e){this._scale instanceof Pe&&this._scale.unbind(pe.Types.change,this._renderer.flagScale),this._scale=e,this._scale instanceof Pe&&this._scale.bind(pe.Types.change,this._renderer.flagScale),this._flagScale=!0}}};function Tb(){this._flagOffset=!0}function Mb(){this._flagScale=!0}const Wy=Array.prototype.slice;function Pb(e){if(e==null)return!1;const t=e.length;return typeof t=="number"&&t>=0&&t<4294967296}const ln={isNaN:function(e){return typeof e=="number"&&e!==+e},isElement:function(e){return!!(e&&e.nodeType===1)},isObject:function(e){const t=typeof e;return t==="function"||t==="object"&&!!e},extend:function(e){const t=Wy.call(arguments,1);for(let n=0;n<t.length;n++){const i=t[n];for(let o in i)e[o]=i[o]}return e},defaults:function(e){const t=Wy.call(arguments,1);for(let n=0;n<t.length;n++){const i=t[n];for(let o in i)e[o]===void 0&&(e[o]=i[o])}return e},each:function(e,t,n){const i=n||this,o=!Pb(e)&&Object.keys(e),l=(o||e).length;for(let u=0;u<l;u++){const c=o?o[u]:u;t.call(i,e[c],c,e)}return e},performance:si.performance&&si.performance.now?si.performance:Date},xn=class xn extends pc{constructor(n,i,o){super();G(this,"_flagOffset",!0);G(this,"_flagOpacity",!0);G(this,"_flagColor",!0);G(this,"_offset",0);G(this,"_opacity",1);G(this,"_color","#fff");for(let l in Yy)Object.defineProperty(this,l,Yy[l]);this._renderer.type="stop",this.offset=typeof n=="number"?n:xn.Index<=0?0:1,this.opacity=typeof o=="number"?o:1,this.color=typeof i=="string"?i:xn.Index<=0?"#fff":"#000",xn.Index=(xn.Index+1)%2}static fromObject(n){const i=new xn().copy(n);return"id"in n&&(i.id=n.id),i}copy(n){super.copy.call(this,n);for(let i=0;i<xn.Properties.length;i++){const o=xn.Properties[i];o in n&&(this[o]=n[o])}return this}clone(n){const i=new xn;return ln.each(xn.Properties,function(o){i[o]=this[o]},this),n&&n.stops&&n.stops.push(i),i}toObject(){const n=super.toObject.call(this);return n.renderer.type="stop",ln.each(xn.Properties,i=>{n[i]=this[i]},this),n}flagReset(){return this._flagOffset=this._flagColor=this._flagOpacity=!1,super.flagReset.call(this),this}};G(xn,"Index",0),G(xn,"Properties",["offset","opacity","color"]);let Ss=xn;const Yy={offset:{enumerable:!0,get:function(){return this._offset},set:function(e){this._offset=e,this._flagOffset=!0,this.parent&&(this.parent._flagStops=!0)}},opacity:{enumerable:!0,get:function(){return this._opacity},set:function(e){this._opacity=e,this._flagOpacity=!0,this.parent&&(this.parent._flagStops=!0)}},color:{enumerable:!0,get:function(){return this._color},set:function(e){this._color=e,this._flagColor=!0,this.parent&&(this.parent._flagStops=!0)}}},Cr=class Cr extends pc{constructor(n){super();G(this,"_flagStops",!1);G(this,"_flagSpread",!1);G(this,"_flagUnits",!1);G(this,"_spread","");G(this,"_units","");for(let i in Xy)Object.defineProperty(this,i,Xy[i]);this._renderer.type="gradient",this._renderer.flagStops=Ab.bind(this),this._renderer.bindStops=Ob.bind(this),this._renderer.unbindStops=Lb.bind(this),this.spread="pad",this.units="objectBoundingBox",n&&(this.stops=n)}static fromObject(n){let i=n.stops;i&&i.length>0&&(i=i.map(l=>l instanceof Ss?l:new Ss().copy(l)));const o=new Cr().copy(n);return"id"in n&&(o.id=n.id),o}clone(n){const i=this.stops.map(l=>l.clone()),o=new Cr(i);return ln.each(Cr.Properties,l=>{o[l]=this[l]},this),n&&n.add(o),o}copy(n){super.copy.call(this,n);for(let i=0;i<Cr.Properties.length;i++){const o=Cr.Properties[i];o in n&&(this[o]=n[o])}return this}toObject(){const n={stops:this.stops.map(i=>i.toObject())};return ln.each(Cr.Properties,i=>{n[i]=this[i]},this),n}_update(){return(this._flagSpread||this._flagStops)&&this.trigger(pe.Types.change),this}flagReset(){return this._flagSpread=this._flagUnits=this._flagStops=!1,super.flagReset.call(this),this}};G(Cr,"Stop",Ss),G(Cr,"Properties",["spread","stops","units"]);let yr=Cr;const Xy={spread:{enumerable:!0,get:function(){return this._spread},set:function(e){this._spread=e,this._flagSpread=!0}},units:{enumerable:!0,get:function(){return this._units},set:function(e){this._units=e,this._flagUnits=!0}},stops:{enumerable:!0,get:function(){return this._stops},set:function(e){const t=this._renderer.bindStops,n=this._renderer.unbindStops;this._stops&&this._stops.unbind(pe.Types.insert,t).unbind(pe.Types.remove,n),this._stops=new Jh((e||[]).slice(0)),this._stops.bind(pe.Types.insert,t).bind(pe.Types.remove,n),t(this._stops)}}};function Ab(){this._flagStops=!0}function Ob(e){let t=e.length;for(;t--;)e[t].bind(pe.Types.change,this._renderer.flagStops),e[t].parent=this;this._renderer.flagStops()}function Lb(e){let t=e.length;for(;t--;)e[t].unbind(pe.Types.change,this._renderer.flagStops),delete e[t].parent;this._renderer.flagStops()}const Ni=class Ni extends yr{constructor(n,i,o,l,u){super(u);G(this,"_flagEndPoints",!1);G(this,"_left",null);G(this,"_right",null);for(let c in Ky)Object.defineProperty(this,c,Ky[c]);this._renderer.type="linear-gradient",this._renderer.flagEndPoints=Fb.bind(this),this.left=new Pe,this.right=new Pe,typeof n=="number"&&(this.left.x=n),typeof i=="number"&&(this.left.y=i),typeof o=="number"&&(this.right.x=o),typeof l=="number"&&(this.right.y=l)}static fromObject(n){const i=new Ni().copy(n);return"id"in n&&(i.id=n.id),i}copy(n){super.copy.call(this,n);for(let i=0;i<Ni.Properties.length;i++){const o=Ni.Properties[i];o in n&&(this[o]=n[o]instanceof Pe?n[o]:new Pe().copy(n[o]))}return this}clone(n){const i=this.stops.map(function(l){return l.clone()}),o=new Ni(this.left._x,this.left._y,this.right._x,this.right._y,i);return ln.each(yr.Properties,function(l){o[l]=this[l]},this),n&&n.add(o),o}toObject(){const n=super.toObject.call(this);return n.left=this.left.toObject(),n.right=this.right.toObject(),n}_update(){return(this._flagEndPoints||this._flagSpread||this._flagStops)&&this.trigger(pe.Types.change),this}flagReset(){return this._flagEndPoints=!1,super.flagReset.call(this),this}};G(Ni,"Stop",Ss),G(Ni,"Properties",["left","right"]);let xs=Ni;const Ky={left:{enumerable:!0,get:function(){return this._left},set:function(e){this._left instanceof Pe&&this._left.unbind(pe.Types.change,this._renderer.flagEndPoints),this._left=e,this._left.bind(pe.Types.change,this._renderer.flagEndPoints),this._flagEndPoints=!0}},right:{enumerable:!0,get:function(){return this._right},set:function(e){this._right instanceof Pe&&this._right.unbind(pe.Types.change,this._renderer.flagEndPoints),this._right=e,this._right.bind(pe.Types.change,this._renderer.flagEndPoints),this._flagEndPoints=!0}}};function Fb(){this._flagEndPoints=!0}const Rr=class Rr extends yr{constructor(n,i,o,l,u,c){super(l);G(this,"_flagRadius",!1);G(this,"_flagCenter",!1);G(this,"_flagFocal",!1);G(this,"_radius",0);G(this,"_center",null);G(this,"_focal",null);for(let h in qy)Object.defineProperty(this,h,qy[h]);this._renderer.type="radial-gradient",this._renderer.flagCenter=Ib.bind(this),this._renderer.flagFocal=Nb.bind(this),this.center=new Pe,this.radius=typeof o=="number"?o:1,this.focal=new Pe,typeof n=="number"&&(this.center.x=n),typeof i=="number"&&(this.center.y=i),this.focal.copy(this.center),typeof u=="number"&&(this.focal.x=u),typeof c=="number"&&(this.focal.y=c)}static fromObject(n){const i=new Rr().copy(n);return"id"in n&&(i.id=n.id),i}copy(n){super.copy.call(this,n);for(let i=0;i<Rr.Properties.length;i++){const o=Rr.Properties[i];o in n&&(/(center|focal)i/.test(o)?this[o]=n[o]instanceof Pe?n[o]:new Pe().copy(n[o]):typeof n[o]=="number"&&(this[o]=n[MediaKeySystemAccess]))}return this}clone(n){const i=this.stops.map(function(l){return l.clone()}),o=new Rr(this.center._x,this.center._y,this._radius,i,this.focal._x,this.focal._y);return ln.each(yr.Properties.concat(Rr.Properties),function(l){o[l]=this[l]},this),n&&n.add(o),o}toObject(){const n=super.toObject.call(this);return ln.each(Rr.Properties,function(i){n[i]=this[i]},this),n.center=this.center.toObject(),n.focal=this.focal.toObject(),n}_update(){return(this._flagRadius||this._flatCenter||this._flagFocal||this._flagSpread||this._flagStops)&&this.trigger(pe.Types.change),this}flagReset(){return this._flagRadius=this._flagCenter=this._flagFocal=!1,super.flagReset.call(this),this}};G(Rr,"Stop",Ss),G(Rr,"Properties",["center","radius","focal"]);let ws=Rr;const qy={radius:{enumerable:!0,get:function(){return this._radius},set:function(e){this._radius=e,this._flagRadius=!0}},center:{enumerable:!0,get:function(){return this._center},set:function(e){this._center&&this._center.unbind(pe.Types.change,this._renderer.flagCenter),this._center=e,this._center.bind(pe.Types.change,this._renderer.flagCenter),this._flagCenter=!0}},focal:{enumerable:!0,get:function(){return this._focal},set:function(e){this._focal&&this._focal.unbind(pe.Types.change,this._renderer.flagFocal),this._focal=e,this._focal.bind(pe.Types.change,this._renderer.flagFocal),this._flagFocal=!0}}};function Ib(){this._flagCenter=!0}function Nb(){this._flagFocal=!0}function Gy(e,t){if(t===0||t===1)return!0;const i=e._length*t;let o=0;for(let l=0;l<e._lengths.length;l++){const u=e._lengths[l];if(o>=i)return i-o>=0;o+=u}return!1}function Qy(e,t){const n=e._length;if(t<=0)return 0;if(t>=n)return e._lengths.length-1;for(let i=0,o=0;i<e._lengths.length;i++){if(o+e._lengths[i]>=t)return t-=o,Math.max(i-1,0)+t/e._lengths[i];o+=e._lengths[i]}return-1}function Zy(e,t,n){let i,o,l,u,c,h,d,g;const m=t.controls&&t.controls.right,v=e.controls&&e.controls.left;return i=t.x,c=t.y,o=(m||t).x,h=(m||t).y,l=(v||e).x,d=(v||e).y,u=e.x,g=e.y,m&&t._relative&&(o+=t.x,h+=t.y),v&&e._relative&&(l+=e.x,d+=e.y),kb(i,c,o,h,l,d,u,g,n)}function Jy(e,t,n){let i,o,l,u,c,h,d,g;const m=t.controls&&t.controls.right,v=e.controls&&e.controls.left;return i=t.x,c=t.y,o=(m||t).x,h=(m||t).y,l=(v||e).x,d=(v||e).y,u=e.x,g=e.y,m&&t._relative&&(o+=t.x,h+=t.y),v&&e._relative&&(l+=e.x,d+=e.y),wb(i,c,o,h,l,d,u,g,n)}function e0(e){switch(e.renderer.type){case"texture":return Ar.fromObject(e);case"gradient":return yr.fromObject(e);case"linear-gradient":return xs.fromObject(e);case"radial-gradient":return ws.fromObject(e)}return e}const jb=Math.cos,Db=Math.sin,t0=Math.tan,Sh=[],sn=class sn extends pe{constructor(n,i,o,l,u,c){super();G(this,"elements",new jy(9));G(this,"manual",!1);let h=n;Array.isArray(h)||(h=Array.prototype.slice.call(arguments)),this.identity(),h.length>0&&this.set(h)}static Multiply(n,i,o){if(i.length<=3){const j=n;let Y,z,H;const X=i[0]||0,K=i[1]||0,ae=i[2]||0;return Y=j[0]*X+j[1]*K+j[2]*ae,z=j[3]*X+j[4]*K+j[5]*ae,H=j[6]*X+j[7]*K+j[8]*ae,[Y,z,H]}const l=n[0],u=n[1],c=n[2],h=n[3],d=n[4],g=n[5],m=n[6],v=n[7],_=n[8],w=i[0],k=i[1],S=i[2],b=i[3],x=i[4],R=i[5],M=i[6],P=i[7],I=i[8];return o=o||new jy(9),o[0]=l*w+u*b+c*M,o[1]=l*k+u*x+c*P,o[2]=l*S+u*R+c*I,o[3]=h*w+d*b+g*M,o[4]=h*k+d*x+g*P,o[5]=h*S+d*R+g*I,o[6]=m*w+v*b+_*M,o[7]=m*k+v*x+_*P,o[8]=m*S+v*R+_*I,o}static fromObject(n){return new sn().copy(n)}set(n,i,o,l,u,c,h,d,g){if(typeof i>"u"){const m=n;n=m[0],i=m[1],o=m[2],l=m[3],u=m[4],c=m[5],h=m[6],d=m[7],g=m[8]}return this.elements[0]=n,this.elements[1]=i,this.elements[2]=o,this.elements[3]=l,this.elements[4]=u,this.elements[5]=c,this.elements[6]=h,this.elements[7]=d,this.elements[8]=g,this.trigger(pe.Types.change)}copy(n){return this.elements[0]=n.elements[0],this.elements[1]=n.elements[1],this.elements[2]=n.elements[2],this.elements[3]=n.elements[3],this.elements[4]=n.elements[4],this.elements[5]=n.elements[5],this.elements[6]=n.elements[6],this.elements[7]=n.elements[7],this.elements[8]=n.elements[8],this.manual=n.manual,this.trigger(pe.Types.change)}identity(){return this.elements[0]=sn.Identity[0],this.elements[1]=sn.Identity[1],this.elements[2]=sn.Identity[2],this.elements[3]=sn.Identity[3],this.elements[4]=sn.Identity[4],this.elements[5]=sn.Identity[5],this.elements[6]=sn.Identity[6],this.elements[7]=sn.Identity[7],this.elements[8]=sn.Identity[8],this.trigger(pe.Types.change)}multiply(n,i,o,l,u,c,h,d,g){if(typeof i>"u")return this.elements[0]*=n,this.elements[1]*=n,this.elements[2]*=n,this.elements[3]*=n,this.elements[4]*=n,this.elements[5]*=n,this.elements[6]*=n,this.elements[7]*=n,this.elements[8]*=n,this.trigger(pe.Types.change);if(typeof o>"u"&&(o=1),typeof l>"u"){n=n||0,i=i||0,o=o||0,u=this.elements;const re=u[0]*n+u[1]*i+u[2]*o,ue=u[3]*n+u[4]*i+u[5]*o,Z=u[6]*n+u[7]*i+u[8]*o;return[re,ue,Z]}const m=this.elements,v=[n,i,o,l,u,c,h,d,g],_=m[0],w=m[1],k=m[2],S=m[3],b=m[4],x=m[5],R=m[6],M=m[7],P=m[8],I=v[0],j=v[1],Y=v[2],z=v[3],H=v[4],X=v[5],K=v[6],ae=v[7],te=v[8];return this.elements[0]=_*I+w*z+k*K,this.elements[1]=_*j+w*H+k*ae,this.elements[2]=_*Y+w*X+k*te,this.elements[3]=S*I+b*z+x*K,this.elements[4]=S*j+b*H+x*ae,this.elements[5]=S*Y+b*X+x*te,this.elements[6]=R*I+M*z+P*K,this.elements[7]=R*j+M*H+P*ae,this.elements[8]=R*Y+M*X+P*te,this.trigger(pe.Types.change)}inverse(n){const i=this.elements;n=n||new sn;const o=i[0],l=i[1],u=i[2],c=i[3],h=i[4],d=i[5],g=i[6],m=i[7],v=i[8],_=v*h-d*m,w=-v*c+d*g,k=m*c-h*g;let S=o*_+l*w+u*k;return S?(S=1/S,n.elements[0]=_*S,n.elements[1]=(-v*l+u*m)*S,n.elements[2]=(d*l-u*h)*S,n.elements[3]=w*S,n.elements[4]=(v*o-u*g)*S,n.elements[5]=(-d*o+u*c)*S,n.elements[6]=k*S,n.elements[7]=(-m*o+l*g)*S,n.elements[8]=(h*o-l*c)*S,n):null}scale(n,i){return arguments.length<=1&&(i=n),this.multiply(n,0,0,0,i,0,0,0,1)}rotate(n){const i=jb(n),o=Db(n);return this.multiply(i,-o,0,o,i,0,0,0,1)}translate(n,i){return this.multiply(1,0,n,0,1,i,0,0,1)}skewX(n){const i=t0(n);return this.multiply(1,i,0,0,1,0,0,0,1)}skewY(n){const i=t0(n);return this.multiply(1,0,0,i,1,0,0,0,1)}toString(n){return Sh.length=0,this.toTransformArray(n,Sh),Sh.map(Tr).join(" ")}toTransformArray(n,i){const o=this.elements,l=!!i,u=o[0],c=o[1],h=o[2],d=o[3],g=o[4],m=o[5];if(n){const v=o[6],_=o[7],w=o[8];if(l){i[0]=u,i[1]=d,i[2]=v,i[3]=c,i[4]=g,i[5]=_,i[6]=h,i[7]=m,i[8]=w;return}return[u,d,v,c,g,_,h,m,w]}if(l){i[0]=u,i[1]=d,i[2]=c,i[3]=g,i[4]=h,i[5]=m;return}return[u,d,c,g,h,m]}toArray(n,i){const o=this.elements,l=!!i,u=o[0],c=o[1],h=o[2],d=o[3],g=o[4],m=o[5];if(n){const v=o[6],_=o[7],w=o[8];if(l){i[0]=u,i[1]=c,i[2]=h,i[3]=d,i[4]=g,i[5]=m,i[6]=v,i[7]=_,i[8]=w;return}return[u,c,h,d,g,m,v,_,w]}if(l){i[0]=u,i[1]=c,i[2]=h,i[3]=d,i[4]=g,i[5]=m;return}return[u,c,h,d,g,m]}toObject(){return{renderer:{type:"matrix"},elements:this.toArray(!0),manual:!!this.manual}}clone(){return new sn().copy(this)}};G(sn,"Identity",[1,0,0,0,1,0,0,0,1]);let As=sn;yb(As);class Eo extends pc{constructor(){super();G(this,"_flagMatrix",!0);G(this,"_flagScale",!1);G(this,"_matrix",null);G(this,"_worldMatrix",null);G(this,"_position",null);G(this,"_rotation",0);G(this,"_scale",1);G(this,"_skewX",0);G(this,"_skewY",0);for(let n in bu)Object.defineProperty(this,n,bu[n]);this._renderer.flagMatrix=gv.bind(this),this.isShape=!0,this.matrix=new As,this.worldMatrix=new As,this.position=new Pe,this.rotation=0,this.scale=1,this.skewX=0,this.skewY=0}static fromObject(n){const i=new Eo().copy(n);return"id"in n&&(i.id=n.id),i}get renderer(){return this._renderer}set renderer(n){this._renderer=n}get translation(){return bu.position.get.apply(this,arguments)}set translation(n){bu.position.set.apply(this,arguments)}addTo(n){return n.add(this),this}remove(){return this.parent?(this.parent.remove(this),this):this}copy(n){return super.copy.call(this,n),"position"in n&&(n.position instanceof Pe?this.position=n.position:this.position.copy(n.position)),"rotation"in n&&(this.rotation=n.rotation),"scale"in n&&(this.scale=typeof n.scale=="number"||n.scale instanceof Pe?n.scale:new Pe(n.scale.x,n.scale.y)),"skewX"in n&&(this.skewX=n.skewX),"skewY"in n&&(this.skewY=n.skewY),"matrix"in n&&n.matrix.manual&&(this.matrix.copy(n.matrix),this.matrix.manual=!0),this}clone(n){const i=new Eo;return i.position.copy(this.position),i.rotation=this.rotation,i.scale=this.scale,i.skewX=this.skewX,i.skewY=this.skewY,this.matrix.manual&&i.matrix.copy(this.matrix),n&&n.add(i),i._update()}toObject(){const n=super.toObject.call(this);return n.renderer={type:"shape"},n.isShape=!0,n.translation=this.translation.toObject(),n.rotation=this.translation.rotation,n.scale=this.scale instanceof Pe?this.scale.toObject():this.scale,n.skewX=this.skewX,n.skewY=this.skewY,n.matrix=this.matrix.toObject(),n}_update(n){return!this._matrix.manual&&this._flagMatrix&&(this._matrix.identity().translate(this.position.x,this.position.y),this._scale instanceof Pe?this._matrix.scale(this._scale.x,this._scale.y):this._matrix.scale(this._scale),this._matrix.rotate(this.rotation),this._matrix.skewX(this.skewX),this._matrix.skewY(this.skewY)),n&&this.parent&&this.parent._update&&this.parent._update(),this}flagReset(){return this._flagMatrix=this._flagScale=!1,super.flagReset.call(this),this}}const bu={position:{enumerable:!0,get:function(){return this._position},set:function(e){this._position&&this._position.unbind(pe.Types.change,this._renderer.flagMatrix),this._position=e,this._position.bind(pe.Types.change,this._renderer.flagMatrix),gv.call(this)}},rotation:{enumerable:!0,get:function(){return this._rotation},set:function(e){this._rotation=e,this._flagMatrix=!0}},scale:{enumerable:!0,get:function(){return this._scale},set:function(e){this._scale instanceof Pe&&this._scale.unbind(pe.Types.change,this._renderer.flagMatrix),this._scale=e,this._scale instanceof Pe&&this._scale.bind(pe.Types.change,this._renderer.flagMatrix),this._flagMatrix=!0,this._flagScale=!0}},skewX:{enumerable:!0,get:function(){return this._skewX},set:function(e){this._skewX=e,this._flagMatrix=!0}},skewY:{enumerable:!0,get:function(){return this._skewY},set:function(e){this._skewY=e,this._flagMatrix=!0}},matrix:{enumerable:!0,get:function(){return this._matrix},set:function(e){this._matrix=e,this._flagMatrix=!0}},worldMatrix:{enumerable:!0,get:function(){return _b(this,this._worldMatrix),this._worldMatrix},set:function(e){this._worldMatrix=e}}};function gv(){this._flagMatrix=!0}const po=Math.min,go=Math.max,zb=Math.ceil,Bb=Math.floor,Ub=new Pe,dr=class dr extends Eo{constructor(n,i,o,l){super();G(this,"_flagVertices",!0);G(this,"_flagLength",!0);G(this,"_flagFill",!0);G(this,"_flagStroke",!0);G(this,"_flagLinewidth",!0);G(this,"_flagOpacity",!0);G(this,"_flagVisible",!0);G(this,"_flagCap",!0);G(this,"_flagJoin",!0);G(this,"_flagMiter",!0);G(this,"_flagMask",!1);G(this,"_flagClip",!1);G(this,"_length",0);G(this,"_fill","#fff");G(this,"_stroke","#000");G(this,"_linewidth",1);G(this,"_opacity",1);G(this,"_visible",!0);G(this,"_cap","round");G(this,"_join","round");G(this,"_miter",4);G(this,"_closed",!0);G(this,"_curved",!1);G(this,"_automatic",!0);G(this,"_beginning",0);G(this,"_ending",1);G(this,"_mask",null);G(this,"_clip",!1);G(this,"_dashes",null);for(let u in n0)Object.defineProperty(this,u,n0[u]);this._renderer.type="path",this._renderer.flagVertices=$b.bind(this),this._renderer.bindVertices=Vb.bind(this),this._renderer.unbindVertices=Hb.bind(this),this._renderer.flagFill=Wb.bind(this),this._renderer.flagStroke=Yb.bind(this),this._renderer.vertices=[],this._renderer.collection=[],this.closed=!!i,this.curved=!!o,this.beginning=0,this.ending=1,this.fill="#fff",this.stroke="#000",this.linewidth=1,this.opacity=1,this.className="",this.visible=!0,this.cap="butt",this.join="miter",this.miter=4,this.vertices=n,this.automatic=!l,this.dashes=[],this.dashes.offset=0}static fromObject(n){const i=typeof n.fill=="string"?n.fill:e0(n.fill),o=typeof n.stroke=="string"?n.stroke:e0(n.stroke),l=new dr().copy({...n,fill:i,stroke:o});return"id"in n&&(l.id=n.id),l}copy(n){super.copy.call(this,n),this.vertices=[];for(let i=0;i<n.vertices.length;i++){const o=n.vertices[i];o instanceof wn?this.vertices.push(n.vertices[i].clone()):this.vertices.push(new wn().copy(o))}for(let i=0;i<dr.Properties.length;i++){const o=dr.Properties[i];o in n&&(this[o]=n[o])}return this}clone(n){const i=new dr;for(let o=0;o<this.vertices.length;o++)i.vertices.push(this.vertices[o].clone());for(let o=0;o<dr.Properties.length;o++){const l=dr.Properties[o];i[l]=this[l]}return i.className=this.className,i.translation.copy(this.translation),i.rotation=this.rotation,i.scale=this.scale,i.skewX=this.skewX,i.skewY=this.skewY,this.matrix.manual&&i.matrix.copy(this.matrix),n&&n.add(i),i._update()}toObject(){const n=super.toObject.call(this);return n.renderer.type="path",n.vertices=this.vertices.map(i=>i.toObject()),ln.each(dr.Properties,i=>{typeof this[i]<"u"&&(this[i].toObject?n[i]=this[i].toObject():n[i]=this[i])},this),n}noFill(){return this.fill="none",this}noStroke(){return this.stroke="none",this.linewidth=0,this}corner(){const n=this.getBoundingClientRect(!0),i=n.width/2,o=n.height/2,l=n.left+n.width/2,u=n.top+n.height/2;for(let c=0;c<this.vertices.length;c++){const h=this.vertices[c];h.x-=l,h.y-=u,h.x+=i,h.y+=o}return this.mask&&(this.mask.translation.x-=l,this.mask.translation.x+=i,this.mask.translation.y-=u,this.mask.translation.y+=o),this}center(){const n=this.getBoundingClientRect(!0),i=n.left+n.width/2-this.translation.x,o=n.top+n.height/2-this.translation.y;for(let l=0;l<this.vertices.length;l++){const u=this.vertices[l];u.x-=i,u.y-=o}return this.mask&&(this.mask.translation.x-=i,this.mask.translation.y-=o),this}getBoundingClientRect(n){let i,o,l,u,c,h,d=1/0,g=-1/0,m=1/0,v=-1/0;if(this._update(!0),i=n?this.matrix:this.worldMatrix,o=(this.linewidth||0)/2,l=this._renderer.vertices.length,this.linewidth>0||this.stroke&&!/(transparent|none)/i.test(this.stroke))if(this.matrix.manual){const{scaleX:_,scaleY:w}=mb(i.elements[0],i.elements[3],i.elements[1],i.elements[4],i.elements[2],i.elements[5]);typeof _=="number"&&typeof w=="number"&&(o=Math.max(_,w)*(this.linewidth||0)/2)}else o*=typeof this.scale=="number"?this.scale:Math.max(this.scale.x,this.scale.y);if(l<=0)return{width:0,height:0};for(u=0;u<l;u++){h=this._renderer.vertices[u],c=this._renderer.vertices[(u+l-1)%l];const[_,w]=i.multiply(c.x,c.y),[k,S]=i.multiply(h.x,h.y);if(c.controls&&h.controls){let b=c.controls.right.x,x=c.controls.right.y;c.relative&&(b+=c.x,x+=c.y);let[R,M]=i.multiply(b,x),P=h.controls.left.x,I=h.controls.left.y;h.relative&&(P+=h.x,I+=h.y);let[j,Y]=i.multiply(P,I);const z=bb(_,w,R,M,j,Y,k,S);m=po(z.min.y-o,m),d=po(z.min.x-o,d),g=go(z.max.x+o,g),v=go(z.max.y+o,v)}else u<=1&&(m=po(w-o,m),d=po(_-o,d),g=go(_+o,g),v=go(w+o,v)),m=po(S-o,m),d=po(k-o,d),g=go(k+o,g),v=go(S+o,v)}return{top:m,left:d,right:g,bottom:v,width:g-d,height:v-m}}getPointAt(n,i){let o,l,u,c,h,d,g,m,v,_,w,k,S,b,x,R=this.length*Math.min(Math.max(n,0),1);const M=this.vertices.length,P=M-1;let I=null,j=null;for(let D=0,B=this._lengths.length,q=0;D<B;D++){if(q+this._lengths[D]>=R){this._closed?(o=Yu(D,M),l=Yu(D-1,M),D===0&&(o=l,l=D)):(o=D,l=Math.min(Math.max(D-1,0),P)),I=this.vertices[o],j=this.vertices[l],R-=q,this._lengths[D]!==0?n=R/this._lengths[D]:n=0;break}q+=this._lengths[D]}if(I===null||j===null)return null;if(I){if(!j)return I}else return j;x=j.controls&&j.controls.right,b=I.controls&&I.controls.left,h=j.x,_=j.y,d=(x||j).x,w=(x||j).y,g=(b||I).x,k=(b||I).y,m=I.x,S=I.y,x&&j.relative&&(d+=j.x,w+=j.y),b&&I.relative&&(g+=I.x,k+=I.y),c=Ku(n,h,d,g,m),v=Ku(n,_,w,k,S);const Y=Er(h,d,n),z=Er(_,w,n),H=Er(d,g,n),X=Er(w,k,n),K=Er(g,m,n),ae=Er(k,S,n),te=Er(Y,H,n),re=Er(z,X,n),ue=Er(H,K,n),Z=Er(X,ae,n);return ln.isObject(i)?(i.x=c,i.y=v,i instanceof wn&&(i.controls.left.x=te,i.controls.left.y=re,i.controls.right.x=ue,i.controls.right.y=Z,(typeof i.relative!="boolean"||i.relative)&&(i.controls.left.x-=c,i.controls.left.y-=v,i.controls.right.x-=c,i.controls.right.y-=v)),i.t=n,i):(u=new wn(c,v,te-c,re-v,ue-c,Z-v,this._curved?tt.curve:tt.line),u.t=n,u)}plot(){if(this.curved)return Eb(this._collection,this.closed),this;for(let n=0;n<this._collection.length;n++)this._collection[n].command=n===0?tt.move:tt.line;return this}subdivide(n){this._update();const i=this.vertices.length-1,o=this._closed||this.vertices[i]._command===tt.close;let l=this.vertices[i],u=[],c;return ln.each(this.vertices,function(h,d){if(d<=0&&!o){l=h;return}if(h.command===tt.move){u.push(new wn(l.x,l.y)),d>0&&(u[u.length-1].command=tt.line),l=h;return}c=Jy(h,l,n),u=u.concat(c),ln.each(c,function(g,m){m<=0&&l.command===tt.move?g.command=tt.move:g.command=tt.line}),d>=i&&(this._closed&&this._automatic?(l=h,c=Jy(h,l,n),u=u.concat(c),ln.each(c,function(g,m){m<=0&&l.command===tt.move?g.command=tt.move:g.command=tt.line})):o&&u.push(new wn(h.x,h.y)),u[u.length-1].command=o?tt.close:tt.line),l=h},this),this._automatic=!1,this._curved=!1,this.vertices=u,this}_updateLength(n,i){i||this._update();const l=this.vertices.length-1;let u=this.vertices[l],c=0;return typeof this._lengths>"u"&&(this._lengths=[]),ln.each(this.vertices,function(h,d){if(d<=0||h.command===tt.move){u=h,this._lengths[d]=0;return}this._lengths[d]=Zy(h,u,n),c+=this._lengths[d],u=h},this),this._length=c,this._flagLength=!1,this}_update(){if(this._flagVertices){this._automatic&&this.plot(),this._flagLength&&this._updateLength(void 0,!0);const n=this._collection.length,i=this._closed,o=Math.min(this._beginning,this._ending),l=Math.max(this._beginning,this._ending),u=Qy(this,o*this._length),c=Qy(this,l*this._length),h=zb(u),d=Bb(c);let g,m,v,_,w,k;for(this._renderer.vertices.length=0,k=0;k<n;k++)this._renderer.collection.length<=k&&this._renderer.collection.push(new wn),k>d&&!m?(w=this._renderer.collection[k].copy(this._collection[k]),this.getPointAt(l,w),w.command=this._renderer.collection[k].command,this._renderer.vertices.push(w),m=w,v=this._collection[k-1],v&&v.controls&&(w.relative?w.controls.right.clear():w.controls.right.copy(w),v.relative?this._renderer.collection[k-1].controls.right.copy(v.controls.right).lerp(Pe.zero,1-w.t):this._renderer.collection[k-1].controls.right.copy(v.controls.right).lerp(v,1-w.t))):k>=h&&k<=d&&(w=this._renderer.collection[k].copy(this._collection[k]),this._renderer.vertices.push(w),k===d&&Gy(this,l)?(m=w,!i&&m.controls&&(m.relative?m.controls.right.clear():m.controls.right.copy(m))):k===h&&Gy(this,o)&&(g=w,g.command=tt.move,!i&&g.controls&&(g.relative?g.controls.left.clear():g.controls.left.copy(g))));h>0&&!g&&(k=h-1,w=this._renderer.collection[k].copy(this._collection[k]),this.getPointAt(o,w),w.command=tt.move,this._renderer.vertices.unshift(w),_=this._collection[k+1],_&&_.controls&&(w.controls.left.clear(),_.relative?this._renderer.collection[k+1].controls.left.copy(_.controls.left).lerp(Pe.zero,w.t):(Ub.copy(_),this._renderer.collection[k+1].controls.left.copy(_.controls.left).lerp(_,w.t))))}return Eo.prototype._update.apply(this,arguments),this}flagReset(){return this._flagVertices=this._flagLength=this._flagFill=this._flagStroke=this._flagLinewidth=this._flagOpacity=this._flagVisible=this._flagCap=this._flagJoin=this._flagMiter=this._flagClip=!1,Eo.prototype.flagReset.call(this),this}};G(dr,"Properties",["fill","stroke","linewidth","opacity","visible","cap","join","miter","closed","curved","automatic","beginning","ending","dashes"]),G(dr,"Utils",{getCurveLength:Zy});let _r=dr;const n0={linewidth:{enumerable:!0,get:function(){return this._linewidth},set:function(e){this._linewidth=e,this._flagLinewidth=!0}},opacity:{enumerable:!0,get:function(){return this._opacity},set:function(e){this._opacity=e,this._flagOpacity=!0}},visible:{enumerable:!0,get:function(){return this._visible},set:function(e){this._visible=e,this._flagVisible=!0}},cap:{enumerable:!0,get:function(){return this._cap},set:function(e){this._cap=e,this._flagCap=!0}},join:{enumerable:!0,get:function(){return this._join},set:function(e){this._join=e,this._flagJoin=!0}},miter:{enumerable:!0,get:function(){return this._miter},set:function(e){this._miter=e,this._flagMiter=!0}},fill:{enumerable:!0,get:function(){return this._fill},set:function(e){(this._fill instanceof yr||this._fill instanceof xs||this._fill instanceof ws||this._fill instanceof Ar)&&this._fill.unbind(pe.Types.change,this._renderer.flagFill),this._fill=e,this._flagFill=!0,(this._fill instanceof yr||this._fill instanceof xs||this._fill instanceof ws||this._fill instanceof Ar)&&this._fill.bind(pe.Types.change,this._renderer.flagFill)}},stroke:{enumerable:!0,get:function(){return this._stroke},set:function(e){(this._stroke instanceof yr||this._stroke instanceof xs||this._stroke instanceof ws||this._stroke instanceof Ar)&&this._stroke.unbind(pe.Types.change,this._renderer.flagStroke),this._stroke=e,this._flagStroke=!0,(this._stroke instanceof yr||this._stroke instanceof xs||this._stroke instanceof ws||this._stroke instanceof Ar)&&this._stroke.bind(pe.Types.change,this._renderer.flagStroke)}},length:{get:function(){return this._flagLength&&this._updateLength(),this._length}},closed:{enumerable:!0,get:function(){return this._closed},set:function(e){this._closed=!!e,this._flagVertices=!0}},curved:{enumerable:!0,get:function(){return this._curved},set:function(e){this._curved=!!e,this._flagVertices=!0}},automatic:{enumerable:!0,get:function(){return this._automatic},set:function(e){if(e===this._automatic)return;this._automatic=!!e;const t=this._automatic?"ignore":"listen";ln.each(this.vertices,function(n){n[t]()})}},beginning:{enumerable:!0,get:function(){return this._beginning},set:function(e){this._beginning=e,this._flagVertices=!0}},ending:{enumerable:!0,get:function(){return this._ending},set:function(e){this._ending=e,this._flagVertices=!0}},vertices:{enumerable:!0,get:function(){return this._collection},set:function(e){const t=this._renderer.bindVertices,n=this._renderer.unbindVertices;this._collection&&this._collection.unbind(pe.Types.insert,t).unbind(pe.Types.remove,n),e instanceof Jh?this._collection=e:this._collection=new Jh(e||[]),this._collection.bind(pe.Types.insert,t).bind(pe.Types.remove,n),t(this._collection)}},mask:{enumerable:!0,get:function(){return this._mask},set:function(e){this._mask=e,this._flagMask=!0,ln.isObject(e)&&!e.clip&&(e.clip=!0)}},clip:{enumerable:!0,get:function(){return this._clip},set:function(e){this._clip=e,this._flagClip=!0}},dashes:{enumerable:!0,get:function(){return this._dashes},set:function(e){typeof e.offset!="number"&&(e.offset=this.dashes&&this._dashes.offset||0),this._dashes=e}}};function $b(){this._flagVertices=!0,this._flagLength=!0,this.parent&&(this.parent._flagLength=!0)}function Vb(e){let t=e.length;for(;t--;)e[t].bind(pe.Types.change,this._renderer.flagVertices);this._renderer.flagVertices()}function Hb(e){let t=e.length;for(;t--;)e[t].unbind(pe.Types.change,this._renderer.flagVertices);this._renderer.flagVertices()}function Wb(){this._flagFill=!0}function Yb(){this._flagStroke=!0}const ti=class ti extends _r{constructor(n,i,o,l,u){typeof u>"u"&&typeof o=="number"&&typeof l=="number"&&(u=Math.floor(Math.min(o,l)/12));const c=[];for(let h=0;h<10;h++)c.push(new wn(0,0,0,0,0,0,h===0?tt.move:tt.curve));super(c);G(this,"_flagWidth",!1);G(this,"_flagHeight",!1);G(this,"_flagRadius",!1);G(this,"_width",0);G(this,"_height",0);G(this,"_radius",12);this._renderer.type="rounded-rectangle";for(let h in r0)Object.defineProperty(this,h,r0[h]);this.closed=!0,this.automatic=!1,this._renderer.flagRadius=Xb.bind(this),typeof o=="number"&&(this.width=o),typeof l=="number"&&(this.height=l),typeof u=="number"&&(this.radius=u),this._update(),typeof n=="number"&&(this.translation.x=n),typeof i=="number"&&(this.translation.y=i)}static fromObject(n){const i=new ti().copy(n);return"id"in n&&(i.id=n.id),i}copy(n){super.copy.call(this,n);for(let i=0;i<ti.Properties.length;i++){const o=ti.Properties[i];if(o in n){const l=n[o];/radius/i.test(o)?this[o]=typeof l=="number"||l instanceof Pe?l:new Pe().copy(l):typeof l=="number"&&(this[o]=l)}}return this}_update(){if(this._flagVertices||this._flagWidth||this._flagHeight||this._flagRadius){const n=this._width,i=this._height;let o,l;this._radius instanceof Pe?(o=this._radius.x,l=this._radius.y):(o=this._radius,l=this._radius);let u,c=n/2,h=i/2;u=this.vertices[0],u.x=-(c-o),u.y=-h,u=this.vertices[1],u.x=c-o,u.y=-h,u.controls.left.clear(),u.controls.right.x=o,u.controls.right.y=0,u=this.vertices[2],u.x=c,u.y=-(h-l),u.controls.right.clear(),u.controls.left.clear(),u=this.vertices[3],u.x=c,u.y=h-l,u.controls.left.clear(),u.controls.right.x=0,u.controls.right.y=l,u=this.vertices[4],u.x=c-o,u.y=h,u.controls.right.clear(),u.controls.left.clear(),u=this.vertices[5],u.x=-(c-o),u.y=h,u.controls.left.clear(),u.controls.right.x=-o,u.controls.right.y=0,u=this.vertices[6],u.x=-c,u.y=h-l,u.controls.left.clear(),u.controls.right.clear(),u=this.vertices[7],u.x=-c,u.y=-(h-l),u.controls.left.clear(),u.controls.right.x=0,u.controls.right.y=-l,u=this.vertices[8],u.x=-(c-o),u.y=-h,u.controls.left.clear(),u.controls.right.clear(),u=this.vertices[9],u.copy(this.vertices[8])}return super._update.call(this),this}flagReset(){return this._flagWidth=this._flagHeight=this._flagRadius=!1,super.flagReset.call(this),this}clone(n){const i=this.width,o=this.height,l=this.radius,u=new ti(0,0,i,o,l);u.translation.copy(this.translation),u.rotation=this.rotation,u.scale=this.scale,u.skewX=this.skewX,u.skewY=this.skewY,this.matrix.manual&&u.matrix.copy(this.matrix);for(let c=0;c<_r.Properties.length;c++){const h=_r.Properties[c];u[h]=this[h]}return n&&n.add(u),u}toObject(){const n=super.toObject.call(this);n.renderer.type="rounded-rectangle";for(let i=0;i<ti.Properties.length;i++){const o=ti.Properties[i];n[o]=this[o]}return n.radius=typeof this.radius=="number"?this.radius:this.radius.toObject(),n}};G(ti,"Properties",["width","height","radius"]);let ed=ti;const r0={width:{enumerable:!0,get:function(){return this._width},set:function(e){this._width=e,this._flagWidth=!0}},height:{enumerable:!0,get:function(){return this._height},set:function(e){this._height=e,this._flagHeight=!0}},radius:{enumerable:!0,get:function(){return this._radius},set:function(e){this._radius instanceof Pe&&this._radius.unbind(pe.Types.change,this._renderer.flagRadius),this._radius=e,this._radius instanceof Pe&&this._radius.bind(pe.Types.change,this._renderer.flagRadius),this._flagRadius=!0}}};function Xb(){this._flagRadius=!0}function Od(e){const{shape:t,type:n}=e,{translation:i,stroke:o,fill:l,linewidth:u,vertices:c,id:h}=t,d=t.width||0,g=t.height||0,m=t.radius||0;return{id:h,t:n,x:i.x,y:i.y,w:d,h:g,r:m,sc:o||"none",fc:l||"none",lw:u||1,v:(c||[]).map(v=>[v.x,v.y])}}function Ld(e){const{t,x:n,y:i,sc:o,fc:l,lw:u,v:c,w:h,h:d,r:g,id:m}=e;if(t==="brush"){const v=c.map(w=>new Ee.Anchor(w[0],w[1])),_=new _r(v,!1,!0);return _.id=m,_.cap="round",_.closed=!1,_.noFill().stroke=o,_.linewidth=u,_.translation.x=n,_.translation.y=i,{type:t,shape:_}}else if(t==="line"||t==="arrow"){const v=c.map(w=>new Ee.Anchor(w[0],w[1])),_=new _r(v,!1,!1);return _.id=m,_.cap="round",_.closed=!1,_.noFill().stroke=o,_.linewidth=u,_.translation.x=n,_.translation.y=i,{type:t,shape:_}}else if(t==="rect"){const v=new ed(n,i,h,d);return v.radius=g,v.id=m,v.stroke=o,v.fill=l,v.linewidth=u,{shape:v,type:"rect"}}else throw new Error(`Unknown doodle unserialization of type "${t}"`)}const mv=jr()(e=>({toasts:[],addToast:(t,n)=>{const i=Math.random().toString(36).replace("0.","");e(o=>{const l={id:i,message:t,type:n};return{toasts:[...o.toasts,l]}}),setTimeout(()=>{e(o=>({toasts:o.toasts.filter(u=>u.id!==i)}))},2500)}})),Kb=()=>{const e=mv().toasts;return O.jsx("div",{className:"fixed top-0 left-0 right-0 h-0 flex justify-center",children:O.jsx("div",{className:"flex flex-col md:items-center gap-2 relative top-14",children:e.map(t=>O.jsx(qb,{message:t.message},t.id))})})},qb=({message:e})=>O.jsx("div",{className:"text-inverse bg-secondary py-2 px-4 flex items-center rounded gap-2 animate-fade-in-down min-w-72",children:O.jsx("div",{className:"flex-grow text-center",children:e})});class Gb{constructor(t){G(this,"two");G(this,"zui");G(this,"canvas");G(this,"sketchId");G(this,"container");G(this,"throttledTwoUpdate",j_(()=>{var t,n,i;typeof((t=this.two)==null?void 0:t.update)=="function"&&((i=(n=this.two)==null?void 0:n.update)==null||i.call(n))},1));this.two=t.two,this.canvas=t.canvas,this.zui=t.zui,this.sketchId=t.sketchId||"default",this.container=t.container,typeof window<"u"&&(window.doodler=this)}doCenterCanvas(){this.canvas.position.x=0,this.canvas.position.y=0,this.throttledTwoUpdate()}addDoodle(t){t.shape.id=crypto.randomUUID();const{doodles:n,setDoodles:i}=Jt.getState(),o=[...n,t];i(o),this.canvas.add(t.shape)}removeDoodle(t){const{doodles:n,setDoodles:i}=Jt.getState(),o=n.filter(l=>l!==t);i(o),this.canvas.remove(t.shape)}async saveDoodles(){const{doodles:t}=Jt.getState(),n=t.map(o=>Od(o));dk(this.sketchId,n);const i=mv.getState().addToast;i("Sketch saved successfully")}async loadDoodles(){if(!this.sketchId)return;const t=hk(this.sketchId);if(!(!t||!(t!=null&&t.length))){for(const n of t)try{const i=Ld(n);this.addDoodle(i)}catch(i){console.warn(i);continue}this.throttledTwoUpdate()}}}let td;function Qb(e){td=e}function Ye(){if(!td)throw new Error("Doodler instance is not set yet.");return td}const Zb="#0ea5cf";var yv=(e=>(e[e.Left=0]="Left",e[e.Middle=1]="Middle",e[e.Right=2]="Right",e))(yv||{});function Fo(e,t){t=t||Ye().zui;const n=e.currentTarget.getBoundingClientRect(),i={x:e.clientX-n.left,y:e.clientY-n.top};return t.clientToSurface(i)}function ai(e){const t=e.currentTarget.getBoundingClientRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}function Jb(e,t){let n;return(...i)=>{clearTimeout(n),n=setTimeout(()=>e(...i),t)}}function i0(e,t){return Fd(e.x,e.y,t.left,t.top,t.right,t.bottom)}function Fd(e,t,n,i,o,l){return e>=n&&e<=o&&t>=i&&t<=l}function eS(e,t,n){return Math.max(t,Math.min(n,e))}function tS(e,t){const n=Math.pow(10,t);return Math.floor(e*n)/n}function nS(e){return e*(180/Math.PI)%360}function rS(e){return e*(Math.PI/180)}function Id(e){var i,o;const t=e,n=((i=e.touches)==null?void 0:i[0])||((o=e.changedTouches)==null?void 0:o[0])||{clientX:0,clientY:0};return t.clientX=n.clientX,t.clientY=n.clientY,t}var Su={},s0;function iS(){return s0||(s0=1,Su.ARRAY_BUFFER_SUPPORT=typeof ArrayBuffer<"u",Su.SYMBOL_SUPPORT=typeof Symbol<"u"),Su}var Eh,o0;function _v(){if(o0)return Eh;o0=1;var e=iS(),t=e.ARRAY_BUFFER_SUPPORT,n=e.SYMBOL_SUPPORT;return Eh=function(o,l){var u,c,h,d,g;if(!o)throw new Error("obliterator/forEach: invalid iterable.");if(typeof l!="function")throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(o)||t&&ArrayBuffer.isView(o)||typeof o=="string"||o.toString()==="[object Arguments]"){for(h=0,d=o.length;h<d;h++)l(o[h],h);return}if(typeof o.forEach=="function"){o.forEach(l);return}if(n&&Symbol.iterator in o&&typeof o.next!="function"&&(o=o[Symbol.iterator]()),typeof o.next=="function"){for(u=o,h=0;g=u.next(),g.done!==!0;)l(g.value,h),h++;return}for(c in o)o.hasOwnProperty(c)&&l(o[c],c)},Eh}var mo={},l0;function sS(){if(l0)return mo;l0=1;var e=function(o,l){return o<l?-1:o>l?1:0},t=function(o,l){return o<l?1:o>l?-1:0};function n(o){return function(l,u){return o(u,l)}}function i(o){return o===2?function(l,u){return l[0]<u[0]?-1:l[0]>u[0]?1:l[1]<u[1]?-1:l[1]>u[1]?1:0}:function(l,u){for(var c=0;c<o;){if(l[c]<u[c])return-1;if(l[c]>u[c])return 1;c++}return 0}}return mo.DEFAULT_COMPARATOR=e,mo.DEFAULT_REVERSE_COMPARATOR=t,mo.reverseComparator=n,mo.createTupleComparator=i,mo}var yo={},Ch={},a0;function oS(){return a0||(a0=1,function(e){var t=Math.pow(2,8)-1,n=Math.pow(2,16)-1,i=Math.pow(2,32)-1,o=Math.pow(2,7)-1,l=Math.pow(2,15)-1,u=Math.pow(2,31)-1;e.getPointerArray=function(h){var d=h-1;if(d<=t)return Uint8Array;if(d<=n)return Uint16Array;if(d<=i)return Uint32Array;throw new Error("mnemonist: Pointer Array of size > 4294967295 is not supported.")},e.getSignedPointerArray=function(h){var d=h-1;return d<=o?Int8Array:d<=l?Int16Array:d<=u?Int32Array:Float64Array},e.getNumberType=function(h){return h===(h|0)?Math.sign(h)===-1?h<=127&&h>=-128?Int8Array:h<=32767&&h>=-32768?Int16Array:Int32Array:h<=255?Uint8Array:h<=65535?Uint16Array:Uint32Array:Float64Array};var c={Uint8Array:1,Int8Array:2,Uint16Array:3,Int16Array:4,Uint32Array:5,Int32Array:6,Float32Array:7,Float64Array:8};e.getMinimalRepresentation=function(h,d){var g=null,m=0,v,_,w,k,S;for(k=0,S=h.length;k<S;k++)w=d?d(h[k]):h[k],_=e.getNumberType(w),v=c[_.name],v>m&&(m=v,g=_);return g},e.isTypedArray=function(h){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView(h)},e.concat=function(){var h=0,d,g,m;for(d=0,m=arguments.length;d<m;d++)h+=arguments[d].length;var v=new arguments[0].constructor(h);for(d=0,g=0;d<m;d++)v.set(arguments[d],g),g+=arguments[d].length;return v},e.indices=function(h){for(var d=e.getPointerArray(h),g=new d(h),m=0;m<h;m++)g[m]=m;return g}}(Ch)),Ch}var u0;function lS(){if(u0)return yo;u0=1;var e=_v(),t=oS();function n(u){return Array.isArray(u)||t.isTypedArray(u)}function i(u){if(typeof u.length=="number")return u.length;if(typeof u.size=="number")return u.size}function o(u){var c=i(u),h=typeof c=="number"?new Array(c):[],d=0;return e(u,function(g){h[d++]=g}),h}function l(u){var c=i(u),h=typeof c=="number"?t.getPointerArray(c):Array,d=typeof c=="number"?new Array(c):[],g=typeof c=="number"?new h(c):[],m=0;return e(u,function(v){d[m]=v,g[m]=m++}),[d,g]}return yo.isArrayLike=n,yo.guessLength=i,yo.toArray=o,yo.toArrayWithIndices=l,yo}var Rh,c0;function aS(){if(c0)return Rh;c0=1;var e=_v(),t=sS(),n=lS(),i=t.DEFAULT_COMPARATOR,o=t.reverseComparator;function l(b,x,R,M){for(var P=x[M],I,j;M>R;){if(I=M-1>>1,j=x[I],b(P,j)<0){x[M]=j,M=I;continue}break}x[M]=P}function u(b,x,R){for(var M=x.length,P=R,I=x[R],j=2*R+1,Y;j<M;)Y=j+1,Y<M&&b(x[j],x[Y])>=0&&(j=Y),x[R]=x[j],R=j,j=2*R+1;x[R]=I,l(b,x,P,R)}function c(b,x,R){x.push(R),l(b,x,0,x.length-1)}function h(b,x){var R=x.pop();if(x.length!==0){var M=x[0];return x[0]=R,u(b,x,0),M}return R}function d(b,x,R){if(x.length===0)throw new Error("mnemonist/heap.replace: cannot pop an empty heap.");var M=x[0];return x[0]=R,u(b,x,0),M}function g(b,x,R){var M;return x.length!==0&&b(x[0],R)<0&&(M=x[0],x[0]=R,R=M,u(b,x,0)),R}function m(b,x){for(var R=x.length,M=R>>1,P=M;--P>=0;)u(b,x,P)}function v(b,x){for(var R=x.length,M=0,P=new Array(R);M<R;)P[M++]=h(b,x);return P}function _(b,x,R){arguments.length===2&&(R=x,x=b,b=i);var M=o(b),P,I,j,Y=1/0,z;if(x===1){if(n.isArrayLike(R)){for(P=0,I=R.length;P<I;P++)j=R[P],(Y===1/0||b(j,Y)<0)&&(Y=j);return z=new R.constructor(1),z[0]=Y,z}return e(R,function(X){(Y===1/0||b(X,Y)<0)&&(Y=X)}),[Y]}if(n.isArrayLike(R)){if(x>=R.length)return R.slice().sort(b);for(z=R.slice(0,x),m(M,z),P=x,I=R.length;P<I;P++)M(R[P],z[0])>0&&d(M,z,R[P]);return z.sort(b)}var H=n.guessLength(R);return H!==null&&H<x&&(x=H),z=new Array(x),P=0,e(R,function(X){P<x?z[P]=X:(P===x&&m(M,z),M(X,z[0])>0&&d(M,z,X)),P++}),z.length>P&&(z.length=P),z.sort(b)}function w(b,x,R){arguments.length===2&&(R=x,x=b,b=i);var M=o(b),P,I,j,Y=-1/0,z;if(x===1){if(n.isArrayLike(R)){for(P=0,I=R.length;P<I;P++)j=R[P],(Y===-1/0||b(j,Y)>0)&&(Y=j);return z=new R.constructor(1),z[0]=Y,z}return e(R,function(X){(Y===-1/0||b(X,Y)>0)&&(Y=X)}),[Y]}if(n.isArrayLike(R)){if(x>=R.length)return R.slice().sort(M);for(z=R.slice(0,x),m(b,z),P=x,I=R.length;P<I;P++)b(R[P],z[0])>0&&d(b,z,R[P]);return z.sort(M)}var H=n.guessLength(R);return H!==null&&H<x&&(x=H),z=new Array(x),P=0,e(R,function(X){P<x?z[P]=X:(P===x&&m(b,z),b(X,z[0])>0&&d(b,z,X)),P++}),z.length>P&&(z.length=P),z.sort(M)}function k(b){if(this.clear(),this.comparator=b||i,typeof this.comparator!="function")throw new Error("mnemonist/Heap.constructor: given comparator should be a function.")}k.prototype.clear=function(){this.items=[],this.size=0},k.prototype.push=function(b){return c(this.comparator,this.items,b),++this.size},k.prototype.peek=function(){return this.items[0]},k.prototype.pop=function(){return this.size!==0&&this.size--,h(this.comparator,this.items)},k.prototype.replace=function(b){return d(this.comparator,this.items,b)},k.prototype.pushpop=function(b){return g(this.comparator,this.items,b)},k.prototype.consume=function(){return this.size=0,v(this.comparator,this.items)},k.prototype.toArray=function(){return v(this.comparator,this.items.slice())},k.prototype.inspect=function(){var b=this.toArray();return Object.defineProperty(b,"constructor",{value:k,enumerable:!1}),b},typeof Symbol<"u"&&(k.prototype[Symbol.for("nodejs.util.inspect.custom")]=k.prototype.inspect);function S(b){if(this.clear(),this.comparator=b||i,typeof this.comparator!="function")throw new Error("mnemonist/MaxHeap.constructor: given comparator should be a function.");this.comparator=o(this.comparator)}return S.prototype=k.prototype,k.from=function(b,x){var R=new k(x),M;return n.isArrayLike(b)?M=b.slice():M=n.toArray(b),m(R.comparator,M),R.items=M,R.size=M.length,R},S.from=function(b,x){var R=new S(x),M;return n.isArrayLike(b)?M=b.slice():M=n.toArray(b),m(R.comparator,M),R.items=M,R.size=M.length,R},k.siftUp=u,k.siftDown=l,k.push=c,k.pop=h,k.replace=d,k.pushpop=g,k.heapify=m,k.consume=v,k.nsmallest=_,k.nlargest=w,k.MinHeap=k,k.MaxHeap=S,Rh=k,Rh}var _o=aS();function uS([e,t,n]){return Math.abs((e.x-n.x)*(t.y-e.y)-(e.x-t.x)*(n.y-e.y))}function cS([e,t,n]){const i=Math.abs((n.y-t.y)*e.x-(n.x-t.x)*e.y+n.x*t.y-n.y*t.x),o=Math.sqrt(Math.pow(n.y-t.y,2)+Math.pow(n.x-t.x,2));return i/o}function fS([e,t,n]){const i={x:t.x-e.x,y:t.y-e.y},o={x:n.x-e.x,y:n.y-e.y},l=i.x*o.x+i.y*o.y,u=Math.sqrt(i.x**2+i.y**2),c=Math.sqrt(o.x**2+o.y**2);return Math.acos(l/(u*c))}function*hS(e){for(let t=1;t<e.length-1;t++)yield[e[t-1],e[t],e[t+1]]}const vo=(e,t)=>e.weight-t.weight;function dS(e,t,n){const i=t.length;if(i<3||typeof n=="number"&&i<n)return t;if(typeof n=="number"&&n<3)return[t[0],t[i-1]];const o=typeof n=="number"?n:2,l=typeof n=="number"?null:n,u=[],c=new WeakMap,h=new WeakMap;{let m=null;for(const v of hS(t)){const _={t:v,weight:e(v),dead:!1};m&&(c.set(m,_),h.set(_,m)),m=_,_o.push(vo,u,_)}}let d=i-o;const g=new WeakSet;for(;d>0;){const m=_o.pop(vo,u);if(!m)throw new Error("unexpected heap exhaustion");if(m.dead)continue;if(!isFinite(m.weight)||l&&!l(m.weight))break;g.add(m.t[1]),d-=1;const v=h.get(m),_=c.get(m);let w=null,k=null;if(v){v.dead=!0;const[S,b]=v.t,[,,x]=m.t,R=[S,b,x];w={t:R,weight:e(R),dead:!1};const M=h.get(v);M&&(c.set(M,w),h.set(w,M)),u[0].dead?_o.replace(vo,u,w):_o.push(vo,u,w)}if(_){_.dead=!0;const[,S,b]=_.t,[x]=m.t,R=[x,S,b];k={t:R,weight:e(R),dead:!1};const M=c.get(_);M&&(h.set(M,k),c.set(k,M)),u[0].dead?_o.replace(vo,u,k):_o.push(vo,u,k)}k&&w&&(c.set(w,k),h.set(k,w))}return t.filter(m=>!g.has(m))}function pS(e){return e==="triangle"?uS:e==="distance"?cS:e==="angle"?fS:null}function gS(e,t,n){var i=t.x,o=t.y,l=n.x-i,u=n.y-o;if(l!==0||u!==0){var c=((e.x-i)*l+(e.y-o)*u)/(l*l+u*u);c>1?(i=n.x,o=n.y):c>0&&(i+=l*c,o+=u*c)}return l=e.x-i,u=e.y-o,l*l+u*u}function nd(e,t,n,i,o){let l=i,u=1;for(var c=t+1;c<n;c++){var h=gS(e[c],e[t],e[n]);h>l&&(u=c,l=h)}l>i&&(u-t>1&&nd(e,t,u,i,o),o.push(e[u]),n-u>1&&nd(e,u,n,i,o))}function mS(e,t){var n=e.length-1,i=[e[0]];return nd(e,0,n,t,i),i.push(e[n]),i}function yS(e,t){if(e.length<=2)return e;var n=t!==void 0?t*t:1;return e=mS(e,n),e}var _S={grad:.9,turn:360,rad:360/(2*Math.PI)},ei=function(e){return typeof e=="string"?e.length>0:typeof e=="number"},Ot=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=Math.pow(10,t)),Math.round(n*e)/n+0},nr=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=1),e>n?n:e>t?e:t},vv=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},f0=function(e){return{r:nr(e.r,0,255),g:nr(e.g,0,255),b:nr(e.b,0,255),a:nr(e.a)}},Th=function(e){return{r:Ot(e.r),g:Ot(e.g),b:Ot(e.b),a:Ot(e.a,3)}},vS=/^#([0-9a-f]{3,8})$/i,Eu=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},xv=function(e){var t=e.r,n=e.g,i=e.b,o=e.a,l=Math.max(t,n,i),u=l-Math.min(t,n,i),c=u?l===t?(n-i)/u:l===n?2+(i-t)/u:4+(t-n)/u:0;return{h:60*(c<0?c+6:c),s:l?u/l*100:0,v:l/255*100,a:o}},wv=function(e){var t=e.h,n=e.s,i=e.v,o=e.a;t=t/360*6,n/=100,i/=100;var l=Math.floor(t),u=i*(1-n),c=i*(1-(t-l)*n),h=i*(1-(1-t+l)*n),d=l%6;return{r:255*[i,c,u,u,h,i][d],g:255*[h,i,i,c,u,u][d],b:255*[u,u,h,i,i,c][d],a:o}},h0=function(e){return{h:vv(e.h),s:nr(e.s,0,100),l:nr(e.l,0,100),a:nr(e.a)}},d0=function(e){return{h:Ot(e.h),s:Ot(e.s),l:Ot(e.l),a:Ot(e.a,3)}},p0=function(e){return wv((n=(t=e).s,{h:t.h,s:(n*=((i=t.l)<50?i:100-i)/100)>0?2*n/(i+n)*100:0,v:i+n,a:t.a}));var t,n,i},Nl=function(e){return{h:(t=xv(e)).h,s:(o=(200-(n=t.s))*(i=t.v)/100)>0&&o<200?n*i/100/(o<=100?o:200-o)*100:0,l:o/2,a:t.a};var t,n,i,o},xS=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,wS=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,kS=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,bS=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,g0={string:[[function(e){var t=vS.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?Ot(parseInt(e[3]+e[3],16)/255,2):1}:e.length===6||e.length===8?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:e.length===8?Ot(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=kS.exec(e)||bS.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:f0({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t=xS.exec(e)||wS.exec(e);if(!t)return null;var n,i,o=h0({h:(n=t[1],i=t[2],i===void 0&&(i="deg"),Number(n)*(_S[i]||1)),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)});return p0(o)},"hsl"]],object:[[function(e){var t=e.r,n=e.g,i=e.b,o=e.a,l=o===void 0?1:o;return ei(t)&&ei(n)&&ei(i)?f0({r:Number(t),g:Number(n),b:Number(i),a:Number(l)}):null},"rgb"],[function(e){var t=e.h,n=e.s,i=e.l,o=e.a,l=o===void 0?1:o;if(!ei(t)||!ei(n)||!ei(i))return null;var u=h0({h:Number(t),s:Number(n),l:Number(i),a:Number(l)});return p0(u)},"hsl"],[function(e){var t=e.h,n=e.s,i=e.v,o=e.a,l=o===void 0?1:o;if(!ei(t)||!ei(n)||!ei(i))return null;var u=function(c){return{h:vv(c.h),s:nr(c.s,0,100),v:nr(c.v,0,100),a:nr(c.a)}}({h:Number(t),s:Number(n),v:Number(i),a:Number(l)});return wv(u)},"hsv"]]},m0=function(e,t){for(var n=0;n<t.length;n++){var i=t[n][0](e);if(i)return[i,t[n][1]]}return[null,void 0]},SS=function(e){return typeof e=="string"?m0(e.trim(),g0.string):typeof e=="object"&&e!==null?m0(e,g0.object):[null,void 0]},Mh=function(e,t){var n=Nl(e);return{h:n.h,s:nr(n.s+100*t,0,100),l:n.l,a:n.a}},Ph=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},y0=function(e,t){var n=Nl(e);return{h:n.h,s:n.s,l:nr(n.l+100*t,0,100),a:n.a}},_0=function(){function e(t){this.parsed=SS(t)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return this.parsed!==null},e.prototype.brightness=function(){return Ot(Ph(this.rgba),2)},e.prototype.isDark=function(){return Ph(this.rgba)<.5},e.prototype.isLight=function(){return Ph(this.rgba)>=.5},e.prototype.toHex=function(){return t=Th(this.rgba),n=t.r,i=t.g,o=t.b,u=(l=t.a)<1?Eu(Ot(255*l)):"","#"+Eu(n)+Eu(i)+Eu(o)+u;var t,n,i,o,l,u},e.prototype.toRgb=function(){return Th(this.rgba)},e.prototype.toRgbString=function(){return t=Th(this.rgba),n=t.r,i=t.g,o=t.b,(l=t.a)<1?"rgba("+n+", "+i+", "+o+", "+l+")":"rgb("+n+", "+i+", "+o+")";var t,n,i,o,l},e.prototype.toHsl=function(){return d0(Nl(this.rgba))},e.prototype.toHslString=function(){return t=d0(Nl(this.rgba)),n=t.h,i=t.s,o=t.l,(l=t.a)<1?"hsla("+n+", "+i+"%, "+o+"%, "+l+")":"hsl("+n+", "+i+"%, "+o+"%)";var t,n,i,o,l},e.prototype.toHsv=function(){return t=xv(this.rgba),{h:Ot(t.h),s:Ot(t.s),v:Ot(t.v),a:Ot(t.a,3)};var t},e.prototype.invert=function(){return ht({r:255-(t=this.rgba).r,g:255-t.g,b:255-t.b,a:t.a});var t},e.prototype.saturate=function(t){return t===void 0&&(t=.1),ht(Mh(this.rgba,t))},e.prototype.desaturate=function(t){return t===void 0&&(t=.1),ht(Mh(this.rgba,-t))},e.prototype.grayscale=function(){return ht(Mh(this.rgba,-1))},e.prototype.lighten=function(t){return t===void 0&&(t=.1),ht(y0(this.rgba,t))},e.prototype.darken=function(t){return t===void 0&&(t=.1),ht(y0(this.rgba,-t))},e.prototype.rotate=function(t){return t===void 0&&(t=15),this.hue(this.hue()+t)},e.prototype.alpha=function(t){return typeof t=="number"?ht({r:(n=this.rgba).r,g:n.g,b:n.b,a:t}):Ot(this.rgba.a,3);var n},e.prototype.hue=function(t){var n=Nl(this.rgba);return typeof t=="number"?ht({h:t,s:n.s,l:n.l,a:n.a}):Ot(n.h)},e.prototype.isEqual=function(t){return this.toHex()===ht(t).toHex()},e}(),ht=function(e){return e instanceof _0?e:new _0(e)};const Ir=jr()(e=>({undoStack:[],redoStack:[],push:t=>e(n=>({undoStack:[...n.undoStack,t],redoStack:[]})),clear:()=>e({undoStack:[],redoStack:[]})})),Sn=jr()(e=>({selected:[],origin:new Pe,origins:[],highlighted:void 0,isMoving:!1,outlines:{origin:new Pe},originTranslations:{shape:new Pe,border:new Pe},setIsMoving:t=>e(n=>({...n,isMoving:t})),setOrigins:t=>e(n=>({...n,origins:t})),setHighlight:(t,n)=>e(i=>ES(i,t,n)),clearHighlight:()=>e(t=>CS(t)),clearSelected:()=>e(t=>MS(t)),addHighlightToSelection:t=>e(n=>RS(n,t))}));function ES(e,t,n){const i=e.outlines;return e.highlighted=t,i.highlight||(i.highlight=kv(0,0,0,0)),i.highlight.translation.x=n.x,i.highlight.translation.y=n.y,i.highlight.width=n.width,i.highlight.height=n.height,i.highlight.visible=!0,e}function CS(e){const t=e.outlines;return e.highlighted=void 0,t.highlight&&(t.highlight.remove(),t.highlight=void 0),e}function RS(e,t){const n=e.outlines,i=e.highlighted;if(n.selected||(n.selected=kv(0,0,0,0)),!i)return t?{...e}:(n.selected.remove(),n.selected=void 0,{...e,selected:[]});let o=[...e.selected];const l=e.selected.find(u=>u.id===(i==null?void 0:i.id));return t&&l?o=o.filter(u=>u.id!==i.id):t&&!l?o.push(i):!t&&!l&&(o=[i]),TS(o,n.selected),{...e,selected:o}}function TS(e,t){const n=Ye(),i=e.map(m=>m.getBoundingClientRect()),o=Math.min(...i.map(m=>m.left)),l=Math.min(...i.map(m=>m.top)),u=Math.max(...i.map(m=>m.right)),c=Math.max(...i.map(m=>m.bottom)),h=u-o,d=c-l,g=n.zui.clientToSurface({x:o+h/2,y:l+d/2});t.translation.x=g.x,t.translation.y=g.y,t.width=h/n.zui.scale,t.height=d/n.zui.scale,t.visible=!0}function MS(e){return e.outlines.selected&&(e.outlines.selected.remove(),e.outlines.selected=void 0),{...e,selected:[]}}function v0(){const{setToolOption:e}=wt.getState(),{setIsMoving:t,setOrigins:n,outlines:i}=Sn.getState(),o=Sn.getState().selected;t(!0),e("moving");const l=o.map(u=>u.translation.clone());i.selected&&i.origin.set(i.selected.translation.x,i.selected.translation.y),i.highlight&&(i.highlight.remove(),i.highlight=void 0),n(l)}function PS(e){const t=Ye(),{origin:n,addHighlightToSelection:i,clearSelected:o,outlines:l}=Sn.getState(),u=Fo(e),c=ai(e);n.set(u.x,u.y);let h=!1;if(l.highlight&&l.highlight.visible){const g=l.highlight.getBoundingClientRect();h=i0(c,g)}if(h&&(i(e.shiftKey),Sn.getState().selected.length)){v0(),t.throttledTwoUpdate();return}let d=!1;if(l.selected&&l.selected.visible){const g=l.selected.getBoundingClientRect();d=i0(c,g)}if(d){v0(),t.throttledTwoUpdate();return}e.shiftKey||o(),t.throttledTwoUpdate()}function AS(e){const{isMoving:t}=Sn.getState();t?LS(e):bv(e)}function OS(e){const{isMoving:t,setIsMoving:n,selected:i,origins:o}=Sn.getState(),{setToolOption:l}=wt.getState(),u=Ye();if(t&&i.length&&o.length===i.length)for(let c=0;c<i.length;c++){const h=i[c],d=o[c];gc({type:"update",label:"Move shape",shapeId:h.id,changes:[{field:"translation.x",oldValue:d.x,newValue:h.translation.x},{field:"translation.y",oldValue:d.y,newValue:h.translation.y}]})}n(!1),l(""),u.throttledTwoUpdate()}function kv(e,t,n,i){const o=Ye(),l=o.two.makeRectangle(e,t,n,i);return l.stroke="#0ea5cf",l.noFill(),l.linewidth=1.5/o.zui.scale,l.scale=1.01,l.isHighlight=!0,o.canvas.add(l),l}function LS(e){const t=Ye(),{outlines:n,origins:i,origin:o,selected:l}=Sn.getState(),u=Fo(e);if(l.length===i.length){var c=u.x-o.x,h=u.y-o.y;for(let d=0;d<l.length;++d){const g=l[d],m=i[d];g.translation.x=m.x+c,g.translation.y=m.y+h}n.selected&&(n.selected.translation.x=n.origin.x+c,n.selected.translation.y=n.origin.y+h),t.throttledTwoUpdate()}}function bv(e){const t=Ye(),{doodles:n}=Jt.getState(),{highlighted:i,setHighlight:o,clearHighlight:l}=Sn.getState(),u=ai(e);for(const c of n){const h=c.shape;if(!h.getBoundingClientRect)continue;const d=h.getBoundingClientRect(!1);if(!Fd(u.x,u.y,d.left,d.top,d.right,d.bottom)||h.isHighlight)continue;if(i===h)return;const m=t.zui.clientToSurface({x:d.left+d.width/2,y:d.top+d.height/2}),v={x:m.x,y:m.y,width:d.width/t.zui.scale,height:d.height/t.zui.scale};o(h,v),t.throttledTwoUpdate();return}l(),t.throttledTwoUpdate()}function Nd(e){const{doodles:t}=Jt.getState();return t.find(n=>n.shape.id===e)}function Sv(){const{clearSelected:e,clearHighlight:t}=Sn.getState();e(),t()}function Ev(e,t,n){const i=t.split(".");i.length===2?e[i[0]][i[1]]=n:e[t]=n}function Cv(e){const t=Ye(),{doodles:n,setDoodles:i}=Jt.getState();i([...n,e]),t.canvas.add(e.shape)}function Rv(e){const t=Ye(),n=Nd(e);if(!n)return;const{doodles:i,setDoodles:o}=Jt.getState();o(i.filter(l=>l.shape.id!==e)),t.canvas.remove(n.shape)}function FS(e){switch(e.type){case"create":{const t=Ld(e.doodle);Cv(t);break}case"remove":{Rv(e.doodle.id);break}case"update":{const t=Nd(e.shapeId);if(!t)return;for(const n of e.changes)Ev(t.shape,n.field,n.newValue);break}}}function IS(e){switch(e.type){case"create":{Rv(e.doodle.id);break}case"remove":{const t=Ld(e.doodle);Cv(t);break}case"update":{const t=Nd(e.shapeId);if(!t)return;for(const n of e.changes)Ev(t.shape,n.field,n.oldValue);break}}}function gc(e){Ir.getState().push(e)}function jd(){const{undoStack:e}=Ir.getState();if(e.length===0)return;const t=e[e.length-1];Ir.setState(n=>({undoStack:n.undoStack.slice(0,-1),redoStack:[...n.redoStack,t]})),Sv(),IS(t),Ye().throttledTwoUpdate()}function Dd(){const{redoStack:e}=Ir.getState();if(e.length===0)return;const t=e[e.length-1];Ir.setState(n=>({redoStack:n.redoStack.slice(0,-1),undoStack:[...n.undoStack,t]})),Sv(),FS(t),Ye().throttledTwoUpdate()}function jl(e,t){gc({type:"create",label:e,doodle:Od(t)})}function NS(e,t){gc({type:"remove",label:e,doodle:Od(t)})}const ri=jr()(_d(e=>({strokeWidth:5,tolerance:30,stabilizer:1,strokeColor:{r:33,g:33,b:33,a:1},simplifyAlgo:"triangle",setStrokeColor:t=>e(()=>({strokeColor:t})),setStrokeWidth:t=>e(()=>({strokeWidth:t})),setTolerance:t=>e(()=>({tolerance:t})),setStabilizer:t=>e(()=>({stabilizer:t})),setSimplifyAlgo:t=>e(()=>({simplifyAlgo:t}))}),{name:"brush-tool",version:1}));let rd=new Pe,ks,lt;function jS(e){const t=Ye(),{strokeWidth:n,strokeColor:i}=ri.getState(),o=ht(i).toRgbString(),l=t.zui.clientToSurface(ai(e));rd.set(l.x,l.y),lt=void 0,(i==null?void 0:i.a)===1&&(ks=t.two.makeCircle(l.x,l.y,n/2),ks.fill=o,ks.noStroke(),t.canvas.add(ks)),t.throttledTwoUpdate()}function DS(e){const t=Ye(),{strokeColor:n,strokeWidth:i,stabilizer:o}=ri.getState(),l=ht(n).toRgbString(),u=Fo(e,t.zui);if(lt){let c=!1;if(lt.vertices.length){const h=lt.vertices[lt.vertices.length-1];Ee.Vector.distanceBetween(h,u)<o&&(c=!0)}c||lt.vertices.push(Pu(u))}else{lt=t.two.makeCurve([Pu(rd),Pu(u)],!0),lt.cap="round",lt.noFill().stroke=l,lt.linewidth=i;for(const c of lt.vertices)c.addSelf(lt.position);lt.position.clear(),t.addDoodle({shape:lt,type:"brush"})}rd.set(u.x,u.y),t.throttledTwoUpdate()}function zS(e){const t=Ye(),{tolerance:n,simplifyAlgo:i}=ri.getState();if(!lt)return;ks&&(t.canvas.remove(ks),ks=void 0);const o=t.zui.clientToSurface(ai(e));if(lt.vertices.push(Pu(o)),BS(lt),n!==0)if(i==="douglas"){const l=n/100,u=yS(lt.vertices,l);lt.vertices=u}else{const l=Math.floor((100-n)*lt.vertices.length/100),u=dS(pS(i),lt.vertices,l);lt.vertices=u}t.throttledTwoUpdate(),jl("Draw brush stroke",{shape:lt,type:"brush"})}function BS(e){const t=e.vertices[0].clone();e.translation.add(t);for(const n of e.vertices)n.subSelf(t)}function Pu({x:e,y:t}){var n=new Ee.Anchor(e,t);return n}let Au=new Ee.Vector;function x0(e){Au.set(e.clientX,e.clientY)}function US(e){var t=e.clientX-Au.x,n=e.clientY-Au.y;Au.set(e.clientX,e.clientY),Tv(t,n)}function Tv(e,t){const n=Ye();n.zui.translateSurface(e,t),n.throttledTwoUpdate()}function Mv(e){const t=Ye(),{doodles:n}=Jt.getState(),{clearHighlight:i}=Sn.getState(),o=ai(e);for(const l of n){const u=l.shape.getBoundingClientRect(!1);if(Fd(o.x,o.y,u.left,u.top,u.right,u.bottom)){NS("Delete shape",l),t.removeDoodle(l),i(),t.throttledTwoUpdate();return}}}const Di=jr()(e=>({shape:void 0,origin:new Pe,strokeWidth:2,radius:0,strokeColor:{r:0,g:0,b:0,a:1},fillColor:{r:255,g:255,b:255,a:1},setShape:t=>e(()=>({shape:t})),setStrokeColor:t=>e(()=>({strokeColor:t})),setFillColor:t=>e(()=>({fillColor:t})),setStrokeWidth:t=>e(()=>({strokeWidth:t})),setRadius:t=>e(()=>({radius:t}))}));function $S(e){const t=Ye(),{setShape:n,origin:i,fillColor:o,strokeColor:l,strokeWidth:u,radius:c}=Di.getState(),h=t.zui.clientToSurface(ai(e));i.set(h.x,h.y);const d=t.two.makeRoundedRectangle(h.x,h.y,1,1,c);d.stroke=ht(l).toRgbString(),d.fill=ht(o).toRgbString(),u?d.linewidth=u:d.noStroke(),t.addDoodle({shape:d,type:"rect"}),n(d),t.throttledTwoUpdate()}function VS(e){const t=Ye(),{shape:n,origin:i}=Di.getState(),o=Fo(e,t.zui);if(n){const l=n.width,u=n.height;n.width=o.x-i.x,n.height=o.y-i.y;const c={x:(n.width-l)/2,y:(n.height-u)/2};n.position.x+=c.x,n.position.y+=c.y,t.throttledTwoUpdate()}}function HS(){const{shape:e,setShape:t}=Di.getState();e&&jl("Draw rectangle",{shape:e,type:"rect"}),t(void 0)}const zi=jr()(_d(e=>({line:void 0,arrowHead:void 0,arrowTail:void 0,origin:new Pe,strokeWidth:3,strokeColor:{r:33,g:33,b:33,a:1},hasArrow:!1,doubleArrow:!1,setLine:t=>e(()=>({line:t})),setArrowHead:t=>e(()=>({arrowHead:t})),setArrowTail:t=>e(()=>({arrowTail:t})),setStrokeWidth:t=>e(()=>({strokeWidth:t})),setStrokeColor:t=>e(()=>({strokeColor:t})),setHasArrow:t=>e(()=>({hasArrow:t})),setDoubleArrow:t=>e(()=>({doubleArrow:t}))}),{name:"line-tool",version:1,partialize:e=>({strokeWidth:e.strokeWidth,strokeColor:e.strokeColor})}));function WS(e){const t=Ye(),{setLine:n,setArrowHead:i,setArrowTail:o,origin:l,strokeColor:u,strokeWidth:c,hasArrow:h,doubleArrow:d}=zi.getState(),g=t.zui.clientToSurface(ai(e));l.set(g.x,g.y);const m=ht(u).toRgbString(),v=new Ee.Anchor(g.x,g.y),_=new Ee.Anchor(g.x,g.y),w=new _r([v,_],!1,!1);w.cap="round",w.noFill().stroke=m,w.linewidth=c;const k=h?"arrow":"line";if(t.addDoodle({shape:w,type:k}),n(w),h){const S=w0(g,g,c,m);if(t.addDoodle({shape:S,type:"arrow"}),i(S),d){const b=w0(g,g,c,m);t.addDoodle({shape:b,type:"arrow"}),o(b)}}t.throttledTwoUpdate()}function YS(e){const t=Ye(),{line:n,arrowHead:i,arrowTail:o,hasArrow:l,strokeWidth:u}=zi.getState();if(!n)return;const c=Fo(e,t.zui),h=n.vertices[0],d=n.vertices[1];d.x=c.x,d.y=c.y,l&&i&&k0(i,h,c,u),l&&o&&k0(o,c,h,u),t.throttledTwoUpdate()}function XS(){const{line:e,arrowHead:t,arrowTail:n,hasArrow:i,setLine:o,setArrowHead:l,setArrowTail:u}=zi.getState();e&&jl(i?"Draw arrow":"Draw line",{shape:e,type:i?"arrow":"line"}),i&&t&&jl("Draw arrowhead",{shape:t,type:"arrow"}),i&&n&&jl("Draw arrowhead",{shape:n,type:"arrow"}),o(void 0),l(void 0),u(void 0)}function w0(e,t,n,i){const o=Math.max(n*3,10),l=Math.atan2(t.y-e.y,t.x-e.x),u=new Ee.Anchor(t.x,t.y),c=new Ee.Anchor(t.x-o*Math.cos(l-Math.PI/6),t.y-o*Math.sin(l-Math.PI/6)),h=new Ee.Anchor(t.x-o*Math.cos(l+Math.PI/6),t.y-o*Math.sin(l+Math.PI/6)),d=new _r([u,c,h],!1,!1);return d.closed=!0,d.fill=i,d.noStroke(),d}function k0(e,t,n,i){const o=Math.max(i*3,10),l=Math.atan2(n.y-t.y,n.x-t.x),u=e.vertices[0],c=e.vertices[1],h=e.vertices[2];u.x=n.x,u.y=n.y,c.x=n.x-o*Math.cos(l-Math.PI/6),c.y=n.y-o*Math.sin(l-Math.PI/6),h.x=n.x-o*Math.cos(l+Math.PI/6),h.y=n.y-o*Math.sin(l+Math.PI/6)}const mc=jr()(e=>({zoom:100,setZoom:t=>e(n=>({...n,zoom:t})),initialDistance:void 0,setInitialDistance:t=>e(n=>({...n,initialDistance:t}))}));function id(e,t){const n=Ye(),{setZoom:i}=mc.getState();var o=t/100;n.zui.zoomBy(o,e.clientX,e.clientY),i(Math.floor(n.zui.scale*100));const{outlines:l}=Sn.getState();for(const u of Object.values(l))u&&(u.linewidth=1.5/n.zui.scale);n.throttledTwoUpdate()}function KS(){const e=Ye(),{setZoom:t}=mc.getState();e.zui.reset(),e.zui.translateSurface(0,0),t(100),e.two.update(),e.throttledTwoUpdate()}const sd=jr()(e=>({path:void 0,preview:void 0,anchors:[],strokeWidth:5,strokeColor:{r:33,g:33,b:33,a:1},setStrokeColor:t=>e(()=>({strokeColor:t})),setPath:t=>e(()=>({path:t})),setPreview:t=>e(()=>({preview:t})),setAnchors:t=>e(()=>({anchors:t})),setStrokeWidth:t=>e(()=>({strokeWidth:t}))}));function qS(e){const t=Ye(),{setAnchors:n,setPath:i,strokeColor:o,strokeWidth:l,anchors:u,setPreview:c}=sd.getState(),h=ht(o).toRgbString(),d=t.zui.clientToSurface(ai(e)),g=new Ee.Anchor(d.x,d.y),m=[...u,g];n(m);let v=sd.getState().path;if(v)v.vertices.push(g),v.vertices.push(g);else{const _=new _r([g],!1,!0);_.cap="round",_.noFill().stroke=h,_.linewidth=l,i(_),v=_,t.canvas.add(_);const w=new _r([g.clone(),g.clone()],!1,!0);w.cap="round",w.noFill().stroke=Zb,w.linewidth=1,c(w),t.canvas.add(w)}t.throttledTwoUpdate()}function GS(e){const{preview:t,path:n}=sd.getState(),i=Ye();if(n!=null&&n.vertices.length){const o=n.vertices[n.vertices.length-1],l=i.zui.clientToSurface(ai(e)),u=t==null?void 0:t.vertices[1];let c=t==null?void 0:t.vertices[0];u.x=o.x,u.y=o.y,c.x=l.x,c.y=l.y,i.throttledTwoUpdate()}}function QS(){Ye().throttledTwoUpdate()}function Pv(e){const{selectedTool:t,setActiveTool:n,setRestoreTool:i,setSelectedTool:o}=wt.getState();if(e.button===yv.Middle){i(t),n("hand"),o("hand"),x0(e);return}if(n(t||"hand"),t==="hand"){x0(e);return}if(t==="pointer"){PS(e);return}if(t==="eraser"){Mv(e);return}if(t==="brush"){jS(e);return}if(t==="bezier"){qS(e);return}if(t==="square"){$S(e);return}if(t==="line"||t==="arrow"){zi.getState().setHasArrow(t==="arrow"),WS(e);return}if(t==="zoom"){e.shiftKey?id(e,-30):id(e,30);return}}const ZS=j_(e=>{var o;if(!((o=Jt.getState().doodler)!=null&&o.two)||!e.currentTarget)return;const t=Ye(),n=Fo(e,t==null?void 0:t.zui),{setCursor:i}=Jt.getState();i(n)},16);function Av(e){const{activeTool:t,selectedTool:n}=wt.getState();if(ZS(e),n==="eraser"&&t!=="eraser"&&bv(e),n==="pointer"){AS(e);return}if(n==="bezier"){GS(e);return}if(t==="hand"){US(e);return}if(t==="eraser"){Mv(e);return}if(t==="brush"){DS(e);return}if(t==="square"){VS(e);return}if(t==="line"||t==="arrow"){YS(e);return}}function Ov(e){const{activeTool:t,setActiveTool:n,restoreTool:i,setRestoreTool:o,setSelectedTool:l}=wt.getState();if(t){if(i&&(l(i),o(void 0)),(t==="hand"||t==="eraser")&&n(void 0),t==="pointer"){OS(),n(void 0);return}if(t==="brush"){zS(e),n(void 0);return}if(t==="bezier"){QS(),n(void 0);return}if(t==="square"){HS(),n(void 0);return}if(t==="line"||t==="arrow"){XS(),n(void 0);return}}}function JS(e){const{setCursor:t}=Jt.getState();wt.getState(),t(void 0)}function eE(e){}function tE(e){e.preventDefault(),e.ctrlKey||e.metaKey||e.altKey?id(e,-e.deltaY):Tv(-e.deltaX,-e.deltaY)}function nE(e){e.touches.length===1&&Pv(Id(e))}function rE(e){e.touches.length===1&&Av(Id(e))}function iE(e){Ov(Id(e))}function sE(){const{container:e}=Jt.getState(),t=Ye();!t.two||!e||((e.clientWidth!==t.two.width||e.clientHeight!==t.two.height)&&(t.two.width=e.clientWidth,t.two.height=e.clientHeight),t==null||t.throttledTwoUpdate())}function oE(e){const t=e.target;if(!(t.tagName==="INPUT"||t.tagName==="TEXTAREA")){if((e.ctrlKey||e.metaKey)&&e.shiftKey&&(e.key==="Z"||e.key==="z")){e.preventDefault(),Dd();return}if((e.ctrlKey||e.metaKey)&&e.key==="z"){e.preventDefault(),jd();return}}}function lE(){}const Dn={doMouseWheel:tE,doMouseDown:Pv,doMouseMove:Av,doMouseUp:Ov,doMouseOut:JS,doMouseOver:eE,doTouchStart:nE,doTouchMove:rE,doTouchEnd:iE,doWindowResize:sE,doUpdate:lE,doKeyDown:oE};class b0{constructor(t){this.object=t}limits(t,n){const i=typeof t<"u",o=typeof n<"u";return!o&&!i?{min:this.min,max:this.max}:(this.min=i?t:this.min,this.max=o?n:this.max,this)}apply(t,n,i){return this.object.translation.set(t,n),this.object.scale=i,this}}const pr=class pr{constructor(t,n){this.limits={scale:pr.Limit.clone(),x:pr.Limit.clone(),y:pr.Limit.clone()},this.viewport=n||document.body,this.viewportOffset={top:0,left:0,matrix:new As},this.surfaceMatrix=new As,this.surfaces=[],this.reset(),this.updateSurface(),this.add(new b0(t))}static Clamp(t,n,i){return Math.min(Math.max(t,n),i)}static TranslateMatrix(t,n,i){return t.elements[2]+=n,t.elements[5]+=i,t}static PositionToScale(t){return Math.exp(t)}static ScaleToPosition(t){return Math.log(t)}add(t){this.surfaces.push(t);const n=t.limits();return this.addLimits(n.min,n.max),this}addLimits(t,n){return typeof t<"u"&&(this.limits.scale.min?this.limits.scale.min=Math.max(t,this.limits.scale.min):this.limits.scale.min=t),typeof n>"u"?this:(this.limits.scale.max?this.limits.scale.max=Math.min(n,this.limits.scale.max):this.limits.scale.max=n,this)}clientToSurface(t,n,i){this.updateOffset();const o=this.surfaceMatrix.inverse();let l,u,c;if(arguments.length===1){const g=t;l=typeof g.x=="number"?g.x:0,u=typeof g.y=="number"?g.y:0,c=typeof g.z=="number"?g.z:1}else l=typeof t=="number"?t:0,u=typeof n=="number"?n:0,c=typeof i=="number"?i:1;const h=this.viewportOffset.matrix.inverse().multiply(l,u,c),d=o.multiply(h[0],h[1],h[2]);return{x:d[0],y:d[1],z:d[2]}}surfaceToClient(t,n,i){this.updateOffset();const o=this.viewportOffset.matrix.clone();let l,u,c;if(arguments.length===1){const g=t;l=typeof g.x=="number"?g.x:0,u=typeof g.y=="number"?g.y:0,c=typeof g.z=="number"?g.z:1}else l=typeof t=="number"?t:0,u=typeof n=="number"?n:0,c=typeof i=="number"?i:1;const h=this.surfaceMatrix.multiply(l,u,c),d=o.multiply(h[0],h[1],h[2]);return{x:d[0],y:d[1],z:d[2]}}zoomBy(t,n,i){const o=pr.PositionToScale(this.zoom+t);return this.zoomSet(o,n,i),this}zoomSet(t,n,i){const o=this.fitToLimits(t);if(this.zoom=pr.ScaleToPosition(o),o===this.scale)return this;const l=this.clientToSurface(n,i),u=o/this.scale;this.surfaceMatrix.scale(u),this.scale=o;const c=this.surfaceToClient(l),h=n-c.x,d=i-c.y;return this.translateSurface(h,d),this}translateSurface(t,n){return pr.TranslateMatrix(this.surfaceMatrix,t,n),this.updateSurface(),this}updateOffset(){const t=this.viewport.getBoundingClientRect();return this.viewportOffset.left=t.left-document.body.scrollLeft,this.viewportOffset.top=t.top-document.body.scrollTop,this.viewportOffset.matrix.identity().translate(this.viewportOffset.left,this.viewportOffset.top),this}updateSurface(){const t=this.surfaceMatrix.elements;for(let n=0;n<this.surfaces.length;n++)this.surfaces[n].apply(t[2],t[5],t[0]);return this}reset(){return this.zoom=0,this.scale=1,this.surfaceMatrix.identity(),this}fitToLimits(t){return pr.Clamp(t,this.limits.scale.min,this.limits.scale.max)}};G(pr,"Surface",b0),G(pr,"Limit",{min:-1/0,max:1/0,clone:function(){const t={};for(let n in this)t[n]=this[n];return t}});let od=pr;const aE=(e,t,n)=>{E.useEffect(()=>{const{setContainer:i,setDoodler:o}=Jt.getState();if(!e.current)return;const l=uE(e.current),u=cE(l),c=fE(u),h=new Gb({two:l,canvas:u,zui:c,sketchId:t,container:e.current});o(h),i(e.current),Qb(h),h.loadDoodles().finally(()=>n==null?void 0:n());const d=e.current;d.addEventListener("wheel",Dn.doMouseWheel,{passive:!1});const g=Jb(Dn.doWindowResize,250);return window.addEventListener("resize",g),window.addEventListener("keydown",Dn.doKeyDown),()=>{window.removeEventListener("resize",g),window.removeEventListener("keydown",Dn.doKeyDown),d.removeEventListener("wheel",Dn.doMouseWheel),d.firstChild&&d.removeChild(d.firstChild),l.remove();const{setDoodles:m}=Jt.getState();m([]),Ir.getState().clear()}},[e,n,t])},uE=e=>new Ee({autostart:!1,fitted:!0,width:e.clientWidth,height:e.clientHeight,type:Ee.Types.svg}).appendTo(e),cE=e=>{const t=new Ee.Group;return e.add(t),t},fE=e=>{const t=new od(e);return t.addLimits(.05,100),t},hE=({sketchId:e,onReady:t})=>{const n=E.useRef(null),i=wt(h=>h.selectedTool),o=wt(h=>h.activeTool),l=wt(h=>h.toolOption),u=wt(h=>h.canvasColor),c=ht(u).toHex();return aE(n,e,t),O.jsx("div",{style:{backgroundColor:c||"black"},className:"canvas-container flex-grow overflow-hidden",tabIndex:0,ref:n,"data-selected":i,"data-active":o,"data-option":l,onMouseDown:h=>Dn.doMouseDown(h),onMouseMove:h=>Dn.doMouseMove(h),onMouseUp:h=>Dn.doMouseUp(h),onMouseOut:h=>Dn.doMouseOut(h),onMouseOver:h=>Dn.doMouseOver(h),onTouchStart:h=>Dn.doTouchStart(h),onTouchMove:h=>Dn.doTouchMove(h),onTouchEnd:h=>Dn.doTouchEnd(h)})},dE=()=>{const e=Jt(n=>n.cursor),t=mc(n=>n.zoom);if(e){const n=Math.floor(e.x),i=Math.floor(e.y);return O.jsxs("div",{className:"flex justify-end py-1 px-4 text-xs gap-4",children:[O.jsxs("div",{children:[n,":",i]}),O.jsxs("div",{className:"w-24",children:[t,"%"]})]})}return null},pE=()=>{const e=Jt(i=>i.doodles),t=Sn(i=>i.selected),n=E.useMemo(()=>t.map(i=>i.id),[t]);return O.jsxs(O.Fragment,{children:[O.jsx("div",{className:"pb-1 pt-4",children:"Layers"}),O.jsx("div",{className:"h-64 overflow-y-auto scroll-smooth shadow rounded bg-default-3",children:O.jsx("div",{className:"flex flex-col  text-sm",children:e.map(i=>O.jsx(gE,{doodle:i,isSelected:n.includes(i.shape.id)},i.shape.id))})})]})},gE=({doodle:e,isSelected:t})=>O.jsxs("button",{type:"button",className:`flex items-center hover:bg-default-4 text-left ${t?"bg-secondary":""}`,children:[O.jsx("div",{className:"w-8 h-8 flex flex-center text-default-6",children:O.jsx(mE,{type:e.type})}),O.jsx("div",{className:"flex-grow",children:e.type})]}),mE=({type:e})=>{switch(e){case"brush":return O.jsx(Q0,{stroke:1,size:16});case"circle":case"ellipse":return O.jsx(ow,{stroke:1,size:16});case"rect":return O.jsx(mw,{stroke:1,size:16});case"line":return O.jsx(xd,{stroke:1,size:16});case"arrow":return O.jsx(K0,{stroke:1,size:16});default:return O.jsx(cw,{stroke:1,size:16})}},Bi=E.forwardRef((e,t)=>{const{className:n,...i}=e;return O.jsx("button",{type:"button",className:`p-1 rounded hover:bg-default-3 ${n||""}`,ref:t,...i,children:e.children})});Bi.displayName="Button";const Lv=({children:e})=>O.jsx("div",{className:"flex  border border-default-4 rounded overflow-hidden",children:e}),Ll=e=>{const{isSelected:t,children:n,...i}=e,o=!!t;return O.jsx("button",{type:"button",className:`p-1 hover:bg-default-4 ${o?"bg-default-3":""}`,"aria-pressed":o,...i,children:n})},yE=()=>{const e=Ir(o=>o.undoStack),t=Ir(o=>o.redoStack),n=e.length>0,i=t.length>0;return O.jsxs(O.Fragment,{children:[O.jsxs("div",{className:"pb-1 pt-4 flex items-center justify-between",children:[O.jsx("span",{children:"History"}),O.jsxs("div",{className:"flex gap-1",children:[O.jsx(Bi,{onClick:jd,disabled:!n,title:"Undo (Ctrl+Z)",children:O.jsx(Y0,{size:16,stroke:1})}),O.jsx(Bi,{onClick:Dd,disabled:!i,title:"Redo (Ctrl+Shift+Z)",children:O.jsx(X0,{size:16,stroke:1})})]})]}),O.jsx("div",{className:"h-40 overflow-y-auto scroll-smooth shadow rounded bg-default-3",children:O.jsxs("div",{className:"flex flex-col text-sm",children:[[...t].reverse().map((o,l)=>O.jsx(Ah,{command:o,variant:"future"},`redo-${l}`)),e.length>0&&O.jsx(Ah,{command:e[e.length-1],variant:"current"},"current"),[...e].slice(0,-1).reverse().map((o,l)=>O.jsx(Ah,{command:o,variant:"past"},`undo-${l}`))]})})]})},Ah=({command:e,variant:t})=>O.jsx("div",{className:`px-2 py-0.5 text-xs ${t==="current"?"bg-secondary":t==="future"?"opacity-40":"opacity-70"}`,children:e.label});function yc(){return(yc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function Fv(e,t){if(e==null)return{};var n,i,o={},l=Object.keys(e);for(i=0;i<l.length;i++)t.indexOf(n=l[i])>=0||(o[n]=e[n]);return o}function ld(e){var t=E.useRef(e),n=E.useRef(function(i){t.current&&t.current(i)});return t.current=e,n.current}var Ao=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=1),e>n?n:e<t?t:e},Dl=function(e){return"touches"in e},ad=function(e){return e&&e.ownerDocument.defaultView||self},S0=function(e,t,n){var i=e.getBoundingClientRect(),o=Dl(t)?function(l,u){for(var c=0;c<l.length;c++)if(l[c].identifier===u)return l[c];return l[0]}(t.touches,n):t;return{left:Ao((o.pageX-(i.left+ad(e).pageXOffset))/i.width),top:Ao((o.pageY-(i.top+ad(e).pageYOffset))/i.height)}},E0=function(e){!Dl(e)&&e.preventDefault()},zd=rt.memo(function(e){var t=e.onMove,n=e.onKey,i=Fv(e,["onMove","onKey"]),o=E.useRef(null),l=ld(t),u=ld(n),c=E.useRef(null),h=E.useRef(!1),d=E.useMemo(function(){var _=function(S){E0(S),(Dl(S)?S.touches.length>0:S.buttons>0)&&o.current?l(S0(o.current,S,c.current)):k(!1)},w=function(){return k(!1)};function k(S){var b=h.current,x=ad(o.current),R=S?x.addEventListener:x.removeEventListener;R(b?"touchmove":"mousemove",_),R(b?"touchend":"mouseup",w)}return[function(S){var b=S.nativeEvent,x=o.current;if(x&&(E0(b),!function(M,P){return P&&!Dl(M)}(b,h.current)&&x)){if(Dl(b)){h.current=!0;var R=b.changedTouches||[];R.length&&(c.current=R[0].identifier)}x.focus(),l(S0(x,b,c.current)),k(!0)}},function(S){var b=S.which||S.keyCode;b<37||b>40||(S.preventDefault(),u({left:b===39?.05:b===37?-.05:0,top:b===40?.05:b===38?-.05:0}))},k]},[u,l]),g=d[0],m=d[1],v=d[2];return E.useEffect(function(){return v},[v]),rt.createElement("div",yc({},i,{onTouchStart:g,onMouseDown:g,className:"react-colorful__interactive",ref:o,onKeyDown:m,tabIndex:0,role:"slider"}))}),_c=function(e){return e.filter(Boolean).join(" ")},Bd=function(e){var t=e.color,n=e.left,i=e.top,o=i===void 0?.5:i,l=_c(["react-colorful__pointer",e.className]);return rt.createElement("div",{className:l,style:{top:100*o+"%",left:100*n+"%"}},rt.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},an=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=Math.pow(10,t)),Math.round(n*e)/n},Iv=function(e){var t=e.s,n=e.v,i=e.a,o=(200-t)*n/100;return{h:an(e.h),s:an(o>0&&o<200?t*n/100/(o<=100?o:200-o)*100:0),l:an(o/2),a:an(i,2)}},ud=function(e){var t=Iv(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},Oh=function(e){var t=Iv(e);return"hsla("+t.h+", "+t.s+"%, "+t.l+"%, "+t.a+")"},_E=function(e){var t=e.h,n=e.s,i=e.v,o=e.a;t=t/360*6,n/=100,i/=100;var l=Math.floor(t),u=i*(1-n),c=i*(1-(t-l)*n),h=i*(1-(1-t+l)*n),d=l%6;return{r:an(255*[i,c,u,u,h,i][d]),g:an(255*[h,i,i,c,u,u][d]),b:an(255*[u,u,h,i,i,c][d]),a:an(o,2)}},vE=function(e){var t=e.r,n=e.g,i=e.b,o=e.a,l=Math.max(t,n,i),u=l-Math.min(t,n,i),c=u?l===t?(n-i)/u:l===n?2+(i-t)/u:4+(t-n)/u:0;return{h:an(60*(c<0?c+6:c)),s:an(l?u/l*100:0),v:an(l/255*100),a:o}},xE=rt.memo(function(e){var t=e.hue,n=e.onChange,i=_c(["react-colorful__hue",e.className]);return rt.createElement("div",{className:i},rt.createElement(zd,{onMove:function(o){n({h:360*o.left})},onKey:function(o){n({h:Ao(t+360*o.left,0,360)})},"aria-label":"Hue","aria-valuenow":an(t),"aria-valuemax":"360","aria-valuemin":"0"},rt.createElement(Bd,{className:"react-colorful__hue-pointer",left:t/360,color:ud({h:t,s:100,v:100,a:1})})))}),wE=rt.memo(function(e){var t=e.hsva,n=e.onChange,i={backgroundColor:ud({h:t.h,s:100,v:100,a:1})};return rt.createElement("div",{className:"react-colorful__saturation",style:i},rt.createElement(zd,{onMove:function(o){n({s:100*o.left,v:100-100*o.top})},onKey:function(o){n({s:Ao(t.s+100*o.left,0,100),v:Ao(t.v-100*o.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+an(t.s)+"%, Brightness "+an(t.v)+"%"},rt.createElement(Bd,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:ud(t)})))}),Nv=function(e,t){if(e===t)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0};function kE(e,t,n){var i=ld(n),o=E.useState(function(){return e.toHsva(t)}),l=o[0],u=o[1],c=E.useRef({color:t,hsva:l});E.useEffect(function(){if(!e.equal(t,c.current.color)){var d=e.toHsva(t);c.current={hsva:d,color:t},u(d)}},[t,e]),E.useEffect(function(){var d;Nv(l,c.current.hsva)||e.equal(d=e.fromHsva(l),c.current.color)||(c.current={hsva:l,color:d},i(d))},[l,e,i]);var h=E.useCallback(function(d){u(function(g){return Object.assign({},g,d)})},[]);return[l,h]}var bE=typeof window<"u"?E.useLayoutEffect:E.useEffect,SE=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},C0=new Map,EE=function(e){bE(function(){var t=e.current?e.current.ownerDocument:document;if(t!==void 0&&!C0.has(t)){var n=t.createElement("style");n.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,C0.set(t,n);var i=SE();i&&n.setAttribute("nonce",i),t.head.appendChild(n)}},[])},CE=function(e){var t=e.className,n=e.hsva,i=e.onChange,o={backgroundImage:"linear-gradient(90deg, "+Oh(Object.assign({},n,{a:0}))+", "+Oh(Object.assign({},n,{a:1}))+")"},l=_c(["react-colorful__alpha",t]),u=an(100*n.a);return rt.createElement("div",{className:l},rt.createElement("div",{className:"react-colorful__alpha-gradient",style:o}),rt.createElement(zd,{onMove:function(c){i({a:c.left})},onKey:function(c){i({a:Ao(n.a+c.left)})},"aria-label":"Alpha","aria-valuetext":u+"%","aria-valuenow":u,"aria-valuemin":"0","aria-valuemax":"100"},rt.createElement(Bd,{className:"react-colorful__alpha-pointer",left:n.a,color:Oh(n)})))},RE=function(e){var t=e.className,n=e.colorModel,i=e.color,o=i===void 0?n.defaultColor:i,l=e.onChange,u=Fv(e,["className","colorModel","color","onChange"]),c=E.useRef(null);EE(c);var h=kE(n,o,l),d=h[0],g=h[1],m=_c(["react-colorful",t]);return rt.createElement("div",yc({},u,{ref:c,className:m}),rt.createElement(wE,{hsva:d,onChange:g}),rt.createElement(xE,{hue:d.h,onChange:g}),rt.createElement(CE,{hsva:d,onChange:g,className:"react-colorful__last-control"}))},TE={defaultColor:{r:0,g:0,b:0,a:1},toHsva:vE,fromHsva:_E,equal:Nv},ME=function(e){return rt.createElement(RE,yc({},e,{colorModel:TE}))};function PE({initialOpen:e=!1,placement:t="top",modal:n,open:i,onOpenChange:o,initialOffset:l=5}={}){const[u,c]=E.useState(e),[h,d]=E.useState(),[g,m]=E.useState(),v=i??u,_=o??c,w=O_({placement:t,open:v,onOpenChange:_,whileElementsMounted:__,middleware:[x_(l),k_({crossAxis:t.includes("-"),fallbackAxisSideDirection:"end",padding:5}),w_({padding:5})]}),k=w.context,S=tk(k,{enabled:i==null}),b=A_(k),x=F_(k),R=L_([S,b,x]);return E.useMemo(()=>({open:v,setOpen:_,...R,...w,modal:n,labelId:h,descriptionId:g,setLabelId:d,setDescriptionId:m}),[v,_,R,w,n,h,g])}const jv=E.createContext(null),Ql=()=>{const e=E.useContext(jv);if(e==null)throw new Error("Popover components must be wrapped in <Popover />");return e};function Ud({children:e,modal:t=!1,...n}){const i=PE({modal:t,...n});return O.jsx(jv.Provider,{value:i,children:e})}const $d=E.forwardRef(function({children:t,asChild:n=!1,...i},o){const l=Ql(),u=t.ref,c=ic([l.refs.setReference,o,u]);return n&&E.isValidElement(t)?E.cloneElement(t,l.getReferenceProps({ref:c,...i,...t.props,"data-state":l.open?"open":"closed"})):O.jsx("button",{ref:c,type:"button","data-state":l.open?"open":"closed",...l.getReferenceProps(i),children:t})}),Vd=E.forwardRef(function({style:t,...n},i){const{context:o,...l}=Ql(),u=ic([l.refs.setFloating,i]);return o.open?O.jsx(M_,{children:O.jsx(ek,{context:o,modal:l.modal,children:O.jsx("div",{ref:u,style:{...l.floatingStyles,...t},"aria-labelledby":l.labelId,"aria-describedby":l.descriptionId,...l.getFloatingProps(n),children:n.children})})}):null});E.forwardRef(function(t,n){const{setLabelId:i}=Ql(),o=Xl();return E.useLayoutEffect(()=>(i(o),()=>i(void 0)),[o,i]),O.jsx("h2",{...t,ref:n,id:o,children:t.children})});E.forwardRef(function(t,n){const{setDescriptionId:i}=Ql(),o=Xl();return E.useLayoutEffect(()=>(i(o),()=>i(void 0)),[o,i]),O.jsx("p",{...t,ref:n,id:o})});E.forwardRef(function(t,n){const{setOpen:i}=Ql();return O.jsx("button",{type:"button",ref:n,...t,onClick:o=>{var l;(l=t.onClick)==null||l.call(t,o),i(!1)}})});const AE=({value:e,onChange:t})=>{const n={r:0,g:0,b:0,a:1},[i,o]=E.useState(e||n),[l,u]=E.useState(""),[c,h]=E.useState(""),d=Fh(c),g=Lh(i);E.useEffect(()=>{e&&(h(`${Math.round((e.a||0)*100)}`),u(Lh(e)),o(e))},[e]);const m=x=>{o(x),i.a&&h(`${Math.floor(i.a*100)}`),t==null||t(x)},v=x=>{x.a>.95&&(x.a=1),o(x),m(x),u(Lh(i))},_=x=>{u(x);const R=ht(x);if(R.isValid()&&R.toHex()===x){const M=R.toRgb();isNaN(d)||(M.a=d),m(M)}},w=()=>{const x=ht(i);x.isEqual(l)||m(x.toRgb())},k=x=>{h(x);const R=Fh(x);x&&!isNaN(R)&&R>=0&&R<=1&&S(R)},S=x=>{const R={...i};R.a=x,m(R)};return{rgbaValue:i,rgbValue:g,alphaValue:c,rgbStrValue:l,doChangePicker:v,doChangeRgbValue:_,doChangeAlpha:k,doChangeAlphaValue:S,doRgbBlur:w,doAlphaBlur:()=>{const x=i.a,R=Fh(c);x!=R&&m({...i})}}};function Lh(e){return ht({r:e.r,g:e.g,b:e.b}).toHex()}function Fh(e){return Number(e||"1")/100}function Hi(e){"@babel/helpers - typeof";return Hi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hi(e)}function OE(e,t){if(Hi(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(Hi(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LE(e){var t=OE(e,"string");return Hi(t)=="symbol"?t:t+""}function rr(e,t,n){return(t=LE(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function Zt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?R0(Object(n),!0).forEach(function(i){rr(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R0(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function cd(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function FE(e){if(Array.isArray(e))return cd(e)}function IE(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Dv(e,t){if(e){if(typeof e=="string")return cd(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cd(e,t):void 0}}function NE(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ii(e){return FE(e)||IE(e)||Dv(e)||NE()}function jE(e){if(Array.isArray(e))return e}function DE(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,o,l,u,c=[],h=!0,d=!1;try{if(l=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;h=!1}else for(;!(h=(i=l.call(n)).done)&&(c.push(i.value),c.length!==t);h=!0);}catch(g){d=!0,o=g}finally{try{if(!h&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(d)throw o}}return c}}function zE(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dt(e,t){return jE(e)||DE(e,t)||Dv(e,t)||zE()}var Ih={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var T0;function BE(){return T0||(T0=1,function(e){(function(){var t={}.hasOwnProperty;function n(){for(var l="",u=0;u<arguments.length;u++){var c=arguments[u];c&&(l=o(l,i(c)))}return l}function i(l){if(typeof l=="string"||typeof l=="number")return l;if(typeof l!="object")return"";if(Array.isArray(l))return n.apply(null,l);if(l.toString!==Object.prototype.toString&&!l.toString.toString().includes("[native code]"))return l.toString();var u="";for(var c in l)t.call(l,c)&&l[c]&&(u=o(u,c));return u}function o(l,u){return u?l?l+" "+u:l+u:l}e.exports?(n.default=n,e.exports=n):window.classNames=n})()}(Ih)),Ih.exports}var UE=BE();const Os=V0(UE);function Co(e){var t=E.useRef();t.current=e;var n=E.useCallback(function(){for(var i,o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];return(i=t.current)===null||i===void 0?void 0:i.call.apply(i,[t].concat(l))},[]);return n}function $E(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var M0=$E()?E.useLayoutEffect:E.useEffect,zv=function(t,n){var i=E.useRef(!0);M0(function(){return t(i.current)},n),M0(function(){return i.current=!1,function(){i.current=!0}},[])},P0=function(t,n){zv(function(i){if(!i)return t()},n)};function A0(e){var t=E.useRef(!1),n=E.useState(e),i=Dt(n,2),o=i[0],l=i[1];E.useEffect(function(){return t.current=!1,function(){t.current=!0}},[]);function u(c,h){h&&t.current||l(c)}return[o,u]}function Nh(e){return e!==void 0}function VE(e,t){var n=t,i=n.defaultValue,o=n.value,l=n.onChange,u=n.postState,c=A0(function(){return Nh(o)?o:Nh(i)?typeof i=="function"?i():i:typeof e=="function"?e():e}),h=Dt(c,2),d=h[0],g=h[1],m=o!==void 0?o:d,v=u?u(m):m,_=Co(l),w=A0([m]),k=Dt(w,2),S=k[0],b=k[1];P0(function(){var R=S[0];d!==R&&_(d,R)},[S]),P0(function(){Nh(o)||g(o)},[o]);var x=Co(function(R,M){g(R,M),b([m],M)});return[v,x]}var fd={},HE=function(t){};function WE(e,t){}function YE(e,t){}function XE(){fd={}}function Bv(e,t,n){!t&&!fd[n]&&(e(!1,n),fd[n]=!0)}function Oo(e,t){Bv(WE,e,t)}function KE(e,t){Bv(YE,e,t)}Oo.preMessage=HE;Oo.resetWarned=XE;Oo.noteOnce=KE;function qE(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=new Set;function o(l,u){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,h=i.has(l);if(Oo(!h,"Warning: There may be circular references"),h)return!1;if(l===u)return!0;if(n&&c>1)return!1;i.add(l);var d=c+1;if(Array.isArray(l)){if(!Array.isArray(u)||l.length!==u.length)return!1;for(var g=0;g<l.length;g++)if(!o(l[g],u[g],d))return!1;return!0}if(l&&u&&Hi(l)==="object"&&Hi(u)==="object"){var m=Object.keys(l);return m.length!==Object.keys(u).length?!1:m.every(function(v){return o(l[v],u[v],d)})}return!1}return o(e,t)}function Hl(){return Hl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Hl.apply(null,arguments)}function GE(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.includes(i))continue;n[i]=e[i]}return n}function Uv(e,t){if(e==null)return{};var n,i,o=GE(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)n=l[i],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function hd(e,t,n){return(e-t)/(n-t)}function Hd(e,t,n,i){var o=hd(t,n,i),l={};switch(e){case"rtl":l.right="".concat(o*100,"%"),l.transform="translateX(50%)";break;case"btt":l.bottom="".concat(o*100,"%"),l.transform="translateY(50%)";break;case"ttb":l.top="".concat(o*100,"%"),l.transform="translateY(-50%)";break;default:l.left="".concat(o*100,"%"),l.transform="translateX(-50%)";break}return l}function vs(e,t){return Array.isArray(e)?e[t]:e}var _e={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(t){var n=t.keyCode;if(t.altKey&&!t.ctrlKey||t.metaKey||n>=_e.F1&&n<=_e.F12)return!1;switch(n){case _e.ALT:case _e.CAPS_LOCK:case _e.CONTEXT_MENU:case _e.CTRL:case _e.DOWN:case _e.END:case _e.ESC:case _e.HOME:case _e.INSERT:case _e.LEFT:case _e.MAC_FF_META:case _e.META:case _e.NUMLOCK:case _e.NUM_CENTER:case _e.PAGE_DOWN:case _e.PAGE_UP:case _e.PAUSE:case _e.PRINT_SCREEN:case _e.RIGHT:case _e.SHIFT:case _e.UP:case _e.WIN_KEY:case _e.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(t){if(t>=_e.ZERO&&t<=_e.NINE||t>=_e.NUM_ZERO&&t<=_e.NUM_MULTIPLY||t>=_e.A&&t<=_e.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&t===0)return!0;switch(t){case _e.SPACE:case _e.QUESTION_MARK:case _e.NUM_PLUS:case _e.NUM_MINUS:case _e.NUM_PERIOD:case _e.NUM_DIVISION:case _e.SEMICOLON:case _e.DASH:case _e.EQUALS:case _e.COMMA:case _e.PERIOD:case _e.SLASH:case _e.APOSTROPHE:case _e.SINGLE_QUOTE:case _e.OPEN_SQUARE_BRACKET:case _e.BACKSLASH:case _e.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},Ls=E.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}}),QE=E.createContext({}),ZE=["prefixCls","value","valueIndex","onStartMove","onDelete","style","render","dragging","draggingDelete","onOffsetChange","onChangeComplete","onFocus","onMouseEnter"],O0=E.forwardRef(function(e,t){var n=e.prefixCls,i=e.value,o=e.valueIndex,l=e.onStartMove,u=e.onDelete,c=e.style,h=e.render,d=e.dragging,g=e.draggingDelete,m=e.onOffsetChange,v=e.onChangeComplete,_=e.onFocus,w=e.onMouseEnter,k=Uv(e,ZE),S=E.useContext(Ls),b=S.min,x=S.max,R=S.direction,M=S.disabled,P=S.keyboard,I=S.range,j=S.tabIndex,Y=S.ariaLabelForHandle,z=S.ariaLabelledByForHandle,H=S.ariaRequired,X=S.ariaValueTextFormatterForHandle,K=S.styles,ae=S.classNames,te="".concat(n,"-handle"),re=function(oe){M||l(oe,o)},ue=function(oe){_==null||_(oe,o)},Z=function(oe){w(oe,o)},D=function(oe){if(!M&&P){var Q=null;switch(oe.which||oe.keyCode){case _e.LEFT:Q=R==="ltr"||R==="btt"?-1:1;break;case _e.RIGHT:Q=R==="ltr"||R==="btt"?1:-1;break;case _e.UP:Q=R!=="ttb"?1:-1;break;case _e.DOWN:Q=R!=="ttb"?-1:1;break;case _e.HOME:Q="min";break;case _e.END:Q="max";break;case _e.PAGE_UP:Q=2;break;case _e.PAGE_DOWN:Q=-2;break;case _e.BACKSPACE:case _e.DELETE:u(o);break}Q!==null&&(oe.preventDefault(),m(Q,o))}},B=function(oe){switch(oe.which||oe.keyCode){case _e.LEFT:case _e.RIGHT:case _e.UP:case _e.DOWN:case _e.HOME:case _e.END:case _e.PAGE_UP:case _e.PAGE_DOWN:v==null||v();break}},q=Hd(R,i,b,x),L={};if(o!==null){var W;L={tabIndex:M?null:vs(j,o),role:"slider","aria-valuemin":b,"aria-valuemax":x,"aria-valuenow":i,"aria-disabled":M,"aria-label":vs(Y,o),"aria-labelledby":vs(z,o),"aria-required":vs(H,o),"aria-valuetext":(W=vs(X,o))===null||W===void 0?void 0:W(i),"aria-orientation":R==="ltr"||R==="rtl"?"horizontal":"vertical",onMouseDown:re,onTouchStart:re,onFocus:ue,onMouseEnter:Z,onKeyDown:D,onKeyUp:B}}var xe=E.createElement("div",Hl({ref:t,className:Os(te,rr(rr(rr({},"".concat(te,"-").concat(o+1),o!==null&&I),"".concat(te,"-dragging"),d),"".concat(te,"-dragging-delete"),g),ae.handle),style:Zt(Zt(Zt({},q),c),K.handle)},L,k));return h&&(xe=h(xe,{index:o,prefixCls:n,value:i,dragging:d,draggingDelete:g})),xe}),JE=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","activeHandleRender","draggingIndex","draggingDelete","onFocus"],e3=E.forwardRef(function(e,t){var n=e.prefixCls,i=e.style,o=e.onStartMove,l=e.onOffsetChange,u=e.values,c=e.handleRender,h=e.activeHandleRender,d=e.draggingIndex,g=e.draggingDelete,m=e.onFocus,v=Uv(e,JE),_=E.useRef({}),w=E.useState(!1),k=Dt(w,2),S=k[0],b=k[1],x=E.useState(-1),R=Dt(x,2),M=R[0],P=R[1],I=function(X){P(X),b(!0)},j=function(X,K){I(K),m==null||m(X)},Y=function(X,K){I(K)};E.useImperativeHandle(t,function(){return{focus:function(X){var K;(K=_.current[X])===null||K===void 0||K.focus()},hideHelp:function(){bd.flushSync(function(){b(!1)})}}});var z=Zt({prefixCls:n,onStartMove:o,onOffsetChange:l,render:c,onFocus:j,onMouseEnter:Y},v);return E.createElement(E.Fragment,null,u.map(function(H,X){var K=d===X;return E.createElement(O0,Hl({ref:function(te){te?_.current[X]=te:delete _.current[X]},dragging:K,draggingDelete:K&&g,style:vs(i,X),key:X,value:H,valueIndex:X},z))}),h&&S&&E.createElement(O0,Hl({key:"a11y"},z,{value:u[M],valueIndex:null,dragging:d!==-1,draggingDelete:g,render:h,style:{pointerEvents:"none"},tabIndex:null,"aria-hidden":!0})))}),t3=function(t){var n=t.prefixCls,i=t.style,o=t.children,l=t.value,u=t.onClick,c=E.useContext(Ls),h=c.min,d=c.max,g=c.direction,m=c.includedStart,v=c.includedEnd,_=c.included,w="".concat(n,"-text"),k=Hd(g,l,h,d);return E.createElement("span",{className:Os(w,rr({},"".concat(w,"-active"),_&&m<=l&&l<=v)),style:Zt(Zt({},k),i),onMouseDown:function(b){b.stopPropagation()},onClick:function(){u(l)}},o)},n3=function(t){var n=t.prefixCls,i=t.marks,o=t.onClick,l="".concat(n,"-mark");return i.length?E.createElement("div",{className:l},i.map(function(u){var c=u.value,h=u.style,d=u.label;return E.createElement(t3,{key:c,prefixCls:l,style:h,value:c,onClick:o},d)})):null},r3=function(t){var n=t.prefixCls,i=t.value,o=t.style,l=t.activeStyle,u=E.useContext(Ls),c=u.min,h=u.max,d=u.direction,g=u.included,m=u.includedStart,v=u.includedEnd,_="".concat(n,"-dot"),w=g&&m<=i&&i<=v,k=Zt(Zt({},Hd(d,i,c,h)),typeof o=="function"?o(i):o);return w&&(k=Zt(Zt({},k),typeof l=="function"?l(i):l)),E.createElement("span",{className:Os(_,rr({},"".concat(_,"-active"),w)),style:k})},i3=function(t){var n=t.prefixCls,i=t.marks,o=t.dots,l=t.style,u=t.activeStyle,c=E.useContext(Ls),h=c.min,d=c.max,g=c.step,m=E.useMemo(function(){var v=new Set;if(i.forEach(function(w){v.add(w.value)}),o&&g!==null)for(var _=h;_<=d;)v.add(_),_+=g;return Array.from(v)},[h,d,g,o,i]);return E.createElement("div",{className:"".concat(n,"-step")},m.map(function(v){return E.createElement(r3,{prefixCls:n,key:v,value:v,style:l,activeStyle:u})}))},L0=function(t){var n=t.prefixCls,i=t.style,o=t.start,l=t.end,u=t.index,c=t.onStartMove,h=t.replaceCls,d=E.useContext(Ls),g=d.direction,m=d.min,v=d.max,_=d.disabled,w=d.range,k=d.classNames,S="".concat(n,"-track"),b=hd(o,m,v),x=hd(l,m,v),R=function(j){!_&&c&&c(j,-1)},M={};switch(g){case"rtl":M.right="".concat(b*100,"%"),M.width="".concat(x*100-b*100,"%");break;case"btt":M.bottom="".concat(b*100,"%"),M.height="".concat(x*100-b*100,"%");break;case"ttb":M.top="".concat(b*100,"%"),M.height="".concat(x*100-b*100,"%");break;default:M.left="".concat(b*100,"%"),M.width="".concat(x*100-b*100,"%")}var P=h||Os(S,rr(rr({},"".concat(S,"-").concat(u+1),u!==null&&w),"".concat(n,"-track-draggable"),c),k.track);return E.createElement("div",{className:P,style:Zt(Zt({},M),i),onMouseDown:R,onTouchStart:R})},s3=function(t){var n=t.prefixCls,i=t.style,o=t.values,l=t.startPoint,u=t.onStartMove,c=E.useContext(Ls),h=c.included,d=c.range,g=c.min,m=c.styles,v=c.classNames,_=E.useMemo(function(){if(!d){if(o.length===0)return[];var k=l??g,S=o[0];return[{start:Math.min(k,S),end:Math.max(k,S)}]}for(var b=[],x=0;x<o.length-1;x+=1)b.push({start:o[x],end:o[x+1]});return b},[o,d,l,g]);if(!h)return null;var w=_!=null&&_.length&&(v.tracks||m.tracks)?E.createElement(L0,{index:null,prefixCls:n,start:_[0].start,end:_[_.length-1].end,replaceCls:Os(v.tracks,"".concat(n,"-tracks")),style:m.tracks}):null;return E.createElement(E.Fragment,null,w,_.map(function(k,S){var b=k.start,x=k.end;return E.createElement(L0,{index:S,prefixCls:n,style:Zt(Zt({},vs(i,S)),m.track),start:b,end:x,key:S,onStartMove:u})}))},o3=130;function F0(e){var t="targetTouches"in e?e.targetTouches[0]:e;return{pageX:t.pageX,pageY:t.pageY}}function l3(e,t,n,i,o,l,u,c,h,d,g){var m=E.useState(null),v=Dt(m,2),_=v[0],w=v[1],k=E.useState(-1),S=Dt(k,2),b=S[0],x=S[1],R=E.useState(!1),M=Dt(R,2),P=M[0],I=M[1],j=E.useState(n),Y=Dt(j,2),z=Y[0],H=Y[1],X=E.useState(n),K=Dt(X,2),ae=K[0],te=K[1],re=E.useRef(null),ue=E.useRef(null),Z=E.useRef(null),D=E.useContext(QE),B=D.onDragStart,q=D.onDragChange;zv(function(){b===-1&&H(n)},[n,b]),E.useEffect(function(){return function(){document.removeEventListener("mousemove",re.current),document.removeEventListener("mouseup",ue.current),Z.current&&(Z.current.removeEventListener("touchmove",re.current),Z.current.removeEventListener("touchend",ue.current))}},[]);var L=function(Q,se,ee){se!==void 0&&w(se),H(Q);var Ce=Q;ee&&(Ce=Q.filter(function(Me,Ve){return Ve!==b})),u(Ce),q&&q({rawValues:Q,deleteIndex:ee?b:-1,draggingIndex:b,draggingValue:se})},W=Co(function(oe,Q,se){if(oe===-1){var ee=ae[0],Ce=ae[ae.length-1],Me=i-ee,Ve=o-Ce,dt=Q*(o-i);dt=Math.max(dt,Me),dt=Math.min(dt,Ve);var zt=l(ee+dt);dt=zt-ee;var Rt=ae.map(function(Un){return Un+dt});L(Rt)}else{var pt=(o-i)*Q,Bt=ii(z);Bt[oe]=ae[oe];var en=h(Bt,pt,oe,"dist");L(en.values,en.value,se)}}),xe=function(Q,se,ee){Q.stopPropagation();var Ce=ee||n,Me=Ce[se];x(se),w(Me),te(Ce),H(Ce),I(!1);var Ve=F0(Q),dt=Ve.pageX,zt=Ve.pageY,Rt=!1;B&&B({rawValues:Ce,draggingIndex:se,draggingValue:Me});var pt=function(Un){Un.preventDefault();var Ut=F0(Un),$n=Ut.pageX,En=Ut.pageY,vr=$n-dt,Cn=En-zt,cn=e.current.getBoundingClientRect(),xr=cn.width,Ur=cn.height,Vn,Rn;switch(t){case"btt":Vn=-Cn/Ur,Rn=vr;break;case"ttb":Vn=Cn/Ur,Rn=vr;break;case"rtl":Vn=-vr/xr,Rn=Cn;break;default:Vn=vr/xr,Rn=Cn}Rt=d?Math.abs(Rn)>o3&&g<z.length:!1,I(Rt),W(se,Vn,Rt)},Bt=function en(Un){Un.preventDefault(),document.removeEventListener("mouseup",en),document.removeEventListener("mousemove",pt),Z.current&&(Z.current.removeEventListener("touchmove",re.current),Z.current.removeEventListener("touchend",ue.current)),re.current=null,ue.current=null,Z.current=null,c(Rt),x(-1),I(!1)};document.addEventListener("mouseup",Bt),document.addEventListener("mousemove",pt),Q.currentTarget.addEventListener("touchend",Bt),Q.currentTarget.addEventListener("touchmove",pt),re.current=pt,ue.current=Bt,Z.current=Q.currentTarget},fe=E.useMemo(function(){var oe=ii(n).sort(function(Me,Ve){return Me-Ve}),Q=ii(z).sort(function(Me,Ve){return Me-Ve}),se={};Q.forEach(function(Me){se[Me]=(se[Me]||0)+1}),oe.forEach(function(Me){se[Me]=(se[Me]||0)-1});var ee=d?1:0,Ce=Object.values(se).reduce(function(Me,Ve){return Me+Math.abs(Ve)},0);return Ce<=ee?z:n},[n,z,d]);return[b,_,P,fe,xe]}function a3(e,t,n,i,o,l){var u=E.useCallback(function(_){return Math.max(e,Math.min(t,_))},[e,t]),c=E.useCallback(function(_){if(n!==null){var w=e+Math.round((u(_)-e)/n)*n,k=function(R){return(String(R).split(".")[1]||"").length},S=Math.max(k(n),k(t),k(e)),b=Number(w.toFixed(S));return e<=b&&b<=t?b:null}return null},[n,e,t,u]),h=E.useCallback(function(_){var w=u(_),k=i.map(function(x){return x.value});n!==null&&k.push(c(_)),k.push(e,t);var S=k[0],b=t-e;return k.forEach(function(x){var R=Math.abs(w-x);R<=b&&(S=x,b=R)}),S},[e,t,i,n,u,c]),d=function _(w,k,S){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof k=="number"){var x,R=w[S],M=R+k,P=[];i.forEach(function(H){P.push(H.value)}),P.push(e,t),P.push(c(R));var I=k>0?1:-1;b==="unit"?P.push(c(R+I*n)):P.push(c(M)),P=P.filter(function(H){return H!==null}).filter(function(H){return k<0?H<=R:H>=R}),b==="unit"&&(P=P.filter(function(H){return H!==R}));var j=b==="unit"?R:M;x=P[0];var Y=Math.abs(x-j);if(P.forEach(function(H){var X=Math.abs(H-j);X<Y&&(x=H,Y=X)}),x===void 0)return k<0?e:t;if(b==="dist")return x;if(Math.abs(k)>1){var z=ii(w);return z[S]=x,_(z,k-I,S,b)}return x}else{if(k==="min")return e;if(k==="max")return t}},g=function(w,k,S){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",x=w[S],R=d(w,k,S,b);return{value:R,changed:R!==x}},m=function(w){return l===null&&w===0||typeof l=="number"&&w<l},v=function(w,k,S){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",x=w.map(h),R=x[S],M=d(x,k,S,b);if(x[S]=M,o===!1){var P=l||0;S>0&&x[S-1]!==R&&(x[S]=Math.max(x[S],x[S-1]+P)),S<x.length-1&&x[S+1]!==R&&(x[S]=Math.min(x[S],x[S+1]-P))}else if(typeof l=="number"||l===null){for(var I=S+1;I<x.length;I+=1)for(var j=!0;m(x[I]-x[I-1])&&j;){var Y=g(x,1,I);x[I]=Y.value,j=Y.changed}for(var z=S;z>0;z-=1)for(var H=!0;m(x[z]-x[z-1])&&H;){var X=g(x,-1,z-1);x[z-1]=X.value,H=X.changed}for(var K=x.length-1;K>0;K-=1)for(var ae=!0;m(x[K]-x[K-1])&&ae;){var te=g(x,-1,K-1);x[K-1]=te.value,ae=te.changed}for(var re=0;re<x.length-1;re+=1)for(var ue=!0;m(x[re+1]-x[re])&&ue;){var Z=g(x,1,re+1);x[re+1]=Z.value,ue=Z.changed}}return{value:x[S],values:x}};return[h,v]}function u3(e){return E.useMemo(function(){if(e===!0||!e)return[!!e,!1,!1,0];var t=e.editable,n=e.draggableTrack,i=e.minCount,o=e.maxCount;return[!0,t,!t&&n,i||0,o]},[e])}var $v=E.forwardRef(function(e,t){var n=e.prefixCls,i=n===void 0?"rc-slider":n,o=e.className,l=e.style,u=e.classNames,c=e.styles,h=e.id,d=e.disabled,g=d===void 0?!1:d,m=e.keyboard,v=m===void 0?!0:m,_=e.autoFocus,w=e.onFocus,k=e.onBlur,S=e.min,b=S===void 0?0:S,x=e.max,R=x===void 0?100:x,M=e.step,P=M===void 0?1:M,I=e.value,j=e.defaultValue,Y=e.range,z=e.count,H=e.onChange,X=e.onBeforeChange,K=e.onAfterChange,ae=e.onChangeComplete,te=e.allowCross,re=te===void 0?!0:te,ue=e.pushable,Z=ue===void 0?!1:ue,D=e.reverse,B=e.vertical,q=e.included,L=q===void 0?!0:q,W=e.startPoint,xe=e.trackStyle,fe=e.handleStyle,oe=e.railStyle,Q=e.dotStyle,se=e.activeDotStyle,ee=e.marks,Ce=e.dots,Me=e.handleRender,Ve=e.activeHandleRender,dt=e.track,zt=e.tabIndex,Rt=zt===void 0?0:zt,pt=e.ariaLabelForHandle,Bt=e.ariaLabelledByForHandle,en=e.ariaRequired,Un=e.ariaValueTextFormatterForHandle,Ut=E.useRef(null),$n=E.useRef(null),En=E.useMemo(function(){return B?D?"ttb":"btt":D?"rtl":"ltr"},[D,B]),vr=u3(Y),Cn=Dt(vr,5),cn=Cn[0],xr=Cn[1],Ur=Cn[2],Vn=Cn[3],Rn=Cn[4],tn=E.useMemo(function(){return isFinite(b)?b:0},[b]),Hn=E.useMemo(function(){return isFinite(R)?R:100},[R]),Tn=E.useMemo(function(){return P!==null&&P<=0?1:P},[P]),wc=E.useMemo(function(){return typeof Z=="boolean"?Z?Tn:!1:Z>=0?Z:!1},[Z,Tn]),Ki=E.useMemo(function(){return Object.keys(ee||{}).map(function(Ue){var ge=ee[Ue],He={value:Number(Ue)};return ge&&Hi(ge)==="object"&&!E.isValidElement(ge)&&("label"in ge||"style"in ge)?(He.style=ge.style,He.label=ge.label):He.label=ge,He}).filter(function(Ue){var ge=Ue.label;return ge||typeof ge=="number"}).sort(function(Ue,ge){return Ue.value-ge.value})},[ee]),ta=a3(tn,Hn,Tn,Ki,re,wc),na=Dt(ta,2),ui=na[0],Is=na[1],jo=VE(j,{value:I}),Ns=Dt(jo,2),Wn=Ns[0],ci=Ns[1],ct=E.useMemo(function(){var Ue=Wn==null?[]:Array.isArray(Wn)?Wn:[Wn],ge=Dt(Ue,1),He=ge[0],Xe=He===void 0?tn:He,gt=Wn===null?[]:[Xe];if(cn){if(gt=ii(Ue),z||Wn===void 0){var Mn=z>=0?z+1:2;for(gt=gt.slice(0,Mn);gt.length<Mn;){var sr;gt.push((sr=gt[gt.length-1])!==null&&sr!==void 0?sr:tn)}}gt.sort(function(Yn,fn){return Yn-fn})}return gt.forEach(function(Yn,fn){gt[fn]=ui(Yn)}),gt},[Wn,cn,tn,z,ui]),$r=function(ge){return cn?ge:ge[0]},qi=Co(function(Ue){var ge=ii(Ue).sort(function(He,Xe){return He-Xe});H&&!qE(ge,ct,!0)&&H($r(ge)),ci(ge)}),Do=Co(function(Ue){Ue&&Ut.current.hideHelp();var ge=$r(ct);K==null||K(ge),Oo(!K,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),ae==null||ae(ge)}),ra=function(ge){if(!(g||!xr||ct.length<=Vn)){var He=ii(ct);He.splice(ge,1),X==null||X($r(He)),qi(He);var Xe=Math.max(0,ge-1);Ut.current.hideHelp(),Ut.current.focus(Xe)}},ia=l3($n,En,ct,tn,Hn,ui,qi,Do,Is,xr,Vn),Vr=Dt(ia,5),zo=Vr[0],Gi=Vr[1],Bo=Vr[2],Hr=Vr[3],sa=Vr[4],fi=function(ge,He){if(!g){var Xe=ii(ct),gt=0,Mn=0,sr=Hn-tn;ct.forEach(function(_t,Bs){var aa=Math.abs(ge-_t);aa<=sr&&(sr=aa,gt=Bs),_t<ge&&(Mn=Bs)});var Yn=gt;xr&&sr!==0&&(!Rn||ct.length<Rn)?(Xe.splice(Mn+1,0,ge),Yn=Mn+1):Xe[gt]=ge,cn&&!ct.length&&z===void 0&&Xe.push(ge);var fn=$r(Xe);if(X==null||X(fn),qi(Xe),He){var Tt,hi;(Tt=document.activeElement)===null||Tt===void 0||(hi=Tt.blur)===null||hi===void 0||hi.call(Tt),Ut.current.focus(Yn),sa(He,Yn,Xe)}else K==null||K(fn),Oo(!K,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),ae==null||ae(fn)}},js=function(ge){ge.preventDefault();var He=$n.current.getBoundingClientRect(),Xe=He.width,gt=He.height,Mn=He.left,sr=He.top,Yn=He.bottom,fn=He.right,Tt=ge.clientX,hi=ge.clientY,_t;switch(En){case"btt":_t=(Yn-hi)/gt;break;case"ttb":_t=(hi-sr)/gt;break;case"rtl":_t=(fn-Tt)/Xe;break;default:_t=(Tt-Mn)/Xe}var Bs=tn+_t*(Hn-tn);fi(ui(Bs),ge)},Ds=E.useState(null),zs=Dt(Ds,2),Uo=zs[0],oa=zs[1],kc=function(ge,He){if(!g){var Xe=Is(ct,ge,He);X==null||X($r(ct)),qi(Xe.values),oa(Xe.value)}};E.useEffect(function(){if(Uo!==null){var Ue=ct.indexOf(Uo);Ue>=0&&Ut.current.focus(Ue)}oa(null)},[Uo]);var Wr=E.useMemo(function(){return Ur&&Tn===null?!1:Ur},[Ur,Tn]),$o=Co(function(Ue,ge){sa(Ue,ge),X==null||X($r(ct))}),Vo=zo!==-1;E.useEffect(function(){if(!Vo){var Ue=ct.lastIndexOf(Gi);Ut.current.focus(Ue)}},[Vo]);var Qi=E.useMemo(function(){return ii(Hr).sort(function(Ue,ge){return Ue-ge})},[Hr]),la=E.useMemo(function(){return cn?[Qi[0],Qi[Qi.length-1]]:[tn,Qi[0]]},[Qi,cn,tn]),Ho=Dt(la,2),Wo=Ho[0],Yo=Ho[1];E.useImperativeHandle(t,function(){return{focus:function(){Ut.current.focus(0)},blur:function(){var ge,He=document,Xe=He.activeElement;(ge=$n.current)!==null&&ge!==void 0&&ge.contains(Xe)&&(Xe==null||Xe.blur())}}}),E.useEffect(function(){_&&Ut.current.focus(0)},[]);var bc=E.useMemo(function(){return{min:tn,max:Hn,direction:En,disabled:g,keyboard:v,step:Tn,included:L,includedStart:Wo,includedEnd:Yo,range:cn,tabIndex:Rt,ariaLabelForHandle:pt,ariaLabelledByForHandle:Bt,ariaRequired:en,ariaValueTextFormatterForHandle:Un,styles:c||{},classNames:u||{}}},[tn,Hn,En,g,v,Tn,L,Wo,Yo,cn,Rt,pt,Bt,en,Un,c,u]);return E.createElement(Ls.Provider,{value:bc},E.createElement("div",{ref:$n,className:Os(i,o,rr(rr(rr(rr({},"".concat(i,"-disabled"),g),"".concat(i,"-vertical"),B),"".concat(i,"-horizontal"),!B),"".concat(i,"-with-marks"),Ki.length)),style:l,onMouseDown:js,id:h},E.createElement("div",{className:Os("".concat(i,"-rail"),u==null?void 0:u.rail),style:Zt(Zt({},oe),c==null?void 0:c.rail)}),dt!==!1&&E.createElement(s3,{prefixCls:i,style:xe,values:ct,startPoint:W,onStartMove:Wr?$o:void 0}),E.createElement(i3,{prefixCls:i,marks:Ki,dots:Ce,style:Q,activeStyle:se}),E.createElement(e3,{ref:Ut,prefixCls:i,style:fe,values:Hr,draggingIndex:zo,draggingDelete:Bo,onStartMove:$o,onOffsetChange:kc,onFocus:w,onBlur:k,handleRender:Me,activeHandleRender:Ve,onChangeComplete:Do,onDelete:xr?ra:void 0}),E.createElement(n3,{prefixCls:i,marks:Ki,onClick:fi})))});const Es=({value:e,onChange:t})=>{const[n,i]=E.useState(!1),{rgbValue:o,rgbaValue:l,alphaValue:u,rgbStrValue:c,doChangePicker:h,doChangeAlpha:d,doChangeRgbValue:g,doRgbBlur:m,doAlphaBlur:v,doChangeAlphaValue:_}=AE({value:e,onChange:t});return O.jsxs("div",{className:"relative max-w-40 ",children:[O.jsxs(Ud,{open:n,onOpenChange:i,placement:"bottom-start",initialOffset:10,children:[O.jsx($d,{onClick:()=>i(w=>!w),className:`w-[18px] h-[18px] rounded absolute left-1 top-1 ${n?"border-2 border-highlight":""}`,style:{background:o},children:""}),O.jsx(Vd,{className:"bg-default-2 border border-default-1 p-4 rounded-lg color-picker",children:O.jsx(ME,{color:l,onChange:w=>h(w)})})]}),O.jsx("input",{type:"text",autoComplete:"off",spellCheck:!1,className:"color-input",value:c,onChange:w=>g(w.currentTarget.value),onBlur:()=>m()}),O.jsx("input",{type:"text",autoComplete:"off",spellCheck:!1,className:"alpha-input",value:u,onChange:w=>d(w.currentTarget.value),onBlur:()=>v()}),O.jsx(c3,{value:l.a,setValue:w=>_(w)})]})},c3=({value:e,setValue:t})=>{const[n,i]=E.useState(!1);return O.jsxs(Ud,{open:n,onOpenChange:i,placement:"bottom",initialOffset:10,children:[O.jsx($d,{onClick:()=>i(o=>!o),className:`absolute border right-px top-px w-6 h-6 cursor-pointer center rounded text-white/65" ${n?"border-highlight":"border-transparent"}`,children:O.jsx(pw,{size:18,stroke:1})}),O.jsx(Vd,{className:"bg-default-2 px-4 py-2 rounded w-60 border border-white/10",children:O.jsx($v,{min:0,max:1,step:.01,value:e,onChange:o=>t(o)})})]})},f3=({min:e=0,max:t=100,sensitivity:n=1,decimals:i=4,value:o,onChange:l,convertFrom:u,convertTo:c})=>{const[h,d]=E.useState(""),[g,m]=E.useState(0),[v,_]=E.useState(!1),w=E.useRef(0),k=E.useRef(0);E.useEffect(()=>{if(isNaN(o))return;let I=o;u&&(I=u(I)),d(I.toString()),m(o)},[o,u]);const S=I=>{w.current=I,window.addEventListener("mousemove",b),window.addEventListener("mouseup",x),_(!0)},b=I=>{requestAnimationFrame(()=>{let j=Number(h)+(I.screenX-w.current)*n;R(j)})},x=()=>{_(!1),window.removeEventListener("mousemove",b),window.removeEventListener("mouseup",x)},R=I=>{I=eS(I,e,t),I=tS(I,i),d(I.toString()),k.current=I,m(I),c&&(I=c(I)),l(I)};return{strValue:h,numValue:g,onMouseDown:S,updateInputValue:R,doChange:I=>{let j=Number(I);if(I===""||I.endsWith(".")||isNaN(j)){d(I);return}R(j)},doBlur:()=>{R(k.current)},isHoverSliding:v}},qt=({min:e=0,max:t=100,sensitivity:n=1,decimals:i=3,label:o,value:l,icon:u,onChange:c,convertTo:h,convertFrom:d,className:g=""})=>{const{strValue:m,numValue:v,onMouseDown:_,doChange:w,doBlur:k,updateInputValue:S,isHoverSliding:b}=f3({min:e,max:t,sensitivity:n,decimals:i,value:l,onChange:c,convertTo:h,convertFrom:d});return O.jsxs("div",{children:[o&&O.jsx("label",{className:"text-xs font-light opacity-65",children:o}),O.jsxs("div",{className:`relative ${g}`,children:[O.jsx("button",{className:`absolute left-px top-px w-6 h-6 cursor-ew-resize center rounded text-white/65 border ${b?"border-highlight":"border-transparent"}`,onMouseDown:x=>_(x.screenX),children:u&&O.jsx(u,{size:18,stroke:1})}),O.jsx("input",{type:"text",autoComplete:"off",spellCheck:!1,className:"slider-input",value:m,onChange:x=>w(x.target.value),onBlur:()=>k()}),O.jsx(h3,{min:e,max:t,value:v,setValue:S})]})]})},h3=({min:e,max:t,value:n,setValue:i})=>{const[o,l]=E.useState(!1);return O.jsxs(Ud,{open:o,onOpenChange:l,placement:"bottom",initialOffset:10,children:[O.jsx($d,{onClick:()=>l(u=>!u),className:`absolute border right-px top-px w-6 h-6 cursor-pointer center rounded text-white/65" ${o?"border-highlight":"border-transparent"}`,children:O.jsx(vw,{size:18,stroke:1})}),O.jsx(Vd,{className:"bg-default-2 px-4 py-2 rounded w-64 border border-white/10",children:O.jsx($v,{min:e,max:t,value:n,onChange:u=>i(u)})})]})};var Rl={},I0;function d3(){if(I0)return Rl;I0=1,Object.defineProperty(Rl,"__esModule",{value:!0}),Rl.parse=u,Rl.serialize=d;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function u(v,_){const w=new l,k=v.length;if(k<2)return w;const S=(_==null?void 0:_.decode)||g;let b=0;do{const x=v.indexOf("=",b);if(x===-1)break;const R=v.indexOf(";",b),M=R===-1?k:R;if(x>M){b=v.lastIndexOf(";",x-1)+1;continue}const P=c(v,b,x),I=h(v,x,P),j=v.slice(P,I);if(w[j]===void 0){let Y=c(v,x+1,M),z=h(v,M,Y);const H=S(v.slice(Y,z));w[j]=H}b=M+1}while(b<k);return w}function c(v,_,w){do{const k=v.charCodeAt(_);if(k!==32&&k!==9)return _}while(++_<w);return w}function h(v,_,w){for(;_>w;){const k=v.charCodeAt(--_);if(k!==32&&k!==9)return _+1}return w}function d(v,_,w){const k=(w==null?void 0:w.encode)||encodeURIComponent;if(!e.test(v))throw new TypeError(`argument name is invalid: ${v}`);const S=k(_);if(!t.test(S))throw new TypeError(`argument val is invalid: ${_}`);let b=v+"="+S;if(!w)return b;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);b+="; Max-Age="+w.maxAge}if(w.domain){if(!n.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);b+="; Domain="+w.domain}if(w.path){if(!i.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);b+="; Path="+w.path}if(w.expires){if(!m(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);b+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(b+="; HttpOnly"),w.secure&&(b+="; Secure"),w.partitioned&&(b+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":b+="; Priority=Low";break;case"medium":b+="; Priority=Medium";break;case"high":b+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":b+="; SameSite=Strict";break;case"lax":b+="; SameSite=Lax";break;case"none":b+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return b}function g(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function m(v){return o.call(v)==="[object Date]"}return Rl}d3();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var N0="popstate";function p3(e={}){function t(i,o){let{pathname:l,search:u,hash:c}=i.location;return dd("",{pathname:l,search:u,hash:c},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){return typeof o=="string"?o:Wl(o)}return m3(t,n,null,e)}function ut(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Nr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function g3(){return Math.random().toString(36).substring(2,10)}function j0(e,t){return{usr:e.state,key:e.key,idx:t}}function dd(e,t,n=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Io(t):t,state:n,key:t&&t.key||i||g3()}}function Wl({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Io(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function m3(e,t,n,i={}){let{window:o=document.defaultView,v5Compat:l=!1}=i,u=o.history,c="POP",h=null,d=g();d==null&&(d=0,u.replaceState({...u.state,idx:d},""));function g(){return(u.state||{idx:null}).idx}function m(){c="POP";let S=g(),b=S==null?null:S-d;d=S,h&&h({action:c,location:k.location,delta:b})}function v(S,b){c="PUSH";let x=dd(k.location,S,b);d=g()+1;let R=j0(x,d),M=k.createHref(x);try{u.pushState(R,"",M)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;o.location.assign(M)}l&&h&&h({action:c,location:k.location,delta:1})}function _(S,b){c="REPLACE";let x=dd(k.location,S,b);d=g();let R=j0(x,d),M=k.createHref(x);u.replaceState(R,"",M),l&&h&&h({action:c,location:k.location,delta:0})}function w(S){let b=o.location.origin!=="null"?o.location.origin:o.location.href,x=typeof S=="string"?S:Wl(S);return x=x.replace(/ $/,"%20"),ut(b,`No window.location.(origin|href) available to create URL for href: ${x}`),new URL(x,b)}let k={get action(){return c},get location(){return e(o,u)},listen(S){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(N0,m),h=S,()=>{o.removeEventListener(N0,m),h=null}},createHref(S){return t(o,S)},createURL:w,encodeLocation(S){let b=w(S);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:v,replace:_,go(S){return u.go(S)}};return k}function Vv(e,t,n="/"){return y3(e,t,n,!1)}function y3(e,t,n,i){let o=typeof t=="string"?Io(t):t,l=Wi(o.pathname||"/",n);if(l==null)return null;let u=Hv(e);_3(u);let c=null;for(let h=0;c==null&&h<u.length;++h){let d=M3(l);c=R3(u[h],d,i)}return c}function Hv(e,t=[],n=[],i=""){let o=(l,u,c)=>{let h={relativePath:c===void 0?l.path||"":c,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};h.relativePath.startsWith("/")&&(ut(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length));let d=oi([i,h.relativePath]),g=n.concat(h);l.children&&l.children.length>0&&(ut(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),Hv(l.children,t,g,d)),!(l.path==null&&!l.index)&&t.push({path:d,score:E3(d,l.index),routesMeta:g})};return e.forEach((l,u)=>{var c;if(l.path===""||!((c=l.path)!=null&&c.includes("?")))o(l,u);else for(let h of Wv(l.path))o(l,u,h)}),t}function Wv(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,o=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let u=Wv(i.join("/")),c=[];return c.push(...u.map(h=>h===""?l:[l,h].join("/"))),o&&c.push(...u),c.map(h=>e.startsWith("/")&&h===""?"/":h)}function _3(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:C3(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var v3=/^:[\w-]+$/,x3=3,w3=2,k3=1,b3=10,S3=-2,D0=e=>e==="*";function E3(e,t){let n=e.split("/"),i=n.length;return n.some(D0)&&(i+=S3),t&&(i+=w3),n.filter(o=>!D0(o)).reduce((o,l)=>o+(v3.test(l)?x3:l===""?k3:b3),i)}function C3(e,t){return e.length===t.length&&e.slice(0,-1).every((i,o)=>i===t[o])?e[e.length-1]-t[t.length-1]:0}function R3(e,t,n=!1){let{routesMeta:i}=e,o={},l="/",u=[];for(let c=0;c<i.length;++c){let h=i[c],d=c===i.length-1,g=l==="/"?t:t.slice(l.length)||"/",m=qu({path:h.relativePath,caseSensitive:h.caseSensitive,end:d},g),v=h.route;if(!m&&d&&n&&!i[i.length-1].route.index&&(m=qu({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!m)return null;Object.assign(o,m.params),u.push({params:o,pathname:oi([l,m.pathname]),pathnameBase:L3(oi([l,m.pathnameBase])),route:v}),m.pathnameBase!=="/"&&(l=oi([l,m.pathnameBase]))}return u}function qu(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=T3(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let l=o[0],u=l.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:i.reduce((d,{paramName:g,isOptional:m},v)=>{if(g==="*"){let w=c[v]||"";u=l.slice(0,l.length-w.length).replace(/(.)\/+$/,"$1")}const _=c[v];return m&&!_?d[g]=void 0:d[g]=(_||"").replace(/%2F/g,"/"),d},{}),pathname:l,pathnameBase:u,pattern:e}}function T3(e,t=!1,n=!0){Nr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,c,h)=>(i.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),i]}function M3(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Nr(!1,`The URL path "${e}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Wi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function P3(e,t="/"){let{pathname:n,search:i="",hash:o=""}=typeof e=="string"?Io(e):e;return{pathname:n?n.startsWith("/")?n:A3(n,t):t,search:F3(i),hash:I3(o)}}function A3(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function jh(e,t,n,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function O3(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Yv(e){let t=O3(e);return t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase)}function Xv(e,t,n,i=!1){let o;typeof e=="string"?o=Io(e):(o={...e},ut(!o.pathname||!o.pathname.includes("?"),jh("?","pathname","search",o)),ut(!o.pathname||!o.pathname.includes("#"),jh("#","pathname","hash",o)),ut(!o.search||!o.search.includes("#"),jh("#","search","hash",o)));let l=e===""||o.pathname==="",u=l?"/":o.pathname,c;if(u==null)c=n;else{let m=t.length-1;if(!i&&u.startsWith("..")){let v=u.split("/");for(;v[0]==="..";)v.shift(),m-=1;o.pathname=v.join("/")}c=m>=0?t[m]:"/"}let h=P3(o,c),d=u&&u!=="/"&&u.endsWith("/"),g=(l||u===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(d||g)&&(h.pathname+="/"),h}var oi=e=>e.join("/").replace(/\/\/+/g,"/"),L3=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),F3=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,I3=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function N3(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Kv=["POST","PUT","PATCH","DELETE"];new Set(Kv);var j3=["GET",...Kv];new Set(j3);var No=E.createContext(null);No.displayName="DataRouter";var vc=E.createContext(null);vc.displayName="DataRouterState";var qv=E.createContext({isTransitioning:!1});qv.displayName="ViewTransition";var D3=E.createContext(new Map);D3.displayName="Fetchers";var z3=E.createContext(null);z3.displayName="Await";var zr=E.createContext(null);zr.displayName="Navigation";var Zl=E.createContext(null);Zl.displayName="Location";var Br=E.createContext({outlet:null,matches:[],isDataRoute:!1});Br.displayName="Route";var Wd=E.createContext(null);Wd.displayName="RouteError";function B3(e,{relative:t}={}){ut(Jl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=E.useContext(zr),{hash:o,pathname:l,search:u}=ea(e,{relative:t}),c=l;return n!=="/"&&(c=l==="/"?n:oi([n,l])),i.createHref({pathname:c,search:u,hash:o})}function Jl(){return E.useContext(Zl)!=null}function Fs(){return ut(Jl(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(Zl).location}var Gv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Qv(e){E.useContext(zr).static||E.useLayoutEffect(e)}function U3(){let{isDataRoute:e}=E.useContext(Br);return e?t4():$3()}function $3(){ut(Jl(),"useNavigate() may be used only in the context of a <Router> component.");let e=E.useContext(No),{basename:t,navigator:n}=E.useContext(zr),{matches:i}=E.useContext(Br),{pathname:o}=Fs(),l=JSON.stringify(Yv(i)),u=E.useRef(!1);return Qv(()=>{u.current=!0}),E.useCallback((h,d={})=>{if(Nr(u.current,Gv),!u.current)return;if(typeof h=="number"){n.go(h);return}let g=Xv(h,JSON.parse(l),o,d.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:oi([t,g.pathname])),(d.replace?n.replace:n.push)(g,d.state,d)},[t,n,l,o,e])}E.createContext(null);function V3(){let{matches:e}=E.useContext(Br),t=e[e.length-1];return t?t.params:{}}function ea(e,{relative:t}={}){let{matches:n}=E.useContext(Br),{pathname:i}=Fs(),o=JSON.stringify(Yv(n));return E.useMemo(()=>Xv(e,JSON.parse(o),i,t==="path"),[e,o,i,t])}function H3(e,t){return Zv(e,t)}function Zv(e,t,n,i){var b;ut(Jl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=E.useContext(zr),{matches:l}=E.useContext(Br),u=l[l.length-1],c=u?u.params:{},h=u?u.pathname:"/",d=u?u.pathnameBase:"/",g=u&&u.route;{let x=g&&g.path||"";Jv(h,!g||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let m=Fs(),v;if(t){let x=typeof t=="string"?Io(t):t;ut(d==="/"||((b=x.pathname)==null?void 0:b.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${x.pathname}" was given in the \`location\` prop.`),v=x}else v=m;let _=v.pathname||"/",w=_;if(d!=="/"){let x=d.replace(/^\//,"").split("/");w="/"+_.replace(/^\//,"").split("/").slice(x.length).join("/")}let k=Vv(e,{pathname:w});Nr(g||k!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Nr(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=q3(k&&k.map(x=>Object.assign({},x,{params:Object.assign({},c,x.params),pathname:oi([d,o.encodeLocation?o.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?d:oi([d,o.encodeLocation?o.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),l,n,i);return t&&S?E.createElement(Zl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},S):S}function W3(){let e=e4(),t=N3(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",e),u=E.createElement(E.Fragment,null,E.createElement("p",null," Hey developer "),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:l},"ErrorBoundary")," or"," ",E.createElement("code",{style:l},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},t),n?E.createElement("pre",{style:o},n):null,u)}var Y3=E.createElement(W3,null),X3=class extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?E.createElement(Br.Provider,{value:this.props.routeContext},E.createElement(Wd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function K3({routeContext:e,match:t,children:n}){let i=E.useContext(No);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),E.createElement(Br.Provider,{value:e},n)}function q3(e,t=[],n=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=n==null?void 0:n.errors;if(l!=null){let h=o.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);ut(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,h+1))}let u=!1,c=-1;if(n)for(let h=0;h<o.length;h++){let d=o[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=h),d.route.id){let{loaderData:g,errors:m}=n,v=d.route.loader&&!g.hasOwnProperty(d.route.id)&&(!m||m[d.route.id]===void 0);if(d.route.lazy||v){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,d,g)=>{let m,v=!1,_=null,w=null;n&&(m=l&&d.route.id?l[d.route.id]:void 0,_=d.route.errorElement||Y3,u&&(c<0&&g===0?(Jv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,w=null):c===g&&(v=!0,w=d.route.hydrateFallbackElement||null)));let k=t.concat(o.slice(0,g+1)),S=()=>{let b;return m?b=_:v?b=w:d.route.Component?b=E.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=h,E.createElement(K3,{match:d,routeContext:{outlet:h,matches:k,isDataRoute:n!=null},children:b})};return n&&(d.route.ErrorBoundary||d.route.errorElement||g===0)?E.createElement(X3,{location:n.location,revalidation:n.revalidation,component:_,error:m,children:S(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):S()},null)}function Yd(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function G3(e){let t=E.useContext(No);return ut(t,Yd(e)),t}function Q3(e){let t=E.useContext(vc);return ut(t,Yd(e)),t}function Z3(e){let t=E.useContext(Br);return ut(t,Yd(e)),t}function Xd(e){let t=Z3(e),n=t.matches[t.matches.length-1];return ut(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function J3(){return Xd("useRouteId")}function e4(){var i;let e=E.useContext(Wd),t=Q3("useRouteError"),n=Xd("useRouteError");return e!==void 0?e:(i=t.errors)==null?void 0:i[n]}function t4(){let{router:e}=G3("useNavigate"),t=Xd("useNavigate"),n=E.useRef(!1);return Qv(()=>{n.current=!0}),E.useCallback(async(o,l={})=>{Nr(n.current,Gv),n.current&&(typeof o=="number"?e.navigate(o):await e.navigate(o,{fromRouteId:t,...l}))},[e,t])}var z0={};function Jv(e,t,n){!t&&!z0[e]&&(z0[e]=!0,Nr(!1,n))}E.memo(n4);function n4({routes:e,future:t,state:n}){return Zv(e,void 0,n,t)}function pd(e){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function r4({basename:e="/",children:t=null,location:n,navigationType:i="POP",navigator:o,static:l=!1}){ut(!Jl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),c=E.useMemo(()=>({basename:u,navigator:o,static:l,future:{}}),[u,o,l]);typeof n=="string"&&(n=Io(n));let{pathname:h="/",search:d="",hash:g="",state:m=null,key:v="default"}=n,_=E.useMemo(()=>{let w=Wi(h,u);return w==null?null:{location:{pathname:w,search:d,hash:g,state:m,key:v},navigationType:i}},[u,h,d,g,m,v,i]);return Nr(_!=null,`<Router basename="${u}"> is not able to match the URL "${h}${d}${g}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:E.createElement(zr.Provider,{value:c},E.createElement(Zl.Provider,{children:t,value:_}))}function i4({children:e,location:t}){return H3(gd(e),t)}function gd(e,t=[]){let n=[];return E.Children.forEach(e,(i,o)=>{if(!E.isValidElement(i))return;let l=[...t,o];if(i.type===E.Fragment){n.push.apply(n,gd(i.props.children,l));return}ut(i.type===pd,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=gd(i.props.children,l)),n.push(u)}),n}var Ou="get",Lu="application/x-www-form-urlencoded";function xc(e){return e!=null&&typeof e.tagName=="string"}function s4(e){return xc(e)&&e.tagName.toLowerCase()==="button"}function o4(e){return xc(e)&&e.tagName.toLowerCase()==="form"}function l4(e){return xc(e)&&e.tagName.toLowerCase()==="input"}function a4(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function u4(e,t){return e.button===0&&(!t||t==="_self")&&!a4(e)}var Cu=null;function c4(){if(Cu===null)try{new FormData(document.createElement("form"),0),Cu=!1}catch{Cu=!0}return Cu}var f4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Dh(e){return e!=null&&!f4.has(e)?(Nr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Lu}"`),null):e}function h4(e,t){let n,i,o,l,u;if(o4(e)){let c=e.getAttribute("action");i=c?Wi(c,t):null,n=e.getAttribute("method")||Ou,o=Dh(e.getAttribute("enctype"))||Lu,l=new FormData(e)}else if(s4(e)||l4(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||c.getAttribute("action");if(i=h?Wi(h,t):null,n=e.getAttribute("formmethod")||c.getAttribute("method")||Ou,o=Dh(e.getAttribute("formenctype"))||Dh(c.getAttribute("enctype"))||Lu,l=new FormData(c,e),!c4()){let{name:d,type:g,value:m}=e;if(g==="image"){let v=d?`${d}.`:"";l.append(`${v}x`,"0"),l.append(`${v}y`,"0")}else d&&l.append(d,m)}}else{if(xc(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ou,i=null,o=Lu,u=e}return l&&o==="text/plain"&&(u=l,l=void 0),{action:i,method:n.toLowerCase(),encType:o,formData:l,body:u}}function Kd(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function d4(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function p4(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function g4(e,t,n){let i=await Promise.all(e.map(async o=>{let l=t.routes[o.route.id];if(l){let u=await d4(l,n);return u.links?u.links():[]}return[]}));return v4(i.flat(1).filter(p4).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function B0(e,t,n,i,o,l){let u=(h,d)=>n[d]?h.route.id!==n[d].route.id:!0,c=(h,d)=>{var g;return n[d].pathname!==h.pathname||((g=n[d].route.path)==null?void 0:g.endsWith("*"))&&n[d].params["*"]!==h.params["*"]};return l==="assets"?t.filter((h,d)=>u(h,d)||c(h,d)):l==="data"?t.filter((h,d)=>{var m;let g=i.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(u(h,d)||c(h,d))return!0;if(h.route.shouldRevalidate){let v=h.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function m4(e,t){return y4(e.map(n=>{let i=t.routes[n.route.id];if(!i)return[];let o=[i.module];return i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function y4(e){return[...new Set(e)]}function _4(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}function v4(e,t){let n=new Set;return new Set(t),e.reduce((i,o)=>{let l=JSON.stringify(_4(o));return n.has(l)||(n.add(l),i.push({key:l,link:o})),i},[])}function x4(e){let t=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function w4(){let e=E.useContext(No);return Kd(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function k4(){let e=E.useContext(vc);return Kd(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var qd=E.createContext(void 0);qd.displayName="FrameworkContext";function e1(){let e=E.useContext(qd);return Kd(e,"You must render this element inside a <HydratedRouter> element"),e}function b4(e,t){let n=E.useContext(qd),[i,o]=E.useState(!1),[l,u]=E.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:d,onMouseLeave:g,onTouchStart:m}=t,v=E.useRef(null);E.useEffect(()=>{if(e==="render"&&u(!0),e==="viewport"){let k=b=>{b.forEach(x=>{u(x.isIntersecting)})},S=new IntersectionObserver(k,{threshold:.5});return v.current&&S.observe(v.current),()=>{S.disconnect()}}},[e]),E.useEffect(()=>{if(i){let k=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(k)}}},[i]);let _=()=>{o(!0)},w=()=>{o(!1),u(!1)};return n?e!=="intent"?[l,v,{}]:[l,v,{onFocus:Tl(c,_),onBlur:Tl(h,w),onMouseEnter:Tl(d,_),onMouseLeave:Tl(g,w),onTouchStart:Tl(m,_)}]:[!1,v,{}]}function Tl(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function S4({page:e,...t}){let{router:n}=w4(),i=E.useMemo(()=>Vv(n.routes,e,n.basename),[n.routes,e,n.basename]);return i?E.createElement(C4,{page:e,matches:i,...t}):null}function E4(e){let{manifest:t,routeModules:n}=e1(),[i,o]=E.useState([]);return E.useEffect(()=>{let l=!1;return g4(e,t,n).then(u=>{l||o(u)}),()=>{l=!0}},[e,t,n]),i}function C4({page:e,matches:t,...n}){let i=Fs(),{manifest:o,routeModules:l}=e1(),{loaderData:u,matches:c}=k4(),h=E.useMemo(()=>B0(e,t,c,o,i,"data"),[e,t,c,o,i]),d=E.useMemo(()=>B0(e,t,c,o,i,"assets"),[e,t,c,o,i]),g=E.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let _=new Set,w=!1;if(t.forEach(S=>{var x;let b=o.routes[S.route.id];!b||!b.hasLoader||(!h.some(R=>R.route.id===S.route.id)&&S.route.id in u&&((x=l[S.route.id])!=null&&x.shouldRevalidate)||b.hasClientLoader?w=!0:_.add(S.route.id))}),_.size===0)return[];let k=x4(e);return w&&_.size>0&&k.searchParams.set("_routes",t.filter(S=>_.has(S.route.id)).map(S=>S.route.id).join(",")),[k.pathname+k.search]},[u,i,o,h,t,e,l]),m=E.useMemo(()=>m4(d,o),[d,o]),v=E4(d);return E.createElement(E.Fragment,null,g.map(_=>E.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),m.map(_=>E.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),v.map(({key:_,link:w})=>E.createElement("link",{key:_,...w})))}function R4(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var t1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{t1&&(window.__reactRouterVersion="7.1.1")}catch{}function T4({basename:e,children:t,window:n}){let i=E.useRef();i.current==null&&(i.current=p3({window:n,v5Compat:!0}));let o=i.current,[l,u]=E.useState({action:o.action,location:o.location}),c=E.useCallback(h=>{E.startTransition(()=>u(h))},[u]);return E.useLayoutEffect(()=>o.listen(c),[o,c]),E.createElement(r4,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:o})}var n1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gd=E.forwardRef(function({onClick:t,discover:n="render",prefetch:i="none",relative:o,reloadDocument:l,replace:u,state:c,target:h,to:d,preventScrollReset:g,viewTransition:m,...v},_){let{basename:w}=E.useContext(zr),k=typeof d=="string"&&n1.test(d),S,b=!1;if(typeof d=="string"&&k&&(S=d,t1))try{let z=new URL(window.location.href),H=d.startsWith("//")?new URL(z.protocol+d):new URL(d),X=Wi(H.pathname,w);H.origin===z.origin&&X!=null?d=X+H.search+H.hash:b=!0}catch{Nr(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let x=B3(d,{relative:o}),[R,M,P]=b4(i,v),I=O4(d,{replace:u,state:c,target:h,preventScrollReset:g,relative:o,viewTransition:m});function j(z){t&&t(z),z.defaultPrevented||I(z)}let Y=E.createElement("a",{...v,...P,href:S||x,onClick:b||l?t:j,ref:R4(_,M),target:h,"data-discover":!k&&n==="render"?"true":void 0});return R&&!k?E.createElement(E.Fragment,null,Y,E.createElement(S4,{page:x})):Y});Gd.displayName="Link";var M4=E.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:i="",end:o=!1,style:l,to:u,viewTransition:c,children:h,...d},g){let m=ea(u,{relative:d.relative}),v=Fs(),_=E.useContext(vc),{navigator:w,basename:k}=E.useContext(zr),S=_!=null&&j4(m)&&c===!0,b=w.encodeLocation?w.encodeLocation(m).pathname:m.pathname,x=v.pathname,R=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;n||(x=x.toLowerCase(),R=R?R.toLowerCase():null,b=b.toLowerCase()),R&&k&&(R=Wi(R,k)||R);const M=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let P=x===b||!o&&x.startsWith(b)&&x.charAt(M)==="/",I=R!=null&&(R===b||!o&&R.startsWith(b)&&R.charAt(b.length)==="/"),j={isActive:P,isPending:I,isTransitioning:S},Y=P?t:void 0,z;typeof i=="function"?z=i(j):z=[i,P?"active":null,I?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let H=typeof l=="function"?l(j):l;return E.createElement(Gd,{...d,"aria-current":Y,className:z,ref:g,style:H,to:u,viewTransition:c},typeof h=="function"?h(j):h)});M4.displayName="NavLink";var P4=E.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:i,replace:o,state:l,method:u=Ou,action:c,onSubmit:h,relative:d,preventScrollReset:g,viewTransition:m,...v},_)=>{let w=I4(),k=N4(c,{relative:d}),S=u.toLowerCase()==="get"?"get":"post",b=typeof c=="string"&&n1.test(c),x=R=>{if(h&&h(R),R.defaultPrevented)return;R.preventDefault();let M=R.nativeEvent.submitter,P=(M==null?void 0:M.getAttribute("formmethod"))||u;w(M||R.currentTarget,{fetcherKey:t,method:P,navigate:n,replace:o,state:l,relative:d,preventScrollReset:g,viewTransition:m})};return E.createElement("form",{ref:_,method:S,action:k,onSubmit:i?h:x,...v,"data-discover":!b&&e==="render"?"true":void 0})});P4.displayName="Form";function A4(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function r1(e){let t=E.useContext(No);return ut(t,A4(e)),t}function O4(e,{target:t,replace:n,state:i,preventScrollReset:o,relative:l,viewTransition:u}={}){let c=U3(),h=Fs(),d=ea(e,{relative:l});return E.useCallback(g=>{if(u4(g,t)){g.preventDefault();let m=n!==void 0?n:Wl(h)===Wl(d);c(e,{replace:m,state:i,preventScrollReset:o,relative:l,viewTransition:u})}},[h,c,d,n,i,t,e,o,l,u])}var L4=0,F4=()=>`__${String(++L4)}__`;function I4(){let{router:e}=r1("useSubmit"),{basename:t}=E.useContext(zr),n=J3();return E.useCallback(async(i,o={})=>{let{action:l,method:u,encType:c,formData:h,body:d}=h4(i,t);if(o.navigate===!1){let g=o.fetcherKey||F4();await e.fetch(g,n,o.action||l,{preventScrollReset:o.preventScrollReset,formData:h,body:d,formMethod:o.method||u,formEncType:o.encType||c,flushSync:o.flushSync})}else await e.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:h,body:d,formMethod:o.method||u,formEncType:o.encType||c,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[e,t,n])}function N4(e,{relative:t}={}){let{basename:n}=E.useContext(zr),i=E.useContext(Br);ut(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),l={...ea(e||".",{relative:t})},u=Fs();if(e==null){l.search=u.search;let c=new URLSearchParams(l.search),h=c.getAll("index");if(h.some(g=>g==="")){c.delete("index"),h.filter(m=>m).forEach(m=>c.append("index",m));let g=c.toString();l.search=g?`?${g}`:""}}return(!e||e===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:oi([n,l.pathname])),Wl(l)}function j4(e,t={}){let n=E.useContext(qv);ut(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=r1("useViewTransitionState"),o=ea(e,{relative:t.relative});if(!n.isTransitioning)return!1;let l=Wi(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=Wi(n.nextLocation.pathname,i)||n.nextLocation.pathname;return qu(o.pathname,u)!=null||qu(o.pathname,l)!=null}new TextEncoder;const D4=()=>{const[e,t]=E.useState([]);async function n(){const i=await pk();t(i)}return E.useEffect(()=>{n()},[]),O.jsxs(O.Fragment,{children:[O.jsx("div",{className:"pb-1 pt-4",children:"Sketches"}),O.jsx("div",{className:"h-64 overflow-y-auto scroll-smooth shadow rounded bg-default-3",children:O.jsx("div",{className:"flex flex-col text-sm gap-1",children:e.map(i=>O.jsx(Gd,{className:"px-2 py-0.5 hover:bg-default-4",to:`/sketch/${i}`,children:i},i))})})]})};let Gu=new Map,md;function z4(){for(const[,e]of Gu)gc({type:"update",label:"Edit properties",shapeId:e.shapeId,changes:Array.from(e.changes.values())});Gu=new Map,md=void 0}function B4(e,t,n,i){let o=Gu.get(e);o||(o={shapeId:e,changes:new Map},Gu.set(e,o));const l=o.changes.get(t);o.changes.set(t,{field:t,oldValue:l?l.oldValue:n,newValue:i}),clearTimeout(md),md=setTimeout(z4,500)}function U4(e,t){const n=t.split(".");return n.length===2?e[n[0]][n[1]]:e[t]}const $4=()=>{const e=Sn(c=>c.selected),t=e==null?void 0:e[0],n=ht(t==null?void 0:t.stroke).toRgb(),i=ht(t==null?void 0:t.fill).toRgb(),o=wt(c=>c.canvasColor),l=wt.getState().setCanvasColor;function u(c,h){const d=Ye();for(const g of Sn.getState().selected){const m=U4(g,c),v=c.split(".");["stroke","fill"].includes(c)&&(h=ht(h).toHex()),v.length==2?g[v[0]][v[1]]=h:g[c]=h,B4(g.id,c,m,h)}d.throttledTwoUpdate()}return O.jsxs("div",{className:"flex flex-col h-full",children:[O.jsxs("div",{className:"flex-grow",children:[!(e!=null&&e.length)&&O.jsxs(O.Fragment,{children:[O.jsx("div",{className:"pt-4 pb-1 text-sm",children:"Page"}),O.jsx("div",{className:"flex flex-col gap-4",children:O.jsx(Es,{value:o,onChange:c=>l(c)})}),O.jsx("div",{children:O.jsx(D4,{})})]}),!!(e!=null&&e.length)&&O.jsxs(O.Fragment,{children:[O.jsx("div",{className:"pt-4 pb-1 text-sm",children:"Color"}),O.jsxs("div",{className:"flex flex-col gap-4",children:[n&&O.jsx(Es,{value:n,onChange:c=>u("stroke",c)}),i&&O.jsx(Es,{value:i,onChange:c=>u("fill",c)})]}),O.jsx("div",{className:"pt-4 pb-1 text-sm",children:"Stroke"}),O.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[O.jsx(qt,{icon:vd,min:1,max:5e3,value:t==null?void 0:t.linewidth,onChange:c=>u("linewidth",c)}),O.jsx(qt,{icon:q0,min:-100,max:100,value:t==null?void 0:t.radius,onChange:c=>u("radius",c)})]}),O.jsx("div",{className:"pt-4 pb-1 text-sm",children:"Size"}),O.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[O.jsx(qt,{icon:_w,min:1,max:5e3,value:t==null?void 0:t.width,onChange:c=>u("width",c)}),O.jsx(qt,{icon:yw,min:1,max:5e3,value:t==null?void 0:t.height,onChange:c=>u("height",c)})]}),O.jsx("div",{className:"pt-4 pb-1 text-sm",children:"Position"}),O.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[O.jsx(qt,{icon:kw,min:-5e3,max:5e3,value:t==null?void 0:t.position.x,onChange:c=>u("position.x",c)}),O.jsx(qt,{icon:bw,min:-5e3,max:5e3,value:t==null?void 0:t.position.y,onChange:c=>u("position.y",c)})]}),O.jsx("div",{className:"pt-4 pb-1 text-sm",children:"Transform"}),O.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[O.jsx(qt,{icon:W0,min:-360,max:360,sensitivity:1,value:t==null?void 0:t.rotation,onChange:c=>u("rotation",c),convertFrom:nS,convertTo:rS}),O.jsx(qt,{icon:aw,min:-1/0,max:1/0,sensitivity:1,value:t==null?void 0:t.scale,onChange:c=>u("scale",c),convertFrom:c=>c*100,convertTo:c=>c/100}),O.jsx(qt,{icon:xw,min:-Math.PI,max:Math.PI,sensitivity:.01,value:t==null?void 0:t.skewX,onChange:c=>u("skewX",c)}),O.jsx(qt,{icon:ww,min:-Math.PI,max:Math.PI,sensitivity:.01,value:t==null?void 0:t.skewY,onChange:c=>u("skewY",c)})]})]})]}),O.jsx("div",{children:O.jsx(yE,{})}),O.jsx("div",{children:O.jsx(pE,{})}),O.jsx("div",{className:"pt-16"})]})},V4=()=>{const e=wt(n=>n.isPanelOpen),t=wt.getState().setIsPanelOpen;return O.jsx("div",{className:`transition-all duration-150 w-64 absolute right-0 top-0 overflow-hidden ${e?"h-[calc(100%-56px)] md:h-full":"h-11"}`,children:O.jsxs("div",{className:`bg-default-2 border-l border-default-1 px-4 h-full ${e?"":"rounded-bl-lg"}`,children:[O.jsxs("div",{className:"flex items-center w-full gap-4 py-1",children:[O.jsx(Bi,{onClick:()=>t(!e),children:O.jsx(dw,{stroke:1})}),O.jsx(H4,{})]}),O.jsx($4,{})]})})},H4=()=>{const e=mc(o=>o.zoom),t=Ir(o=>o.undoStack.length),n=Ir(o=>o.redoStack.length),i=()=>{Ye().saveDoodles()};return O.jsxs("div",{className:"text-sm flex justify-end items-center w-full",children:[O.jsx(jt,{tooltip:"Undo (Ctrl+Z)",children:O.jsx(Bi,{onClick:jd,disabled:t===0,children:O.jsx(Y0,{stroke:1})})}),O.jsx(jt,{tooltip:"Redo (Ctrl+Shift+Z)",children:O.jsx(Bi,{onClick:Dd,disabled:n===0,children:O.jsx(X0,{stroke:1})})}),O.jsx(jt,{tooltip:"Save to local storage",children:O.jsx(Bi,{onClick:()=>i(),children:O.jsx(lw,{stroke:1})})}),O.jsx(jt,{tooltip:"Reset zoom",children:O.jsx(Bi,{onClick:()=>KS(),children:O.jsx(fw,{stroke:1})})}),O.jsxs("div",{className:"w-12 text-right",children:[e,"%"]})]})},W4=()=>{E.useEffect(()=>(window.addEventListener("wheel",U0,{passive:!1}),()=>{window.removeEventListener("wheel",U0)}),[])};function U0(e){var t;e.deltaX!==0&&((t=e==null?void 0:e.preventDefault)==null||t.call(e))}const Y4=()=>{let e=wt(n=>n.selectedTool);const t=wt(n=>n.restoreTool);return t&&(e=t),e==="brush"?O.jsx(X4,{}):e==="square"?O.jsx(K4,{}):e==="line"||e==="arrow"?O.jsx(q4,{}):null},X4=()=>{const e=ri(g=>g.strokeWidth),t=ri(g=>g.tolerance),n=ri(g=>g.stabilizer),i=ri(g=>g.strokeColor),o=ri(g=>g.simplifyAlgo),{setStrokeColor:l,setStrokeWidth:u,setStabilizer:c,setTolerance:h,setSimplifyAlgo:d}=ri.getState();return O.jsxs("div",{className:"flex flex-row gap-2 text-xs items-center",children:[O.jsx("label",{children:"Color"}),O.jsx(Es,{value:i,onChange:g=>l(g)}),O.jsx("label",{className:"pl-2",children:"Stroke"}),O.jsx(qt,{className:"max-w-20",value:e,min:1,max:256,onChange:g=>u(g),icon:vd}),O.jsx("label",{className:"pl-2",children:"Stabilizer"}),O.jsx(qt,{className:"max-w-20",value:n,min:0,max:10,onChange:g=>c(g),icon:sw}),O.jsx("label",{className:"pl-2",children:"Smoothing"}),O.jsx(qt,{className:"max-w-20",value:t,min:0,max:100,onChange:g=>h(g),icon:Q0}),O.jsxs(Lv,{children:[O.jsx(jt,{tooltip:"Douglas-Peucker: High-performance general-purpose simplification. Preserves the path's overall shape efficiently. The number represents the acceptable tolerance x 10 times",children:O.jsx(Ll,{isSelected:o==="douglas",onClick:()=>d("douglas"),children:O.jsx(Ew,{size:20,stroke:1})})}),O.jsx(jt,{tooltip:"Area of Triangle smoothing: General-purpose line simplification, especially for preserving visual shapes and smooth curves. The number represents the percentage of nodes to simplify. (Visvalingam-Whyatt algorithm)",children:O.jsx(Ll,{isSelected:o==="triangle",onClick:()=>d("triangle"),children:O.jsx(Cw,{size:20,stroke:1})})}),O.jsx(jt,{tooltip:"Angle smoothing: Best for straight-line approximations and paths where deviations from linearity are critical to detect. The number represents the percentage of nodes to simplify. (Visvalingam-Whyatt algorithm)",children:O.jsx(Ll,{isSelected:o==="angle",onClick:()=>d("angle"),children:O.jsx(W0,{size:20,stroke:1})})}),O.jsx(jt,{tooltip:"Perpendicular Distance smoothing: Best for straight-line approximations and paths where deviations from linearity are critical to detect. The number the represents percentage of nodes to simplify. (Visvalingam-Whyatt algorithm)",children:O.jsx(Ll,{isSelected:o==="distance",onClick:()=>d("distance"),children:O.jsx(Sw,{size:20,stroke:1})})})]})]})},K4=()=>{const e=Di(h=>h.strokeWidth),t=Di(h=>h.strokeColor),n=Di(h=>h.fillColor),i=Di(h=>h.radius),{setStrokeColor:o,setStrokeWidth:l,setFillColor:u,setRadius:c}=Di.getState();return O.jsxs("div",{className:"flex flex-row gap-2 text-xs items-center",children:[O.jsx("label",{children:"Fill"}),O.jsx(Es,{value:n,onChange:h=>u(h)}),O.jsx("label",{className:"pl-2",children:"Stroke"}),O.jsx(Es,{value:t,onChange:h=>o(h)}),O.jsx("label",{className:"pl-2",children:"Width"}),O.jsx(qt,{className:"max-w-24",value:e,min:0,max:100,onChange:h=>l(h),icon:G0}),O.jsx("label",{className:"pl-2",children:"Radius"}),O.jsx(qt,{className:"max-w-24",value:i,min:0,max:100,onChange:h=>c(h),icon:q0})]})},q4=()=>{const e=zi(c=>c.strokeWidth),t=zi(c=>c.strokeColor),n=zi(c=>c.doubleArrow),i=wt(c=>c.selectedTool),{setStrokeColor:o,setStrokeWidth:l,setDoubleArrow:u}=zi.getState();return O.jsxs("div",{className:"flex flex-row gap-2 text-xs items-center",children:[O.jsx("label",{children:"Color"}),O.jsx(Es,{value:t,onChange:c=>o(c)}),O.jsx("label",{className:"pl-2",children:"Width"}),O.jsx(qt,{className:"max-w-24",value:e,min:1,max:100,onChange:c=>l(c),icon:xd}),i==="arrow"&&O.jsxs(O.Fragment,{children:[O.jsx("label",{className:"pl-2",children:"Double"}),O.jsx(Lv,{children:O.jsx(jt,{tooltip:"Double-ended arrow",children:O.jsx(Ll,{isSelected:n,onClick:()=>u(!n),children:O.jsx(iw,{size:20,stroke:1})})})})]})]})},G4=()=>O.jsx("div",{className:"absolute inset-0 bg-default-1 flex flex-center transition-opacity",children:O.jsx("div",{className:"w-64",children:O.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 700 311",version:"1.1",xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd",children:[O.jsx("path",{fill:"none",stroke:"#2b2b2b",strokeWidth:30,strokeLinecap:"round",d:"M187,274C187,274 170.378,268.864 228.974,285C292.703,302.549 303.927,266.646 338,265C374.056,263.258 399.792,287.297 431,286C454.178,285.037 488.914,274.714 493,275C520.055,276.893 531.314,284.145 556,288C578.43,291.503 591.566,293.837 607,294C626.331,294.205 671,282 671,282"}),O.jsx("path",{className:"animate-tail",fill:"none",stroke:"#6e6e6e",strokeWidth:30,strokeDasharray:500,strokeLinecap:"round",d:"M187,274C187,274 170.378,268.864 228.974,285C292.703,302.549 303.927,266.646 338,265C374.056,263.258 399.792,287.297 431,286C454.178,285.037 488.914,274.714 493,275C520.055,276.893 531.314,284.145 556,288C578.43,291.503 591.566,293.837 607,294C626.331,294.205 671,282 671,282"}),O.jsx("g",{transform:"matrix(1,0,0,1,-812.627,-384.976)",children:O.jsx("path",{fill:"#6e6e6e",d:"M867,654C867,654 852.472,690.859 850,692C847.528,693.141 836.252,694.04 832,692C827.748,689.96 827.491,691.692 823,680C818.774,668.997 828.585,670.176 832,667C833.65,665.465 833.381,633.906 828,602C822.619,570.094 818.937,566.178 814,529C809.063,491.822 818.383,449.085 827,438C835.617,426.915 847.48,414.625 847,415C846.52,415.375 863.327,383.996 867,385C870.673,386.004 878.926,404.441 884,406C885.134,406.348 897.779,406.147 905,408C914.601,410.463 921.008,418.516 924,420C926.992,421.484 949.052,408.87 955,412C960.948,415.13 957.273,443.171 954,448C953.51,448.724 959.617,477.941 961,484C962.383,490.059 963.043,498.797 971,518C978.609,536.363 1012.31,578.249 1016,586C1019.7,593.751 1037.3,629.813 1029,655C1018.99,685.409 992.067,694.274 980,695C948.988,696.865 870,694 870,694C870,694 861.378,693.918 862,683C862.33,677.209 879.324,673.309 883,675C886.676,676.691 867,654 867,654Z"})})]})})}),$0=()=>{W4();const{id:e}=V3(),t=e||"local",n=450,[i,o]=E.useState(!0),l=E.useCallback(()=>{setTimeout(()=>o(!1),n)},[o,n]);return O.jsxs("main",{className:"w-dvw h-dvh flex flex-col text-white relative",children:[O.jsx("div",{className:"bg-default-2 border-b border-default-1 min-h-12 h-12 flex items-center px-4",children:O.jsx(Y4,{})}),O.jsxs("div",{className:"flex-grow flex relative overflow-hidden",children:[O.jsx(fk,{}),O.jsx(hE,{sketchId:t,onReady:l}),O.jsx(V4,{})]}),O.jsx("div",{className:"bg-default-2 border-t border-default-1 h-6 overflow-hidden",children:O.jsx(dE,{})}),i&&O.jsx(G4,{}),O.jsx(Kb,{})]})};Gx.createRoot(document.getElementById("root")).render(O.jsx(E.StrictMode,{children:O.jsx(T4,{children:O.jsxs(i4,{children:[O.jsx(pd,{path:"/*",element:O.jsx($0,{})}),O.jsx(pd,{path:"/sketch/:id",element:O.jsx($0,{})})]})})}));
