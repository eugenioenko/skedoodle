var hw=Object.defineProperty;var $m=e=>{throw TypeError(e)};var dw=(e,t,n)=>t in e?hw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var B=(e,t,n)=>dw(e,typeof t!="symbol"?t+"":t,n),Um=(e,t,n)=>t.has(e)||$m("Cannot "+n);var wn=(e,t,n)=>(Um(e,t,"read from private field"),n?n.call(e):t.get(e)),Vm=(e,t,n)=>t.has(e)?$m("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Hm=(e,t,n,i)=>(Um(e,t,"write to private field"),i?i.call(e,n):t.set(e,n),n);function pw(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in e)){const l=Object.getOwnPropertyDescriptor(i,o);l&&Object.defineProperty(e,o,l.get?l:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function p_(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var _h={exports:{}},Nl={},vh={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wm;function gw(){if(Wm)return Fe;Wm=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),m=Symbol.iterator;function _(L){return L===null||typeof L!="object"?null:(L=m&&L[m]||L["@@iterator"],typeof L=="function"?L:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,k={};function S(L,Y,we){this.props=L,this.context=Y,this.refs=k,this.updater=we||y}S.prototype.isReactComponent={},S.prototype.setState=function(L,Y){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,Y,"setState")},S.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function b(){}b.prototype=S.prototype;function w(L,Y,we){this.props=L,this.context=Y,this.refs=k,this.updater=we||y}var C=w.prototype=new b;C.constructor=w,x(C,S.prototype),C.isPureReactComponent=!0;var M=Array.isArray,P=Object.prototype.hasOwnProperty,N={current:null},j={key:!0,ref:!0,__self:!0,__source:!0};function X(L,Y,we){var fe,oe={},Q=null,se=null;if(Y!=null)for(fe in Y.ref!==void 0&&(se=Y.ref),Y.key!==void 0&&(Q=""+Y.key),Y)P.call(Y,fe)&&!j.hasOwnProperty(fe)&&(oe[fe]=Y[fe]);var ee=arguments.length-2;if(ee===1)oe.children=we;else if(1<ee){for(var Ce=Array(ee),Me=0;Me<ee;Me++)Ce[Me]=arguments[Me+2];oe.children=Ce}if(L&&L.defaultProps)for(fe in ee=L.defaultProps,ee)oe[fe]===void 0&&(oe[fe]=ee[fe]);return{$$typeof:e,type:L,key:Q,ref:se,props:oe,_owner:N.current}}function z(L,Y){return{$$typeof:e,type:L.type,key:Y,ref:L.ref,props:L.props,_owner:L._owner}}function W(L){return typeof L=="object"&&L!==null&&L.$$typeof===e}function K(L){var Y={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(we){return Y[we]})}var q=/\/+/g;function ae(L,Y){return typeof L=="object"&&L!==null&&L.key!=null?K(""+L.key):Y.toString(36)}function te(L,Y,we,fe,oe){var Q=typeof L;(Q==="undefined"||Q==="boolean")&&(L=null);var se=!1;if(L===null)se=!0;else switch(Q){case"string":case"number":se=!0;break;case"object":switch(L.$$typeof){case e:case t:se=!0}}if(se)return se=L,oe=oe(se),L=fe===""?"."+ae(se,0):fe,M(oe)?(we="",L!=null&&(we=L.replace(q,"$&/")+"/"),te(oe,Y,we,"",function(Me){return Me})):oe!=null&&(W(oe)&&(oe=z(oe,we+(!oe.key||se&&se.key===oe.key?"":(""+oe.key).replace(q,"$&/")+"/")+L)),Y.push(oe)),1;if(se=0,fe=fe===""?".":fe+":",M(L))for(var ee=0;ee<L.length;ee++){Q=L[ee];var Ce=fe+ae(Q,ee);se+=te(Q,Y,we,Ce,oe)}else if(Ce=_(L),typeof Ce=="function")for(L=Ce.call(L),ee=0;!(Q=L.next()).done;)Q=Q.value,Ce=fe+ae(Q,ee++),se+=te(Q,Y,we,Ce,oe);else if(Q==="object")throw Y=String(L),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return se}function re(L,Y,we){if(L==null)return L;var fe=[],oe=0;return te(L,fe,"","",function(Q){return Y.call(we,Q,oe++)}),fe}function ue(L){if(L._status===-1){var Y=L._result;Y=Y(),Y.then(function(we){(L._status===0||L._status===-1)&&(L._status=1,L._result=we)},function(we){(L._status===0||L._status===-1)&&(L._status=2,L._result=we)}),L._status===-1&&(L._status=0,L._result=Y)}if(L._status===1)return L._result.default;throw L._result}var Z={current:null},D={transition:null},$={ReactCurrentDispatcher:Z,ReactCurrentBatchConfig:D,ReactCurrentOwner:N};function G(){throw Error("act(...) is not supported in production builds of React.")}return Fe.Children={map:re,forEach:function(L,Y,we){re(L,function(){Y.apply(this,arguments)},we)},count:function(L){var Y=0;return re(L,function(){Y++}),Y},toArray:function(L){return re(L,function(Y){return Y})||[]},only:function(L){if(!W(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Fe.Component=S,Fe.Fragment=n,Fe.Profiler=o,Fe.PureComponent=w,Fe.StrictMode=i,Fe.Suspense=f,Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$,Fe.act=G,Fe.cloneElement=function(L,Y,we){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var fe=x({},L.props),oe=L.key,Q=L.ref,se=L._owner;if(Y!=null){if(Y.ref!==void 0&&(Q=Y.ref,se=N.current),Y.key!==void 0&&(oe=""+Y.key),L.type&&L.type.defaultProps)var ee=L.type.defaultProps;for(Ce in Y)P.call(Y,Ce)&&!j.hasOwnProperty(Ce)&&(fe[Ce]=Y[Ce]===void 0&&ee!==void 0?ee[Ce]:Y[Ce])}var Ce=arguments.length-2;if(Ce===1)fe.children=we;else if(1<Ce){ee=Array(Ce);for(var Me=0;Me<Ce;Me++)ee[Me]=arguments[Me+2];fe.children=ee}return{$$typeof:e,type:L.type,key:oe,ref:Q,props:fe,_owner:se}},Fe.createContext=function(L){return L={$$typeof:a,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:l,_context:L},L.Consumer=L},Fe.createElement=X,Fe.createFactory=function(L){var Y=X.bind(null,L);return Y.type=L,Y},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(L){return{$$typeof:c,render:L}},Fe.isValidElement=W,Fe.lazy=function(L){return{$$typeof:g,_payload:{_status:-1,_result:L},_init:ue}},Fe.memo=function(L,Y){return{$$typeof:d,type:L,compare:Y===void 0?null:Y}},Fe.startTransition=function(L){var Y=D.transition;D.transition={};try{L()}finally{D.transition=Y}},Fe.unstable_act=G,Fe.useCallback=function(L,Y){return Z.current.useCallback(L,Y)},Fe.useContext=function(L){return Z.current.useContext(L)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(L){return Z.current.useDeferredValue(L)},Fe.useEffect=function(L,Y){return Z.current.useEffect(L,Y)},Fe.useId=function(){return Z.current.useId()},Fe.useImperativeHandle=function(L,Y,we){return Z.current.useImperativeHandle(L,Y,we)},Fe.useInsertionEffect=function(L,Y){return Z.current.useInsertionEffect(L,Y)},Fe.useLayoutEffect=function(L,Y){return Z.current.useLayoutEffect(L,Y)},Fe.useMemo=function(L,Y){return Z.current.useMemo(L,Y)},Fe.useReducer=function(L,Y,we){return Z.current.useReducer(L,Y,we)},Fe.useRef=function(L){return Z.current.useRef(L)},Fe.useState=function(L){return Z.current.useState(L)},Fe.useSyncExternalStore=function(L,Y,we){return Z.current.useSyncExternalStore(L,Y,we)},Fe.useTransition=function(){return Z.current.useTransition()},Fe.version="18.3.1",Fe}var Ym;function Id(){return Ym||(Ym=1,vh.exports=gw()),vh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xm;function mw(){if(Xm)return Nl;Xm=1;var e=Id(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function a(c,f,d){var g,m={},_=null,y=null;d!==void 0&&(_=""+d),f.key!==void 0&&(_=""+f.key),f.ref!==void 0&&(y=f.ref);for(g in f)i.call(f,g)&&!l.hasOwnProperty(g)&&(m[g]=f[g]);if(c&&c.defaultProps)for(g in f=c.defaultProps,f)m[g]===void 0&&(m[g]=f[g]);return{$$typeof:t,type:c,key:_,ref:y,props:m,_owner:o.current}}return Nl.Fragment=n,Nl.jsx=a,Nl.jsxs=a,Nl}var Km;function yw(){return Km||(Km=1,_h.exports=mw()),_h.exports}var A=yw(),E=Id();const st=p_(E),_w=pw({__proto__:null,default:st},[E]);var wu={},xh={exports:{}},kn={},wh={exports:{}},kh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qm;function vw(){return qm||(qm=1,function(e){function t(D,$){var G=D.length;D.push($);e:for(;0<G;){var L=G-1>>>1,Y=D[L];if(0<o(Y,$))D[L]=$,D[G]=Y,G=L;else break e}}function n(D){return D.length===0?null:D[0]}function i(D){if(D.length===0)return null;var $=D[0],G=D.pop();if(G!==$){D[0]=G;e:for(var L=0,Y=D.length,we=Y>>>1;L<we;){var fe=2*(L+1)-1,oe=D[fe],Q=fe+1,se=D[Q];if(0>o(oe,G))Q<Y&&0>o(se,oe)?(D[L]=se,D[Q]=G,L=Q):(D[L]=oe,D[fe]=G,L=fe);else if(Q<Y&&0>o(se,G))D[L]=se,D[Q]=G,L=Q;else break e}}return $}function o(D,$){var G=D.sortIndex-$.sortIndex;return G!==0?G:D.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var a=Date,c=a.now();e.unstable_now=function(){return a.now()-c}}var f=[],d=[],g=1,m=null,_=3,y=!1,x=!1,k=!1,S=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(D){for(var $=n(d);$!==null;){if($.callback===null)i(d);else if($.startTime<=D)i(d),$.sortIndex=$.expirationTime,t(f,$);else break;$=n(d)}}function M(D){if(k=!1,C(D),!x)if(n(f)!==null)x=!0,ue(P);else{var $=n(d);$!==null&&Z(M,$.startTime-D)}}function P(D,$){x=!1,k&&(k=!1,b(X),X=-1),y=!0;var G=_;try{for(C($),m=n(f);m!==null&&(!(m.expirationTime>$)||D&&!K());){var L=m.callback;if(typeof L=="function"){m.callback=null,_=m.priorityLevel;var Y=L(m.expirationTime<=$);$=e.unstable_now(),typeof Y=="function"?m.callback=Y:m===n(f)&&i(f),C($)}else i(f);m=n(f)}if(m!==null)var we=!0;else{var fe=n(d);fe!==null&&Z(M,fe.startTime-$),we=!1}return we}finally{m=null,_=G,y=!1}}var N=!1,j=null,X=-1,z=5,W=-1;function K(){return!(e.unstable_now()-W<z)}function q(){if(j!==null){var D=e.unstable_now();W=D;var $=!0;try{$=j(!0,D)}finally{$?ae():(N=!1,j=null)}}else N=!1}var ae;if(typeof w=="function")ae=function(){w(q)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,re=te.port2;te.port1.onmessage=q,ae=function(){re.postMessage(null)}}else ae=function(){S(q,0)};function ue(D){j=D,N||(N=!0,ae())}function Z(D,$){X=S(function(){D(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){x||y||(x=!0,ue(P))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return _},e.unstable_getFirstCallbackNode=function(){return n(f)},e.unstable_next=function(D){switch(_){case 1:case 2:case 3:var $=3;break;default:$=_}var G=_;_=$;try{return D()}finally{_=G}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,$){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var G=_;_=D;try{return $()}finally{_=G}},e.unstable_scheduleCallback=function(D,$,G){var L=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?L+G:L):G=L,D){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=G+Y,D={id:g++,callback:$,priorityLevel:D,startTime:G,expirationTime:Y,sortIndex:-1},G>L?(D.sortIndex=G,t(d,D),n(f)===null&&D===n(d)&&(k?(b(X),X=-1):k=!0,Z(M,G-L))):(D.sortIndex=Y,t(f,D),x||y||(x=!0,ue(P))),D},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(D){var $=_;return function(){var G=_;_=$;try{return D.apply(this,arguments)}finally{_=G}}}}(kh)),kh}var Gm;function xw(){return Gm||(Gm=1,wh.exports=vw()),wh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qm;function ww(){if(Qm)return kn;Qm=1;var e=Id(),t=xw();function n(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,u=1;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(r,s){a(r,s),a(r+"Capture",s)}function a(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},m={};function _(r){return f.call(m,r)?!0:f.call(g,r)?!1:d.test(r)?m[r]=!0:(g[r]=!0,!1)}function y(r,s,u,h){if(u!==null&&u.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:u!==null?!u.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function x(r,s,u,h){if(s===null||typeof s>"u"||y(r,s,u,h))return!0;if(h)return!1;if(u!==null)switch(u.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function k(r,s,u,h,p,v,R){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=p,this.mustUseProperty=u,this.propertyName=r,this.type=s,this.sanitizeURL=v,this.removeEmptyString=R}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){S[r]=new k(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];S[s]=new k(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){S[r]=new k(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){S[r]=new k(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){S[r]=new k(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){S[r]=new k(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){S[r]=new k(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){S[r]=new k(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){S[r]=new k(r,5,!1,r.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function w(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(b,w);S[s]=new k(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(b,w);S[s]=new k(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(b,w);S[s]=new k(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){S[r]=new k(r,1,!1,r.toLowerCase(),null,!1,!1)}),S.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){S[r]=new k(r,1,!1,r.toLowerCase(),null,!0,!0)});function C(r,s,u,h){var p=S.hasOwnProperty(s)?S[s]:null;(p!==null?p.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(x(s,u,p,h)&&(u=null),h||p===null?_(s)&&(u===null?r.removeAttribute(s):r.setAttribute(s,""+u)):p.mustUseProperty?r[p.propertyName]=u===null?p.type===3?!1:"":u:(s=p.attributeName,h=p.attributeNamespace,u===null?r.removeAttribute(s):(p=p.type,u=p===3||p===4&&u===!0?"":""+u,h?r.setAttributeNS(h,s,u):r.setAttribute(s,u))))}var M=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),N=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),X=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),K=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),re=Symbol.for("react.memo"),ue=Symbol.for("react.lazy"),Z=Symbol.for("react.offscreen"),D=Symbol.iterator;function $(r){return r===null||typeof r!="object"?null:(r=D&&r[D]||r["@@iterator"],typeof r=="function"?r:null)}var G=Object.assign,L;function Y(r){if(L===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);L=s&&s[1]||""}return`
`+L+r}var we=!1;function fe(r,s){if(!r||we)return"";we=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(H){var h=H}Reflect.construct(r,[],s)}else{try{s.call()}catch(H){h=H}r.call(s.prototype)}else{try{throw Error()}catch(H){h=H}r()}}catch(H){if(H&&h&&typeof H.stack=="string"){for(var p=H.stack.split(`
`),v=h.stack.split(`
`),R=p.length-1,O=v.length-1;1<=R&&0<=O&&p[R]!==v[O];)O--;for(;1<=R&&0<=O;R--,O--)if(p[R]!==v[O]){if(R!==1||O!==1)do if(R--,O--,0>O||p[R]!==v[O]){var F=`
`+p[R].replace(" at new "," at ");return r.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",r.displayName)),F}while(1<=R&&0<=O);break}}}finally{we=!1,Error.prepareStackTrace=u}return(r=r?r.displayName||r.name:"")?Y(r):""}function oe(r){switch(r.tag){case 5:return Y(r.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return r=fe(r.type,!1),r;case 11:return r=fe(r.type.render,!1),r;case 1:return r=fe(r.type,!0),r;default:return""}}function Q(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case j:return"Fragment";case N:return"Portal";case z:return"Profiler";case X:return"StrictMode";case ae:return"Suspense";case te:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case K:return(r.displayName||"Context")+".Consumer";case W:return(r._context.displayName||"Context")+".Provider";case q:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case re:return s=r.displayName||null,s!==null?s:Q(r.type)||"Memo";case ue:s=r._payload,r=r._init;try{return Q(r(s))}catch{}}return null}function se(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Q(s);case 8:return s===X?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function ee(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ce(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Me(r){var s=Ce(r)?"checked":"value",u=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,v=u.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return p.call(this)},set:function(R){h=""+R,v.call(this,R)}}),Object.defineProperty(r,s,{enumerable:u.enumerable}),{getValue:function(){return h},setValue:function(R){h=""+R},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function He(r){r._valueTracker||(r._valueTracker=Me(r))}function pt(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var u=s.getValue(),h="";return r&&(h=Ce(r)?r.checked?"true":"false":r.value),r=h,r!==u?(s.setValue(r),!0):!1}function $t(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Mt(r,s){var u=s.checked;return G({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??r._wrapperState.initialChecked})}function gt(r,s){var u=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;u=ee(s.value!=null?s.value:u),r._wrapperState={initialChecked:h,initialValue:u,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Ut(r,s){s=s.checked,s!=null&&C(r,"checked",s,!1)}function rn(r,s){Ut(r,s);var u=ee(s.value),h=s.type;if(u!=null)h==="number"?(u===0&&r.value===""||r.value!=u)&&(r.value=""+u):r.value!==""+u&&(r.value=""+u);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Vt(r,s.type,u):s.hasOwnProperty("defaultValue")&&Vt(r,s.type,ee(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Xn(r,s,u){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,u||s===r.value||(r.value=s),r.defaultValue=s}u=r.name,u!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,u!==""&&(r.name=u)}function Vt(r,s,u){(s!=="number"||$t(r.ownerDocument)!==r)&&(u==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+u&&(r.defaultValue=""+u))}var Kn=Array.isArray;function An(r,s,u,h){if(r=r.options,s){s={};for(var p=0;p<u.length;p++)s["$"+u[p]]=!0;for(u=0;u<r.length;u++)p=s.hasOwnProperty("$"+r[u].value),r[u].selected!==p&&(r[u].selected=p),p&&h&&(r[u].defaultSelected=!0)}else{for(u=""+ee(u),s=null,p=0;p<r.length;p++){if(r[p].value===u){r[p].selected=!0,h&&(r[p].defaultSelected=!0);return}s!==null||r[p].disabled||(s=r[p])}s!==null&&(s.selected=!0)}}function Tr(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return G({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Pn(r,s){var u=s.value;if(u==null){if(u=s.children,s=s.defaultValue,u!=null){if(s!=null)throw Error(n(92));if(Kn(u)){if(1<u.length)throw Error(n(93));u=u[0]}s=u}s==null&&(s=""),u=s}r._wrapperState={initialValue:ee(u)}}function pn(r,s){var u=ee(s.value),h=ee(s.defaultValue);u!=null&&(u=""+u,u!==r.value&&(r.value=u),s.defaultValue==null&&r.defaultValue!==u&&(r.defaultValue=u)),h!=null&&(r.defaultValue=""+h)}function Mr(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function Zr(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qn(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?Zr(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var On,sn=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,u,h,p){MSApp.execUnsafeLocalFunction(function(){return r(s,u,h,p)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(On=On||document.createElement("div"),On.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=On.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function Gn(r,s){if(s){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=s;return}}r.textContent=s}var Ln={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Nc=["Webkit","ms","Moz","O"];Object.keys(Ln).forEach(function(r){Nc.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Ln[s]=Ln[r]})});function is(r,s,u){return s==null||typeof s=="boolean"||s===""?"":u||typeof s!="number"||s===0||Ln.hasOwnProperty(r)&&Ln[r]?(""+s).trim():s+"px"}function ca(r,s){r=r.style;for(var u in s)if(s.hasOwnProperty(u)){var h=u.indexOf("--")===0,p=is(u,s[u],h);u==="float"&&(u="cssFloat"),h?r.setProperty(u,p):r[u]=p}}var fa=G({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vi(r,s){if(s){if(fa[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function Hs(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yo=null;function Ws(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Qn=null,xi=null,ht=null;function Jr(r){if(r=xl(r)){if(typeof Qn!="function")throw Error(n(280));var s=r.stateNode;s&&(s=Ia(s),Qn(r.stateNode,r.type,s))}}function ss(r){xi?ht?ht.push(r):ht=[r]:xi=r}function Xo(){if(xi){var r=xi,s=ht;if(ht=xi=null,Jr(r),s)for(r=0;r<s.length;r++)Jr(s[r])}}function ha(r,s){return r(s)}function da(){}var ei=!1;function Ko(r,s,u){if(ei)return r(s,u);ei=!0;try{return ha(r,s,u)}finally{ei=!1,(xi!==null||ht!==null)&&(da(),Xo())}}function os(r,s){var u=r.stateNode;if(u===null)return null;var h=Ia(u);if(h===null)return null;u=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(n(231,s,typeof u));return u}var qo=!1;if(c)try{var ti={};Object.defineProperty(ti,"passive",{get:function(){qo=!0}}),window.addEventListener("test",ti,ti),window.removeEventListener("test",ti,ti)}catch{qo=!1}function pa(r,s,u,h,p,v,R,O,F){var H=Array.prototype.slice.call(arguments,3);try{s.apply(u,H)}catch(ie){this.onError(ie)}}var wi=!1,Ys=null,Xs=!1,Ks=null,Go={onError:function(r){wi=!0,Ys=r}};function ga(r,s,u,h,p,v,R,O,F){wi=!1,Ys=null,pa.apply(Go,arguments)}function Ic(r,s,u,h,p,v,R,O,F){if(ga.apply(this,arguments),wi){if(wi){var H=Ys;wi=!1,Ys=null}else throw Error(n(198));Xs||(Xs=!0,Ks=H)}}function ni(r){var s=r,u=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(u=s.return),r=s.return;while(r)}return s.tag===3?u:null}function Qo(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Zo(r){if(ni(r)!==r)throw Error(n(188))}function ls(r){var s=r.alternate;if(!s){if(s=ni(r),s===null)throw Error(n(188));return s!==r?null:r}for(var u=r,h=s;;){var p=u.return;if(p===null)break;var v=p.alternate;if(v===null){if(h=p.return,h!==null){u=h;continue}break}if(p.child===v.child){for(v=p.child;v;){if(v===u)return Zo(p),r;if(v===h)return Zo(p),s;v=v.sibling}throw Error(n(188))}if(u.return!==h.return)u=p,h=v;else{for(var R=!1,O=p.child;O;){if(O===u){R=!0,u=p,h=v;break}if(O===h){R=!0,h=p,u=v;break}O=O.sibling}if(!R){for(O=v.child;O;){if(O===u){R=!0,u=v,h=p;break}if(O===h){R=!0,h=v,u=p;break}O=O.sibling}if(!R)throw Error(n(189))}}if(u.alternate!==h)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?r:s}function ma(r){return r=ls(r),r!==null?Jo(r):null}function Jo(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Jo(r);if(s!==null)return s;r=r.sibling}return null}var el=t.unstable_scheduleCallback,tl=t.unstable_cancelCallback,jc=t.unstable_shouldYield,Ue=t.unstable_requestPaint,ge=t.unstable_now,We=t.unstable_getCurrentPriorityLevel,Xe=t.unstable_ImmediatePriority,mt=t.unstable_UserBlockingPriority,Fn=t.unstable_NormalPriority,hr=t.unstable_LowPriority,Zn=t.unstable_IdlePriority,gn=null,At=null;function ki(r){if(At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(gn,r,void 0,(r.current.flags&128)===128)}catch{}}var vt=Math.clz32?Math.clz32:P1,qs=Math.log,ya=Math.LN2;function P1(r){return r>>>=0,r===0?32:31-(qs(r)/ya|0)|0}var _a=64,va=4194304;function nl(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function xa(r,s){var u=r.pendingLanes;if(u===0)return 0;var h=0,p=r.suspendedLanes,v=r.pingedLanes,R=u&268435455;if(R!==0){var O=R&~p;O!==0?h=nl(O):(v&=R,v!==0&&(h=nl(v)))}else R=u&~p,R!==0?h=nl(R):v!==0&&(h=nl(v));if(h===0)return 0;if(s!==0&&s!==h&&!(s&p)&&(p=h&-h,v=s&-s,p>=v||p===16&&(v&4194240)!==0))return s;if(h&4&&(h|=u&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=h;0<s;)u=31-vt(s),p=1<<u,h|=r[u],s&=~p;return h}function O1(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function L1(r,s){for(var u=r.suspendedLanes,h=r.pingedLanes,p=r.expirationTimes,v=r.pendingLanes;0<v;){var R=31-vt(v),O=1<<R,F=p[R];F===-1?(!(O&u)||O&h)&&(p[R]=O1(O,s)):F<=s&&(r.expiredLanes|=O),v&=~O}}function Dc(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function _p(){var r=_a;return _a<<=1,!(_a&4194240)&&(_a=64),r}function zc(r){for(var s=[],u=0;31>u;u++)s.push(r);return s}function rl(r,s,u){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-vt(s),r[s]=u}function F1(r,s){var u=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<u;){var p=31-vt(u),v=1<<p;s[p]=0,h[p]=-1,r[p]=-1,u&=~v}}function Bc(r,s){var u=r.entangledLanes|=s;for(r=r.entanglements;u;){var h=31-vt(u),p=1<<h;p&s|r[h]&s&&(r[h]|=s),u&=~p}}var Ye=0;function vp(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var xp,$c,wp,kp,bp,Uc=!1,wa=[],bi=null,Si=null,Ei=null,il=new Map,sl=new Map,Ci=[],N1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sp(r,s){switch(r){case"focusin":case"focusout":bi=null;break;case"dragenter":case"dragleave":Si=null;break;case"mouseover":case"mouseout":Ei=null;break;case"pointerover":case"pointerout":il.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":sl.delete(s.pointerId)}}function ol(r,s,u,h,p,v){return r===null||r.nativeEvent!==v?(r={blockedOn:s,domEventName:u,eventSystemFlags:h,nativeEvent:v,targetContainers:[p]},s!==null&&(s=xl(s),s!==null&&$c(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),r)}function I1(r,s,u,h,p){switch(s){case"focusin":return bi=ol(bi,r,s,u,h,p),!0;case"dragenter":return Si=ol(Si,r,s,u,h,p),!0;case"mouseover":return Ei=ol(Ei,r,s,u,h,p),!0;case"pointerover":var v=p.pointerId;return il.set(v,ol(il.get(v)||null,r,s,u,h,p)),!0;case"gotpointercapture":return v=p.pointerId,sl.set(v,ol(sl.get(v)||null,r,s,u,h,p)),!0}return!1}function Ep(r){var s=as(r.target);if(s!==null){var u=ni(s);if(u!==null){if(s=u.tag,s===13){if(s=Qo(u),s!==null){r.blockedOn=s,bp(r.priority,function(){wp(u)});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function ka(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var u=Hc(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(u===null){u=r.nativeEvent;var h=new u.constructor(u.type,u);Yo=h,u.target.dispatchEvent(h),Yo=null}else return s=xl(u),s!==null&&$c(s),r.blockedOn=u,!1;s.shift()}return!0}function Cp(r,s,u){ka(r)&&u.delete(s)}function j1(){Uc=!1,bi!==null&&ka(bi)&&(bi=null),Si!==null&&ka(Si)&&(Si=null),Ei!==null&&ka(Ei)&&(Ei=null),il.forEach(Cp),sl.forEach(Cp)}function ll(r,s){r.blockedOn===s&&(r.blockedOn=null,Uc||(Uc=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,j1)))}function al(r){function s(p){return ll(p,r)}if(0<wa.length){ll(wa[0],r);for(var u=1;u<wa.length;u++){var h=wa[u];h.blockedOn===r&&(h.blockedOn=null)}}for(bi!==null&&ll(bi,r),Si!==null&&ll(Si,r),Ei!==null&&ll(Ei,r),il.forEach(s),sl.forEach(s),u=0;u<Ci.length;u++)h=Ci[u],h.blockedOn===r&&(h.blockedOn=null);for(;0<Ci.length&&(u=Ci[0],u.blockedOn===null);)Ep(u),u.blockedOn===null&&Ci.shift()}var Gs=M.ReactCurrentBatchConfig,ba=!0;function D1(r,s,u,h){var p=Ye,v=Gs.transition;Gs.transition=null;try{Ye=1,Vc(r,s,u,h)}finally{Ye=p,Gs.transition=v}}function z1(r,s,u,h){var p=Ye,v=Gs.transition;Gs.transition=null;try{Ye=4,Vc(r,s,u,h)}finally{Ye=p,Gs.transition=v}}function Vc(r,s,u,h){if(ba){var p=Hc(r,s,u,h);if(p===null)af(r,s,h,Sa,u),Sp(r,h);else if(I1(p,r,s,u,h))h.stopPropagation();else if(Sp(r,h),s&4&&-1<N1.indexOf(r)){for(;p!==null;){var v=xl(p);if(v!==null&&xp(v),v=Hc(r,s,u,h),v===null&&af(r,s,h,Sa,u),v===p)break;p=v}p!==null&&h.stopPropagation()}else af(r,s,h,null,u)}}var Sa=null;function Hc(r,s,u,h){if(Sa=null,r=Ws(h),r=as(r),r!==null)if(s=ni(r),s===null)r=null;else if(u=s.tag,u===13){if(r=Qo(s),r!==null)return r;r=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Sa=r,null}function Rp(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(We()){case Xe:return 1;case mt:return 4;case Fn:case hr:return 16;case Zn:return 536870912;default:return 16}default:return 16}}var Ri=null,Wc=null,Ea=null;function Tp(){if(Ea)return Ea;var r,s=Wc,u=s.length,h,p="value"in Ri?Ri.value:Ri.textContent,v=p.length;for(r=0;r<u&&s[r]===p[r];r++);var R=u-r;for(h=1;h<=R&&s[u-h]===p[v-h];h++);return Ea=p.slice(r,1<h?1-h:void 0)}function Ca(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Ra(){return!0}function Mp(){return!1}function Nn(r){function s(u,h,p,v,R){this._reactName=u,this._targetInst=p,this.type=h,this.nativeEvent=v,this.target=R,this.currentTarget=null;for(var O in r)r.hasOwnProperty(O)&&(u=r[O],this[O]=u?u(v):v[O]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Ra:Mp,this.isPropagationStopped=Mp,this}return G(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Ra)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Ra)},persist:function(){},isPersistent:Ra}),s}var Qs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yc=Nn(Qs),ul=G({},Qs,{view:0,detail:0}),B1=Nn(ul),Xc,Kc,cl,Ta=G({},ul,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gc,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==cl&&(cl&&r.type==="mousemove"?(Xc=r.screenX-cl.screenX,Kc=r.screenY-cl.screenY):Kc=Xc=0,cl=r),Xc)},movementY:function(r){return"movementY"in r?r.movementY:Kc}}),Ap=Nn(Ta),$1=G({},Ta,{dataTransfer:0}),U1=Nn($1),V1=G({},ul,{relatedTarget:0}),qc=Nn(V1),H1=G({},Qs,{animationName:0,elapsedTime:0,pseudoElement:0}),W1=Nn(H1),Y1=G({},Qs,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),X1=Nn(Y1),K1=G({},Qs,{data:0}),Pp=Nn(K1),q1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},G1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Q1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Z1(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Q1[r])?!!s[r]:!1}function Gc(){return Z1}var J1=G({},ul,{key:function(r){if(r.key){var s=q1[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Ca(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?G1[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gc,charCode:function(r){return r.type==="keypress"?Ca(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ca(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),ex=Nn(J1),tx=G({},Ta,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Op=Nn(tx),nx=G({},ul,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gc}),rx=Nn(nx),ix=G({},Qs,{propertyName:0,elapsedTime:0,pseudoElement:0}),sx=Nn(ix),ox=G({},Ta,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),lx=Nn(ox),ax=[9,13,27,32],Qc=c&&"CompositionEvent"in window,fl=null;c&&"documentMode"in document&&(fl=document.documentMode);var ux=c&&"TextEvent"in window&&!fl,Lp=c&&(!Qc||fl&&8<fl&&11>=fl),Fp=" ",Np=!1;function Ip(r,s){switch(r){case"keyup":return ax.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jp(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Zs=!1;function cx(r,s){switch(r){case"compositionend":return jp(s);case"keypress":return s.which!==32?null:(Np=!0,Fp);case"textInput":return r=s.data,r===Fp&&Np?null:r;default:return null}}function fx(r,s){if(Zs)return r==="compositionend"||!Qc&&Ip(r,s)?(r=Tp(),Ea=Wc=Ri=null,Zs=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Lp&&s.locale!=="ko"?null:s.data;default:return null}}var hx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dp(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!hx[r.type]:s==="textarea"}function zp(r,s,u,h){ss(h),s=La(s,"onChange"),0<s.length&&(u=new Yc("onChange","change",null,u,h),r.push({event:u,listeners:s}))}var hl=null,dl=null;function dx(r){rg(r,0)}function Ma(r){var s=ro(r);if(pt(s))return r}function px(r,s){if(r==="change")return s}var Bp=!1;if(c){var Zc;if(c){var Jc="oninput"in document;if(!Jc){var $p=document.createElement("div");$p.setAttribute("oninput","return;"),Jc=typeof $p.oninput=="function"}Zc=Jc}else Zc=!1;Bp=Zc&&(!document.documentMode||9<document.documentMode)}function Up(){hl&&(hl.detachEvent("onpropertychange",Vp),dl=hl=null)}function Vp(r){if(r.propertyName==="value"&&Ma(dl)){var s=[];zp(s,dl,r,Ws(r)),Ko(dx,s)}}function gx(r,s,u){r==="focusin"?(Up(),hl=s,dl=u,hl.attachEvent("onpropertychange",Vp)):r==="focusout"&&Up()}function mx(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Ma(dl)}function yx(r,s){if(r==="click")return Ma(s)}function _x(r,s){if(r==="input"||r==="change")return Ma(s)}function vx(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var dr=typeof Object.is=="function"?Object.is:vx;function pl(r,s){if(dr(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var u=Object.keys(r),h=Object.keys(s);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var p=u[h];if(!f.call(s,p)||!dr(r[p],s[p]))return!1}return!0}function Hp(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Wp(r,s){var u=Hp(r);r=0;for(var h;u;){if(u.nodeType===3){if(h=r+u.textContent.length,r<=s&&h>=s)return{node:u,offset:s-r};r=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Hp(u)}}function Yp(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Yp(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Xp(){for(var r=window,s=$t();s instanceof r.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)r=s.contentWindow;else break;s=$t(r.document)}return s}function ef(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function xx(r){var s=Xp(),u=r.focusedElem,h=r.selectionRange;if(s!==u&&u&&u.ownerDocument&&Yp(u.ownerDocument.documentElement,u)){if(h!==null&&ef(u)){if(s=h.start,r=h.end,r===void 0&&(r=s),"selectionStart"in u)u.selectionStart=s,u.selectionEnd=Math.min(r,u.value.length);else if(r=(s=u.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var p=u.textContent.length,v=Math.min(h.start,p);h=h.end===void 0?v:Math.min(h.end,p),!r.extend&&v>h&&(p=h,h=v,v=p),p=Wp(u,v);var R=Wp(u,h);p&&R&&(r.rangeCount!==1||r.anchorNode!==p.node||r.anchorOffset!==p.offset||r.focusNode!==R.node||r.focusOffset!==R.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),r.removeAllRanges(),v>h?(r.addRange(s),r.extend(R.node,R.offset)):(s.setEnd(R.node,R.offset),r.addRange(s)))}}for(s=[],r=u;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<s.length;u++)r=s[u],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var wx=c&&"documentMode"in document&&11>=document.documentMode,Js=null,tf=null,gl=null,nf=!1;function Kp(r,s,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;nf||Js==null||Js!==$t(h)||(h=Js,"selectionStart"in h&&ef(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),gl&&pl(gl,h)||(gl=h,h=La(tf,"onSelect"),0<h.length&&(s=new Yc("onSelect","select",null,s,u),r.push({event:s,listeners:h}),s.target=Js)))}function Aa(r,s){var u={};return u[r.toLowerCase()]=s.toLowerCase(),u["Webkit"+r]="webkit"+s,u["Moz"+r]="moz"+s,u}var eo={animationend:Aa("Animation","AnimationEnd"),animationiteration:Aa("Animation","AnimationIteration"),animationstart:Aa("Animation","AnimationStart"),transitionend:Aa("Transition","TransitionEnd")},rf={},qp={};c&&(qp=document.createElement("div").style,"AnimationEvent"in window||(delete eo.animationend.animation,delete eo.animationiteration.animation,delete eo.animationstart.animation),"TransitionEvent"in window||delete eo.transitionend.transition);function Pa(r){if(rf[r])return rf[r];if(!eo[r])return r;var s=eo[r],u;for(u in s)if(s.hasOwnProperty(u)&&u in qp)return rf[r]=s[u];return r}var Gp=Pa("animationend"),Qp=Pa("animationiteration"),Zp=Pa("animationstart"),Jp=Pa("transitionend"),eg=new Map,tg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ti(r,s){eg.set(r,s),l(s,[r])}for(var sf=0;sf<tg.length;sf++){var of=tg[sf],kx=of.toLowerCase(),bx=of[0].toUpperCase()+of.slice(1);Ti(kx,"on"+bx)}Ti(Gp,"onAnimationEnd"),Ti(Qp,"onAnimationIteration"),Ti(Zp,"onAnimationStart"),Ti("dblclick","onDoubleClick"),Ti("focusin","onFocus"),Ti("focusout","onBlur"),Ti(Jp,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sx=new Set("cancel close invalid load scroll toggle".split(" ").concat(ml));function ng(r,s,u){var h=r.type||"unknown-event";r.currentTarget=u,Ic(h,s,void 0,r),r.currentTarget=null}function rg(r,s){s=(s&4)!==0;for(var u=0;u<r.length;u++){var h=r[u],p=h.event;h=h.listeners;e:{var v=void 0;if(s)for(var R=h.length-1;0<=R;R--){var O=h[R],F=O.instance,H=O.currentTarget;if(O=O.listener,F!==v&&p.isPropagationStopped())break e;ng(p,O,H),v=F}else for(R=0;R<h.length;R++){if(O=h[R],F=O.instance,H=O.currentTarget,O=O.listener,F!==v&&p.isPropagationStopped())break e;ng(p,O,H),v=F}}}if(Xs)throw r=Ks,Xs=!1,Ks=null,r}function Ze(r,s){var u=s[pf];u===void 0&&(u=s[pf]=new Set);var h=r+"__bubble";u.has(h)||(ig(s,r,2,!1),u.add(h))}function lf(r,s,u){var h=0;s&&(h|=4),ig(u,r,h,s)}var Oa="_reactListening"+Math.random().toString(36).slice(2);function yl(r){if(!r[Oa]){r[Oa]=!0,i.forEach(function(u){u!=="selectionchange"&&(Sx.has(u)||lf(u,!1,r),lf(u,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Oa]||(s[Oa]=!0,lf("selectionchange",!1,s))}}function ig(r,s,u,h){switch(Rp(s)){case 1:var p=D1;break;case 4:p=z1;break;default:p=Vc}u=p.bind(null,s,u,r),p=void 0,!qo||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),h?p!==void 0?r.addEventListener(s,u,{capture:!0,passive:p}):r.addEventListener(s,u,!0):p!==void 0?r.addEventListener(s,u,{passive:p}):r.addEventListener(s,u,!1)}function af(r,s,u,h,p){var v=h;if(!(s&1)&&!(s&2)&&h!==null)e:for(;;){if(h===null)return;var R=h.tag;if(R===3||R===4){var O=h.stateNode.containerInfo;if(O===p||O.nodeType===8&&O.parentNode===p)break;if(R===4)for(R=h.return;R!==null;){var F=R.tag;if((F===3||F===4)&&(F=R.stateNode.containerInfo,F===p||F.nodeType===8&&F.parentNode===p))return;R=R.return}for(;O!==null;){if(R=as(O),R===null)return;if(F=R.tag,F===5||F===6){h=v=R;continue e}O=O.parentNode}}h=h.return}Ko(function(){var H=v,ie=Ws(u),le=[];e:{var ne=eg.get(r);if(ne!==void 0){var me=Yc,ve=r;switch(r){case"keypress":if(Ca(u)===0)break e;case"keydown":case"keyup":me=ex;break;case"focusin":ve="focus",me=qc;break;case"focusout":ve="blur",me=qc;break;case"beforeblur":case"afterblur":me=qc;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=Ap;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=U1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=rx;break;case Gp:case Qp:case Zp:me=W1;break;case Jp:me=sx;break;case"scroll":me=B1;break;case"wheel":me=lx;break;case"copy":case"cut":case"paste":me=X1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=Op}var ke=(s&4)!==0,yt=!ke&&r==="scroll",U=ke?ne!==null?ne+"Capture":null:ne;ke=[];for(var I=H,V;I!==null;){V=I;var he=V.stateNode;if(V.tag===5&&he!==null&&(V=he,U!==null&&(he=os(I,U),he!=null&&ke.push(_l(I,he,V)))),yt)break;I=I.return}0<ke.length&&(ne=new me(ne,ve,null,u,ie),le.push({event:ne,listeners:ke}))}}if(!(s&7)){e:{if(ne=r==="mouseover"||r==="pointerover",me=r==="mouseout"||r==="pointerout",ne&&u!==Yo&&(ve=u.relatedTarget||u.fromElement)&&(as(ve)||ve[ri]))break e;if((me||ne)&&(ne=ie.window===ie?ie:(ne=ie.ownerDocument)?ne.defaultView||ne.parentWindow:window,me?(ve=u.relatedTarget||u.toElement,me=H,ve=ve?as(ve):null,ve!==null&&(yt=ni(ve),ve!==yt||ve.tag!==5&&ve.tag!==6)&&(ve=null)):(me=null,ve=H),me!==ve)){if(ke=Ap,he="onMouseLeave",U="onMouseEnter",I="mouse",(r==="pointerout"||r==="pointerover")&&(ke=Op,he="onPointerLeave",U="onPointerEnter",I="pointer"),yt=me==null?ne:ro(me),V=ve==null?ne:ro(ve),ne=new ke(he,I+"leave",me,u,ie),ne.target=yt,ne.relatedTarget=V,he=null,as(ie)===H&&(ke=new ke(U,I+"enter",ve,u,ie),ke.target=V,ke.relatedTarget=yt,he=ke),yt=he,me&&ve)t:{for(ke=me,U=ve,I=0,V=ke;V;V=to(V))I++;for(V=0,he=U;he;he=to(he))V++;for(;0<I-V;)ke=to(ke),I--;for(;0<V-I;)U=to(U),V--;for(;I--;){if(ke===U||U!==null&&ke===U.alternate)break t;ke=to(ke),U=to(U)}ke=null}else ke=null;me!==null&&sg(le,ne,me,ke,!1),ve!==null&&yt!==null&&sg(le,yt,ve,ke,!0)}}e:{if(ne=H?ro(H):window,me=ne.nodeName&&ne.nodeName.toLowerCase(),me==="select"||me==="input"&&ne.type==="file")var Ee=px;else if(Dp(ne))if(Bp)Ee=_x;else{Ee=mx;var Re=gx}else(me=ne.nodeName)&&me.toLowerCase()==="input"&&(ne.type==="checkbox"||ne.type==="radio")&&(Ee=yx);if(Ee&&(Ee=Ee(r,H))){zp(le,Ee,u,ie);break e}Re&&Re(r,ne,H),r==="focusout"&&(Re=ne._wrapperState)&&Re.controlled&&ne.type==="number"&&Vt(ne,"number",ne.value)}switch(Re=H?ro(H):window,r){case"focusin":(Dp(Re)||Re.contentEditable==="true")&&(Js=Re,tf=H,gl=null);break;case"focusout":gl=tf=Js=null;break;case"mousedown":nf=!0;break;case"contextmenu":case"mouseup":case"dragend":nf=!1,Kp(le,u,ie);break;case"selectionchange":if(wx)break;case"keydown":case"keyup":Kp(le,u,ie)}var Te;if(Qc)e:{switch(r){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Zs?Ip(r,u)&&(Oe="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(Oe="onCompositionStart");Oe&&(Lp&&u.locale!=="ko"&&(Zs||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Zs&&(Te=Tp()):(Ri=ie,Wc="value"in Ri?Ri.value:Ri.textContent,Zs=!0)),Re=La(H,Oe),0<Re.length&&(Oe=new Pp(Oe,r,null,u,ie),le.push({event:Oe,listeners:Re}),Te?Oe.data=Te:(Te=jp(u),Te!==null&&(Oe.data=Te)))),(Te=ux?cx(r,u):fx(r,u))&&(H=La(H,"onBeforeInput"),0<H.length&&(ie=new Pp("onBeforeInput","beforeinput",null,u,ie),le.push({event:ie,listeners:H}),ie.data=Te))}rg(le,s)})}function _l(r,s,u){return{instance:r,listener:s,currentTarget:u}}function La(r,s){for(var u=s+"Capture",h=[];r!==null;){var p=r,v=p.stateNode;p.tag===5&&v!==null&&(p=v,v=os(r,u),v!=null&&h.unshift(_l(r,v,p)),v=os(r,s),v!=null&&h.push(_l(r,v,p))),r=r.return}return h}function to(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function sg(r,s,u,h,p){for(var v=s._reactName,R=[];u!==null&&u!==h;){var O=u,F=O.alternate,H=O.stateNode;if(F!==null&&F===h)break;O.tag===5&&H!==null&&(O=H,p?(F=os(u,v),F!=null&&R.unshift(_l(u,F,O))):p||(F=os(u,v),F!=null&&R.push(_l(u,F,O)))),u=u.return}R.length!==0&&r.push({event:s,listeners:R})}var Ex=/\r\n?/g,Cx=/\u0000|\uFFFD/g;function og(r){return(typeof r=="string"?r:""+r).replace(Ex,`
`).replace(Cx,"")}function Fa(r,s,u){if(s=og(s),og(r)!==s&&u)throw Error(n(425))}function Na(){}var uf=null,cf=null;function ff(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var hf=typeof setTimeout=="function"?setTimeout:void 0,Rx=typeof clearTimeout=="function"?clearTimeout:void 0,lg=typeof Promise=="function"?Promise:void 0,Tx=typeof queueMicrotask=="function"?queueMicrotask:typeof lg<"u"?function(r){return lg.resolve(null).then(r).catch(Mx)}:hf;function Mx(r){setTimeout(function(){throw r})}function df(r,s){var u=s,h=0;do{var p=u.nextSibling;if(r.removeChild(u),p&&p.nodeType===8)if(u=p.data,u==="/$"){if(h===0){r.removeChild(p),al(s);return}h--}else u!=="$"&&u!=="$?"&&u!=="$!"||h++;u=p}while(u);al(s)}function Mi(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function ag(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"){if(s===0)return r;s--}else u==="/$"&&s++}r=r.previousSibling}return null}var no=Math.random().toString(36).slice(2),Ar="__reactFiber$"+no,vl="__reactProps$"+no,ri="__reactContainer$"+no,pf="__reactEvents$"+no,Ax="__reactListeners$"+no,Px="__reactHandles$"+no;function as(r){var s=r[Ar];if(s)return s;for(var u=r.parentNode;u;){if(s=u[ri]||u[Ar]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(r=ag(r);r!==null;){if(u=r[Ar])return u;r=ag(r)}return s}r=u,u=r.parentNode}return null}function xl(r){return r=r[Ar]||r[ri],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function ro(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function Ia(r){return r[vl]||null}var gf=[],io=-1;function Ai(r){return{current:r}}function Je(r){0>io||(r.current=gf[io],gf[io]=null,io--)}function qe(r,s){io++,gf[io]=r.current,r.current=s}var Pi={},Ht=Ai(Pi),mn=Ai(!1),us=Pi;function so(r,s){var u=r.type.contextTypes;if(!u)return Pi;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var p={},v;for(v in u)p[v]=s[v];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=p),p}function yn(r){return r=r.childContextTypes,r!=null}function ja(){Je(mn),Je(Ht)}function ug(r,s,u){if(Ht.current!==Pi)throw Error(n(168));qe(Ht,s),qe(mn,u)}function cg(r,s,u){var h=r.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return u;h=h.getChildContext();for(var p in h)if(!(p in s))throw Error(n(108,se(r)||"Unknown",p));return G({},u,h)}function Da(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Pi,us=Ht.current,qe(Ht,r),qe(mn,mn.current),!0}function fg(r,s,u){var h=r.stateNode;if(!h)throw Error(n(169));u?(r=cg(r,s,us),h.__reactInternalMemoizedMergedChildContext=r,Je(mn),Je(Ht),qe(Ht,r)):Je(mn),qe(mn,u)}var ii=null,za=!1,mf=!1;function hg(r){ii===null?ii=[r]:ii.push(r)}function Ox(r){za=!0,hg(r)}function Oi(){if(!mf&&ii!==null){mf=!0;var r=0,s=Ye;try{var u=ii;for(Ye=1;r<u.length;r++){var h=u[r];do h=h(!0);while(h!==null)}ii=null,za=!1}catch(p){throw ii!==null&&(ii=ii.slice(r+1)),el(Xe,Oi),p}finally{Ye=s,mf=!1}}return null}var oo=[],lo=0,Ba=null,$a=0,Jn=[],er=0,cs=null,si=1,oi="";function fs(r,s){oo[lo++]=$a,oo[lo++]=Ba,Ba=r,$a=s}function dg(r,s,u){Jn[er++]=si,Jn[er++]=oi,Jn[er++]=cs,cs=r;var h=si;r=oi;var p=32-vt(h)-1;h&=~(1<<p),u+=1;var v=32-vt(s)+p;if(30<v){var R=p-p%5;v=(h&(1<<R)-1).toString(32),h>>=R,p-=R,si=1<<32-vt(s)+p|u<<p|h,oi=v+r}else si=1<<v|u<<p|h,oi=r}function yf(r){r.return!==null&&(fs(r,1),dg(r,1,0))}function _f(r){for(;r===Ba;)Ba=oo[--lo],oo[lo]=null,$a=oo[--lo],oo[lo]=null;for(;r===cs;)cs=Jn[--er],Jn[er]=null,oi=Jn[--er],Jn[er]=null,si=Jn[--er],Jn[er]=null}var In=null,jn=null,nt=!1,pr=null;function pg(r,s){var u=ir(5,null,null,0);u.elementType="DELETED",u.stateNode=s,u.return=r,s=r.deletions,s===null?(r.deletions=[u],r.flags|=16):s.push(u)}function gg(r,s){switch(r.tag){case 5:var u=r.type;return s=s.nodeType!==1||u.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,In=r,jn=Mi(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,In=r,jn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(u=cs!==null?{id:si,overflow:oi}:null,r.memoizedState={dehydrated:s,treeContext:u,retryLane:1073741824},u=ir(18,null,null,0),u.stateNode=s,u.return=r,r.child=u,In=r,jn=null,!0):!1;default:return!1}}function vf(r){return(r.mode&1)!==0&&(r.flags&128)===0}function xf(r){if(nt){var s=jn;if(s){var u=s;if(!gg(r,s)){if(vf(r))throw Error(n(418));s=Mi(u.nextSibling);var h=In;s&&gg(r,s)?pg(h,u):(r.flags=r.flags&-4097|2,nt=!1,In=r)}}else{if(vf(r))throw Error(n(418));r.flags=r.flags&-4097|2,nt=!1,In=r}}}function mg(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;In=r}function Ua(r){if(r!==In)return!1;if(!nt)return mg(r),nt=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!ff(r.type,r.memoizedProps)),s&&(s=jn)){if(vf(r))throw yg(),Error(n(418));for(;s;)pg(r,s),s=Mi(s.nextSibling)}if(mg(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var u=r.data;if(u==="/$"){if(s===0){jn=Mi(r.nextSibling);break e}s--}else u!=="$"&&u!=="$!"&&u!=="$?"||s++}r=r.nextSibling}jn=null}}else jn=In?Mi(r.stateNode.nextSibling):null;return!0}function yg(){for(var r=jn;r;)r=Mi(r.nextSibling)}function ao(){jn=In=null,nt=!1}function wf(r){pr===null?pr=[r]:pr.push(r)}var Lx=M.ReactCurrentBatchConfig;function wl(r,s,u){if(r=u.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var h=u.stateNode}if(!h)throw Error(n(147,r));var p=h,v=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===v?s.ref:(s=function(R){var O=p.refs;R===null?delete O[v]:O[v]=R},s._stringRef=v,s)}if(typeof r!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,r))}return r}function Va(r,s){throw r=Object.prototype.toString.call(s),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function _g(r){var s=r._init;return s(r._payload)}function vg(r){function s(U,I){if(r){var V=U.deletions;V===null?(U.deletions=[I],U.flags|=16):V.push(I)}}function u(U,I){if(!r)return null;for(;I!==null;)s(U,I),I=I.sibling;return null}function h(U,I){for(U=new Map;I!==null;)I.key!==null?U.set(I.key,I):U.set(I.index,I),I=I.sibling;return U}function p(U,I){return U=Bi(U,I),U.index=0,U.sibling=null,U}function v(U,I,V){return U.index=V,r?(V=U.alternate,V!==null?(V=V.index,V<I?(U.flags|=2,I):V):(U.flags|=2,I)):(U.flags|=1048576,I)}function R(U){return r&&U.alternate===null&&(U.flags|=2),U}function O(U,I,V,he){return I===null||I.tag!==6?(I=hh(V,U.mode,he),I.return=U,I):(I=p(I,V),I.return=U,I)}function F(U,I,V,he){var Ee=V.type;return Ee===j?ie(U,I,V.props.children,he,V.key):I!==null&&(I.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===ue&&_g(Ee)===I.type)?(he=p(I,V.props),he.ref=wl(U,I,V),he.return=U,he):(he=du(V.type,V.key,V.props,null,U.mode,he),he.ref=wl(U,I,V),he.return=U,he)}function H(U,I,V,he){return I===null||I.tag!==4||I.stateNode.containerInfo!==V.containerInfo||I.stateNode.implementation!==V.implementation?(I=dh(V,U.mode,he),I.return=U,I):(I=p(I,V.children||[]),I.return=U,I)}function ie(U,I,V,he,Ee){return I===null||I.tag!==7?(I=vs(V,U.mode,he,Ee),I.return=U,I):(I=p(I,V),I.return=U,I)}function le(U,I,V){if(typeof I=="string"&&I!==""||typeof I=="number")return I=hh(""+I,U.mode,V),I.return=U,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case P:return V=du(I.type,I.key,I.props,null,U.mode,V),V.ref=wl(U,null,I),V.return=U,V;case N:return I=dh(I,U.mode,V),I.return=U,I;case ue:var he=I._init;return le(U,he(I._payload),V)}if(Kn(I)||$(I))return I=vs(I,U.mode,V,null),I.return=U,I;Va(U,I)}return null}function ne(U,I,V,he){var Ee=I!==null?I.key:null;if(typeof V=="string"&&V!==""||typeof V=="number")return Ee!==null?null:O(U,I,""+V,he);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case P:return V.key===Ee?F(U,I,V,he):null;case N:return V.key===Ee?H(U,I,V,he):null;case ue:return Ee=V._init,ne(U,I,Ee(V._payload),he)}if(Kn(V)||$(V))return Ee!==null?null:ie(U,I,V,he,null);Va(U,V)}return null}function me(U,I,V,he,Ee){if(typeof he=="string"&&he!==""||typeof he=="number")return U=U.get(V)||null,O(I,U,""+he,Ee);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case P:return U=U.get(he.key===null?V:he.key)||null,F(I,U,he,Ee);case N:return U=U.get(he.key===null?V:he.key)||null,H(I,U,he,Ee);case ue:var Re=he._init;return me(U,I,V,Re(he._payload),Ee)}if(Kn(he)||$(he))return U=U.get(V)||null,ie(I,U,he,Ee,null);Va(I,he)}return null}function ve(U,I,V,he){for(var Ee=null,Re=null,Te=I,Oe=I=0,Lt=null;Te!==null&&Oe<V.length;Oe++){Te.index>Oe?(Lt=Te,Te=null):Lt=Te.sibling;var Be=ne(U,Te,V[Oe],he);if(Be===null){Te===null&&(Te=Lt);break}r&&Te&&Be.alternate===null&&s(U,Te),I=v(Be,I,Oe),Re===null?Ee=Be:Re.sibling=Be,Re=Be,Te=Lt}if(Oe===V.length)return u(U,Te),nt&&fs(U,Oe),Ee;if(Te===null){for(;Oe<V.length;Oe++)Te=le(U,V[Oe],he),Te!==null&&(I=v(Te,I,Oe),Re===null?Ee=Te:Re.sibling=Te,Re=Te);return nt&&fs(U,Oe),Ee}for(Te=h(U,Te);Oe<V.length;Oe++)Lt=me(Te,U,Oe,V[Oe],he),Lt!==null&&(r&&Lt.alternate!==null&&Te.delete(Lt.key===null?Oe:Lt.key),I=v(Lt,I,Oe),Re===null?Ee=Lt:Re.sibling=Lt,Re=Lt);return r&&Te.forEach(function($i){return s(U,$i)}),nt&&fs(U,Oe),Ee}function ke(U,I,V,he){var Ee=$(V);if(typeof Ee!="function")throw Error(n(150));if(V=Ee.call(V),V==null)throw Error(n(151));for(var Re=Ee=null,Te=I,Oe=I=0,Lt=null,Be=V.next();Te!==null&&!Be.done;Oe++,Be=V.next()){Te.index>Oe?(Lt=Te,Te=null):Lt=Te.sibling;var $i=ne(U,Te,Be.value,he);if($i===null){Te===null&&(Te=Lt);break}r&&Te&&$i.alternate===null&&s(U,Te),I=v($i,I,Oe),Re===null?Ee=$i:Re.sibling=$i,Re=$i,Te=Lt}if(Be.done)return u(U,Te),nt&&fs(U,Oe),Ee;if(Te===null){for(;!Be.done;Oe++,Be=V.next())Be=le(U,Be.value,he),Be!==null&&(I=v(Be,I,Oe),Re===null?Ee=Be:Re.sibling=Be,Re=Be);return nt&&fs(U,Oe),Ee}for(Te=h(U,Te);!Be.done;Oe++,Be=V.next())Be=me(Te,U,Oe,Be.value,he),Be!==null&&(r&&Be.alternate!==null&&Te.delete(Be.key===null?Oe:Be.key),I=v(Be,I,Oe),Re===null?Ee=Be:Re.sibling=Be,Re=Be);return r&&Te.forEach(function(fw){return s(U,fw)}),nt&&fs(U,Oe),Ee}function yt(U,I,V,he){if(typeof V=="object"&&V!==null&&V.type===j&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case P:e:{for(var Ee=V.key,Re=I;Re!==null;){if(Re.key===Ee){if(Ee=V.type,Ee===j){if(Re.tag===7){u(U,Re.sibling),I=p(Re,V.props.children),I.return=U,U=I;break e}}else if(Re.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===ue&&_g(Ee)===Re.type){u(U,Re.sibling),I=p(Re,V.props),I.ref=wl(U,Re,V),I.return=U,U=I;break e}u(U,Re);break}else s(U,Re);Re=Re.sibling}V.type===j?(I=vs(V.props.children,U.mode,he,V.key),I.return=U,U=I):(he=du(V.type,V.key,V.props,null,U.mode,he),he.ref=wl(U,I,V),he.return=U,U=he)}return R(U);case N:e:{for(Re=V.key;I!==null;){if(I.key===Re)if(I.tag===4&&I.stateNode.containerInfo===V.containerInfo&&I.stateNode.implementation===V.implementation){u(U,I.sibling),I=p(I,V.children||[]),I.return=U,U=I;break e}else{u(U,I);break}else s(U,I);I=I.sibling}I=dh(V,U.mode,he),I.return=U,U=I}return R(U);case ue:return Re=V._init,yt(U,I,Re(V._payload),he)}if(Kn(V))return ve(U,I,V,he);if($(V))return ke(U,I,V,he);Va(U,V)}return typeof V=="string"&&V!==""||typeof V=="number"?(V=""+V,I!==null&&I.tag===6?(u(U,I.sibling),I=p(I,V),I.return=U,U=I):(u(U,I),I=hh(V,U.mode,he),I.return=U,U=I),R(U)):u(U,I)}return yt}var uo=vg(!0),xg=vg(!1),Ha=Ai(null),Wa=null,co=null,kf=null;function bf(){kf=co=Wa=null}function Sf(r){var s=Ha.current;Je(Ha),r._currentValue=s}function Ef(r,s,u){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===u)break;r=r.return}}function fo(r,s){Wa=r,kf=co=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&s&&(_n=!0),r.firstContext=null)}function tr(r){var s=r._currentValue;if(kf!==r)if(r={context:r,memoizedValue:s,next:null},co===null){if(Wa===null)throw Error(n(308));co=r,Wa.dependencies={lanes:0,firstContext:r}}else co=co.next=r;return s}var hs=null;function Cf(r){hs===null?hs=[r]:hs.push(r)}function wg(r,s,u,h){var p=s.interleaved;return p===null?(u.next=u,Cf(s)):(u.next=p.next,p.next=u),s.interleaved=u,li(r,h)}function li(r,s){r.lanes|=s;var u=r.alternate;for(u!==null&&(u.lanes|=s),u=r,r=r.return;r!==null;)r.childLanes|=s,u=r.alternate,u!==null&&(u.childLanes|=s),u=r,r=r.return;return u.tag===3?u.stateNode:null}var Li=!1;function Rf(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kg(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function ai(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function Fi(r,s,u){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,De&2){var p=h.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),h.pending=s,li(r,u)}return p=h.interleaved,p===null?(s.next=s,Cf(h)):(s.next=p.next,p.next=s),h.interleaved=s,li(r,u)}function Ya(r,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194240)!==0)){var h=s.lanes;h&=r.pendingLanes,u|=h,s.lanes=u,Bc(r,u)}}function bg(r,s){var u=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var p=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var R={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};v===null?p=v=R:v=v.next=R,u=u.next}while(u!==null);v===null?p=v=s:v=v.next=s}else p=v=s;u={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:v,shared:h.shared,effects:h.effects},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=s:r.next=s,u.lastBaseUpdate=s}function Xa(r,s,u,h){var p=r.updateQueue;Li=!1;var v=p.firstBaseUpdate,R=p.lastBaseUpdate,O=p.shared.pending;if(O!==null){p.shared.pending=null;var F=O,H=F.next;F.next=null,R===null?v=H:R.next=H,R=F;var ie=r.alternate;ie!==null&&(ie=ie.updateQueue,O=ie.lastBaseUpdate,O!==R&&(O===null?ie.firstBaseUpdate=H:O.next=H,ie.lastBaseUpdate=F))}if(v!==null){var le=p.baseState;R=0,ie=H=F=null,O=v;do{var ne=O.lane,me=O.eventTime;if((h&ne)===ne){ie!==null&&(ie=ie.next={eventTime:me,lane:0,tag:O.tag,payload:O.payload,callback:O.callback,next:null});e:{var ve=r,ke=O;switch(ne=s,me=u,ke.tag){case 1:if(ve=ke.payload,typeof ve=="function"){le=ve.call(me,le,ne);break e}le=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=ke.payload,ne=typeof ve=="function"?ve.call(me,le,ne):ve,ne==null)break e;le=G({},le,ne);break e;case 2:Li=!0}}O.callback!==null&&O.lane!==0&&(r.flags|=64,ne=p.effects,ne===null?p.effects=[O]:ne.push(O))}else me={eventTime:me,lane:ne,tag:O.tag,payload:O.payload,callback:O.callback,next:null},ie===null?(H=ie=me,F=le):ie=ie.next=me,R|=ne;if(O=O.next,O===null){if(O=p.shared.pending,O===null)break;ne=O,O=ne.next,ne.next=null,p.lastBaseUpdate=ne,p.shared.pending=null}}while(!0);if(ie===null&&(F=le),p.baseState=F,p.firstBaseUpdate=H,p.lastBaseUpdate=ie,s=p.shared.interleaved,s!==null){p=s;do R|=p.lane,p=p.next;while(p!==s)}else v===null&&(p.shared.lanes=0);gs|=R,r.lanes=R,r.memoizedState=le}}function Sg(r,s,u){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var h=r[s],p=h.callback;if(p!==null){if(h.callback=null,h=u,typeof p!="function")throw Error(n(191,p));p.call(h)}}}var kl={},Pr=Ai(kl),bl=Ai(kl),Sl=Ai(kl);function ds(r){if(r===kl)throw Error(n(174));return r}function Tf(r,s){switch(qe(Sl,s),qe(bl,r),qe(Pr,kl),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:qn(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=qn(s,r)}Je(Pr),qe(Pr,s)}function ho(){Je(Pr),Je(bl),Je(Sl)}function Eg(r){ds(Sl.current);var s=ds(Pr.current),u=qn(s,r.type);s!==u&&(qe(bl,r),qe(Pr,u))}function Mf(r){bl.current===r&&(Je(Pr),Je(bl))}var ot=Ai(0);function Ka(r){for(var s=r;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Af=[];function Pf(){for(var r=0;r<Af.length;r++)Af[r]._workInProgressVersionPrimary=null;Af.length=0}var qa=M.ReactCurrentDispatcher,Of=M.ReactCurrentBatchConfig,ps=0,lt=null,kt=null,Pt=null,Ga=!1,El=!1,Cl=0,Fx=0;function Wt(){throw Error(n(321))}function Lf(r,s){if(s===null)return!1;for(var u=0;u<s.length&&u<r.length;u++)if(!dr(r[u],s[u]))return!1;return!0}function Ff(r,s,u,h,p,v){if(ps=v,lt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,qa.current=r===null||r.memoizedState===null?Dx:zx,r=u(h,p),El){v=0;do{if(El=!1,Cl=0,25<=v)throw Error(n(301));v+=1,Pt=kt=null,s.updateQueue=null,qa.current=Bx,r=u(h,p)}while(El)}if(qa.current=Ja,s=kt!==null&&kt.next!==null,ps=0,Pt=kt=lt=null,Ga=!1,s)throw Error(n(300));return r}function Nf(){var r=Cl!==0;return Cl=0,r}function Or(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?lt.memoizedState=Pt=r:Pt=Pt.next=r,Pt}function nr(){if(kt===null){var r=lt.alternate;r=r!==null?r.memoizedState:null}else r=kt.next;var s=Pt===null?lt.memoizedState:Pt.next;if(s!==null)Pt=s,kt=r;else{if(r===null)throw Error(n(310));kt=r,r={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},Pt===null?lt.memoizedState=Pt=r:Pt=Pt.next=r}return Pt}function Rl(r,s){return typeof s=="function"?s(r):s}function If(r){var s=nr(),u=s.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=r;var h=kt,p=h.baseQueue,v=u.pending;if(v!==null){if(p!==null){var R=p.next;p.next=v.next,v.next=R}h.baseQueue=p=v,u.pending=null}if(p!==null){v=p.next,h=h.baseState;var O=R=null,F=null,H=v;do{var ie=H.lane;if((ps&ie)===ie)F!==null&&(F=F.next={lane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),h=H.hasEagerState?H.eagerState:r(h,H.action);else{var le={lane:ie,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null};F===null?(O=F=le,R=h):F=F.next=le,lt.lanes|=ie,gs|=ie}H=H.next}while(H!==null&&H!==v);F===null?R=h:F.next=O,dr(h,s.memoizedState)||(_n=!0),s.memoizedState=h,s.baseState=R,s.baseQueue=F,u.lastRenderedState=h}if(r=u.interleaved,r!==null){p=r;do v=p.lane,lt.lanes|=v,gs|=v,p=p.next;while(p!==r)}else p===null&&(u.lanes=0);return[s.memoizedState,u.dispatch]}function jf(r){var s=nr(),u=s.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=r;var h=u.dispatch,p=u.pending,v=s.memoizedState;if(p!==null){u.pending=null;var R=p=p.next;do v=r(v,R.action),R=R.next;while(R!==p);dr(v,s.memoizedState)||(_n=!0),s.memoizedState=v,s.baseQueue===null&&(s.baseState=v),u.lastRenderedState=v}return[v,h]}function Cg(){}function Rg(r,s){var u=lt,h=nr(),p=s(),v=!dr(h.memoizedState,p);if(v&&(h.memoizedState=p,_n=!0),h=h.queue,Df(Ag.bind(null,u,h,r),[r]),h.getSnapshot!==s||v||Pt!==null&&Pt.memoizedState.tag&1){if(u.flags|=2048,Tl(9,Mg.bind(null,u,h,p,s),void 0,null),Ot===null)throw Error(n(349));ps&30||Tg(u,s,p)}return p}function Tg(r,s,u){r.flags|=16384,r={getSnapshot:s,value:u},s=lt.updateQueue,s===null?(s={lastEffect:null,stores:null},lt.updateQueue=s,s.stores=[r]):(u=s.stores,u===null?s.stores=[r]:u.push(r))}function Mg(r,s,u,h){s.value=u,s.getSnapshot=h,Pg(s)&&Og(r)}function Ag(r,s,u){return u(function(){Pg(s)&&Og(r)})}function Pg(r){var s=r.getSnapshot;r=r.value;try{var u=s();return!dr(r,u)}catch{return!0}}function Og(r){var s=li(r,1);s!==null&&_r(s,r,1,-1)}function Lg(r){var s=Or();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rl,lastRenderedState:r},s.queue=r,r=r.dispatch=jx.bind(null,lt,r),[s.memoizedState,r]}function Tl(r,s,u,h){return r={tag:r,create:s,destroy:u,deps:h,next:null},s=lt.updateQueue,s===null?(s={lastEffect:null,stores:null},lt.updateQueue=s,s.lastEffect=r.next=r):(u=s.lastEffect,u===null?s.lastEffect=r.next=r:(h=u.next,u.next=r,r.next=h,s.lastEffect=r)),r}function Fg(){return nr().memoizedState}function Qa(r,s,u,h){var p=Or();lt.flags|=r,p.memoizedState=Tl(1|s,u,void 0,h===void 0?null:h)}function Za(r,s,u,h){var p=nr();h=h===void 0?null:h;var v=void 0;if(kt!==null){var R=kt.memoizedState;if(v=R.destroy,h!==null&&Lf(h,R.deps)){p.memoizedState=Tl(s,u,v,h);return}}lt.flags|=r,p.memoizedState=Tl(1|s,u,v,h)}function Ng(r,s){return Qa(8390656,8,r,s)}function Df(r,s){return Za(2048,8,r,s)}function Ig(r,s){return Za(4,2,r,s)}function jg(r,s){return Za(4,4,r,s)}function Dg(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function zg(r,s,u){return u=u!=null?u.concat([r]):null,Za(4,4,Dg.bind(null,s,r),u)}function zf(){}function Bg(r,s){var u=nr();s=s===void 0?null:s;var h=u.memoizedState;return h!==null&&s!==null&&Lf(s,h[1])?h[0]:(u.memoizedState=[r,s],r)}function $g(r,s){var u=nr();s=s===void 0?null:s;var h=u.memoizedState;return h!==null&&s!==null&&Lf(s,h[1])?h[0]:(r=r(),u.memoizedState=[r,s],r)}function Ug(r,s,u){return ps&21?(dr(u,s)||(u=_p(),lt.lanes|=u,gs|=u,r.baseState=!0),s):(r.baseState&&(r.baseState=!1,_n=!0),r.memoizedState=u)}function Nx(r,s){var u=Ye;Ye=u!==0&&4>u?u:4,r(!0);var h=Of.transition;Of.transition={};try{r(!1),s()}finally{Ye=u,Of.transition=h}}function Vg(){return nr().memoizedState}function Ix(r,s,u){var h=Di(r);if(u={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null},Hg(r))Wg(s,u);else if(u=wg(r,s,u,h),u!==null){var p=ln();_r(u,r,h,p),Yg(u,s,h)}}function jx(r,s,u){var h=Di(r),p={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null};if(Hg(r))Wg(s,p);else{var v=r.alternate;if(r.lanes===0&&(v===null||v.lanes===0)&&(v=s.lastRenderedReducer,v!==null))try{var R=s.lastRenderedState,O=v(R,u);if(p.hasEagerState=!0,p.eagerState=O,dr(O,R)){var F=s.interleaved;F===null?(p.next=p,Cf(s)):(p.next=F.next,F.next=p),s.interleaved=p;return}}catch{}finally{}u=wg(r,s,p,h),u!==null&&(p=ln(),_r(u,r,h,p),Yg(u,s,h))}}function Hg(r){var s=r.alternate;return r===lt||s!==null&&s===lt}function Wg(r,s){El=Ga=!0;var u=r.pending;u===null?s.next=s:(s.next=u.next,u.next=s),r.pending=s}function Yg(r,s,u){if(u&4194240){var h=s.lanes;h&=r.pendingLanes,u|=h,s.lanes=u,Bc(r,u)}}var Ja={readContext:tr,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useInsertionEffect:Wt,useLayoutEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useMutableSource:Wt,useSyncExternalStore:Wt,useId:Wt,unstable_isNewReconciler:!1},Dx={readContext:tr,useCallback:function(r,s){return Or().memoizedState=[r,s===void 0?null:s],r},useContext:tr,useEffect:Ng,useImperativeHandle:function(r,s,u){return u=u!=null?u.concat([r]):null,Qa(4194308,4,Dg.bind(null,s,r),u)},useLayoutEffect:function(r,s){return Qa(4194308,4,r,s)},useInsertionEffect:function(r,s){return Qa(4,2,r,s)},useMemo:function(r,s){var u=Or();return s=s===void 0?null:s,r=r(),u.memoizedState=[r,s],r},useReducer:function(r,s,u){var h=Or();return s=u!==void 0?u(s):s,h.memoizedState=h.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},h.queue=r,r=r.dispatch=Ix.bind(null,lt,r),[h.memoizedState,r]},useRef:function(r){var s=Or();return r={current:r},s.memoizedState=r},useState:Lg,useDebugValue:zf,useDeferredValue:function(r){return Or().memoizedState=r},useTransition:function(){var r=Lg(!1),s=r[0];return r=Nx.bind(null,r[1]),Or().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,u){var h=lt,p=Or();if(nt){if(u===void 0)throw Error(n(407));u=u()}else{if(u=s(),Ot===null)throw Error(n(349));ps&30||Tg(h,s,u)}p.memoizedState=u;var v={value:u,getSnapshot:s};return p.queue=v,Ng(Ag.bind(null,h,v,r),[r]),h.flags|=2048,Tl(9,Mg.bind(null,h,v,u,s),void 0,null),u},useId:function(){var r=Or(),s=Ot.identifierPrefix;if(nt){var u=oi,h=si;u=(h&~(1<<32-vt(h)-1)).toString(32)+u,s=":"+s+"R"+u,u=Cl++,0<u&&(s+="H"+u.toString(32)),s+=":"}else u=Fx++,s=":"+s+"r"+u.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},zx={readContext:tr,useCallback:Bg,useContext:tr,useEffect:Df,useImperativeHandle:zg,useInsertionEffect:Ig,useLayoutEffect:jg,useMemo:$g,useReducer:If,useRef:Fg,useState:function(){return If(Rl)},useDebugValue:zf,useDeferredValue:function(r){var s=nr();return Ug(s,kt.memoizedState,r)},useTransition:function(){var r=If(Rl)[0],s=nr().memoizedState;return[r,s]},useMutableSource:Cg,useSyncExternalStore:Rg,useId:Vg,unstable_isNewReconciler:!1},Bx={readContext:tr,useCallback:Bg,useContext:tr,useEffect:Df,useImperativeHandle:zg,useInsertionEffect:Ig,useLayoutEffect:jg,useMemo:$g,useReducer:jf,useRef:Fg,useState:function(){return jf(Rl)},useDebugValue:zf,useDeferredValue:function(r){var s=nr();return kt===null?s.memoizedState=r:Ug(s,kt.memoizedState,r)},useTransition:function(){var r=jf(Rl)[0],s=nr().memoizedState;return[r,s]},useMutableSource:Cg,useSyncExternalStore:Rg,useId:Vg,unstable_isNewReconciler:!1};function gr(r,s){if(r&&r.defaultProps){s=G({},s),r=r.defaultProps;for(var u in r)s[u]===void 0&&(s[u]=r[u]);return s}return s}function Bf(r,s,u,h){s=r.memoizedState,u=u(h,s),u=u==null?s:G({},s,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var eu={isMounted:function(r){return(r=r._reactInternals)?ni(r)===r:!1},enqueueSetState:function(r,s,u){r=r._reactInternals;var h=ln(),p=Di(r),v=ai(h,p);v.payload=s,u!=null&&(v.callback=u),s=Fi(r,v,p),s!==null&&(_r(s,r,p,h),Ya(s,r,p))},enqueueReplaceState:function(r,s,u){r=r._reactInternals;var h=ln(),p=Di(r),v=ai(h,p);v.tag=1,v.payload=s,u!=null&&(v.callback=u),s=Fi(r,v,p),s!==null&&(_r(s,r,p,h),Ya(s,r,p))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var u=ln(),h=Di(r),p=ai(u,h);p.tag=2,s!=null&&(p.callback=s),s=Fi(r,p,h),s!==null&&(_r(s,r,h,u),Ya(s,r,h))}};function Xg(r,s,u,h,p,v,R){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,v,R):s.prototype&&s.prototype.isPureReactComponent?!pl(u,h)||!pl(p,v):!0}function Kg(r,s,u){var h=!1,p=Pi,v=s.contextType;return typeof v=="object"&&v!==null?v=tr(v):(p=yn(s)?us:Ht.current,h=s.contextTypes,v=(h=h!=null)?so(r,p):Pi),s=new s(u,v),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=eu,r.stateNode=s,s._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=p,r.__reactInternalMemoizedMaskedChildContext=v),s}function qg(r,s,u,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,h),s.state!==r&&eu.enqueueReplaceState(s,s.state,null)}function $f(r,s,u,h){var p=r.stateNode;p.props=u,p.state=r.memoizedState,p.refs={},Rf(r);var v=s.contextType;typeof v=="object"&&v!==null?p.context=tr(v):(v=yn(s)?us:Ht.current,p.context=so(r,v)),p.state=r.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(Bf(r,s,v,u),p.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(s=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),s!==p.state&&eu.enqueueReplaceState(p,p.state,null),Xa(r,u,p,h),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308)}function po(r,s){try{var u="",h=s;do u+=oe(h),h=h.return;while(h);var p=u}catch(v){p=`
Error generating stack: `+v.message+`
`+v.stack}return{value:r,source:s,stack:p,digest:null}}function Uf(r,s,u){return{value:r,source:null,stack:u??null,digest:s??null}}function Vf(r,s){try{console.error(s.value)}catch(u){setTimeout(function(){throw u})}}var $x=typeof WeakMap=="function"?WeakMap:Map;function Gg(r,s,u){u=ai(-1,u),u.tag=3,u.payload={element:null};var h=s.value;return u.callback=function(){lu||(lu=!0,ih=h),Vf(r,s)},u}function Qg(r,s,u){u=ai(-1,u),u.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var p=s.value;u.payload=function(){return h(p)},u.callback=function(){Vf(r,s)}}var v=r.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(u.callback=function(){Vf(r,s),typeof h!="function"&&(Ii===null?Ii=new Set([this]):Ii.add(this));var R=s.stack;this.componentDidCatch(s.value,{componentStack:R!==null?R:""})}),u}function Zg(r,s,u){var h=r.pingCache;if(h===null){h=r.pingCache=new $x;var p=new Set;h.set(s,p)}else p=h.get(s),p===void 0&&(p=new Set,h.set(s,p));p.has(u)||(p.add(u),r=tw.bind(null,r,s,u),s.then(r,r))}function Jg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function em(r,s,u,h,p){return r.mode&1?(r.flags|=65536,r.lanes=p,r):(r===s?r.flags|=65536:(r.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(s=ai(-1,1),s.tag=2,Fi(u,s,1))),u.lanes|=1),r)}var Ux=M.ReactCurrentOwner,_n=!1;function on(r,s,u,h){s.child=r===null?xg(s,null,u,h):uo(s,r.child,u,h)}function tm(r,s,u,h,p){u=u.render;var v=s.ref;return fo(s,p),h=Ff(r,s,u,h,v,p),u=Nf(),r!==null&&!_n?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,ui(r,s,p)):(nt&&u&&yf(s),s.flags|=1,on(r,s,h,p),s.child)}function nm(r,s,u,h,p){if(r===null){var v=u.type;return typeof v=="function"&&!fh(v)&&v.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(s.tag=15,s.type=v,rm(r,s,v,h,p)):(r=du(u.type,null,h,s,s.mode,p),r.ref=s.ref,r.return=s,s.child=r)}if(v=r.child,!(r.lanes&p)){var R=v.memoizedProps;if(u=u.compare,u=u!==null?u:pl,u(R,h)&&r.ref===s.ref)return ui(r,s,p)}return s.flags|=1,r=Bi(v,h),r.ref=s.ref,r.return=s,s.child=r}function rm(r,s,u,h,p){if(r!==null){var v=r.memoizedProps;if(pl(v,h)&&r.ref===s.ref)if(_n=!1,s.pendingProps=h=v,(r.lanes&p)!==0)r.flags&131072&&(_n=!0);else return s.lanes=r.lanes,ui(r,s,p)}return Hf(r,s,u,h,p)}function im(r,s,u){var h=s.pendingProps,p=h.children,v=r!==null?r.memoizedState:null;if(h.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(mo,Dn),Dn|=u;else{if(!(u&1073741824))return r=v!==null?v.baseLanes|u:u,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,qe(mo,Dn),Dn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=v!==null?v.baseLanes:u,qe(mo,Dn),Dn|=h}else v!==null?(h=v.baseLanes|u,s.memoizedState=null):h=u,qe(mo,Dn),Dn|=h;return on(r,s,p,u),s.child}function sm(r,s){var u=s.ref;(r===null&&u!==null||r!==null&&r.ref!==u)&&(s.flags|=512,s.flags|=2097152)}function Hf(r,s,u,h,p){var v=yn(u)?us:Ht.current;return v=so(s,v),fo(s,p),u=Ff(r,s,u,h,v,p),h=Nf(),r!==null&&!_n?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,ui(r,s,p)):(nt&&h&&yf(s),s.flags|=1,on(r,s,u,p),s.child)}function om(r,s,u,h,p){if(yn(u)){var v=!0;Da(s)}else v=!1;if(fo(s,p),s.stateNode===null)nu(r,s),Kg(s,u,h),$f(s,u,h,p),h=!0;else if(r===null){var R=s.stateNode,O=s.memoizedProps;R.props=O;var F=R.context,H=u.contextType;typeof H=="object"&&H!==null?H=tr(H):(H=yn(u)?us:Ht.current,H=so(s,H));var ie=u.getDerivedStateFromProps,le=typeof ie=="function"||typeof R.getSnapshotBeforeUpdate=="function";le||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(O!==h||F!==H)&&qg(s,R,h,H),Li=!1;var ne=s.memoizedState;R.state=ne,Xa(s,h,R,p),F=s.memoizedState,O!==h||ne!==F||mn.current||Li?(typeof ie=="function"&&(Bf(s,u,ie,h),F=s.memoizedState),(O=Li||Xg(s,u,O,h,ne,F,H))?(le||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(s.flags|=4194308)):(typeof R.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=F),R.props=h,R.state=F,R.context=H,h=O):(typeof R.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{R=s.stateNode,kg(r,s),O=s.memoizedProps,H=s.type===s.elementType?O:gr(s.type,O),R.props=H,le=s.pendingProps,ne=R.context,F=u.contextType,typeof F=="object"&&F!==null?F=tr(F):(F=yn(u)?us:Ht.current,F=so(s,F));var me=u.getDerivedStateFromProps;(ie=typeof me=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(O!==le||ne!==F)&&qg(s,R,h,F),Li=!1,ne=s.memoizedState,R.state=ne,Xa(s,h,R,p);var ve=s.memoizedState;O!==le||ne!==ve||mn.current||Li?(typeof me=="function"&&(Bf(s,u,me,h),ve=s.memoizedState),(H=Li||Xg(s,u,H,h,ne,ve,F)||!1)?(ie||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(h,ve,F),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(h,ve,F)),typeof R.componentDidUpdate=="function"&&(s.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof R.componentDidUpdate!="function"||O===r.memoizedProps&&ne===r.memoizedState||(s.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||O===r.memoizedProps&&ne===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=ve),R.props=h,R.state=ve,R.context=F,h=H):(typeof R.componentDidUpdate!="function"||O===r.memoizedProps&&ne===r.memoizedState||(s.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||O===r.memoizedProps&&ne===r.memoizedState||(s.flags|=1024),h=!1)}return Wf(r,s,u,h,v,p)}function Wf(r,s,u,h,p,v){sm(r,s);var R=(s.flags&128)!==0;if(!h&&!R)return p&&fg(s,u,!1),ui(r,s,v);h=s.stateNode,Ux.current=s;var O=R&&typeof u.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,r!==null&&R?(s.child=uo(s,r.child,null,v),s.child=uo(s,null,O,v)):on(r,s,O,v),s.memoizedState=h.state,p&&fg(s,u,!0),s.child}function lm(r){var s=r.stateNode;s.pendingContext?ug(r,s.pendingContext,s.pendingContext!==s.context):s.context&&ug(r,s.context,!1),Tf(r,s.containerInfo)}function am(r,s,u,h,p){return ao(),wf(p),s.flags|=256,on(r,s,u,h),s.child}var Yf={dehydrated:null,treeContext:null,retryLane:0};function Xf(r){return{baseLanes:r,cachePool:null,transitions:null}}function um(r,s,u){var h=s.pendingProps,p=ot.current,v=!1,R=(s.flags&128)!==0,O;if((O=R)||(O=r!==null&&r.memoizedState===null?!1:(p&2)!==0),O?(v=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(p|=1),qe(ot,p&1),r===null)return xf(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(s.mode&1?r.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(R=h.children,r=h.fallback,v?(h=s.mode,v=s.child,R={mode:"hidden",children:R},!(h&1)&&v!==null?(v.childLanes=0,v.pendingProps=R):v=pu(R,h,0,null),r=vs(r,h,u,null),v.return=s,r.return=s,v.sibling=r,s.child=v,s.child.memoizedState=Xf(u),s.memoizedState=Yf,r):Kf(s,R));if(p=r.memoizedState,p!==null&&(O=p.dehydrated,O!==null))return Vx(r,s,R,h,O,p,u);if(v){v=h.fallback,R=s.mode,p=r.child,O=p.sibling;var F={mode:"hidden",children:h.children};return!(R&1)&&s.child!==p?(h=s.child,h.childLanes=0,h.pendingProps=F,s.deletions=null):(h=Bi(p,F),h.subtreeFlags=p.subtreeFlags&14680064),O!==null?v=Bi(O,v):(v=vs(v,R,u,null),v.flags|=2),v.return=s,h.return=s,h.sibling=v,s.child=h,h=v,v=s.child,R=r.child.memoizedState,R=R===null?Xf(u):{baseLanes:R.baseLanes|u,cachePool:null,transitions:R.transitions},v.memoizedState=R,v.childLanes=r.childLanes&~u,s.memoizedState=Yf,h}return v=r.child,r=v.sibling,h=Bi(v,{mode:"visible",children:h.children}),!(s.mode&1)&&(h.lanes=u),h.return=s,h.sibling=null,r!==null&&(u=s.deletions,u===null?(s.deletions=[r],s.flags|=16):u.push(r)),s.child=h,s.memoizedState=null,h}function Kf(r,s){return s=pu({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function tu(r,s,u,h){return h!==null&&wf(h),uo(s,r.child,null,u),r=Kf(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function Vx(r,s,u,h,p,v,R){if(u)return s.flags&256?(s.flags&=-257,h=Uf(Error(n(422))),tu(r,s,R,h)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(v=h.fallback,p=s.mode,h=pu({mode:"visible",children:h.children},p,0,null),v=vs(v,p,R,null),v.flags|=2,h.return=s,v.return=s,h.sibling=v,s.child=h,s.mode&1&&uo(s,r.child,null,R),s.child.memoizedState=Xf(R),s.memoizedState=Yf,v);if(!(s.mode&1))return tu(r,s,R,null);if(p.data==="$!"){if(h=p.nextSibling&&p.nextSibling.dataset,h)var O=h.dgst;return h=O,v=Error(n(419)),h=Uf(v,h,void 0),tu(r,s,R,h)}if(O=(R&r.childLanes)!==0,_n||O){if(h=Ot,h!==null){switch(R&-R){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=p&(h.suspendedLanes|R)?0:p,p!==0&&p!==v.retryLane&&(v.retryLane=p,li(r,p),_r(h,r,p,-1))}return ch(),h=Uf(Error(n(421))),tu(r,s,R,h)}return p.data==="$?"?(s.flags|=128,s.child=r.child,s=nw.bind(null,r),p._reactRetry=s,null):(r=v.treeContext,jn=Mi(p.nextSibling),In=s,nt=!0,pr=null,r!==null&&(Jn[er++]=si,Jn[er++]=oi,Jn[er++]=cs,si=r.id,oi=r.overflow,cs=s),s=Kf(s,h.children),s.flags|=4096,s)}function cm(r,s,u){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),Ef(r.return,s,u)}function qf(r,s,u,h,p){var v=r.memoizedState;v===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:p}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=h,v.tail=u,v.tailMode=p)}function fm(r,s,u){var h=s.pendingProps,p=h.revealOrder,v=h.tail;if(on(r,s,h.children,u),h=ot.current,h&2)h=h&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&cm(r,u,s);else if(r.tag===19)cm(r,u,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(qe(ot,h),!(s.mode&1))s.memoizedState=null;else switch(p){case"forwards":for(u=s.child,p=null;u!==null;)r=u.alternate,r!==null&&Ka(r)===null&&(p=u),u=u.sibling;u=p,u===null?(p=s.child,s.child=null):(p=u.sibling,u.sibling=null),qf(s,!1,p,u,v);break;case"backwards":for(u=null,p=s.child,s.child=null;p!==null;){if(r=p.alternate,r!==null&&Ka(r)===null){s.child=p;break}r=p.sibling,p.sibling=u,u=p,p=r}qf(s,!0,u,null,v);break;case"together":qf(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function nu(r,s){!(s.mode&1)&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function ui(r,s,u){if(r!==null&&(s.dependencies=r.dependencies),gs|=s.lanes,!(u&s.childLanes))return null;if(r!==null&&s.child!==r.child)throw Error(n(153));if(s.child!==null){for(r=s.child,u=Bi(r,r.pendingProps),s.child=u,u.return=s;r.sibling!==null;)r=r.sibling,u=u.sibling=Bi(r,r.pendingProps),u.return=s;u.sibling=null}return s.child}function Hx(r,s,u){switch(s.tag){case 3:lm(s),ao();break;case 5:Eg(s);break;case 1:yn(s.type)&&Da(s);break;case 4:Tf(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,p=s.memoizedProps.value;qe(Ha,h._currentValue),h._currentValue=p;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(qe(ot,ot.current&1),s.flags|=128,null):u&s.child.childLanes?um(r,s,u):(qe(ot,ot.current&1),r=ui(r,s,u),r!==null?r.sibling:null);qe(ot,ot.current&1);break;case 19:if(h=(u&s.childLanes)!==0,r.flags&128){if(h)return fm(r,s,u);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),qe(ot,ot.current),h)break;return null;case 22:case 23:return s.lanes=0,im(r,s,u)}return ui(r,s,u)}var hm,Gf,dm,pm;hm=function(r,s){for(var u=s.child;u!==null;){if(u.tag===5||u.tag===6)r.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Gf=function(){},dm=function(r,s,u,h){var p=r.memoizedProps;if(p!==h){r=s.stateNode,ds(Pr.current);var v=null;switch(u){case"input":p=Mt(r,p),h=Mt(r,h),v=[];break;case"select":p=G({},p,{value:void 0}),h=G({},h,{value:void 0}),v=[];break;case"textarea":p=Tr(r,p),h=Tr(r,h),v=[];break;default:typeof p.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=Na)}vi(u,h);var R;u=null;for(H in p)if(!h.hasOwnProperty(H)&&p.hasOwnProperty(H)&&p[H]!=null)if(H==="style"){var O=p[H];for(R in O)O.hasOwnProperty(R)&&(u||(u={}),u[R]="")}else H!=="dangerouslySetInnerHTML"&&H!=="children"&&H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(o.hasOwnProperty(H)?v||(v=[]):(v=v||[]).push(H,null));for(H in h){var F=h[H];if(O=p!=null?p[H]:void 0,h.hasOwnProperty(H)&&F!==O&&(F!=null||O!=null))if(H==="style")if(O){for(R in O)!O.hasOwnProperty(R)||F&&F.hasOwnProperty(R)||(u||(u={}),u[R]="");for(R in F)F.hasOwnProperty(R)&&O[R]!==F[R]&&(u||(u={}),u[R]=F[R])}else u||(v||(v=[]),v.push(H,u)),u=F;else H==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,O=O?O.__html:void 0,F!=null&&O!==F&&(v=v||[]).push(H,F)):H==="children"?typeof F!="string"&&typeof F!="number"||(v=v||[]).push(H,""+F):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&(o.hasOwnProperty(H)?(F!=null&&H==="onScroll"&&Ze("scroll",r),v||O===F||(v=[])):(v=v||[]).push(H,F))}u&&(v=v||[]).push("style",u);var H=v;(s.updateQueue=H)&&(s.flags|=4)}},pm=function(r,s,u,h){u!==h&&(s.flags|=4)};function Ml(r,s){if(!nt)switch(r.tailMode){case"hidden":s=r.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function Yt(r){var s=r.alternate!==null&&r.alternate.child===r.child,u=0,h=0;if(s)for(var p=r.child;p!==null;)u|=p.lanes|p.childLanes,h|=p.subtreeFlags&14680064,h|=p.flags&14680064,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)u|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=h,r.childLanes=u,s}function Wx(r,s,u){var h=s.pendingProps;switch(_f(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(s),null;case 1:return yn(s.type)&&ja(),Yt(s),null;case 3:return h=s.stateNode,ho(),Je(mn),Je(Ht),Pf(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(Ua(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,pr!==null&&(lh(pr),pr=null))),Gf(r,s),Yt(s),null;case 5:Mf(s);var p=ds(Sl.current);if(u=s.type,r!==null&&s.stateNode!=null)dm(r,s,u,h,p),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(n(166));return Yt(s),null}if(r=ds(Pr.current),Ua(s)){h=s.stateNode,u=s.type;var v=s.memoizedProps;switch(h[Ar]=s,h[vl]=v,r=(s.mode&1)!==0,u){case"dialog":Ze("cancel",h),Ze("close",h);break;case"iframe":case"object":case"embed":Ze("load",h);break;case"video":case"audio":for(p=0;p<ml.length;p++)Ze(ml[p],h);break;case"source":Ze("error",h);break;case"img":case"image":case"link":Ze("error",h),Ze("load",h);break;case"details":Ze("toggle",h);break;case"input":gt(h,v),Ze("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!v.multiple},Ze("invalid",h);break;case"textarea":Pn(h,v),Ze("invalid",h)}vi(u,v),p=null;for(var R in v)if(v.hasOwnProperty(R)){var O=v[R];R==="children"?typeof O=="string"?h.textContent!==O&&(v.suppressHydrationWarning!==!0&&Fa(h.textContent,O,r),p=["children",O]):typeof O=="number"&&h.textContent!==""+O&&(v.suppressHydrationWarning!==!0&&Fa(h.textContent,O,r),p=["children",""+O]):o.hasOwnProperty(R)&&O!=null&&R==="onScroll"&&Ze("scroll",h)}switch(u){case"input":He(h),Xn(h,v,!0);break;case"textarea":He(h),Mr(h);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(h.onclick=Na)}h=p,s.updateQueue=h,h!==null&&(s.flags|=4)}else{R=p.nodeType===9?p:p.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Zr(u)),r==="http://www.w3.org/1999/xhtml"?u==="script"?(r=R.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=R.createElement(u,{is:h.is}):(r=R.createElement(u),u==="select"&&(R=r,h.multiple?R.multiple=!0:h.size&&(R.size=h.size))):r=R.createElementNS(r,u),r[Ar]=s,r[vl]=h,hm(r,s,!1,!1),s.stateNode=r;e:{switch(R=Hs(u,h),u){case"dialog":Ze("cancel",r),Ze("close",r),p=h;break;case"iframe":case"object":case"embed":Ze("load",r),p=h;break;case"video":case"audio":for(p=0;p<ml.length;p++)Ze(ml[p],r);p=h;break;case"source":Ze("error",r),p=h;break;case"img":case"image":case"link":Ze("error",r),Ze("load",r),p=h;break;case"details":Ze("toggle",r),p=h;break;case"input":gt(r,h),p=Mt(r,h),Ze("invalid",r);break;case"option":p=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},p=G({},h,{value:void 0}),Ze("invalid",r);break;case"textarea":Pn(r,h),p=Tr(r,h),Ze("invalid",r);break;default:p=h}vi(u,p),O=p;for(v in O)if(O.hasOwnProperty(v)){var F=O[v];v==="style"?ca(r,F):v==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,F!=null&&sn(r,F)):v==="children"?typeof F=="string"?(u!=="textarea"||F!=="")&&Gn(r,F):typeof F=="number"&&Gn(r,""+F):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(o.hasOwnProperty(v)?F!=null&&v==="onScroll"&&Ze("scroll",r):F!=null&&C(r,v,F,R))}switch(u){case"input":He(r),Xn(r,h,!1);break;case"textarea":He(r),Mr(r);break;case"option":h.value!=null&&r.setAttribute("value",""+ee(h.value));break;case"select":r.multiple=!!h.multiple,v=h.value,v!=null?An(r,!!h.multiple,v,!1):h.defaultValue!=null&&An(r,!!h.multiple,h.defaultValue,!0);break;default:typeof p.onClick=="function"&&(r.onclick=Na)}switch(u){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Yt(s),null;case 6:if(r&&s.stateNode!=null)pm(r,s,r.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(n(166));if(u=ds(Sl.current),ds(Pr.current),Ua(s)){if(h=s.stateNode,u=s.memoizedProps,h[Ar]=s,(v=h.nodeValue!==u)&&(r=In,r!==null))switch(r.tag){case 3:Fa(h.nodeValue,u,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Fa(h.nodeValue,u,(r.mode&1)!==0)}v&&(s.flags|=4)}else h=(u.nodeType===9?u:u.ownerDocument).createTextNode(h),h[Ar]=s,s.stateNode=h}return Yt(s),null;case 13:if(Je(ot),h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(nt&&jn!==null&&s.mode&1&&!(s.flags&128))yg(),ao(),s.flags|=98560,v=!1;else if(v=Ua(s),h!==null&&h.dehydrated!==null){if(r===null){if(!v)throw Error(n(318));if(v=s.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[Ar]=s}else ao(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Yt(s),v=!1}else pr!==null&&(lh(pr),pr=null),v=!0;if(!v)return s.flags&65536?s:null}return s.flags&128?(s.lanes=u,s):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(s.child.flags|=8192,s.mode&1&&(r===null||ot.current&1?bt===0&&(bt=3):ch())),s.updateQueue!==null&&(s.flags|=4),Yt(s),null);case 4:return ho(),Gf(r,s),r===null&&yl(s.stateNode.containerInfo),Yt(s),null;case 10:return Sf(s.type._context),Yt(s),null;case 17:return yn(s.type)&&ja(),Yt(s),null;case 19:if(Je(ot),v=s.memoizedState,v===null)return Yt(s),null;if(h=(s.flags&128)!==0,R=v.rendering,R===null)if(h)Ml(v,!1);else{if(bt!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(R=Ka(r),R!==null){for(s.flags|=128,Ml(v,!1),h=R.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=u,u=s.child;u!==null;)v=u,r=h,v.flags&=14680066,R=v.alternate,R===null?(v.childLanes=0,v.lanes=r,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=R.childLanes,v.lanes=R.lanes,v.child=R.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=R.memoizedProps,v.memoizedState=R.memoizedState,v.updateQueue=R.updateQueue,v.type=R.type,r=R.dependencies,v.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),u=u.sibling;return qe(ot,ot.current&1|2),s.child}r=r.sibling}v.tail!==null&&ge()>yo&&(s.flags|=128,h=!0,Ml(v,!1),s.lanes=4194304)}else{if(!h)if(r=Ka(R),r!==null){if(s.flags|=128,h=!0,u=r.updateQueue,u!==null&&(s.updateQueue=u,s.flags|=4),Ml(v,!0),v.tail===null&&v.tailMode==="hidden"&&!R.alternate&&!nt)return Yt(s),null}else 2*ge()-v.renderingStartTime>yo&&u!==1073741824&&(s.flags|=128,h=!0,Ml(v,!1),s.lanes=4194304);v.isBackwards?(R.sibling=s.child,s.child=R):(u=v.last,u!==null?u.sibling=R:s.child=R,v.last=R)}return v.tail!==null?(s=v.tail,v.rendering=s,v.tail=s.sibling,v.renderingStartTime=ge(),s.sibling=null,u=ot.current,qe(ot,h?u&1|2:u&1),s):(Yt(s),null);case 22:case 23:return uh(),h=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(s.flags|=8192),h&&s.mode&1?Dn&1073741824&&(Yt(s),s.subtreeFlags&6&&(s.flags|=8192)):Yt(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function Yx(r,s){switch(_f(s),s.tag){case 1:return yn(s.type)&&ja(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return ho(),Je(mn),Je(Ht),Pf(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 5:return Mf(s),null;case 13:if(Je(ot),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(n(340));ao()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Je(ot),null;case 4:return ho(),null;case 10:return Sf(s.type._context),null;case 22:case 23:return uh(),null;case 24:return null;default:return null}}var ru=!1,Xt=!1,Xx=typeof WeakSet=="function"?WeakSet:Set,ye=null;function go(r,s){var u=r.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(h){dt(r,s,h)}else u.current=null}function Qf(r,s,u){try{u()}catch(h){dt(r,s,h)}}var gm=!1;function Kx(r,s){if(uf=ba,r=Xp(),ef(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else e:{u=(u=r.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var p=h.anchorOffset,v=h.focusNode;h=h.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break e}var R=0,O=-1,F=-1,H=0,ie=0,le=r,ne=null;t:for(;;){for(var me;le!==u||p!==0&&le.nodeType!==3||(O=R+p),le!==v||h!==0&&le.nodeType!==3||(F=R+h),le.nodeType===3&&(R+=le.nodeValue.length),(me=le.firstChild)!==null;)ne=le,le=me;for(;;){if(le===r)break t;if(ne===u&&++H===p&&(O=R),ne===v&&++ie===h&&(F=R),(me=le.nextSibling)!==null)break;le=ne,ne=le.parentNode}le=me}u=O===-1||F===-1?null:{start:O,end:F}}else u=null}u=u||{start:0,end:0}}else u=null;for(cf={focusedElem:r,selectionRange:u},ba=!1,ye=s;ye!==null;)if(s=ye,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,ye=r;else for(;ye!==null;){s=ye;try{var ve=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ve!==null){var ke=ve.memoizedProps,yt=ve.memoizedState,U=s.stateNode,I=U.getSnapshotBeforeUpdate(s.elementType===s.type?ke:gr(s.type,ke),yt);U.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var V=s.stateNode.containerInfo;V.nodeType===1?V.textContent="":V.nodeType===9&&V.documentElement&&V.removeChild(V.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(he){dt(s,s.return,he)}if(r=s.sibling,r!==null){r.return=s.return,ye=r;break}ye=s.return}return ve=gm,gm=!1,ve}function Al(r,s,u){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var p=h=h.next;do{if((p.tag&r)===r){var v=p.destroy;p.destroy=void 0,v!==void 0&&Qf(s,u,v)}p=p.next}while(p!==h)}}function iu(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var u=s=s.next;do{if((u.tag&r)===r){var h=u.create;u.destroy=h()}u=u.next}while(u!==s)}}function Zf(r){var s=r.ref;if(s!==null){var u=r.stateNode;switch(r.tag){case 5:r=u;break;default:r=u}typeof s=="function"?s(r):s.current=r}}function mm(r){var s=r.alternate;s!==null&&(r.alternate=null,mm(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[Ar],delete s[vl],delete s[pf],delete s[Ax],delete s[Px])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function ym(r){return r.tag===5||r.tag===3||r.tag===4}function _m(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||ym(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Jf(r,s,u){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?u.nodeType===8?u.parentNode.insertBefore(r,s):u.insertBefore(r,s):(u.nodeType===8?(s=u.parentNode,s.insertBefore(r,u)):(s=u,s.appendChild(r)),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=Na));else if(h!==4&&(r=r.child,r!==null))for(Jf(r,s,u),r=r.sibling;r!==null;)Jf(r,s,u),r=r.sibling}function eh(r,s,u){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?u.insertBefore(r,s):u.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(eh(r,s,u),r=r.sibling;r!==null;)eh(r,s,u),r=r.sibling}var Nt=null,mr=!1;function Ni(r,s,u){for(u=u.child;u!==null;)vm(r,s,u),u=u.sibling}function vm(r,s,u){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(gn,u)}catch{}switch(u.tag){case 5:Xt||go(u,s);case 6:var h=Nt,p=mr;Nt=null,Ni(r,s,u),Nt=h,mr=p,Nt!==null&&(mr?(r=Nt,u=u.stateNode,r.nodeType===8?r.parentNode.removeChild(u):r.removeChild(u)):Nt.removeChild(u.stateNode));break;case 18:Nt!==null&&(mr?(r=Nt,u=u.stateNode,r.nodeType===8?df(r.parentNode,u):r.nodeType===1&&df(r,u),al(r)):df(Nt,u.stateNode));break;case 4:h=Nt,p=mr,Nt=u.stateNode.containerInfo,mr=!0,Ni(r,s,u),Nt=h,mr=p;break;case 0:case 11:case 14:case 15:if(!Xt&&(h=u.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){p=h=h.next;do{var v=p,R=v.destroy;v=v.tag,R!==void 0&&(v&2||v&4)&&Qf(u,s,R),p=p.next}while(p!==h)}Ni(r,s,u);break;case 1:if(!Xt&&(go(u,s),h=u.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=u.memoizedProps,h.state=u.memoizedState,h.componentWillUnmount()}catch(O){dt(u,s,O)}Ni(r,s,u);break;case 21:Ni(r,s,u);break;case 22:u.mode&1?(Xt=(h=Xt)||u.memoizedState!==null,Ni(r,s,u),Xt=h):Ni(r,s,u);break;default:Ni(r,s,u)}}function xm(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var u=r.stateNode;u===null&&(u=r.stateNode=new Xx),s.forEach(function(h){var p=rw.bind(null,r,h);u.has(h)||(u.add(h),h.then(p,p))})}}function yr(r,s){var u=s.deletions;if(u!==null)for(var h=0;h<u.length;h++){var p=u[h];try{var v=r,R=s,O=R;e:for(;O!==null;){switch(O.tag){case 5:Nt=O.stateNode,mr=!1;break e;case 3:Nt=O.stateNode.containerInfo,mr=!0;break e;case 4:Nt=O.stateNode.containerInfo,mr=!0;break e}O=O.return}if(Nt===null)throw Error(n(160));vm(v,R,p),Nt=null,mr=!1;var F=p.alternate;F!==null&&(F.return=null),p.return=null}catch(H){dt(p,s,H)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)wm(s,r),s=s.sibling}function wm(r,s){var u=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(yr(s,r),Lr(r),h&4){try{Al(3,r,r.return),iu(3,r)}catch(ke){dt(r,r.return,ke)}try{Al(5,r,r.return)}catch(ke){dt(r,r.return,ke)}}break;case 1:yr(s,r),Lr(r),h&512&&u!==null&&go(u,u.return);break;case 5:if(yr(s,r),Lr(r),h&512&&u!==null&&go(u,u.return),r.flags&32){var p=r.stateNode;try{Gn(p,"")}catch(ke){dt(r,r.return,ke)}}if(h&4&&(p=r.stateNode,p!=null)){var v=r.memoizedProps,R=u!==null?u.memoizedProps:v,O=r.type,F=r.updateQueue;if(r.updateQueue=null,F!==null)try{O==="input"&&v.type==="radio"&&v.name!=null&&Ut(p,v),Hs(O,R);var H=Hs(O,v);for(R=0;R<F.length;R+=2){var ie=F[R],le=F[R+1];ie==="style"?ca(p,le):ie==="dangerouslySetInnerHTML"?sn(p,le):ie==="children"?Gn(p,le):C(p,ie,le,H)}switch(O){case"input":rn(p,v);break;case"textarea":pn(p,v);break;case"select":var ne=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!v.multiple;var me=v.value;me!=null?An(p,!!v.multiple,me,!1):ne!==!!v.multiple&&(v.defaultValue!=null?An(p,!!v.multiple,v.defaultValue,!0):An(p,!!v.multiple,v.multiple?[]:"",!1))}p[vl]=v}catch(ke){dt(r,r.return,ke)}}break;case 6:if(yr(s,r),Lr(r),h&4){if(r.stateNode===null)throw Error(n(162));p=r.stateNode,v=r.memoizedProps;try{p.nodeValue=v}catch(ke){dt(r,r.return,ke)}}break;case 3:if(yr(s,r),Lr(r),h&4&&u!==null&&u.memoizedState.isDehydrated)try{al(s.containerInfo)}catch(ke){dt(r,r.return,ke)}break;case 4:yr(s,r),Lr(r);break;case 13:yr(s,r),Lr(r),p=r.child,p.flags&8192&&(v=p.memoizedState!==null,p.stateNode.isHidden=v,!v||p.alternate!==null&&p.alternate.memoizedState!==null||(rh=ge())),h&4&&xm(r);break;case 22:if(ie=u!==null&&u.memoizedState!==null,r.mode&1?(Xt=(H=Xt)||ie,yr(s,r),Xt=H):yr(s,r),Lr(r),h&8192){if(H=r.memoizedState!==null,(r.stateNode.isHidden=H)&&!ie&&r.mode&1)for(ye=r,ie=r.child;ie!==null;){for(le=ye=ie;ye!==null;){switch(ne=ye,me=ne.child,ne.tag){case 0:case 11:case 14:case 15:Al(4,ne,ne.return);break;case 1:go(ne,ne.return);var ve=ne.stateNode;if(typeof ve.componentWillUnmount=="function"){h=ne,u=ne.return;try{s=h,ve.props=s.memoizedProps,ve.state=s.memoizedState,ve.componentWillUnmount()}catch(ke){dt(h,u,ke)}}break;case 5:go(ne,ne.return);break;case 22:if(ne.memoizedState!==null){Sm(le);continue}}me!==null?(me.return=ne,ye=me):Sm(le)}ie=ie.sibling}e:for(ie=null,le=r;;){if(le.tag===5){if(ie===null){ie=le;try{p=le.stateNode,H?(v=p.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(O=le.stateNode,F=le.memoizedProps.style,R=F!=null&&F.hasOwnProperty("display")?F.display:null,O.style.display=is("display",R))}catch(ke){dt(r,r.return,ke)}}}else if(le.tag===6){if(ie===null)try{le.stateNode.nodeValue=H?"":le.memoizedProps}catch(ke){dt(r,r.return,ke)}}else if((le.tag!==22&&le.tag!==23||le.memoizedState===null||le===r)&&le.child!==null){le.child.return=le,le=le.child;continue}if(le===r)break e;for(;le.sibling===null;){if(le.return===null||le.return===r)break e;ie===le&&(ie=null),le=le.return}ie===le&&(ie=null),le.sibling.return=le.return,le=le.sibling}}break;case 19:yr(s,r),Lr(r),h&4&&xm(r);break;case 21:break;default:yr(s,r),Lr(r)}}function Lr(r){var s=r.flags;if(s&2){try{e:{for(var u=r.return;u!==null;){if(ym(u)){var h=u;break e}u=u.return}throw Error(n(160))}switch(h.tag){case 5:var p=h.stateNode;h.flags&32&&(Gn(p,""),h.flags&=-33);var v=_m(r);eh(r,v,p);break;case 3:case 4:var R=h.stateNode.containerInfo,O=_m(r);Jf(r,O,R);break;default:throw Error(n(161))}}catch(F){dt(r,r.return,F)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function qx(r,s,u){ye=r,km(r)}function km(r,s,u){for(var h=(r.mode&1)!==0;ye!==null;){var p=ye,v=p.child;if(p.tag===22&&h){var R=p.memoizedState!==null||ru;if(!R){var O=p.alternate,F=O!==null&&O.memoizedState!==null||Xt;O=ru;var H=Xt;if(ru=R,(Xt=F)&&!H)for(ye=p;ye!==null;)R=ye,F=R.child,R.tag===22&&R.memoizedState!==null?Em(p):F!==null?(F.return=R,ye=F):Em(p);for(;v!==null;)ye=v,km(v),v=v.sibling;ye=p,ru=O,Xt=H}bm(r)}else p.subtreeFlags&8772&&v!==null?(v.return=p,ye=v):bm(r)}}function bm(r){for(;ye!==null;){var s=ye;if(s.flags&8772){var u=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Xt||iu(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!Xt)if(u===null)h.componentDidMount();else{var p=s.elementType===s.type?u.memoizedProps:gr(s.type,u.memoizedProps);h.componentDidUpdate(p,u.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var v=s.updateQueue;v!==null&&Sg(s,v,h);break;case 3:var R=s.updateQueue;if(R!==null){if(u=null,s.child!==null)switch(s.child.tag){case 5:u=s.child.stateNode;break;case 1:u=s.child.stateNode}Sg(s,R,u)}break;case 5:var O=s.stateNode;if(u===null&&s.flags&4){u=O;var F=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":F.autoFocus&&u.focus();break;case"img":F.src&&(u.src=F.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var H=s.alternate;if(H!==null){var ie=H.memoizedState;if(ie!==null){var le=ie.dehydrated;le!==null&&al(le)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Xt||s.flags&512&&Zf(s)}catch(ne){dt(s,s.return,ne)}}if(s===r){ye=null;break}if(u=s.sibling,u!==null){u.return=s.return,ye=u;break}ye=s.return}}function Sm(r){for(;ye!==null;){var s=ye;if(s===r){ye=null;break}var u=s.sibling;if(u!==null){u.return=s.return,ye=u;break}ye=s.return}}function Em(r){for(;ye!==null;){var s=ye;try{switch(s.tag){case 0:case 11:case 15:var u=s.return;try{iu(4,s)}catch(F){dt(s,u,F)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var p=s.return;try{h.componentDidMount()}catch(F){dt(s,p,F)}}var v=s.return;try{Zf(s)}catch(F){dt(s,v,F)}break;case 5:var R=s.return;try{Zf(s)}catch(F){dt(s,R,F)}}}catch(F){dt(s,s.return,F)}if(s===r){ye=null;break}var O=s.sibling;if(O!==null){O.return=s.return,ye=O;break}ye=s.return}}var Gx=Math.ceil,su=M.ReactCurrentDispatcher,th=M.ReactCurrentOwner,rr=M.ReactCurrentBatchConfig,De=0,Ot=null,xt=null,It=0,Dn=0,mo=Ai(0),bt=0,Pl=null,gs=0,ou=0,nh=0,Ol=null,vn=null,rh=0,yo=1/0,ci=null,lu=!1,ih=null,Ii=null,au=!1,ji=null,uu=0,Ll=0,sh=null,cu=-1,fu=0;function ln(){return De&6?ge():cu!==-1?cu:cu=ge()}function Di(r){return r.mode&1?De&2&&It!==0?It&-It:Lx.transition!==null?(fu===0&&(fu=_p()),fu):(r=Ye,r!==0||(r=window.event,r=r===void 0?16:Rp(r.type)),r):1}function _r(r,s,u,h){if(50<Ll)throw Ll=0,sh=null,Error(n(185));rl(r,u,h),(!(De&2)||r!==Ot)&&(r===Ot&&(!(De&2)&&(ou|=u),bt===4&&zi(r,It)),xn(r,h),u===1&&De===0&&!(s.mode&1)&&(yo=ge()+500,za&&Oi()))}function xn(r,s){var u=r.callbackNode;L1(r,s);var h=xa(r,r===Ot?It:0);if(h===0)u!==null&&tl(u),r.callbackNode=null,r.callbackPriority=0;else if(s=h&-h,r.callbackPriority!==s){if(u!=null&&tl(u),s===1)r.tag===0?Ox(Rm.bind(null,r)):hg(Rm.bind(null,r)),Tx(function(){!(De&6)&&Oi()}),u=null;else{switch(vp(h)){case 1:u=Xe;break;case 4:u=mt;break;case 16:u=Fn;break;case 536870912:u=Zn;break;default:u=Fn}u=Nm(u,Cm.bind(null,r))}r.callbackPriority=s,r.callbackNode=u}}function Cm(r,s){if(cu=-1,fu=0,De&6)throw Error(n(327));var u=r.callbackNode;if(_o()&&r.callbackNode!==u)return null;var h=xa(r,r===Ot?It:0);if(h===0)return null;if(h&30||h&r.expiredLanes||s)s=hu(r,h);else{s=h;var p=De;De|=2;var v=Mm();(Ot!==r||It!==s)&&(ci=null,yo=ge()+500,ys(r,s));do try{Jx();break}catch(O){Tm(r,O)}while(!0);bf(),su.current=v,De=p,xt!==null?s=0:(Ot=null,It=0,s=bt)}if(s!==0){if(s===2&&(p=Dc(r),p!==0&&(h=p,s=oh(r,p))),s===1)throw u=Pl,ys(r,0),zi(r,h),xn(r,ge()),u;if(s===6)zi(r,h);else{if(p=r.current.alternate,!(h&30)&&!Qx(p)&&(s=hu(r,h),s===2&&(v=Dc(r),v!==0&&(h=v,s=oh(r,v))),s===1))throw u=Pl,ys(r,0),zi(r,h),xn(r,ge()),u;switch(r.finishedWork=p,r.finishedLanes=h,s){case 0:case 1:throw Error(n(345));case 2:_s(r,vn,ci);break;case 3:if(zi(r,h),(h&130023424)===h&&(s=rh+500-ge(),10<s)){if(xa(r,0)!==0)break;if(p=r.suspendedLanes,(p&h)!==h){ln(),r.pingedLanes|=r.suspendedLanes&p;break}r.timeoutHandle=hf(_s.bind(null,r,vn,ci),s);break}_s(r,vn,ci);break;case 4:if(zi(r,h),(h&4194240)===h)break;for(s=r.eventTimes,p=-1;0<h;){var R=31-vt(h);v=1<<R,R=s[R],R>p&&(p=R),h&=~v}if(h=p,h=ge()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*Gx(h/1960))-h,10<h){r.timeoutHandle=hf(_s.bind(null,r,vn,ci),h);break}_s(r,vn,ci);break;case 5:_s(r,vn,ci);break;default:throw Error(n(329))}}}return xn(r,ge()),r.callbackNode===u?Cm.bind(null,r):null}function oh(r,s){var u=Ol;return r.current.memoizedState.isDehydrated&&(ys(r,s).flags|=256),r=hu(r,s),r!==2&&(s=vn,vn=u,s!==null&&lh(s)),r}function lh(r){vn===null?vn=r:vn.push.apply(vn,r)}function Qx(r){for(var s=r;;){if(s.flags&16384){var u=s.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var h=0;h<u.length;h++){var p=u[h],v=p.getSnapshot;p=p.value;try{if(!dr(v(),p))return!1}catch{return!1}}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function zi(r,s){for(s&=~nh,s&=~ou,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var u=31-vt(s),h=1<<u;r[u]=-1,s&=~h}}function Rm(r){if(De&6)throw Error(n(327));_o();var s=xa(r,0);if(!(s&1))return xn(r,ge()),null;var u=hu(r,s);if(r.tag!==0&&u===2){var h=Dc(r);h!==0&&(s=h,u=oh(r,h))}if(u===1)throw u=Pl,ys(r,0),zi(r,s),xn(r,ge()),u;if(u===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,_s(r,vn,ci),xn(r,ge()),null}function ah(r,s){var u=De;De|=1;try{return r(s)}finally{De=u,De===0&&(yo=ge()+500,za&&Oi())}}function ms(r){ji!==null&&ji.tag===0&&!(De&6)&&_o();var s=De;De|=1;var u=rr.transition,h=Ye;try{if(rr.transition=null,Ye=1,r)return r()}finally{Ye=h,rr.transition=u,De=s,!(De&6)&&Oi()}}function uh(){Dn=mo.current,Je(mo)}function ys(r,s){r.finishedWork=null,r.finishedLanes=0;var u=r.timeoutHandle;if(u!==-1&&(r.timeoutHandle=-1,Rx(u)),xt!==null)for(u=xt.return;u!==null;){var h=u;switch(_f(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&ja();break;case 3:ho(),Je(mn),Je(Ht),Pf();break;case 5:Mf(h);break;case 4:ho();break;case 13:Je(ot);break;case 19:Je(ot);break;case 10:Sf(h.type._context);break;case 22:case 23:uh()}u=u.return}if(Ot=r,xt=r=Bi(r.current,null),It=Dn=s,bt=0,Pl=null,nh=ou=gs=0,vn=Ol=null,hs!==null){for(s=0;s<hs.length;s++)if(u=hs[s],h=u.interleaved,h!==null){u.interleaved=null;var p=h.next,v=u.pending;if(v!==null){var R=v.next;v.next=p,h.next=R}u.pending=h}hs=null}return r}function Tm(r,s){do{var u=xt;try{if(bf(),qa.current=Ja,Ga){for(var h=lt.memoizedState;h!==null;){var p=h.queue;p!==null&&(p.pending=null),h=h.next}Ga=!1}if(ps=0,Pt=kt=lt=null,El=!1,Cl=0,th.current=null,u===null||u.return===null){bt=1,Pl=s,xt=null;break}e:{var v=r,R=u.return,O=u,F=s;if(s=It,O.flags|=32768,F!==null&&typeof F=="object"&&typeof F.then=="function"){var H=F,ie=O,le=ie.tag;if(!(ie.mode&1)&&(le===0||le===11||le===15)){var ne=ie.alternate;ne?(ie.updateQueue=ne.updateQueue,ie.memoizedState=ne.memoizedState,ie.lanes=ne.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var me=Jg(R);if(me!==null){me.flags&=-257,em(me,R,O,v,s),me.mode&1&&Zg(v,H,s),s=me,F=H;var ve=s.updateQueue;if(ve===null){var ke=new Set;ke.add(F),s.updateQueue=ke}else ve.add(F);break e}else{if(!(s&1)){Zg(v,H,s),ch();break e}F=Error(n(426))}}else if(nt&&O.mode&1){var yt=Jg(R);if(yt!==null){!(yt.flags&65536)&&(yt.flags|=256),em(yt,R,O,v,s),wf(po(F,O));break e}}v=F=po(F,O),bt!==4&&(bt=2),Ol===null?Ol=[v]:Ol.push(v),v=R;do{switch(v.tag){case 3:v.flags|=65536,s&=-s,v.lanes|=s;var U=Gg(v,F,s);bg(v,U);break e;case 1:O=F;var I=v.type,V=v.stateNode;if(!(v.flags&128)&&(typeof I.getDerivedStateFromError=="function"||V!==null&&typeof V.componentDidCatch=="function"&&(Ii===null||!Ii.has(V)))){v.flags|=65536,s&=-s,v.lanes|=s;var he=Qg(v,O,s);bg(v,he);break e}}v=v.return}while(v!==null)}Pm(u)}catch(Ee){s=Ee,xt===u&&u!==null&&(xt=u=u.return);continue}break}while(!0)}function Mm(){var r=su.current;return su.current=Ja,r===null?Ja:r}function ch(){(bt===0||bt===3||bt===2)&&(bt=4),Ot===null||!(gs&268435455)&&!(ou&268435455)||zi(Ot,It)}function hu(r,s){var u=De;De|=2;var h=Mm();(Ot!==r||It!==s)&&(ci=null,ys(r,s));do try{Zx();break}catch(p){Tm(r,p)}while(!0);if(bf(),De=u,su.current=h,xt!==null)throw Error(n(261));return Ot=null,It=0,bt}function Zx(){for(;xt!==null;)Am(xt)}function Jx(){for(;xt!==null&&!jc();)Am(xt)}function Am(r){var s=Fm(r.alternate,r,Dn);r.memoizedProps=r.pendingProps,s===null?Pm(r):xt=s,th.current=null}function Pm(r){var s=r;do{var u=s.alternate;if(r=s.return,s.flags&32768){if(u=Yx(u,s),u!==null){u.flags&=32767,xt=u;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{bt=6,xt=null;return}}else if(u=Wx(u,s,Dn),u!==null){xt=u;return}if(s=s.sibling,s!==null){xt=s;return}xt=s=r}while(s!==null);bt===0&&(bt=5)}function _s(r,s,u){var h=Ye,p=rr.transition;try{rr.transition=null,Ye=1,ew(r,s,u,h)}finally{rr.transition=p,Ye=h}return null}function ew(r,s,u,h){do _o();while(ji!==null);if(De&6)throw Error(n(327));u=r.finishedWork;var p=r.finishedLanes;if(u===null)return null;if(r.finishedWork=null,r.finishedLanes=0,u===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var v=u.lanes|u.childLanes;if(F1(r,v),r===Ot&&(xt=Ot=null,It=0),!(u.subtreeFlags&2064)&&!(u.flags&2064)||au||(au=!0,Nm(Fn,function(){return _o(),null})),v=(u.flags&15990)!==0,u.subtreeFlags&15990||v){v=rr.transition,rr.transition=null;var R=Ye;Ye=1;var O=De;De|=4,th.current=null,Kx(r,u),wm(u,r),xx(cf),ba=!!uf,cf=uf=null,r.current=u,qx(u),Ue(),De=O,Ye=R,rr.transition=v}else r.current=u;if(au&&(au=!1,ji=r,uu=p),v=r.pendingLanes,v===0&&(Ii=null),ki(u.stateNode),xn(r,ge()),s!==null)for(h=r.onRecoverableError,u=0;u<s.length;u++)p=s[u],h(p.value,{componentStack:p.stack,digest:p.digest});if(lu)throw lu=!1,r=ih,ih=null,r;return uu&1&&r.tag!==0&&_o(),v=r.pendingLanes,v&1?r===sh?Ll++:(Ll=0,sh=r):Ll=0,Oi(),null}function _o(){if(ji!==null){var r=vp(uu),s=rr.transition,u=Ye;try{if(rr.transition=null,Ye=16>r?16:r,ji===null)var h=!1;else{if(r=ji,ji=null,uu=0,De&6)throw Error(n(331));var p=De;for(De|=4,ye=r.current;ye!==null;){var v=ye,R=v.child;if(ye.flags&16){var O=v.deletions;if(O!==null){for(var F=0;F<O.length;F++){var H=O[F];for(ye=H;ye!==null;){var ie=ye;switch(ie.tag){case 0:case 11:case 15:Al(8,ie,v)}var le=ie.child;if(le!==null)le.return=ie,ye=le;else for(;ye!==null;){ie=ye;var ne=ie.sibling,me=ie.return;if(mm(ie),ie===H){ye=null;break}if(ne!==null){ne.return=me,ye=ne;break}ye=me}}}var ve=v.alternate;if(ve!==null){var ke=ve.child;if(ke!==null){ve.child=null;do{var yt=ke.sibling;ke.sibling=null,ke=yt}while(ke!==null)}}ye=v}}if(v.subtreeFlags&2064&&R!==null)R.return=v,ye=R;else e:for(;ye!==null;){if(v=ye,v.flags&2048)switch(v.tag){case 0:case 11:case 15:Al(9,v,v.return)}var U=v.sibling;if(U!==null){U.return=v.return,ye=U;break e}ye=v.return}}var I=r.current;for(ye=I;ye!==null;){R=ye;var V=R.child;if(R.subtreeFlags&2064&&V!==null)V.return=R,ye=V;else e:for(R=I;ye!==null;){if(O=ye,O.flags&2048)try{switch(O.tag){case 0:case 11:case 15:iu(9,O)}}catch(Ee){dt(O,O.return,Ee)}if(O===R){ye=null;break e}var he=O.sibling;if(he!==null){he.return=O.return,ye=he;break e}ye=O.return}}if(De=p,Oi(),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(gn,r)}catch{}h=!0}return h}finally{Ye=u,rr.transition=s}}return!1}function Om(r,s,u){s=po(u,s),s=Gg(r,s,1),r=Fi(r,s,1),s=ln(),r!==null&&(rl(r,1,s),xn(r,s))}function dt(r,s,u){if(r.tag===3)Om(r,r,u);else for(;s!==null;){if(s.tag===3){Om(s,r,u);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ii===null||!Ii.has(h))){r=po(u,r),r=Qg(s,r,1),s=Fi(s,r,1),r=ln(),s!==null&&(rl(s,1,r),xn(s,r));break}}s=s.return}}function tw(r,s,u){var h=r.pingCache;h!==null&&h.delete(s),s=ln(),r.pingedLanes|=r.suspendedLanes&u,Ot===r&&(It&u)===u&&(bt===4||bt===3&&(It&130023424)===It&&500>ge()-rh?ys(r,0):nh|=u),xn(r,s)}function Lm(r,s){s===0&&(r.mode&1?(s=va,va<<=1,!(va&130023424)&&(va=4194304)):s=1);var u=ln();r=li(r,s),r!==null&&(rl(r,s,u),xn(r,u))}function nw(r){var s=r.memoizedState,u=0;s!==null&&(u=s.retryLane),Lm(r,u)}function rw(r,s){var u=0;switch(r.tag){case 13:var h=r.stateNode,p=r.memoizedState;p!==null&&(u=p.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(n(314))}h!==null&&h.delete(s),Lm(r,u)}var Fm;Fm=function(r,s,u){if(r!==null)if(r.memoizedProps!==s.pendingProps||mn.current)_n=!0;else{if(!(r.lanes&u)&&!(s.flags&128))return _n=!1,Hx(r,s,u);_n=!!(r.flags&131072)}else _n=!1,nt&&s.flags&1048576&&dg(s,$a,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;nu(r,s),r=s.pendingProps;var p=so(s,Ht.current);fo(s,u),p=Ff(null,s,h,r,p,u);var v=Nf();return s.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,yn(h)?(v=!0,Da(s)):v=!1,s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Rf(s),p.updater=eu,s.stateNode=p,p._reactInternals=s,$f(s,h,r,u),s=Wf(null,s,h,!0,v,u)):(s.tag=0,nt&&v&&yf(s),on(null,s,p,u),s=s.child),s;case 16:h=s.elementType;e:{switch(nu(r,s),r=s.pendingProps,p=h._init,h=p(h._payload),s.type=h,p=s.tag=sw(h),r=gr(h,r),p){case 0:s=Hf(null,s,h,r,u);break e;case 1:s=om(null,s,h,r,u);break e;case 11:s=tm(null,s,h,r,u);break e;case 14:s=nm(null,s,h,gr(h.type,r),u);break e}throw Error(n(306,h,""))}return s;case 0:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:gr(h,p),Hf(r,s,h,p,u);case 1:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:gr(h,p),om(r,s,h,p,u);case 3:e:{if(lm(s),r===null)throw Error(n(387));h=s.pendingProps,v=s.memoizedState,p=v.element,kg(r,s),Xa(s,h,null,u);var R=s.memoizedState;if(h=R.element,v.isDehydrated)if(v={element:h,isDehydrated:!1,cache:R.cache,pendingSuspenseBoundaries:R.pendingSuspenseBoundaries,transitions:R.transitions},s.updateQueue.baseState=v,s.memoizedState=v,s.flags&256){p=po(Error(n(423)),s),s=am(r,s,h,u,p);break e}else if(h!==p){p=po(Error(n(424)),s),s=am(r,s,h,u,p);break e}else for(jn=Mi(s.stateNode.containerInfo.firstChild),In=s,nt=!0,pr=null,u=xg(s,null,h,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(ao(),h===p){s=ui(r,s,u);break e}on(r,s,h,u)}s=s.child}return s;case 5:return Eg(s),r===null&&xf(s),h=s.type,p=s.pendingProps,v=r!==null?r.memoizedProps:null,R=p.children,ff(h,p)?R=null:v!==null&&ff(h,v)&&(s.flags|=32),sm(r,s),on(r,s,R,u),s.child;case 6:return r===null&&xf(s),null;case 13:return um(r,s,u);case 4:return Tf(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=uo(s,null,h,u):on(r,s,h,u),s.child;case 11:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:gr(h,p),tm(r,s,h,p,u);case 7:return on(r,s,s.pendingProps,u),s.child;case 8:return on(r,s,s.pendingProps.children,u),s.child;case 12:return on(r,s,s.pendingProps.children,u),s.child;case 10:e:{if(h=s.type._context,p=s.pendingProps,v=s.memoizedProps,R=p.value,qe(Ha,h._currentValue),h._currentValue=R,v!==null)if(dr(v.value,R)){if(v.children===p.children&&!mn.current){s=ui(r,s,u);break e}}else for(v=s.child,v!==null&&(v.return=s);v!==null;){var O=v.dependencies;if(O!==null){R=v.child;for(var F=O.firstContext;F!==null;){if(F.context===h){if(v.tag===1){F=ai(-1,u&-u),F.tag=2;var H=v.updateQueue;if(H!==null){H=H.shared;var ie=H.pending;ie===null?F.next=F:(F.next=ie.next,ie.next=F),H.pending=F}}v.lanes|=u,F=v.alternate,F!==null&&(F.lanes|=u),Ef(v.return,u,s),O.lanes|=u;break}F=F.next}}else if(v.tag===10)R=v.type===s.type?null:v.child;else if(v.tag===18){if(R=v.return,R===null)throw Error(n(341));R.lanes|=u,O=R.alternate,O!==null&&(O.lanes|=u),Ef(R,u,s),R=v.sibling}else R=v.child;if(R!==null)R.return=v;else for(R=v;R!==null;){if(R===s){R=null;break}if(v=R.sibling,v!==null){v.return=R.return,R=v;break}R=R.return}v=R}on(r,s,p.children,u),s=s.child}return s;case 9:return p=s.type,h=s.pendingProps.children,fo(s,u),p=tr(p),h=h(p),s.flags|=1,on(r,s,h,u),s.child;case 14:return h=s.type,p=gr(h,s.pendingProps),p=gr(h.type,p),nm(r,s,h,p,u);case 15:return rm(r,s,s.type,s.pendingProps,u);case 17:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:gr(h,p),nu(r,s),s.tag=1,yn(h)?(r=!0,Da(s)):r=!1,fo(s,u),Kg(s,h,p),$f(s,h,p,u),Wf(null,s,h,!0,r,u);case 19:return fm(r,s,u);case 22:return im(r,s,u)}throw Error(n(156,s.tag))};function Nm(r,s){return el(r,s)}function iw(r,s,u,h){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ir(r,s,u,h){return new iw(r,s,u,h)}function fh(r){return r=r.prototype,!(!r||!r.isReactComponent)}function sw(r){if(typeof r=="function")return fh(r)?1:0;if(r!=null){if(r=r.$$typeof,r===q)return 11;if(r===re)return 14}return 2}function Bi(r,s){var u=r.alternate;return u===null?(u=ir(r.tag,s,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=s,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&14680064,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,s=r.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u}function du(r,s,u,h,p,v){var R=2;if(h=r,typeof r=="function")fh(r)&&(R=1);else if(typeof r=="string")R=5;else e:switch(r){case j:return vs(u.children,p,v,s);case X:R=8,p|=8;break;case z:return r=ir(12,u,s,p|2),r.elementType=z,r.lanes=v,r;case ae:return r=ir(13,u,s,p),r.elementType=ae,r.lanes=v,r;case te:return r=ir(19,u,s,p),r.elementType=te,r.lanes=v,r;case Z:return pu(u,p,v,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case W:R=10;break e;case K:R=9;break e;case q:R=11;break e;case re:R=14;break e;case ue:R=16,h=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return s=ir(R,u,s,p),s.elementType=r,s.type=h,s.lanes=v,s}function vs(r,s,u,h){return r=ir(7,r,h,s),r.lanes=u,r}function pu(r,s,u,h){return r=ir(22,r,h,s),r.elementType=Z,r.lanes=u,r.stateNode={isHidden:!1},r}function hh(r,s,u){return r=ir(6,r,null,s),r.lanes=u,r}function dh(r,s,u){return s=ir(4,r.children!==null?r.children:[],r.key,s),s.lanes=u,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function ow(r,s,u,h,p){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=h,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function ph(r,s,u,h,p,v,R,O,F){return r=new ow(r,s,u,O,F),s===1?(s=1,v===!0&&(s|=8)):s=0,v=ir(3,null,null,s),r.current=v,v.stateNode=r,v.memoizedState={element:h,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rf(v),r}function lw(r,s,u){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:N,key:h==null?null:""+h,children:r,containerInfo:s,implementation:u}}function Im(r){if(!r)return Pi;r=r._reactInternals;e:{if(ni(r)!==r||r.tag!==1)throw Error(n(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(yn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(r.tag===1){var u=r.type;if(yn(u))return cg(r,u,s)}return s}function jm(r,s,u,h,p,v,R,O,F){return r=ph(u,h,!0,r,p,v,R,O,F),r.context=Im(null),u=r.current,h=ln(),p=Di(u),v=ai(h,p),v.callback=s??null,Fi(u,v,p),r.current.lanes=p,rl(r,p,h),xn(r,h),r}function gu(r,s,u,h){var p=s.current,v=ln(),R=Di(p);return u=Im(u),s.context===null?s.context=u:s.pendingContext=u,s=ai(v,R),s.payload={element:r},h=h===void 0?null:h,h!==null&&(s.callback=h),r=Fi(p,s,R),r!==null&&(_r(r,p,R,v),Ya(r,p,R)),R}function mu(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Dm(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<s?u:s}}function gh(r,s){Dm(r,s),(r=r.alternate)&&Dm(r,s)}var zm=typeof reportError=="function"?reportError:function(r){console.error(r)};function mh(r){this._internalRoot=r}yu.prototype.render=mh.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(n(409));gu(r,s,null,null)},yu.prototype.unmount=mh.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;ms(function(){gu(null,r,null,null)}),s[ri]=null}};function yu(r){this._internalRoot=r}yu.prototype.unstable_scheduleHydration=function(r){if(r){var s=kp();r={blockedOn:null,target:r,priority:s};for(var u=0;u<Ci.length&&s!==0&&s<Ci[u].priority;u++);Ci.splice(u,0,r),u===0&&Ep(r)}};function yh(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function _u(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Bm(){}function aw(r,s,u,h,p){if(p){if(typeof h=="function"){var v=h;h=function(){var H=mu(R);v.call(H)}}var R=jm(s,h,r,0,null,!1,!1,"",Bm);return r._reactRootContainer=R,r[ri]=R.current,yl(r.nodeType===8?r.parentNode:r),ms(),R}for(;p=r.lastChild;)r.removeChild(p);if(typeof h=="function"){var O=h;h=function(){var H=mu(F);O.call(H)}}var F=ph(r,0,!1,null,null,!1,!1,"",Bm);return r._reactRootContainer=F,r[ri]=F.current,yl(r.nodeType===8?r.parentNode:r),ms(function(){gu(s,F,u,h)}),F}function vu(r,s,u,h,p){var v=u._reactRootContainer;if(v){var R=v;if(typeof p=="function"){var O=p;p=function(){var F=mu(R);O.call(F)}}gu(s,R,r,p)}else R=aw(u,s,r,p,h);return mu(R)}xp=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var u=nl(s.pendingLanes);u!==0&&(Bc(s,u|1),xn(s,ge()),!(De&6)&&(yo=ge()+500,Oi()))}break;case 13:ms(function(){var h=li(r,1);if(h!==null){var p=ln();_r(h,r,1,p)}}),gh(r,1)}},$c=function(r){if(r.tag===13){var s=li(r,134217728);if(s!==null){var u=ln();_r(s,r,134217728,u)}gh(r,134217728)}},wp=function(r){if(r.tag===13){var s=Di(r),u=li(r,s);if(u!==null){var h=ln();_r(u,r,s,h)}gh(r,s)}},kp=function(){return Ye},bp=function(r,s){var u=Ye;try{return Ye=r,s()}finally{Ye=u}},Qn=function(r,s,u){switch(s){case"input":if(rn(r,u),s=u.name,u.type==="radio"&&s!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<u.length;s++){var h=u[s];if(h!==r&&h.form===r.form){var p=Ia(h);if(!p)throw Error(n(90));pt(h),rn(h,p)}}}break;case"textarea":pn(r,u);break;case"select":s=u.value,s!=null&&An(r,!!u.multiple,s,!1)}},ha=ah,da=ms;var uw={usingClientEntryPoint:!1,Events:[xl,ro,Ia,ss,Xo,ah]},Fl={findFiberByHostInstance:as,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cw={bundleType:Fl.bundleType,version:Fl.version,rendererPackageName:Fl.rendererPackageName,rendererConfig:Fl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=ma(r),r===null?null:r.stateNode},findFiberByHostInstance:Fl.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xu.isDisabled&&xu.supportsFiber)try{gn=xu.inject(cw),At=xu}catch{}}return kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uw,kn.createPortal=function(r,s){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yh(s))throw Error(n(200));return lw(r,s,null,u)},kn.createRoot=function(r,s){if(!yh(r))throw Error(n(299));var u=!1,h="",p=zm;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=ph(r,1,!1,null,null,u,!1,h,p),r[ri]=s.current,yl(r.nodeType===8?r.parentNode:r),new mh(s)},kn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=ma(s),r=r===null?null:r.stateNode,r},kn.flushSync=function(r){return ms(r)},kn.hydrate=function(r,s,u){if(!_u(s))throw Error(n(200));return vu(null,r,s,!0,u)},kn.hydrateRoot=function(r,s,u){if(!yh(r))throw Error(n(405));var h=u!=null&&u.hydratedSources||null,p=!1,v="",R=zm;if(u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onRecoverableError!==void 0&&(R=u.onRecoverableError)),s=jm(s,null,r,1,u??null,p,!1,v,R),r[ri]=s.current,yl(r),h)for(r=0;r<h.length;r++)u=h[r],p=u._getVersion,p=p(u._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[u,p]:s.mutableSourceEagerHydrationData.push(u,p);return new yu(s)},kn.render=function(r,s,u){if(!_u(s))throw Error(n(200));return vu(null,r,s,!1,u)},kn.unmountComponentAtNode=function(r){if(!_u(r))throw Error(n(40));return r._reactRootContainer?(ms(function(){vu(null,null,r,!1,function(){r._reactRootContainer=null,r[ri]=null})}),!0):!1},kn.unstable_batchedUpdates=ah,kn.unstable_renderSubtreeIntoContainer=function(r,s,u,h){if(!_u(u))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return vu(r,s,u,!1,h)},kn.version="18.3.1-next-f1338f8080-20240426",kn}var Zm;function g_(){if(Zm)return xh.exports;Zm=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),xh.exports=ww(),xh.exports}var Jm;function kw(){if(Jm)return wu;Jm=1;var e=g_();return wu.createRoot=e.createRoot,wu.hydrateRoot=e.hydrateRoot,wu}var bw=kw();const ey=e=>{let t;const n=new Set,i=(d,g)=>{const m=typeof d=="function"?d(t):d;if(!Object.is(m,t)){const _=t;t=g??(typeof m!="object"||m===null)?m:Object.assign({},t,m),n.forEach(y=>y(t,_))}},o=()=>t,c={setState:i,getState:o,getInitialState:()=>f,subscribe:d=>(n.add(d),()=>n.delete(d))},f=t=e(i,o,c);return c},Sw=e=>e?ey(e):ey,Ew=e=>e;function Cw(e,t=Ew){const n=st.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return st.useDebugValue(n),n}const Rw=e=>{const t=Sw(e),n=i=>Cw(t,i);return Object.assign(n,t),n},Rr=e=>Rw;function Tw(e,t){let n;try{n=e()}catch{return}return{getItem:o=>{var l;const a=f=>f===null?null:JSON.parse(f,void 0),c=(l=n.getItem(o))!=null?l:null;return c instanceof Promise?c.then(a):a(c)},setItem:(o,l)=>n.setItem(o,JSON.stringify(l,void 0)),removeItem:o=>n.removeItem(o)}}const nd=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(i){return nd(i)(n)},catch(i){return this}}}catch(n){return{then(i){return this},catch(i){return nd(i)(n)}}}},Mw=(e,t)=>(n,i,o)=>{let l={storage:Tw(()=>localStorage),partialize:k=>k,version:0,merge:(k,S)=>({...S,...k}),...t},a=!1;const c=new Set,f=new Set;let d=l.storage;if(!d)return e((...k)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),n(...k)},i,o);const g=()=>{const k=l.partialize({...i()});return d.setItem(l.name,{state:k,version:l.version})},m=o.setState;o.setState=(k,S)=>{m(k,S),g()};const _=e((...k)=>{n(...k),g()},i,o);o.getInitialState=()=>_;let y;const x=()=>{var k,S;if(!d)return;a=!1,c.forEach(w=>{var C;return w((C=i())!=null?C:_)});const b=((S=l.onRehydrateStorage)==null?void 0:S.call(l,(k=i())!=null?k:_))||void 0;return nd(d.getItem.bind(d))(l.name).then(w=>{if(w)if(typeof w.version=="number"&&w.version!==l.version){if(l.migrate){const C=l.migrate(w.state,w.version);return C instanceof Promise?C.then(M=>[!0,M]):[!0,C]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,w.state];return[!1,void 0]}).then(w=>{var C;const[M,P]=w;if(y=l.merge(P,(C=i())!=null?C:_),n(y,!0),M)return g()}).then(()=>{b==null||b(y,void 0),y=i(),a=!0,f.forEach(w=>w(y))}).catch(w=>{b==null||b(void 0,w)})};return o.persist={setOptions:k=>{l={...l,...k},k.storage&&(d=k.storage)},clearStorage:()=>{d==null||d.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>x(),hasHydrated:()=>a,onHydrate:k=>(c.add(k),()=>{c.delete(k)}),onFinishHydration:k=>(f.add(k),()=>{f.delete(k)})},l.skipHydration||x(),y||_},uc=Mw,tn=Rr()(e=>({doodler:void 0,cursor:void 0,doodles:[],setDoodler:t=>e(()=>({doodler:t})),setContainer:t=>e(()=>({container:t})),setCursor:t=>e(()=>({cursor:t})),setDoodles:t=>e(()=>({doodles:t}))})),Ke=Rr()(uc(e=>({canvasColor:{r:249,g:250,b:251,a:1},throttleRate:1,selectedTool:"brush",activeTool:void 0,restoreTool:void 0,toolOption:"",isPanelOpen:!0,setSelectedTool:t=>e(()=>({selectedTool:t})),setActiveTool:t=>e(()=>({activeTool:t})),setRestoreTool:t=>e(()=>({restoreTool:t})),setToolOption:t=>e(()=>({toolOption:t})),setCanvasColor:t=>e(()=>({canvasColor:t})),setThrottleRate:t=>e(()=>({throttleRate:t})),setIsPanelOpen:t=>e(()=>({isPanelOpen:t}))}),{name:"options",version:1}));/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Aw={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=(e,t,n,i)=>{const o=E.forwardRef(({color:l="currentColor",size:a=24,stroke:c=2,title:f,className:d,children:g,...m},_)=>E.createElement("svg",{ref:_,...Aw[e],width:a,height:a,className:["tabler-icon",`tabler-icon-${t}`,d].join(" "),strokeWidth:c,stroke:l,...m},[f&&E.createElement("title",{key:"svg-title"},f),...i.map(([y,x])=>E.createElement(y,x)),...Array.isArray(g)?g:[g]]));return o.displayName=`${n}`,o};/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pw=[["path",{d:"M21 19h-18l9 -15",key:"svg-0"}],["path",{d:"M20.615 15.171h.015",key:"svg-1"}],["path",{d:"M19.515 11.771h.015",key:"svg-2"}],["path",{d:"M17.715 8.671h.015",key:"svg-3"}],["path",{d:"M15.415 5.971h.015",key:"svg-4"}]],m_=Ie("outline","angle","Angle",Pw);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ow=[["path",{d:"M9 14l-4 -4l4 -4",key:"svg-0"}],["path",{d:"M5 10h11a4 4 0 1 1 0 8h-1",key:"svg-1"}]],y_=Ie("outline","arrow-back-up","ArrowBackUp",Ow);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lw=[["path",{d:"M15 14l4 -4l-4 -4",key:"svg-0"}],["path",{d:"M19 10h-11a4 4 0 1 0 0 8h1",key:"svg-1"}]],__=Ie("outline","arrow-forward-up","ArrowForwardUp",Lw);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fw=[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M15 16l4 -4",key:"svg-1"}],["path",{d:"M15 8l4 4",key:"svg-2"}]],v_=Ie("outline","arrow-narrow-right","ArrowNarrowRight",Fw);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nw=[["path",{d:"M7 8l-4 4l4 4",key:"svg-0"}],["path",{d:"M17 8l4 4l-4 4",key:"svg-1"}],["path",{d:"M3 12l18 0",key:"svg-2"}]],Iw=Ie("outline","arrows-horizontal","ArrowsHorizontal",Nw);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const jw=[["path",{d:"M4 20v-10a6 6 0 0 1 6 -6h10",key:"svg-0"}]],x_=Ie("outline","border-corner-rounded","BorderCornerRounded",jw);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dw=[["path",{d:"M3 21v-4a4 4 0 1 1 4 4h-4",key:"svg-0"}],["path",{d:"M21 3a16 16 0 0 0 -12.8 10.2",key:"svg-1"}],["path",{d:"M21 3a16 16 0 0 1 -10.2 12.8",key:"svg-2"}],["path",{d:"M10.6 9a9 9 0 0 1 4.4 4.4",key:"svg-3"}]],jd=Ie("outline","brush","Brush",Dw);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const zw=[["path",{d:"M3 20l9 -7",key:"svg-0"}],["path",{d:"M12 3v10l9 7",key:"svg-1"}],["path",{d:"M17 12v.015",key:"svg-2"}],["path",{d:"M17 4.015v.015",key:"svg-3"}],["path",{d:"M21 8.015v.015",key:"svg-4"}],["path",{d:"M12 19.015v.015",key:"svg-5"}],["path",{d:"M3 12.015v.015",key:"svg-6"}],["path",{d:"M7 8.015v.015",key:"svg-7"}],["path",{d:"M3 4.015v.015",key:"svg-8"}]],Bw=Ie("outline","chart-scatter-3d","ChartScatter3d",zw);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const $w=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}]],Uw=Ie("outline","circle","Circle",$w);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vw=[["path",{d:"M6 4h10l4 4v10a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2",key:"svg-0"}],["path",{d:"M10 14a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M14 4l0 4l-6 0l0 -4",key:"svg-2"}]],Hw=Ie("outline","device-floppy","DeviceFloppy",Vw);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ww=[["path",{d:"M3 5h11",key:"svg-0"}],["path",{d:"M12 7l2 -2l-2 -2",key:"svg-1"}],["path",{d:"M5 3l-2 2l2 2",key:"svg-2"}],["path",{d:"M19 10v11",key:"svg-3"}],["path",{d:"M17 19l2 2l2 -2",key:"svg-4"}],["path",{d:"M21 12l-2 -2l-2 2",key:"svg-5"}],["path",{d:"M3 12a2 2 0 0 1 2 -2h7a2 2 0 0 1 2 2v7a2 2 0 0 1 -2 2h-7a2 2 0 0 1 -2 -2l0 -7",key:"svg-6"}]],Yw=Ie("outline","dimensions","Dimensions",Ww);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xw=[["path",{d:"M19 20h-10.5l-4.21 -4.3a1 1 0 0 1 0 -1.41l10 -10a1 1 0 0 1 1.41 0l5 5a1 1 0 0 1 0 1.41l-9.2 9.3",key:"svg-0"}],["path",{d:"M18 13.3l-6.3 -6.3",key:"svg-1"}]],Kw=Ie("outline","eraser","Eraser",Xw);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const qw=[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2",key:"svg-1"}],["path",{d:"M12 17v.01",key:"svg-2"}],["path",{d:"M12 14a1.5 1.5 0 1 0 -1.14 -2.474",key:"svg-3"}]],Gw=Ie("outline","file-unknown","FileUnknown",qw);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qw=[["path",{d:"M11.5 12a.5 .5 0 1 0 1 0a.5 .5 0 1 0 -1 0",fill:"currentColor",key:"svg-0"}],["path",{d:"M5 12a7 7 0 1 0 14 0a7 7 0 1 0 -14 0",key:"svg-1"}],["path",{d:"M12 3l0 2",key:"svg-2"}],["path",{d:"M3 12l2 0",key:"svg-3"}],["path",{d:"M12 19l0 2",key:"svg-4"}],["path",{d:"M19 12l2 0",key:"svg-5"}]],Zw=Ie("outline","focus-2","Focus2",Qw);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jw=[["path",{d:"M4 5a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M11 5a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M18 5a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}],["path",{d:"M4 12a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-3"}],["path",{d:"M11 12a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-4"}],["path",{d:"M18 12a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-5"}],["path",{d:"M4 19a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-6"}],["path",{d:"M11 19a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-7"}],["path",{d:"M18 19a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-8"}]],e2=Ie("outline","grid-dots","GridDots",Jw);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=[["path",{d:"M8 13v-7.5a1.5 1.5 0 0 1 3 0v6.5",key:"svg-0"}],["path",{d:"M11 5.5v-2a1.5 1.5 0 1 1 3 0v8.5",key:"svg-1"}],["path",{d:"M14 5.5a1.5 1.5 0 0 1 3 0v6.5",key:"svg-2"}],["path",{d:"M17 7.5a1.5 1.5 0 0 1 3 0v8.5a6 6 0 0 1 -6 6h-2h.208a6 6 0 0 1 -5.012 -2.7a69.74 69.74 0 0 1 -.196 -.3c-.312 -.479 -1.407 -2.388 -3.286 -5.728a1.5 1.5 0 0 1 .536 -2.022a1.867 1.867 0 0 1 2.28 .28l1.47 1.47",key:"svg-3"}]],n2=Ie("outline","hand-stop","HandStop",t2);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2=[["path",{d:"M6 4l12 0",key:"svg-0"}],["path",{d:"M12 4l0 16",key:"svg-1"}]],Dd=Ie("outline","letter-t","LetterT",r2);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=[["path",{d:"M4 18a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-0"}],["path",{d:"M16 6a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M7.5 16.5l9 -9",key:"svg-2"}]],cc=Ie("outline","line","Line",i2);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=[["path",{d:"M4 6l16 0",key:"svg-0"}],["path",{d:"M4 12l16 0",key:"svg-1"}],["path",{d:"M4 18l16 0",key:"svg-2"}]],o2=Ie("outline","menu-2","Menu2",s2);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=[["path",{d:"M16 17a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M6 7a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M6 18l12 -12",key:"svg-2"}]],a2=Ie("outline","percentage","Percentage",l2);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=[["path",{d:"M7.904 17.563a1.2 1.2 0 0 0 2.228 .308l2.09 -3.093l4.907 4.907a1.067 1.067 0 0 0 1.509 0l1.047 -1.047a1.067 1.067 0 0 0 0 -1.509l-4.907 -4.907l3.113 -2.09a1.2 1.2 0 0 0 -.309 -2.228l-13.582 -3.904l3.904 13.563",key:"svg-0"}]],c2=Ie("outline","pointer","Pointer",u2);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=[["path",{d:"M3 7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-10",key:"svg-0"}]],h2=Ie("outline","rectangle","Rectangle",f2);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=[["path",{d:"M12 19.875c0 .621 -.512 1.125 -1.143 1.125h-5.714a1.134 1.134 0 0 1 -1.143 -1.125v-15.875a1 1 0 0 1 1 -1h5.857c.631 0 1.143 .504 1.143 1.125l0 15.75",key:"svg-0"}],["path",{d:"M12 9h-2",key:"svg-1"}],["path",{d:"M12 6h-3",key:"svg-2"}],["path",{d:"M12 12h-3",key:"svg-3"}],["path",{d:"M12 18h-3",key:"svg-4"}],["path",{d:"M12 15h-2",key:"svg-5"}],["path",{d:"M21 3h-4",key:"svg-6"}],["path",{d:"M19 3v18",key:"svg-7"}],["path",{d:"M21 21h-4",key:"svg-8"}]],p2=Ie("outline","ruler-measure-2","RulerMeasure2",d2);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=[["path",{d:"M19.875 12c.621 0 1.125 .512 1.125 1.143v5.714c0 .631 -.504 1.143 -1.125 1.143h-15.875a1 1 0 0 1 -1 -1v-5.857c0 -.631 .504 -1.143 1.125 -1.143h15.75",key:"svg-0"}],["path",{d:"M9 12v2",key:"svg-1"}],["path",{d:"M6 12v3",key:"svg-2"}],["path",{d:"M12 12v3",key:"svg-3"}],["path",{d:"M18 12v3",key:"svg-4"}],["path",{d:"M15 12v2",key:"svg-5"}],["path",{d:"M3 3v4",key:"svg-6"}],["path",{d:"M3 5h18",key:"svg-7"}],["path",{d:"M21 3v4",key:"svg-8"}]],m2=Ie("outline","ruler-measure","RulerMeasure",g2);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=[["path",{d:"M8 9l4 -4l4 4",key:"svg-0"}],["path",{d:"M16 15l-4 4l-4 -4",key:"svg-1"}]],_2=Ie("outline","selector","Selector",y2);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2=[["path",{d:"M4 5.205v13.59a1 1 0 0 0 1.184 .983l14 -2.625a1 1 0 0 0 .816 -.983v-8.34a1 1 0 0 0 -.816 -.983l-14 -2.625a1 1 0 0 0 -1.184 .983",key:"svg-0"}]],x2=Ie("outline","skew-x","SkewX",v2);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2=[["path",{d:"M4.326 19h15.348a1 1 0 0 0 .962 -1.275l-3.429 -12a1 1 0 0 0 -.961 -.725h-8.492a1 1 0 0 0 -.961 .725l-3.429 12a1 1 0 0 0 .962 1.275",key:"svg-0"}]],k2=Ie("outline","skew-y","SkewY",w2);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const b2=[["path",{d:"M3 5a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-14",key:"svg-0"}],["path",{d:"M10 8l4 8",key:"svg-1"}],["path",{d:"M10 16l4 -8",key:"svg-2"}]],S2=Ie("outline","square-letter-x","SquareLetterX",b2);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2=[["path",{d:"M3 5a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-14",key:"svg-0"}],["path",{d:"M10 8l2 5l2 -5",key:"svg-1"}],["path",{d:"M12 16v-3",key:"svg-2"}]],C2=Ie("outline","square-letter-y","SquareLetterY",E2);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=[["path",{d:"M3 5a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-14",key:"svg-0"}]],w_=Ie("outline","square","Square",R2);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=[["path",{d:"M3 15a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1l0 -2",key:"svg-0"}],["path",{d:"M17 15a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1l0 -2",key:"svg-1"}],["path",{d:"M10 7a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1l0 -2",key:"svg-2"}],["path",{d:"M10 8.5a6 6 0 0 0 -5 5.5",key:"svg-3"}],["path",{d:"M14 8.5a6 6 0 0 1 5 5.5",key:"svg-4"}],["path",{d:"M10 8l-6 0",key:"svg-5"}],["path",{d:"M20 8l-6 0",key:"svg-6"}],["path",{d:"M2 8a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-7"}],["path",{d:"M20 8a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-8"}]],k_=Ie("outline","vector-bezier","VectorBezier",T2);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=[["path",{d:"M17 4a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1l0 -2",key:"svg-0"}],["path",{d:"M3 18a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1l0 -2",key:"svg-1"}],["path",{d:"M17 5c-6.627 0 -12 5.373 -12 12",key:"svg-2"}]],A2=Ie("outline","vector-spline","VectorSpline",M2);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=[["path",{d:"M10 5a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1l0 -2",key:"svg-0"}],["path",{d:"M3 18a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1l0 -2",key:"svg-1"}],["path",{d:"M17 18a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1l0 -2",key:"svg-2"}],["path",{d:"M6.5 17.1l5 -9.1",key:"svg-3"}],["path",{d:"M17.5 17.1l-5 -9.1",key:"svg-4"}],["path",{d:"M7 19l10 0",key:"svg-5"}]],O2=Ie("outline","vector-triangle","VectorTriangle",P2);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=[["path",{d:"M21 12h-2c-.894 0 -1.662 -.857 -1.761 -2c-.296 -3.45 -.749 -6 -2.749 -6s-2.5 3.582 -2.5 8s-.5 8 -2.5 8s-2.452 -2.547 -2.749 -6c-.1 -1.147 -.867 -2 -1.763 -2h-2",key:"svg-0"}]],b_=Ie("outline","wave-sine","WaveSine",L2);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=[["path",{d:"M3 10a7 7 0 1 0 14 0a7 7 0 1 0 -14 0",key:"svg-0"}],["path",{d:"M21 21l-6 -6",key:"svg-1"}]],N2=Ie("outline","zoom","Zoom",F2);function fc(){return typeof window<"u"}function ns(e){return S_(e)?(e.nodeName||"").toLowerCase():"#document"}function Tn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Kr(e){var t;return(t=(S_(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function S_(e){return fc()?e instanceof Node||e instanceof Tn(e).Node:!1}function Qe(e){return fc()?e instanceof Element||e instanceof Tn(e).Element:!1}function Tt(e){return fc()?e instanceof HTMLElement||e instanceof Tn(e).HTMLElement:!1}function rd(e){return!fc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Tn(e).ShadowRoot}function ta(e){const{overflow:t,overflowX:n,overflowY:i,display:o}=fr(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+n)&&!["inline","contents"].includes(o)}function I2(e){return["table","td","th"].includes(ns(e))}function hc(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function zd(e){const t=dc(),n=Qe(e)?fr(e):e;return["transform","translate","scale","rotate","perspective"].some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(i=>(n.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(n.contain||"").includes(i))}function j2(e){let t=_i(e);for(;Tt(t)&&!Zi(t);){if(zd(t))return t;if(hc(t))return null;t=_i(t)}return null}function dc(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Zi(e){return["html","body","#document"].includes(ns(e))}function fr(e){return Tn(e).getComputedStyle(e)}function pc(e){return Qe(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function _i(e){if(ns(e)==="html")return e;const t=e.assignedSlot||e.parentNode||rd(e)&&e.host||Kr(e);return rd(t)?t.host:t}function E_(e){const t=_i(e);return Zi(t)?e.ownerDocument?e.ownerDocument.body:e.body:Tt(t)&&ta(t)?t:E_(t)}function Qi(e,t,n){var i;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=E_(e),l=o===((i=e.ownerDocument)==null?void 0:i.body),a=Tn(o);if(l){const c=id(a);return t.concat(a,a.visualViewport||[],ta(o)?o:[],c&&n?Qi(c):[])}return t.concat(o,Qi(o,[],n))}function id(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function pi(e){let t=e.activeElement;for(;((n=t)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;t=t.shadowRoot.activeElement}return t}function Qt(e,t){if(!e||!t)return!1;const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&rd(n)){let i=t;for(;i;){if(e===i)return!0;i=i.parentNode||i.host}}return!1}function C_(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function R_(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:i}=t;return n+"/"+i}).join(" "):navigator.userAgent}function D2(e){return e.mozInputSource===0&&e.isTrusted?!0:sd()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function T_(e){return B2()?!1:!sd()&&e.width===0&&e.height===0||sd()&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType==="touch"}function M_(){return/apple/i.test(navigator.vendor)}function sd(){const e=/android/i;return e.test(C_())||e.test(R_())}function z2(){return C_().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function B2(){return R_().includes("jsdom/")}function Kl(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function $2(e){return"nativeEvent"in e}function U2(e){return e.matches("html,body")}function Zt(e){return(e==null?void 0:e.ownerDocument)||document}function bh(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function Yi(e){return"composedPath"in e?e.composedPath()[0]:e.target}const V2="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function Bd(e){return Tt(e)&&e.matches(V2)}function Sh(e){e.preventDefault(),e.stopPropagation()}function H2(e){return e?e.getAttribute("role")==="combobox"&&Bd(e):!1}const Hu=Math.min,Ps=Math.max,Wu=Math.round,ku=Math.floor,$r=e=>({x:e,y:e}),W2={left:"right",right:"left",bottom:"top",top:"bottom"},Y2={start:"end",end:"start"};function ty(e,t,n){return Ps(e,Hu(t,n))}function gc(e,t){return typeof e=="function"?e(t):e}function Ns(e){return e.split("-")[0]}function mc(e){return e.split("-")[1]}function A_(e){return e==="x"?"y":"x"}function P_(e){return e==="y"?"height":"width"}function Io(e){return["top","bottom"].includes(Ns(e))?"y":"x"}function O_(e){return A_(Io(e))}function X2(e,t,n){n===void 0&&(n=!1);const i=mc(e),o=O_(e),l=P_(o);let a=o==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[l]>t.floating[l]&&(a=Yu(a)),[a,Yu(a)]}function K2(e){const t=Yu(e);return[od(e),t,od(t)]}function od(e){return e.replace(/start|end/g,t=>Y2[t])}function q2(e,t,n){const i=["left","right"],o=["right","left"],l=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:i:t?i:o;case"left":case"right":return t?l:a;default:return[]}}function G2(e,t,n,i){const o=mc(e);let l=q2(Ns(e),n==="start",i);return o&&(l=l.map(a=>a+"-"+o),t&&(l=l.concat(l.map(od)))),l}function Yu(e){return e.replace(/left|right|bottom|top/g,t=>W2[t])}function Q2(e){return{top:0,right:0,bottom:0,left:0,...e}}function Z2(e){return typeof e!="number"?Q2(e):{top:e,right:e,bottom:e,left:e}}function Xu(e){const{x:t,y:n,width:i,height:o}=e;return{width:i,height:o,top:n,left:t,right:t+i,bottom:n+o,x:t,y:n}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var J2=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Ku=J2.join(","),L_=typeof Element>"u",jo=L_?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,qu=!L_&&Element.prototype.getRootNode?function(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}:function(e){return e==null?void 0:e.ownerDocument},Gu=function e(t,n){var i;n===void 0&&(n=!0);var o=t==null||(i=t.getAttribute)===null||i===void 0?void 0:i.call(t,"inert"),l=o===""||o==="true",a=l||n&&t&&e(t.parentNode);return a},ek=function(t){var n,i=t==null||(n=t.getAttribute)===null||n===void 0?void 0:n.call(t,"contenteditable");return i===""||i==="true"},tk=function(t,n,i){if(Gu(t))return[];var o=Array.prototype.slice.apply(t.querySelectorAll(Ku));return n&&jo.call(t,Ku)&&o.unshift(t),o=o.filter(i),o},nk=function e(t,n,i){for(var o=[],l=Array.from(t);l.length;){var a=l.shift();if(!Gu(a,!1))if(a.tagName==="SLOT"){var c=a.assignedElements(),f=c.length?c:a.children,d=e(f,!0,i);i.flatten?o.push.apply(o,d):o.push({scopeParent:a,candidates:d})}else{var g=jo.call(a,Ku);g&&i.filter(a)&&(n||!t.includes(a))&&o.push(a);var m=a.shadowRoot||typeof i.getShadowRoot=="function"&&i.getShadowRoot(a),_=!Gu(m,!1)&&(!i.shadowRootFilter||i.shadowRootFilter(a));if(m&&_){var y=e(m===!0?a.children:m.children,!0,i);i.flatten?o.push.apply(o,y):o.push({scopeParent:a,candidates:y})}else l.unshift.apply(l,a.children)}}return o},F_=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},N_=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||ek(t))&&!F_(t)?0:t.tabIndex},rk=function(t,n){var i=N_(t);return i<0&&n&&!F_(t)?0:i},ik=function(t,n){return t.tabIndex===n.tabIndex?t.documentOrder-n.documentOrder:t.tabIndex-n.tabIndex},I_=function(t){return t.tagName==="INPUT"},sk=function(t){return I_(t)&&t.type==="hidden"},ok=function(t){var n=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(i){return i.tagName==="SUMMARY"});return n},lk=function(t,n){for(var i=0;i<t.length;i++)if(t[i].checked&&t[i].form===n)return t[i]},ak=function(t){if(!t.name)return!0;var n=t.form||qu(t),i=function(c){return n.querySelectorAll('input[type="radio"][name="'+c+'"]')},o;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")o=i(window.CSS.escape(t.name));else try{o=i(t.name)}catch(a){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",a.message),!1}var l=lk(o,t.form);return!l||l===t},uk=function(t){return I_(t)&&t.type==="radio"},ck=function(t){return uk(t)&&!ak(t)},fk=function(t){var n,i=t&&qu(t),o=(n=i)===null||n===void 0?void 0:n.host,l=!1;if(i&&i!==t){var a,c,f;for(l=!!((a=o)!==null&&a!==void 0&&(c=a.ownerDocument)!==null&&c!==void 0&&c.contains(o)||t!=null&&(f=t.ownerDocument)!==null&&f!==void 0&&f.contains(t));!l&&o;){var d,g,m;i=qu(o),o=(d=i)===null||d===void 0?void 0:d.host,l=!!((g=o)!==null&&g!==void 0&&(m=g.ownerDocument)!==null&&m!==void 0&&m.contains(o))}}return l},ny=function(t){var n=t.getBoundingClientRect(),i=n.width,o=n.height;return i===0&&o===0},hk=function(t,n){var i=n.displayCheck,o=n.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var l=jo.call(t,"details>summary:first-of-type"),a=l?t.parentElement:t;if(jo.call(a,"details:not([open]) *"))return!0;if(!i||i==="full"||i==="legacy-full"){if(typeof o=="function"){for(var c=t;t;){var f=t.parentElement,d=qu(t);if(f&&!f.shadowRoot&&o(f)===!0)return ny(t);t.assignedSlot?t=t.assignedSlot:!f&&d!==t.ownerDocument?t=d.host:t=f}t=c}if(fk(t))return!t.getClientRects().length;if(i!=="legacy-full")return!0}else if(i==="non-zero-area")return ny(t);return!1},dk=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var n=t.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var i=0;i<n.children.length;i++){var o=n.children.item(i);if(o.tagName==="LEGEND")return jo.call(n,"fieldset[disabled] *")?!0:!o.contains(t)}return!0}n=n.parentElement}return!1},pk=function(t,n){return!(n.disabled||Gu(n)||sk(n)||hk(n,t)||ok(n)||dk(n))},ld=function(t,n){return!(ck(n)||N_(n)<0||!pk(t,n))},gk=function(t){var n=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},mk=function e(t){var n=[],i=[];return t.forEach(function(o,l){var a=!!o.scopeParent,c=a?o.scopeParent:o,f=rk(c,a),d=a?e(o.candidates):c;f===0?a?n.push.apply(n,d):n.push(c):i.push({documentOrder:l,tabIndex:f,item:o,isScope:a,content:d})}),i.sort(ik).reduce(function(o,l){return l.isScope?o.push.apply(o,l.content):o.push(l.content),o},[]).concat(n)},yc=function(t,n){n=n||{};var i;return n.getShadowRoot?i=nk([t],n.includeContainer,{filter:ld.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:gk}):i=tk(t,n.includeContainer,ld.bind(null,n)),mk(i)},yk=function(t,n){if(n=n||{},!t)throw new Error("No node provided");return jo.call(t,Ku)===!1?!1:ld(n,t)},$d=g_();function ry(e,t,n){let{reference:i,floating:o}=e;const l=Io(t),a=O_(t),c=P_(a),f=Ns(t),d=l==="y",g=i.x+i.width/2-o.width/2,m=i.y+i.height/2-o.height/2,_=i[c]/2-o[c]/2;let y;switch(f){case"top":y={x:g,y:i.y-o.height};break;case"bottom":y={x:g,y:i.y+i.height};break;case"right":y={x:i.x+i.width,y:m};break;case"left":y={x:i.x-o.width,y:m};break;default:y={x:i.x,y:i.y}}switch(mc(t)){case"start":y[a]-=_*(n&&d?-1:1);break;case"end":y[a]+=_*(n&&d?-1:1);break}return y}const _k=async(e,t,n)=>{const{placement:i="bottom",strategy:o="absolute",middleware:l=[],platform:a}=n,c=l.filter(Boolean),f=await(a.isRTL==null?void 0:a.isRTL(t));let d=await a.getElementRects({reference:e,floating:t,strategy:o}),{x:g,y:m}=ry(d,i,f),_=i,y={},x=0;for(let k=0;k<c.length;k++){const{name:S,fn:b}=c[k],{x:w,y:C,data:M,reset:P}=await b({x:g,y:m,initialPlacement:i,placement:_,strategy:o,middlewareData:y,rects:d,platform:a,elements:{reference:e,floating:t}});g=w??g,m=C??m,y={...y,[S]:{...y[S],...M}},P&&x<=50&&(x++,typeof P=="object"&&(P.placement&&(_=P.placement),P.rects&&(d=P.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:o}):P.rects),{x:g,y:m}=ry(d,_,f)),k=-1)}return{x:g,y:m,placement:_,strategy:o,middlewareData:y}};async function j_(e,t){var n;t===void 0&&(t={});const{x:i,y:o,platform:l,rects:a,elements:c,strategy:f}=e,{boundary:d="clippingAncestors",rootBoundary:g="viewport",elementContext:m="floating",altBoundary:_=!1,padding:y=0}=gc(t,e),x=Z2(y),S=c[_?m==="floating"?"reference":"floating":m],b=Xu(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(S)))==null||n?S:S.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(c.floating)),boundary:d,rootBoundary:g,strategy:f})),w=m==="floating"?{x:i,y:o,width:a.floating.width,height:a.floating.height}:a.reference,C=await(l.getOffsetParent==null?void 0:l.getOffsetParent(c.floating)),M=await(l.isElement==null?void 0:l.isElement(C))?await(l.getScale==null?void 0:l.getScale(C))||{x:1,y:1}:{x:1,y:1},P=Xu(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:w,offsetParent:C,strategy:f}):w);return{top:(b.top-P.top+x.top)/M.y,bottom:(P.bottom-b.bottom+x.bottom)/M.y,left:(b.left-P.left+x.left)/M.x,right:(P.right-b.right+x.right)/M.x}}const vk=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,i;const{placement:o,middlewareData:l,rects:a,initialPlacement:c,platform:f,elements:d}=t,{mainAxis:g=!0,crossAxis:m=!0,fallbackPlacements:_,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:k=!0,...S}=gc(e,t);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const b=Ns(o),w=Io(c),C=Ns(c)===c,M=await(f.isRTL==null?void 0:f.isRTL(d.floating)),P=_||(C||!k?[Yu(c)]:K2(c)),N=x!=="none";!_&&N&&P.push(...G2(c,k,x,M));const j=[c,...P],X=await j_(t,S),z=[];let W=((i=l.flip)==null?void 0:i.overflows)||[];if(g&&z.push(X[b]),m){const te=X2(o,a,M);z.push(X[te[0]],X[te[1]])}if(W=[...W,{placement:o,overflows:z}],!z.every(te=>te<=0)){var K,q;const te=(((K=l.flip)==null?void 0:K.index)||0)+1,re=j[te];if(re)return{data:{index:te,overflows:W},reset:{placement:re}};let ue=(q=W.filter(Z=>Z.overflows[0]<=0).sort((Z,D)=>Z.overflows[1]-D.overflows[1])[0])==null?void 0:q.placement;if(!ue)switch(y){case"bestFit":{var ae;const Z=(ae=W.filter(D=>{if(N){const $=Io(D.placement);return $===w||$==="y"}return!0}).map(D=>[D.placement,D.overflows.filter($=>$>0).reduce(($,G)=>$+G,0)]).sort((D,$)=>D[1]-$[1])[0])==null?void 0:ae[0];Z&&(ue=Z);break}case"initialPlacement":ue=c;break}if(o!==ue)return{reset:{placement:ue}}}return{}}}};async function xk(e,t){const{placement:n,platform:i,elements:o}=e,l=await(i.isRTL==null?void 0:i.isRTL(o.floating)),a=Ns(n),c=mc(n),f=Io(n)==="y",d=["left","top"].includes(a)?-1:1,g=l&&f?-1:1,m=gc(t,e);let{mainAxis:_,crossAxis:y,alignmentAxis:x}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return c&&typeof x=="number"&&(y=c==="end"?x*-1:x),f?{x:y*g,y:_*d}:{x:_*d,y:y*g}}const wk=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,i;const{x:o,y:l,placement:a,middlewareData:c}=t,f=await xk(t,e);return a===((n=c.offset)==null?void 0:n.placement)&&(i=c.arrow)!=null&&i.alignmentOffset?{}:{x:o+f.x,y:l+f.y,data:{...f,placement:a}}}}},kk=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:i,placement:o}=t,{mainAxis:l=!0,crossAxis:a=!1,limiter:c={fn:S=>{let{x:b,y:w}=S;return{x:b,y:w}}},...f}=gc(e,t),d={x:n,y:i},g=await j_(t,f),m=Io(Ns(o)),_=A_(m);let y=d[_],x=d[m];if(l){const S=_==="y"?"top":"left",b=_==="y"?"bottom":"right",w=y+g[S],C=y-g[b];y=ty(w,y,C)}if(a){const S=m==="y"?"top":"left",b=m==="y"?"bottom":"right",w=x+g[S],C=x-g[b];x=ty(w,x,C)}const k=c.fn({...t,[_]:y,[m]:x});return{...k,data:{x:k.x-n,y:k.y-i,enabled:{[_]:l,[m]:a}}}}}};function D_(e){const t=fr(e);let n=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const o=Tt(e),l=o?e.offsetWidth:n,a=o?e.offsetHeight:i,c=Wu(n)!==l||Wu(i)!==a;return c&&(n=l,i=a),{width:n,height:i,$:c}}function Ud(e){return Qe(e)?e:e.contextElement}function Lo(e){const t=Ud(e);if(!Tt(t))return $r(1);const n=t.getBoundingClientRect(),{width:i,height:o,$:l}=D_(t);let a=(l?Wu(n.width):n.width)/i,c=(l?Wu(n.height):n.height)/o;return(!a||!Number.isFinite(a))&&(a=1),(!c||!Number.isFinite(c))&&(c=1),{x:a,y:c}}const bk=$r(0);function z_(e){const t=Tn(e);return!dc()||!t.visualViewport?bk:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Sk(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Tn(e)?!1:t}function Is(e,t,n,i){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),l=Ud(e);let a=$r(1);t&&(i?Qe(i)&&(a=Lo(i)):a=Lo(e));const c=Sk(l,n,i)?z_(l):$r(0);let f=(o.left+c.x)/a.x,d=(o.top+c.y)/a.y,g=o.width/a.x,m=o.height/a.y;if(l){const _=Tn(l),y=i&&Qe(i)?Tn(i):i;let x=_,k=id(x);for(;k&&i&&y!==x;){const S=Lo(k),b=k.getBoundingClientRect(),w=fr(k),C=b.left+(k.clientLeft+parseFloat(w.paddingLeft))*S.x,M=b.top+(k.clientTop+parseFloat(w.paddingTop))*S.y;f*=S.x,d*=S.y,g*=S.x,m*=S.y,f+=C,d+=M,x=Tn(k),k=id(x)}}return Xu({width:g,height:m,x:f,y:d})}function Vd(e,t){const n=pc(e).scrollLeft;return t?t.left+n:Is(Kr(e)).left+n}function B_(e,t,n){n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=i.left+t.scrollLeft-(n?0:Vd(e,i)),l=i.top+t.scrollTop;return{x:o,y:l}}function Ek(e){let{elements:t,rect:n,offsetParent:i,strategy:o}=e;const l=o==="fixed",a=Kr(i),c=t?hc(t.floating):!1;if(i===a||c&&l)return n;let f={scrollLeft:0,scrollTop:0},d=$r(1);const g=$r(0),m=Tt(i);if((m||!m&&!l)&&((ns(i)!=="body"||ta(a))&&(f=pc(i)),Tt(i))){const y=Is(i);d=Lo(i),g.x=y.x+i.clientLeft,g.y=y.y+i.clientTop}const _=a&&!m&&!l?B_(a,f,!0):$r(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-f.scrollLeft*d.x+g.x+_.x,y:n.y*d.y-f.scrollTop*d.y+g.y+_.y}}function Ck(e){return Array.from(e.getClientRects())}function Rk(e){const t=Kr(e),n=pc(e),i=e.ownerDocument.body,o=Ps(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),l=Ps(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let a=-n.scrollLeft+Vd(e);const c=-n.scrollTop;return fr(i).direction==="rtl"&&(a+=Ps(t.clientWidth,i.clientWidth)-o),{width:o,height:l,x:a,y:c}}function Tk(e,t){const n=Tn(e),i=Kr(e),o=n.visualViewport;let l=i.clientWidth,a=i.clientHeight,c=0,f=0;if(o){l=o.width,a=o.height;const d=dc();(!d||d&&t==="fixed")&&(c=o.offsetLeft,f=o.offsetTop)}return{width:l,height:a,x:c,y:f}}function Mk(e,t){const n=Is(e,!0,t==="fixed"),i=n.top+e.clientTop,o=n.left+e.clientLeft,l=Tt(e)?Lo(e):$r(1),a=e.clientWidth*l.x,c=e.clientHeight*l.y,f=o*l.x,d=i*l.y;return{width:a,height:c,x:f,y:d}}function iy(e,t,n){let i;if(t==="viewport")i=Tk(e,n);else if(t==="document")i=Rk(Kr(e));else if(Qe(t))i=Mk(t,n);else{const o=z_(e);i={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Xu(i)}function $_(e,t){const n=_i(e);return n===t||!Qe(n)||Zi(n)?!1:fr(n).position==="fixed"||$_(n,t)}function Ak(e,t){const n=t.get(e);if(n)return n;let i=Qi(e,[],!1).filter(c=>Qe(c)&&ns(c)!=="body"),o=null;const l=fr(e).position==="fixed";let a=l?_i(e):e;for(;Qe(a)&&!Zi(a);){const c=fr(a),f=zd(a);!f&&c.position==="fixed"&&(o=null),(l?!f&&!o:!f&&c.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||ta(a)&&!f&&$_(e,a))?i=i.filter(g=>g!==a):o=c,a=_i(a)}return t.set(e,i),i}function Pk(e){let{element:t,boundary:n,rootBoundary:i,strategy:o}=e;const a=[...n==="clippingAncestors"?hc(t)?[]:Ak(t,this._c):[].concat(n),i],c=a[0],f=a.reduce((d,g)=>{const m=iy(t,g,o);return d.top=Ps(m.top,d.top),d.right=Hu(m.right,d.right),d.bottom=Hu(m.bottom,d.bottom),d.left=Ps(m.left,d.left),d},iy(t,c,o));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function Ok(e){const{width:t,height:n}=D_(e);return{width:t,height:n}}function Lk(e,t,n){const i=Tt(t),o=Kr(t),l=n==="fixed",a=Is(e,!0,l,t);let c={scrollLeft:0,scrollTop:0};const f=$r(0);if(i||!i&&!l)if((ns(t)!=="body"||ta(o))&&(c=pc(t)),i){const _=Is(t,!0,l,t);f.x=_.x+t.clientLeft,f.y=_.y+t.clientTop}else o&&(f.x=Vd(o));const d=o&&!i&&!l?B_(o,c):$r(0),g=a.left+c.scrollLeft-f.x-d.x,m=a.top+c.scrollTop-f.y-d.y;return{x:g,y:m,width:a.width,height:a.height}}function Eh(e){return fr(e).position==="static"}function sy(e,t){if(!Tt(e)||fr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Kr(e)===n&&(n=n.ownerDocument.body),n}function U_(e,t){const n=Tn(e);if(hc(e))return n;if(!Tt(e)){let o=_i(e);for(;o&&!Zi(o);){if(Qe(o)&&!Eh(o))return o;o=_i(o)}return n}let i=sy(e,t);for(;i&&I2(i)&&Eh(i);)i=sy(i,t);return i&&Zi(i)&&Eh(i)&&!zd(i)?n:i||j2(e)||n}const Fk=async function(e){const t=this.getOffsetParent||U_,n=this.getDimensions,i=await n(e.floating);return{reference:Lk(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function Nk(e){return fr(e).direction==="rtl"}const Ik={convertOffsetParentRelativeRectToViewportRelativeRect:Ek,getDocumentElement:Kr,getClippingRect:Pk,getOffsetParent:U_,getElementRects:Fk,getClientRects:Ck,getDimensions:Ok,getScale:Lo,isElement:Qe,isRTL:Nk};function V_(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function jk(e,t){let n=null,i;const o=Kr(e);function l(){var c;clearTimeout(i),(c=n)==null||c.disconnect(),n=null}function a(c,f){c===void 0&&(c=!1),f===void 0&&(f=1),l();const d=e.getBoundingClientRect(),{left:g,top:m,width:_,height:y}=d;if(c||t(),!_||!y)return;const x=ku(m),k=ku(o.clientWidth-(g+_)),S=ku(o.clientHeight-(m+y)),b=ku(g),C={rootMargin:-x+"px "+-k+"px "+-S+"px "+-b+"px",threshold:Ps(0,Hu(1,f))||1};let M=!0;function P(N){const j=N[0].intersectionRatio;if(j!==f){if(!M)return a();j?a(!1,j):i=setTimeout(()=>{a(!1,1e-7)},1e3)}j===1&&!V_(d,e.getBoundingClientRect())&&a(),M=!1}try{n=new IntersectionObserver(P,{...C,root:o.ownerDocument})}catch{n=new IntersectionObserver(P,C)}n.observe(e)}return a(!0),l}function H_(e,t,n,i){i===void 0&&(i={});const{ancestorScroll:o=!0,ancestorResize:l=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:f=!1}=i,d=Ud(e),g=o||l?[...d?Qi(d):[],...Qi(t)]:[];g.forEach(b=>{o&&b.addEventListener("scroll",n,{passive:!0}),l&&b.addEventListener("resize",n)});const m=d&&c?jk(d,n):null;let _=-1,y=null;a&&(y=new ResizeObserver(b=>{let[w]=b;w&&w.target===d&&y&&(y.unobserve(t),cancelAnimationFrame(_),_=requestAnimationFrame(()=>{var C;(C=y)==null||C.observe(t)})),n()}),d&&!f&&y.observe(d),y.observe(t));let x,k=f?Is(e):null;f&&S();function S(){const b=Is(e);k&&!V_(k,b)&&n(),k=b,x=requestAnimationFrame(S)}return n(),()=>{var b;g.forEach(w=>{o&&w.removeEventListener("scroll",n),l&&w.removeEventListener("resize",n)}),m==null||m(),(b=y)==null||b.disconnect(),y=null,f&&cancelAnimationFrame(x)}}const Dk=wk,zk=kk,Bk=vk,$k=(e,t,n)=>{const i=new Map,o={platform:Ik,...n},l={...o.platform,_c:i};return _k(e,t,{...o,platform:l})};var ju=typeof document<"u"?E.useLayoutEffect:E.useEffect;function Qu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,i,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(i=n;i--!==0;)if(!Qu(e[i],t[i]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(i=n;i--!==0;)if(!{}.hasOwnProperty.call(t,o[i]))return!1;for(i=n;i--!==0;){const l=o[i];if(!(l==="_owner"&&e.$$typeof)&&!Qu(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}function W_(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function oy(e,t){const n=W_(e);return Math.round(t*n)/n}function Ch(e){const t=E.useRef(e);return ju(()=>{t.current=e}),t}function Uk(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:i=[],platform:o,elements:{reference:l,floating:a}={},transform:c=!0,whileElementsMounted:f,open:d}=e,[g,m]=E.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[_,y]=E.useState(i);Qu(_,i)||y(i);const[x,k]=E.useState(null),[S,b]=E.useState(null),w=E.useCallback(D=>{D!==N.current&&(N.current=D,k(D))},[]),C=E.useCallback(D=>{D!==j.current&&(j.current=D,b(D))},[]),M=l||x,P=a||S,N=E.useRef(null),j=E.useRef(null),X=E.useRef(g),z=f!=null,W=Ch(f),K=Ch(o),q=Ch(d),ae=E.useCallback(()=>{if(!N.current||!j.current)return;const D={placement:t,strategy:n,middleware:_};K.current&&(D.platform=K.current),$k(N.current,j.current,D).then($=>{const G={...$,isPositioned:q.current!==!1};te.current&&!Qu(X.current,G)&&(X.current=G,$d.flushSync(()=>{m(G)}))})},[_,t,n,K,q]);ju(()=>{d===!1&&X.current.isPositioned&&(X.current.isPositioned=!1,m(D=>({...D,isPositioned:!1})))},[d]);const te=E.useRef(!1);ju(()=>(te.current=!0,()=>{te.current=!1}),[]),ju(()=>{if(M&&(N.current=M),P&&(j.current=P),M&&P){if(W.current)return W.current(M,P,ae);ae()}},[M,P,ae,W,z]);const re=E.useMemo(()=>({reference:N,floating:j,setReference:w,setFloating:C}),[w,C]),ue=E.useMemo(()=>({reference:M,floating:P}),[M,P]),Z=E.useMemo(()=>{const D={position:n,left:0,top:0};if(!ue.floating)return D;const $=oy(ue.floating,g.x),G=oy(ue.floating,g.y);return c?{...D,transform:"translate("+$+"px, "+G+"px)",...W_(ue.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:$,top:G}},[n,c,ue.floating,g.x,g.y]);return E.useMemo(()=>({...g,update:ae,refs:re,elements:ue,floatingStyles:Z}),[g,ae,re,ue,Z])}const Y_=(e,t)=>({...Dk(e),options:[e,t]}),X_=(e,t)=>({...zk(e),options:[e,t]}),K_=(e,t)=>({...Bk(e),options:[e,t]});function _c(e){return E.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})},e)}const q_={..._w},Vk=q_.useInsertionEffect,Hk=Vk||(e=>e());function br(e){const t=E.useRef(()=>{});return Hk(()=>{t.current=e}),E.useCallback(function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t.current==null?void 0:t.current(...i)},[])}var En=typeof document<"u"?E.useLayoutEffect:E.useEffect;function Zu(){return Zu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Zu.apply(this,arguments)}let ly=!1,Wk=0;const ay=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Wk++;function Yk(){const[e,t]=E.useState(()=>ly?ay():void 0);return En(()=>{e==null&&t(ay())},[]),E.useEffect(()=>{ly=!0},[]),e}const Xk=q_.useId,na=Xk||Yk;function Kk(){const e=new Map;return{emit(t,n){var i;(i=e.get(t))==null||i.forEach(o=>o(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var i;e.set(t,((i=e.get(t))==null?void 0:i.filter(o=>o!==n))||[])}}}const qk=E.createContext(null),Gk=E.createContext(null),Hd=()=>{var e;return((e=E.useContext(qk))==null?void 0:e.id)||null},vc=()=>E.useContext(Gk);function js(e){return"data-floating-ui-"+e}function Fo(e){const t=E.useRef(e);return En(()=>{t.current=e}),t}const uy=js("safe-polygon");function Rh(e,t,n){return n&&!Kl(n)?0:typeof e=="number"?e:e==null?void 0:e[t]}function Qk(e,t){t===void 0&&(t={});const{open:n,onOpenChange:i,dataRef:o,events:l,elements:a}=e,{enabled:c=!0,delay:f=0,handleClose:d=null,mouseOnly:g=!1,restMs:m=0,move:_=!0}=t,y=vc(),x=Hd(),k=Fo(d),S=Fo(f),b=Fo(n),w=E.useRef(),C=E.useRef(-1),M=E.useRef(),P=E.useRef(-1),N=E.useRef(!0),j=E.useRef(!1),X=E.useRef(()=>{}),z=E.useRef(!1),W=E.useCallback(()=>{var Z;const D=(Z=o.current.openEvent)==null?void 0:Z.type;return(D==null?void 0:D.includes("mouse"))&&D!=="mousedown"},[o]);E.useEffect(()=>{if(!c)return;function Z(D){let{open:$}=D;$||(clearTimeout(C.current),clearTimeout(P.current),N.current=!0,z.current=!1)}return l.on("openchange",Z),()=>{l.off("openchange",Z)}},[c,l]),E.useEffect(()=>{if(!c||!k.current||!n)return;function Z($){W()&&i(!1,$,"hover")}const D=Zt(a.floating).documentElement;return D.addEventListener("mouseleave",Z),()=>{D.removeEventListener("mouseleave",Z)}},[a.floating,n,i,c,k,W]);const K=E.useCallback(function(Z,D,$){D===void 0&&(D=!0),$===void 0&&($="hover");const G=Rh(S.current,"close",w.current);G&&!M.current?(clearTimeout(C.current),C.current=window.setTimeout(()=>i(!1,Z,$),G)):D&&(clearTimeout(C.current),i(!1,Z,$))},[S,i]),q=br(()=>{X.current(),M.current=void 0}),ae=br(()=>{if(j.current){const Z=Zt(a.floating).body;Z.style.pointerEvents="",Z.removeAttribute(uy),j.current=!1}}),te=br(()=>o.current.openEvent?["click","mousedown"].includes(o.current.openEvent.type):!1);E.useEffect(()=>{if(!c)return;function Z(L){if(clearTimeout(C.current),N.current=!1,g&&!Kl(w.current)||m>0&&!Rh(S.current,"open"))return;const Y=Rh(S.current,"open",w.current);Y?C.current=window.setTimeout(()=>{b.current||i(!0,L,"hover")},Y):n||i(!0,L,"hover")}function D(L){if(te())return;X.current();const Y=Zt(a.floating);if(clearTimeout(P.current),z.current=!1,k.current&&o.current.floatingContext){n||clearTimeout(C.current),M.current=k.current({...o.current.floatingContext,tree:y,x:L.clientX,y:L.clientY,onClose(){ae(),q(),te()||K(L,!0,"safe-polygon")}});const fe=M.current;Y.addEventListener("mousemove",fe),X.current=()=>{Y.removeEventListener("mousemove",fe)};return}(w.current==="touch"?!Qt(a.floating,L.relatedTarget):!0)&&K(L)}function $(L){te()||o.current.floatingContext&&(k.current==null||k.current({...o.current.floatingContext,tree:y,x:L.clientX,y:L.clientY,onClose(){ae(),q(),te()||K(L)}})(L))}if(Qe(a.domReference)){var G;const L=a.domReference;return n&&L.addEventListener("mouseleave",$),(G=a.floating)==null||G.addEventListener("mouseleave",$),_&&L.addEventListener("mousemove",Z,{once:!0}),L.addEventListener("mouseenter",Z),L.addEventListener("mouseleave",D),()=>{var Y;n&&L.removeEventListener("mouseleave",$),(Y=a.floating)==null||Y.removeEventListener("mouseleave",$),_&&L.removeEventListener("mousemove",Z),L.removeEventListener("mouseenter",Z),L.removeEventListener("mouseleave",D)}}},[a,c,e,g,m,_,K,q,ae,i,n,b,y,S,k,o,te]),En(()=>{var Z;if(c&&n&&(Z=k.current)!=null&&Z.__options.blockPointerEvents&&W()){j.current=!0;const $=a.floating;if(Qe(a.domReference)&&$){var D;const G=Zt(a.floating).body;G.setAttribute(uy,"");const L=a.domReference,Y=y==null||(D=y.nodesRef.current.find(we=>we.id===x))==null||(D=D.context)==null?void 0:D.elements.floating;return Y&&(Y.style.pointerEvents=""),G.style.pointerEvents="none",L.style.pointerEvents="auto",$.style.pointerEvents="auto",()=>{G.style.pointerEvents="",L.style.pointerEvents="",$.style.pointerEvents=""}}}},[c,n,x,a,y,k,W]),En(()=>{n||(w.current=void 0,z.current=!1,q(),ae())},[n,q,ae]),E.useEffect(()=>()=>{q(),clearTimeout(C.current),clearTimeout(P.current),ae()},[c,a.domReference,q,ae]);const re=E.useMemo(()=>{function Z(D){w.current=D.pointerType}return{onPointerDown:Z,onPointerEnter:Z,onMouseMove(D){const{nativeEvent:$}=D;function G(){!N.current&&!b.current&&i(!0,$,"hover")}g&&!Kl(w.current)||n||m===0||z.current&&D.movementX**2+D.movementY**2<2||(clearTimeout(P.current),w.current==="touch"?G():(z.current=!0,P.current=window.setTimeout(G,m)))}}},[g,i,n,b,m]),ue=E.useMemo(()=>({onMouseEnter(){clearTimeout(C.current)},onMouseLeave(Z){te()||K(Z.nativeEvent,!1)}}),[K,te]);return E.useMemo(()=>c?{reference:re,floating:ue}:{},[c,re,ue])}let cy=0;function vo(e,t){t===void 0&&(t={});const{preventScroll:n=!1,cancelPrevious:i=!0,sync:o=!1}=t;i&&cancelAnimationFrame(cy);const l=()=>e==null?void 0:e.focus({preventScroll:n});o?l():cy=requestAnimationFrame(l)}function Zk(e,t){var n;let i=[],o=(n=e.find(l=>l.id===t))==null?void 0:n.parentId;for(;o;){const l=e.find(a=>a.id===o);o=l==null?void 0:l.parentId,l&&(i=i.concat(l))}return i}function Hl(e,t){let n=e.filter(o=>{var l;return o.parentId===t&&((l=o.context)==null?void 0:l.open)}),i=n;for(;i.length;)i=e.filter(o=>{var l;return(l=i)==null?void 0:l.some(a=>{var c;return o.parentId===a.id&&((c=o.context)==null?void 0:c.open)})}),n=n.concat(i);return n}let xo=new WeakMap,bu=new WeakSet,Su={},Th=0;const Jk=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,G_=e=>e&&(e.host||G_(e.parentNode)),eb=(e,t)=>t.map(n=>{if(e.contains(n))return n;const i=G_(n);return e.contains(i)?i:null}).filter(n=>n!=null);function tb(e,t,n,i){const o="data-floating-ui-inert",l=i?"inert":n?"aria-hidden":null,a=eb(t,e),c=new Set,f=new Set(a),d=[];Su[o]||(Su[o]=new WeakMap);const g=Su[o];a.forEach(m),_(t),c.clear();function m(y){!y||c.has(y)||(c.add(y),y.parentNode&&m(y.parentNode))}function _(y){!y||f.has(y)||[].forEach.call(y.children,x=>{if(ns(x)!=="script")if(c.has(x))_(x);else{const k=l?x.getAttribute(l):null,S=k!==null&&k!=="false",b=(xo.get(x)||0)+1,w=(g.get(x)||0)+1;xo.set(x,b),g.set(x,w),d.push(x),b===1&&S&&bu.add(x),w===1&&x.setAttribute(o,""),!S&&l&&x.setAttribute(l,"true")}})}return Th++,()=>{d.forEach(y=>{const x=(xo.get(y)||0)-1,k=(g.get(y)||0)-1;xo.set(y,x),g.set(y,k),x||(!bu.has(y)&&l&&y.removeAttribute(l),bu.delete(y)),k||y.removeAttribute(o)}),Th--,Th||(xo=new WeakMap,xo=new WeakMap,bu=new WeakSet,Su={})}}function fy(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=Zt(e[0]).body;return tb(e.concat(Array.from(i.querySelectorAll("[aria-live]"))),i,t,n)}const ql=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function Q_(e,t){const n=yc(e,ql());t==="prev"&&n.reverse();const i=n.indexOf(pi(Zt(e)));return n.slice(i+1)[0]}function Z_(){return Q_(document.body,"next")}function J_(){return Q_(document.body,"prev")}function Wl(e,t){const n=t||e.currentTarget,i=e.relatedTarget;return!i||!Qt(n,i)}function nb(e){yc(e,ql()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function hy(e){e.querySelectorAll("[data-tabindex]").forEach(n=>{const i=n.dataset.tabindex;delete n.dataset.tabindex,i?n.setAttribute("tabindex",i):n.removeAttribute("tabindex")})}const xc={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let rb;function dy(e){e.key==="Tab"&&(e.target,clearTimeout(rb))}const Ju=E.forwardRef(function(t,n){const[i,o]=E.useState();En(()=>(M_()&&o("button"),document.addEventListener("keydown",dy),()=>{document.removeEventListener("keydown",dy)}),[]);const l={ref:n,tabIndex:0,role:i,"aria-hidden":i?void 0:!0,[js("focus-guard")]:"",style:xc};return E.createElement("span",Zu({},t,l))}),ev=E.createContext(null),py=js("portal");function ib(e){e===void 0&&(e={});const{id:t,root:n}=e,i=na(),o=nv(),[l,a]=E.useState(null),c=E.useRef(null);return En(()=>()=>{l==null||l.remove(),queueMicrotask(()=>{c.current=null})},[l]),En(()=>{if(!i||c.current)return;const f=t?document.getElementById(t):null;if(!f)return;const d=document.createElement("div");d.id=i,d.setAttribute(py,""),f.appendChild(d),c.current=d,a(d)},[t,i]),En(()=>{if(n===null||!i||c.current)return;let f=n||(o==null?void 0:o.portalNode);f&&!Qe(f)&&(f=f.current),f=f||document.body;let d=null;t&&(d=document.createElement("div"),d.id=t,f.appendChild(d));const g=document.createElement("div");g.id=i,g.setAttribute(py,""),f=d||f,f.appendChild(g),c.current=g,a(g)},[t,n,i,o]),l}function tv(e){const{children:t,id:n,root:i,preserveTabOrder:o=!0}=e,l=ib({id:n,root:i}),[a,c]=E.useState(null),f=E.useRef(null),d=E.useRef(null),g=E.useRef(null),m=E.useRef(null),_=a==null?void 0:a.modal,y=a==null?void 0:a.open,x=!!a&&!a.modal&&a.open&&o&&!!(i||l);return E.useEffect(()=>{if(!l||!o||_)return;function k(S){l&&Wl(S)&&(S.type==="focusin"?hy:nb)(l)}return l.addEventListener("focusin",k,!0),l.addEventListener("focusout",k,!0),()=>{l.removeEventListener("focusin",k,!0),l.removeEventListener("focusout",k,!0)}},[l,o,_]),E.useEffect(()=>{l&&(y||hy(l))},[y,l]),E.createElement(ev.Provider,{value:E.useMemo(()=>({preserveTabOrder:o,beforeOutsideRef:f,afterOutsideRef:d,beforeInsideRef:g,afterInsideRef:m,portalNode:l,setFocusManagerState:c}),[o,l])},x&&l&&E.createElement(Ju,{"data-type":"outside",ref:f,onFocus:k=>{if(Wl(k,l)){var S;(S=g.current)==null||S.focus()}else{const b=J_()||(a==null?void 0:a.refs.domReference.current);b==null||b.focus()}}}),x&&l&&E.createElement("span",{"aria-owns":l.id,style:xc}),l&&$d.createPortal(t,l),x&&l&&E.createElement(Ju,{"data-type":"outside",ref:d,onFocus:k=>{if(Wl(k,l)){var S;(S=m.current)==null||S.focus()}else{const b=Z_()||(a==null?void 0:a.refs.domReference.current);b==null||b.focus(),a!=null&&a.closeOnFocusOut&&(a==null||a.onOpenChange(!1,k.nativeEvent,"focus-out"))}}}))}const nv=()=>E.useContext(ev),ad="data-floating-ui-focusable";function sb(e){return e?e.hasAttribute(ad)?e:e.querySelector("["+ad+"]")||e:null}const ob=20;let xs=[];function Mh(e){xs=xs.filter(n=>n.isConnected);let t=e;if(!(!t||ns(t)==="body")){if(!yk(t,ql())){const n=yc(t,ql())[0];n&&(t=n)}xs.push(t),xs.length>ob&&(xs=xs.slice(-20))}}function gy(){return xs.slice().reverse().find(e=>e.isConnected)}const lb=E.forwardRef(function(t,n){return E.createElement("button",Zu({},t,{type:"button",ref:n,tabIndex:-1,style:xc}))});function ab(e){const{context:t,children:n,disabled:i=!1,order:o=["content"],guards:l=!0,initialFocus:a=0,returnFocus:c=!0,restoreFocus:f=!1,modal:d=!0,visuallyHiddenDismiss:g=!1,closeOnFocusOut:m=!0}=e,{open:_,refs:y,nodeId:x,onOpenChange:k,events:S,dataRef:b,floatingId:w,elements:{domReference:C,floating:M}}=t,P=typeof a=="number"&&a<0,N=H2(C)&&P,j=Jk()?l:!0,X=Fo(o),z=Fo(a),W=Fo(c),K=vc(),q=nv(),ae=E.useRef(null),te=E.useRef(null),re=E.useRef(!1),ue=E.useRef(!1),Z=E.useRef(-1),D=q!=null,$=sb(M),G=br(function(fe){return fe===void 0&&(fe=$),fe?yc(fe,ql()):[]}),L=br(fe=>{const oe=G(fe);return X.current.map(Q=>C&&Q==="reference"?C:$&&Q==="floating"?$:oe).filter(Boolean).flat()});E.useEffect(()=>{if(i||!d)return;function fe(Q){if(Q.key==="Tab"){Qt($,pi(Zt($)))&&G().length===0&&!N&&Sh(Q);const se=L(),ee=Yi(Q);X.current[0]==="reference"&&ee===C&&(Sh(Q),Q.shiftKey?vo(se[se.length-1]):vo(se[1])),X.current[1]==="floating"&&ee===$&&Q.shiftKey&&(Sh(Q),vo(se[0]))}}const oe=Zt($);return oe.addEventListener("keydown",fe),()=>{oe.removeEventListener("keydown",fe)}},[i,C,$,d,X,N,G,L]),E.useEffect(()=>{if(i||!M)return;function fe(oe){const Q=Yi(oe),ee=G().indexOf(Q);ee!==-1&&(Z.current=ee)}return M.addEventListener("focusin",fe),()=>{M.removeEventListener("focusin",fe)}},[i,M,G]),E.useEffect(()=>{if(i||!m)return;function fe(){ue.current=!0,setTimeout(()=>{ue.current=!1})}function oe(Q){const se=Q.relatedTarget;queueMicrotask(()=>{const ee=!(Qt(C,se)||Qt(M,se)||Qt(se,M)||Qt(q==null?void 0:q.portalNode,se)||se!=null&&se.hasAttribute(js("focus-guard"))||K&&(Hl(K.nodesRef.current,x).find(Ce=>{var Me,He;return Qt((Me=Ce.context)==null?void 0:Me.elements.floating,se)||Qt((He=Ce.context)==null?void 0:He.elements.domReference,se)})||Zk(K.nodesRef.current,x).find(Ce=>{var Me,He;return((Me=Ce.context)==null?void 0:Me.elements.floating)===se||((He=Ce.context)==null?void 0:He.elements.domReference)===se})));if(f&&ee&&pi(Zt($))===Zt($).body){Tt($)&&$.focus();const Ce=Z.current,Me=G(),He=Me[Ce]||Me[Me.length-1]||$;Tt(He)&&He.focus()}(N||!d)&&se&&ee&&!ue.current&&se!==gy()&&(re.current=!0,k(!1,Q,"focus-out"))})}if(M&&Tt(C))return C.addEventListener("focusout",oe),C.addEventListener("pointerdown",fe),M.addEventListener("focusout",oe),()=>{C.removeEventListener("focusout",oe),C.removeEventListener("pointerdown",fe),M.removeEventListener("focusout",oe)}},[i,C,M,$,d,x,K,q,k,m,f,G,N]),E.useEffect(()=>{var fe;if(i)return;const oe=Array.from((q==null||(fe=q.portalNode)==null?void 0:fe.querySelectorAll("["+js("portal")+"]"))||[]);if(M){const Q=[M,...oe,ae.current,te.current,X.current.includes("reference")||N?C:null].filter(ee=>ee!=null),se=d||N?fy(Q,j,!j):fy(Q);return()=>{se()}}},[i,C,M,d,X,q,N,j]),En(()=>{if(i||!Tt($))return;const fe=Zt($),oe=pi(fe);queueMicrotask(()=>{const Q=L($),se=z.current,ee=(typeof se=="number"?Q[se]:se.current)||$,Ce=Qt($,oe);!P&&!Ce&&_&&vo(ee,{preventScroll:ee===$})})},[i,_,$,P,L,z]),En(()=>{if(i||!$)return;let fe=!1;const oe=Zt($),Q=pi(oe);let ee=b.current.openEvent;Mh(Q);function Ce(pt){let{open:$t,reason:Mt,event:gt,nested:Ut}=pt;$t&&(ee=gt),Mt==="escape-key"&&y.domReference.current&&Mh(y.domReference.current),Mt==="hover"&&gt.type==="mouseleave"&&(re.current=!0),Mt==="outside-press"&&(Ut?(re.current=!1,fe=!0):re.current=!(D2(gt)||T_(gt)))}S.on("openchange",Ce);const Me=oe.createElement("span");Me.setAttribute("tabindex","-1"),Me.setAttribute("aria-hidden","true"),Object.assign(Me.style,xc),D&&C&&C.insertAdjacentElement("afterend",Me);function He(){return typeof W.current=="boolean"?gy()||Me:W.current.current||Me}return()=>{S.off("openchange",Ce);const pt=pi(oe),$t=Qt(M,pt)||K&&Hl(K.nodesRef.current,x).some(Ut=>{var rn;return Qt((rn=Ut.context)==null?void 0:rn.elements.floating,pt)});($t||ee&&["click","mousedown"].includes(ee.type))&&y.domReference.current&&Mh(y.domReference.current);const gt=He();queueMicrotask(()=>{W.current&&!re.current&&Tt(gt)&&(!(gt!==pt&&pt!==oe.body)||$t)&&gt.focus({preventScroll:fe}),Me.remove()})}},[i,M,$,W,b,y,S,K,x,D,C]),E.useEffect(()=>{queueMicrotask(()=>{re.current=!1})},[i]),En(()=>{if(!i&&q)return q.setFocusManagerState({modal:d,closeOnFocusOut:m,open:_,onOpenChange:k,refs:y}),()=>{q.setFocusManagerState(null)}},[i,q,d,_,k,y,m]),En(()=>{if(i||!$||typeof MutationObserver!="function"||P)return;const fe=()=>{const Q=$.getAttribute("tabindex"),se=G(),ee=pi(Zt(M)),Ce=se.indexOf(ee);Ce!==-1&&(Z.current=Ce),X.current.includes("floating")||ee!==y.domReference.current&&se.length===0?Q!=="0"&&$.setAttribute("tabindex","0"):Q!=="-1"&&$.setAttribute("tabindex","-1")};fe();const oe=new MutationObserver(fe);return oe.observe($,{childList:!0,subtree:!0,attributes:!0}),()=>{oe.disconnect()}},[i,M,$,y,X,G,P]);function Y(fe){return i||!g||!d?null:E.createElement(lb,{ref:fe==="start"?ae:te,onClick:oe=>k(!1,oe.nativeEvent)},typeof g=="string"?g:"Dismiss")}const we=!i&&j&&(d?!N:!0)&&(D||d);return E.createElement(E.Fragment,null,we&&E.createElement(Ju,{"data-type":"inside",ref:q==null?void 0:q.beforeInsideRef,onFocus:fe=>{if(d){const Q=L();vo(o[0]==="reference"?Q[0]:Q[Q.length-1])}else if(q!=null&&q.preserveTabOrder&&q.portalNode)if(re.current=!1,Wl(fe,q.portalNode)){const Q=Z_()||C;Q==null||Q.focus()}else{var oe;(oe=q.beforeOutsideRef.current)==null||oe.focus()}}}),!N&&Y("start"),n,Y("end"),we&&E.createElement(Ju,{"data-type":"inside",ref:q==null?void 0:q.afterInsideRef,onFocus:fe=>{if(d)vo(L()[0]);else if(q!=null&&q.preserveTabOrder&&q.portalNode)if(m&&(re.current=!0),Wl(fe,q.portalNode)){const Q=J_()||C;Q==null||Q.focus()}else{var oe;(oe=q.afterOutsideRef.current)==null||oe.focus()}}}))}function my(e){return Tt(e.target)&&e.target.tagName==="BUTTON"}function yy(e){return Bd(e)}function ub(e,t){t===void 0&&(t={});const{open:n,onOpenChange:i,dataRef:o,elements:{domReference:l}}=e,{enabled:a=!0,event:c="click",toggle:f=!0,ignoreMouse:d=!1,keyboardHandlers:g=!0,stickIfOpen:m=!0}=t,_=E.useRef(),y=E.useRef(!1),x=E.useMemo(()=>({onPointerDown(k){_.current=k.pointerType},onMouseDown(k){const S=_.current;k.button===0&&c!=="click"&&(Kl(S,!0)&&d||(n&&f&&(!(o.current.openEvent&&m)||o.current.openEvent.type==="mousedown")?i(!1,k.nativeEvent,"click"):(k.preventDefault(),i(!0,k.nativeEvent,"click"))))},onClick(k){const S=_.current;if(c==="mousedown"&&_.current){_.current=void 0;return}Kl(S,!0)&&d||(n&&f&&(!(o.current.openEvent&&m)||o.current.openEvent.type==="click")?i(!1,k.nativeEvent,"click"):i(!0,k.nativeEvent,"click"))},onKeyDown(k){_.current=void 0,!(k.defaultPrevented||!g||my(k))&&(k.key===" "&&!yy(l)&&(k.preventDefault(),y.current=!0),k.key==="Enter"&&i(!(n&&f),k.nativeEvent,"click"))},onKeyUp(k){k.defaultPrevented||!g||my(k)||yy(l)||k.key===" "&&y.current&&(y.current=!1,i(!(n&&f),k.nativeEvent,"click"))}}),[o,l,c,d,g,i,n,m,f]);return E.useMemo(()=>a?{reference:x}:{},[a,x])}const cb={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},fb={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},_y=e=>{var t,n;return{escapeKey:typeof e=="boolean"?e:(t=e==null?void 0:e.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(n=e==null?void 0:e.outsidePress)!=null?n:!0}};function rv(e,t){t===void 0&&(t={});const{open:n,onOpenChange:i,elements:o,dataRef:l}=e,{enabled:a=!0,escapeKey:c=!0,outsidePress:f=!0,outsidePressEvent:d="pointerdown",referencePress:g=!1,referencePressEvent:m="pointerdown",ancestorScroll:_=!1,bubbles:y,capture:x}=t,k=vc(),S=br(typeof f=="function"?f:()=>!1),b=typeof f=="function"?S:f,w=E.useRef(!1),C=E.useRef(!1),{escapeKey:M,outsidePress:P}=_y(y),{escapeKey:N,outsidePress:j}=_y(x),X=E.useRef(!1),z=br(re=>{var ue;if(!n||!a||!c||re.key!=="Escape"||X.current)return;const Z=(ue=l.current.floatingContext)==null?void 0:ue.nodeId,D=k?Hl(k.nodesRef.current,Z):[];if(!M&&(re.stopPropagation(),D.length>0)){let $=!0;if(D.forEach(G=>{var L;if((L=G.context)!=null&&L.open&&!G.context.dataRef.current.__escapeKeyBubbles){$=!1;return}}),!$)return}i(!1,$2(re)?re.nativeEvent:re,"escape-key")}),W=br(re=>{var ue;const Z=()=>{var D;z(re),(D=Yi(re))==null||D.removeEventListener("keydown",Z)};(ue=Yi(re))==null||ue.addEventListener("keydown",Z)}),K=br(re=>{var ue;const Z=w.current;w.current=!1;const D=C.current;if(C.current=!1,d==="click"&&D||Z||typeof b=="function"&&!b(re))return;const $=Yi(re),G="["+js("inert")+"]",L=Zt(o.floating).querySelectorAll(G);let Y=Qe($)?$:null;for(;Y&&!Zi(Y);){const Q=_i(Y);if(Zi(Q)||!Qe(Q))break;Y=Q}if(L.length&&Qe($)&&!U2($)&&!Qt($,o.floating)&&Array.from(L).every(Q=>!Qt(Y,Q)))return;if(Tt($)&&te){const Q=$.clientWidth>0&&$.scrollWidth>$.clientWidth,se=$.clientHeight>0&&$.scrollHeight>$.clientHeight;let ee=se&&re.offsetX>$.clientWidth;if(se&&fr($).direction==="rtl"&&(ee=re.offsetX<=$.offsetWidth-$.clientWidth),ee||Q&&re.offsetY>$.clientHeight)return}const we=(ue=l.current.floatingContext)==null?void 0:ue.nodeId,fe=k&&Hl(k.nodesRef.current,we).some(Q=>{var se;return bh(re,(se=Q.context)==null?void 0:se.elements.floating)});if(bh(re,o.floating)||bh(re,o.domReference)||fe)return;const oe=k?Hl(k.nodesRef.current,we):[];if(oe.length>0){let Q=!0;if(oe.forEach(se=>{var ee;if((ee=se.context)!=null&&ee.open&&!se.context.dataRef.current.__outsidePressBubbles){Q=!1;return}}),!Q)return}i(!1,re,"outside-press")}),q=br(re=>{var ue;const Z=()=>{var D;K(re),(D=Yi(re))==null||D.removeEventListener(d,Z)};(ue=Yi(re))==null||ue.addEventListener(d,Z)});E.useEffect(()=>{if(!n||!a)return;l.current.__escapeKeyBubbles=M,l.current.__outsidePressBubbles=P;let re=-1;function ue(L){i(!1,L,"ancestor-scroll")}function Z(){window.clearTimeout(re),X.current=!0}function D(){re=window.setTimeout(()=>{X.current=!1},dc()?5:0)}const $=Zt(o.floating);c&&($.addEventListener("keydown",N?W:z,N),$.addEventListener("compositionstart",Z),$.addEventListener("compositionend",D)),b&&$.addEventListener(d,j?q:K,j);let G=[];return _&&(Qe(o.domReference)&&(G=Qi(o.domReference)),Qe(o.floating)&&(G=G.concat(Qi(o.floating))),!Qe(o.reference)&&o.reference&&o.reference.contextElement&&(G=G.concat(Qi(o.reference.contextElement)))),G=G.filter(L=>{var Y;return L!==((Y=$.defaultView)==null?void 0:Y.visualViewport)}),G.forEach(L=>{L.addEventListener("scroll",ue,{passive:!0})}),()=>{c&&($.removeEventListener("keydown",N?W:z,N),$.removeEventListener("compositionstart",Z),$.removeEventListener("compositionend",D)),b&&$.removeEventListener(d,j?q:K,j),G.forEach(L=>{L.removeEventListener("scroll",ue)}),window.clearTimeout(re)}},[l,o,c,b,d,n,i,_,a,M,P,z,N,W,K,j,q]),E.useEffect(()=>{w.current=!1},[b,d]);const ae=E.useMemo(()=>({onKeyDown:z,[cb[m]]:re=>{g&&i(!1,re.nativeEvent,"reference-press")}}),[z,i,g,m]),te=E.useMemo(()=>({onKeyDown:z,onMouseDown(){C.current=!0},onMouseUp(){C.current=!0},[fb[d]]:()=>{w.current=!0}}),[z,d]);return E.useMemo(()=>a?{reference:ae,floating:te}:{},[a,ae,te])}function hb(e){const{open:t=!1,onOpenChange:n,elements:i}=e,o=na(),l=E.useRef({}),[a]=E.useState(()=>Kk()),c=Hd()!=null,[f,d]=E.useState(i.reference),g=br((y,x,k)=>{l.current.openEvent=y?x:void 0,a.emit("openchange",{open:y,event:x,reason:k,nested:c}),n==null||n(y,x,k)}),m=E.useMemo(()=>({setPositionReference:d}),[]),_=E.useMemo(()=>({reference:f||i.reference||null,floating:i.floating||null,domReference:i.reference}),[f,i.reference,i.floating]);return E.useMemo(()=>({dataRef:l,open:t,onOpenChange:g,elements:_,events:a,floatingId:o,refs:m}),[t,g,_,a,o,m])}function iv(e){e===void 0&&(e={});const{nodeId:t}=e,n=hb({...e,elements:{reference:null,floating:null,...e.elements}}),i=e.rootContext||n,o=i.elements,[l,a]=E.useState(null),[c,f]=E.useState(null),g=(o==null?void 0:o.domReference)||l,m=E.useRef(null),_=vc();En(()=>{g&&(m.current=g)},[g]);const y=Uk({...e,elements:{...o,...c&&{reference:c}}}),x=E.useCallback(C=>{const M=Qe(C)?{getBoundingClientRect:()=>C.getBoundingClientRect(),contextElement:C}:C;f(M),y.refs.setReference(M)},[y.refs]),k=E.useCallback(C=>{(Qe(C)||C===null)&&(m.current=C,a(C)),(Qe(y.refs.reference.current)||y.refs.reference.current===null||C!==null&&!Qe(C))&&y.refs.setReference(C)},[y.refs]),S=E.useMemo(()=>({...y.refs,setReference:k,setPositionReference:x,domReference:m}),[y.refs,k,x]),b=E.useMemo(()=>({...y.elements,domReference:g}),[y.elements,g]),w=E.useMemo(()=>({...y,...i,refs:S,elements:b,nodeId:t}),[y,S,b,t,i]);return En(()=>{i.dataRef.current.floatingContext=w;const C=_==null?void 0:_.nodesRef.current.find(M=>M.id===t);C&&(C.context=w)}),E.useMemo(()=>({...y,context:w,refs:S,elements:b}),[y,S,b,w])}function db(e,t){t===void 0&&(t={});const{open:n,onOpenChange:i,events:o,dataRef:l,elements:a}=e,{enabled:c=!0,visibleOnly:f=!0}=t,d=E.useRef(!1),g=E.useRef(),m=E.useRef(!0);E.useEffect(()=>{if(!c)return;const y=Tn(a.domReference);function x(){!n&&Tt(a.domReference)&&a.domReference===pi(Zt(a.domReference))&&(d.current=!0)}function k(){m.current=!0}return y.addEventListener("blur",x),y.addEventListener("keydown",k,!0),()=>{y.removeEventListener("blur",x),y.removeEventListener("keydown",k,!0)}},[a.domReference,n,c]),E.useEffect(()=>{if(!c)return;function y(x){let{reason:k}=x;(k==="reference-press"||k==="escape-key")&&(d.current=!0)}return o.on("openchange",y),()=>{o.off("openchange",y)}},[o,c]),E.useEffect(()=>()=>{clearTimeout(g.current)},[]);const _=E.useMemo(()=>({onPointerDown(y){T_(y.nativeEvent)||(m.current=!1)},onMouseLeave(){d.current=!1},onFocus(y){if(d.current)return;const x=Yi(y.nativeEvent);if(f&&Qe(x))try{if(M_()&&z2())throw Error();if(!x.matches(":focus-visible"))return}catch{if(!m.current&&!Bd(x))return}i(!0,y.nativeEvent,"focus")},onBlur(y){d.current=!1;const x=y.relatedTarget,k=y.nativeEvent,S=Qe(x)&&x.hasAttribute(js("focus-guard"))&&x.getAttribute("data-type")==="outside";g.current=window.setTimeout(()=>{var b;const w=pi(a.domReference?a.domReference.ownerDocument:document);!x&&w===a.domReference||Qt((b=l.current.floatingContext)==null?void 0:b.refs.floating.current,w)||Qt(a.domReference,w)||S||i(!1,k,"focus")})}}),[l,a.domReference,i,f]);return E.useMemo(()=>c?{reference:_}:{},[c,_])}const vy="active",xy="selected";function Ah(e,t,n){const i=new Map,o=n==="item";let l=e;if(o&&e){const{[vy]:a,[xy]:c,...f}=e;l=f}return{...n==="floating"&&{tabIndex:-1,[ad]:""},...l,...t.map(a=>{const c=a?a[n]:null;return typeof c=="function"?e?c(e):null:c}).concat(e).reduce((a,c)=>(c&&Object.entries(c).forEach(f=>{let[d,g]=f;if(!(o&&[vy,xy].includes(d)))if(d.indexOf("on")===0){if(i.has(d)||i.set(d,[]),typeof g=="function"){var m;(m=i.get(d))==null||m.push(g),a[d]=function(){for(var _,y=arguments.length,x=new Array(y),k=0;k<y;k++)x[k]=arguments[k];return(_=i.get(d))==null?void 0:_.map(S=>S(...x)).find(S=>S!==void 0)}}}else a[d]=g}),a),{})}}function sv(e){e===void 0&&(e=[]);const t=e.map(c=>c==null?void 0:c.reference),n=e.map(c=>c==null?void 0:c.floating),i=e.map(c=>c==null?void 0:c.item),o=E.useCallback(c=>Ah(c,e,"reference"),t),l=E.useCallback(c=>Ah(c,e,"floating"),n),a=E.useCallback(c=>Ah(c,e,"item"),i);return E.useMemo(()=>({getReferenceProps:o,getFloatingProps:l,getItemProps:a}),[o,l,a])}const pb=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function ov(e,t){var n;t===void 0&&(t={});const{open:i,floatingId:o}=e,{enabled:l=!0,role:a="dialog"}=t,c=(n=pb.get(a))!=null?n:a,f=na(),g=Hd()!=null,m=E.useMemo(()=>c==="tooltip"||a==="label"?{["aria-"+(a==="label"?"labelledby":"describedby")]:i?o:void 0}:{"aria-expanded":i?"true":"false","aria-haspopup":c==="alertdialog"?"dialog":c,"aria-controls":i?o:void 0,...c==="listbox"&&{role:"combobox"},...c==="menu"&&{id:f},...c==="menu"&&g&&{role:"menuitem"},...a==="select"&&{"aria-autocomplete":"none"},...a==="combobox"&&{"aria-autocomplete":"list"}},[c,o,g,i,f,a]),_=E.useMemo(()=>{const x={id:o,...c&&{role:c}};return c==="tooltip"||a==="label"?x:{...x,...c==="menu"&&{"aria-labelledby":f}}},[c,o,f,a]),y=E.useCallback(x=>{let{active:k,selected:S}=x;const b={role:"option",...k&&{id:o+"-option"}};switch(a){case"select":return{...b,"aria-selected":k&&S};case"combobox":return{...b,...k&&{"aria-selected":!0}}}return{}},[o,a]);return E.useMemo(()=>l?{reference:m,floating:_,item:y}:{},[l,m,_,y])}function gb({initialOpen:e=!1,placement:t="top",open:n,onOpenChange:i}={}){const[o,l]=E.useState(e),a=n??o,c=i??l,f=iv({placement:t,open:a,onOpenChange:c,whileElementsMounted:H_,middleware:[Y_(5),K_({crossAxis:t.includes("-"),fallbackAxisSideDirection:"start",padding:5}),X_({padding:5})]}),d=f.context,g=Qk(d,{move:!1,enabled:n==null,delay:{open:1e3,close:0}}),m=db(d,{enabled:n==null}),_=rv(d),y=ov(d,{role:"tooltip"}),x=sv([g,m,_,y]);return E.useMemo(()=>({open:a,setOpen:c,...x,...f}),[a,c,x,f])}const lv=E.createContext(null),av=()=>{const e=E.useContext(lv);if(e==null)throw new Error("Tooltip components must be wrapped in <Tooltip />");return e};function mb({children:e,...t}){const n=gb(t);return A.jsx(lv.Provider,{value:n,children:e})}const yb=E.forwardRef(function({children:t,asChild:n=!1,...i},o){const l=av(),a=t.ref,c=_c([l.refs.setReference,o,a]);return n&&E.isValidElement(t)?E.cloneElement(t,l.getReferenceProps({ref:c,...i,...t.props,"data-state":l.open?"open":"closed"})):A.jsx("div",{ref:c,"data-state":l.open?"open":"closed",...l.getReferenceProps(i),children:t})}),_b=E.forwardRef(function({style:t,...n},i){const o=av(),l=_c([o.refs.setFloating,i]);return o.open?A.jsx(tv,{children:A.jsx("div",{ref:l,style:{...o.floatingStyles,...t},...o.getFloatingProps(n)})}):null}),Ct=({children:e,tooltip:t,...n})=>E.isValidElement(e)?A.jsxs(mb,{children:[A.jsx(yb,{children:E.cloneElement(e,n)}),A.jsx(_b,{className:"py-1 px-2 bg-default-2 border border-default-1 text-white rounded text-xs font-normal max-w-sm",children:t})]}):(console.error("WithTooltip expects a single element as a child."),null),vb=()=>A.jsx("div",{className:"absolute bottom-0 left-0 h-14 min-h-14 right-0 md:right-auto md:top-0  md:h-auto md:w-14",children:A.jsxs("div",{className:"h-full bg-default-2 border-t md:border-r md:border-t-0 border-default-1 flex md:flex-col justify-center md:justify-start items-center gap-4 py-2 md:pt-4",children:[A.jsx(Ct,{tooltip:"Hand tool [H]",children:A.jsx(Fr,{value:"hand",children:A.jsx(n2,{stroke:1})})}),A.jsx(Ct,{tooltip:"Pointer tool [P]",children:A.jsx(Fr,{value:"pointer",children:A.jsx(c2,{stroke:1})})}),A.jsx(Ct,{tooltip:"Eraser tool [E]",children:A.jsx(Fr,{value:"eraser",children:A.jsx(Kw,{stroke:1})})}),A.jsx(Ct,{tooltip:"Brush tool [B]",children:A.jsx(Fr,{value:"brush",children:A.jsx(jd,{stroke:1})})}),A.jsx(Ct,{tooltip:"Rectangle tool [R]",children:A.jsx(Fr,{value:"square",children:A.jsx(w_,{stroke:1})})}),A.jsx(Ct,{tooltip:"Line tool [L]",children:A.jsx(Fr,{value:"line",children:A.jsx(cc,{stroke:1})})}),A.jsx(Ct,{tooltip:"Arrow tool [A]",children:A.jsx(Fr,{value:"arrow",children:A.jsx(v_,{stroke:1})})}),A.jsx(Ct,{tooltip:"Pen tool [C]",children:A.jsx(Fr,{value:"bezier",children:A.jsx(k_,{stroke:1})})}),A.jsx(Ct,{tooltip:"Text tool [T]",children:A.jsx(Fr,{value:"text",children:A.jsx(Dd,{stroke:1})})}),A.jsx(Ct,{tooltip:"Zoom tool [Z]",children:A.jsx(Fr,{value:"zoom",children:A.jsx(N2,{stroke:1})})})]})}),Fr=({value:e,children:t})=>{let n=Ke(a=>a.selectedTool);const i=Ke(a=>a.restoreTool);i&&(n=i);const o=Ke(a=>a.setSelectedTool),l=n===e;return A.jsx("button",{type:"button",className:`p-1 rounded  ${l?"bg-primary":"hover:bg-default-3"}`,onClick:()=>o(e),children:t})};function uv(e,t){let n=0,i=null;return function(...o){const l=Date.now();l-n>=t?(n=l,e.apply(this,o)):(i&&clearTimeout(i),i=setTimeout(()=>{n=Date.now(),e.apply(this,o)},t-(l-n)))}}const ud="Sketch: ",cv=e=>`${ud}${e}`;function xb(e){const t=localStorage.getItem(cv(e));if(t)try{return JSON.parse(t)}catch(n){return console.error("Failed to parse localStorage item",n),null}return null}function wb(e,t){try{const n=JSON.stringify(t);localStorage.setItem(cv(e),n)}catch(n){console.error("Failed to stringify or set localStorage item",n)}}function kb(){const e=[];for(let t=0;t<localStorage.length;t++){const n=localStorage.key(t);n&&n.startsWith(ud)&&e.push(n.substring(ud.length))}return e}var fv=Object.defineProperty,bb=Object.defineProperties,Sb=Object.getOwnPropertyDescriptors,wy=Object.getOwnPropertySymbols,Eb=Object.prototype.hasOwnProperty,Cb=Object.prototype.propertyIsEnumerable,cd=(e,t,n)=>t in e?fv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Wd=(e,t)=>{for(var n in t||(t={}))Eb.call(t,n)&&cd(e,n,t[n]);if(wy)for(var n of wy(t))Cb.call(t,n)&&cd(e,n,t[n]);return e},Yd=(e,t)=>bb(e,Sb(t)),hv=(e,t)=>{for(var n in t)fv(e,n,{get:t[n],enumerable:!0})},T=(e,t,n)=>(cd(e,typeof t!="symbol"?t+"":t,n),n),dv=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},bn=(e,t,n)=>(dv(e,t,"read from private field"),n?n.call(e):t.get(e)),pv=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Rb=(e,t,n,i)=>(dv(e,t,"write to private field"),t.set(e,n),n),un={Image:null,isHeadless:!1,shim:function(e,t){return e.tagName=e.nodeName=t||"canvas",e.nodeType=1,e.getAttribute=function(n){return this[n]},e.setAttribute=function(n,i){return this[n]=i,this},e},polyfill:function(e,t){return un.shim(e),typeof t<"u"&&(un.Image=t),un.isHeadless=!0,e}},gv={};hv(gv,{Curve:()=>zo,getAnchorsFromArcData:()=>Ab,getComponentOnCubicBezier:()=>Gl,getControlPoints:()=>Ev,getCurveBoundingBox:()=>kv,getCurveFromPoints:()=>Sv,getCurveLength:()=>wv,getReflection:()=>fd,integrate:()=>bv,subdivide:()=>Xd});var mv={};hv(mv,{HALF_PI:()=>Rt,NumArray:()=>Br,TWO_PI:()=>Jt,decomposeMatrix:()=>Do,getComputedMatrix:()=>vv,getPoT:()=>xv,lerp:()=>$n,mod:()=>Yn,setMatrix:()=>_v,toFixed:()=>Ve});var ct;typeof window<"u"?ct=window:typeof global<"u"?ct=global:typeof self<"u"&&(ct=self);var yv,Jt=Math.PI*2,Rt=Math.PI*.5;function Do(e,t,n,i,o,l){let a;return arguments.length<=1?(a=e.a,t=e.b,n=e.c,i=e.d,o=e.e,l=e.f):a=e,{translateX:o,translateY:l,scaleX:Math.sqrt(a*a+t*t),scaleY:Math.sqrt(n*n+i*i),rotation:180*Math.atan2(t,a)/Math.PI}}function _v(e){yv=e}function vv(e,t){t=t&&t.identity()||new yv;let n=e;const i=[];for(;n&&n._matrix;)i.push(n._matrix),n=n.parent;i.reverse();for(let o=0;o<i.length;o++){const a=i[o].elements;t.multiply(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9])}return t}function $n(e,t,n){return n*(t-e)+e}var Ph=[2,4,8,16,32,64,128,256,512,1024,2048,4096];function xv(e){let t=0;for(;Ph[t]&&Ph[t]<e;)t++;return Ph[t]}function Yn(e,t){for(;e<0;)e+=t;return e%t}var Br=ct.Float32Array||Array,Tb=Math.floor;function Ve(e){return Tb(e*1e6)/1e6}var de={move:"M",line:"L",curve:"C",arc:"A",close:"Z"},J=class{constructor(){T(this,"_events",{}),T(this,"_bound",!1)}addEventListener(t,n){return(this._events[t]||(this._events[t]=[])).push(n),this._bound=!0,this}on(){return this.addEventListener.apply(this,arguments)}bind(){return this.addEventListener.apply(this,arguments)}removeEventListener(t,n){if(!this._events)return this;if(!t&&!n)return this._events={},this._bound=!1,this;const i=t?[t]:Object.keys(this._events);for(let o=0,l=i.length;o<l;o++){t=i[o];let a=this._events[t];if(a){let c=[];if(n)for(let f=0,d=a.length;f<d;f++){let g=a[f];g=g.handler?g.handler:g,n!==g&&c.push(g)}this._events[t]=c}}return this}off(){return this.removeEventListener.apply(this,arguments)}unbind(){return this.removeEventListener.apply(this,arguments)}dispatchEvent(t){if(!this._events)return this;const n=Array.prototype.slice.call(arguments,1),i=this._events[t];if(i)for(let o=0;o<i.length;o++)i[o].call(this,...n);return this}trigger(){return this.dispatchEvent.apply(this,arguments)}listen(t,n,i){const o=this;t&&(l.obj=t,l.name=n,l.handler=i,t.on(n,l));function l(){i.apply(o,arguments)}return o}ignore(t,n,i){return t.off(n,i),this}};T(J,"Types",{play:"play",pause:"pause",update:"update",render:"render",resize:"resize",change:"change",remove:"remove",insert:"insert",order:"order",load:"load"});T(J,"Methods",["addEventListener","on","removeEventListener","off","unbind","dispatchEvent","trigger","listen","ignore"]);var ky={x:{enumerable:!0,get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this._bound&&this.dispatchEvent(J.Types.change))}},y:{enumerable:!0,get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this._bound&&this.dispatchEvent(J.Types.change))}}},Sr=class extends J{constructor(e=0,t=0){super(),T(this,"_x",0),T(this,"_y",0);for(let n in ky)Object.defineProperty(this,n,ky[n]);this.x=e,this.y=t}static add(e,t){return new Sr(e.x+t.x,e.y+t.y)}static sub(e,t){return new Sr(e.x-t.x,e.y-t.y)}static subtract(e,t){return Sr.sub(e,t)}static ratioBetween(e,t){return(e.x*t.x+e.y*t.y)/(e.length()*t.length())}static angleBetween(e,t){if(arguments.length>=4){const o=arguments[0]-arguments[2],l=arguments[1]-arguments[3];return Math.atan2(l,o)}const n=e.x-t.x,i=e.y-t.y;return Math.atan2(i,n)}static distanceBetween(e,t){return Math.sqrt(Sr.distanceBetweenSquared(e,t))}static distanceBetweenSquared(e,t){const n=e.x-t.x,i=e.y-t.y;return n*n+i*i}set(e,t){return this.x=e,this.y=t,this}copy(e){return this.x=e.x,this.y=e.y,this}clear(){return this.x=0,this.y=0,this}clone(){return new Sr(this.x,this.y)}add(e,t){return arguments.length<=0?this:(arguments.length<=1?typeof e=="number"?(this.x+=e,this.y+=e):e&&typeof e.x=="number"&&typeof e.y=="number"&&(this.x+=e.x,this.y+=e.y):(this.x+=e,this.y+=t),this)}addSelf(e){return this.add.apply(this,arguments)}sub(e,t){return arguments.length<=0?this:(arguments.length<=1?typeof e=="number"?(this.x-=e,this.y-=e):e&&typeof e.x=="number"&&typeof e.y=="number"&&(this.x-=e.x,this.y-=e.y):(this.x-=e,this.y-=t),this)}subtract(){return this.sub.apply(this,arguments)}subSelf(e){return this.sub.apply(this,arguments)}subtractSelf(e){return this.sub.apply(this,arguments)}multiply(e,t){return arguments.length<=0?this:(arguments.length<=1?typeof e=="number"?(this.x*=e,this.y*=e):e&&typeof e.x=="number"&&typeof e.y=="number"&&(this.x*=e.x,this.y*=e.y):(this.x*=e,this.y*=t),this)}multiplySelf(e){return this.multiply.apply(this,arguments)}multiplyScalar(e){return this.multiply(e)}divide(e,t){return arguments.length<=0?this:(arguments.length<=1?typeof e=="number"?(this.x/=e,this.y/=e):e&&typeof e.x=="number"&&typeof e.y=="number"&&(this.x/=e.x,this.y/=e.y):(this.x/=e,this.y/=t),isNaN(this.x)&&(this.x=0),isNaN(this.y)&&(this.y=0),this)}divideSelf(e){return this.divide.apply(this,arguments)}divideScalar(e){return this.divide(e)}negate(){return this.multiply(-1)}dot(e){return this.x*e.x+this.y*e.y}length(){return Math.sqrt(this.lengthSquared())}lengthSquared(){return this.x*this.x+this.y*this.y}normalize(){return this.divideScalar(this.length())}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}setLength(e){return this.normalize().multiplyScalar(e)}equals(e,t){return t=typeof t>"u"?1e-4:t,this.distanceTo(e)<t}lerp(e,t){const n=(e.x-this.x)*t+this.x,i=(e.y-this.y)*t+this.y;return this.set(n,i)}isZero(e){return e=typeof e>"u"?1e-4:e,this.length()<e}toString(){return this.x+", "+this.y}toObject(){return{x:Ve(this.x),y:Ve(this.y)}}rotate(e){const t=this.x,n=this.y,i=Math.cos(e),o=Math.sin(e);return this.x=t*i-n*o,this.y=t*o+n*i,this}},ce=Sr;T(ce,"zero",new Sr);T(ce,"left",new Sr(-1,0));T(ce,"right",new Sr(1,0));T(ce,"up",new Sr(0,-1));T(ce,"down",new Sr(0,1));var Le=class extends ce{constructor(t=0,n=0,i=0,o=0,l=0,a=0,c=de.move){super(t,n),T(this,"controls",{left:new ce,right:new ce}),T(this,"_command",de.move),T(this,"_relative",!0),T(this,"_rx",0),T(this,"_ry",0),T(this,"_xAxisRotation",0),T(this,"_largeArcFlag",0),T(this,"_sweepFlag",1);for(let d in by)Object.defineProperty(this,d,by[d]);this.command=c,this.relative=!0;const f=Le.makeBroadcast(this);this.controls.left.set(i,o).addEventListener(J.Types.change,f),this.controls.right.set(l,a).addEventListener(J.Types.change,f)}static makeBroadcast(t){return n;function n(){t._bound&&t.dispatchEvent(J.Types.change)}}static fromObject(t){return new Le().copy(t)}copy(t){return this.x=t.x,this.y=t.y,typeof t.command=="string"&&(this.command=t.command),t.controls&&(t.controls.left&&this.controls.left.copy(t.controls.left),t.controls.right&&this.controls.right.copy(t.controls.right)),typeof t.relative=="boolean"&&(this.relative=t.relative),typeof t.rx=="number"&&(this.rx=t.rx),typeof t.ry=="number"&&(this.ry=t.ry),typeof t.xAxisRotation=="number"&&(this.xAxisRotation=t.xAxisRotation),typeof t.largeArcFlag=="number"&&(this.largeArcFlag=t.largeArcFlag),typeof t.sweepFlag=="number"&&(this.sweepFlag=t.sweepFlag),this}clone(){return new Le().copy(this)}toObject(){return{x:Ve(this.x),y:Ve(this.y),command:this.command,relative:this.relative,controls:{left:this.controls.left.toObject(),right:this.controls.right.toObject()},rx:Ve(this.rx),ry:Ve(this.ry),xAxisRotation:Ve(this.xAxisRotation),largeArcFlag:Ve(this.largeArcFlag),sweepFlag:Ve(this.sweepFlag)}}toString(){return JSON.stringify(this.toObject())}},by={command:{enumerable:!0,get:function(){return this._command},set:function(e){this._command!==e&&(this._command=e,this._bound&&this.dispatchEvent(J.Types.change))}},relative:{enumerable:!0,get:function(){return this._relative},set:function(e){this._relative!==!!e&&(this._relative=!!e,this._bound&&this.dispatchEvent(J.Types.change))}},rx:{enumerable:!0,get:function(){return this._rx},set:function(e){this._rx!==e&&(this._rx=e,this._bound&&this.dispatchEvent(J.Types.change))}},ry:{enumerable:!0,get:function(){return this._ry},set:function(e){this._ry!==e&&(this._ry=e,this._bound&&this.dispatchEvent(J.Types.change))}},xAxisRotation:{enumerable:!0,get:function(){return this._xAxisRotation},set:function(e){this._xAxisRotation!==e&&(this._xAxisRotation=e,this._bound&&this.dispatchEvent(J.Types.change))}},largeArcFlag:{enumerable:!0,get:function(){return this._largeArcFlag},set:function(e){this._largeArcFlag!==e&&(this._largeArcFlag=e,this._bound&&this.dispatchEvent(J.Types.change))}},sweepFlag:{get:function(){return this._sweepFlag},set:function(e){this._sweepFlag!==e&&(this._sweepFlag=e,this._bound&&this.dispatchEvent(J.Types.change))}}},Mb=0,dn={nextFrameID:null,Types:{webgl:"WebGLRenderer",svg:"SVGRenderer",canvas:"CanvasRenderer"},Version:"v0.8.15",PublishDate:"2025-01-01T01:30:08.872Z",Identifier:"two-",Resolution:12,AutoCalculateImportedMatrices:!0,Instances:[],uniqueId:function(){return Mb++}},zo={CollinearityEpsilon:Math.pow(10,-30),RecursionLimit:16,CuspLimit:0,Tolerance:{distance:.25,angle:0,epsilon:Number.EPSILON},abscissas:[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],weights:[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]]};function Gl(e,t,n,i,o){const l=1-e;return l*l*l*t+3*l*l*e*n+3*l*e*e*i+e*e*e*o}function Xd(e,t,n,i,o,l,a,c,f){f=f||zo.RecursionLimit;const d=f+1;if(Math.abs(e-a)<.001&&Math.abs(t-c)<.001)return[new Le(a,c)];const g=[];for(let m=0;m<d;m++){const _=m/d,y=Gl(_,e,n,o,a),x=Gl(_,t,i,l,c);g.push(new Le(y,x))}return g}function wv(e,t,n,i,o,l,a,c,f){if(e===n&&t===i&&o===a&&l===c){const S=a-e,b=c-t;return Math.sqrt(S*S+b*b)}const d=9*(n-o)+3*(a-e),g=6*(e+o)-12*n,m=3*(n-e),_=9*(i-l)+3*(c-t),y=6*(t+l)-12*i,x=3*(i-t);function k(S){const b=(d*S+g)*S+m,w=(_*S+y)*S+x;return Math.sqrt(b*b+w*w)}return bv(k,0,1,f||zo.RecursionLimit)}function kv(e,t,n,i,o,l,a,c){const f=[],d=[[],[]];let g,m,_,y,x,k,S,b;for(let P=0;P<2;++P){if(P==0?(m=6*e-12*n+6*o,g=-3*e+9*n-9*o+3*a,_=3*n-3*e):(m=6*t-12*i+6*l,g=-3*t+9*i-9*l+3*c,_=3*i-3*t),Math.abs(g)<1e-12){if(Math.abs(m)<1e-12)continue;y=-_/m,0<y&&y<1&&f.push(y);continue}S=m*m-4*_*g,b=Math.sqrt(S),!(S<0)&&(x=(-m+b)/(2*g),0<x&&x<1&&f.push(x),k=(-m-b)/(2*g),0<k&&k<1&&f.push(k))}let w=f.length,C=w,M;for(;w--;)y=f[w],M=1-y,d[0][w]=M*M*M*e+3*M*M*y*n+3*M*y*y*o+y*y*y*a,d[1][w]=M*M*M*t+3*M*M*y*i+3*M*y*y*l+y*y*y*c;return d[0][C]=e,d[1][C]=t,d[0][C+1]=a,d[1][C+1]=c,d[0].length=d[1].length=C+2,{min:{x:Math.min.apply(0,d[0]),y:Math.min.apply(0,d[1])},max:{x:Math.max.apply(0,d[0]),y:Math.max.apply(0,d[1])}}}function bv(e,t,n,i){let o=zo.abscissas[i-2],l=zo.weights[i-2],a=.5*(n-t),c=a+t,f=0,d=i+1>>1,g=i&1?l[f++]*e(c):0;for(;f<d;){const m=a*o[f];g+=l[f++]*(e(c+m)+e(c-m))}return a*g}function Sv(e,t){const n=e.length,i=n-1;for(let o=0;o<n;o++){const l=e[o],a=t?Yn(o-1,n):Math.max(o-1,0),c=t?Yn(o+1,n):Math.min(o+1,i),f=e[a],d=l,g=e[c];Ev(f,d,g),d.command=o===0?de.move:de.curve}}function Ev(e,t,n){const i=ce.angleBetween(e,t),o=ce.angleBetween(n,t);let l=ce.distanceBetween(e,t),a=ce.distanceBetween(n,t),c=(i+o)/2;return l<1e-4||a<1e-4?(typeof t.relative=="boolean"&&!t.relative&&(t.controls.left.copy(t),t.controls.right.copy(t)),t):(l*=.33,a*=.33,o<i?c+=Rt:c-=Rt,t.controls.left.x=Math.cos(c)*l,t.controls.left.y=Math.sin(c)*l,c-=Math.PI,t.controls.right.x=Math.cos(c)*a,t.controls.right.y=Math.sin(c)*a,typeof t.relative=="boolean"&&!t.relative&&(t.controls.left.x+=t.x,t.controls.left.y+=t.y,t.controls.right.x+=t.x,t.controls.right.y+=t.y),t)}function fd(e,t,n){return new ce(2*e.x-(t.x+e.x)-(n?e.x:0),2*e.y-(t.y+e.y)-(n?e.y:0))}function Ab(e,t,n,i,o,l,a){const c=dn.Resolution;for(let f=0;f<c;f++){let d=(f+1)/c;a&&(d=1-d);const g=d*l+o,m=n*Math.cos(g),_=i*Math.sin(g),y=new Le(m,_);y.command=de.line}}var Sy=Array.prototype.slice;function Pb(e){if(e==null)return!1;const t=e.length;return typeof t=="number"&&t>=0&&t<4294967296}var Se={isNaN:function(e){return typeof e=="number"&&e!==+e},isElement:function(e){return!!(e&&e.nodeType===1)},isObject:function(e){const t=typeof e;return t==="function"||t==="object"&&!!e},extend:function(e){const t=Sy.call(arguments,1);for(let n=0;n<t.length;n++){const i=t[n];for(let o in i)e[o]=i[o]}return e},defaults:function(e){const t=Sy.call(arguments,1);for(let n=0;n<t.length;n++){const i=t[n];for(let o in i)e[o]===void 0&&(e[o]=i[o])}return e},each:function(e,t,n){const i=n||this,o=!Pb(e)&&Object.keys(e),l=(o||e).length;for(let a=0;a<l;a++){const c=o?o[a]:a;t.call(i,e[c],c,e)}return e},performance:ct.performance&&ct.performance.now?ct.performance:Date},Un={hasEventListeners:typeof ct.addEventListener=="function",bind:function(e,t,n,i){return this.hasEventListeners?e.addEventListener(t,n,!!i):e.attachEvent("on"+t,n),Un},unbind:function(e,t,n,i){return Un.hasEventListeners?e.removeEventListeners(t,n,!!i):e.detachEvent("on"+t,n),Un},getRequestAnimationFrame:function(){const e=["ms","moz","webkit","o"];let t=0,n=ct.requestAnimationFrame;if(!n){for(let o=0;o<e.length;o++)n=ct[e[o]+"RequestAnimationFrame"]||n;n=n||i}function i(o,l){const a=new Date().getTime(),c=Math.max(0,16-(a-t)),f=ct.setTimeout(d,c);t=a+c;function d(){o(a+c)}return f}return n}},Mo=ct.document?ct.document.createElement("div"):{};Mo.id="help-two-load";Object.defineProperty(Un,"temp",{enumerable:!0,get:function(){return Se.isElement(Mo)&&!ct.document.head.contains(Mo)&&(Mo.style.display="none",ct.document.head.appendChild(Mo)),Mo}});var Wn=class extends Error{constructor(t){super(),T(this,"name","Two.js"),T(this,"message"),this.message=t}},Ob=ct.devicePixelRatio||1;function Lb(e){return e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1}function Kd(e){return Ob/Lb(e)}var wc=class{constructor(){T(this,"map",{})}add(t,n){return this.map[t]=n,this}remove(t){return delete this.map[t],this}get(t){return this.map[t]}contains(t){return t in this.map}},Kt,Ji=class extends Array{constructor(){super(),pv(this,Kt,new J),arguments[0]&&Array.isArray(arguments[0])?arguments[0].length>0&&this.push.apply(this,arguments[0]):arguments.length>0&&this.push.apply(this,arguments)}get _events(){return bn(this,Kt)}set _events(t){Rb(this,Kt,t)}get _bound(){return bn(this,Kt)._bound}set _bound(t){bn(this,Kt)._bound=t}addEventListener(){return bn(this,Kt).addEventListener.apply(this,arguments)}on(){return bn(this,Kt).on.apply(this,arguments)}bind(){return bn(this,Kt).bind.apply(this,arguments)}removeEventListener(){return bn(this,Kt).removeEventListener.apply(this,arguments)}off(){return bn(this,Kt).off.apply(this,arguments)}unbind(){return bn(this,Kt).unbind.apply(this,arguments)}dispatchEvent(){return bn(this,Kt).dispatchEvent.apply(this,arguments)}trigger(){return bn(this,Kt).trigger.apply(this,arguments)}listen(){return bn(this,Kt).listen.apply(this,arguments)}ignore(){return bn(this,Kt).ignore.apply(this,arguments)}pop(){const t=super.pop.apply(this,arguments);return this.trigger(J.Types.remove,[t]),t}shift(){const t=super.shift.apply(this,arguments);return this.trigger(J.Types.remove,[t]),t}push(){const t=super.push.apply(this,arguments);return this.trigger(J.Types.insert,arguments),t}unshift(){const t=super.unshift.apply(this,arguments);return this.trigger(J.Types.insert,arguments),t}splice(){const t=super.splice.apply(this,arguments);if(this.trigger(J.Types.remove,t),arguments.length>2){const n=this.slice(arguments[0],arguments[0]+arguments.length-2);this.trigger(J.Types.insert,n),this.trigger(J.Types.order)}return t}sort(){return super.sort.apply(this,arguments),this.trigger(J.Types.order),this}reverse(){return super.reverse.apply(this,arguments),this.trigger(J.Types.order),this}indexOf(){return super.indexOf.apply(this,arguments)}map(t,n){const i=[];for(let o=0;o<this.length;o++){const l=this[o];let a;n?a=t.call(n,l,o):a=t(l,o),i.push(a)}return i}};Kt=new WeakMap;var Uo=class extends J{constructor(){super(),T(this,"_flagId",!1),T(this,"_flagClassName",!1),T(this,"_renderer",{}),T(this,"_id",dn.Identifier+dn.uniqueId()),T(this,"_className",""),T(this,"classList",[]);for(let t in Ey)Object.defineProperty(this,t,Ey[t])}static fromObject(t){const n=new Uo().copy(t);return"id"in t&&(n.id=t.id),n}flagReset(){this._flagId=this._flagClassName=!1}copy(t){return this.renderer.type=t.renderer.type,this.className=t.className,this}toObject(){return{renderer:{type:this.renderer.type},id:this.id,className:this.className}}},Ey={renderer:{enumerable:!1,get:function(){return this._renderer}},id:{enumerable:!0,get:function(){return this._id},set:function(e){const t=this._id;e!==this._id&&(this._id=e,this._flagId=!0,this.parent&&(delete this.parent.children.ids[t],this.parent.children.ids[this._id]=this))}},className:{enumerable:!0,get:function(){return this._className},set:function(e){this._className!==e&&(this._flagClassName=!0,this.classList=e.split(/\s+?/),this._className=e)}}},Du,Cv={video:/\.(mp4|webm|ogg)$/i,image:/\.(jpe?g|png|gif|tiff|webp)$/i,effect:/texture|gradient/i};ct.document&&(Du=document.createElement("a"));var St=class extends Uo{constructor(e,t){super(),T(this,"_flagSrc",!1),T(this,"_flagImage",!1),T(this,"_flagVideo",!1),T(this,"_flagLoaded",!1),T(this,"_flagRepeat",!1),T(this,"_flagOffset",!1),T(this,"_flagScale",!1),T(this,"_src",""),T(this,"_image",null),T(this,"_loaded",!1),T(this,"_repeat","no-repeat"),T(this,"_scale",1),T(this,"_offset",null);for(let n in Cy)Object.defineProperty(this,n,Cy[n]);if(this._renderer.type="texture",this._renderer.flagOffset=Fb.bind(this),this._renderer.flagScale=Nb.bind(this),this.loaded=!1,this.repeat="no-repeat",this.offset=new ce,typeof t=="function"){const n=(function(){this.unbind(J.Types.load,n),typeof t=="function"&&t()}).bind(this);this.bind(J.Types.load,n)}if(typeof e=="string")this.src=e;else if(typeof e=="object"){const n=Object.prototype.toString.call(e);(n==="[object HTMLImageElement]"||n==="[object HTMLCanvasElement]"||n==="[object HTMLVideoElement]"||n==="[object Image]")&&(this.image=e)}this._update()}fromObject(e){const t=new St().copy(e);return"id"in e&&(t.id=e.id),t}static getAbsoluteURL(e){return Du?(Du.href=e,Du.href):e}static loadHeadlessBuffer(e,t){e.image.onload=t,e.image.src=e.src}static getTag(e){return e&&e.nodeName&&e.nodeName.toLowerCase()||"img"}static getImage(e){const t=St.getAbsoluteURL(e);if(St.ImageRegistry.contains(t))return St.ImageRegistry.get(t);let n;return un.Image?(n=new un.Image,un.shim(n,"img")):ct.document?Cv.video.test(t)?n=document.createElement("video"):n=document.createElement("img"):console.warn("Two.js: no prototypical image defined for Two.Texture"),n.crossOrigin="anonymous",n.referrerPolicy="no-referrer",n}static load(e,t){let n=e.image,i=St.getTag(n);e._flagImage&&(/canvas/i.test(i)?St.Register.canvas(e,t):(e._src=!un.isHeadless&&n.getAttribute("two-src")||n.src,St.Register[i](e,t))),e._flagSrc&&(n||(n=St.getImage(e.src),e.image=n),i=St.getTag(n),St.Register[i](e,t))}clone(){const e=new St(this.src);return e.repeat=this.repeat,e.offset.copy(this.offset),e.scale=this.scale,e}copy(e){return this.src=e.src,this.repeat=e.repeat,this.offset=typeof e.offset=="number"||e.offset instanceof ce?e.offset:new ce().copy(e.offset),this.scale=typeof e.scale=="number"||e.scale instanceof ce?e.scale:new ce().copy(e.scale),this}toObject(){const e=super.toObject.call(this);return e.renderer.type="texture",e.src=this.src,e.repeat=this.repeat,e.offset=this.offset.toObject(),e.scale=typeof this.scale=="number"?this.scale:this.scale.toObject(),e}_update(){return(this._flagSrc||this._flagImage)&&(this.trigger(J.Types.change),(this._flagSrc||this._flagImage)&&(this.loaded=!1,St.load(this,(function(){this.loaded=!0,this.trigger(J.Types.change).trigger(J.Types.load)}).bind(this)))),this._image&&this._image.readyState>=4&&(this._flagVideo=!0),this}flagReset(){return this._flagSrc=this._flagImage=this._flagLoaded=this._flagRepeat=this._flagVideo=this._flagScale=this._flagOffset=!1,super.flagReset.call(this),this}},ze=St;T(ze,"Properties",["src","loaded","repeat","scale","offset","image"]);T(ze,"RegularExpressions",Cv);T(ze,"ImageRegistry",new wc);T(ze,"Register",{canvas:function(e,t){e._src="#"+e.id,St.ImageRegistry.add(e.src,e.image),typeof t=="function"&&t()},img:function(e,t){const n=e.image,i=function(l){!un.isHeadless&&n.removeEventListener&&typeof n.removeEventListener=="function"&&(n.removeEventListener("load",i,!1),n.removeEventListener("error",o,!1)),typeof t=="function"&&t()},o=function(l){throw!un.isHeadless&&typeof n.removeEventListener=="function"&&(n.removeEventListener("load",i,!1),n.removeEventListener("error",o,!1)),new Wn("unable to load "+e.src)};typeof n.width=="number"&&n.width>0&&typeof n.height=="number"&&n.height>0?i():!un.isHeadless&&typeof n.addEventListener=="function"&&(n.addEventListener("load",i,!1),n.addEventListener("error",o,!1)),e._src=St.getAbsoluteURL(e._src),!(!un.isHeadless&&n&&n.getAttribute("two-src"))&&(un.isHeadless||n.setAttribute("two-src",e.src),St.ImageRegistry.add(e.src,n),un.isHeadless?St.loadHeadlessBuffer(e,i):e.image.src=e.src)},video:function(e,t){if(un.isHeadless)throw new Wn("video textures are not implemented in headless environments.");const n=function(o){e.image.removeEventListener("canplaythrough",n,!1),e.image.removeEventListener("error",i,!1),e.image.width=e.image.videoWidth,e.image.height=e.image.videoHeight,typeof t=="function"&&t()},i=function(o){throw e.image.removeEventListener("canplaythrough",n,!1),e.image.removeEventListener("error",i,!1),new Wn("unable to load "+e.src)};e._src=St.getAbsoluteURL(e._src),e.image.getAttribute("two-src")||(e.image.setAttribute("two-src",e.src),St.ImageRegistry.add(e.src,e.image)),e.image.readyState>=4?n():(e.image.addEventListener("canplaythrough",n,!1),e.image.addEventListener("error",i,!1),e.image.src=e.src,e.image.load())}});var Cy={src:{enumerable:!0,get:function(){return this._src},set:function(e){this._src=e,this._flagSrc=!0}},loaded:{enumerable:!0,get:function(){return this._loaded},set:function(e){this._loaded=e,this._flagLoaded=!0}},repeat:{enumerable:!0,get:function(){return this._repeat},set:function(e){this._repeat=e,this._flagRepeat=!0}},image:{enumerable:!0,get:function(){return this._image},set:function(e){const t=ze.getTag(e);let n;switch(t){case"canvas":n="#"+e.id;break;default:n=e.src}ze.ImageRegistry.contains(n)?this._image=ze.ImageRegistry.get(e.src):this._image=e,this._flagImage=!0}},offset:{enumerable:!0,get:function(){return this._offset},set:function(e){this._offset&&this._offset.unbind(J.Types.change,this._renderer.flagOffset),this._offset=e,this._offset.bind(J.Types.change,this._renderer.flagOffset),this._flagOffset=!0}},scale:{enumerable:!0,get:function(){return this._scale},set:function(e){this._scale instanceof ce&&this._scale.unbind(J.Types.change,this._renderer.flagScale),this._scale=e,this._scale instanceof ce&&this._scale.bind(J.Types.change,this._renderer.flagScale),this._flagScale=!0}}};function Fb(){this._flagOffset=!0}function Nb(){this._flagScale=!0}var vr=class extends Uo{constructor(e,t,n){super(),T(this,"_flagOffset",!0),T(this,"_flagOpacity",!0),T(this,"_flagColor",!0),T(this,"_offset",0),T(this,"_opacity",1),T(this,"_color","#fff");for(let i in Ry)Object.defineProperty(this,i,Ry[i]);this._renderer.type="stop",this.offset=typeof e=="number"?e:vr.Index<=0?0:1,this.opacity=typeof n=="number"?n:1,this.color=typeof t=="string"?t:vr.Index<=0?"#fff":"#000",vr.Index=(vr.Index+1)%2}static fromObject(e){const t=new vr().copy(e);return"id"in e&&(t.id=e.id),t}copy(e){super.copy.call(this,e);for(let t=0;t<vr.Properties.length;t++){const n=vr.Properties[t];n in e&&(this[n]=e[n])}return this}clone(e){const t=new vr;return Se.each(vr.Properties,function(n){t[n]=this[n]},this),e&&e.stops&&e.stops.push(t),t}toObject(){const e=super.toObject.call(this);return e.renderer.type="stop",Se.each(vr.Properties,t=>{e[t]=this[t]},this),e}flagReset(){return this._flagOffset=this._flagColor=this._flagOpacity=!1,super.flagReset.call(this),this}},Wr=vr;T(Wr,"Index",0);T(Wr,"Properties",["offset","opacity","color"]);var Ry={offset:{enumerable:!0,get:function(){return this._offset},set:function(e){this._offset=e,this._flagOffset=!0,this.parent&&(this.parent._flagStops=!0)}},opacity:{enumerable:!0,get:function(){return this._opacity},set:function(e){this._opacity=e,this._flagOpacity=!0,this.parent&&(this.parent._flagStops=!0)}},color:{enumerable:!0,get:function(){return this._color},set:function(e){this._color=e,this._flagColor=!0,this.parent&&(this.parent._flagStops=!0)}}},ws=class extends Uo{constructor(e){super(),T(this,"_flagStops",!1),T(this,"_flagSpread",!1),T(this,"_flagUnits",!1),T(this,"_spread",""),T(this,"_units","");for(let t in Ty)Object.defineProperty(this,t,Ty[t]);this._renderer.type="gradient",this._renderer.flagStops=Ib.bind(this),this._renderer.bindStops=jb.bind(this),this._renderer.unbindStops=Db.bind(this),this.spread="pad",this.units="objectBoundingBox",e&&(this.stops=e)}static fromObject(e){let t=e.stops;t&&t.length>0&&(t=t.map(i=>i instanceof Wr?i:new Wr().copy(i)));const n=new ws().copy(e);return"id"in e&&(n.id=e.id),n}clone(e){const t=this.stops.map(i=>i.clone()),n=new ws(t);return Se.each(ws.Properties,i=>{n[i]=this[i]},this),e&&e.add(n),n}copy(e){super.copy.call(this,e);for(let t=0;t<ws.Properties.length;t++){const n=ws.Properties[t];n in e&&(this[n]=e[n])}return this}toObject(){const e={stops:this.stops.map(t=>t.toObject())};return Se.each(ws.Properties,t=>{e[t]=this[t]},this),e}_update(){return(this._flagSpread||this._flagStops)&&this.trigger(J.Types.change),this}flagReset(){return this._flagSpread=this._flagUnits=this._flagStops=!1,super.flagReset.call(this),this}},_t=ws;T(_t,"Stop",Wr);T(_t,"Properties",["spread","stops","units"]);var Ty={spread:{enumerable:!0,get:function(){return this._spread},set:function(e){this._spread=e,this._flagSpread=!0}},units:{enumerable:!0,get:function(){return this._units},set:function(e){this._units=e,this._flagUnits=!0}},stops:{enumerable:!0,get:function(){return this._stops},set:function(e){const t=this._renderer.bindStops,n=this._renderer.unbindStops;this._stops&&this._stops.unbind(J.Types.insert,t).unbind(J.Types.remove,n),this._stops=new Ji((e||[]).slice(0)),this._stops.bind(J.Types.insert,t).bind(J.Types.remove,n),t(this._stops)}}};function Ib(){this._flagStops=!0}function jb(e){let t=e.length;for(;t--;)e[t].bind(J.Types.change,this._renderer.flagStops),e[t].parent=this;this._renderer.flagStops()}function Db(e){let t=e.length;for(;t--;)e[t].unbind(J.Types.change,this._renderer.flagStops),delete e[t].parent;this._renderer.flagStops()}var Dl=class extends _t{constructor(e,t,n,i,o){super(o),T(this,"_flagEndPoints",!1),T(this,"_left",null),T(this,"_right",null);for(let l in My)Object.defineProperty(this,l,My[l]);this._renderer.type="linear-gradient",this._renderer.flagEndPoints=zb.bind(this),this.left=new ce,this.right=new ce,typeof e=="number"&&(this.left.x=e),typeof t=="number"&&(this.left.y=t),typeof n=="number"&&(this.right.x=n),typeof i=="number"&&(this.right.y=i)}static fromObject(e){const t=new Dl().copy(e);return"id"in e&&(t.id=e.id),t}copy(e){super.copy.call(this,e);for(let t=0;t<Dl.Properties.length;t++){const n=Dl.Properties[t];n in e&&(this[n]=e[n]instanceof ce?e[n]:new ce().copy(e[n]))}return this}clone(e){const t=this.stops.map(function(i){return i.clone()}),n=new Dl(this.left._x,this.left._y,this.right._x,this.right._y,t);return Se.each(_t.Properties,function(i){n[i]=this[i]},this),e&&e.add(n),n}toObject(){const e=super.toObject.call(this);return e.left=this.left.toObject(),e.right=this.right.toObject(),e}_update(){return(this._flagEndPoints||this._flagSpread||this._flagStops)&&this.trigger(J.Types.change),this}flagReset(){return this._flagEndPoints=!1,super.flagReset.call(this),this}},et=Dl;T(et,"Stop",Wr);T(et,"Properties",["left","right"]);var My={left:{enumerable:!0,get:function(){return this._left},set:function(e){this._left instanceof ce&&this._left.unbind(J.Types.change,this._renderer.flagEndPoints),this._left=e,this._left.bind(J.Types.change,this._renderer.flagEndPoints),this._flagEndPoints=!0}},right:{enumerable:!0,get:function(){return this._right},set:function(e){this._right instanceof ce&&this._right.unbind(J.Types.change,this._renderer.flagEndPoints),this._right=e,this._right.bind(J.Types.change,this._renderer.flagEndPoints),this._flagEndPoints=!0}}};function zb(){this._flagEndPoints=!0}var ks=class extends _t{constructor(e,t,n,i,o,l){super(i),T(this,"_flagRadius",!1),T(this,"_flagCenter",!1),T(this,"_flagFocal",!1),T(this,"_radius",0),T(this,"_center",null),T(this,"_focal",null);for(let a in Ay)Object.defineProperty(this,a,Ay[a]);this._renderer.type="radial-gradient",this._renderer.flagCenter=Bb.bind(this),this._renderer.flagFocal=$b.bind(this),this.center=new ce,this.radius=typeof n=="number"?n:1,this.focal=new ce,typeof e=="number"&&(this.center.x=e),typeof t=="number"&&(this.center.y=t),this.focal.copy(this.center),typeof o=="number"&&(this.focal.x=o),typeof l=="number"&&(this.focal.y=l)}static fromObject(e){const t=new ks().copy(e);return"id"in e&&(t.id=e.id),t}copy(e){super.copy.call(this,e);for(let t=0;t<ks.Properties.length;t++){const n=ks.Properties[t];n in e&&(/(center|focal)i/.test(n)?this[n]=e[n]instanceof ce?e[n]:new ce().copy(e[n]):typeof e[n]=="number"&&(this[n]=e[MediaKeySystemAccess]))}return this}clone(e){const t=this.stops.map(function(i){return i.clone()}),n=new ks(this.center._x,this.center._y,this._radius,t,this.focal._x,this.focal._y);return Se.each(_t.Properties.concat(ks.Properties),function(i){n[i]=this[i]},this),e&&e.add(n),n}toObject(){const e=super.toObject.call(this);return Se.each(ks.Properties,function(t){e[t]=this[t]},this),e.center=this.center.toObject(),e.focal=this.focal.toObject(),e}_update(){return(this._flagRadius||this._flatCenter||this._flagFocal||this._flagSpread||this._flagStops)&&this.trigger(J.Types.change),this}flagReset(){return this._flagRadius=this._flagCenter=this._flagFocal=!1,super.flagReset.call(this),this}},tt=ks;T(tt,"Stop",Wr);T(tt,"Properties",["center","radius","focal"]);var Ay={radius:{enumerable:!0,get:function(){return this._radius},set:function(e){this._radius=e,this._flagRadius=!0}},center:{enumerable:!0,get:function(){return this._center},set:function(e){this._center&&this._center.unbind(J.Types.change,this._renderer.flagCenter),this._center=e,this._center.bind(J.Types.change,this._renderer.flagCenter),this._flagCenter=!0}},focal:{enumerable:!0,get:function(){return this._focal},set:function(e){this._focal&&this._focal.unbind(J.Types.change,this._renderer.flagFocal),this._focal=e,this._focal.bind(J.Types.change,this._renderer.flagFocal),this._flagFocal=!0}}};function Bb(){this._flagCenter=!0}function $b(){this._flagFocal=!0}function Py(e,t){if(t===0||t===1)return!0;const i=e._length*t;let o=0;for(let l=0;l<e._lengths.length;l++){const a=e._lengths[l];if(o>=i)return i-o>=0;o+=a}return!1}function ec(e,t){const n=e._length;if(t<=0)return 0;if(t>=n)return e._lengths.length-1;for(let i=0,o=0;i<e._lengths.length;i++){if(o+e._lengths[i]>=t)return t-=o,Math.max(i-1,0)+t/e._lengths[i];o+=e._lengths[i]}return-1}function Rv(e,t,n){let i,o,l,a,c,f,d,g;const m=t.controls&&t.controls.right,_=e.controls&&e.controls.left;return i=t.x,c=t.y,o=(m||t).x,f=(m||t).y,l=(_||e).x,d=(_||e).y,a=e.x,g=e.y,m&&t._relative&&(o+=t.x,f+=t.y),_&&e._relative&&(l+=e.x,d+=e.y),wv(i,c,o,f,l,d,a,g,n)}function Oy(e,t,n){let i,o,l,a,c,f,d,g;const m=t.controls&&t.controls.right,_=e.controls&&e.controls.left;return i=t.x,c=t.y,o=(m||t).x,f=(m||t).y,l=(_||e).x,d=(_||e).y,a=e.x,g=e.y,m&&t._relative&&(o+=t.x,f+=t.y),_&&e._relative&&(l+=e.x,d+=e.y),Xd(i,c,o,f,l,d,a,g,n)}function Ds(e){switch(e.renderer.type){case"texture":return ze.fromObject(e);case"gradient":return _t.fromObject(e);case"linear-gradient":return et.fromObject(e);case"radial-gradient":return tt.fromObject(e)}return e}var Ub=Math.cos,Vb=Math.sin,Ly=Math.tan,Oh=[],zn=class extends J{constructor(e,t,n,i,o,l){super(),T(this,"elements",new Br(9)),T(this,"manual",!1);let a=e;Array.isArray(a)||(a=Array.prototype.slice.call(arguments)),this.identity(),a.length>0&&this.set(a)}static Multiply(e,t,n){if(t.length<=3){const P=e;let N,j,X;const z=t[0]||0,W=t[1]||0,K=t[2]||0;return N=P[0]*z+P[1]*W+P[2]*K,j=P[3]*z+P[4]*W+P[5]*K,X=P[6]*z+P[7]*W+P[8]*K,[N,j,X]}const i=e[0],o=e[1],l=e[2],a=e[3],c=e[4],f=e[5],d=e[6],g=e[7],m=e[8],_=t[0],y=t[1],x=t[2],k=t[3],S=t[4],b=t[5],w=t[6],C=t[7],M=t[8];return n=n||new Br(9),n[0]=i*_+o*k+l*w,n[1]=i*y+o*S+l*C,n[2]=i*x+o*b+l*M,n[3]=a*_+c*k+f*w,n[4]=a*y+c*S+f*C,n[5]=a*x+c*b+f*M,n[6]=d*_+g*k+m*w,n[7]=d*y+g*S+m*C,n[8]=d*x+g*b+m*M,n}static fromObject(e){return new zn().copy(e)}set(e,t,n,i,o,l,a,c,f){if(typeof t>"u"){const d=e;e=d[0],t=d[1],n=d[2],i=d[3],o=d[4],l=d[5],a=d[6],c=d[7],f=d[8]}return this.elements[0]=e,this.elements[1]=t,this.elements[2]=n,this.elements[3]=i,this.elements[4]=o,this.elements[5]=l,this.elements[6]=a,this.elements[7]=c,this.elements[8]=f,this.trigger(J.Types.change)}copy(e){return this.elements[0]=e.elements[0],this.elements[1]=e.elements[1],this.elements[2]=e.elements[2],this.elements[3]=e.elements[3],this.elements[4]=e.elements[4],this.elements[5]=e.elements[5],this.elements[6]=e.elements[6],this.elements[7]=e.elements[7],this.elements[8]=e.elements[8],this.manual=e.manual,this.trigger(J.Types.change)}identity(){return this.elements[0]=zn.Identity[0],this.elements[1]=zn.Identity[1],this.elements[2]=zn.Identity[2],this.elements[3]=zn.Identity[3],this.elements[4]=zn.Identity[4],this.elements[5]=zn.Identity[5],this.elements[6]=zn.Identity[6],this.elements[7]=zn.Identity[7],this.elements[8]=zn.Identity[8],this.trigger(J.Types.change)}multiply(e,t,n,i,o,l,a,c,f){if(typeof t>"u")return this.elements[0]*=e,this.elements[1]*=e,this.elements[2]*=e,this.elements[3]*=e,this.elements[4]*=e,this.elements[5]*=e,this.elements[6]*=e,this.elements[7]*=e,this.elements[8]*=e,this.trigger(J.Types.change);if(typeof n>"u"&&(n=1),typeof i>"u"){e=e||0,t=t||0,n=n||0,o=this.elements;const ae=o[0]*e+o[1]*t+o[2]*n,te=o[3]*e+o[4]*t+o[5]*n,re=o[6]*e+o[7]*t+o[8]*n;return[ae,te,re]}const d=this.elements,g=[e,t,n,i,o,l,a,c,f],m=d[0],_=d[1],y=d[2],x=d[3],k=d[4],S=d[5],b=d[6],w=d[7],C=d[8],M=g[0],P=g[1],N=g[2],j=g[3],X=g[4],z=g[5],W=g[6],K=g[7],q=g[8];return this.elements[0]=m*M+_*j+y*W,this.elements[1]=m*P+_*X+y*K,this.elements[2]=m*N+_*z+y*q,this.elements[3]=x*M+k*j+S*W,this.elements[4]=x*P+k*X+S*K,this.elements[5]=x*N+k*z+S*q,this.elements[6]=b*M+w*j+C*W,this.elements[7]=b*P+w*X+C*K,this.elements[8]=b*N+w*z+C*q,this.trigger(J.Types.change)}inverse(e){const t=this.elements;e=e||new zn;const n=t[0],i=t[1],o=t[2],l=t[3],a=t[4],c=t[5],f=t[6],d=t[7],g=t[8],m=g*a-c*d,_=-g*l+c*f,y=d*l-a*f;let x=n*m+i*_+o*y;return x?(x=1/x,e.elements[0]=m*x,e.elements[1]=(-g*i+o*d)*x,e.elements[2]=(c*i-o*a)*x,e.elements[3]=_*x,e.elements[4]=(g*n-o*f)*x,e.elements[5]=(-c*n+o*l)*x,e.elements[6]=y*x,e.elements[7]=(-d*n+i*f)*x,e.elements[8]=(a*n-i*l)*x,e):null}scale(e,t){return arguments.length<=1&&(t=e),this.multiply(e,0,0,0,t,0,0,0,1)}rotate(e){const t=Ub(e),n=Vb(e);return this.multiply(t,-n,0,n,t,0,0,0,1)}translate(e,t){return this.multiply(1,0,e,0,1,t,0,0,1)}skewX(e){const t=Ly(e);return this.multiply(1,t,0,0,1,0,0,0,1)}skewY(e){const t=Ly(e);return this.multiply(1,0,0,t,1,0,0,0,1)}toString(e){return Oh.length=0,this.toTransformArray(e,Oh),Oh.map(Ve).join(" ")}toTransformArray(e,t){const n=this.elements,i=!!t,o=n[0],l=n[1],a=n[2],c=n[3],f=n[4],d=n[5];if(e){const g=n[6],m=n[7],_=n[8];if(i){t[0]=o,t[1]=c,t[2]=g,t[3]=l,t[4]=f,t[5]=m,t[6]=a,t[7]=d,t[8]=_;return}return[o,c,g,l,f,m,a,d,_]}if(i){t[0]=o,t[1]=c,t[2]=l,t[3]=f,t[4]=a,t[5]=d;return}return[o,c,l,f,a,d]}toArray(e,t){const n=this.elements,i=!!t,o=n[0],l=n[1],a=n[2],c=n[3],f=n[4],d=n[5];if(e){const g=n[6],m=n[7],_=n[8];if(i){t[0]=o,t[1]=l,t[2]=a,t[3]=c,t[4]=f,t[5]=d,t[6]=g,t[7]=m,t[8]=_;return}return[o,l,a,c,f,d,g,m,_]}if(i){t[0]=o,t[1]=l,t[2]=a,t[3]=c,t[4]=f,t[5]=d;return}return[o,l,a,c,f,d]}toObject(){return{renderer:{type:"matrix"},elements:this.toArray(!0),manual:!!this.manual}}clone(){return new zn().copy(this)}},zs=zn;T(zs,"Identity",[1,0,0,0,1,0,0,0,1]);_v(zs);var Ur=class extends Uo{constructor(){super(),T(this,"_flagMatrix",!0),T(this,"_flagScale",!1),T(this,"_matrix",null),T(this,"_worldMatrix",null),T(this,"_position",null),T(this,"_rotation",0),T(this,"_scale",1),T(this,"_skewX",0),T(this,"_skewY",0);for(let t in Eu)Object.defineProperty(this,t,Eu[t]);this._renderer.flagMatrix=Tv.bind(this),this.isShape=!0,this.matrix=new zs,this.worldMatrix=new zs,this.position=new ce,this.rotation=0,this.scale=1,this.skewX=0,this.skewY=0}static fromObject(t){const n=new Ur().copy(t);return"id"in t&&(n.id=t.id),n}get renderer(){return this._renderer}set renderer(t){this._renderer=t}get translation(){return Eu.position.get.apply(this,arguments)}set translation(t){Eu.position.set.apply(this,arguments)}addTo(t){return t.add(this),this}remove(){return this.parent?(this.parent.remove(this),this):this}copy(t){return super.copy.call(this,t),"position"in t&&(t.position instanceof ce?this.position=t.position:this.position.copy(t.position)),"rotation"in t&&(this.rotation=t.rotation),"scale"in t&&(this.scale=typeof t.scale=="number"||t.scale instanceof ce?t.scale:new ce(t.scale.x,t.scale.y)),"skewX"in t&&(this.skewX=t.skewX),"skewY"in t&&(this.skewY=t.skewY),"matrix"in t&&t.matrix.manual&&(this.matrix.copy(t.matrix),this.matrix.manual=!0),this}clone(t){const n=new Ur;return n.position.copy(this.position),n.rotation=this.rotation,n.scale=this.scale,n.skewX=this.skewX,n.skewY=this.skewY,this.matrix.manual&&n.matrix.copy(this.matrix),t&&t.add(n),n._update()}toObject(){const t=super.toObject.call(this);return t.renderer={type:"shape"},t.isShape=!0,t.translation=this.translation.toObject(),t.rotation=this.translation.rotation,t.scale=this.scale instanceof ce?this.scale.toObject():this.scale,t.skewX=this.skewX,t.skewY=this.skewY,t.matrix=this.matrix.toObject(),t}_update(t){return!this._matrix.manual&&this._flagMatrix&&(this._matrix.identity().translate(this.position.x,this.position.y),this._scale instanceof ce?this._matrix.scale(this._scale.x,this._scale.y):this._matrix.scale(this._scale),this._matrix.rotate(this.rotation),this._matrix.skewX(this.skewX),this._matrix.skewY(this.skewY)),t&&this.parent&&this.parent._update&&this.parent._update(),this}flagReset(){return this._flagMatrix=this._flagScale=!1,super.flagReset.call(this),this}},Eu={position:{enumerable:!0,get:function(){return this._position},set:function(e){this._position&&this._position.unbind(J.Types.change,this._renderer.flagMatrix),this._position=e,this._position.bind(J.Types.change,this._renderer.flagMatrix),Tv.call(this)}},rotation:{enumerable:!0,get:function(){return this._rotation},set:function(e){this._rotation=e,this._flagMatrix=!0}},scale:{enumerable:!0,get:function(){return this._scale},set:function(e){this._scale instanceof ce&&this._scale.unbind(J.Types.change,this._renderer.flagMatrix),this._scale=e,this._scale instanceof ce&&this._scale.bind(J.Types.change,this._renderer.flagMatrix),this._flagMatrix=!0,this._flagScale=!0}},skewX:{enumerable:!0,get:function(){return this._skewX},set:function(e){this._skewX=e,this._flagMatrix=!0}},skewY:{enumerable:!0,get:function(){return this._skewY},set:function(e){this._skewY=e,this._flagMatrix=!0}},matrix:{enumerable:!0,get:function(){return this._matrix},set:function(e){this._matrix=e,this._flagMatrix=!0}},worldMatrix:{enumerable:!0,get:function(){return vv(this,this._worldMatrix),this._worldMatrix},set:function(e){this._worldMatrix=e}}};function Tv(){this._flagMatrix=!0}var wo=Math.min,ko=Math.max,Hb=Math.ceil,Wb=Math.floor,Yb=new ce,Vi=class extends Ur{constructor(e,t,n,i){super(),T(this,"_flagVertices",!0),T(this,"_flagLength",!0),T(this,"_flagFill",!0),T(this,"_flagStroke",!0),T(this,"_flagLinewidth",!0),T(this,"_flagOpacity",!0),T(this,"_flagVisible",!0),T(this,"_flagCap",!0),T(this,"_flagJoin",!0),T(this,"_flagMiter",!0),T(this,"_flagMask",!1),T(this,"_flagClip",!1),T(this,"_length",0),T(this,"_fill","#fff"),T(this,"_stroke","#000"),T(this,"_linewidth",1),T(this,"_opacity",1),T(this,"_visible",!0),T(this,"_cap","round"),T(this,"_join","round"),T(this,"_miter",4),T(this,"_closed",!0),T(this,"_curved",!1),T(this,"_automatic",!0),T(this,"_beginning",0),T(this,"_ending",1),T(this,"_mask",null),T(this,"_clip",!1),T(this,"_dashes",null);for(let o in Fy)Object.defineProperty(this,o,Fy[o]);this._renderer.type="path",this._renderer.flagVertices=Mv.bind(this),this._renderer.bindVertices=Av.bind(this),this._renderer.unbindVertices=Pv.bind(this),this._renderer.flagFill=Ov.bind(this),this._renderer.flagStroke=Lv.bind(this),this._renderer.vertices=[],this._renderer.collection=[],this.closed=!!t,this.curved=!!n,this.beginning=0,this.ending=1,this.fill="#fff",this.stroke="#000",this.linewidth=1,this.opacity=1,this.className="",this.visible=!0,this.cap="butt",this.join="miter",this.miter=4,this.vertices=e,this.automatic=!i,this.dashes=[],this.dashes.offset=0}static fromObject(e){const t=typeof e.fill=="string"?e.fill:Ds(e.fill),n=typeof e.stroke=="string"?e.stroke:Ds(e.stroke),i=new Vi().copy(Yd(Wd({},e),{fill:t,stroke:n}));return"id"in e&&(i.id=e.id),i}copy(e){super.copy.call(this,e),this.vertices=[];for(let t=0;t<e.vertices.length;t++){const n=e.vertices[t];n instanceof Le?this.vertices.push(e.vertices[t].clone()):this.vertices.push(new Le().copy(n))}for(let t=0;t<Vi.Properties.length;t++){const n=Vi.Properties[t];n in e&&(this[n]=e[n])}return this}clone(e){const t=new Vi;for(let n=0;n<this.vertices.length;n++)t.vertices.push(this.vertices[n].clone());for(let n=0;n<Vi.Properties.length;n++){const i=Vi.Properties[n];t[i]=this[i]}return t.className=this.className,t.translation.copy(this.translation),t.rotation=this.rotation,t.scale=this.scale,t.skewX=this.skewX,t.skewY=this.skewY,this.matrix.manual&&t.matrix.copy(this.matrix),e&&e.add(t),t._update()}toObject(){const e=super.toObject.call(this);return e.renderer.type="path",e.vertices=this.vertices.map(t=>t.toObject()),Se.each(Vi.Properties,t=>{typeof this[t]<"u"&&(this[t].toObject?e[t]=this[t].toObject():e[t]=this[t])},this),e}noFill(){return this.fill="none",this}noStroke(){return this.stroke="none",this.linewidth=0,this}corner(){const e=this.getBoundingClientRect(!0),t=e.width/2,n=e.height/2,i=e.left+e.width/2,o=e.top+e.height/2;for(let l=0;l<this.vertices.length;l++){const a=this.vertices[l];a.x-=i,a.y-=o,a.x+=t,a.y+=n}return this.mask&&(this.mask.translation.x-=i,this.mask.translation.x+=t,this.mask.translation.y-=o,this.mask.translation.y+=n),this}center(){const e=this.getBoundingClientRect(!0),t=e.left+e.width/2-this.translation.x,n=e.top+e.height/2-this.translation.y;for(let i=0;i<this.vertices.length;i++){const o=this.vertices[i];o.x-=t,o.y-=n}return this.mask&&(this.mask.translation.x-=t,this.mask.translation.y-=n),this}getBoundingClientRect(e){let t,n,i,o,l,a,c=1/0,f=-1/0,d=1/0,g=-1/0;if(this._update(!0),t=e?this.matrix:this.worldMatrix,n=(this.linewidth||0)/2,i=this._renderer.vertices.length,this.linewidth>0||this.stroke&&!/(transparent|none)/i.test(this.stroke))if(this.matrix.manual){const{scaleX:m,scaleY:_}=Do(t.elements[0],t.elements[3],t.elements[1],t.elements[4],t.elements[2],t.elements[5]);typeof m=="number"&&typeof _=="number"&&(n=Math.max(m,_)*(this.linewidth||0)/2)}else n*=typeof this.scale=="number"?this.scale:Math.max(this.scale.x,this.scale.y);if(i<=0)return{width:0,height:0};for(o=0;o<i;o++){a=this._renderer.vertices[o],l=this._renderer.vertices[(o+i-1)%i];const[m,_]=t.multiply(l.x,l.y),[y,x]=t.multiply(a.x,a.y);if(l.controls&&a.controls){let k=l.controls.right.x,S=l.controls.right.y;l.relative&&(k+=l.x,S+=l.y);let[b,w]=t.multiply(k,S),C=a.controls.left.x,M=a.controls.left.y;a.relative&&(C+=a.x,M+=a.y);let[P,N]=t.multiply(C,M);const j=kv(m,_,b,w,P,N,y,x);d=wo(j.min.y-n,d),c=wo(j.min.x-n,c),f=ko(j.max.x+n,f),g=ko(j.max.y+n,g)}else o<=1&&(d=wo(_-n,d),c=wo(m-n,c),f=ko(m+n,f),g=ko(_+n,g)),d=wo(x-n,d),c=wo(y-n,c),f=ko(y+n,f),g=ko(x+n,g)}return{top:d,left:c,right:f,bottom:g,width:f-c,height:g-d}}getPointAt(e,t){let n,i,o,l,a,c,f,d,g,m,_,y,x,k,S,b=this.length*Math.min(Math.max(e,0),1);const w=this.vertices.length,C=w-1;let M=null,P=null;for(let ue=0,Z=this._lengths.length,D=0;ue<Z;ue++){if(D+this._lengths[ue]>=b){this._closed?(n=Yn(ue,w),i=Yn(ue-1,w),ue===0&&(n=i,i=ue)):(n=ue,i=Math.min(Math.max(ue-1,0),C)),M=this.vertices[n],P=this.vertices[i],b-=D,this._lengths[ue]!==0?e=b/this._lengths[ue]:e=0;break}D+=this._lengths[ue]}if(M===null||P===null)return null;if(M){if(!P)return M}else return P;S=P.controls&&P.controls.right,k=M.controls&&M.controls.left,a=P.x,m=P.y,c=(S||P).x,_=(S||P).y,f=(k||M).x,y=(k||M).y,d=M.x,x=M.y,S&&P.relative&&(c+=P.x,_+=P.y),k&&M.relative&&(f+=M.x,y+=M.y),l=Gl(e,a,c,f,d),g=Gl(e,m,_,y,x);const N=$n(a,c,e),j=$n(m,_,e),X=$n(c,f,e),z=$n(_,y,e),W=$n(f,d,e),K=$n(y,x,e),q=$n(N,X,e),ae=$n(j,z,e),te=$n(X,W,e),re=$n(z,K,e);return Se.isObject(t)?(t.x=l,t.y=g,t instanceof Le&&(t.controls.left.x=q,t.controls.left.y=ae,t.controls.right.x=te,t.controls.right.y=re,(typeof t.relative!="boolean"||t.relative)&&(t.controls.left.x-=l,t.controls.left.y-=g,t.controls.right.x-=l,t.controls.right.y-=g)),t.t=e,t):(o=new Le(l,g,q-l,ae-g,te-l,re-g,this._curved?de.curve:de.line),o.t=e,o)}plot(){if(this.curved)return Sv(this._collection,this.closed),this;for(let e=0;e<this._collection.length;e++)this._collection[e].command=e===0?de.move:de.line;return this}subdivide(e){this._update();const t=this.vertices.length-1,n=this._closed||this.vertices[t]._command===de.close;let i=this.vertices[t],o=[],l;return Se.each(this.vertices,function(a,c){if(c<=0&&!n){i=a;return}if(a.command===de.move){o.push(new Le(i.x,i.y)),c>0&&(o[o.length-1].command=de.line),i=a;return}l=Oy(a,i,e),o=o.concat(l),Se.each(l,function(f,d){d<=0&&i.command===de.move?f.command=de.move:f.command=de.line}),c>=t&&(this._closed&&this._automatic?(i=a,l=Oy(a,i,e),o=o.concat(l),Se.each(l,function(f,d){d<=0&&i.command===de.move?f.command=de.move:f.command=de.line})):n&&o.push(new Le(a.x,a.y)),o[o.length-1].command=n?de.close:de.line),i=a},this),this._automatic=!1,this._curved=!1,this.vertices=o,this}_updateLength(e,t){t||this._update();const i=this.vertices.length-1;let o=this.vertices[i],l=0;return typeof this._lengths>"u"&&(this._lengths=[]),Se.each(this.vertices,function(a,c){if(c<=0||a.command===de.move){o=a,this._lengths[c]=0;return}this._lengths[c]=Rv(a,o,e),l+=this._lengths[c],o=a},this),this._length=l,this._flagLength=!1,this}_update(){if(this._flagVertices){this._automatic&&this.plot(),this._flagLength&&this._updateLength(void 0,!0);const e=this._collection.length,t=this._closed,n=Math.min(this._beginning,this._ending),i=Math.max(this._beginning,this._ending),o=ec(this,n*this._length),l=ec(this,i*this._length),a=Hb(o),c=Wb(l);let f,d,g,m,_,y;for(this._renderer.vertices.length=0,y=0;y<e;y++)this._renderer.collection.length<=y&&this._renderer.collection.push(new Le),y>c&&!d?(_=this._renderer.collection[y].copy(this._collection[y]),this.getPointAt(i,_),_.command=this._renderer.collection[y].command,this._renderer.vertices.push(_),d=_,g=this._collection[y-1],g&&g.controls&&(_.relative?_.controls.right.clear():_.controls.right.copy(_),g.relative?this._renderer.collection[y-1].controls.right.copy(g.controls.right).lerp(ce.zero,1-_.t):this._renderer.collection[y-1].controls.right.copy(g.controls.right).lerp(g,1-_.t))):y>=a&&y<=c&&(_=this._renderer.collection[y].copy(this._collection[y]),this._renderer.vertices.push(_),y===c&&Py(this,i)?(d=_,!t&&d.controls&&(d.relative?d.controls.right.clear():d.controls.right.copy(d))):y===a&&Py(this,n)&&(f=_,f.command=de.move,!t&&f.controls&&(f.relative?f.controls.left.clear():f.controls.left.copy(f))));a>0&&!f&&(y=a-1,_=this._renderer.collection[y].copy(this._collection[y]),this.getPointAt(n,_),_.command=de.move,this._renderer.vertices.unshift(_),m=this._collection[y+1],m&&m.controls&&(_.controls.left.clear(),m.relative?this._renderer.collection[y+1].controls.left.copy(m.controls.left).lerp(ce.zero,_.t):(Yb.copy(m),this._renderer.collection[y+1].controls.left.copy(m.controls.left).lerp(m,_.t))))}return Ur.prototype._update.apply(this,arguments),this}flagReset(){return this._flagVertices=this._flagLength=this._flagFill=this._flagStroke=this._flagLinewidth=this._flagOpacity=this._flagVisible=this._flagCap=this._flagJoin=this._flagMiter=this._flagClip=!1,Ur.prototype.flagReset.call(this),this}},Ne=Vi;T(Ne,"Properties",["fill","stroke","linewidth","opacity","visible","cap","join","miter","closed","curved","automatic","beginning","ending","dashes"]);T(Ne,"Utils",{getCurveLength:Rv});var Fy={linewidth:{enumerable:!0,get:function(){return this._linewidth},set:function(e){this._linewidth=e,this._flagLinewidth=!0}},opacity:{enumerable:!0,get:function(){return this._opacity},set:function(e){this._opacity=e,this._flagOpacity=!0}},visible:{enumerable:!0,get:function(){return this._visible},set:function(e){this._visible=e,this._flagVisible=!0}},cap:{enumerable:!0,get:function(){return this._cap},set:function(e){this._cap=e,this._flagCap=!0}},join:{enumerable:!0,get:function(){return this._join},set:function(e){this._join=e,this._flagJoin=!0}},miter:{enumerable:!0,get:function(){return this._miter},set:function(e){this._miter=e,this._flagMiter=!0}},fill:{enumerable:!0,get:function(){return this._fill},set:function(e){(this._fill instanceof _t||this._fill instanceof et||this._fill instanceof tt||this._fill instanceof ze)&&this._fill.unbind(J.Types.change,this._renderer.flagFill),this._fill=e,this._flagFill=!0,(this._fill instanceof _t||this._fill instanceof et||this._fill instanceof tt||this._fill instanceof ze)&&this._fill.bind(J.Types.change,this._renderer.flagFill)}},stroke:{enumerable:!0,get:function(){return this._stroke},set:function(e){(this._stroke instanceof _t||this._stroke instanceof et||this._stroke instanceof tt||this._stroke instanceof ze)&&this._stroke.unbind(J.Types.change,this._renderer.flagStroke),this._stroke=e,this._flagStroke=!0,(this._stroke instanceof _t||this._stroke instanceof et||this._stroke instanceof tt||this._stroke instanceof ze)&&this._stroke.bind(J.Types.change,this._renderer.flagStroke)}},length:{get:function(){return this._flagLength&&this._updateLength(),this._length}},closed:{enumerable:!0,get:function(){return this._closed},set:function(e){this._closed=!!e,this._flagVertices=!0}},curved:{enumerable:!0,get:function(){return this._curved},set:function(e){this._curved=!!e,this._flagVertices=!0}},automatic:{enumerable:!0,get:function(){return this._automatic},set:function(e){if(e===this._automatic)return;this._automatic=!!e;const t=this._automatic?"ignore":"listen";Se.each(this.vertices,function(n){n[t]()})}},beginning:{enumerable:!0,get:function(){return this._beginning},set:function(e){this._beginning=e,this._flagVertices=!0}},ending:{enumerable:!0,get:function(){return this._ending},set:function(e){this._ending=e,this._flagVertices=!0}},vertices:{enumerable:!0,get:function(){return this._collection},set:function(e){const t=this._renderer.bindVertices,n=this._renderer.unbindVertices;this._collection&&this._collection.unbind(J.Types.insert,t).unbind(J.Types.remove,n),e instanceof Ji?this._collection=e:this._collection=new Ji(e||[]),this._collection.bind(J.Types.insert,t).bind(J.Types.remove,n),t(this._collection)}},mask:{enumerable:!0,get:function(){return this._mask},set:function(e){this._mask=e,this._flagMask=!0,Se.isObject(e)&&!e.clip&&(e.clip=!0)}},clip:{enumerable:!0,get:function(){return this._clip},set:function(e){this._clip=e,this._flagClip=!0}},dashes:{enumerable:!0,get:function(){return this._dashes},set:function(e){typeof e.offset!="number"&&(e.offset=this.dashes&&this._dashes.offset||0),this._dashes=e}}};function Mv(){this._flagVertices=!0,this._flagLength=!0,this.parent&&(this.parent._flagLength=!0)}function Av(e){let t=e.length;for(;t--;)e[t].bind(J.Types.change,this._renderer.flagVertices);this._renderer.flagVertices()}function Pv(e){let t=e.length;for(;t--;)e[t].unbind(J.Types.change,this._renderer.flagVertices);this._renderer.flagVertices()}function Ov(){this._flagFill=!0}function Lv(){this._flagStroke=!0}var zl=class extends Ne{constructor(e,t,n,i){const o=[new Le,new Le,new Le,new Le];super(o,!0,!1,!0),T(this,"_flagWidth",0),T(this,"_flagHeight",0),T(this,"_width",0),T(this,"_height",0),T(this,"_origin",null),this._renderer.type="rectangle";for(let l in Ny)Object.defineProperty(this,l,Ny[l]);this.width=typeof n=="number"?n:1,this.height=typeof i=="number"?i:1,this.origin=new ce,typeof e=="number"&&(this.translation.x=e),typeof t=="number"&&(this.translation.y=t),this._update()}static fromObject(e){const t=new zl().copy(e);return"id"in e&&(t.id=e.id),t}copy(e){super.copy.call(this,e);for(let t=0;t<zl.Properties.length;t++){const n=zl.Properties[t];n in e&&typeof e[n]=="number"&&(this[n]=e[n])}return this}_update(){if(this._flagVertices||this._flagWidth||this._flagHeight){const e=this._width/2,t=this._height/2;!this._closed&&this.vertices.length===4&&this.vertices.push(new Le),this.vertices[0].set(-e,-t).sub(this._origin).command=de.move,this.vertices[1].set(e,-t).sub(this._origin).command=de.line,this.vertices[2].set(e,t).sub(this._origin).command=de.line,this.vertices[3].set(-e,t).sub(this._origin).command=de.line,this.vertices[4]&&(this.vertices[4].set(-e,-t).sub(this._origin).command=de.line)}return super._update.call(this),this}flagReset(){return this._flagWidth=this._flagHeight=!1,super.flagReset.call(this),this}clone(e){const t=new zl(0,0,this.width,this.height);t.translation.copy(this.translation),t.rotation=this.rotation,t.scale=this.scale,t.skewX=this.skewX,t.skewY=this.skewY,this.matrix.manual&&t.matrix.copy(this.matrix);for(let n=0;n<Ne.Properties.length;n++){const i=Ne.Properties[n];t[i]=this[i]}return e&&e.add(t),t}toObject(){const e=super.toObject.call(this);return e.renderer.type="rectangle",e.width=this.width,e.height=this.height,e.origin=this.origin.toObject(),e}},rs=zl;T(rs,"Properties",["width","height"]);var Ny={width:{enumerable:!0,get:function(){return this._width},set:function(e){this._width=e,this._flagWidth=!0}},height:{enumerable:!0,get:function(){return this._height},set:function(e){this._height=e,this._flagHeight=!0}},origin:{enumerable:!0,get:function(){return this._origin},set:function(e){this._origin&&this._origin.unbind(J.Types.change,this._renderer.flagVertices),this._origin=e,this._origin.bind(J.Types.change,this._renderer.flagVertices),this._renderer.flagVertices()}}},Bl=class extends rs{constructor(e,t,n,i,o,l){super(t,n,0,0),T(this,"_flagTexture",!1),T(this,"_flagColumns",!1),T(this,"_flagRows",!1),T(this,"_flagFrameRate",!1),T(this,"_flagIndex",!1),T(this,"_amount",1),T(this,"_duration",0),T(this,"_startTime",0),T(this,"_playing",!1),T(this,"_firstFrame",0),T(this,"_lastFrame",0),T(this,"_loop",!0),T(this,"_texture",null),T(this,"_columns",1),T(this,"_rows",1),T(this,"_frameRate",0),T(this,"_index",0),T(this,"_origin",null);for(let a in Iy)Object.defineProperty(this,a,Iy[a]);this.noStroke(),this.noFill(),e instanceof ze?this.texture=e:typeof e=="string"&&(this.texture=new ze(e)),this.origin=new ce,this._update(),typeof i=="number"&&(this.columns=i),typeof o=="number"&&(this.rows=o),typeof l=="number"&&(this.frameRate=l),this.index=0}static fromObject(e){const t=new Bl().copy(e);return"id"in e&&(t.id=e.id),t}copy(e){super.copy.call(this,e);for(let t=0;t<Bl.Properties.length;t++){const n=Bl.Properties[t];n in e&&(this[n]=e[n])}return this}play(e,t,n){return this._playing=!0,this._firstFrame=0,this._lastFrame=this.amount-1,this._startTime=Se.performance.now(),typeof e=="number"&&(this._firstFrame=e),typeof t=="number"&&(this._lastFrame=t),typeof n=="function"?this._onLastFrame=n:delete this._onLastFrame,this._index!==this._firstFrame&&(this._startTime-=1e3*Math.abs(this._index-this._firstFrame)/this._frameRate),this}pause(){return this._playing=!1,this}stop(){return this._playing=!1,this._index=0,this}clone(e){const t=new Bl(this.texture,this.translation.x,this.translation.y,this.columns,this.rows,this.frameRate);return this.playing&&t.play(this._firstFrame,this._lastFrame),t.loop=this.loop,t.firstFrame=this.firstFrame,t.lastFrame=this.lastFrame,e&&e.add(t),t}toObject(){const e=super.toObject.call(this);return e.texture=this.texture.toObject(),e.columns=this.columns,e.rows=this.rows,e.frameRate=this.frameRate,e.index=this.index,e.firstFrame=this.firstFrame,e.lastFrame=this.lastFrame,e.loop=this.loop,e}_update(){const e=this._texture,t=this._columns,n=this._rows;let i,o,l,a,c,f,d,g,m;if(e&&((this._flagColumns||this._flagRows)&&(this._amount=this._columns*this._rows),this._flagFrameRate&&(this._duration=1e3*this._amount/this._frameRate),this._flagTexture&&(this.fill=e),e.loaded)){d=e.image.width,g=e.image.height,i=d/t,o=g/n,a=this._amount,this.width!==i&&(this.width=i),this.height!==o&&(this.height=o),this._playing&&this._frameRate>0&&(Se.isNaN(this._lastFrame)&&(this._lastFrame=a-1),l=Se.performance.now()-this._startTime,m=this._lastFrame+1,c=1e3*(m-this._firstFrame)/this._frameRate,this._loop?l=l%c:l=Math.min(l,c),f=$n(this._firstFrame,m,l/c),f=Math.floor(f),f!==this._index&&(this._index=f,f>=this._lastFrame-1&&this._onLastFrame&&this._onLastFrame()));const _=this._index%t,y=Math.floor(this._index/t),x=-i*_+(d-i)/2,k=-o*y+(g-o)/2;x!==e.offset.x&&(e.offset.x=x),k!==e.offset.y&&(e.offset.y=k)}return super._update.call(this),this}flagReset(){return this._flagTexture=this._flagColumns=this._flagRows=this._flagFrameRate=!1,super.flagReset.call(this),this}},kc=Bl;T(kc,"Properties",["texture","columns","rows","frameRate","index","firstFrame","lastFrame","loop"]);var Iy={texture:{enumerable:!0,get:function(){return this._texture},set:function(e){this._texture=e,this._flagTexture=!0}},columns:{enumerable:!0,get:function(){return this._columns},set:function(e){this._columns=e,this._flagColumns=!0}},rows:{enumerable:!0,get:function(){return this._rows},set:function(e){this._rows=e,this._flagRows=!0}},frameRate:{enumerable:!0,get:function(){return this._frameRate},set:function(e){this._frameRate=e,this._flagFrameRate=!0}},index:{enumerable:!0,get:function(){return this._index},set:function(e){this._index=e,this._flagIndex=!0}},firstFrame:{enumerable:!0,get:function(){return this._firstFrame},set:function(e){this._firstFrame=e}},lastFrame:{enumerable:!0,get:function(){return this._lastFrame},set:function(e){this._lastFrame=e}},loop:{enumerable:!0,get:function(){return this._loop},set:function(e){this._loop=!!e}}},hd,Fv=class extends Ji{constructor(e){e=Array.isArray(e)?e:Array.prototype.slice.call(arguments),super(e),pv(this,hd,{}),this.attach(e),this.on(J.Types.insert,this.attach),this.on(J.Types.remove,this.detach)}get ids(){return bn(this,hd)}attach(e){for(let t=0;t<e.length;t++){const n=e[t];n&&n.id&&(this.ids[n.id]=n)}return this}detach(e){for(let t=0;t<e.length;t++)delete this.ids[e[t].id];return this}};hd=new WeakMap;var bs=class extends Ne{constructor(e,t,n,i,o,l,a){const c=a||dn.Resolution*3,f=[];for(let d=0;d<c;d++)f.push(new Le);super(f,!0,!1,!0),T(this,"_flagStartAngle",!1),T(this,"_flagEndAngle",!1),T(this,"_flagInnerRadius",!1),T(this,"_flagOuterRadius",!1),T(this,"_startAngle",0),T(this,"_endAngle",Jt),T(this,"_innerRadius",0),T(this,"_outerRadius",0),this._renderer.type="arc-segment";for(let d in jy)Object.defineProperty(this,d,jy[d]);typeof n=="number"&&(this.innerRadius=n),typeof i=="number"&&(this.outerRadius=i),typeof o=="number"&&(this.startAngle=o),typeof l=="number"&&(this.endAngle=l),this._update(),typeof e=="number"&&(this.translation.x=e),typeof t=="number"&&(this.translation.y=t)}static fromObject(e){const t=new bs().copy(e);return"id"in e&&(t.id=e.id),t}copy(e){super.copy.call(this,e);for(let t=0;t<bs.Properties.length;t++){const n=bs.Properties[t];n in e&&typeof e[n]=="number"&&(this[n]=e[n])}return this}_update(){if(this._flagVertices||this._flagStartAngle||this._flagEndAngle||this._flagInnerRadius||this._flagOuterRadius){const e=this._startAngle,t=this._endAngle,n=this._innerRadius,i=this._outerRadius,o=Yn(e,Jt)===Yn(t,Jt),l=n>0,a=this.vertices;let c=l?a.length/2:a.length,f,d=0,g,m,_,y,x,k,S,b,w;for(o?c--:l||(c-=2),g=0,m=c-1;g<c;g++){switch(_=g/m,y=a[d],x=_*(t-e)+e,k=(t-e)/c,S=i*Math.cos(x),b=i*Math.sin(x),g){case 0:f=de.move;break;default:f=de.curve}y.command=f,y.x=S,y.y=b,y.controls.left.clear(),y.controls.right.clear(),y.command===de.curve&&(w=i*k/Math.PI,y.controls.left.x=w*Math.cos(x-Rt),y.controls.left.y=w*Math.sin(x-Rt),y.controls.right.x=w*Math.cos(x+Rt),y.controls.right.y=w*Math.sin(x+Rt),g===1&&y.controls.left.multiplyScalar(2),g===m&&y.controls.right.multiplyScalar(2)),d++}if(l){for(o?(a[d].command=de.close,d++):(c--,m=c-1),g=0;g<c;g++)_=g/m,y=a[d],x=(1-_)*(t-e)+e,k=(t-e)/c,S=n*Math.cos(x),b=n*Math.sin(x),f=de.curve,g<=0&&(f=o?de.move:de.line),y.command=f,y.x=S,y.y=b,y.controls.left.clear(),y.controls.right.clear(),y.command===de.curve&&(w=n*k/Math.PI,y.controls.left.x=w*Math.cos(x+Rt),y.controls.left.y=w*Math.sin(x+Rt),y.controls.right.x=w*Math.cos(x-Rt),y.controls.right.y=w*Math.sin(x-Rt),g===1&&y.controls.left.multiplyScalar(2),g===m&&y.controls.right.multiplyScalar(2)),d++;a[d].copy(a[0]),a[d].command=de.line}else o||(a[d].command=de.line,a[d].x=0,a[d].y=0,d++,a[d].copy(a[0]),a[d].command=de.line)}return super._update.call(this),this}flagReset(){return super.flagReset.call(this),this._flagStartAngle=this._flagEndAngle=this._flagInnerRadius=this._flagOuterRadius=!1,this}clone(e){const t=this.innerRadius,n=this.outerRadius,i=this.startAngle,o=this.endAngle,l=this.vertices.length,a=new bs(0,0,t,n,i,o,l);a.translation.copy(this.translation),a.rotation=this.rotation,a.scale=this.scale,a.skewX=this.skewX,a.skewY=this.skewY,this.matrix.manual&&a.matrix.copy(this.matrix);for(let c=0;c<Ne.Properties.length;c++){const f=Ne.Properties[c];a[f]=this[f]}return e&&e.add(a),a}toObject(){const e=super.toObject.call(this);e.renderer.type="arc-segment";for(let t=0;t<bs.Properties.length;t++){const n=bs.Properties[t];e[n]=this[n]}return e}},bc=bs;T(bc,"Properties",["startAngle","endAngle","innerRadius","outerRadius"]);var jy={startAngle:{enumerable:!0,get:function(){return this._startAngle},set:function(e){this._startAngle=e,this._flagStartAngle=!0}},endAngle:{enumerable:!0,get:function(){return this._endAngle},set:function(e){this._endAngle=e,this._flagEndAngle=!0}},innerRadius:{enumerable:!0,get:function(){return this._innerRadius},set:function(e){this._innerRadius=e,this._flagInnerRadius=!0}},outerRadius:{enumerable:!0,get:function(){return this._outerRadius},set:function(e){this._outerRadius=e,this._flagOuterRadius=!0}}},Lh=Math.cos,Fh=Math.sin,Ss=class extends Ne{constructor(e,t,n,i){const o=i?Math.max(i,2):4,l=[];for(let a=0;a<o;a++)l.push(new Le(0,0,0,0,0,0));super(l,!0,!0,!0),T(this,"_flagRadius",!1),T(this,"_radius",0),this._renderer.type="circle";for(let a in Dy)Object.defineProperty(this,a,Dy[a]);typeof n=="number"&&(this.radius=n),this._update(),typeof e=="number"&&(this.translation.x=e),typeof t=="number"&&(this.translation.y=t)}static fromObject(e){const t=new Ss().copy(e);return"id"in e&&(t.id=e.id),t}copy(e){super.copy.call(this,e);for(let t=0;t<Ss.Properties.length;t++){const n=Ss.Properties[t];n in e&&typeof e[n]=="number"&&(this[n]=e[n])}return this}_update(){if(this._flagVertices||this._flagRadius){let e=this.vertices.length;!this._closed&&e>2&&(e-=1);const t=4/3*Math.tan(Math.PI/(e*2)),n=this._radius,i=n*t;for(let o=0;o<this.vertices.length;o++){const a=o/e*Jt,c=n*Lh(a),f=n*Fh(a),d=i*Lh(a-Rt),g=i*Fh(a-Rt),m=i*Lh(a+Rt),_=i*Fh(a+Rt),y=this.vertices[o];y.command=o===0?de.move:de.curve,y.set(c,f),y.controls.left.set(d,g),y.controls.right.set(m,_)}}return super._update.call(this),this}flagReset(){return this._flagRadius=!1,super.flagReset.call(this),this}clone(e){const t=new Ss(0,0,this.radius,this.vertices.length);t.translation.copy(this.translation),t.rotation=this.rotation,t.scale=this.scale,t.skewX=this.skewX,t.skewY=this.skewY,this.matrix.manual&&t.matrix.copy(this.matrix);for(let n=0;n<Ne.Properties.length;n++){const i=Ne.Properties[n];t[i]=this[i]}return e&&e.add(t),t}toObject(){const e=super.toObject.call(this);e.renderer.type="circle";for(let t=0;t<Ss.Properties.length;t++){const n=Ss.Properties[t];e[n]=this[n]}return e}},ra=Ss;T(ra,"Properties",["radius"]);var Dy={radius:{enumerable:!0,get:function(){return this._radius},set:function(e){this._radius=e,this._flagRadius=!0}}},Nh=Math.cos,Ih=Math.sin,Es=class extends Ne{constructor(e,t,n,i,o){typeof i!="number"&&typeof n=="number"&&(i=n);const l=o?Math.max(o,2):4,a=[];for(let c=0;c<l;c++)a.push(new Le);super(a,!0,!0,!0),T(this,"_flagWidth",!1),T(this,"_flagHeight",!1),T(this,"_width",0),T(this,"_height",0),this._renderer.type="ellipse";for(let c in zy)Object.defineProperty(this,c,zy[c]);typeof n=="number"&&(this.width=n*2),typeof i=="number"&&(this.height=i*2),this._update(),typeof e=="number"&&(this.translation.x=e),typeof t=="number"&&(this.translation.y=t)}static fromObject(e){const t=new Es().copy(e);return"id"in e&&(t.id=e.id),t}copy(e){super.copy.call(this,e);for(let t=0;t<Es.Properties.length;t++){const n=Es.Properties[t];n in e&&typeof e[n]=="number"&&(this[n]=e[n])}return this}_update(){if(this._flagVertices||this._flagWidth||this._flagHeight){let e=this.vertices.length;!this._closed&&e>2&&(e-=1);const t=4/3*Math.tan(Math.PI/(this.vertices.length*2)),n=this._width/2,i=this._height/2;for(let o=0;o<this.vertices.length;o++){const a=o/e*Jt,c=n*Nh(a),f=i*Ih(a),d=n*t*Nh(a-Rt),g=i*t*Ih(a-Rt),m=n*t*Nh(a+Rt),_=i*t*Ih(a+Rt),y=this.vertices[o];y.command=o===0?de.move:de.curve,y.set(c,f),y.controls.left.set(d,g),y.controls.right.set(m,_)}}return super._update.call(this),this}flagReset(){return this._flagWidth=this._flagHeight=!1,super.flagReset.call(this),this}clone(e){const t=this.width/2,n=this.height/2,i=this.vertices.length,o=new Es(0,0,t,n,i);o.translation.copy(this.translation),o.rotation=this.rotation,o.scale=this.scale,o.skewX=this.skewX,o.skewY=this.skewY,this.matrix.manual&&o.matrix.copy(this.matrix);for(let l=0;l<Ne.Properties.length;l++){const a=Ne.Properties[l];o[a]=this[a]}return e&&e.add(o),o}toObject(){const e=super.toObject.call(this);e.renderer.type="ellipse";for(let t=0;t<Es.Properties.length;t++){const n=Es.Properties[t];e[n]=this[n]}return e}},ia=Es;T(ia,"Properties",["width","height"]);var zy={width:{enumerable:!0,get:function(){return this._width},set:function(e){this._width=e,this._flagWidth=!0}},height:{enumerable:!0,get:function(){return this._height},set:function(e){this._height=e,this._flagHeight=!0}}},Xb=Math.ceil,Kb=Math.floor,Hi=class extends Ur{constructor(e){super(),T(this,"_flagVertices",!0),T(this,"_flagLength",!0),T(this,"_flagFill",!0),T(this,"_flagStroke",!0),T(this,"_flagLinewidth",!0),T(this,"_flagOpacity",!0),T(this,"_flagVisible",!0),T(this,"_flagSize",!0),T(this,"_flagSizeAttenuation",!0),T(this,"_length",0),T(this,"_fill","#fff"),T(this,"_stroke","#000"),T(this,"_linewidth",1),T(this,"_opacity",1),T(this,"_visible",!0),T(this,"_size",1),T(this,"_sizeAttenuation",!1),T(this,"_beginning",0),T(this,"_ending",1),T(this,"_dashes",null),T(this,"noFill",Ne.prototype.noFill),T(this,"noStroke",Ne.prototype.noStroke),T(this,"corner",Ne.prototype.corner),T(this,"center",Ne.prototype.center),T(this,"getBoundingClientRect",Ne.prototype.getBoundingClientRect),T(this,"_updateLength",Ne.prototype._updateLength);for(let t in By)Object.defineProperty(this,t,By[t]);this._renderer.type="points",this._renderer.flagVertices=Mv.bind(this),this._renderer.bindVertices=Av.bind(this),this._renderer.unbindVertices=Pv.bind(this),this._renderer.flagFill=Ov.bind(this),this._renderer.flagStroke=Lv.bind(this),this._renderer.vertices=null,this._renderer.collection=null,this.sizeAttenuation=!1,this.beginning=0,this.ending=1,this.fill="#fff",this.stroke="#000",this.className="",this.visible=!0,this.vertices=e,this.dashes=[],this.dashes.offset=0}static fromObject(e){const t=typeof e.fill=="string"?e.fill:Ds(e.fill),n=typeof e.stroke=="string"?e.stroke:Ds(e.stroke),i=new Hi().copy(Yd(Wd({},e),{fill:t,stroke:n}));return"id"in e&&(i.id=e.id),i}copy(e){super.copy.call(this,e);for(let t=0;t<e.vertices.length;t++){const n=e.vertices[t];n instanceof Le?this.vertices.push(e.vertices[t].clone()):this.vertices.push(new Le().copy(n))}for(let t=0;t<Hi.Properties.length;t++){const n=Hi.Properties[t];n in e&&(this[n]=e[n])}return this}clone(e){const t=new Hi;for(let n=0;n<this.vertices.length;n++)t.vertices.push(this.vertices[n].clone());for(let n=0;n<Hi.Properties.length;n++){const i=Hi.Properties[n];t[i]=this[i]}return t.className=this.className,t.translation.copy(this.translation),t.rotation=this.rotation,t.scale=this.scale,t.skewX=this.skewX,t.skewY=this.skewY,this.matrix.manual&&t.matrix.copy(this.matrix),e&&e.add(t),t._update()}toObject(){const e=super.toObject.call(this);return e.renderer.type="points",e.vertices=this.vertices.map(t=>t.toObject()),Se.each(Hi.Properties,function(t){typeof this[t]<"u"&&(this[t].toObject?e[t]=this[t].toObject():e[t]=this[t])},this),e}subdivide(e){this._update();let t=[];for(let n=0;n<this.vertices.length;n++){const i=this.vertices[n],o=this.vertices[n-1];if(!o)continue;const l=i.x,a=i.y,c=o.x,f=o.y,d=Xd(l,a,l,a,c,f,c,f,e);t=t.concat(d)}return this.vertices=t,this}_update(){if(this._flagVertices){this._flagLength&&this._updateLength(void 0,!0);const e=Math.min(this._beginning,this._ending),t=Math.max(this._beginning,this._ending),n=ec(this,e*this._length),i=ec(this,t*this._length),o=Xb(n),l=Kb(i);let a=0,c;this._renderer.vertices=[],this._renderer.collection=[];for(let f=0;f<this._collection.length;f++)f>=o&&f<=l&&(c=this._collection[f],this._renderer.collection.push(c),this._renderer.vertices[a*2+0]=c.x,this._renderer.vertices[a*2+1]=c.y,a++)}return super._update.apply(this,arguments),this}flagReset(){return this._flagVertices=this._flagLength=this._flagFill=this._flagStroke=this._flagLinewidth=this._flagOpacity=this._flagVisible=this._flagSize=this._flagSizeAttenuation=!1,super.flagReset.call(this),this}},Sc=Hi;T(Sc,"Properties",["fill","stroke","linewidth","opacity","visible","size","sizeAttenuation","beginning","ending","dashes"]);var By={linewidth:{enumerable:!0,get:function(){return this._linewidth},set:function(e){this._linewidth=e,this._flagLinewidth=!0}},opacity:{enumerable:!0,get:function(){return this._opacity},set:function(e){this._opacity=e,this._flagOpacity=!0}},visible:{enumerable:!0,get:function(){return this._visible},set:function(e){this._visible=e,this._flagVisible=!0}},size:{enumerable:!0,get:function(){return this._size},set:function(e){this._size=e,this._flagSize=!0}},sizeAttenuation:{enumerable:!0,get:function(){return this._sizeAttenuation},set:function(e){this._sizeAttenuation=e,this._flagSizeAttenuation=!0}},fill:{enumerable:!0,get:function(){return this._fill},set:function(e){(this._fill instanceof _t||this._fill instanceof et||this._fill instanceof tt||this._fill instanceof ze)&&this._fill.unbind(J.Types.change,this._renderer.flagFill),this._fill=e,this._flagFill=!0,(this._fill instanceof _t||this._fill instanceof et||this._fill instanceof tt||this._fill instanceof ze)&&this._fill.bind(J.Types.change,this._renderer.flagFill)}},stroke:{enumerable:!0,get:function(){return this._stroke},set:function(e){(this._stroke instanceof _t||this._stroke instanceof et||this._stroke instanceof tt||this._stroke instanceof ze)&&this._stroke.unbind(J.Types.change,this._renderer.flagStroke),this._stroke=e,this._flagStroke=!0,(this._stroke instanceof _t||this._stroke instanceof et||this._stroke instanceof tt||this._stroke instanceof ze)&&this._stroke.bind(J.Types.change,this._renderer.flagStroke)}},length:{get:function(){return this._flagLength&&this._updateLength(),this._length}},beginning:{enumerable:!0,get:function(){return this._beginning},set:function(e){this._beginning=e,this._flagVertices=!0}},ending:{enumerable:!0,get:function(){return this._ending},set:function(e){this._ending=e,this._flagVertices=!0}},vertices:{enumerable:!0,get:function(){return this._collection},set:function(e){const t=this._renderer.bindVertices,n=this._renderer.unbindVertices;this._collection&&this._collection.unbind(J.Types.insert,t).unbind(J.Types.remove,n),e instanceof Ji?this._collection=e:this._collection=new Ji(e||[]),this._collection.bind(J.Types.insert,t).bind(J.Types.remove,n),t(this._collection)}},dashes:{enumerable:!0,get:function(){return this._dashes},set:function(e){typeof e.offset!="number"&&(e.offset=this.dashes&&this._dashes.offset||0),this._dashes=e}}},qb=Math.cos,Gb=Math.sin,Cs=class extends Ne{constructor(e,t,n,i){i=Math.max(i||0,3),super(),T(this,"_flagWidth",!1),T(this,"_flagHeight",!1),T(this,"_flagSides",!1),T(this,"_radius",0),T(this,"_width",0),T(this,"_height",0),T(this,"_sides",0),this._renderer.type="polygon";for(let o in $y)Object.defineProperty(this,o,$y[o]);this.closed=!0,this.automatic=!1,typeof n=="number"&&(this.radius=n),typeof i=="number"&&(this.sides=i),this._update(),typeof e=="number"&&(this.translation.x=e),typeof t=="number"&&(this.translation.y=t)}static fromObject(e){const t=new Cs().copy(e);return"id"in e&&(t.id=e.id),t}copy(e){super.copy.call(this,e);for(let t=0;t<Cs.Properties.length;t++){const n=Cs.Properties[t];n in e&&typeof e[n]=="number"&&(this[n]=e[n])}return this}_update(){if(this._flagVertices||this._flagWidth||this._flagHeight||this._flagSides){const e=this._sides,t=e+1;let n=this.vertices.length;n>e&&(this.vertices.splice(e-1,n-e),n=e);for(let i=0;i<t;i++){const o=(i+.5)/e,l=Jt*o+Math.PI/2,a=this._width*qb(l)/2,c=this._height*Gb(l)/2;i>=n?this.vertices.push(new Le(a,c)):this.vertices[i].set(a,c),this.vertices[i].command=i===0?de.move:de.line}}return super._update.call(this),this}flagReset(){return this._flagWidth=this._flagHeight=this._flagSides=!1,super.flagReset.call(this),this}clone(e){const t=new Cs(0,0,0,this.sides);t.translation.copy(this.translation),t.rotation=this.rotation,t.scale=this.scale,t.skewX=this.skewX,t.skewY=this.skewY,t.width=this.width,t.height=this.height,this.matrix.manual&&t.matrix.copy(this.matrix);for(let n=0;n<Ne.Properties.length;n++){const i=Ne.Properties[n];t[i]=this[i]}return e&&e.add(t),t}toObject(){const e=super.toObject.call(this);e.renderer.type="polygon";for(let t=0;t<Cs.Properties.length;t++){const n=Cs.Properties[t];e[n]=this[n]}return e}},Ec=Cs;T(Ec,"Properties",["width","height","sides"]);var $y={radius:{enumerable:!0,get:function(){return this._radius},set:function(e){this._radius=e,this.width=e*2,this.height=e*2}},width:{enumerable:!0,get:function(){return this._width},set:function(e){this._width=e,this._flagWidth=!0,this._radius=Math.max(this.width,this.height)/2}},height:{enumerable:!0,get:function(){return this._height},set:function(e){this._height=e,this._flagHeight=!0,this._radius=Math.max(this.width,this.height)/2}},sides:{enumerable:!0,get:function(){return this._sides},set:function(e){this._sides=e,this._flagSides=!0}}},Rs=class extends Ne{constructor(e,t,n,i,o){typeof o>"u"&&typeof n=="number"&&typeof i=="number"&&(o=Math.floor(Math.min(n,i)/12));const l=[];for(let a=0;a<10;a++)l.push(new Le(0,0,0,0,0,0,a===0?de.move:de.curve));super(l),T(this,"_flagWidth",!1),T(this,"_flagHeight",!1),T(this,"_flagRadius",!1),T(this,"_width",0),T(this,"_height",0),T(this,"_radius",12),this._renderer.type="rounded-rectangle";for(let a in Uy)Object.defineProperty(this,a,Uy[a]);this.closed=!0,this.automatic=!1,this._renderer.flagRadius=Qb.bind(this),typeof n=="number"&&(this.width=n),typeof i=="number"&&(this.height=i),typeof o=="number"&&(this.radius=o),this._update(),typeof e=="number"&&(this.translation.x=e),typeof t=="number"&&(this.translation.y=t)}static fromObject(e){const t=new Rs().copy(e);return"id"in e&&(t.id=e.id),t}copy(e){super.copy.call(this,e);for(let t=0;t<Rs.Properties.length;t++){const n=Rs.Properties[t];if(n in e){const i=e[n];/radius/i.test(n)?this[n]=typeof i=="number"||i instanceof ce?i:new ce().copy(i):typeof i=="number"&&(this[n]=i)}}return this}_update(){if(this._flagVertices||this._flagWidth||this._flagHeight||this._flagRadius){const e=this._width,t=this._height;let n,i;this._radius instanceof ce?(n=this._radius.x,i=this._radius.y):(n=this._radius,i=this._radius);let o,l=e/2,a=t/2;o=this.vertices[0],o.x=-(l-n),o.y=-a,o=this.vertices[1],o.x=l-n,o.y=-a,o.controls.left.clear(),o.controls.right.x=n,o.controls.right.y=0,o=this.vertices[2],o.x=l,o.y=-(a-i),o.controls.right.clear(),o.controls.left.clear(),o=this.vertices[3],o.x=l,o.y=a-i,o.controls.left.clear(),o.controls.right.x=0,o.controls.right.y=i,o=this.vertices[4],o.x=l-n,o.y=a,o.controls.right.clear(),o.controls.left.clear(),o=this.vertices[5],o.x=-(l-n),o.y=a,o.controls.left.clear(),o.controls.right.x=-n,o.controls.right.y=0,o=this.vertices[6],o.x=-l,o.y=a-i,o.controls.left.clear(),o.controls.right.clear(),o=this.vertices[7],o.x=-l,o.y=-(a-i),o.controls.left.clear(),o.controls.right.x=0,o.controls.right.y=-i,o=this.vertices[8],o.x=-(l-n),o.y=-a,o.controls.left.clear(),o.controls.right.clear(),o=this.vertices[9],o.copy(this.vertices[8])}return super._update.call(this),this}flagReset(){return this._flagWidth=this._flagHeight=this._flagRadius=!1,super.flagReset.call(this),this}clone(e){const t=this.width,n=this.height,i=this.radius,o=new Rs(0,0,t,n,i);o.translation.copy(this.translation),o.rotation=this.rotation,o.scale=this.scale,o.skewX=this.skewX,o.skewY=this.skewY,this.matrix.manual&&o.matrix.copy(this.matrix);for(let l=0;l<Ne.Properties.length;l++){const a=Ne.Properties[l];o[a]=this[a]}return e&&e.add(o),o}toObject(){const e=super.toObject.call(this);e.renderer.type="rounded-rectangle";for(let t=0;t<Rs.Properties.length;t++){const n=Rs.Properties[t];e[n]=this[n]}return e.radius=typeof this.radius=="number"?this.radius:this.radius.toObject(),e}},sa=Rs;T(sa,"Properties",["width","height","radius"]);var Uy={width:{enumerable:!0,get:function(){return this._width},set:function(e){this._width=e,this._flagWidth=!0}},height:{enumerable:!0,get:function(){return this._height},set:function(e){this._height=e,this._flagHeight=!0}},radius:{enumerable:!0,get:function(){return this._radius},set:function(e){this._radius instanceof ce&&this._radius.unbind(J.Types.change,this._renderer.flagRadius),this._radius=e,this._radius instanceof ce&&this._radius.bind(J.Types.change,this._renderer.flagRadius),this._flagRadius=!0}}};function Qb(){this._flagRadius=!0}var Zb=Math.cos,Jb=Math.sin,Ts=class extends Ne{constructor(e,t,n,i,o){arguments.length<=3&&(i=n,n=i/2),(typeof o!="number"||o<=0)&&(o=5),super(),T(this,"_flagInnerRadius",!1),T(this,"_flagOuterRadius",!1),T(this,"_flagSides",!1),T(this,"_innerRadius",0),T(this,"_outerRadius",0),T(this,"_sides",0),this._renderer.type="star";for(let l in Vy)Object.defineProperty(this,l,Vy[l]);this.closed=!0,this.automatic=!1,typeof n=="number"&&(this.innerRadius=n),typeof i=="number"&&(this.outerRadius=i),typeof o=="number"&&(this.sides=o),this._update(),typeof e=="number"&&(this.translation.x=e),typeof t=="number"&&(this.translation.y=t)}static fromObject(e){const t=new Ts().copy(e);return"id"in e&&(t.id=e.id),t}copy(e){super.copy.call(this,e);for(let t=0;t<Ts.Properties.length;t++){const n=Ts.Properties[t];n in e&&typeof e[n]=="number"&&(this[n]=e[n])}return this}_update(){if(this._flagVertices||this._flagInnerRadius||this._flagOuterRadius||this._flagSides){const e=this._sides*2,t=e+1;let n=this.vertices.length;n>e&&(this.vertices.splice(e-1,n-e),n=e);for(let i=0;i<t;i++){const o=(i+.5)/e,l=Jt*o,a=(i%2?this._outerRadius:this._innerRadius)/2,c=a*Zb(l),f=a*Jb(l);i>=n?this.vertices.push(new Le(c,f)):this.vertices[i].set(c,f),this.vertices[i].command=i===0?de.move:de.line}}return super._update.call(this),this}flagReset(){return this._flagInnerRadius=this._flagOuterRadius=this._flagSides=!1,super.flagReset.call(this),this}clone(e){const t=this.innerRadius,n=this.outerRadius,i=this.sides,o=new Ts(0,0,t,n,i);o.translation.copy(this.translation),o.rotation=this.rotation,o.scale=this.scale,o.skewX=this.skewX,o.skewY=this.skewY,this.matrix.manual&&o.matrix.copy(this.matrix);for(let l=0;l<Ne.Properties.length;l++){const a=Ne.Properties[l];o[a]=this[a]}return e&&e.add(o),o}toObject(){const e=super.toObject.call(this);e.renderer.type="star";for(let t=0;t<Ts.Properties.length;t++){const n=Ts.Properties[t];e[n]=this[n]}return e}},Cc=Ts;T(Cc,"Properties",["innerRadius","outerRadius","sides"]);var Vy={innerRadius:{enumerable:!0,get:function(){return this._innerRadius},set:function(e){this._innerRadius=e,this._flagInnerRadius=!0}},outerRadius:{enumerable:!0,get:function(){return this._outerRadius},set:function(e){this._outerRadius=e,this._flagOuterRadius=!0}},sides:{enumerable:!0,get:function(){return this._sides},set:function(e){this._sides=e,this._flagSides=!0}}},dd,Hy=Math.min,Wy=Math.max;ct.document&&(dd=document.createElement("canvas"));var Bn=class extends Ur{constructor(e,t,n,i){super(),T(this,"_flagValue",!0),T(this,"_flagFamily",!0),T(this,"_flagSize",!0),T(this,"_flagLeading",!0),T(this,"_flagAlignment",!0),T(this,"_flagBaseline",!0),T(this,"_flagStyle",!0),T(this,"_flagWeight",!0),T(this,"_flagDecoration",!0),T(this,"_flagFill",!0),T(this,"_flagStroke",!0),T(this,"_flagLinewidth",!0),T(this,"_flagOpacity",!0),T(this,"_flagVisible",!0),T(this,"_flagMask",!1),T(this,"_flagClip",!1),T(this,"_flagDirection",!0),T(this,"_value",""),T(this,"_family","sans-serif"),T(this,"_size",13),T(this,"_leading",17),T(this,"_alignment","center"),T(this,"_baseline","middle"),T(this,"_style","normal"),T(this,"_weight",500),T(this,"_decoration","none"),T(this,"_direction","ltr"),T(this,"_fill","#000"),T(this,"_stroke","none"),T(this,"_linewidth",1),T(this,"_opacity",1),T(this,"_visible",!0),T(this,"_mask",null),T(this,"_clip",!1),T(this,"_dashes",null);for(let o in Yy)Object.defineProperty(this,o,Yy[o]);if(this._renderer.type="text",this._renderer.flagFill=eS.bind(this),this._renderer.flagStroke=tS.bind(this),this.value=e,typeof t=="number"&&(this.translation.x=t),typeof n=="number"&&(this.translation.y=n),this.dashes=[],this.dashes.offset=0,!Se.isObject(i))return this;for(let o=0;o<Bn.Properties.length;o++){const l=Bn.Properties[o];l in i&&(this[l]=i[l])}}static Measure(e){if(dd){const t=dd.getContext("2d");t.font=[e._style,e._weight,`${e._size}px/${e._leading}px`,e._family].join(" ");const n=t.measureText(e.value,0,0),i=n.actualBoundingBoxDescent+n.actualBoundingBoxAscent;return{width:n.width,height:i}}else{const t=this.value.length*this.size*Bn.Ratio,n=this.leading;return console.warn("Two.Text: unable to accurately measure text, so using an approximation."),{width:t,height:n}}}static fromObject(e){const t=typeof e.fill=="string"?e.fill:Ds(e.fill),n=typeof e.stroke=="string"?e.stroke:Ds(e.stroke),i=new Bn().copy(Yd(Wd({},e),{fill:t,stroke:n}));return"id"in e&&(i.id=e.id),i}copy(e){super.copy.call(this,e);for(let t=0;t<Bn.Properties.length;t++){const n=Bn.Properties[t];n in e&&(this[n]=e[n])}return this}clone(e){const t=new Bn(this.value);t.translation.copy(this.translation),t.rotation=this.rotation,t.scale=this.scale;for(let n=0;n<Bn.Properties.length;n++){const i=Bn.Properties[n];t[i]=this[i]}return this.matrix.manual&&t.matrix.copy(this.matrix),e&&e.add(t),t._update()}toObject(){const e=super.toObject.call(this);e.renderer.type="text";for(let t=0;t<Bn.Properties.length;t++){const n=Bn.Properties[t];e[n]=this[n]}return e}noFill(){return this.fill="none",this}noStroke(){return this.stroke="none",this.linewidth=0,this}getBoundingClientRect(e){let t,n,i,o,l;this._update(!0),t=e?this.matrix:this.worldMatrix;const{width:a,height:c}=Bn.Measure(this),f=(this._linewidth||0)/2;switch(this.alignment){case"left":n=-f,i=a+f;break;case"right":n=-(a+f),i=f;break;default:n=-(a/2+f),i=a/2+f}switch(this.baseline){case"middle":o=-(c/2+f),l=c/2+f;break;default:o=-(c+f),l=f}const[d,g]=t.multiply(n,o),[m,_]=t.multiply(n,l),[y,x]=t.multiply(i,o),[k,S]=t.multiply(i,l);return o=Hy(g,_,x,S),n=Hy(d,m,y,k),i=Wy(d,m,y,k),l=Wy(g,_,x,S),{top:o,left:n,right:i,bottom:l,width:i-n,height:l-o}}flagReset(){return super.flagReset.call(this),this._flagValue=this._flagFamily=this._flagSize=this._flagLeading=this._flagAlignment=this._flagFill=this._flagStroke=this._flagLinewidth=this._flagOpacity=this._flagVisible=this._flagClip=this._flagDecoration=this._flagClassName=this._flagBaseline=this._flagWeight=this._flagStyle=this._flagDirection=!1,this}},lr=Bn;T(lr,"Ratio",.6);T(lr,"Properties",["value","family","size","leading","alignment","linewidth","style","weight","decoration","direction","baseline","opacity","visible","fill","stroke","dashes"]);var Yy={value:{enumerable:!0,get:function(){return this._value},set:function(e){this._value=e,this._flagValue=!0}},family:{enumerable:!0,get:function(){return this._family},set:function(e){this._family=e,this._flagFamily=!0}},size:{enumerable:!0,get:function(){return this._size},set:function(e){this._size=e,this._flagSize=!0}},leading:{enumerable:!0,get:function(){return this._leading},set:function(e){this._leading=e,this._flagLeading=!0}},alignment:{enumerable:!0,get:function(){return this._alignment},set:function(e){this._alignment=e,this._flagAlignment=!0}},linewidth:{enumerable:!0,get:function(){return this._linewidth},set:function(e){this._linewidth=e,this._flagLinewidth=!0}},style:{enumerable:!0,get:function(){return this._style},set:function(e){this._style=e,this._flagStyle=!0}},weight:{enumerable:!0,get:function(){return this._weight},set:function(e){this._weight=e,this._flagWeight=!0}},decoration:{enumerable:!0,get:function(){return this._decoration},set:function(e){this._decoration=e,this._flagDecoration=!0}},direction:{enumerable:!0,get:function(){return this._direction},set:function(e){this._direction=e,this._flagDirection=!0}},baseline:{enumerable:!0,get:function(){return this._baseline},set:function(e){this._baseline=e,this._flagBaseline=!0}},opacity:{enumerable:!0,get:function(){return this._opacity},set:function(e){this._opacity=e,this._flagOpacity=!0}},visible:{enumerable:!0,get:function(){return this._visible},set:function(e){this._visible=e,this._flagVisible=!0}},fill:{enumerable:!0,get:function(){return this._fill},set:function(e){(this._fill instanceof _t||this._fill instanceof et||this._fill instanceof tt||this._fill instanceof ze)&&this._fill.unbind(J.Types.change,this._renderer.flagFill),this._fill=e,this._flagFill=!0,(this._fill instanceof _t||this._fill instanceof et||this._fill instanceof tt||this._fill instanceof ze)&&this._fill.bind(J.Types.change,this._renderer.flagFill)}},stroke:{enumerable:!0,get:function(){return this._stroke},set:function(e){(this._stroke instanceof _t||this._stroke instanceof et||this._stroke instanceof tt||this._stroke instanceof ze)&&this._stroke.unbind(J.Types.change,this._renderer.flagStroke),this._stroke=e,this._flagStroke=!0,(this._stroke instanceof _t||this._stroke instanceof et||this._stroke instanceof tt||this._stroke instanceof ze)&&this._stroke.bind(J.Types.change,this._renderer.flagStroke)}},mask:{enumerable:!0,get:function(){return this._mask},set:function(e){this._mask=e,this._flagMask=!0,Se.isObject(e)&&!e.clip&&(e.clip=!0)}},clip:{enumerable:!0,get:function(){return this._clip},set:function(e){this._clip=e,this._flagClip=!0}},dashes:{enumerable:!0,get:function(){return this._dashes},set:function(e){typeof e.offset!="number"&&(e.offset=this.dashes&&this._dashes.offset||0),this._dashes=e}}};function eS(){this._flagFill=!0}function tS(){this._flagStroke=!0}var Cu=Math.min,Ru=Math.max,Ao=class extends Ur{constructor(e){super(),T(this,"_flagAdditions",!1),T(this,"_flagSubtractions",!1),T(this,"_flagOrder",!1),T(this,"_flagOpacity",!0),T(this,"_flagBeginning",!1),T(this,"_flagEnding",!1),T(this,"_flagLength",!1),T(this,"_flagMask",!1),T(this,"_fill","#fff"),T(this,"_stroke","#000"),T(this,"_linewidth",1),T(this,"_opacity",1),T(this,"_visible",!0),T(this,"_cap","round"),T(this,"_join","round"),T(this,"_miter",4),T(this,"_closed",!0),T(this,"_curved",!1),T(this,"_automatic",!0),T(this,"_beginning",0),T(this,"_ending",1),T(this,"_length",0),T(this,"_mask",null);for(let t in Xy)Object.defineProperty(this,t,Xy[t]);this._renderer.type="group",this.additions=[],this.subtractions=[],this.children=Array.isArray(e)?e:Array.prototype.slice.call(arguments)}static InsertChildren(e){for(let t=0;t<e.length;t++)Ky.call(this,e[t],this)}static RemoveChildren(e){for(let t=0;t<e.length;t++)Ky.call(this,e[t])}static OrderChildren(e){this._flagOrder=!0}static fromObject(e){const t=new Ao;for(let i=0;i<Ao.Properties.length;i++){const o=Ao.Properties[i];o in e&&(/(fill|stroke)/i.test(o)?t[o]=typeof e[o]=="string"?e[o]:Ds(e[o]):t[o]=e[o])}return"mask"in e&&(t.mask=n(e.mask)),"id"in e&&(t.id=e.id),t.children=e.children.map(n),t;function n(i){if(i&&i.renderer)switch(i.renderer.type){case"arc-segment":return bc.fromObject(i);case"circle":return ra.fromObject(i);case"ellipse":return ia.fromObject(i);case"points":return Sc.fromObject(i);case"polygon":return Ec.fromObject(i);case"rectangle":return rs.fromObject(i);case"rounded-rectangle":return sa.fromObject(i);case"star":return Cc.fromObject(i);case"path":return Ne.fromObject(i);case"text":return lr.fromObject(i);case"group":return Ao.fromObject(i);case"shape":return Ur.fromObject(i);case"element":return Uo.fromObject(i)}return i}}copy(e){return super.copy.call(this,e),console.warn("Two.Group.copy is not supported yet."),this}clone(e){const t=new Ao,n=this.children.map(function(i){return i.clone()});return t.add(n),t.opacity=this.opacity,this.mask&&(t.mask=this.mask),t.translation.copy(this.translation),t.rotation=this.rotation,t.scale=this.scale,t.className=this.className,this.matrix.manual&&t.matrix.copy(this.matrix),e&&e.add(t),t._update()}toObject(){const e=super.toObject.call(this);return e.renderer.type="group",e.children=[],e.opacity=this.opacity,e.className=this.className,e.mask=this.mask?this.mask.toObject():null,Se.each(this.children,(t,n)=>{e.children[n]=t.toObject()},this),e}corner(){const e=this.getBoundingClientRect(!0);for(let t=0;t<this.children.length;t++){const n=this.children[t];n.translation.x-=e.left,n.translation.y-=e.top}return this.mask&&(this.mask.translation.x-=e.left,this.mask.translation.y-=e.top),this}center(){const e=this.getBoundingClientRect(!0),t=e.left+e.width/2-this.translation.x,n=e.top+e.height/2-this.translation.y;for(let i=0;i<this.children.length;i++){const o=this.children[i];o.isShape&&(o.translation.x-=t,o.translation.y-=n)}return this.mask&&(this.mask.translation.x-=t,this.mask.translation.y-=n),this}getById(e){let t=null;function n(i){if(i.id===e)return i;if(i.children){for(let o=0;o<i.children.length;o++)if(t=n(i.children[o]),t)return t}return null}return n(this)}getByClassName(e){const t=[];function n(i){if(Array.prototype.indexOf.call(i.classList,e)>=0&&t.push(i),i.children)for(let o=0;o<i.children.length;o++){const l=i.children[o];n(l)}return t}return n(this)}getByType(e){const t=[];function n(i){if(i instanceof e&&t.push(i),i.children)for(let o=0;o<i.children.length;o++){const l=i.children[o];n(l)}return t}return n(this)}add(e){e instanceof Array?e=e.slice():e=Array.prototype.slice.call(arguments);for(let t=0;t<e.length;t++){const n=e[t];if(!(n&&n.id))continue;const i=Array.prototype.indexOf.call(this.children,n);i>=0&&this.children.splice(i,1),this.children.push(n)}return this}remove(e){const t=arguments.length,n=this.parent;if(t<=0&&n)return n.remove(this),this;e instanceof Array?e=e.slice():e=Array.prototype.slice.call(arguments);for(let i=0;i<e.length;i++){const o=e[i];if(!o||!this.children.ids[o.id])continue;const l=this.children.indexOf(o);l>=0&&this.children.splice(l,1)}return this}getBoundingClientRect(e){let t,n,i,o,l,a;this._update(!0);let c=1/0,f=-1/0,d=1/0,g=-1/0;const m=/texture|gradient/i;n=e?this.matrix:this.worldMatrix;for(let _=0;_<this.children.length;_++){const y=this.children[_];if(!(!y.visible||m.test(y._renderer.type))&&(t=y.getBoundingClientRect(e),i=typeof t.top!="number"||Se.isNaN(t.top)||!isFinite(t.top),o=typeof t.left!="number"||Se.isNaN(t.left)||!isFinite(t.left),l=typeof t.right!="number"||Se.isNaN(t.right)||!isFinite(t.right),a=typeof t.bottom!="number"||Se.isNaN(t.bottom)||!isFinite(t.bottom),!(i||o||l||a)))if(e){const[x,k]=n.multiply(t.left,t.top),[S,b]=n.multiply(t.right,t.top),[w,C]=n.multiply(t.left,t.bottom),[M,P]=n.multiply(t.right,t.bottom);d=Cu(k,b,C,P),c=Cu(x,S,w,M),f=Ru(x,S,w,M),g=Ru(k,b,C,P)}else d=Cu(t.top,d),c=Cu(t.left,c),f=Ru(t.right,f),g=Ru(t.bottom,g)}return{top:d,left:c,right:f,bottom:g,width:f-c,height:g-d}}noFill(){return this.children.forEach(function(e){e.noFill()}),this}noStroke(){return this.children.forEach(function(e){e.noStroke()}),this}subdivide(){const e=arguments;return this.children.forEach(function(t){t.subdivide.apply(t,e)}),this}_update(){let e,t,n;if(this._flagBeginning||this._flagEnding){const i=Math.min(this._beginning,this._ending),o=Math.max(this._beginning,this._ending),l=this.length;let a=0;const c=i*l,f=o*l;for(e=0;e<this.children.length;e++)n=this.children[e],t=n.length,c>a+t?(n.beginning=1,n.ending=1):f<a?(n.beginning=0,n.ending=0):c>a&&c<a+t?(n.beginning=(c-a)/t,n.ending=1):f>a&&f<a+t?(n.beginning=0,n.ending=(f-a)/t):(n.beginning=0,n.ending=1),a+=t}return super._update.apply(this,arguments)}flagReset(){return this._flagAdditions&&(this.additions.length=0,this._flagAdditions=!1),this._flagSubtractions&&(this.subtractions.length=0,this._flagSubtractions=!1),this._flagOrder=this._flagMask=this._flagOpacity=this._flagBeginning=this._flagEnding=!1,super.flagReset.call(this),this}},wt=Ao;T(wt,"Children",Fv);T(wt,"Properties",["fill","stroke","linewidth","cap","join","miter","closed","curved","automatic"]);var Xy={visible:{enumerable:!0,get:function(){return this._visible},set:function(e){this._flagVisible=this._visible!==e||this._flagVisible,this._visible=e}},opacity:{enumerable:!0,get:function(){return this._opacity},set:function(e){this._flagOpacity=this._opacity!==e||this._flagOpacity,this._opacity=e}},beginning:{enumerable:!0,get:function(){return this._beginning},set:function(e){this._flagBeginning=this._beginning!==e||this._flagBeginning,this._beginning=e}},ending:{enumerable:!0,get:function(){return this._ending},set:function(e){this._flagEnding=this._ending!==e||this._flagEnding,this._ending=e}},length:{enumerable:!0,get:function(){if(this._flagLength||this._length<=0){if(this._length=0,!this.children)return this._length;for(let e=0;e<this.children.length;e++){const t=this.children[e];this._length+=t.length}}return this._length}},fill:{enumerable:!0,get:function(){return this._fill},set:function(e){this._fill=e;for(let t=0;t<this.children.length;t++){const n=this.children[t];n.fill=e}}},stroke:{enumerable:!0,get:function(){return this._stroke},set:function(e){this._stroke=e;for(let t=0;t<this.children.length;t++){const n=this.children[t];n.stroke=e}}},linewidth:{enumerable:!0,get:function(){return this._linewidth},set:function(e){this._linewidth=e;for(let t=0;t<this.children.length;t++){const n=this.children[t];n.linewidth=e}}},join:{enumerable:!0,get:function(){return this._join},set:function(e){this._join=e;for(let t=0;t<this.children.length;t++){const n=this.children[t];n.join=e}}},miter:{enumerable:!0,get:function(){return this._miter},set:function(e){this._miter=e;for(let t=0;t<this.children.length;t++){const n=this.children[t];n.miter=e}}},cap:{enumerable:!0,get:function(){return this._cap},set:function(e){this._cap=e;for(let t=0;t<this.children.length;t++){const n=this.children[t];n.cap=e}}},closed:{enumerable:!0,get:function(){return this._closed},set:function(e){this._closed=e;for(let t=0;t<this.children.length;t++){const n=this.children[t];n.closed=e}}},curved:{enumerable:!0,get:function(){return this._curved},set:function(e){this._curved=e;for(let t=0;t<this.children.length;t++){const n=this.children[t];n.curved=e}}},automatic:{enumerable:!0,get:function(){return this._automatic},set:function(e){this._automatic=e;for(let t=0;t<this.children.length;t++){const n=this.children[t];n.automatic=e}}},children:{enumerable:!0,get:function(){return this._children},set:function(e){const t=wt.InsertChildren.bind(this),n=wt.RemoveChildren.bind(this),i=wt.OrderChildren.bind(this);this._children&&(this._children.unbind(),this._children.length>0&&n(this._children)),this._children=new Fv(e),this._children.bind(J.Types.insert,t),this._children.bind(J.Types.remove,n),this._children.bind(J.Types.order,i),e.length>0&&t(e)}},mask:{enumerable:!0,get:function(){return this._mask},set:function(e){this._mask=e,this._flagMask=!0,Se.isObject(e)&&!e.clip&&(e.clip=!0)}}};function Ky(e,t){const n=e.parent;let i;if(n===t){o();return}if(n&&n.children.ids[e.id]&&(i=Array.prototype.indexOf.call(n.children,e),n.children.splice(i,1),l()),t){o();return}l(),n._flagAdditions&&n.additions.length===0&&(n._flagAdditions=!1),n._flagSubtractions&&n.subtractions.length===0&&(n._flagSubtractions=!1),delete e.parent;function o(){t.subtractions.length>0&&(i=Array.prototype.indexOf.call(t.subtractions,e),i>=0&&t.subtractions.splice(i,1)),t.additions.length>0&&(i=Array.prototype.indexOf.call(t.additions,e),i>=0&&t.additions.splice(i,1)),e.parent=t,t.additions.push(e),t._flagAdditions=!0}function l(){i=Array.prototype.indexOf.call(n.additions,e),i>=0&&n.additions.splice(i,1),i=Array.prototype.indexOf.call(n.subtractions,e),i<0&&(n.subtractions.push(e),n._flagSubtractions=!0)}}var qd=class extends Ne{constructor(e,t,n,i){const o=[new Le(e,t),new Le(n,i)];super(o);for(let l in qy)Object.defineProperty(this,l,qy[l]);this.vertices[0].command=de.move,this.vertices[1].command=de.line,this.automatic=!1}},qy={left:{enumerable:!0,get:function(){return this.vertices[0]},set:function(e){if(Se.isObject(e))this.vertices.splice(0,1,e);else{const t=new Wn("Two.Line.x argument is not an object.");console.warn(t.name,t.message)}}},right:{enumerable:!0,get:function(){return this.vertices[1]},set:function(e){if(Se.isObject(e))this.vertices.splice(1,1,e);else{const t=new Wn("Two.Line.y argument is not an object.");console.warn(t.name,t.message)}}}},zr={path:/[+-]?(?:\d*\.\d+|\d+)(?:[eE][+-]\d+)?/g,cssBackgroundImage:/url\(['"]?#([\w\d-_]*)['"]?\)/i,unitSuffix:/[a-zA-Z%]*/i},nS={start:"left",middle:"center",end:"right"},Gy=["id","class","transform","xmlns","viewBox"],rS=["x","y","width","height","href","xlink:href"];function iS(e){return nS[e]}function sS(e){const t=e.getAttribute("dominant-baseline"),n=e.getAttribute("alignment-baseline");return t||n}function Ql(e){return e.replace(/svg:/gi,"").toLowerCase()}function Qy(e,t){if(t.x+=e.translateX,t.y+=e.translateY,t.x*=e.scaleX,t.y*=e.scaleY,e.rotation!==0){const n=t.length();t.x=n*Math.cos(e.rotation),t.y=n*Math.sin(e.rotation)}}function oS(e,t){t||(t={});const n=e.split(";");for(let i=0;i<n.length;i++){const o=n[i].split(":"),l=o[0],a=o[1];typeof l>"u"||typeof a>"u"||(t[l]=a.replace(/\s/,""))}return t}function lS(e){const t={},n=aS(e),i=Math.max(n.length,e.style.length);for(let o=0;o<i;o++){const l=e.style[o],a=n[o];l&&(t[l]=e.style[l]),a&&(t[a]=e.getAttribute(a))}return t}function aS(e){const t=e.getAttributeNames();for(let n=0;n<Gy.length;n++){const i=Gy[n],o=Array.prototype.indexOf.call(t,i);o>=0&&t.splice(o,1)}return t}function uS(e,t){const n=t.split(/[\s,]/),i=-parseFloat(n[0]),o=-parseFloat(n[1]),l=parseFloat(n[2]),a=parseFloat(n[3]);if(i&&o)for(let m=0;m<e.children.length;m++){const _=e.children[m];"translation"in _?_.translation.add(i,o):"x"in _?_.x=i:"y"in _&&(_.y=o)}const c=typeof e.x=="number",f=typeof e.y=="number",d=typeof e.width=="number",g=typeof e.height=="number";return c&&(e.translation.x+=e.x),f&&(e.translation.y+=e.y),(d||g)&&(e.scale=new ce(1,1)),d&&(e.scale.x=e.width/l),g&&(e.scale.y=e.height/a),e.mask=new rs(0,0,l,a),e.mask.origin.set(-l/2,-a/2),e}function sr(e,t,n){const i={},o={},l={};let a,c,f,d,g,m,_,y,x,k,S,b,w,C,M,P,N;if(e===null)return i;if(ct.getComputedStyle){const j=ct.getComputedStyle(e);for(a=j.length;a--;)f=j[a],d=j[f],typeof d<"u"&&(i[f]=d)}for(a=0;a<e.attributes.length;a++)m=e.attributes[a],/style/i.test(m.nodeName)?oS(m.value,l):o[m.nodeName]=m.value;typeof i.opacity<"u"&&(i["stroke-opacity"]=i.opacity,i["fill-opacity"]=i.opacity,delete i.opacity),n&&Se.defaults(i,n),Se.extend(i,l,o),i.visible=!(typeof i.display>"u"&&/none/i.test(i.display))||typeof i.visibility>"u"&&/hidden/i.test(i.visibility);for(f in i)switch(d=i[f],f){case"gradientTransform":if(/none/i.test(d)||(c=e.gradientTransform&&e.gradientTransform.baseVal&&e.gradientTransform.baseVal.length>0?e.gradientTransform.baseVal[0].matrix:e.getCTM?e.getCTM():null,c===null))break;switch(_=Do(c),t._renderer.type){case"linear-gradient":Qy(_,t.left),Qy(_,t.right);break;case"radial-gradient":t.center.x+=_.translateX,t.center.y+=_.translateY,t.focal.x+=_.translateX,t.focal.y+=_.translateY,t.radius*=Math.max(_.scaleX,_.scaleY);break}break;case"transform":if(/none/i.test(d)||(c=e.transform&&e.transform.baseVal&&e.transform.baseVal.length>0?e.transform.baseVal[0].matrix:e.getCTM?e.getCTM():null,c===null))break;_=Do(c),t.translation.set(_.translateX,_.translateY),t.rotation=Math.PI*(_.rotation/180),t.scale=new ce(_.scaleX,_.scaleY),y=parseFloat((i.x+"").replace("px")),x=parseFloat((i.y+"").replace("px")),y&&(t.translation.x=y),x&&(t.translation.y=x);break;case"visible":if(t instanceof wt){t._visible=d;break}t.visible=d;break;case"stroke-linecap":if(t instanceof wt){t._cap=d;break}t.cap=d;break;case"stroke-linejoin":if(t instanceof wt){t._join=d;break}t.join=d;break;case"stroke-miterlimit":if(t instanceof wt){t._miter=d;break}t.miter=d;break;case"stroke-width":if(t instanceof wt){t._linewidth=parseFloat(d);break}t.linewidth=parseFloat(d);break;case"opacity":case"stroke-opacity":case"fill-opacity":if(t instanceof wt){t._opacity=parseFloat(d);break}t.opacity=parseFloat(d);break;case"clip-path":if(zr.cssBackgroundImage.test(d)&&(k=d.replace(zr.cssBackgroundImage,"$1"),rt.defs.current&&rt.defs.current.contains(k)&&(b=rt.defs.current.get(k),b&&b.childNodes.length>0)))switch(b=b.childNodes[0],w=Ql(b.nodeName),t.mask=rt[w].call(this,b,{}),t._renderer.type){case"text":case"path":t.position.add(t.mask.position),t.mask.position.clear();break}break;case"fill":case"stroke":g=(t instanceof wt?"_":"")+f,zr.cssBackgroundImage.test(d)?(k=d.replace(zr.cssBackgroundImage,"$1"),rt.defs.current&&rt.defs.current.contains(k)?(b=rt.defs.current.get(k),b.object||(w=Ql(b.nodeName),b.object=rt[w].call(this,b,{})),b=b.object):(S=fS(this),b=S.getById(k)),t[g]=b):t[g]=d;break;case"id":t.id=d;break;case"class":case"className":t.classList=d.split(" "),t._flagClassName=!0;break;case"x":case"y":if(C=t instanceof _t,M=t instanceof et,P=t instanceof tt,C||M||P)break;d.match("[a-z%]$")&&!d.endsWith("px")&&(N=new Wn("only pixel values are supported with the "+f+" attribute."),console.warn(N.name,N.message)),t.translation[f]=parseFloat(d);break;case"font-family":t instanceof lr&&(t.family=d);break;case"font-size":t instanceof lr&&(t.size=d);break;case"font-weight":t instanceof lr&&(t.weight=d);break;case"font-style":t instanceof lr&&(t.style=d);break;case"text-decoration":t instanceof lr&&(t.decoration=d);break;case"line-height":t instanceof lr&&(t.leading=d);break}return Object.keys(e.dataset).length&&(t.dataset=e.dataset),i}function cS(e,t){for(let n=0,i=e.childNodes.length;n<i;n++){const o=e.childNodes[n];!o.id||Ql(e.nodeName)==="#text"||t.add(o.id,o)}}function fS(e){for(;e.parent;)e=e.parent;return e.scene}var rt={svg:function(e){const t=rt.defs.current=new wc,n=e.getElementsByTagName("defs");for(let x=0;x<n.length;x++)cS(n[x],t);const i=rt.g.call(this,e),o=e.getAttribute("viewBox"),l=e.getAttribute("x"),a=e.getAttribute("y"),c=e.getAttribute("width"),f=e.getAttribute("height");i.defs=t;const d=o!==null,g=l!==null,m=a!==null,_=c!==null,y=f!==null;return g&&(i.x=parseFloat(l.replace(zr.unitSuffix,""))),m&&(i.y=parseFloat(a.replace(zr.unitSuffix,""))),_&&(i.width=parseFloat(c.replace(zr.unitSuffix,""))),y&&(i.height=parseFloat(f.replace(zr.unitSuffix,""))),d&&uS(i,o),delete rt.defs.current,i},defs:function(e){return null},use:function(e,t){let n;const i=e.getAttribute("href")||e.getAttribute("xlink:href");if(!i)return n=new Wn("encountered <use /> with no href."),console.warn(n.name,n.message),null;const o=i.slice(1);if(!rt.defs.current.contains(o))return n=new Wn("unable to find element for reference "+i+"."),console.warn(n.name,n.message),null;const a=rt.defs.current.get(o).cloneNode(!0);for(let f=0;f<e.attributes.length;f++){const d=e.attributes[f],g=rS.includes(d.nodeName),m=!a.hasAttribute(d.nodeName);(g||m)&&a.setAttribute(d.nodeName,d.value)}const c=Ql(a.nodeName);return rt[c].call(this,a,t)},g:function(e,t){const n=new wt;sr.call(this,e,n,t),this.add(n);const i=lS.call(this,e);for(let o=0,l=e.childNodes.length;o<l;o++){const a=e.childNodes[o],c=a.nodeName;if(!c)return;const f=Ql(c);if(f in rt){const d=rt[f].call(n,a,i);d&&!d.parent&&n.add(d)}}return n},polygon:function(e,t){let n;typeof e=="string"?n=e:n=e.getAttribute("points");const i=[];n.replace(/(-?[\d.eE-]+)[,|\s](-?[\d.eE-]+)/g,function(l,a,c){i.push(new Le(parseFloat(a),parseFloat(c)))});const o=new Ne(i,!0);return o.stroke="none",o.fill="black",sr.call(this,e,o,t),o},polyline:function(e,t){const n=rt.polygon.call(this,e,t);return n.closed=!1,n},path:function(e,t){let n;typeof e=="string"?(n=e,e=null):n=e.getAttribute("d");let i=[],o=!1,l=!1;if(n){let c=new Le,f,d,g=n.match(/[a-df-z][^a-df-z]*/gi);const m=g.length-1;Se.each(g.slice(0),function(_,y){const x=_.slice(1).trim().match(zr.path),k=_[0],S=k.toLowerCase();let b,w,C,M,P;const N=[];switch(y===0&&(g=[]),S){case"h":case"v":x.length>1&&(b=1);break;case"m":case"l":case"t":x.length>2&&(b=2);break;case"s":case"q":x.length>4&&(b=4);break;case"c":x.length>6&&(b=6);break;case"a":x.length>7&&(b=7);break}if(b){for(w=0,C=x.length,P=0;w<C;w+=b){if(M=k,P>0)switch(k){case"m":M="l";break;case"M":M="L";break}N.push(M+x.slice(w,w+b).join(" ")),P++}g=Array.prototype.concat.apply(g,N)}else g.push(_)}),Se.each(g,function(_,y){let x,k,S;const b=_[0],w=b.toLowerCase();d=_.slice(1).trim().match(zr.path),l=b===w;let C,M,P,N,j,X,z,W,K,q,ae,te,re,ue,Z,D,$;switch(w){case"z":if(y>=m)o=!0;else{k=c.x,S=c.y,x=new Le(k,S,void 0,void 0,void 0,void 0,de.close);for(let G=i.length-1;G>=0;G--){const L=i[G];if(/m/i.test(L.command)){c=L;break}}}break;case"m":case"l":f=void 0,k=parseFloat(d[0]),S=parseFloat(d[1]),x=new Le(k,S,void 0,void 0,void 0,void 0,/m/i.test(w)?de.move:de.line),l&&x.addSelf(c),c=x;break;case"h":case"v":q=/h/i.test(w)?"x":"y",ae=/x/i.test(q)?"y":"x",x=new Le(void 0,void 0,void 0,void 0,void 0,void 0,de.line),x[q]=parseFloat(d[0]),x[ae]=c[ae],l&&(x[q]+=c[q]),c=x;break;case"c":case"s":C=c.x,M=c.y,f||(f=new ce),/c/i.test(w)?(P=parseFloat(d[0]),N=parseFloat(d[1]),j=parseFloat(d[2]),X=parseFloat(d[3]),z=parseFloat(d[4]),W=parseFloat(d[5])):(K=fd(c,f,l),P=K.x,N=K.y,j=parseFloat(d[0]),X=parseFloat(d[1]),z=parseFloat(d[2]),W=parseFloat(d[3])),l&&(P+=C,N+=M,j+=C,X+=M,z+=C,W+=M),c.controls.right.set(P-c.x,N-c.y),x=new Le(z,W,j-z,X-W,void 0,void 0,de.curve),c=x,f=x.controls.left;break;case"t":case"q":C=c.x,M=c.y,f||(f=new ce),/q/i.test(w)?(P=parseFloat(d[0]),N=parseFloat(d[1]),j=parseFloat(d[0]),X=parseFloat(d[1]),z=parseFloat(d[2]),W=parseFloat(d[3])):(K=fd(c,f,l),P=K.x,N=K.y,j=K.x,X=K.y,z=parseFloat(d[0]),W=parseFloat(d[1])),l&&(P+=C,N+=M,j+=C,X+=M,z+=C,W+=M),c.controls.right.set((P-c.x)*.33,(N-c.y)*.33),x=new Le(z,W,j-z,X-W,void 0,void 0,de.curve),c=x,f=x.controls.left;break;case"a":C=c.x,M=c.y,re=parseFloat(d[0]),ue=parseFloat(d[1]),Z=parseFloat(d[2]),D=parseFloat(d[3]),$=parseFloat(d[4]),z=parseFloat(d[5]),W=parseFloat(d[6]),l&&(z+=C,W+=M),te=new Le(z,W),te.command=de.arc,te.rx=re,te.ry=ue,te.xAxisRotation=Z,te.largeArcFlag=D,te.sweepFlag=$,x=te,c=te,f=void 0;break}x&&(Array.isArray(x)?i=i.concat(x):i.push(x))})}n=new Ne(i,o,void 0,!0),n.stroke="none",n.fill="black";const a=n.getBoundingClientRect(!0);return a.centroid={x:a.left+a.width/2,y:a.top+a.height/2},Se.each(n.vertices,function(c){c.subSelf(a.centroid)}),sr.call(this,e,n,t),n.translation.addSelf(a.centroid),n},circle:function(e,t){const n=parseFloat(e.getAttribute("cx")),i=parseFloat(e.getAttribute("cy")),o=parseFloat(e.getAttribute("r")),l=new ra(0,0,o);return l.stroke="none",l.fill="black",sr.call(this,e,l,t),l.translation.x=n,l.translation.y=i,l},ellipse:function(e,t){const n=parseFloat(e.getAttribute("cx")),i=parseFloat(e.getAttribute("cy")),o=parseFloat(e.getAttribute("rx")),l=parseFloat(e.getAttribute("ry")),a=new ia(0,0,o,l);return a.stroke="none",a.fill="black",sr.call(this,e,a,t),a.translation.x=n,a.translation.y=i,a},rect:function(e,t){const n=parseFloat(e.getAttribute("rx")),i=parseFloat(e.getAttribute("ry"));if(!Se.isNaN(n)||!Se.isNaN(i))return rt["rounded-rect"](e);const o=parseFloat(e.getAttribute("width")),l=parseFloat(e.getAttribute("height")),a=o/2,c=l/2,f=new rs(0,0,o,l);return f.stroke="none",f.fill="black",sr.call(this,e,f,t),f.translation.x+=a,f.translation.y+=c,f},"rounded-rect":function(e,t){const n=parseFloat(e.getAttribute("rx"))||0,i=parseFloat(e.getAttribute("ry"))||0,o=parseFloat(e.getAttribute("width")),l=parseFloat(e.getAttribute("height")),a=o/2,c=l/2,f=new ce(n,i),d=new sa(0,0,o,l,f);return d.stroke="none",d.fill="black",sr.call(this,e,d,t),d.translation.x+=a,d.translation.y+=c,d},line:function(e,t){const n=parseFloat(e.getAttribute("x1")),i=parseFloat(e.getAttribute("y1")),o=parseFloat(e.getAttribute("x2")),l=parseFloat(e.getAttribute("y2")),a=new qd(n,i,o,l).noFill();return sr.call(this,e,a,t),a},lineargradient:function(e,t){let n=e.getAttribute("gradientUnits"),i=e.getAttribute("spreadMethod");n||(n="objectBoundingBox"),i||(i="pad");let o=parseFloat(e.getAttribute("x1")||0),l=parseFloat(e.getAttribute("y1")||0),a=parseFloat(e.getAttribute("x2")||0),c=parseFloat(e.getAttribute("y2")||0);const f=(a+o)/2,d=(c+l)/2;/userSpaceOnUse/i.test(n)&&(o-=f,l-=d,a-=f,c-=d);const g=[];for(let _=0;_<e.children.length;_++){const y=e.children[_];let x=y.getAttribute("offset");/%/gi.test(x)&&(x=parseFloat(x.replace(/%/gi,""))/100),x=parseFloat(x);let k=y.getAttribute("stop-color"),S=y.getAttribute("stop-opacity"),b=y.getAttribute("style"),w;k===null&&(w=b?b.match(/stop-color:\s?([#a-fA-F0-9]*)/):!1,k=w&&w.length>1?w[1]:void 0),S===null?(w=b?b.match(/stop-opacity:\s?([0-9.-]*)/):!1,S=w&&w.length>1?parseFloat(w[1]):1):S=parseFloat(S),g.push(new Wr(x,k,S))}const m=new et(o,l,a,c,g);return m.spread=i,m.units=n,sr.call(this,e,m,t),m},radialgradient:function(e,t){let n=e.getAttribute("gradientUnits"),i=e.getAttribute("spreadMethod");n||(n="objectBoundingBox"),i||(i="pad");let o=parseFloat(e.getAttribute("cx"))||0,l=parseFloat(e.getAttribute("cy"))||0,a=parseFloat(e.getAttribute("r")),c=parseFloat(e.getAttribute("fx")),f=parseFloat(e.getAttribute("fy"));Se.isNaN(c)&&(c=o),Se.isNaN(f)&&(f=l);const d=Math.abs(o+c)/2,g=Math.abs(l+f)/2;/userSpaceOnUse/i.test(n)&&(o-=d,l-=g,c-=d,f-=g);const m=[];for(let y=0;y<e.children.length;y++){const x=e.children[y];let k=x.getAttribute("offset");/%/gi.test(k)&&(k=parseFloat(k.replace(/%/gi,""))/100),k=parseFloat(k);let S=x.getAttribute("stop-color"),b=x.getAttribute("stop-opacity"),w=x.getAttribute("style"),C;S===null&&(C=w?w.match(/stop-color:\s?([#a-fA-F0-9]*)/):!1,S=C&&C.length>1?C[1]:void 0),b===null?(C=w?w.match(/stop-opacity:\s?([0-9.-]*)/):!1,b=C&&C.length>1?parseFloat(C[1]):1):b=parseFloat(b),m.push(new Wr(k,S,b))}const _=new tt(o,l,a,m,c,f);return _.spread=i,_.units=n,sr.call(this,e,_,t),_},text:function(e,t){const n=iS(e.getAttribute("text-anchor"))||"left",i=sS(e)||"baseline",o=e.textContent,l=new lr(o);return sr.call(this,e,l,t),l.alignment=n,l.baseline=i,l},clippath:function(e,t){return rt.defs.current&&!rt.defs.current.contains(e.id)&&rt.defs.current.add(e.id,e),null},image:function(e,t){let n;const i=e.getAttribute("href")||e.getAttribute("xlink:href");if(!i)return n=new Wn("encountered <image /> with no href."),console.warn(n.name,n.message),null;const o=parseFloat(e.getAttribute("x"))||0,l=parseFloat(e.getAttribute("y"))||0,a=parseFloat(e.getAttribute("width")),c=parseFloat(e.getAttribute("height")),f=new kc(i,o,l);return Se.isNaN(a)||(f.width=a),Se.isNaN(c)||(f.height=c),sr.call(this,e,f,t),f}};function Nv(e,t){const n=new XMLHttpRequest;return n.open("GET",e),n.onreadystatechange=function(){n.readyState===4&&n.status===200&&t(n.responseText)},n.send(),n}var Po=class extends rs{constructor(e,t,n,i){super(t,n,0,0),T(this,"_flagTextures",!1),T(this,"_flagFrameRate",!1),T(this,"_flagIndex",!1),T(this,"_amount",1),T(this,"_duration",0),T(this,"_index",0),T(this,"_startTime",0),T(this,"_playing",!1),T(this,"_firstFrame",0),T(this,"_lastFrame",0),T(this,"_loop",!0),T(this,"_textures",null),T(this,"_frameRate",0),T(this,"_origin",null);for(let o in Zy)Object.defineProperty(this,o,Zy[o]);this._renderer.flagTextures=hS.bind(this),this._renderer.bindTextures=dS.bind(this),this._renderer.unbindTextures=pS.bind(this),this.noStroke(),this.noFill(),Array.isArray(e)?this.textures=e.map(Jy.bind(this)):this.textures=[Jy(e)],this.origin=new ce,this._update(),typeof i=="number"?this.frameRate=i:this.frameRate=Po.DefaultFrameRate,this.index=0}static fromObject(e){const t=new Po().copy(e);return"id"in e&&(t.id=e.id),t}copy(e){super.copy.call(this,e);for(let t=0;t<Po.Properties.length;t++){const n=Po.Properties[t];n in e&&(this[n]=e[n])}return this}play(e,t,n){return this._playing=!0,this._firstFrame=0,this._lastFrame=this.amount-1,this._startTime=Se.performance.now(),typeof e=="number"&&(this._firstFrame=e),typeof t=="number"&&(this._lastFrame=t),typeof n=="function"?this._onLastFrame=n:delete this._onLastFrame,this._index!==this._firstFrame&&(this._startTime-=1e3*Math.abs(this._index-this._firstFrame)/this._frameRate),this}pause(){return this._playing=!1,this}stop(){return this._playing=!1,this._index=this._firstFrame,this}clone(e){const t=new Po(this.textures,this.translation.x,this.translation.y,this.frameRate);return t._loop=this._loop,this._playing&&t.play(),e&&e.add(t),t}toObject(){const e=super.toObject.call(this);return e.textures=this.textures.map(function(t){return t.toObject()}),e.frameRate=this.frameRate,e.index=this.index,e.firstFrame=this.firstFrame,e.lastFrame=this.lastFrame,e.loop=this.loop,e}_update(){const e=this._textures;let t,n,i,o,l,a,c,f;return e&&(this._flagTextures&&(this._amount=e.length),this._flagFrameRate&&(this._duration=1e3*this._amount/this._frameRate),this._playing&&this._frameRate>0?(o=this._amount,Se.isNaN(this._lastFrame)&&(this._lastFrame=o-1),i=Se.performance.now()-this._startTime,f=this._lastFrame+1,l=1e3*(f-this._firstFrame)/this._frameRate,this._loop?i=i%l:i=Math.min(i,l),c=$n(this._firstFrame,f,i/l),c=Math.floor(c),c!==this._index&&(this._index=c,a=e[this._index],a.loaded&&(t=a.image.width,n=a.image.height,this.width!==t&&(this.width=t),this.height!==n&&(this.height=n),this.fill=a,c>=this._lastFrame-1&&this._onLastFrame&&this._onLastFrame()))):(this._flagIndex||!(this.fill instanceof ze))&&(a=e[this._index],a.loaded&&(t=a.image.width,n=a.image.height,this.width!==t&&(this.width=t),this.height!==n&&(this.height=n)),this.fill=a)),super._update.call(this),this}flagReset(){return this._flagTextures=this._flagFrameRate=!1,super.flagReset.call(this),this}},Rc=Po;T(Rc,"Properties",["textures","frameRate","index","firstFrame","lastFrame","loop"]);T(Rc,"DefaultFrameRate",30);var Zy={frameRate:{enumerable:!0,get:function(){return this._frameRate},set:function(e){this._frameRate=e,this._flagFrameRate=!0}},index:{enumerable:!0,get:function(){return this._index},set:function(e){this._index=e,this._flagIndex=!0}},textures:{enumerable:!0,get:function(){return this._textures},set:function(e){const t=this._renderer.bindTextures,n=this._renderer.unbindTextures;this._textures&&this._textures.unbind(J.Types.insert,t).unbind(J.Types.remove,n),this._textures=new Ji((e||[]).slice(0)),this._textures.bind(J.Types.insert,t).bind(J.Types.remove,n),t(this._textures)}},firstFrame:{enumerable:!0,get:function(){return this._firstFrame},set:function(e){this._firstFrame=e}},lastFrame:{enumerable:!0,get:function(){return this._lastFrame},set:function(e){this._lastFrame=e}},loop:{enumerable:!0,get:function(){return this._loop},set:function(e){this._loop=!!e}}};function hS(){this._flagTextures=!0}function dS(e){let t=e.length;for(;t--;)e[t].bind(J.Types.change,this._renderer.flagTextures);this._renderer.flagTextures()}function pS(e){let t=e.length;for(;t--;)e[t].unbind(J.Types.change,this._renderer.flagTextures);this._renderer.flagTextures()}function Jy(e){if(e instanceof ze)return e;if(typeof e=="string")return new ze(e)}var jh=[],pd=Math.max,gS=Math.min,e0=Math.abs,Tu=Math.sin,Mu=Math.cos,mS=Math.acos,tc=Math.sqrt,je={isHidden:/(undefined|none|transparent)/i,alignments:{left:"start",middle:"center",right:"end"},baselines:{top:"top",middle:"middle",bottom:"bottom",baseline:"alphabetic"},getRendererType:function(e){return e in je?e:"path"},group:{renderChild:function(e){const t=je.getRendererType(e._renderer.type);je[t].render.call(e,this.ctx,!0,this.clip)},render:function(e){if(!this._visible)return this;this._update();const t=this._matrix.elements,n=this.parent;this._renderer.opacity=this._opacity*(n&&n._renderer?n._renderer.opacity:1);const i=this._mask,o=Au(t),l=!o||!!i;if(this._renderer.context||(this._renderer.context={}),this._renderer.context.ctx=e,l&&(e.save(),o||e.transform(t[0],t[3],t[1],t[4],t[2],t[5])),i){const a=je.getRendererType(i._renderer.type);je[a].render.call(i,e,!0)}if(this._opacity>0&&this._scale!==0)for(let a=0;a<this.children.length;a++){const c=this.children[a],f=je.getRendererType(c._renderer.type);je[f].render.call(c,e)}return l&&e.restore(),this.flagReset()}},path:{render:function(e,t,n){let i,o,l,a,c,f,d,g,m,_,y,x,k,S,b,w,C,M,P,N,j,X,z,W,K,q,ae,te,re,ue,Z,D,$,G;if(G=this.parent&&this.parent._renderer?this.parent._renderer.opacity:1,re=this._mask,ue=this._clip,c=this._opacity*(G||1),f=this._visible,!t&&(!f||ue||c===0))return this;if(this._update(),i=this._matrix.elements,o=this._stroke,l=this._linewidth,a=this._fill,d=this._cap,g=this._join,m=this._miter,_=this._closed,y=this._renderer.vertices,x=y.length,k=x-1,Z=Au(i),$=this.dashes,Z||(e.save(),e.transform(i[0],i[3],i[1],i[4],i[2],i[5])),re){const ee=je.getRendererType(re._renderer.type);je[ee].render.call(re,e,!0)}if(a)if(typeof a=="string")e.fillStyle=a;else{const ee=je.getRendererType(a._renderer.type);je[ee].render.call(a,e,this),e.fillStyle=a._renderer.effect}if(o){if(typeof o=="string")e.strokeStyle=o;else{const ee=je.getRendererType(o._renderer.type);je[ee].render.call(o,e,this),e.strokeStyle=o._renderer.effect}l&&(e.lineWidth=l),m&&(e.miterLimit=m),g&&(e.lineJoin=g),!_&&d&&(e.lineCap=d)}typeof c=="number"&&(e.globalAlpha=c),$&&$.length>0&&(e.lineDashOffset=$.offset||0,e.setLineDash($)),e.beginPath();let L,Y,we,fe,oe,Q,se;for(let ee=0;ee<x;ee++)switch(w=y[ee],ae=w.x,te=w.y,w.command){case de.close:e.closePath();break;case de.arc:L=w.rx,Y=w.ry,we=w.xAxisRotation,fe=w.largeArcFlag,oe=w.sweepFlag,S=_?Yn(ee-1,x):pd(ee-1,0),b=y[S],Q=b.x,se=b.y,je.renderSvgArcCommand(e,Q,se,L,Y,fe,oe,we,ae,te);break;case de.curve:S=_?Yn(ee-1,x):Math.max(ee-1,0),b=y[S],z=b.controls&&b.controls.right||ce.zero,W=w.controls&&w.controls.left||ce.zero,b._relative?(j=z.x+b.x,X=z.y+b.y):(j=z.x,X=z.y),w._relative?(P=W.x+w.x,N=W.y+w.y):(P=W.x,N=W.y),e.bezierCurveTo(j,X,P,N,ae,te),ee>=k&&_&&(C=M,K=w.controls&&w.controls.right||ce.zero,q=C.controls&&C.controls.left||ce.zero,w._relative?(j=K.x+w.x,X=K.y+w.y):(j=K.x,X=K.y),C._relative?(P=q.x+C.x,N=q.y+C.y):(P=q.x,N=q.y),ae=C.x,te=C.y,e.bezierCurveTo(j,X,P,N,ae,te));break;case de.line:e.lineTo(ae,te);break;case de.move:M=w,e.moveTo(ae,te);break}return _&&e.closePath(),!ue&&!n&&(je.isHidden.test(a)||(D=a._renderer&&a._renderer.offset,D&&(e.save(),e.translate(-a._renderer.offset.x,-a._renderer.offset.y),e.scale(a._renderer.scale.x,a._renderer.scale.y)),e.fill(),D&&e.restore()),je.isHidden.test(o)||(D=o._renderer&&o._renderer.offset,D&&(e.save(),e.translate(-o._renderer.offset.x,-o._renderer.offset.y),e.scale(o._renderer.scale.x,o._renderer.scale.y),e.lineWidth=l/o._renderer.scale.x),e.stroke(),D&&e.restore())),Z||e.restore(),ue&&!n&&e.clip(),$&&$.length>0&&e.setLineDash(jh),this.flagReset()}},points:{render:function(e,t,n){let i,o,l,a,c,f,d,g,m,_,y,x,k,S,b,w;if(w=this.parent&&this.parent._renderer?this.parent._renderer.opacity:1,c=this._opacity*(w||1),f=this._visible,!t&&(!f||c===0))return this;if(this._update(),i=this._matrix.elements,o=this._stroke,l=this._linewidth,a=this._fill,g=this._renderer.collection,m=g.length,k=Au(i),b=this.dashes,d=this._size,k||(e.save(),e.transform(i[0],i[3],i[1],i[4],i[2],i[5])),a)if(typeof a=="string")e.fillStyle=a;else{const P=je.getRendererType(a._renderer.type);je[P].render.call(a,e,this),e.fillStyle=a._renderer.effect}if(o){if(typeof o=="string")e.strokeStyle=o;else{const P=je.getRendererType(o._renderer.type);je[P].render.call(o,e,this),e.strokeStyle=o._renderer.effect}l&&(e.lineWidth=l)}typeof c=="number"&&(e.globalAlpha=c),b&&b.length>0&&(e.lineDashOffset=b.offset||0,e.setLineDash(b)),e.beginPath();let C=d*.5,M;this._sizeAttenuation||(M=this.worldMatrix.elements,M=Do(M[0],M[3],M[1],M[4],M[2],M[5]),C/=Math.max(M.scaleX,M.scaleY));for(let P=0;P<m;P++)_=g[P],y=_.x,x=_.y,e.moveTo(y+C,x),e.arc(y,x,C,0,Jt);return n||(je.isHidden.test(a)||(S=a._renderer&&a._renderer.offset,S&&(e.save(),e.translate(-a._renderer.offset.x,-a._renderer.offset.y),e.scale(a._renderer.scale.x,a._renderer.scale.y)),e.fill(),S&&e.restore()),je.isHidden.test(o)||(S=o._renderer&&o._renderer.offset,S&&(e.save(),e.translate(-o._renderer.offset.x,-o._renderer.offset.y),e.scale(o._renderer.scale.x,o._renderer.scale.y),e.lineWidth=l/o._renderer.scale.x),e.stroke(),S&&e.restore())),k||e.restore(),b&&b.length>0&&e.setLineDash(jh),this.flagReset()}},text:{render:function(e,t,n){const i=this.parent&&this.parent._renderer?this.parent._renderer.opacity:1,o=this._opacity*i,l=this._visible,a=this._mask,c=this._clip;if(!t&&(!l||c||o===0))return this;this._update();const f=this._matrix.elements,d=this._stroke,g=this._linewidth,m=this._fill,_=this._decoration,y=this._direction,x=Au(f),k=m._renderer&&m._renderer.offset&&d._renderer&&d._renderer.offset,S=this.dashes,b=je.alignments[this._alignment]||this._alignment,w=je.baselines[this._baseline]||this._baseline;let C,M,P,N,j,X,z,W,K,q,ae;if(x||(e.save(),e.transform(f[0],f[3],f[1],f[4],f[2],f[5])),a){const te=je.getRendererType(a._renderer.type);je[te].render.call(a,e,!0)}if(k||(e.font=[this._style,this._weight,this._size+"px/"+this._leading+"px",this._family].join(" ")),e.textAlign=b,e.textBaseline=w,e.direction=y,m)if(typeof m=="string")e.fillStyle=m;else{const te=je.getRendererType(m._renderer.type);je[te].render.call(m,e,this),e.fillStyle=m._renderer.effect}if(d){if(typeof d=="string")e.strokeStyle=d;else{const te=je.getRendererType(d._renderer.type);je[te].render.call(d,e,this),e.strokeStyle=d._renderer.effect}g&&(e.lineWidth=g)}if(typeof o=="number"&&(e.globalAlpha=o),S&&S.length>0&&(e.lineDashOffset=S.offset||0,e.setLineDash(S)),!c&&!n&&(je.isHidden.test(m)||(m._renderer&&m._renderer.offset?(X=m._renderer.scale.x,z=m._renderer.scale.y,e.save(),e.translate(-m._renderer.offset.x,-m._renderer.offset.y),e.scale(X,z),C=this._size/m._renderer.scale.y,M=this._leading/m._renderer.scale.y,e.font=[this._style,this._weight,C+"px/",M+"px",this._family].join(" "),P=m._renderer.offset.x/m._renderer.scale.x,N=m._renderer.offset.y/m._renderer.scale.y,e.fillText(this.value,P,N),e.restore()):e.fillText(this.value,0,0)),je.isHidden.test(d)||(d._renderer&&d._renderer.offset?(X=d._renderer.scale.x,z=d._renderer.scale.y,e.save(),e.translate(-d._renderer.offset.x,-d._renderer.offset.y),e.scale(X,z),C=this._size/d._renderer.scale.y,M=this._leading/d._renderer.scale.y,e.font=[this._style,this._weight,C+"px/",M+"px",this._family].join(" "),P=d._renderer.offset.x/d._renderer.scale.x,N=d._renderer.offset.y/d._renderer.scale.y,j=g/d._renderer.scale.x,e.lineWidth=j,e.strokeText(this.value,P,N),e.restore()):e.strokeText(this.value,0,0))),/(underline|strikethrough)/i.test(_)){const te=e.measureText(this.value);let re=1;switch(_){case"underline":K=te.actualBoundingBoxDescent,ae=te.actualBoundingBoxDescent;break;case"strikethrough":K=0,ae=0,re=.5;break}switch(w){case"top":K+=this._size*re,ae+=this._size*re;break;case"baseline":case"bottom":K-=this._size*re,ae-=this._size*re;break}switch(b){case"left":case"start":W=0,q=te.width;break;case"right":case"end":W=-te.width,q=0;break;default:W=-te.width/2,q=te.width/2}e.lineWidth=Math.max(Math.floor(this._size/15),1),e.strokeStyle=e.fillStyle,e.beginPath(),e.moveTo(W,K),e.lineTo(q,ae),e.stroke()}return x||e.restore(),c&&!n&&e.clip(),S&&S.length>0&&e.setLineDash(jh),this.flagReset()}},"linear-gradient":{render:function(e,t){if(t){if(this._update(),!this._renderer.effect||this._flagEndPoints||this._flagStops||this._flagUnits){let n,i=this.left._x,o=this.left._y,l=this.right._x,a=this.right._y;/objectBoundingBox/i.test(this._units)&&(n=t.getBoundingClientRect(!0),i=(i-.5)*n.width,o=(o-.5)*n.height,l=(l-.5)*n.width,a=(a-.5)*n.height),this._renderer.effect=e.createLinearGradient(i,o,l,a);for(let c=0;c<this.stops.length;c++){const f=this.stops[c];this._renderer.effect.addColorStop(f._offset,f._color)}}return this.flagReset()}}},"radial-gradient":{render:function(e,t){if(t){if(this._update(),!this._renderer.effect||this._flagCenter||this._flagFocal||this._flagRadius||this._flagStops||this._flagUnits){let n,i=this.center._x,o=this.center._y,l=this.focal._x,a=this.focal._y,c=this._radius;/objectBoundingBox/i.test(this._units)&&(n=t.getBoundingClientRect(!0),i=(i-.5)*n.width*.5,o=(o-.5)*n.height*.5,l=(l-.5)*n.width*.5,a=(a-.5)*n.height*.5,c*=Math.min(n.width,n.height)),this._renderer.effect=e.createRadialGradient(i,o,0,l,a,c);for(let f=0;f<this.stops.length;f++){const d=this.stops[f];this._renderer.effect.addColorStop(d._offset,d._color)}}return this.flagReset()}}},texture:{render:function(e){this._update();const t=this.image;return(!this._renderer.effect||(this._flagLoaded||this._flagImage||this._flagVideo||this._flagRepeat)&&this.loaded)&&(this._renderer.effect=e.createPattern(this.image,this._repeat)),(this._flagOffset||this._flagLoaded||this._flagScale)&&(this._renderer.offset instanceof ce||(this._renderer.offset=new ce),this._renderer.offset.x=-this._offset.x,this._renderer.offset.y=-this._offset.y,t&&(this._renderer.offset.x+=t.width/2,this._renderer.offset.y+=t.height/2,this._scale instanceof ce?(this._renderer.offset.x*=this._scale.x,this._renderer.offset.y*=this._scale.y):(this._renderer.offset.x*=this._scale,this._renderer.offset.y*=this._scale))),(this._flagScale||this._flagLoaded)&&(this._renderer.scale instanceof ce||(this._renderer.scale=new ce),this._scale instanceof ce?this._renderer.scale.copy(this._scale):this._renderer.scale.set(this._scale,this._scale)),this.flagReset()}},renderSvgArcCommand:function(e,t,n,i,o,l,a,c,f,d){c=c*Math.PI/180,i=e0(i),o=e0(o);const g=(t-f)/2,m=(n-d)/2,_=Mu(c)*g+Tu(c)*m,y=-Tu(c)*g+Mu(c)*m,x=_*_,k=y*y;let S=i*i,b=o*o;const w=x/S+k/b;if(w>1){const te=tc(w);i=te*i,o=te*o,S=i*i,b=o*o}const C=S*k+b*x,M=(S*b-C)/C;let P=tc(pd(0,M));l===a&&(P=-P);const N=P*i*y/o,j=-P*o*_/i,X=Mu(c)*N-Tu(c)*j+(t+f)/2,z=Tu(c)*N+Mu(c)*j+(n+d)/2,W=t0(1,0,(_-N)/i,(y-j)/o),K=t0((_-N)/i,(y-j)/o,(-_-N)/i,(-y-j)/o)%Jt,q=W+K;yS(e,X,z,i,o,W,q,a===0,c)}},Gt=class extends J{constructor(e){super();const t=e.smoothing!==!1;this.domElement=e.domElement||document.createElement("canvas"),this.ctx=this.domElement.getContext("2d"),this.overdraw=e.overdraw||!1,typeof this.ctx.imageSmoothingEnabled<"u"&&(this.ctx.imageSmoothingEnabled=t),this.scene=new wt,this.scene.parent=this}setSize(e,t,n){return this.width=e,this.height=t,this.ratio=typeof n>"u"?Kd(this.ctx):n,this.domElement.width=e*this.ratio,this.domElement.height=t*this.ratio,this.domElement.style&&Se.extend(this.domElement.style,{width:e+"px",height:t+"px"}),this.trigger(J.Types.resize,e,t,n)}render(){const e=this.ratio===1;return e||(this.ctx.save(),this.ctx.scale(this.ratio,this.ratio)),this.overdraw||this.ctx.clearRect(0,0,this.width,this.height),je.group.render.call(this.scene,this.ctx),e||this.ctx.restore(),this}};T(Gt,"Utils",je);function yS(e,t,n,i,o,l,a,c,f){const d=a-l,g=zo.Tolerance.epsilon,m=Math.abs(d)<g;let _=Yn(d,Jt);_<g&&(m?_=0:_=Jt),c===!0&&!m&&(_===Jt?_=-Jt:_=_-Jt);for(let y=0;y<dn.Resolution;y++){const x=y/(dn.Resolution-1),k=l+x*_;let S=t+i*Math.cos(k),b=n+o*Math.sin(k);if(f!==0){const w=Math.cos(f),C=Math.sin(f),M=S-t,P=b-n;S=M*w-P*C+t,b=M*C+P*w+n}e.lineTo(S,b)}}function t0(e,t,n,i){const o=e*n+t*i,l=tc(e*e+t*t)*tc(n*n+i*i);let a=mS(pd(-1,gS(1,o/l)));return e*i-t*n<0&&(a=-a),a}function Au(e){return e[0]==1&&e[3]==0&&e[1]==0&&e[4]==1&&e[2]==0&&e[5]==0}var be={version:1.1,ns:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",alignments:{left:"start",center:"middle",right:"end"},baselines:{top:"hanging",middle:"middle",bottom:"ideographic",baseline:"alphabetic"},createElement:function(e,t){const n=e,i=document.createElementNS(be.ns,n);return n==="svg"&&(t=Se.defaults(t||{},{version:be.version})),t&&Object.keys(t).length>0&&be.setAttributes(i,t),i},setAttributes:function(e,t){const n=Object.keys(t);for(let i=0;i<n.length;i++)/href/.test(n[i])?e.setAttributeNS(be.xlink,n[i],t[n[i]]):e.setAttribute(n[i],t[n[i]]);return this},removeAttributes:function(e,t){for(let n in t)e.removeAttribute(n);return this},toString:function(e,t){let n=e.length,i=n-1,o,l="";for(let a=0;a<n;a++){const c=e[a],f=t?Yn(a-1,n):Math.max(a-1,0),d=e[f];let g,m,_,y,x,k,S,b,w,C,M,P,N,j,X,z=Ve(c.x),W=Ve(c.y);switch(c.command){case de.close:g=de.close;break;case de.arc:M=c.rx,P=c.ry,N=c.xAxisRotation,j=c.largeArcFlag,X=c.sweepFlag,g=de.arc+" "+M+" "+P+" "+N+" "+j+" "+X+" "+z+" "+W;break;case de.curve:S=d.controls&&d.controls.right||ce.zero,b=c.controls&&c.controls.left||ce.zero,d.relative?(_=Ve(S.x+d.x),y=Ve(S.y+d.y)):(_=Ve(S.x),y=Ve(S.y)),c.relative?(x=Ve(b.x+c.x),k=Ve(b.y+c.y)):(x=Ve(b.x),k=Ve(b.y)),g=(a===0?de.move:de.curve)+" "+_+" "+y+" "+x+" "+k+" "+z+" "+W;break;case de.move:o=c,g=de.move+" "+z+" "+W;break;default:g=c.command+" "+z+" "+W}a>=i&&t&&(c.command===de.curve&&(m=o,w=c.controls&&c.controls.right||c,C=m.controls&&m.controls.left||m,c.relative?(_=Ve(w.x+c.x),y=Ve(w.y+c.y)):(_=Ve(w.x),y=Ve(w.y)),m.relative?(x=Ve(C.x+m.x),k=Ve(C.y+m.y)):(x=Ve(C.x),k=Ve(C.y)),z=Ve(m.x),W=Ve(m.y),g+=" C "+_+" "+y+" "+x+" "+k+" "+z+" "+W),c.command!==de.close&&(g+=" Z")),l+=g+" "}return l},pointsToString:function(e,t){let n="";const i=t*.5;for(let o=0;o<e.length;o++){const l=e[o].x,a=e[o].y-i;n+=de.move+" "+l+" "+a+" ",n+="a "+i+" "+i+" 0 1 0 0.001 0 Z"}return n},getClip:function(e,t){let n=e._renderer.clip;return n||(n=e._renderer.clip=be.createElement("clipPath",{"clip-rule":"nonzero"})),n.parentNode===null&&t.defs.appendChild(n),n},getRendererType:function(e){return e in be?e:"path"},defs:{update:function(e){const{defs:t}=e;if(t._flagUpdate){const n=Array.prototype.slice.call(t.children,0);for(let i=0;i<n.length;i++){const o=n[i],l=o.id,a=`[fill="url(#${l})"],[stroke="url(#${l})"],[clip-path="url(#${l})"]`;e.querySelector(a)||t.removeChild(o)}t._flagUpdate=!1}}},group:{appendChild:function(e){const t=e._renderer.elem;if(!t)return;const n=t.nodeName;!n||/(radial|linear)gradient/i.test(n)||e._clip||this.elem.appendChild(t)},removeChild:function(e){const t=e._renderer.elem;!t||t.parentNode!=this.elem||!t.nodeName||e._clip||this.elem.removeChild(t)},orderChild:function(e){this.elem.appendChild(e._renderer.elem)},renderChild:function(e){const t=be.getRendererType(e._renderer.type);be[t].render.call(e,this)},render:function(e){if(!this._visible&&!this._flagVisible||this._opacity===0&&!this._flagOpacity)return this;this._update(),this._renderer.elem||(this._renderer.elem=be.createElement("g",{id:this.id}),e.appendChild(this._renderer.elem));const t=this._matrix.manual||this._flagMatrix,n={domElement:e,elem:this._renderer.elem};t&&this._renderer.elem.setAttribute("transform","matrix("+this._matrix.toString()+")");for(let i=0;i<this.children.length;i++){const o=this.children[i],l=be.getRendererType(o._renderer.type);be[l].render.call(o,e)}if(this._flagId&&this._renderer.elem.setAttribute("id",this._id),this._flagOpacity&&this._renderer.elem.setAttribute("opacity",this._opacity),this._flagVisible&&this._renderer.elem.setAttribute("display",this._visible?"inline":"none"),this._flagClassName&&this._renderer.elem.setAttribute("class",this.classList.join(" ")),this._flagAdditions&&this.additions.forEach(be.group.appendChild,n),this._flagSubtractions&&this.subtractions.forEach(be.group.removeChild,n),this._flagOrder&&this.children.forEach(be.group.orderChild,n),this._flagMask)if(this._mask){const i=be.getRendererType(this._mask._renderer.type);be[i].render.call(this._mask,e),this._renderer.elem.setAttribute("clip-path","url(#"+this._mask.id+")")}else this._renderer.elem.removeAttribute("clip-path");return this.dataset&&Object.assign(this._renderer.elem.dataset,this.dataset),this.flagReset()}},path:{render:function(e){if(this._opacity===0&&!this._flagOpacity)return this;this._update();const t={};if((this._matrix.manual||this._flagMatrix)&&(t.transform="matrix("+this._matrix.toString()+")"),this._flagId&&(t.id=this._id),this._flagVertices){const i=be.toString(this._renderer.vertices,this._closed);t.d=i}if(this._fill&&this._fill._renderer){this._renderer.hasFillEffect=!0,this._fill._update();const i=be.getRendererType(this._fill._renderer.type);be[i].render.call(this._fill,e,!0)}if(this._flagFill&&(t.fill=this._fill&&this._fill.id?"url(#"+this._fill.id+")":this._fill,this._renderer.hasFillEffect&&typeof this._fill.id>"u"&&(e.defs._flagUpdate=!0,delete this._renderer.hasFillEffect)),this._stroke&&this._stroke._renderer){this._renderer.hasStrokeEffect=!0,this._stroke._update();const i=be.getRendererType(this._stroke._renderer.type);be[i].render.call(this._stroke,e,!0)}if(this._flagStroke&&(t.stroke=this._stroke&&this._stroke.id?"url(#"+this._stroke.id+")":this._stroke,this._renderer.hasStrokeEffect&&typeof this._stroke.id>"u"&&(e.defs._flagUpdate=!0,delete this._renderer.hasStrokeEffect)),this._flagLinewidth&&(t["stroke-width"]=this._linewidth),this._flagOpacity&&(t["stroke-opacity"]=this._opacity,t["fill-opacity"]=this._opacity),this._flagClassName&&(t.class=this.classList.join(" ")),this._flagVisible&&(t.visibility=this._visible?"visible":"hidden"),this._flagCap&&(t["stroke-linecap"]=this._cap),this._flagJoin&&(t["stroke-linejoin"]=this._join),this._flagMiter&&(t["stroke-miterlimit"]=this._miter),this.dashes&&this.dashes.length>0&&(t["stroke-dasharray"]=this.dashes.join(" "),t["stroke-dashoffset"]=this.dashes.offset||0),this._renderer.elem?be.setAttributes(this._renderer.elem,t):(t.id=this._id,this._renderer.elem=be.createElement("path",t),e.appendChild(this._renderer.elem)),this._flagClip){const i=be.getClip(this,e),o=this._renderer.elem;this._clip?(o.removeAttribute("id"),i.setAttribute("id",this.id),i.appendChild(o)):(i.removeAttribute("id"),o.setAttribute("id",this.id),this.parent._renderer.elem.appendChild(o))}if(this._flagMask)if(this._mask){const i=be.getRendererType(this._mask._renderer.type);be[i].render.call(this._mask,e),this._renderer.elem.setAttribute("clip-path","url(#"+this._mask.id+")")}else this._renderer.elem.removeAttribute("clip-path");return this.flagReset()}},points:{render:function(e){if(this._opacity===0&&!this._flagOpacity)return this;this._update();const t={};if((this._matrix.manual||this._flagMatrix)&&(t.transform="matrix("+this._matrix.toString()+")"),this._flagId&&(t.id=this._id),this._flagVertices||this._flagSize||this._flagSizeAttenuation){let i=this._size;if(!this._sizeAttenuation){const l=this.worldMatrix.elements,a=Do(l[0],l[3],l[1],l[4],l[2],l[5]);i/=Math.max(a.scaleX,a.scaleY)}const o=be.pointsToString(this._renderer.collection,i);t.d=o}if(this._fill&&this._fill._renderer){this._renderer.hasFillEffect=!0,this._fill._update();const i=be.getRendererType(this._fill._renderer.type);be[i].render.call(this._fill,e,!0)}if(this._flagFill&&(t.fill=this._fill&&this._fill.id?"url(#"+this._fill.id+")":this._fill,this._renderer.hasFillEffect&&typeof this._fill.id>"u"&&(e.defs._flagUpdate=!0,delete this._renderer.hasFillEffect)),this._stroke&&this._stroke._renderer){this._renderer.hasStrokeEffect=!0,this._stroke._update();const i=be.getRendererType(this._stroke._renderer.type);be[i].render.call(this._stroke,e,!0)}return this._flagStroke&&(t.stroke=this._stroke&&this._stroke.id?"url(#"+this._stroke.id+")":this._stroke,this._renderer.hasStrokeEffect&&typeof this._stroke.id>"u"&&(e.defs._flagUpdate=!0,delete this._renderer.hasStrokeEffect)),this._flagLinewidth&&(t["stroke-width"]=this._linewidth),this._flagOpacity&&(t["stroke-opacity"]=this._opacity,t["fill-opacity"]=this._opacity),this._flagClassName&&(t.class=this.classList.join(" ")),this._flagVisible&&(t.visibility=this._visible?"visible":"hidden"),this.dashes&&this.dashes.length>0&&(t["stroke-dasharray"]=this.dashes.join(" "),t["stroke-dashoffset"]=this.dashes.offset||0),this._renderer.elem?be.setAttributes(this._renderer.elem,t):(t.id=this._id,this._renderer.elem=be.createElement("path",t),e.appendChild(this._renderer.elem)),this.flagReset()}},text:{render:function(e){this._update();const t={};if((this._matrix.manual||this._flagMatrix)&&(t.transform="matrix("+this._matrix.toString()+")"),this._flagId&&(t.id=this._id),this._flagFamily&&(t["font-family"]=this._family),this._flagSize&&(t["font-size"]=this._size),this._flagLeading&&(t["line-height"]=this._leading),this._flagAlignment&&(t["text-anchor"]=be.alignments[this._alignment]||this._alignment),this._flagBaseline&&(t["dominant-baseline"]=be.baselines[this._baseline]||this._baseline),this._flagStyle&&(t["font-style"]=this._style),this._flagWeight&&(t["font-weight"]=this._weight),this._flagDecoration&&(t["text-decoration"]=this._decoration),this._flagDirection&&(t.direction=this._direction),this._fill&&this._fill._renderer){this._renderer.hasFillEffect=!0,this._fill._update();const i=be.getRendererType(this._fill._renderer.type);be[i].render.call(this._fill,e,!0)}if(this._flagFill&&(t.fill=this._fill&&this._fill.id?"url(#"+this._fill.id+")":this._fill,this._renderer.hasFillEffect&&typeof this._fill.id>"u"&&(e.defs._flagUpdate=!0,delete this._renderer.hasFillEffect)),this._stroke&&this._stroke._renderer){this._renderer.hasStrokeEffect=!0,this._stroke._update();const i=be.getRendererType(this._stroke._renderer.type);be[i].render.call(this._stroke,e,!0)}if(this._flagStroke&&(t.stroke=this._stroke&&this._stroke.id?"url(#"+this._stroke.id+")":this._stroke,this._renderer.hasStrokeEffect&&typeof this._stroke.id>"u"&&(e.defs._flagUpdate=!0,delete this._renderer.hasStrokeEffect)),this._flagLinewidth&&(t["stroke-width"]=this._linewidth),this._flagOpacity&&(t.opacity=this._opacity),this._flagClassName&&(t.class=this.classList.join(" ")),this._flagVisible&&(t.visibility=this._visible?"visible":"hidden"),this.dashes&&this.dashes.length>0&&(t["stroke-dasharray"]=this.dashes.join(" "),t["stroke-dashoffset"]=this.dashes.offset||0),this._renderer.elem?be.setAttributes(this._renderer.elem,t):(t.id=this._id,this._renderer.elem=be.createElement("text",t),e.appendChild(this._renderer.elem)),this._flagClip){const i=be.getClip(this,e),o=this._renderer.elem;this._clip?(o.removeAttribute("id"),i.setAttribute("id",this.id),i.appendChild(o)):(i.removeAttribute("id"),o.setAttribute("id",this.id),this.parent._renderer.elem.appendChild(o))}if(this._flagMask)if(this._mask){const i=be.getRendererType(this._mask._renderer.type);be[i].render.call(this._mask,e),this._renderer.elem.setAttribute("clip-path","url(#"+this._mask.id+")")}else this._renderer.elem.removeAttribute("clip-path");return this._flagValue&&(this._renderer.elem.textContent=this._value),this.flagReset()}},"linear-gradient":{render:function(e,t){t||this._update();const n={};if(this._flagId&&(n.id=this._id),this._flagEndPoints&&(n.x1=this.left._x,n.y1=this.left._y,n.x2=this.right._x,n.y2=this.right._y),this._flagSpread&&(n.spreadMethod=this._spread),this._flagUnits&&(n.gradientUnits=this._units),this._renderer.elem?be.setAttributes(this._renderer.elem,n):(n.id=this._id,this._renderer.elem=be.createElement("linearGradient",n)),this._renderer.elem.parentNode===null&&e.defs.appendChild(this._renderer.elem),this._flagStops){const i=this._renderer.elem.childNodes.length!==this.stops.length;if(i)for(;this._renderer.elem.lastChild;)this._renderer.elem.removeChild(this._renderer.elem.lastChild);for(let o=0;o<this.stops.length;o++){const l=this.stops[o],a={};l._flagOffset&&(a.offset=100*l._offset+"%"),l._flagColor&&(a["stop-color"]=l._color),l._flagOpacity&&(a["stop-opacity"]=l._opacity),l._renderer.elem?be.setAttributes(l._renderer.elem,a):l._renderer.elem=be.createElement("stop",a),i&&this._renderer.elem.appendChild(l._renderer.elem),l.flagReset()}}return this.flagReset()}},"radial-gradient":{render:function(e,t){t||this._update();const n={};if(this._flagId&&(n.id=this._id),this._flagCenter&&(n.cx=this.center._x,n.cy=this.center._y),this._flagFocal&&(n.fx=this.focal._x,n.fy=this.focal._y),this._flagRadius&&(n.r=this._radius),this._flagSpread&&(n.spreadMethod=this._spread),this._flagUnits&&(n.gradientUnits=this._units),this._renderer.elem?be.setAttributes(this._renderer.elem,n):(n.id=this._id,this._renderer.elem=be.createElement("radialGradient",n)),this._renderer.elem.parentNode===null&&e.defs.appendChild(this._renderer.elem),this._flagStops){const i=this._renderer.elem.childNodes.length!==this.stops.length;if(i)for(;this._renderer.elem.lastChild;)this._renderer.elem.removeChild(this._renderer.elem.lastChild);for(let o=0;o<this.stops.length;o++){const l=this.stops[o],a={};l._flagOffset&&(a.offset=100*l._offset+"%"),l._flagColor&&(a["stop-color"]=l._color),l._flagOpacity&&(a["stop-opacity"]=l._opacity),l._renderer.elem?be.setAttributes(l._renderer.elem,a):l._renderer.elem=be.createElement("stop",a),i&&this._renderer.elem.appendChild(l._renderer.elem),l.flagReset()}}return this.flagReset()}},texture:{render:function(e,t){t||this._update();const n={},i={x:0,y:0},o=this.image;if(this._flagId&&(n.id=this._id),this._flagLoaded&&this.loaded)switch(o.nodeName.toLowerCase()){case"canvas":i.href=i["xlink:href"]=o.toDataURL("image/png");break;case"img":case"image":i.href=i["xlink:href"]=this.src;break}if((this._flagOffset||this._flagLoaded||this._flagScale)&&(n.x=this._offset.x,n.y=this._offset.y,o&&(n.x-=o.width/2,n.y-=o.height/2,this._scale instanceof ce?(n.x*=this._scale.x,n.y*=this._scale.y):(n.x*=this._scale,n.y*=this._scale)),n.x>0&&(n.x*=-1),n.y>0&&(n.y*=-1)),(this._flagScale||this._flagLoaded||this._flagRepeat)&&(n.width=0,n.height=0,o)){switch(n.width=o.width,n.height=o.height,this._repeat){case"no-repeat":n.width+=1,n.height+=1;break}this._scale instanceof ce?(n.width*=this._scale.x,n.height*=this._scale.y):(n.width*=this._scale,n.height*=this._scale),i.width=n.width,i.height=n.height}return(this._flagScale||this._flagLoaded)&&(this._renderer.image?be.setAttributes(this._renderer.image,i):this._renderer.image=be.createElement("image",i)),this._renderer.elem?Object.keys(n).length!==0&&be.setAttributes(this._renderer.elem,n):(n.id=this._id,n.patternUnits="userSpaceOnUse",this._renderer.elem=be.createElement("pattern",n)),this._renderer.elem.parentNode===null&&e.defs.appendChild(this._renderer.elem),this._renderer.elem&&this._renderer.image&&!this._renderer.appended&&(this._renderer.elem.appendChild(this._renderer.image),this._renderer.appended=!0),this.flagReset()}}},Iv=class extends J{constructor(e){super(),this.domElement=e.domElement||be.createElement("svg"),this.scene=new wt,this.scene.parent=this,this.defs=be.createElement("defs"),this.defs._flagUpdate=!1,this.domElement.appendChild(this.defs),this.domElement.defs=this.defs,this.domElement.style.overflow="hidden"}setSize(e,t){return this.width=e,this.height=t,be.setAttributes(this.domElement,{width:e,height:t}),this.trigger(J.Types.resize,e,t)}render(){return be.group.render.call(this.scene,this.domElement),be.defs.update(this.domElement),this}};T(Iv,"Utils",be);var or={create:function(e,t,n){const i=e.createShader(e[n]);if(e.shaderSource(i,t),e.compileShader(i),!e.getShaderParameter(i,e.COMPILE_STATUS)){const l=e.getShaderInfoLog(i);throw e.deleteShader(i),new Wn("unable to compile shader "+i+": "+l)}return i},types:{vertex:"VERTEX_SHADER",fragment:"FRAGMENT_SHADER"},path:{vertex:`
      precision mediump float;
      attribute vec2 a_position;

      uniform mat3 u_matrix;
      uniform vec2 u_resolution;
      uniform vec4 u_rect;

      varying vec2 v_textureCoords;

      void main() {
        vec2 rectCoords = (a_position * (u_rect.zw - u_rect.xy)) + u_rect.xy;
        vec2 projected = (u_matrix * vec3(rectCoords, 1.0)).xy;
        vec2 normal = projected / u_resolution;
        vec2 clipspace = (normal * 2.0) - 1.0;

        gl_Position = vec4(clipspace * vec2(1.0, -1.0), 0.0, 1.0);
        v_textureCoords = a_position;
      }
    `,fragment:`
      precision mediump float;

      uniform sampler2D u_image;
      varying vec2 v_textureCoords;

      void main() {
        vec4 texel = texture2D(u_image, v_textureCoords);
        if (texel.a == 0.0) {
          discard;
        }
        gl_FragColor = texel;
      }
    `},points:{vertex:`
      precision mediump float;
      attribute vec2 a_position;

      uniform float u_size;
      uniform mat3 u_matrix;
      uniform vec2 u_resolution;

      varying vec2 v_textureCoords;

      void main() {
        vec2 projected = (u_matrix * vec3(a_position, 1.0)).xy;
        vec2 normal = projected / u_resolution;
        vec2 clipspace = (normal * 2.0) - 1.0;

        gl_PointSize = u_size;
        gl_Position = vec4(clipspace * vec2(1.0, -1.0), 0.0, 1.0);
        v_textureCoords = a_position;
      }
    `,fragment:`
      precision mediump float;

      uniform sampler2D u_image;

      void main() {
        vec4 texel = texture2D(u_image, gl_PointCoord);
        if (texel.a == 0.0) {
          discard;
        }
        gl_FragColor = texel;
      }
    `}},Pu=zs.Multiply,_S=[1,0,0,0,1,0,0,0,1],Ui=new Br(9),vS=Gt.Utils,n0=new ce,gd=new Br([0,0,1,0,0,1,0,1,1,0,1,1]),Pe={precision:.9,isHidden:/(undefined|none|transparent)/i,canvas:ct.document?ct.document.createElement("canvas"):{getContext:function(){}},alignments:{left:"start",middle:"center",right:"end"},matrix:new zs,group:{removeChild:function(e,t){if(e.children)for(let n=0;n<e.children.length;n++)Pe.group.removeChild(e.children[n],t);e._renderer.texture&&(t.deleteTexture(e._renderer.texture),delete e._renderer.texture),e._renderer.positionBuffer&&(t.deleteBuffer(e._renderer.positionBuffer),delete e._renderer.positionBuffer)},render:function(e,t){if(!this._visible)return;this._update();const n=this.parent,i=n._matrix&&n._matrix.manual||n._flagMatrix,o=this._matrix.manual||this._flagMatrix;if((i||o)&&(this._renderer.matrix||(this._renderer.matrix=new Br(9)),this._matrix.toTransformArray(!0,Ui),Pu(Ui,n._renderer.matrix,this._renderer.matrix),this._renderer.scale instanceof ce||(this._renderer.scale=new ce),this._scale instanceof ce?(this._renderer.scale.x=this._scale.x,this._renderer.scale.y=this._scale.y):(this._renderer.scale.x=this._scale,this._renderer.scale.y=this._scale),/renderer/i.test(n._renderer.type)||(this._renderer.scale.x*=n._renderer.scale.x,this._renderer.scale.y*=n._renderer.scale.y),i&&(this._flagMatrix=!0)),this._mask){e.clear(e.STENCIL_BUFFER_BIT),e.enable(e.STENCIL_TEST),e.stencilFunc(e.ALWAYS,1,0),e.stencilOp(e.KEEP,e.KEEP,e.REPLACE),e.colorMask(!1,!1,!1,!1);const a=Gt.Utils.getRendererType(this._mask._renderer.type);Pe[a].render.call(this._mask,e,t,this),e.stencilFunc(e.EQUAL,1,255),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.colorMask(!0,!0,!0,!0)}this._flagOpacity=n._flagOpacity||this._flagOpacity,this._renderer.opacity=this._opacity*(n&&n._renderer?n._renderer.opacity:1);let l;if(this._flagSubtractions)for(l=0;l<this.subtractions.length;l++)Pe.group.removeChild(this.subtractions[l],e);for(l=0;l<this.children.length;l++){const a=this.children[l],c=Gt.Utils.getRendererType(a._renderer.type);Pe[c].render.call(a,e,t)}return this._mask&&e.disable(e.STENCIL_TEST),this.flagReset()}},path:{updateCanvas:function(e,t){let n,i,o,l,a,c,f,d,g,m,_,y,x,k;const S=t._renderer.vertices,b=this.canvas,w=this.ctx,C=e.renderer.ratio,M=n0.copy(t._renderer.scale).multiply(C),P=t._stroke,N=t._linewidth,j=t._fill,X=t._renderer.opacity||t._opacity,z=t._cap,W=t._join,K=t._miter,q=t._closed,ae=t.dashes,te=S.length,re=te-1;b.width=Math.max(Math.ceil(t._renderer.rect.width*M.x),1),b.height=Math.max(Math.ceil(t._renderer.rect.height*M.y),1);const ue=t._renderer.rect.centroid,Z=ue.x,D=ue.y;if(w.clearRect(0,0,b.width,b.height),j)if(typeof j=="string")w.fillStyle=j;else{const se=Gt.Utils.getRendererType(j._renderer.type);Pe[se].render.call(j,w,t),w.fillStyle=j._renderer.effect}if(P){if(typeof P=="string")w.strokeStyle=P;else{const se=Gt.Utils.getRendererType(P._renderer.type);Pe[se].render.call(P,w,t),w.strokeStyle=P._renderer.effect}N&&(w.lineWidth=N),K&&(w.miterLimit=K),W&&(w.lineJoin=W),!q&&z&&(w.lineCap=z)}typeof X=="number"&&(w.globalAlpha=X),ae&&ae.length>0&&(w.lineDashOffset=ae.offset||0,w.setLineDash(ae));let $,G,L,Y,we,fe,oe,Q;w.save(),w.scale(M.x,M.y),w.translate(Z,D),w.beginPath();for(let se=0;se<S.length;se++){const ee=S[se];switch(y=ee.x,x=ee.y,ee.command){case de.close:w.closePath();break;case de.arc:G=ee.rx,L=ee.ry,Y=ee.xAxisRotation,we=ee.largeArcFlag,fe=ee.sweepFlag,n=q?Yn(se-1,te):Math.max(se-1,0),i=S[n],oe=i.x,Q=i.y,vS.renderSvgArcCommand(w,oe,Q,G,L,we,fe,Y,y,x);break;case de.curve:n=q?Yn(se-1,te):Math.max(se-1,0),i=S[n],d=i.controls&&i.controls.right||ce.zero,g=ee.controls&&ee.controls.left||ce.zero,i._relative?(c=d.x+i.x,f=d.y+i.y):(c=d.x,f=d.y),ee._relative?(l=g.x+ee.x,a=g.y+ee.y):(l=g.x,a=g.y),w.bezierCurveTo(c,f,l,a,y,x),se>=re&&q&&(o=$,m=ee.controls&&ee.controls.right||ce.zero,_=o.controls&&o.controls.left||ce.zero,ee._relative?(c=m.x+ee.x,f=m.y+ee.y):(c=m.x,f=m.y),o._relative?(l=_.x+o.x,a=_.y+o.y):(l=_.x,a=_.y),y=o.x,x=o.y,w.bezierCurveTo(c,f,l,a,y,x));break;case de.line:w.lineTo(y,x);break;case de.move:$=ee,w.moveTo(y,x);break}}q&&w.closePath(),Pe.isHidden.test(j)||(k=j._renderer&&j._renderer.offset,k&&(w.save(),w.translate(-j._renderer.offset.x,-j._renderer.offset.y),w.scale(j._renderer.scale.x,j._renderer.scale.y)),w.fill(),k&&w.restore()),Pe.isHidden.test(P)||(k=P._renderer&&P._renderer.offset,k&&(w.save(),w.translate(-P._renderer.offset.x,-P._renderer.offset.y),w.scale(P._renderer.scale.x,P._renderer.scale.y),w.lineWidth=N/P._renderer.scale.x),w.stroke(),k&&w.restore()),w.restore()},getBoundingClientRect:function(e,t,n){let i=1/0,o=-1/0,l=1/0,a=-1/0,c,f;e.forEach(function(d){const g=d.x,m=d.y,_=d.controls;let y,x,k,S,b,w;l=Math.min(m,l),i=Math.min(g,i),o=Math.max(g,o),a=Math.max(m,a),d.controls&&(b=_.left,w=_.right,!(!b||!w)&&(y=d._relative?b.x+g:b.x,x=d._relative?b.y+m:b.y,k=d._relative?w.x+g:w.x,S=d._relative?w.y+m:w.y,!(!y||!x||!k||!S)&&(l=Math.min(x,S,l),i=Math.min(y,k,i),o=Math.max(y,k,o),a=Math.max(x,S,a))))}),typeof t=="number"&&(l-=t,i-=t,o+=t,a+=t),c=o-i,f=a-l,n.top=l,n.left=i,n.right=o,n.bottom=a,n.width=c,n.height=f,n.centroid||(n.centroid={}),n.centroid.x=-i,n.centroid.y=-l},render:function(e,t,n){if(!this._visible||!this._opacity)return this;this._update();const i=n||this.parent,o=Gt.Utils.getRendererType(this._renderer.type),l=t[o],a=i._matrix.manual||i._flagMatrix,c=this._matrix.manual||this._flagMatrix,f=this._renderer.parent!==i,d=this._flagVertices||this._flagFill||this._fill instanceof et&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagEndPoints)||this._fill instanceof tt&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagRadius||this._fill._flagCenter||this._fill._flagFocal)||this._fill instanceof ze&&(this._fill._flagLoaded&&this._fill.loaded||this._fill._flagImage||this._fill._flagVideo||this._fill._flagRepeat||this._fill._flagOffset||this._fill._flagScale)||this._stroke instanceof et&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagEndPoints)||this._stroke instanceof tt&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagRadius||this._stroke._flagCenter||this._stroke._flagFocal)||this._stroke instanceof ze&&(this._stroke._flagLoaded&&this._stroke.loaded||this._stroke._flagImage||this._stroke._flagVideo||this._stroke._flagRepeat||this._stroke._flagOffset||this._fill._flagScale)||this._flagStroke||this._flagLinewidth||this._flagOpacity||i._flagOpacity||this._flagVisible||this._flagCap||this._flagJoin||this._flagMiter||this._flagScale||this.dashes&&this.dashes.length>0||!this._renderer.texture;if(a||c||f){this._renderer.matrix||(this._renderer.matrix=new Br(9)),this._matrix.toTransformArray(!0,Ui),Pu(Ui,i._renderer.matrix,this._renderer.matrix),this._renderer.scale instanceof ce||(this._renderer.scale=new ce);let m,_;this._scale instanceof ce?(m=this._scale.x*i._renderer.scale.x,_=this._scale.y*i._renderer.scale.y):(m=this._scale*i._renderer.scale.x,_=this._scale*i._renderer.scale.y),this._renderer.scale.x=m<0?-m:m,this._renderer.scale.y=_<0?-_:_,f&&(this._renderer.parent=i)}if(this._mask){e.clear(e.STENCIL_BUFFER_BIT),e.enable(e.STENCIL_TEST),e.stencilFunc(e.ALWAYS,1,0),e.stencilOp(e.KEEP,e.KEEP,e.REPLACE),e.colorMask(!1,!1,!1,!1);const m=Gt.Utils.getRendererType(this._mask._renderer.type);Pe[m].render.call(this._mask,e,t,this),e.stencilFunc(e.EQUAL,1,255),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.colorMask(!0,!0,!0,!0)}if(d?(this._renderer.rect||(this._renderer.rect={}),this._renderer.opacity=this._opacity*i._renderer.opacity,Pe.path.getBoundingClientRect(this._renderer.vertices,this._linewidth,this._renderer.rect),Pe.updateTexture.call(Pe,e,this)):(this._fill&&this._fill._update&&this._fill._update(),this._stroke&&this._stroke._update&&this._stroke._update()),this._clip&&!n||!this._renderer.texture)return this;t.current!==l&&(e.useProgram(l),e.bindBuffer(e.ARRAY_BUFFER,t.buffers.position),e.vertexAttribPointer(l.position,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(l.position),e.bufferData(e.ARRAY_BUFFER,gd,e.STATIC_DRAW),t.resolution.flagged||e.uniform2f(e.getUniformLocation(l,"u_resolution"),t.resolution.width,t.resolution.height),t.current=l),t.resolution.flagged&&e.uniform2f(e.getUniformLocation(l,"u_resolution"),t.resolution.width,t.resolution.height),e.bindTexture(e.TEXTURE_2D,this._renderer.texture);const g=this._renderer.rect;return e.uniformMatrix3fv(l.matrix,!1,this._renderer.matrix),e.uniform4f(l.rect,g.left,g.top,g.right,g.bottom),e.drawArrays(e.TRIANGLES,0,6),this._mask&&e.disable(e.STENCIL_TEST),this.flagReset()}},points:{updateCanvas:function(e,t){let n;const i=this.canvas,o=this.ctx,l=e.renderer.ratio,a=t._stroke,c=t._linewidth,f=t._fill,d=t._renderer.opacity||t._opacity,g=t.dashes,m=t._size*l;let _=m;Pe.isHidden.test(a)||(_+=c),i.width=xv(_),i.height=i.width;const y=_/i.width,x=i.width/2,k=i.height/2;if(o.clearRect(0,0,i.width,i.height),f)if(typeof f=="string")o.fillStyle=f;else{const S=Gt.Utils.getRendererType(f._renderer.type);Pe[S].render.call(f,o,t),o.fillStyle=f._renderer.effect}if(a){if(typeof a=="string")o.strokeStyle=a;else{const S=Gt.Utils.getRendererType(a._renderer.type);Pe[S].render.call(a,o,t),o.strokeStyle=a._renderer.effect}c&&(o.lineWidth=c/y)}typeof d=="number"&&(o.globalAlpha=d),g&&g.length>0&&(o.lineDashOffset=g.offset||0,o.setLineDash(g)),o.save(),o.translate(x,k),o.scale(Pe.precision,Pe.precision),o.beginPath(),o.arc(0,0,m/y*.5,0,Jt),o.restore(),closed&&o.closePath(),Pe.isHidden.test(f)||(n=f._renderer&&f._renderer.offset,n&&(o.save(),o.translate(-f._renderer.offset.x,-f._renderer.offset.y),o.scale(f._renderer.scale.x,f._renderer.scale.y)),o.fill(),n&&o.restore()),Pe.isHidden.test(a)||(n=a._renderer&&a._renderer.offset,n&&(o.save(),o.translate(-a._renderer.offset.x,-a._renderer.offset.y),o.scale(a._renderer.scale.x,a._renderer.scale.y),o.lineWidth=c/a._renderer.scale.x),o.stroke(),n&&o.restore())},render:function(e,t,n){if(!this._visible||!this._opacity)return this;this._update();let i=this._size;const o=n||this.parent,l=t[this._renderer.type],a=this._sizeAttenuation,c=this._stroke,f=this._linewidth,d=o._matrix.manual||o._flagMatrix,g=this._matrix.manual||this._flagMatrix,m=this._renderer.parent!==o,_=this._renderer.vertices,y=this._renderer.collection.length,x=this._flagVertices,k=this._flagFill||this._fill instanceof et&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagEndPoints)||this._fill instanceof tt&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagRadius||this._fill._flagCenter||this._fill._flagFocal)||this._fill instanceof ze&&(this._fill._flagLoaded&&this._fill.loaded||this._fill._flagImage||this._fill._flagVideo||this._fill._flagRepeat||this._fill._flagOffset||this._fill._flagScale)||this._stroke instanceof et&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagEndPoints)||this._stroke instanceof tt&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagRadius||this._stroke._flagCenter||this._stroke._flagFocal)||this._stroke instanceof ze&&(this._stroke._flagLoaded&&this._stroke.loaded||this._stroke._flagImage||this._stroke._flagVideo||this._stroke._flagRepeat||this._stroke._flagOffset||this._fill._flagScale)||this._flagStroke||this._flagLinewidth||this._flagOpacity||o._flagOpacity||this._flagVisible||this._flagScale||this.dashes&&this.dashes.length>0||!this._renderer.texture;if(d||g||m){this._renderer.matrix||(this._renderer.matrix=new Br(9)),this._matrix.toTransformArray(!0,Ui),Pu(Ui,o._renderer.matrix,this._renderer.matrix),this._renderer.scale instanceof ce||(this._renderer.scale=new ce);let S,b;this._scale instanceof ce?(S=this._scale.x*o._renderer.scale.x,b=this._scale.y*o._renderer.scale.y):(S=this._scale*o._renderer.scale.x,b=this._scale*o._renderer.scale.y),this._renderer.scale.x=S<0?-S:S,this._renderer.scale.y=b<0?-b:b,m&&(this._renderer.parent=o)}if(x){const S=this._renderer.positionBuffer;S&&e.deleteBuffer(S),this._renderer.positionBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this._renderer.positionBuffer),e.vertexAttribPointer(l.position,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(l.position),e.bufferData(e.ARRAY_BUFFER,_,e.STATIC_DRAW)}return k?(this._renderer.opacity=this._opacity*o._renderer.opacity,Pe.updateTexture.call(Pe,e,this)):(this._fill&&this._fill._update&&this._fill._update(),this._stroke&&this._stroke._update&&this._stroke._update()),this._clip&&!n||!this._renderer.texture?this:(Pe.isHidden.test(c)||(i+=f),i/=Pe.precision,a&&(i*=Math.max(this._renderer.scale.x,this._renderer.scale.y)),t.current!==l&&(e.useProgram(l),t.resolution.flagged||e.uniform2f(e.getUniformLocation(l,"u_resolution"),t.resolution.width,t.resolution.height),t.current=l),t.resolution.flagged&&e.uniform2f(e.getUniformLocation(l,"u_resolution"),t.resolution.width,t.resolution.height),e.bindTexture(e.TEXTURE_2D,this._renderer.texture),e.uniformMatrix3fv(l.matrix,!1,this._renderer.matrix),e.uniform1f(l.size,i*t.resolution.ratio),e.drawArrays(e.POINTS,0,y),this.flagReset())}},text:{updateCanvas:function(e,t){const n=this.canvas,i=this.ctx,o=e.renderer.ratio,l=n0.copy(t._renderer.scale).multiply(o),a=t._stroke,c=t._linewidth,f=t._fill,d=t._renderer.opacity||t._opacity,g=t.dashes,m=t._decoration,_=t._direction;n.width=Math.max(Math.ceil(t._renderer.rect.width*l.x),1),n.height=Math.max(Math.ceil(t._renderer.rect.height*l.y),1);const y=t._renderer.rect.centroid,x=y.x,k=y.y;let S,b,w,C,M,P,N,j,X,z,W;const K=f._renderer&&f._renderer.offset&&a._renderer&&a._renderer.offset;if(i.clearRect(0,0,n.width,n.height),K||(i.font=[t._style,t._weight,t._size+"px/"+t._leading+"px",t._family].join(" ")),i.textAlign="center",i.textBaseline="middle",i.textDirection=_,f)if(typeof f=="string")i.fillStyle=f;else{const q=Gt.Utils.getRendererType(f._renderer.type);Pe[q].render.call(f,i,t),i.fillStyle=f._renderer.effect}if(a){if(typeof a=="string")i.strokeStyle=a;else{const q=Gt.Utils.getRendererType(a._renderer.type);Pe[q].render.call(a,i,t),i.strokeStyle=a._renderer.effect}c&&(i.lineWidth=c)}if(typeof d=="number"&&(i.globalAlpha=d),g&&g.length>0&&(i.lineDashOffset=g.offset||0,i.setLineDash(g)),i.save(),i.scale(l.x,l.y),i.translate(x,k),Pe.isHidden.test(f)||(f._renderer&&f._renderer.offset?(P=f._renderer.scale.x,N=f._renderer.scale.y,i.save(),i.translate(-f._renderer.offset.x,-f._renderer.offset.y),i.scale(P,N),S=t._size/f._renderer.scale.y,b=t._leading/f._renderer.scale.y,i.font=[t._style,t._weight,S+"px/",b+"px",t._family].join(" "),w=f._renderer.offset.x/f._renderer.scale.x,C=f._renderer.offset.y/f._renderer.scale.y,i.fillText(t.value,w,C),i.restore()):i.fillText(t.value,0,0)),Pe.isHidden.test(a)||(a._renderer&&a._renderer.offset?(P=a._renderer.scale.x,N=a._renderer.scale.y,i.save(),i.translate(-a._renderer.offset.x,-a._renderer.offset.y),i.scale(P,N),S=t._size/a._renderer.scale.y,b=t._leading/a._renderer.scale.y,i.font=[t._style,t._weight,S+"px/",b+"px",t._family].join(" "),w=a._renderer.offset.x/a._renderer.scale.x,C=a._renderer.offset.y/a._renderer.scale.y,M=c/a._renderer.scale.x,i.lineWidth=M,i.strokeText(t.value,w,C),i.restore()):i.strokeText(t.value,0,0)),/(underline|strikethrough)/i.test(m)){const q=i.measureText(t.value);switch(m){case"underline":X=q.actualBoundingBoxDescent,W=q.actualBoundingBoxDescent;break;case"strikethrough":X=0,W=0;break}j=-q.width/2,z=q.width/2,i.lineWidth=Math.max(Math.floor(t._size/15),1),i.strokeStyle=i.fillStyle,i.beginPath(),i.moveTo(j,X),i.lineTo(z,W),i.stroke()}i.restore()},getBoundingClientRect:function(e,t){const n=Pe.ctx;n.font=[e._style,e._weight,e._size+"px/"+e._leading+"px",e._family].join(" "),n.textAlign="center",n.textBaseline=Gt.Utils.baselines[e._baseline]||e._baseline;const i=n.measureText(e._value);let o=i.width,l=1.15*(i.actualBoundingBoxAscent+i.actualBoundingBoxDescent);this._linewidth&&!Pe.isHidden.test(this._stroke)&&(o+=this._linewidth*2,l+=this._linewidth*2);const a=o/2,c=l/2;switch(Pe.alignments[e._alignment]||e._alignment){case Pe.alignments.left:e.direction==="ltr"?(t.left=0,t.right=o):(t.left=-o,t.right=0);break;case Pe.alignments.right:e.direction==="ltr"?(t.left=-o,t.right=0):(t.left=0,t.right=o);break;default:t.left=-a,t.right=a}switch(e._baseline){case"bottom":t.top=-l,t.bottom=0;break;case"top":t.top=0,t.bottom=l;break;case"baseline":t.top=-c*1.5,t.bottom=c*.5;break;default:t.top=-c,t.bottom=c}t.width=o,t.height=l,t.centroid||(t.centroid={}),t.centroid.x=a,t.centroid.y=c},render:function(e,t,n){if(!this._visible||!this._opacity)return this;this._update();const i=n||this.parent,o=t[this._renderer.type],l=i._matrix.manual||i._flagMatrix,a=this._matrix.manual||this._flagMatrix,c=this._renderer.parent!==i,f=this._flagVertices||this._flagFill||this._fill instanceof et&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagEndPoints)||this._fill instanceof tt&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagRadius||this._fill._flagCenter||this._fill._flagFocal)||this._fill instanceof ze&&(this._fill._flagLoaded&&this._fill.loaded||this._fill._flagImage||this._fill._flagVideo||this._fill._flagRepeat||this._fill._flagOffset||this._fill._flagScale)||this._stroke instanceof et&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagEndPoints)||this._stroke instanceof tt&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagRadius||this._stroke._flagCenter||this._stroke._flagFocal)||this._stroke instanceof ze&&(this._stroke._flagLoaded&&this._stroke.loaded||this._stroke._flagImage||this._stroke._flagVideo||this._stroke._flagRepeat||this._stroke._flagOffset||this._fill._flagScale)||this._flagStroke||this._flagLinewidth||this._flagOpacity||i._flagOpacity||this._flagVisible||this._flagScale||this._flagValue||this._flagFamily||this._flagSize||this._flagLeading||this._flagAlignment||this._flagBaseline||this._flagStyle||this._flagWeight||this._flagDecoration||this.dashes&&this.dashes.length>0||!this._renderer.texture;if(l||a||c){this._renderer.matrix||(this._renderer.matrix=new Br(9)),this._matrix.toTransformArray(!0,Ui),Pu(Ui,i._renderer.matrix,this._renderer.matrix),this._renderer.scale instanceof ce||(this._renderer.scale=new ce);let g,m;this._scale instanceof ce?(g=this._scale.x*i._renderer.scale.x,m=this._scale.y*i._renderer.scale.y):(g=this._scale*i._renderer.scale.x,m=this._scale*i._renderer.scale.y),this._renderer.scale.x=g<0?-g:g,this._renderer.scale.y=m<0?-m:m,c&&(this._renderer.parent=i)}if(this._mask){e.clear(e.STENCIL_BUFFER_BIT),e.enable(e.STENCIL_TEST),e.stencilFunc(e.ALWAYS,1,0),e.stencilOp(e.KEEP,e.KEEP,e.REPLACE),e.colorMask(!1,!1,!1,!1);const g=Gt.Utils.getRendererType(this._mask._renderer.type);Pe[g].render.call(this._mask,e,t,this),e.stencilFunc(e.EQUAL,1,255),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.colorMask(!0,!0,!0,!0)}if(f?(this._renderer.rect||(this._renderer.rect={}),this._renderer.opacity=this._opacity*i._renderer.opacity,Pe.text.getBoundingClientRect(this,this._renderer.rect),Pe.updateTexture.call(Pe,e,this)):(this._fill&&this._fill._update&&this._fill._update(),this._stroke&&this._stroke._update&&this._stroke._update()),this._clip&&!n||!this._renderer.texture)return this;t.current!==o&&(e.useProgram(o),e.bindBuffer(e.ARRAY_BUFFER,t.buffers.position),e.vertexAttribPointer(o.position,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(o.position),e.bufferData(e.ARRAY_BUFFER,gd,e.STATIC_DRAW),t.resolution.flagged||e.uniform2f(e.getUniformLocation(o,"u_resolution"),t.resolution.width,t.resolution.height),t.current=o),t.resolution.flagged&&e.uniform2f(e.getUniformLocation(o,"u_resolution"),t.resolution.width,t.resolution.height),e.bindTexture(e.TEXTURE_2D,this._renderer.texture);const d=this._renderer.rect;return e.uniformMatrix3fv(o.matrix,!1,this._renderer.matrix),e.uniform4f(o.rect,d.left,d.top,d.right,d.bottom),e.drawArrays(e.TRIANGLES,0,6),this._mask&&e.disable(e.STENCIL_TEST),this.flagReset()}},"linear-gradient":{render:function(e,t){if(!(!e.canvas.getContext("2d")||!t)){if(this._update(),!this._renderer.effect||this._flagEndPoints||this._flagStops||this._flagUnits){let n,i=this.left._x,o=this.left._y,l=this.right._x,a=this.right._y;/objectBoundingBox/i.test(this._units)&&(n=t.getBoundingClientRect(!0),i=(i-.5)*n.width,o=(o-.5)*n.height,l=(l-.5)*n.width,a=(a-.5)*n.height),this._renderer.effect=e.createLinearGradient(i,o,l,a);for(let c=0;c<this.stops.length;c++){const f=this.stops[c];this._renderer.effect.addColorStop(f._offset,f._color)}}return this.flagReset()}}},"radial-gradient":{render:function(e,t){if(!(!e.canvas.getContext("2d")||!t)){if(this._update(),!this._renderer.effect||this._flagCenter||this._flagFocal||this._flagRadius||this._flagStops||this._flagUnits){let n,i=this.center._x,o=this.center._y,l=this.focal._x,a=this.focal._y,c=this._radius;/objectBoundingBox/i.test(this._units)&&(n=t.getBoundingClientRect(!0),i=(i-.5)*n.width*.5,o=(o-.5)*n.height*.5,l=(l-.5)*n.width*.5,a=(a-.5)*n.height*.5,c*=Math.min(n.width,n.height)),this._renderer.effect=e.createRadialGradient(i,o,0,l,a,c);for(let f=0;f<this.stops.length;f++){const d=this.stops[f];this._renderer.effect.addColorStop(d._offset,d._color)}}return this.flagReset()}}},texture:{render:function(e,t){if(!e.canvas.getContext("2d"))return;this._update();const n=this.image;if((this._flagLoaded||this._flagImage||this._flagVideo||this._flagRepeat)&&this.loaded)this._renderer.effect=e.createPattern(n,this._repeat);else if(!this._renderer.effect)return this.flagReset();if((this._flagOffset||this._flagLoaded||this._flagScale)&&(this._renderer.offset instanceof ce||(this._renderer.offset=new ce),this._renderer.offset.x=-this._offset.x,this._renderer.offset.y=-this._offset.y,n&&(this._renderer.offset.x+=n.width/2,this._renderer.offset.y+=n.height/2,this._scale instanceof ce?(this._renderer.offset.x*=this._scale.x,this._renderer.offset.y*=this._scale.y):(this._renderer.offset.x*=this._scale,this._renderer.offset.y*=this._scale))),this._flagScale||this._flagLoaded){this._renderer.scale instanceof ce||(this._renderer.scale=new ce);let i,o;this._scale instanceof ce?(i=this._scale.x,o=this._scale.y):(i=this._scale,o=this._scale),this._renderer.scale.x=i<0?-i:i,this._renderer.scale.y=o<0?-o:o}return this.flagReset()}},updateTexture:function(e,t){const n=Gt.Utils.getRendererType(t._renderer.type);if(this[n].updateCanvas.call(Pe,e,t),this.canvas.width<=0||this.canvas.height<=0){t._renderer.texture&&e.deleteTexture(t._renderer.texture),delete t._renderer.texture;return}t._renderer.texture||(t._renderer.texture=e.createTexture()),e.bindTexture(e.TEXTURE_2D,t._renderer.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,this.canvas),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR)},program:{create:function(e,t){let n,i,o;if(n=e.createProgram(),Se.each(t,function(l){e.attachShader(n,l)}),e.linkProgram(n),i=e.getProgramParameter(n,e.LINK_STATUS),!i)throw o=e.getProgramInfoLog(n),e.deleteProgram(n),new Wn("unable to link program: "+o);return n}},extensions:{init:function(e){const t={},n=["EXT_texture_filter_anisotropic","WEBGL_compressed_texture_s3tc","OES_texture_float_linear","WEBGL_multisampled_render_to_texture"];for(let i=0;i<n.length;i++){const o=n[i];t[o]=Pe.extensions.get(e,o)}return t},get:function(e,t){return e.getExtension(t)||e.getExtension(`MOZ_${t}`)||e.getExtension(`WEBKIT_${t}`)}},TextureRegistry:new wc};Pe.ctx=Pe.canvas.getContext("2d");var jv=class extends J{constructor(e){super();let t,n,i,o;if(this.domElement=e.domElement||document.createElement("canvas"),typeof e.offscreenElement<"u"&&(Pe.canvas=e.offscreenElement,Pe.ctx=Pe.canvas.getContext("2d")),this.scene=new wt,this.scene.parent=this,this._renderer={type:"renderer",matrix:new Br(_S),scale:1,opacity:1},this._flagMatrix=!0,e=Se.defaults(e||{},{antialias:!1,alpha:!0,premultipliedAlpha:!0,stencil:!0,preserveDrawingBuffer:!0,overdraw:!1}),this.overdraw=e.overdraw,t=this.ctx=this.domElement.getContext("webgl",e)||this.domElement.getContext("experimental-webgl",e),!this.ctx)throw new Wn("unable to create a webgl context. Try using another renderer.");i=or.create(t,or.path.vertex,or.types.vertex),o=or.create(t,or.path.fragment,or.types.fragment),this.programs={current:null,buffers:{position:t.createBuffer()},resolution:{width:0,height:0,ratio:1,flagged:!1}},n=this.programs.path=Pe.program.create(t,[i,o]),this.programs.text=this.programs.path,t.extensions=Pe.extensions.init(t),t.renderer=this,n.position=t.getAttribLocation(n,"a_position"),n.matrix=t.getUniformLocation(n,"u_matrix"),n.rect=t.getUniformLocation(n,"u_rect");const l=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,l),t.vertexAttribPointer(n.position,2,t.FLOAT,!1,0,0),t.enableVertexAttribArray(n.position),t.bufferData(t.ARRAY_BUFFER,gd,t.STATIC_DRAW),i=or.create(t,or.points.vertex,or.types.vertex),o=or.create(t,or.points.fragment,or.types.fragment),n=this.programs.points=Pe.program.create(t,[i,o]),n.position=t.getAttribLocation(n,"a_position"),n.matrix=t.getUniformLocation(n,"u_matrix"),n.size=t.getUniformLocation(n,"u_size"),t.enable(t.BLEND),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA)}setSize(e,t,n){let i,o;const l=this.ctx;return this.width=e,this.height=t,this.ratio=typeof n>"u"?Kd(l):n,this.domElement.width=e*this.ratio,this.domElement.height=t*this.ratio,Se.isObject(this.domElement.style)&&Se.extend(this.domElement.style,{width:e+"px",height:t+"px"}),this._renderer.matrix[0]=this._renderer.matrix[4]=this._renderer.scale=this.ratio,this._flagMatrix=!0,i=e*this.ratio,o=t*this.ratio,l.viewport(0,0,i,o),this.programs.resolution.width=i,this.programs.resolution.height=o,this.programs.resolution.ratio=this.ratio,this.programs.resolution.flagged=!0,this.trigger(J.Types.resize,e,t,n)}render(){const e=this.ctx;return this.overdraw||e.clear(e.COLOR_BUFFER_BIT),Pe.group.render.call(this.scene,e,this.programs),this._flagMatrix=!1,this.programs.resolution.flagged=!0,this}};T(jv,"Utils",Pe);var xS=Se.extend({Error:Wn,getRatio:Kd,read:rt,xhr:Nv},Se,un,gv,mv),$l=class{constructor(e){T(this,"_events",new J),T(this,"type",""),T(this,"renderer",null),T(this,"scene",null),T(this,"width",0),T(this,"height",0),T(this,"frameCount",0),T(this,"timeDelta",0),T(this,"playing",!1);const t=Se.defaults(e||{},{fullscreen:!1,fitted:!1,width:640,height:480,type:$l.Types.svg,autostart:!1});if(Se.each(t,function(n,i){/fullscreen/i.test(i)||/autostart/i.test(i)||(this[i]=n)},this),Se.isElement(t.domElement)){const n=t.domElement.tagName.toLowerCase();/^(CanvasRenderer-canvas|WebGLRenderer-canvas|SVGRenderer-svg)$/.test(this.type+"-"+n)||(this.type=$l.Types[n])}this.renderer=new $l[this.type](this),this.setPlaying(t.autostart),this.frameCount=0,t.fullscreen?(this.fit=wS.bind(this),this.fit.domElement=window,this.fit.attached=!0,Se.extend(document.body.style,{overflow:"hidden",margin:0,padding:0,top:0,left:0,right:0,bottom:0,position:"fixed"}),Se.extend(this.renderer.domElement.style,{display:"block",top:0,left:0,right:0,bottom:0,position:"fixed"}),Un.bind(this.fit.domElement,"resize",this.fit),this.fit()):t.fitted?(this.fit=kS.bind(this),Se.extend(this.renderer.domElement.style,{display:"block"})):Se.isElement(t.domElement)||(this.renderer.setSize(t.width,t.height,this.ratio),this.width=t.width,this.height=t.height),this.renderer.bind(J.Types.resize,bS.bind(this)),this.scene=this.renderer.scene,$l.Instances.push(this),t.autostart&&Zl.init()}get _bound(){return this._events._bound}set _bound(e){this._events._bound=e}addEventListener(){return this._events.addEventListener.apply(this,arguments)}on(){return this._events.addEventListener.apply(this,arguments)}bind(){return this._events.addEventListener.apply(this,arguments)}removeEventListener(){return this._events.removeEventListener.apply(this,arguments)}off(){return this._events.removeEventListener.apply(this,arguments)}unbind(){return this._events.removeEventListener.apply(this,arguments)}dispatchEvent(){return this._events.dispatchEvent.apply(this,arguments)}trigger(){return this._events.dispatchEvent.apply(this,arguments)}listen(){return this._events.listen.apply(this,arguments)}ignore(){return this._events.ignore.apply(this,arguments)}appendTo(e){return e.appendChild(this.renderer.domElement),this.fit&&(this.fit.domElement!==window&&(this.fit.domElement=e,this.fit.attached=!1),this.update()),this}play(){return this.playing=!0,Zl.init(),this.trigger(J.Types.play)}pause(){return this.playing=!1,this.trigger(J.Types.pause)}setPlaying(e){this.playing=e}release(e){let t,n,i;if(!Se.isObject(e))return this.release(this.scene);if(typeof e.unbind=="function"&&e.unbind(),e.vertices)for(typeof e.vertices.unbind=="function"&&e.vertices.unbind(),t=0;t<e.vertices.length;t++)n=e.vertices[t],typeof n.unbind=="function"&&n.unbind(),n.controls&&(n.controls.left&&typeof n.controls.left.unbind=="function"&&n.controls.left.unbind(),n.controls.right&&typeof n.controls.right.unbind=="function"&&n.controls.right.unbind());if(e.children){for(t=0;t<e.children.length;t++)i=e.children[t],this.release(i);typeof e.children.unbind=="function"&&e.children.unbind()}return e}update(){const e=!!this._lastFrame,t=Se.performance.now();e&&(this.timeDelta=parseFloat((t-this._lastFrame).toFixed(3))),this._lastFrame=t,this.fit&&this.fit.domElement&&!this.fit.attached&&(Un.bind(this.fit.domElement,"resize",this.fit),this.fit.attached=!0,this.fit());const n=this.width,i=this.height,o=this.renderer;return(n!==o.width||i!==o.height)&&o.setSize(n,i,this.ratio),this.trigger(J.Types.update,this.frameCount,this.timeDelta),this.render()}render(){return this.renderer.render(),this.trigger(J.Types.render,this.frameCount++)}add(e){return e instanceof Array||(e=Array.prototype.slice.call(arguments)),this.scene.add(e),this}remove(e){return e instanceof Array||(e=Array.prototype.slice.call(arguments)),this.scene.remove(e),this}clear(){return this.scene.remove(this.scene.children),this}makeLine(e,t,n,i){const o=new qd(e,t,n,i);return this.scene.add(o),o}makeArrow(e,t,n,i,o){const l=typeof o=="number"?o:10,a=Math.atan2(i-t,n-e),c=[new Le(e,t,void 0,void 0,void 0,void 0,de.move),new Le(n,i,void 0,void 0,void 0,void 0,de.line),new Le(n-l*Math.cos(a-Math.PI/4),i-l*Math.sin(a-Math.PI/4),void 0,void 0,void 0,void 0,de.line),new Le(n,i,void 0,void 0,void 0,void 0,de.move),new Le(n-l*Math.cos(a+Math.PI/4),i-l*Math.sin(a+Math.PI/4),void 0,void 0,void 0,void 0,de.line)],f=new Ne(c,!1,!1,!0);return f.noFill(),f.cap="round",f.join="round",this.scene.add(f),f}makeRectangle(e,t,n,i){const o=new rs(e,t,n,i);return this.scene.add(o),o}makeRoundedRectangle(e,t,n,i,o){const l=new sa(e,t,n,i,o);return this.scene.add(l),l}makeCircle(e,t,n,i){const o=new ra(e,t,n,i);return this.scene.add(o),o}makeEllipse(e,t,n,i,o){const l=new ia(e,t,n,i,o);return this.scene.add(l),l}makeStar(e,t,n,i,o){const l=new Cc(e,t,n,i,o);return this.scene.add(l),l}makeCurve(e){const t=arguments.length;if(!Array.isArray(e)){e=[];for(let l=0;l<t;l+=2){const a=arguments[l];if(typeof a!="number")break;const c=arguments[l+1];e.push(new Le(a,c))}}const n=arguments[t-1],i=new Ne(e,!(typeof n=="boolean"&&n),!0),o=i.getBoundingClientRect();return i.center().translation.set(o.left+o.width/2,o.top+o.height/2),this.scene.add(i),i}makePolygon(e,t,n,i){const o=new Ec(e,t,n,i);return this.scene.add(o),o}makeArcSegment(e,t,n,i,o,l,a){const c=new bc(e,t,n,i,o,l,a);return this.scene.add(c),c}makePoints(e){const t=arguments.length;let n=e;if(!Array.isArray(e)){n=[];for(let o=0;o<t;o+=2){const l=arguments[o];if(typeof l!="number")break;const a=arguments[o+1];n.push(new ce(l,a))}}const i=new Sc(n);return this.scene.add(i),i}makePath(e){const t=arguments.length;let n=e;if(!Array.isArray(e)){n=[];for(let a=0;a<t;a+=2){const c=arguments[a];if(typeof c!="number")break;const f=arguments[a+1];n.push(new Le(c,f))}}const i=arguments[t-1],o=new Ne(n,!(typeof i=="boolean"&&i)),l=o.getBoundingClientRect();return typeof l.top=="number"&&typeof l.left=="number"&&typeof l.right=="number"&&typeof l.bottom=="number"&&o.center().translation.set(l.left+l.width/2,l.top+l.height/2),this.scene.add(o),o}makeText(e,t,n,i){const o=new lr(e,t,n,i);return this.add(o),o}makeLinearGradient(e,t,n,i){const o=Array.prototype.slice.call(arguments,4),l=new et(e,t,n,i,o);return this.add(l),l}makeRadialGradient(e,t,n){const i=Array.prototype.slice.call(arguments,3),o=new tt(e,t,n,i);return this.add(o),o}makeSprite(e,t,n,i,o,l,a){const c=new kc(e,t,n,i,o,l);return a&&c.play(),this.add(c),c}makeImageSequence(e,t,n,i,o){const l=new Rc(e,t,n,i);return o&&l.play(),this.add(l),l}makeTexture(e,t){return new ze(e,t)}makeGroup(e){e instanceof Array||(e=Array.prototype.slice.call(arguments));const t=new wt;return this.scene.add(t),t.add(e),t}interpret(e,t,n){const i=e.tagName.toLowerCase();if(n=typeof n<"u"?n:!0,!(i in rt))return null;const o=rt[i].call(this,e);return n?this.add(t&&o instanceof wt?o.children:o):o.parent&&o.remove(),o}load(e,t){const n=new wt;let i,o,l;const a=(function(c){for(Un.temp.innerHTML=c,o=0;o<Un.temp.children.length;o++)i=Un.temp.children[o],l=this.interpret(i,!1,!1),l!==null&&n.add(l);if(typeof t=="function"){const f=Un.temp.children.length<=1?Un.temp.children[0]:Un.temp.children;t(n,f)}}).bind(this);return/\.svg$/i.test(e)?(Nv(e,a),n):(a(e),n)}},xe=$l;T(xe,"nextFrameID",dn.nextFrameID);T(xe,"Types",dn.Types);T(xe,"Version",dn.Version);T(xe,"PublishDate",dn.PublishDate);T(xe,"Identifier",dn.Identifier);T(xe,"Resolution",dn.Resolution);T(xe,"AutoCalculateImportedMatrices",dn.AutoCalculateImportedMatrices);T(xe,"Instances",dn.Instances);T(xe,"uniqueId",dn.uniqueId);T(xe,"Anchor",Le);T(xe,"Collection",Ji);T(xe,"Events",J);T(xe,"Group",wt);T(xe,"Matrix",zs);T(xe,"Path",Ne);T(xe,"Registry",wc);T(xe,"Shape",Ur);T(xe,"Text",lr);T(xe,"Vector",ce);T(xe,"Gradient",_t);T(xe,"ImageSequence",Rc);T(xe,"LinearGradient",et);T(xe,"RadialGradient",tt);T(xe,"Sprite",kc);T(xe,"Stop",Wr);T(xe,"Texture",ze);T(xe,"ArcSegment",bc);T(xe,"Circle",ra);T(xe,"Ellipse",ia);T(xe,"Line",qd);T(xe,"Points",Sc);T(xe,"Polygon",Ec);T(xe,"Rectangle",rs);T(xe,"RoundedRectangle",sa);T(xe,"Star",Cc);T(xe,"CanvasRenderer",Gt);T(xe,"SVGRenderer",Iv);T(xe,"WebGLRenderer",jv);T(xe,"Commands",de);T(xe,"Utils",xS);function wS(){const e=document.body.getBoundingClientRect(),t=this.width=e.width,n=this.height=e.height;this.renderer.setSize(t,n,this.ratio)}function kS(){const e=this.renderer.domElement.parentElement;if(!e){console.warn("Two.js: Attempting to fit to parent, but no parent found.");return}const t=e.getBoundingClientRect(),n=this.width=t.width,i=this.height=t.height;this.renderer.setSize(n,i,this.ratio)}function bS(e,t){this.width=e,this.height=t,this.trigger(J.Types.resize,e,t)}var Zl=Un.getRequestAnimationFrame();function Dv(){for(let e=0;e<xe.Instances.length;e++){const t=xe.Instances[e];t.playing&&t.update()}xe.nextFrameID=Zl(Dv)}Zl.init=function(){Dv(),Zl.init=function(){}};const Ge={move:"M",line:"L",curve:"C",arc:"A",close:"Z"};class pe{constructor(){B(this,"_events",{});B(this,"_bound",!1)}addEventListener(t,n){return(this._events[t]||(this._events[t]=[])).push(n),this._bound=!0,this}on(){return this.addEventListener.apply(this,arguments)}bind(){return this.addEventListener.apply(this,arguments)}removeEventListener(t,n){if(!this._events)return this;if(!t&&!n)return this._events={},this._bound=!1,this;const i=t?[t]:Object.keys(this._events);for(let o=0,l=i.length;o<l;o++){t=i[o];let a=this._events[t];if(a){let c=[];if(n)for(let f=0,d=a.length;f<d;f++){let g=a[f];g=g.handler?g.handler:g,n!==g&&c.push(g)}this._events[t]=c}}return this}off(){return this.removeEventListener.apply(this,arguments)}unbind(){return this.removeEventListener.apply(this,arguments)}dispatchEvent(t){if(!this._events)return this;const n=Array.prototype.slice.call(arguments,1),i=this._events[t];if(i)for(let o=0;o<i.length;o++)i[o].call(this,...n);return this}trigger(){return this.dispatchEvent.apply(this,arguments)}listen(t,n,i){const o=this;t&&(l.obj=t,l.name=n,l.handler=i,t.on(n,l));function l(){i.apply(o,arguments)}return o}ignore(t,n,i){return t.off(n,i),this}}B(pe,"Types",{play:"play",pause:"pause",update:"update",render:"render",resize:"resize",change:"change",remove:"remove",insert:"insert",order:"order",load:"load"}),B(pe,"Methods",["addEventListener","on","removeEventListener","off","unbind","dispatchEvent","trigger","listen","ignore"]);var Dt;class md extends Array{constructor(){super();Vm(this,Dt,new pe);arguments[0]&&Array.isArray(arguments[0])?arguments[0].length>0&&this.push.apply(this,arguments[0]):arguments.length>0&&this.push.apply(this,arguments)}get _events(){return wn(this,Dt)}set _events(n){Hm(this,Dt,n)}get _bound(){return wn(this,Dt)._bound}set _bound(n){wn(this,Dt)._bound=n}addEventListener(){return wn(this,Dt).addEventListener.apply(this,arguments)}on(){return wn(this,Dt).on.apply(this,arguments)}bind(){return wn(this,Dt).bind.apply(this,arguments)}removeEventListener(){return wn(this,Dt).removeEventListener.apply(this,arguments)}off(){return wn(this,Dt).off.apply(this,arguments)}unbind(){return wn(this,Dt).unbind.apply(this,arguments)}dispatchEvent(){return wn(this,Dt).dispatchEvent.apply(this,arguments)}trigger(){return wn(this,Dt).trigger.apply(this,arguments)}listen(){return wn(this,Dt).listen.apply(this,arguments)}ignore(){return wn(this,Dt).ignore.apply(this,arguments)}pop(){const n=super.pop.apply(this,arguments);return this.trigger(pe.Types.remove,[n]),n}shift(){const n=super.shift.apply(this,arguments);return this.trigger(pe.Types.remove,[n]),n}push(){const n=super.push.apply(this,arguments);return this.trigger(pe.Types.insert,arguments),n}unshift(){const n=super.unshift.apply(this,arguments);return this.trigger(pe.Types.insert,arguments),n}splice(){const n=super.splice.apply(this,arguments);if(this.trigger(pe.Types.remove,n),arguments.length>2){const i=this.slice(arguments[0],arguments[0]+arguments.length-2);this.trigger(pe.Types.insert,i),this.trigger(pe.Types.order)}return n}sort(){return super.sort.apply(this,arguments),this.trigger(pe.Types.order),this}reverse(){return super.reverse.apply(this,arguments),this.trigger(pe.Types.order),this}indexOf(){return super.indexOf.apply(this,arguments)}map(n,i){const o=[];for(let l=0;l<this.length;l++){const a=this[l];let c;i?c=n.call(i,a,l):c=n(a,l),o.push(c)}return o}}Dt=new WeakMap;let Vr;typeof window<"u"?Vr=window:typeof global<"u"?Vr=global:typeof self<"u"&&(Vr=self);let zv;const SS=Math.PI*2,Oo=Math.PI*.5;function ES(e,t,n,i,o,l){let a;return arguments.length<=1?(a=e.a,t=e.b,n=e.c,i=e.d,o=e.e,l=e.f):a=e,{translateX:o,translateY:l,scaleX:Math.sqrt(a*a+t*t),scaleY:Math.sqrt(n*n+i*i),rotation:180*Math.atan2(t,a)/Math.PI}}function CS(e){zv=e}function RS(e,t){t=t&&t.identity()||new zv;let n=e;const i=[];for(;n&&n._matrix;)i.push(n._matrix),n=n.parent;i.reverse();for(let o=0;o<i.length;o++){const a=i[o].elements;t.multiply(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9])}return t}function Nr(e,t,n){return n*(t-e)+e}function nc(e,t){for(;e<0;)e+=t;return e%t}const r0=Vr.Float32Array||Array,TS=Math.floor;function Dr(e){return TS(e*1e6)/1e6}const i0={x:{enumerable:!0,get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this._bound&&this.dispatchEvent(pe.Types.change))}},y:{enumerable:!0,get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this._bound&&this.dispatchEvent(pe.Types.change))}}},jt=class jt extends pe{constructor(n=0,i=0){super();B(this,"_x",0);B(this,"_y",0);for(let o in i0)Object.defineProperty(this,o,i0[o]);this.x=n,this.y=i}static add(n,i){return new jt(n.x+i.x,n.y+i.y)}static sub(n,i){return new jt(n.x-i.x,n.y-i.y)}static subtract(n,i){return jt.sub(n,i)}static ratioBetween(n,i){return(n.x*i.x+n.y*i.y)/(n.length()*i.length())}static angleBetween(n,i){if(arguments.length>=4){const a=arguments[0]-arguments[2],c=arguments[1]-arguments[3];return Math.atan2(c,a)}const o=n.x-i.x,l=n.y-i.y;return Math.atan2(l,o)}static distanceBetween(n,i){return Math.sqrt(jt.distanceBetweenSquared(n,i))}static distanceBetweenSquared(n,i){const o=n.x-i.x,l=n.y-i.y;return o*o+l*l}set(n,i){return this.x=n,this.y=i,this}copy(n){return this.x=n.x,this.y=n.y,this}clear(){return this.x=0,this.y=0,this}clone(){return new jt(this.x,this.y)}add(n,i){return arguments.length<=0?this:(arguments.length<=1?typeof n=="number"?(this.x+=n,this.y+=n):n&&typeof n.x=="number"&&typeof n.y=="number"&&(this.x+=n.x,this.y+=n.y):(this.x+=n,this.y+=i),this)}addSelf(n){return this.add.apply(this,arguments)}sub(n,i){return arguments.length<=0?this:(arguments.length<=1?typeof n=="number"?(this.x-=n,this.y-=n):n&&typeof n.x=="number"&&typeof n.y=="number"&&(this.x-=n.x,this.y-=n.y):(this.x-=n,this.y-=i),this)}subtract(){return this.sub.apply(this,arguments)}subSelf(n){return this.sub.apply(this,arguments)}subtractSelf(n){return this.sub.apply(this,arguments)}multiply(n,i){return arguments.length<=0?this:(arguments.length<=1?typeof n=="number"?(this.x*=n,this.y*=n):n&&typeof n.x=="number"&&typeof n.y=="number"&&(this.x*=n.x,this.y*=n.y):(this.x*=n,this.y*=i),this)}multiplySelf(n){return this.multiply.apply(this,arguments)}multiplyScalar(n){return this.multiply(n)}divide(n,i){return arguments.length<=0?this:(arguments.length<=1?typeof n=="number"?(this.x/=n,this.y/=n):n&&typeof n.x=="number"&&typeof n.y=="number"&&(this.x/=n.x,this.y/=n.y):(this.x/=n,this.y/=i),isNaN(this.x)&&(this.x=0),isNaN(this.y)&&(this.y=0),this)}divideSelf(n){return this.divide.apply(this,arguments)}divideScalar(n){return this.divide(n)}negate(){return this.multiply(-1)}dot(n){return this.x*n.x+this.y*n.y}length(){return Math.sqrt(this.lengthSquared())}lengthSquared(){return this.x*this.x+this.y*this.y}normalize(){return this.divideScalar(this.length())}distanceTo(n){return Math.sqrt(this.distanceToSquared(n))}distanceToSquared(n){const i=this.x-n.x,o=this.y-n.y;return i*i+o*o}setLength(n){return this.normalize().multiplyScalar(n)}equals(n,i){return i=typeof i>"u"?1e-4:i,this.distanceTo(n)<i}lerp(n,i){const o=(n.x-this.x)*i+this.x,l=(n.y-this.y)*i+this.y;return this.set(o,l)}isZero(n){return n=typeof n>"u"?1e-4:n,this.length()<n}toString(){return this.x+", "+this.y}toObject(){return{x:Dr(this.x),y:Dr(this.y)}}rotate(n){const i=this.x,o=this.y,l=Math.cos(n),a=Math.sin(n);return this.x=i*l-o*a,this.y=i*a+o*l,this}};B(jt,"zero",new jt),B(jt,"left",new jt(-1,0)),B(jt,"right",new jt(1,0)),B(jt,"up",new jt(0,-1)),B(jt,"down",new jt(0,1));let Ae=jt;class cn extends Ae{constructor(n=0,i=0,o=0,l=0,a=0,c=0,f=Ge.move){super(n,i);B(this,"controls",{left:new Ae,right:new Ae});B(this,"_command",Ge.move);B(this,"_relative",!0);B(this,"_rx",0);B(this,"_ry",0);B(this,"_xAxisRotation",0);B(this,"_largeArcFlag",0);B(this,"_sweepFlag",1);for(let g in s0)Object.defineProperty(this,g,s0[g]);this.command=f,this.relative=!0;const d=cn.makeBroadcast(this);this.controls.left.set(o,l).addEventListener(pe.Types.change,d),this.controls.right.set(a,c).addEventListener(pe.Types.change,d)}static makeBroadcast(n){return i;function i(){n._bound&&n.dispatchEvent(pe.Types.change)}}static fromObject(n){return new cn().copy(n)}copy(n){return this.x=n.x,this.y=n.y,typeof n.command=="string"&&(this.command=n.command),n.controls&&(n.controls.left&&this.controls.left.copy(n.controls.left),n.controls.right&&this.controls.right.copy(n.controls.right)),typeof n.relative=="boolean"&&(this.relative=n.relative),typeof n.rx=="number"&&(this.rx=n.rx),typeof n.ry=="number"&&(this.ry=n.ry),typeof n.xAxisRotation=="number"&&(this.xAxisRotation=n.xAxisRotation),typeof n.largeArcFlag=="number"&&(this.largeArcFlag=n.largeArcFlag),typeof n.sweepFlag=="number"&&(this.sweepFlag=n.sweepFlag),this}clone(){return new cn().copy(this)}toObject(){return{x:Dr(this.x),y:Dr(this.y),command:this.command,relative:this.relative,controls:{left:this.controls.left.toObject(),right:this.controls.right.toObject()},rx:Dr(this.rx),ry:Dr(this.ry),xAxisRotation:Dr(this.xAxisRotation),largeArcFlag:Dr(this.largeArcFlag),sweepFlag:Dr(this.sweepFlag)}}toString(){return JSON.stringify(this.toObject())}}const s0={command:{enumerable:!0,get:function(){return this._command},set:function(e){this._command!==e&&(this._command=e,this._bound&&this.dispatchEvent(pe.Types.change))}},relative:{enumerable:!0,get:function(){return this._relative},set:function(e){this._relative!==!!e&&(this._relative=!!e,this._bound&&this.dispatchEvent(pe.Types.change))}},rx:{enumerable:!0,get:function(){return this._rx},set:function(e){this._rx!==e&&(this._rx=e,this._bound&&this.dispatchEvent(pe.Types.change))}},ry:{enumerable:!0,get:function(){return this._ry},set:function(e){this._ry!==e&&(this._ry=e,this._bound&&this.dispatchEvent(pe.Types.change))}},xAxisRotation:{enumerable:!0,get:function(){return this._xAxisRotation},set:function(e){this._xAxisRotation!==e&&(this._xAxisRotation=e,this._bound&&this.dispatchEvent(pe.Types.change))}},largeArcFlag:{enumerable:!0,get:function(){return this._largeArcFlag},set:function(e){this._largeArcFlag!==e&&(this._largeArcFlag=e,this._bound&&this.dispatchEvent(pe.Types.change))}},sweepFlag:{get:function(){return this._sweepFlag},set:function(e){this._sweepFlag!==e&&(this._sweepFlag=e,this._bound&&this.dispatchEvent(pe.Types.change))}}};let MS=0;const o0={nextFrameID:null,Types:{webgl:"WebGLRenderer",svg:"SVGRenderer",canvas:"CanvasRenderer"},Version:"<%= version %>",PublishDate:"<%= publishDate %>",Identifier:"two-",Resolution:12,AutoCalculateImportedMatrices:!0,Instances:[],uniqueId:function(){return MS++}},rc={CollinearityEpsilon:Math.pow(10,-30),RecursionLimit:16,CuspLimit:0,Tolerance:{distance:.25,angle:0,epsilon:Number.EPSILON},abscissas:[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],weights:[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]]};function ic(e,t,n,i,o){const l=1-e;return l*l*l*t+3*l*l*e*n+3*l*e*e*i+e*e*e*o}function AS(e,t,n,i,o,l,a,c,f){f=f||rc.RecursionLimit;const d=f+1;if(Math.abs(e-a)<.001&&Math.abs(t-c)<.001)return[new cn(a,c)];const g=[];for(let m=0;m<d;m++){const _=m/d,y=ic(_,e,n,o,a),x=ic(_,t,i,l,c);g.push(new cn(y,x))}return g}function PS(e,t,n,i,o,l,a,c,f){if(e===n&&t===i&&o===a&&l===c){const S=a-e,b=c-t;return Math.sqrt(S*S+b*b)}const d=9*(n-o)+3*(a-e),g=6*(e+o)-12*n,m=3*(n-e),_=9*(i-l)+3*(c-t),y=6*(t+l)-12*i,x=3*(i-t);function k(S){const b=(d*S+g)*S+m,w=(_*S+y)*S+x;return Math.sqrt(b*b+w*w)}return LS(k,0,1,f||rc.RecursionLimit)}function OS(e,t,n,i,o,l,a,c){const f=[],d=[[],[]];let g,m,_,y,x,k,S,b;for(let P=0;P<2;++P){if(P==0?(m=6*e-12*n+6*o,g=-3*e+9*n-9*o+3*a,_=3*n-3*e):(m=6*t-12*i+6*l,g=-3*t+9*i-9*l+3*c,_=3*i-3*t),Math.abs(g)<1e-12){if(Math.abs(m)<1e-12)continue;y=-_/m,0<y&&y<1&&f.push(y);continue}S=m*m-4*_*g,b=Math.sqrt(S),!(S<0)&&(x=(-m+b)/(2*g),0<x&&x<1&&f.push(x),k=(-m-b)/(2*g),0<k&&k<1&&f.push(k))}let w=f.length,C=w,M;for(;w--;)y=f[w],M=1-y,d[0][w]=M*M*M*e+3*M*M*y*n+3*M*y*y*o+y*y*y*a,d[1][w]=M*M*M*t+3*M*M*y*i+3*M*y*y*l+y*y*y*c;return d[0][C]=e,d[1][C]=t,d[0][C+1]=a,d[1][C+1]=c,d[0].length=d[1].length=C+2,{min:{x:Math.min.apply(0,d[0]),y:Math.min.apply(0,d[1])},max:{x:Math.max.apply(0,d[0]),y:Math.max.apply(0,d[1])}}}function LS(e,t,n,i){let o=rc.abscissas[i-2],l=rc.weights[i-2],a=.5*(n-t),c=a+t,f=0,d=i+1>>1,g=i&1?l[f++]*e(c):0;for(;f<d;){const m=a*o[f];g+=l[f++]*(e(c+m)+e(c-m))}return a*g}function FS(e,t){const n=e.length,i=n-1;for(let o=0;o<n;o++){const l=e[o],a=t?nc(o-1,n):Math.max(o-1,0),c=t?nc(o+1,n):Math.min(o+1,i),f=e[a],d=l,g=e[c];NS(f,d,g),d.command=o===0?Ge.move:Ge.curve}}function NS(e,t,n){const i=Ae.angleBetween(e,t),o=Ae.angleBetween(n,t);let l=Ae.distanceBetween(e,t),a=Ae.distanceBetween(n,t),c=(i+o)/2;return l<1e-4||a<1e-4?(typeof t.relative=="boolean"&&!t.relative&&(t.controls.left.copy(t),t.controls.right.copy(t)),t):(l*=.33,a*=.33,o<i?c+=Oo:c-=Oo,t.controls.left.x=Math.cos(c)*l,t.controls.left.y=Math.sin(c)*l,c-=Math.PI,t.controls.right.x=Math.cos(c)*a,t.controls.right.y=Math.sin(c)*a,typeof t.relative=="boolean"&&!t.relative&&(t.controls.left.x+=t.x,t.controls.left.y+=t.y,t.controls.right.x+=t.x,t.controls.right.y+=t.y),t)}let Tc=class Bv extends pe{constructor(){super();B(this,"_flagId",!1);B(this,"_flagClassName",!1);B(this,"_renderer",{});B(this,"_id",o0.Identifier+o0.uniqueId());B(this,"_className","");B(this,"classList",[]);for(let n in l0)Object.defineProperty(this,n,l0[n])}static fromObject(n){const i=new Bv().copy(n);return"id"in n&&(i.id=n.id),i}flagReset(){this._flagId=this._flagClassName=!1}copy(n){return this.renderer.type=n.renderer.type,this.className=n.className,this}toObject(){return{renderer:{type:this.renderer.type},id:this.id,className:this.className}}};const l0={renderer:{enumerable:!1,get:function(){return this._renderer}},id:{enumerable:!0,get:function(){return this._id},set:function(e){const t=this._id;e!==this._id&&(this._id=e,this._flagId=!0,this.parent&&(delete this.parent.children.ids[t],this.parent.children.ids[this._id]=this))}},className:{enumerable:!0,get:function(){return this._className},set:function(e){this._className!==e&&(this._flagClassName=!0,this.classList=e.split(/\s+?/),this._className=e)}}};class a0 extends Error{constructor(n){super();B(this,"name","Two.js");B(this,"message");this.message=n}}class IS{constructor(){B(this,"map",{})}add(t,n){return this.map[t]=n,this}remove(t){return delete this.map[t],this}get(t){return this.map[t]}contains(t){return t in this.map}}let zu;const u0={video:/\.(mp4|webm|ogg)$/i,image:/\.(jpe?g|png|gif|tiff|webp)$/i,effect:/texture|gradient/i};Vr.document&&(zu=document.createElement("a"));const at=class at extends Tc{constructor(n,i){super();B(this,"_flagSrc",!1);B(this,"_flagImage",!1);B(this,"_flagVideo",!1);B(this,"_flagLoaded",!1);B(this,"_flagRepeat",!1);B(this,"_flagOffset",!1);B(this,"_flagScale",!1);B(this,"_src","");B(this,"_image",null);B(this,"_loaded",!1);B(this,"_repeat","no-repeat");B(this,"_scale",1);B(this,"_offset",null);for(let o in c0)Object.defineProperty(this,o,c0[o]);if(this._renderer.type="texture",this._renderer.flagOffset=jS.bind(this),this._renderer.flagScale=DS.bind(this),this.loaded=!1,this.repeat="no-repeat",this.offset=new Ae,typeof i=="function"){const o=(function(){this.unbind(pe.Types.load,o),typeof i=="function"&&i()}).bind(this);this.bind(pe.Types.load,o)}if(typeof n=="string")this.src=n;else if(typeof n=="object"){const o=Object.prototype.toString.call(n);(o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]"||o==="[object HTMLVideoElement]"||o==="[object Image]")&&(this.image=n)}this._update()}fromObject(n){const i=new at().copy(n);return"id"in n&&(i.id=n.id),i}static getAbsoluteURL(n){return zu?(zu.href=n,zu.href):n}static loadHeadlessBuffer(n,i){n.image.onload=i,n.image.src=n.src}static getTag(n){return n&&n.nodeName&&n.nodeName.toLowerCase()||"img"}static getImage(n){const i=at.getAbsoluteURL(n);if(at.ImageRegistry.contains(i))return at.ImageRegistry.get(i);let o;return Vr.document?u0.video.test(i)?o=document.createElement("video"):o=document.createElement("img"):console.warn("Two.js: no prototypical image defined for Two.Texture"),o.crossOrigin="anonymous",o.referrerPolicy="no-referrer",o}static load(n,i){let o=n.image,l=at.getTag(o);n._flagImage&&(/canvas/i.test(l)?at.Register.canvas(n,i):(n._src=o.getAttribute("two-src")||o.src,at.Register[l](n,i))),n._flagSrc&&(o||(o=at.getImage(n.src),n.image=o),l=at.getTag(o),at.Register[l](n,i))}clone(){const n=new at(this.src);return n.repeat=this.repeat,n.offset.copy(this.offset),n.scale=this.scale,n}copy(n){return this.src=n.src,this.repeat=n.repeat,this.offset=typeof n.offset=="number"||n.offset instanceof Ae?n.offset:new Ae().copy(n.offset),this.scale=typeof n.scale=="number"||n.scale instanceof Ae?n.scale:new Ae().copy(n.scale),this}toObject(){const n=super.toObject.call(this);return n.renderer.type="texture",n.src=this.src,n.repeat=this.repeat,n.offset=this.offset.toObject(),n.scale=typeof this.scale=="number"?this.scale:this.scale.toObject(),n}_update(){return(this._flagSrc||this._flagImage)&&(this.trigger(pe.Types.change),(this._flagSrc||this._flagImage)&&(this.loaded=!1,at.load(this,(function(){this.loaded=!0,this.trigger(pe.Types.change).trigger(pe.Types.load)}).bind(this)))),this._image&&this._image.readyState>=4&&(this._flagVideo=!0),this}flagReset(){return this._flagSrc=this._flagImage=this._flagLoaded=this._flagRepeat=this._flagVideo=this._flagScale=this._flagOffset=!1,super.flagReset.call(this),this}};B(at,"Properties",["src","loaded","repeat","scale","offset","image"]),B(at,"RegularExpressions",u0),B(at,"ImageRegistry",new IS),B(at,"Register",{canvas:function(n,i){n._src="#"+n.id,at.ImageRegistry.add(n.src,n.image),typeof i=="function"&&i()},img:function(n,i){const o=n.image,l=function(c){o.removeEventListener&&typeof o.removeEventListener=="function"&&(o.removeEventListener("load",l,!1),o.removeEventListener("error",a,!1)),typeof i=="function"&&i()},a=function(c){throw typeof o.removeEventListener=="function"&&(o.removeEventListener("load",l,!1),o.removeEventListener("error",a,!1)),new a0("unable to load "+n.src)};typeof o.width=="number"&&o.width>0&&typeof o.height=="number"&&o.height>0?l():typeof o.addEventListener=="function"&&(o.addEventListener("load",l,!1),o.addEventListener("error",a,!1)),n._src=at.getAbsoluteURL(n._src),!(o&&o.getAttribute("two-src"))&&(o.setAttribute("two-src",n.src),at.ImageRegistry.add(n.src,o),n.image.src=n.src)},video:function(n,i){const o=function(a){n.image.removeEventListener("canplaythrough",o,!1),n.image.removeEventListener("error",l,!1),n.image.width=n.image.videoWidth,n.image.height=n.image.videoHeight,typeof i=="function"&&i()},l=function(a){throw n.image.removeEventListener("canplaythrough",o,!1),n.image.removeEventListener("error",l,!1),new a0("unable to load "+n.src)};n._src=at.getAbsoluteURL(n._src),n.image.getAttribute("two-src")||(n.image.setAttribute("two-src",n.src),at.ImageRegistry.add(n.src,n.image)),n.image.readyState>=4?o():(n.image.addEventListener("canplaythrough",o,!1),n.image.addEventListener("error",l,!1),n.image.src=n.src,n.image.load())}});let Cn=at;const c0={src:{enumerable:!0,get:function(){return this._src},set:function(e){this._src=e,this._flagSrc=!0}},loaded:{enumerable:!0,get:function(){return this._loaded},set:function(e){this._loaded=e,this._flagLoaded=!0}},repeat:{enumerable:!0,get:function(){return this._repeat},set:function(e){this._repeat=e,this._flagRepeat=!0}},image:{enumerable:!0,get:function(){return this._image},set:function(e){const t=Cn.getTag(e);let n;switch(t){case"canvas":n="#"+e.id;break;default:n=e.src}Cn.ImageRegistry.contains(n)?this._image=Cn.ImageRegistry.get(e.src):this._image=e,this._flagImage=!0}},offset:{enumerable:!0,get:function(){return this._offset},set:function(e){this._offset&&this._offset.unbind(pe.Types.change,this._renderer.flagOffset),this._offset=e,this._offset.bind(pe.Types.change,this._renderer.flagOffset),this._flagOffset=!0}},scale:{enumerable:!0,get:function(){return this._scale},set:function(e){this._scale instanceof Ae&&this._scale.unbind(pe.Types.change,this._renderer.flagScale),this._scale=e,this._scale instanceof Ae&&this._scale.bind(pe.Types.change,this._renderer.flagScale),this._flagScale=!0}}};function jS(){this._flagOffset=!0}function DS(){this._flagScale=!0}const f0=Array.prototype.slice;function zS(e){if(e==null)return!1;const t=e.length;return typeof t=="number"&&t>=0&&t<4294967296}const Bt={isNaN:function(e){return typeof e=="number"&&e!==+e},isElement:function(e){return!!(e&&e.nodeType===1)},isObject:function(e){const t=typeof e;return t==="function"||t==="object"&&!!e},extend:function(e){const t=f0.call(arguments,1);for(let n=0;n<t.length;n++){const i=t[n];for(let o in i)e[o]=i[o]}return e},defaults:function(e){const t=f0.call(arguments,1);for(let n=0;n<t.length;n++){const i=t[n];for(let o in i)e[o]===void 0&&(e[o]=i[o])}return e},each:function(e,t,n){const i=n||this,o=!zS(e)&&Object.keys(e),l=(o||e).length;for(let a=0;a<l;a++){const c=o?o[a]:a;t.call(i,e[c],c,e)}return e},performance:Vr.performance&&Vr.performance.now?Vr.performance:Date},Sn=class Sn extends Tc{constructor(n,i,o){super();B(this,"_flagOffset",!0);B(this,"_flagOpacity",!0);B(this,"_flagColor",!0);B(this,"_offset",0);B(this,"_opacity",1);B(this,"_color","#fff");for(let l in h0)Object.defineProperty(this,l,h0[l]);this._renderer.type="stop",this.offset=typeof n=="number"?n:Sn.Index<=0?0:1,this.opacity=typeof o=="number"?o:1,this.color=typeof i=="string"?i:Sn.Index<=0?"#fff":"#000",Sn.Index=(Sn.Index+1)%2}static fromObject(n){const i=new Sn().copy(n);return"id"in n&&(i.id=n.id),i}copy(n){super.copy.call(this,n);for(let i=0;i<Sn.Properties.length;i++){const o=Sn.Properties[i];o in n&&(this[o]=n[o])}return this}clone(n){const i=new Sn;return Bt.each(Sn.Properties,function(o){i[o]=this[o]},this),n&&n.stops&&n.stops.push(i),i}toObject(){const n=super.toObject.call(this);return n.renderer.type="stop",Bt.each(Sn.Properties,i=>{n[i]=this[i]},this),n}flagReset(){return this._flagOffset=this._flagColor=this._flagOpacity=!1,super.flagReset.call(this),this}};B(Sn,"Index",0),B(Sn,"Properties",["offset","opacity","color"]);let Os=Sn;const h0={offset:{enumerable:!0,get:function(){return this._offset},set:function(e){this._offset=e,this._flagOffset=!0,this.parent&&(this.parent._flagStops=!0)}},opacity:{enumerable:!0,get:function(){return this._opacity},set:function(e){this._opacity=e,this._flagOpacity=!0,this.parent&&(this.parent._flagStops=!0)}},color:{enumerable:!0,get:function(){return this._color},set:function(e){this._color=e,this._flagColor=!0,this.parent&&(this.parent._flagStops=!0)}}},Ir=class Ir extends Tc{constructor(n){super();B(this,"_flagStops",!1);B(this,"_flagSpread",!1);B(this,"_flagUnits",!1);B(this,"_spread","");B(this,"_units","");for(let i in d0)Object.defineProperty(this,i,d0[i]);this._renderer.type="gradient",this._renderer.flagStops=BS.bind(this),this._renderer.bindStops=$S.bind(this),this._renderer.unbindStops=US.bind(this),this.spread="pad",this.units="objectBoundingBox",n&&(this.stops=n)}static fromObject(n){let i=n.stops;i&&i.length>0&&(i=i.map(l=>l instanceof Os?l:new Os().copy(l)));const o=new Ir().copy(n);return"id"in n&&(o.id=n.id),o}clone(n){const i=this.stops.map(l=>l.clone()),o=new Ir(i);return Bt.each(Ir.Properties,l=>{o[l]=this[l]},this),n&&n.add(o),o}copy(n){super.copy.call(this,n);for(let i=0;i<Ir.Properties.length;i++){const o=Ir.Properties[i];o in n&&(this[o]=n[o])}return this}toObject(){const n={stops:this.stops.map(i=>i.toObject())};return Bt.each(Ir.Properties,i=>{n[i]=this[i]},this),n}_update(){return(this._flagSpread||this._flagStops)&&this.trigger(pe.Types.change),this}flagReset(){return this._flagSpread=this._flagUnits=this._flagStops=!1,super.flagReset.call(this),this}};B(Ir,"Stop",Os),B(Ir,"Properties",["spread","stops","units"]);let fn=Ir;const d0={spread:{enumerable:!0,get:function(){return this._spread},set:function(e){this._spread=e,this._flagSpread=!0}},units:{enumerable:!0,get:function(){return this._units},set:function(e){this._units=e,this._flagUnits=!0}},stops:{enumerable:!0,get:function(){return this._stops},set:function(e){const t=this._renderer.bindStops,n=this._renderer.unbindStops;this._stops&&this._stops.unbind(pe.Types.insert,t).unbind(pe.Types.remove,n),this._stops=new md((e||[]).slice(0)),this._stops.bind(pe.Types.insert,t).bind(pe.Types.remove,n),t(this._stops)}}};function BS(){this._flagStops=!0}function $S(e){let t=e.length;for(;t--;)e[t].bind(pe.Types.change,this._renderer.flagStops),e[t].parent=this;this._renderer.flagStops()}function US(e){let t=e.length;for(;t--;)e[t].unbind(pe.Types.change,this._renderer.flagStops),delete e[t].parent;this._renderer.flagStops()}const Wi=class Wi extends fn{constructor(n,i,o,l,a){super(a);B(this,"_flagEndPoints",!1);B(this,"_left",null);B(this,"_right",null);for(let c in p0)Object.defineProperty(this,c,p0[c]);this._renderer.type="linear-gradient",this._renderer.flagEndPoints=VS.bind(this),this.left=new Ae,this.right=new Ae,typeof n=="number"&&(this.left.x=n),typeof i=="number"&&(this.left.y=i),typeof o=="number"&&(this.right.x=o),typeof l=="number"&&(this.right.y=l)}static fromObject(n){const i=new Wi().copy(n);return"id"in n&&(i.id=n.id),i}copy(n){super.copy.call(this,n);for(let i=0;i<Wi.Properties.length;i++){const o=Wi.Properties[i];o in n&&(this[o]=n[o]instanceof Ae?n[o]:new Ae().copy(n[o]))}return this}clone(n){const i=this.stops.map(function(l){return l.clone()}),o=new Wi(this.left._x,this.left._y,this.right._x,this.right._y,i);return Bt.each(fn.Properties,function(l){o[l]=this[l]},this),n&&n.add(o),o}toObject(){const n=super.toObject.call(this);return n.left=this.left.toObject(),n.right=this.right.toObject(),n}_update(){return(this._flagEndPoints||this._flagSpread||this._flagStops)&&this.trigger(pe.Types.change),this}flagReset(){return this._flagEndPoints=!1,super.flagReset.call(this),this}};B(Wi,"Stop",Os),B(Wi,"Properties",["left","right"]);let Er=Wi;const p0={left:{enumerable:!0,get:function(){return this._left},set:function(e){this._left instanceof Ae&&this._left.unbind(pe.Types.change,this._renderer.flagEndPoints),this._left=e,this._left.bind(pe.Types.change,this._renderer.flagEndPoints),this._flagEndPoints=!0}},right:{enumerable:!0,get:function(){return this._right},set:function(e){this._right instanceof Ae&&this._right.unbind(pe.Types.change,this._renderer.flagEndPoints),this._right=e,this._right.bind(pe.Types.change,this._renderer.flagEndPoints),this._flagEndPoints=!0}}};function VS(){this._flagEndPoints=!0}const jr=class jr extends fn{constructor(n,i,o,l,a,c){super(l);B(this,"_flagRadius",!1);B(this,"_flagCenter",!1);B(this,"_flagFocal",!1);B(this,"_radius",0);B(this,"_center",null);B(this,"_focal",null);for(let f in g0)Object.defineProperty(this,f,g0[f]);this._renderer.type="radial-gradient",this._renderer.flagCenter=HS.bind(this),this._renderer.flagFocal=WS.bind(this),this.center=new Ae,this.radius=typeof o=="number"?o:1,this.focal=new Ae,typeof n=="number"&&(this.center.x=n),typeof i=="number"&&(this.center.y=i),this.focal.copy(this.center),typeof a=="number"&&(this.focal.x=a),typeof c=="number"&&(this.focal.y=c)}static fromObject(n){const i=new jr().copy(n);return"id"in n&&(i.id=n.id),i}copy(n){super.copy.call(this,n);for(let i=0;i<jr.Properties.length;i++){const o=jr.Properties[i];o in n&&(/(center|focal)i/.test(o)?this[o]=n[o]instanceof Ae?n[o]:new Ae().copy(n[o]):typeof n[o]=="number"&&(this[o]=n[MediaKeySystemAccess]))}return this}clone(n){const i=this.stops.map(function(l){return l.clone()}),o=new jr(this.center._x,this.center._y,this._radius,i,this.focal._x,this.focal._y);return Bt.each(fn.Properties.concat(jr.Properties),function(l){o[l]=this[l]},this),n&&n.add(o),o}toObject(){const n=super.toObject.call(this);return Bt.each(jr.Properties,function(i){n[i]=this[i]},this),n.center=this.center.toObject(),n.focal=this.focal.toObject(),n}_update(){return(this._flagRadius||this._flatCenter||this._flagFocal||this._flagSpread||this._flagStops)&&this.trigger(pe.Types.change),this}flagReset(){return this._flagRadius=this._flagCenter=this._flagFocal=!1,super.flagReset.call(this),this}};B(jr,"Stop",Os),B(jr,"Properties",["center","radius","focal"]);let Cr=jr;const g0={radius:{enumerable:!0,get:function(){return this._radius},set:function(e){this._radius=e,this._flagRadius=!0}},center:{enumerable:!0,get:function(){return this._center},set:function(e){this._center&&this._center.unbind(pe.Types.change,this._renderer.flagCenter),this._center=e,this._center.bind(pe.Types.change,this._renderer.flagCenter),this._flagCenter=!0}},focal:{enumerable:!0,get:function(){return this._focal},set:function(e){this._focal&&this._focal.unbind(pe.Types.change,this._renderer.flagFocal),this._focal=e,this._focal.bind(pe.Types.change,this._renderer.flagFocal),this._flagFocal=!0}}};function HS(){this._flagCenter=!0}function WS(){this._flagFocal=!0}function m0(e,t){if(t===0||t===1)return!0;const i=e._length*t;let o=0;for(let l=0;l<e._lengths.length;l++){const a=e._lengths[l];if(o>=i)return i-o>=0;o+=a}return!1}function y0(e,t){const n=e._length;if(t<=0)return 0;if(t>=n)return e._lengths.length-1;for(let i=0,o=0;i<e._lengths.length;i++){if(o+e._lengths[i]>=t)return t-=o,Math.max(i-1,0)+t/e._lengths[i];o+=e._lengths[i]}return-1}function _0(e,t,n){let i,o,l,a,c,f,d,g;const m=t.controls&&t.controls.right,_=e.controls&&e.controls.left;return i=t.x,c=t.y,o=(m||t).x,f=(m||t).y,l=(_||e).x,d=(_||e).y,a=e.x,g=e.y,m&&t._relative&&(o+=t.x,f+=t.y),_&&e._relative&&(l+=e.x,d+=e.y),PS(i,c,o,f,l,d,a,g,n)}function v0(e,t,n){let i,o,l,a,c,f,d,g;const m=t.controls&&t.controls.right,_=e.controls&&e.controls.left;return i=t.x,c=t.y,o=(m||t).x,f=(m||t).y,l=(_||e).x,d=(_||e).y,a=e.x,g=e.y,m&&t._relative&&(o+=t.x,f+=t.y),_&&e._relative&&(l+=e.x,d+=e.y),AS(i,c,o,f,l,d,a,g,n)}function sc(e){switch(e.renderer.type){case"texture":return Cn.fromObject(e);case"gradient":return fn.fromObject(e);case"linear-gradient":return Er.fromObject(e);case"radial-gradient":return Cr.fromObject(e)}return e}const YS=Math.cos,XS=Math.sin,x0=Math.tan,Dh=[],an=class an extends pe{constructor(n,i,o,l,a,c){super();B(this,"elements",new r0(9));B(this,"manual",!1);let f=n;Array.isArray(f)||(f=Array.prototype.slice.call(arguments)),this.identity(),f.length>0&&this.set(f)}static Multiply(n,i,o){if(i.length<=3){const j=n;let X,z,W;const K=i[0]||0,q=i[1]||0,ae=i[2]||0;return X=j[0]*K+j[1]*q+j[2]*ae,z=j[3]*K+j[4]*q+j[5]*ae,W=j[6]*K+j[7]*q+j[8]*ae,[X,z,W]}const l=n[0],a=n[1],c=n[2],f=n[3],d=n[4],g=n[5],m=n[6],_=n[7],y=n[8],x=i[0],k=i[1],S=i[2],b=i[3],w=i[4],C=i[5],M=i[6],P=i[7],N=i[8];return o=o||new r0(9),o[0]=l*x+a*b+c*M,o[1]=l*k+a*w+c*P,o[2]=l*S+a*C+c*N,o[3]=f*x+d*b+g*M,o[4]=f*k+d*w+g*P,o[5]=f*S+d*C+g*N,o[6]=m*x+_*b+y*M,o[7]=m*k+_*w+y*P,o[8]=m*S+_*C+y*N,o}static fromObject(n){return new an().copy(n)}set(n,i,o,l,a,c,f,d,g){if(typeof i>"u"){const m=n;n=m[0],i=m[1],o=m[2],l=m[3],a=m[4],c=m[5],f=m[6],d=m[7],g=m[8]}return this.elements[0]=n,this.elements[1]=i,this.elements[2]=o,this.elements[3]=l,this.elements[4]=a,this.elements[5]=c,this.elements[6]=f,this.elements[7]=d,this.elements[8]=g,this.trigger(pe.Types.change)}copy(n){return this.elements[0]=n.elements[0],this.elements[1]=n.elements[1],this.elements[2]=n.elements[2],this.elements[3]=n.elements[3],this.elements[4]=n.elements[4],this.elements[5]=n.elements[5],this.elements[6]=n.elements[6],this.elements[7]=n.elements[7],this.elements[8]=n.elements[8],this.manual=n.manual,this.trigger(pe.Types.change)}identity(){return this.elements[0]=an.Identity[0],this.elements[1]=an.Identity[1],this.elements[2]=an.Identity[2],this.elements[3]=an.Identity[3],this.elements[4]=an.Identity[4],this.elements[5]=an.Identity[5],this.elements[6]=an.Identity[6],this.elements[7]=an.Identity[7],this.elements[8]=an.Identity[8],this.trigger(pe.Types.change)}multiply(n,i,o,l,a,c,f,d,g){if(typeof i>"u")return this.elements[0]*=n,this.elements[1]*=n,this.elements[2]*=n,this.elements[3]*=n,this.elements[4]*=n,this.elements[5]*=n,this.elements[6]*=n,this.elements[7]*=n,this.elements[8]*=n,this.trigger(pe.Types.change);if(typeof o>"u"&&(o=1),typeof l>"u"){n=n||0,i=i||0,o=o||0,a=this.elements;const re=a[0]*n+a[1]*i+a[2]*o,ue=a[3]*n+a[4]*i+a[5]*o,Z=a[6]*n+a[7]*i+a[8]*o;return[re,ue,Z]}const m=this.elements,_=[n,i,o,l,a,c,f,d,g],y=m[0],x=m[1],k=m[2],S=m[3],b=m[4],w=m[5],C=m[6],M=m[7],P=m[8],N=_[0],j=_[1],X=_[2],z=_[3],W=_[4],K=_[5],q=_[6],ae=_[7],te=_[8];return this.elements[0]=y*N+x*z+k*q,this.elements[1]=y*j+x*W+k*ae,this.elements[2]=y*X+x*K+k*te,this.elements[3]=S*N+b*z+w*q,this.elements[4]=S*j+b*W+w*ae,this.elements[5]=S*X+b*K+w*te,this.elements[6]=C*N+M*z+P*q,this.elements[7]=C*j+M*W+P*ae,this.elements[8]=C*X+M*K+P*te,this.trigger(pe.Types.change)}inverse(n){const i=this.elements;n=n||new an;const o=i[0],l=i[1],a=i[2],c=i[3],f=i[4],d=i[5],g=i[6],m=i[7],_=i[8],y=_*f-d*m,x=-_*c+d*g,k=m*c-f*g;let S=o*y+l*x+a*k;return S?(S=1/S,n.elements[0]=y*S,n.elements[1]=(-_*l+a*m)*S,n.elements[2]=(d*l-a*f)*S,n.elements[3]=x*S,n.elements[4]=(_*o-a*g)*S,n.elements[5]=(-d*o+a*c)*S,n.elements[6]=k*S,n.elements[7]=(-m*o+l*g)*S,n.elements[8]=(f*o-l*c)*S,n):null}scale(n,i){return arguments.length<=1&&(i=n),this.multiply(n,0,0,0,i,0,0,0,1)}rotate(n){const i=YS(n),o=XS(n);return this.multiply(i,-o,0,o,i,0,0,0,1)}translate(n,i){return this.multiply(1,0,n,0,1,i,0,0,1)}skewX(n){const i=x0(n);return this.multiply(1,i,0,0,1,0,0,0,1)}skewY(n){const i=x0(n);return this.multiply(1,0,0,i,1,0,0,0,1)}toString(n){return Dh.length=0,this.toTransformArray(n,Dh),Dh.map(Dr).join(" ")}toTransformArray(n,i){const o=this.elements,l=!!i,a=o[0],c=o[1],f=o[2],d=o[3],g=o[4],m=o[5];if(n){const _=o[6],y=o[7],x=o[8];if(l){i[0]=a,i[1]=d,i[2]=_,i[3]=c,i[4]=g,i[5]=y,i[6]=f,i[7]=m,i[8]=x;return}return[a,d,_,c,g,y,f,m,x]}if(l){i[0]=a,i[1]=d,i[2]=c,i[3]=g,i[4]=f,i[5]=m;return}return[a,d,c,g,f,m]}toArray(n,i){const o=this.elements,l=!!i,a=o[0],c=o[1],f=o[2],d=o[3],g=o[4],m=o[5];if(n){const _=o[6],y=o[7],x=o[8];if(l){i[0]=a,i[1]=c,i[2]=f,i[3]=d,i[4]=g,i[5]=m,i[6]=_,i[7]=y,i[8]=x;return}return[a,c,f,d,g,m,_,y,x]}if(l){i[0]=a,i[1]=c,i[2]=f,i[3]=d,i[4]=g,i[5]=m;return}return[a,c,f,d,g,m]}toObject(){return{renderer:{type:"matrix"},elements:this.toArray(!0),manual:!!this.manual}}clone(){return new an().copy(this)}};B(an,"Identity",[1,0,0,0,1,0,0,0,1]);let Bs=an;CS(Bs);class Ls extends Tc{constructor(){super();B(this,"_flagMatrix",!0);B(this,"_flagScale",!1);B(this,"_matrix",null);B(this,"_worldMatrix",null);B(this,"_position",null);B(this,"_rotation",0);B(this,"_scale",1);B(this,"_skewX",0);B(this,"_skewY",0);for(let n in Ou)Object.defineProperty(this,n,Ou[n]);this._renderer.flagMatrix=$v.bind(this),this.isShape=!0,this.matrix=new Bs,this.worldMatrix=new Bs,this.position=new Ae,this.rotation=0,this.scale=1,this.skewX=0,this.skewY=0}static fromObject(n){const i=new Ls().copy(n);return"id"in n&&(i.id=n.id),i}get renderer(){return this._renderer}set renderer(n){this._renderer=n}get translation(){return Ou.position.get.apply(this,arguments)}set translation(n){Ou.position.set.apply(this,arguments)}addTo(n){return n.add(this),this}remove(){return this.parent?(this.parent.remove(this),this):this}copy(n){return super.copy.call(this,n),"position"in n&&(n.position instanceof Ae?this.position=n.position:this.position.copy(n.position)),"rotation"in n&&(this.rotation=n.rotation),"scale"in n&&(this.scale=typeof n.scale=="number"||n.scale instanceof Ae?n.scale:new Ae(n.scale.x,n.scale.y)),"skewX"in n&&(this.skewX=n.skewX),"skewY"in n&&(this.skewY=n.skewY),"matrix"in n&&n.matrix.manual&&(this.matrix.copy(n.matrix),this.matrix.manual=!0),this}clone(n){const i=new Ls;return i.position.copy(this.position),i.rotation=this.rotation,i.scale=this.scale,i.skewX=this.skewX,i.skewY=this.skewY,this.matrix.manual&&i.matrix.copy(this.matrix),n&&n.add(i),i._update()}toObject(){const n=super.toObject.call(this);return n.renderer={type:"shape"},n.isShape=!0,n.translation=this.translation.toObject(),n.rotation=this.translation.rotation,n.scale=this.scale instanceof Ae?this.scale.toObject():this.scale,n.skewX=this.skewX,n.skewY=this.skewY,n.matrix=this.matrix.toObject(),n}_update(n){return!this._matrix.manual&&this._flagMatrix&&(this._matrix.identity().translate(this.position.x,this.position.y),this._scale instanceof Ae?this._matrix.scale(this._scale.x,this._scale.y):this._matrix.scale(this._scale),this._matrix.rotate(this.rotation),this._matrix.skewX(this.skewX),this._matrix.skewY(this.skewY)),n&&this.parent&&this.parent._update&&this.parent._update(),this}flagReset(){return this._flagMatrix=this._flagScale=!1,super.flagReset.call(this),this}}const Ou={position:{enumerable:!0,get:function(){return this._position},set:function(e){this._position&&this._position.unbind(pe.Types.change,this._renderer.flagMatrix),this._position=e,this._position.bind(pe.Types.change,this._renderer.flagMatrix),$v.call(this)}},rotation:{enumerable:!0,get:function(){return this._rotation},set:function(e){this._rotation=e,this._flagMatrix=!0}},scale:{enumerable:!0,get:function(){return this._scale},set:function(e){this._scale instanceof Ae&&this._scale.unbind(pe.Types.change,this._renderer.flagMatrix),this._scale=e,this._scale instanceof Ae&&this._scale.bind(pe.Types.change,this._renderer.flagMatrix),this._flagMatrix=!0,this._flagScale=!0}},skewX:{enumerable:!0,get:function(){return this._skewX},set:function(e){this._skewX=e,this._flagMatrix=!0}},skewY:{enumerable:!0,get:function(){return this._skewY},set:function(e){this._skewY=e,this._flagMatrix=!0}},matrix:{enumerable:!0,get:function(){return this._matrix},set:function(e){this._matrix=e,this._flagMatrix=!0}},worldMatrix:{enumerable:!0,get:function(){return RS(this,this._worldMatrix),this._worldMatrix},set:function(e){this._worldMatrix=e}}};function $v(){this._flagMatrix=!0}const bo=Math.min,So=Math.max,KS=Math.ceil,qS=Math.floor,GS=new Ae,xr=class xr extends Ls{constructor(n,i,o,l){super();B(this,"_flagVertices",!0);B(this,"_flagLength",!0);B(this,"_flagFill",!0);B(this,"_flagStroke",!0);B(this,"_flagLinewidth",!0);B(this,"_flagOpacity",!0);B(this,"_flagVisible",!0);B(this,"_flagCap",!0);B(this,"_flagJoin",!0);B(this,"_flagMiter",!0);B(this,"_flagMask",!1);B(this,"_flagClip",!1);B(this,"_length",0);B(this,"_fill","#fff");B(this,"_stroke","#000");B(this,"_linewidth",1);B(this,"_opacity",1);B(this,"_visible",!0);B(this,"_cap","round");B(this,"_join","round");B(this,"_miter",4);B(this,"_closed",!0);B(this,"_curved",!1);B(this,"_automatic",!0);B(this,"_beginning",0);B(this,"_ending",1);B(this,"_mask",null);B(this,"_clip",!1);B(this,"_dashes",null);for(let a in w0)Object.defineProperty(this,a,w0[a]);this._renderer.type="path",this._renderer.flagVertices=QS.bind(this),this._renderer.bindVertices=ZS.bind(this),this._renderer.unbindVertices=JS.bind(this),this._renderer.flagFill=eE.bind(this),this._renderer.flagStroke=tE.bind(this),this._renderer.vertices=[],this._renderer.collection=[],this.closed=!!i,this.curved=!!o,this.beginning=0,this.ending=1,this.fill="#fff",this.stroke="#000",this.linewidth=1,this.opacity=1,this.className="",this.visible=!0,this.cap="butt",this.join="miter",this.miter=4,this.vertices=n,this.automatic=!l,this.dashes=[],this.dashes.offset=0}static fromObject(n){const i=typeof n.fill=="string"?n.fill:sc(n.fill),o=typeof n.stroke=="string"?n.stroke:sc(n.stroke),l=new xr().copy({...n,fill:i,stroke:o});return"id"in n&&(l.id=n.id),l}copy(n){super.copy.call(this,n),this.vertices=[];for(let i=0;i<n.vertices.length;i++){const o=n.vertices[i];o instanceof cn?this.vertices.push(n.vertices[i].clone()):this.vertices.push(new cn().copy(o))}for(let i=0;i<xr.Properties.length;i++){const o=xr.Properties[i];o in n&&(this[o]=n[o])}return this}clone(n){const i=new xr;for(let o=0;o<this.vertices.length;o++)i.vertices.push(this.vertices[o].clone());for(let o=0;o<xr.Properties.length;o++){const l=xr.Properties[o];i[l]=this[l]}return i.className=this.className,i.translation.copy(this.translation),i.rotation=this.rotation,i.scale=this.scale,i.skewX=this.skewX,i.skewY=this.skewY,this.matrix.manual&&i.matrix.copy(this.matrix),n&&n.add(i),i._update()}toObject(){const n=super.toObject.call(this);return n.renderer.type="path",n.vertices=this.vertices.map(i=>i.toObject()),Bt.each(xr.Properties,i=>{typeof this[i]<"u"&&(this[i].toObject?n[i]=this[i].toObject():n[i]=this[i])},this),n}noFill(){return this.fill="none",this}noStroke(){return this.stroke="none",this.linewidth=0,this}corner(){const n=this.getBoundingClientRect(!0),i=n.width/2,o=n.height/2,l=n.left+n.width/2,a=n.top+n.height/2;for(let c=0;c<this.vertices.length;c++){const f=this.vertices[c];f.x-=l,f.y-=a,f.x+=i,f.y+=o}return this.mask&&(this.mask.translation.x-=l,this.mask.translation.x+=i,this.mask.translation.y-=a,this.mask.translation.y+=o),this}center(){const n=this.getBoundingClientRect(!0),i=n.left+n.width/2-this.translation.x,o=n.top+n.height/2-this.translation.y;for(let l=0;l<this.vertices.length;l++){const a=this.vertices[l];a.x-=i,a.y-=o}return this.mask&&(this.mask.translation.x-=i,this.mask.translation.y-=o),this}getBoundingClientRect(n){let i,o,l,a,c,f,d=1/0,g=-1/0,m=1/0,_=-1/0;if(this._update(!0),i=n?this.matrix:this.worldMatrix,o=(this.linewidth||0)/2,l=this._renderer.vertices.length,this.linewidth>0||this.stroke&&!/(transparent|none)/i.test(this.stroke))if(this.matrix.manual){const{scaleX:y,scaleY:x}=ES(i.elements[0],i.elements[3],i.elements[1],i.elements[4],i.elements[2],i.elements[5]);typeof y=="number"&&typeof x=="number"&&(o=Math.max(y,x)*(this.linewidth||0)/2)}else o*=typeof this.scale=="number"?this.scale:Math.max(this.scale.x,this.scale.y);if(l<=0)return{width:0,height:0};for(a=0;a<l;a++){f=this._renderer.vertices[a],c=this._renderer.vertices[(a+l-1)%l];const[y,x]=i.multiply(c.x,c.y),[k,S]=i.multiply(f.x,f.y);if(c.controls&&f.controls){let b=c.controls.right.x,w=c.controls.right.y;c.relative&&(b+=c.x,w+=c.y);let[C,M]=i.multiply(b,w),P=f.controls.left.x,N=f.controls.left.y;f.relative&&(P+=f.x,N+=f.y);let[j,X]=i.multiply(P,N);const z=OS(y,x,C,M,j,X,k,S);m=bo(z.min.y-o,m),d=bo(z.min.x-o,d),g=So(z.max.x+o,g),_=So(z.max.y+o,_)}else a<=1&&(m=bo(x-o,m),d=bo(y-o,d),g=So(y+o,g),_=So(x+o,_)),m=bo(S-o,m),d=bo(k-o,d),g=So(k+o,g),_=So(S+o,_)}return{top:m,left:d,right:g,bottom:_,width:g-d,height:_-m}}getPointAt(n,i){let o,l,a,c,f,d,g,m,_,y,x,k,S,b,w,C=this.length*Math.min(Math.max(n,0),1);const M=this.vertices.length,P=M-1;let N=null,j=null;for(let D=0,$=this._lengths.length,G=0;D<$;D++){if(G+this._lengths[D]>=C){this._closed?(o=nc(D,M),l=nc(D-1,M),D===0&&(o=l,l=D)):(o=D,l=Math.min(Math.max(D-1,0),P)),N=this.vertices[o],j=this.vertices[l],C-=G,this._lengths[D]!==0?n=C/this._lengths[D]:n=0;break}G+=this._lengths[D]}if(N===null||j===null)return null;if(N){if(!j)return N}else return j;w=j.controls&&j.controls.right,b=N.controls&&N.controls.left,f=j.x,y=j.y,d=(w||j).x,x=(w||j).y,g=(b||N).x,k=(b||N).y,m=N.x,S=N.y,w&&j.relative&&(d+=j.x,x+=j.y),b&&N.relative&&(g+=N.x,k+=N.y),c=ic(n,f,d,g,m),_=ic(n,y,x,k,S);const X=Nr(f,d,n),z=Nr(y,x,n),W=Nr(d,g,n),K=Nr(x,k,n),q=Nr(g,m,n),ae=Nr(k,S,n),te=Nr(X,W,n),re=Nr(z,K,n),ue=Nr(W,q,n),Z=Nr(K,ae,n);return Bt.isObject(i)?(i.x=c,i.y=_,i instanceof cn&&(i.controls.left.x=te,i.controls.left.y=re,i.controls.right.x=ue,i.controls.right.y=Z,(typeof i.relative!="boolean"||i.relative)&&(i.controls.left.x-=c,i.controls.left.y-=_,i.controls.right.x-=c,i.controls.right.y-=_)),i.t=n,i):(a=new cn(c,_,te-c,re-_,ue-c,Z-_,this._curved?Ge.curve:Ge.line),a.t=n,a)}plot(){if(this.curved)return FS(this._collection,this.closed),this;for(let n=0;n<this._collection.length;n++)this._collection[n].command=n===0?Ge.move:Ge.line;return this}subdivide(n){this._update();const i=this.vertices.length-1,o=this._closed||this.vertices[i]._command===Ge.close;let l=this.vertices[i],a=[],c;return Bt.each(this.vertices,function(f,d){if(d<=0&&!o){l=f;return}if(f.command===Ge.move){a.push(new cn(l.x,l.y)),d>0&&(a[a.length-1].command=Ge.line),l=f;return}c=v0(f,l,n),a=a.concat(c),Bt.each(c,function(g,m){m<=0&&l.command===Ge.move?g.command=Ge.move:g.command=Ge.line}),d>=i&&(this._closed&&this._automatic?(l=f,c=v0(f,l,n),a=a.concat(c),Bt.each(c,function(g,m){m<=0&&l.command===Ge.move?g.command=Ge.move:g.command=Ge.line})):o&&a.push(new cn(f.x,f.y)),a[a.length-1].command=o?Ge.close:Ge.line),l=f},this),this._automatic=!1,this._curved=!1,this.vertices=a,this}_updateLength(n,i){i||this._update();const l=this.vertices.length-1;let a=this.vertices[l],c=0;return typeof this._lengths>"u"&&(this._lengths=[]),Bt.each(this.vertices,function(f,d){if(d<=0||f.command===Ge.move){a=f,this._lengths[d]=0;return}this._lengths[d]=_0(f,a,n),c+=this._lengths[d],a=f},this),this._length=c,this._flagLength=!1,this}_update(){if(this._flagVertices){this._automatic&&this.plot(),this._flagLength&&this._updateLength(void 0,!0);const n=this._collection.length,i=this._closed,o=Math.min(this._beginning,this._ending),l=Math.max(this._beginning,this._ending),a=y0(this,o*this._length),c=y0(this,l*this._length),f=KS(a),d=qS(c);let g,m,_,y,x,k;for(this._renderer.vertices.length=0,k=0;k<n;k++)this._renderer.collection.length<=k&&this._renderer.collection.push(new cn),k>d&&!m?(x=this._renderer.collection[k].copy(this._collection[k]),this.getPointAt(l,x),x.command=this._renderer.collection[k].command,this._renderer.vertices.push(x),m=x,_=this._collection[k-1],_&&_.controls&&(x.relative?x.controls.right.clear():x.controls.right.copy(x),_.relative?this._renderer.collection[k-1].controls.right.copy(_.controls.right).lerp(Ae.zero,1-x.t):this._renderer.collection[k-1].controls.right.copy(_.controls.right).lerp(_,1-x.t))):k>=f&&k<=d&&(x=this._renderer.collection[k].copy(this._collection[k]),this._renderer.vertices.push(x),k===d&&m0(this,l)?(m=x,!i&&m.controls&&(m.relative?m.controls.right.clear():m.controls.right.copy(m))):k===f&&m0(this,o)&&(g=x,g.command=Ge.move,!i&&g.controls&&(g.relative?g.controls.left.clear():g.controls.left.copy(g))));f>0&&!g&&(k=f-1,x=this._renderer.collection[k].copy(this._collection[k]),this.getPointAt(o,x),x.command=Ge.move,this._renderer.vertices.unshift(x),y=this._collection[k+1],y&&y.controls&&(x.controls.left.clear(),y.relative?this._renderer.collection[k+1].controls.left.copy(y.controls.left).lerp(Ae.zero,x.t):(GS.copy(y),this._renderer.collection[k+1].controls.left.copy(y.controls.left).lerp(y,x.t))))}return Ls.prototype._update.apply(this,arguments),this}flagReset(){return this._flagVertices=this._flagLength=this._flagFill=this._flagStroke=this._flagLinewidth=this._flagOpacity=this._flagVisible=this._flagCap=this._flagJoin=this._flagMiter=this._flagClip=!1,Ls.prototype.flagReset.call(this),this}};B(xr,"Properties",["fill","stroke","linewidth","opacity","visible","cap","join","miter","closed","curved","automatic","beginning","ending","dashes"]),B(xr,"Utils",{getCurveLength:_0});let nn=xr;const w0={linewidth:{enumerable:!0,get:function(){return this._linewidth},set:function(e){this._linewidth=e,this._flagLinewidth=!0}},opacity:{enumerable:!0,get:function(){return this._opacity},set:function(e){this._opacity=e,this._flagOpacity=!0}},visible:{enumerable:!0,get:function(){return this._visible},set:function(e){this._visible=e,this._flagVisible=!0}},cap:{enumerable:!0,get:function(){return this._cap},set:function(e){this._cap=e,this._flagCap=!0}},join:{enumerable:!0,get:function(){return this._join},set:function(e){this._join=e,this._flagJoin=!0}},miter:{enumerable:!0,get:function(){return this._miter},set:function(e){this._miter=e,this._flagMiter=!0}},fill:{enumerable:!0,get:function(){return this._fill},set:function(e){(this._fill instanceof fn||this._fill instanceof Er||this._fill instanceof Cr||this._fill instanceof Cn)&&this._fill.unbind(pe.Types.change,this._renderer.flagFill),this._fill=e,this._flagFill=!0,(this._fill instanceof fn||this._fill instanceof Er||this._fill instanceof Cr||this._fill instanceof Cn)&&this._fill.bind(pe.Types.change,this._renderer.flagFill)}},stroke:{enumerable:!0,get:function(){return this._stroke},set:function(e){(this._stroke instanceof fn||this._stroke instanceof Er||this._stroke instanceof Cr||this._stroke instanceof Cn)&&this._stroke.unbind(pe.Types.change,this._renderer.flagStroke),this._stroke=e,this._flagStroke=!0,(this._stroke instanceof fn||this._stroke instanceof Er||this._stroke instanceof Cr||this._stroke instanceof Cn)&&this._stroke.bind(pe.Types.change,this._renderer.flagStroke)}},length:{get:function(){return this._flagLength&&this._updateLength(),this._length}},closed:{enumerable:!0,get:function(){return this._closed},set:function(e){this._closed=!!e,this._flagVertices=!0}},curved:{enumerable:!0,get:function(){return this._curved},set:function(e){this._curved=!!e,this._flagVertices=!0}},automatic:{enumerable:!0,get:function(){return this._automatic},set:function(e){if(e===this._automatic)return;this._automatic=!!e;const t=this._automatic?"ignore":"listen";Bt.each(this.vertices,function(n){n[t]()})}},beginning:{enumerable:!0,get:function(){return this._beginning},set:function(e){this._beginning=e,this._flagVertices=!0}},ending:{enumerable:!0,get:function(){return this._ending},set:function(e){this._ending=e,this._flagVertices=!0}},vertices:{enumerable:!0,get:function(){return this._collection},set:function(e){const t=this._renderer.bindVertices,n=this._renderer.unbindVertices;this._collection&&this._collection.unbind(pe.Types.insert,t).unbind(pe.Types.remove,n),e instanceof md?this._collection=e:this._collection=new md(e||[]),this._collection.bind(pe.Types.insert,t).bind(pe.Types.remove,n),t(this._collection)}},mask:{enumerable:!0,get:function(){return this._mask},set:function(e){this._mask=e,this._flagMask=!0,Bt.isObject(e)&&!e.clip&&(e.clip=!0)}},clip:{enumerable:!0,get:function(){return this._clip},set:function(e){this._clip=e,this._flagClip=!0}},dashes:{enumerable:!0,get:function(){return this._dashes},set:function(e){typeof e.offset!="number"&&(e.offset=this.dashes&&this._dashes.offset||0),this._dashes=e}}};function QS(){this._flagVertices=!0,this._flagLength=!0,this.parent&&(this.parent._flagLength=!0)}function ZS(e){let t=e.length;for(;t--;)e[t].bind(pe.Types.change,this._renderer.flagVertices);this._renderer.flagVertices()}function JS(e){let t=e.length;for(;t--;)e[t].unbind(pe.Types.change,this._renderer.flagVertices);this._renderer.flagVertices()}function eE(){this._flagFill=!0}function tE(){this._flagStroke=!0}const hi=class hi extends nn{constructor(n,i,o,l,a){typeof a>"u"&&typeof o=="number"&&typeof l=="number"&&(a=Math.floor(Math.min(o,l)/12));const c=[];for(let f=0;f<10;f++)c.push(new cn(0,0,0,0,0,0,f===0?Ge.move:Ge.curve));super(c);B(this,"_flagWidth",!1);B(this,"_flagHeight",!1);B(this,"_flagRadius",!1);B(this,"_width",0);B(this,"_height",0);B(this,"_radius",12);this._renderer.type="rounded-rectangle";for(let f in k0)Object.defineProperty(this,f,k0[f]);this.closed=!0,this.automatic=!1,this._renderer.flagRadius=nE.bind(this),typeof o=="number"&&(this.width=o),typeof l=="number"&&(this.height=l),typeof a=="number"&&(this.radius=a),this._update(),typeof n=="number"&&(this.translation.x=n),typeof i=="number"&&(this.translation.y=i)}static fromObject(n){const i=new hi().copy(n);return"id"in n&&(i.id=n.id),i}copy(n){super.copy.call(this,n);for(let i=0;i<hi.Properties.length;i++){const o=hi.Properties[i];if(o in n){const l=n[o];/radius/i.test(o)?this[o]=typeof l=="number"||l instanceof Ae?l:new Ae().copy(l):typeof l=="number"&&(this[o]=l)}}return this}_update(){if(this._flagVertices||this._flagWidth||this._flagHeight||this._flagRadius){const n=this._width,i=this._height;let o,l;this._radius instanceof Ae?(o=this._radius.x,l=this._radius.y):(o=this._radius,l=this._radius);let a,c=n/2,f=i/2;a=this.vertices[0],a.x=-(c-o),a.y=-f,a=this.vertices[1],a.x=c-o,a.y=-f,a.controls.left.clear(),a.controls.right.x=o,a.controls.right.y=0,a=this.vertices[2],a.x=c,a.y=-(f-l),a.controls.right.clear(),a.controls.left.clear(),a=this.vertices[3],a.x=c,a.y=f-l,a.controls.left.clear(),a.controls.right.x=0,a.controls.right.y=l,a=this.vertices[4],a.x=c-o,a.y=f,a.controls.right.clear(),a.controls.left.clear(),a=this.vertices[5],a.x=-(c-o),a.y=f,a.controls.left.clear(),a.controls.right.x=-o,a.controls.right.y=0,a=this.vertices[6],a.x=-c,a.y=f-l,a.controls.left.clear(),a.controls.right.clear(),a=this.vertices[7],a.x=-c,a.y=-(f-l),a.controls.left.clear(),a.controls.right.x=0,a.controls.right.y=-l,a=this.vertices[8],a.x=-(c-o),a.y=-f,a.controls.left.clear(),a.controls.right.clear(),a=this.vertices[9],a.copy(this.vertices[8])}return super._update.call(this),this}flagReset(){return this._flagWidth=this._flagHeight=this._flagRadius=!1,super.flagReset.call(this),this}clone(n){const i=this.width,o=this.height,l=this.radius,a=new hi(0,0,i,o,l);a.translation.copy(this.translation),a.rotation=this.rotation,a.scale=this.scale,a.skewX=this.skewX,a.skewY=this.skewY,this.matrix.manual&&a.matrix.copy(this.matrix);for(let c=0;c<nn.Properties.length;c++){const f=nn.Properties[c];a[f]=this[f]}return n&&n.add(a),a}toObject(){const n=super.toObject.call(this);n.renderer.type="rounded-rectangle";for(let i=0;i<hi.Properties.length;i++){const o=hi.Properties[i];n[o]=this[o]}return n.radius=typeof this.radius=="number"?this.radius:this.radius.toObject(),n}};B(hi,"Properties",["width","height","radius"]);let yd=hi;const k0={width:{enumerable:!0,get:function(){return this._width},set:function(e){this._width=e,this._flagWidth=!0}},height:{enumerable:!0,get:function(){return this._height},set:function(e){this._height=e,this._flagHeight=!0}},radius:{enumerable:!0,get:function(){return this._radius},set:function(e){this._radius instanceof Ae&&this._radius.unbind(pe.Types.change,this._renderer.flagRadius),this._radius=e,this._radius instanceof Ae&&this._radius.bind(pe.Types.change,this._renderer.flagRadius),this._flagRadius=!0}}};function nE(){this._flagRadius=!0}let _d;const b0=Math.min,S0=Math.max;Vr.document&&(_d=document.createElement("canvas"));const qt=class qt extends Ls{constructor(n,i,o,l){super();B(this,"_flagValue",!0);B(this,"_flagFamily",!0);B(this,"_flagSize",!0);B(this,"_flagLeading",!0);B(this,"_flagAlignment",!0);B(this,"_flagBaseline",!0);B(this,"_flagStyle",!0);B(this,"_flagWeight",!0);B(this,"_flagDecoration",!0);B(this,"_flagFill",!0);B(this,"_flagStroke",!0);B(this,"_flagLinewidth",!0);B(this,"_flagOpacity",!0);B(this,"_flagVisible",!0);B(this,"_flagMask",!1);B(this,"_flagClip",!1);B(this,"_flagDirection",!0);B(this,"_value","");B(this,"_family","sans-serif");B(this,"_size",13);B(this,"_leading",17);B(this,"_alignment","center");B(this,"_baseline","middle");B(this,"_style","normal");B(this,"_weight",500);B(this,"_decoration","none");B(this,"_direction","ltr");B(this,"_fill","#000");B(this,"_stroke","none");B(this,"_linewidth",1);B(this,"_opacity",1);B(this,"_visible",!0);B(this,"_mask",null);B(this,"_clip",!1);B(this,"_dashes",null);for(let a in E0)Object.defineProperty(this,a,E0[a]);if(this._renderer.type="text",this._renderer.flagFill=rE.bind(this),this._renderer.flagStroke=iE.bind(this),this.value=n,typeof i=="number"&&(this.translation.x=i),typeof o=="number"&&(this.translation.y=o),this.dashes=[],this.dashes.offset=0,!Bt.isObject(l))return this;for(let a=0;a<qt.Properties.length;a++){const c=qt.Properties[a];c in l&&(this[c]=l[c])}}static Measure(n){if(_d){const i=_d.getContext("2d");i.font=[n._style,n._weight,`${n._size}px/${n._leading}px`,n._family].join(" ");const o=i.measureText(n.value,0,0),l=o.actualBoundingBoxDescent+o.actualBoundingBoxAscent;return{width:o.width,height:l}}else{const i=this.value.length*this.size*qt.Ratio,o=this.leading;return console.warn("Two.Text: unable to accurately measure text, so using an approximation."),{width:i,height:o}}}static fromObject(n){const i=typeof n.fill=="string"?n.fill:sc(n.fill),o=typeof n.stroke=="string"?n.stroke:sc(n.stroke),l=new qt().copy({...n,fill:i,stroke:o});return"id"in n&&(l.id=n.id),l}copy(n){super.copy.call(this,n);for(let i=0;i<qt.Properties.length;i++){const o=qt.Properties[i];o in n&&(this[o]=n[o])}return this}clone(n){const i=new qt(this.value);i.translation.copy(this.translation),i.rotation=this.rotation,i.scale=this.scale;for(let o=0;o<qt.Properties.length;o++){const l=qt.Properties[o];i[l]=this[l]}return this.matrix.manual&&i.matrix.copy(this.matrix),n&&n.add(i),i._update()}toObject(){const n=super.toObject.call(this);n.renderer.type="text";for(let i=0;i<qt.Properties.length;i++){const o=qt.Properties[i];n[o]=this[o]}return n}noFill(){return this.fill="none",this}noStroke(){return this.stroke="none",this.linewidth=0,this}getBoundingClientRect(n){let i,o,l,a,c;this._update(!0),i=n?this.matrix:this.worldMatrix;const{width:f,height:d}=qt.Measure(this),g=(this._linewidth||0)/2;switch(this.alignment){case"left":o=-g,l=f+g;break;case"right":o=-(f+g),l=g;break;default:o=-(f/2+g),l=f/2+g}switch(this.baseline){case"middle":a=-(d/2+g),c=d/2+g;break;default:a=-(d+g),c=g}const[m,_]=i.multiply(o,a),[y,x]=i.multiply(o,c),[k,S]=i.multiply(l,a),[b,w]=i.multiply(l,c);return a=b0(_,x,S,w),o=b0(m,y,k,b),l=S0(m,y,k,b),c=S0(_,x,S,w),{top:a,left:o,right:l,bottom:c,width:l-o,height:c-a}}flagReset(){return super.flagReset.call(this),this._flagValue=this._flagFamily=this._flagSize=this._flagLeading=this._flagAlignment=this._flagFill=this._flagStroke=this._flagLinewidth=this._flagOpacity=this._flagVisible=this._flagClip=this._flagDecoration=this._flagClassName=this._flagBaseline=this._flagWeight=this._flagStyle=this._flagDirection=!1,this}};B(qt,"Ratio",.6),B(qt,"Properties",["value","family","size","leading","alignment","linewidth","style","weight","decoration","direction","baseline","opacity","visible","fill","stroke","dashes"]);let oc=qt;const E0={value:{enumerable:!0,get:function(){return this._value},set:function(e){this._value=e,this._flagValue=!0}},family:{enumerable:!0,get:function(){return this._family},set:function(e){this._family=e,this._flagFamily=!0}},size:{enumerable:!0,get:function(){return this._size},set:function(e){this._size=e,this._flagSize=!0}},leading:{enumerable:!0,get:function(){return this._leading},set:function(e){this._leading=e,this._flagLeading=!0}},alignment:{enumerable:!0,get:function(){return this._alignment},set:function(e){this._alignment=e,this._flagAlignment=!0}},linewidth:{enumerable:!0,get:function(){return this._linewidth},set:function(e){this._linewidth=e,this._flagLinewidth=!0}},style:{enumerable:!0,get:function(){return this._style},set:function(e){this._style=e,this._flagStyle=!0}},weight:{enumerable:!0,get:function(){return this._weight},set:function(e){this._weight=e,this._flagWeight=!0}},decoration:{enumerable:!0,get:function(){return this._decoration},set:function(e){this._decoration=e,this._flagDecoration=!0}},direction:{enumerable:!0,get:function(){return this._direction},set:function(e){this._direction=e,this._flagDirection=!0}},baseline:{enumerable:!0,get:function(){return this._baseline},set:function(e){this._baseline=e,this._flagBaseline=!0}},opacity:{enumerable:!0,get:function(){return this._opacity},set:function(e){this._opacity=e,this._flagOpacity=!0}},visible:{enumerable:!0,get:function(){return this._visible},set:function(e){this._visible=e,this._flagVisible=!0}},fill:{enumerable:!0,get:function(){return this._fill},set:function(e){(this._fill instanceof fn||this._fill instanceof Er||this._fill instanceof Cr||this._fill instanceof Cn)&&this._fill.unbind(pe.Types.change,this._renderer.flagFill),this._fill=e,this._flagFill=!0,(this._fill instanceof fn||this._fill instanceof Er||this._fill instanceof Cr||this._fill instanceof Cn)&&this._fill.bind(pe.Types.change,this._renderer.flagFill)}},stroke:{enumerable:!0,get:function(){return this._stroke},set:function(e){(this._stroke instanceof fn||this._stroke instanceof Er||this._stroke instanceof Cr||this._stroke instanceof Cn)&&this._stroke.unbind(pe.Types.change,this._renderer.flagStroke),this._stroke=e,this._flagStroke=!0,(this._stroke instanceof fn||this._stroke instanceof Er||this._stroke instanceof Cr||this._stroke instanceof Cn)&&this._stroke.bind(pe.Types.change,this._renderer.flagStroke)}},mask:{enumerable:!0,get:function(){return this._mask},set:function(e){this._mask=e,this._flagMask=!0,Bt.isObject(e)&&!e.clip&&(e.clip=!0)}},clip:{enumerable:!0,get:function(){return this._clip},set:function(e){this._clip=e,this._flagClip=!0}},dashes:{enumerable:!0,get:function(){return this._dashes},set:function(e){typeof e.offset!="number"&&(e.offset=this.dashes&&this._dashes.offset||0),this._dashes=e}}};function rE(){this._flagFill=!0}function iE(){this._flagStroke=!0}function Gd(e){const{shape:t,type:n}=e,{translation:i,id:o}=t,l=t.stroke,a=t.fill,c=t.linewidth,f=t.vertices,d=t.width||0,g=t.height||0,m=t.radius||0,_={id:o,t:n,x:i.x,y:i.y,w:d,h:g,r:m,sc:l||"none",fc:a||"none",lw:c||1,v:(f||[]).map(y=>[y.x,y.y])};if(n==="text"){const y=t;_.txt=y.value,_.ff=y.family,_.fs=y.size,_.fa=y.alignment,_.fw=y.weight}return n==="bezier"&&(_.bv=(f||[]).map(y=>{var x,k,S,b,w,C,M,P;return[y.x,y.y,((k=(x=y.controls)==null?void 0:x.left)==null?void 0:k.x)??0,((b=(S=y.controls)==null?void 0:S.left)==null?void 0:b.y)??0,((C=(w=y.controls)==null?void 0:w.right)==null?void 0:C.x)??0,((P=(M=y.controls)==null?void 0:M.right)==null?void 0:P.y)??0,y.command||"C"]}),_.cl=t.closed),_}function Qd(e){const{t,x:n,y:i,sc:o,fc:l,lw:a,v:c,w:f,h:d,r:g,id:m}=e;if(t==="brush"){const _=c.map(x=>new xe.Anchor(x[0],x[1])),y=new nn(_,!1,!0);return y.id=m,y.cap="round",y.closed=!1,y.noFill().stroke=o,y.linewidth=a,y.translation.x=n,y.translation.y=i,{type:t,shape:y}}else if(t==="line"||t==="arrow"){const _=c.map(x=>new xe.Anchor(x[0],x[1])),y=new nn(_,!1,!1);return y.id=m,y.cap="round",y.closed=!1,y.noFill().stroke=o,y.linewidth=a,y.translation.x=n,y.translation.y=i,{type:t,shape:y}}else if(t==="rect"){const _=new yd(n,i,f,d);return _.radius=g,_.id=m,_.stroke=o,_.fill=l,_.linewidth=a,{shape:_,type:"rect"}}else if(t==="text"){const _=new oc(e.txt||"",n,i);return _.id=m,_.fill=l,_.stroke=o,_.linewidth=a,_.family=e.ff||"sans-serif",_.size=e.fs||24,_.alignment=e.fa||"left",_.weight=e.fw||400,{shape:_,type:"text"}}else if(t==="bezier"){const _=(e.bv||[]).map(x=>new xe.Anchor(x[0],x[1],x[2],x[3],x[4],x[5],x[6])),y=new nn(_,!1,!1,!0);return y.id=m,y.cap="round",y.join="round",y.closed=!!e.cl,y.noFill().stroke=o,y.linewidth=a,y.translation.x=n,y.translation.y=i,{type:t,shape:y}}else throw new Error(`Unknown doodle unserialization of type "${t}"`)}const Uv=Rr()(e=>({toasts:[],addToast:(t,n)=>{const i=Math.random().toString(36).replace("0.","");e(o=>{const l={id:i,message:t,type:n};return{toasts:[...o.toasts,l]}}),setTimeout(()=>{e(o=>({toasts:o.toasts.filter(a=>a.id!==i)}))},2500)}})),sE=()=>{const e=Uv().toasts;return A.jsx("div",{className:"fixed top-0 left-0 right-0 h-0 flex justify-center",children:A.jsx("div",{className:"flex flex-col md:items-center gap-2 relative top-14",children:e.map(t=>A.jsx(oE,{message:t.message},t.id))})})},oE=({message:e})=>A.jsx("div",{className:"text-inverse bg-secondary py-2 px-4 flex items-center rounded gap-2 animate-fade-in-down min-w-72",children:A.jsx("div",{className:"flex-grow text-center",children:e})});class lE{constructor(t){B(this,"two");B(this,"zui");B(this,"canvas");B(this,"sketchId");B(this,"container");B(this,"throttledTwoUpdate",uv(()=>{var t,n,i;typeof((t=this.two)==null?void 0:t.update)=="function"&&((i=(n=this.two)==null?void 0:n.update)==null||i.call(n))},1));this.two=t.two,this.canvas=t.canvas,this.zui=t.zui,this.sketchId=t.sketchId||"default",this.container=t.container,typeof window<"u"&&(window.doodler=this)}doCenterCanvas(){this.canvas.position.x=0,this.canvas.position.y=0,this.throttledTwoUpdate()}addDoodle(t){t.shape.id=crypto.randomUUID();const{doodles:n,setDoodles:i}=tn.getState(),o=[...n,t];i(o),this.canvas.add(t.shape)}removeDoodle(t){const{doodles:n,setDoodles:i}=tn.getState(),o=n.filter(l=>l!==t);i(o),this.canvas.remove(t.shape)}async saveDoodles(){const{doodles:t}=tn.getState(),n=t.map(o=>Gd(o));wb(this.sketchId,n);const i=Uv.getState().addToast;i("Sketch saved successfully")}async loadDoodles(){if(!this.sketchId)return;const t=xb(this.sketchId);if(!(!t||!(t!=null&&t.length))){for(const n of t)try{const i=Qd(n);this.addDoodle(i)}catch(i){console.warn(i);continue}this.throttledTwoUpdate()}}}let vd;function aE(e){vd=e}function $e(){if(!vd)throw new Error("Doodler instance is not set yet.");return vd}const xd="#0ea5cf";var Vv=(e=>(e[e.Left=0]="Left",e[e.Middle=1]="Middle",e[e.Right=2]="Right",e))(Vv||{});function Vo(e,t){t=t||$e().zui;const n=e.currentTarget.getBoundingClientRect(),i={x:e.clientX-n.left,y:e.clientY-n.top};return t.clientToSurface(i)}function qr(e){const t=e.currentTarget.getBoundingClientRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}function uE(e,t){let n;return(...i)=>{clearTimeout(n),n=setTimeout(()=>e(...i),t)}}function C0(e,t){return Zd(e.x,e.y,t.left,t.top,t.right,t.bottom)}function Zd(e,t,n,i,o,l){return e>=n&&e<=o&&t>=i&&t<=l}function cE(e,t,n){return Math.max(t,Math.min(n,e))}function fE(e,t){const n=Math.pow(10,t);return Math.floor(e*n)/n}function hE(e){return e*(180/Math.PI)%360}function dE(e){return e*(Math.PI/180)}function Jd(e){var i,o;const t=e,n=((i=e.touches)==null?void 0:i[0])||((o=e.changedTouches)==null?void 0:o[0])||{clientX:0,clientY:0};return t.clientX=n.clientX,t.clientY=n.clientY,t}var Lu={},R0;function pE(){return R0||(R0=1,Lu.ARRAY_BUFFER_SUPPORT=typeof ArrayBuffer<"u",Lu.SYMBOL_SUPPORT=typeof Symbol<"u"),Lu}var zh,T0;function Hv(){if(T0)return zh;T0=1;var e=pE(),t=e.ARRAY_BUFFER_SUPPORT,n=e.SYMBOL_SUPPORT;return zh=function(o,l){var a,c,f,d,g;if(!o)throw new Error("obliterator/forEach: invalid iterable.");if(typeof l!="function")throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(o)||t&&ArrayBuffer.isView(o)||typeof o=="string"||o.toString()==="[object Arguments]"){for(f=0,d=o.length;f<d;f++)l(o[f],f);return}if(typeof o.forEach=="function"){o.forEach(l);return}if(n&&Symbol.iterator in o&&typeof o.next!="function"&&(o=o[Symbol.iterator]()),typeof o.next=="function"){for(a=o,f=0;g=a.next(),g.done!==!0;)l(g.value,f),f++;return}for(c in o)o.hasOwnProperty(c)&&l(o[c],c)},zh}var Eo={},M0;function gE(){if(M0)return Eo;M0=1;var e=function(o,l){return o<l?-1:o>l?1:0},t=function(o,l){return o<l?1:o>l?-1:0};function n(o){return function(l,a){return o(a,l)}}function i(o){return o===2?function(l,a){return l[0]<a[0]?-1:l[0]>a[0]?1:l[1]<a[1]?-1:l[1]>a[1]?1:0}:function(l,a){for(var c=0;c<o;){if(l[c]<a[c])return-1;if(l[c]>a[c])return 1;c++}return 0}}return Eo.DEFAULT_COMPARATOR=e,Eo.DEFAULT_REVERSE_COMPARATOR=t,Eo.reverseComparator=n,Eo.createTupleComparator=i,Eo}var Co={},Bh={},A0;function mE(){return A0||(A0=1,function(e){var t=Math.pow(2,8)-1,n=Math.pow(2,16)-1,i=Math.pow(2,32)-1,o=Math.pow(2,7)-1,l=Math.pow(2,15)-1,a=Math.pow(2,31)-1;e.getPointerArray=function(f){var d=f-1;if(d<=t)return Uint8Array;if(d<=n)return Uint16Array;if(d<=i)return Uint32Array;throw new Error("mnemonist: Pointer Array of size > 4294967295 is not supported.")},e.getSignedPointerArray=function(f){var d=f-1;return d<=o?Int8Array:d<=l?Int16Array:d<=a?Int32Array:Float64Array},e.getNumberType=function(f){return f===(f|0)?Math.sign(f)===-1?f<=127&&f>=-128?Int8Array:f<=32767&&f>=-32768?Int16Array:Int32Array:f<=255?Uint8Array:f<=65535?Uint16Array:Uint32Array:Float64Array};var c={Uint8Array:1,Int8Array:2,Uint16Array:3,Int16Array:4,Uint32Array:5,Int32Array:6,Float32Array:7,Float64Array:8};e.getMinimalRepresentation=function(f,d){var g=null,m=0,_,y,x,k,S;for(k=0,S=f.length;k<S;k++)x=d?d(f[k]):f[k],y=e.getNumberType(x),_=c[y.name],_>m&&(m=_,g=y);return g},e.isTypedArray=function(f){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView(f)},e.concat=function(){var f=0,d,g,m;for(d=0,m=arguments.length;d<m;d++)f+=arguments[d].length;var _=new arguments[0].constructor(f);for(d=0,g=0;d<m;d++)_.set(arguments[d],g),g+=arguments[d].length;return _},e.indices=function(f){for(var d=e.getPointerArray(f),g=new d(f),m=0;m<f;m++)g[m]=m;return g}}(Bh)),Bh}var P0;function yE(){if(P0)return Co;P0=1;var e=Hv(),t=mE();function n(a){return Array.isArray(a)||t.isTypedArray(a)}function i(a){if(typeof a.length=="number")return a.length;if(typeof a.size=="number")return a.size}function o(a){var c=i(a),f=typeof c=="number"?new Array(c):[],d=0;return e(a,function(g){f[d++]=g}),f}function l(a){var c=i(a),f=typeof c=="number"?t.getPointerArray(c):Array,d=typeof c=="number"?new Array(c):[],g=typeof c=="number"?new f(c):[],m=0;return e(a,function(_){d[m]=_,g[m]=m++}),[d,g]}return Co.isArrayLike=n,Co.guessLength=i,Co.toArray=o,Co.toArrayWithIndices=l,Co}var $h,O0;function _E(){if(O0)return $h;O0=1;var e=Hv(),t=gE(),n=yE(),i=t.DEFAULT_COMPARATOR,o=t.reverseComparator;function l(b,w,C,M){for(var P=w[M],N,j;M>C;){if(N=M-1>>1,j=w[N],b(P,j)<0){w[M]=j,M=N;continue}break}w[M]=P}function a(b,w,C){for(var M=w.length,P=C,N=w[C],j=2*C+1,X;j<M;)X=j+1,X<M&&b(w[j],w[X])>=0&&(j=X),w[C]=w[j],C=j,j=2*C+1;w[C]=N,l(b,w,P,C)}function c(b,w,C){w.push(C),l(b,w,0,w.length-1)}function f(b,w){var C=w.pop();if(w.length!==0){var M=w[0];return w[0]=C,a(b,w,0),M}return C}function d(b,w,C){if(w.length===0)throw new Error("mnemonist/heap.replace: cannot pop an empty heap.");var M=w[0];return w[0]=C,a(b,w,0),M}function g(b,w,C){var M;return w.length!==0&&b(w[0],C)<0&&(M=w[0],w[0]=C,C=M,a(b,w,0)),C}function m(b,w){for(var C=w.length,M=C>>1,P=M;--P>=0;)a(b,w,P)}function _(b,w){for(var C=w.length,M=0,P=new Array(C);M<C;)P[M++]=f(b,w);return P}function y(b,w,C){arguments.length===2&&(C=w,w=b,b=i);var M=o(b),P,N,j,X=1/0,z;if(w===1){if(n.isArrayLike(C)){for(P=0,N=C.length;P<N;P++)j=C[P],(X===1/0||b(j,X)<0)&&(X=j);return z=new C.constructor(1),z[0]=X,z}return e(C,function(K){(X===1/0||b(K,X)<0)&&(X=K)}),[X]}if(n.isArrayLike(C)){if(w>=C.length)return C.slice().sort(b);for(z=C.slice(0,w),m(M,z),P=w,N=C.length;P<N;P++)M(C[P],z[0])>0&&d(M,z,C[P]);return z.sort(b)}var W=n.guessLength(C);return W!==null&&W<w&&(w=W),z=new Array(w),P=0,e(C,function(K){P<w?z[P]=K:(P===w&&m(M,z),M(K,z[0])>0&&d(M,z,K)),P++}),z.length>P&&(z.length=P),z.sort(b)}function x(b,w,C){arguments.length===2&&(C=w,w=b,b=i);var M=o(b),P,N,j,X=-1/0,z;if(w===1){if(n.isArrayLike(C)){for(P=0,N=C.length;P<N;P++)j=C[P],(X===-1/0||b(j,X)>0)&&(X=j);return z=new C.constructor(1),z[0]=X,z}return e(C,function(K){(X===-1/0||b(K,X)>0)&&(X=K)}),[X]}if(n.isArrayLike(C)){if(w>=C.length)return C.slice().sort(M);for(z=C.slice(0,w),m(b,z),P=w,N=C.length;P<N;P++)b(C[P],z[0])>0&&d(b,z,C[P]);return z.sort(M)}var W=n.guessLength(C);return W!==null&&W<w&&(w=W),z=new Array(w),P=0,e(C,function(K){P<w?z[P]=K:(P===w&&m(b,z),b(K,z[0])>0&&d(b,z,K)),P++}),z.length>P&&(z.length=P),z.sort(M)}function k(b){if(this.clear(),this.comparator=b||i,typeof this.comparator!="function")throw new Error("mnemonist/Heap.constructor: given comparator should be a function.")}k.prototype.clear=function(){this.items=[],this.size=0},k.prototype.push=function(b){return c(this.comparator,this.items,b),++this.size},k.prototype.peek=function(){return this.items[0]},k.prototype.pop=function(){return this.size!==0&&this.size--,f(this.comparator,this.items)},k.prototype.replace=function(b){return d(this.comparator,this.items,b)},k.prototype.pushpop=function(b){return g(this.comparator,this.items,b)},k.prototype.consume=function(){return this.size=0,_(this.comparator,this.items)},k.prototype.toArray=function(){return _(this.comparator,this.items.slice())},k.prototype.inspect=function(){var b=this.toArray();return Object.defineProperty(b,"constructor",{value:k,enumerable:!1}),b},typeof Symbol<"u"&&(k.prototype[Symbol.for("nodejs.util.inspect.custom")]=k.prototype.inspect);function S(b){if(this.clear(),this.comparator=b||i,typeof this.comparator!="function")throw new Error("mnemonist/MaxHeap.constructor: given comparator should be a function.");this.comparator=o(this.comparator)}return S.prototype=k.prototype,k.from=function(b,w){var C=new k(w),M;return n.isArrayLike(b)?M=b.slice():M=n.toArray(b),m(C.comparator,M),C.items=M,C.size=M.length,C},S.from=function(b,w){var C=new S(w),M;return n.isArrayLike(b)?M=b.slice():M=n.toArray(b),m(C.comparator,M),C.items=M,C.size=M.length,C},k.siftUp=a,k.siftDown=l,k.push=c,k.pop=f,k.replace=d,k.pushpop=g,k.heapify=m,k.consume=_,k.nsmallest=y,k.nlargest=x,k.MinHeap=k,k.MaxHeap=S,$h=k,$h}var Ro=_E();function vE([e,t,n]){return Math.abs((e.x-n.x)*(t.y-e.y)-(e.x-t.x)*(n.y-e.y))}function xE([e,t,n]){const i=Math.abs((n.y-t.y)*e.x-(n.x-t.x)*e.y+n.x*t.y-n.y*t.x),o=Math.sqrt(Math.pow(n.y-t.y,2)+Math.pow(n.x-t.x,2));return i/o}function wE([e,t,n]){const i={x:t.x-e.x,y:t.y-e.y},o={x:n.x-e.x,y:n.y-e.y},l=i.x*o.x+i.y*o.y,a=Math.sqrt(i.x**2+i.y**2),c=Math.sqrt(o.x**2+o.y**2);return Math.acos(l/(a*c))}function*kE(e){for(let t=1;t<e.length-1;t++)yield[e[t-1],e[t],e[t+1]]}const To=(e,t)=>e.weight-t.weight;function bE(e,t,n){const i=t.length;if(i<3||typeof n=="number"&&i<n)return t;if(typeof n=="number"&&n<3)return[t[0],t[i-1]];const o=typeof n=="number"?n:2,l=typeof n=="number"?null:n,a=[],c=new WeakMap,f=new WeakMap;{let m=null;for(const _ of kE(t)){const y={t:_,weight:e(_),dead:!1};m&&(c.set(m,y),f.set(y,m)),m=y,Ro.push(To,a,y)}}let d=i-o;const g=new WeakSet;for(;d>0;){const m=Ro.pop(To,a);if(!m)throw new Error("unexpected heap exhaustion");if(m.dead)continue;if(!isFinite(m.weight)||l&&!l(m.weight))break;g.add(m.t[1]),d-=1;const _=f.get(m),y=c.get(m);let x=null,k=null;if(_){_.dead=!0;const[S,b]=_.t,[,,w]=m.t,C=[S,b,w];x={t:C,weight:e(C),dead:!1};const M=f.get(_);M&&(c.set(M,x),f.set(x,M)),a[0].dead?Ro.replace(To,a,x):Ro.push(To,a,x)}if(y){y.dead=!0;const[,S,b]=y.t,[w]=m.t,C=[w,S,b];k={t:C,weight:e(C),dead:!1};const M=c.get(y);M&&(f.set(M,k),c.set(k,M)),a[0].dead?Ro.replace(To,a,k):Ro.push(To,a,k)}k&&x&&(c.set(x,k),f.set(k,x))}return t.filter(m=>!g.has(m))}function SE(e){return e==="triangle"?vE:e==="distance"?xE:e==="angle"?wE:null}function EE(e,t,n){var i=t.x,o=t.y,l=n.x-i,a=n.y-o;if(l!==0||a!==0){var c=((e.x-i)*l+(e.y-o)*a)/(l*l+a*a);c>1?(i=n.x,o=n.y):c>0&&(i+=l*c,o+=a*c)}return l=e.x-i,a=e.y-o,l*l+a*a}function wd(e,t,n,i,o){let l=i,a=1;for(var c=t+1;c<n;c++){var f=EE(e[c],e[t],e[n]);f>l&&(a=c,l=f)}l>i&&(a-t>1&&wd(e,t,a,i,o),o.push(e[a]),n-a>1&&wd(e,a,n,i,o))}function CE(e,t){var n=e.length-1,i=[e[0]];return wd(e,0,n,t,i),i.push(e[n]),i}function RE(e,t){if(e.length<=2)return e;var n=t!==void 0?t*t:1;return e=CE(e,n),e}var TE={grad:.9,turn:360,rad:360/(2*Math.PI)},fi=function(e){return typeof e=="string"?e.length>0:typeof e=="number"},Ft=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=Math.pow(10,t)),Math.round(n*e)/n+0},ur=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=1),e>n?n:e>t?e:t},Wv=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},L0=function(e){return{r:ur(e.r,0,255),g:ur(e.g,0,255),b:ur(e.b,0,255),a:ur(e.a)}},Uh=function(e){return{r:Ft(e.r),g:Ft(e.g),b:Ft(e.b),a:Ft(e.a,3)}},ME=/^#([0-9a-f]{3,8})$/i,Fu=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},Yv=function(e){var t=e.r,n=e.g,i=e.b,o=e.a,l=Math.max(t,n,i),a=l-Math.min(t,n,i),c=a?l===t?(n-i)/a:l===n?2+(i-t)/a:4+(t-n)/a:0;return{h:60*(c<0?c+6:c),s:l?a/l*100:0,v:l/255*100,a:o}},Xv=function(e){var t=e.h,n=e.s,i=e.v,o=e.a;t=t/360*6,n/=100,i/=100;var l=Math.floor(t),a=i*(1-n),c=i*(1-(t-l)*n),f=i*(1-(1-t+l)*n),d=l%6;return{r:255*[i,c,a,a,f,i][d],g:255*[f,i,i,c,a,a][d],b:255*[a,a,f,i,i,c][d],a:o}},F0=function(e){return{h:Wv(e.h),s:ur(e.s,0,100),l:ur(e.l,0,100),a:ur(e.a)}},N0=function(e){return{h:Ft(e.h),s:Ft(e.s),l:Ft(e.l),a:Ft(e.a,3)}},I0=function(e){return Xv((n=(t=e).s,{h:t.h,s:(n*=((i=t.l)<50?i:100-i)/100)>0?2*n/(i+n)*100:0,v:i+n,a:t.a}));var t,n,i},Yl=function(e){return{h:(t=Yv(e)).h,s:(o=(200-(n=t.s))*(i=t.v)/100)>0&&o<200?n*i/100/(o<=100?o:200-o)*100:0,l:o/2,a:t.a};var t,n,i,o},AE=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,PE=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,OE=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,LE=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,j0={string:[[function(e){var t=ME.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?Ft(parseInt(e[3]+e[3],16)/255,2):1}:e.length===6||e.length===8?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:e.length===8?Ft(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=OE.exec(e)||LE.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:L0({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t=AE.exec(e)||PE.exec(e);if(!t)return null;var n,i,o=F0({h:(n=t[1],i=t[2],i===void 0&&(i="deg"),Number(n)*(TE[i]||1)),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)});return I0(o)},"hsl"]],object:[[function(e){var t=e.r,n=e.g,i=e.b,o=e.a,l=o===void 0?1:o;return fi(t)&&fi(n)&&fi(i)?L0({r:Number(t),g:Number(n),b:Number(i),a:Number(l)}):null},"rgb"],[function(e){var t=e.h,n=e.s,i=e.l,o=e.a,l=o===void 0?1:o;if(!fi(t)||!fi(n)||!fi(i))return null;var a=F0({h:Number(t),s:Number(n),l:Number(i),a:Number(l)});return I0(a)},"hsl"],[function(e){var t=e.h,n=e.s,i=e.v,o=e.a,l=o===void 0?1:o;if(!fi(t)||!fi(n)||!fi(i))return null;var a=function(c){return{h:Wv(c.h),s:ur(c.s,0,100),v:ur(c.v,0,100),a:ur(c.a)}}({h:Number(t),s:Number(n),v:Number(i),a:Number(l)});return Xv(a)},"hsv"]]},D0=function(e,t){for(var n=0;n<t.length;n++){var i=t[n][0](e);if(i)return[i,t[n][1]]}return[null,void 0]},FE=function(e){return typeof e=="string"?D0(e.trim(),j0.string):typeof e=="object"&&e!==null?D0(e,j0.object):[null,void 0]},Vh=function(e,t){var n=Yl(e);return{h:n.h,s:ur(n.s+100*t,0,100),l:n.l,a:n.a}},Hh=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},z0=function(e,t){var n=Yl(e);return{h:n.h,s:n.s,l:ur(n.l+100*t,0,100),a:n.a}},B0=function(){function e(t){this.parsed=FE(t)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return this.parsed!==null},e.prototype.brightness=function(){return Ft(Hh(this.rgba),2)},e.prototype.isDark=function(){return Hh(this.rgba)<.5},e.prototype.isLight=function(){return Hh(this.rgba)>=.5},e.prototype.toHex=function(){return t=Uh(this.rgba),n=t.r,i=t.g,o=t.b,a=(l=t.a)<1?Fu(Ft(255*l)):"","#"+Fu(n)+Fu(i)+Fu(o)+a;var t,n,i,o,l,a},e.prototype.toRgb=function(){return Uh(this.rgba)},e.prototype.toRgbString=function(){return t=Uh(this.rgba),n=t.r,i=t.g,o=t.b,(l=t.a)<1?"rgba("+n+", "+i+", "+o+", "+l+")":"rgb("+n+", "+i+", "+o+")";var t,n,i,o,l},e.prototype.toHsl=function(){return N0(Yl(this.rgba))},e.prototype.toHslString=function(){return t=N0(Yl(this.rgba)),n=t.h,i=t.s,o=t.l,(l=t.a)<1?"hsla("+n+", "+i+"%, "+o+"%, "+l+")":"hsl("+n+", "+i+"%, "+o+"%)";var t,n,i,o,l},e.prototype.toHsv=function(){return t=Yv(this.rgba),{h:Ft(t.h),s:Ft(t.s),v:Ft(t.v),a:Ft(t.a,3)};var t},e.prototype.invert=function(){return it({r:255-(t=this.rgba).r,g:255-t.g,b:255-t.b,a:t.a});var t},e.prototype.saturate=function(t){return t===void 0&&(t=.1),it(Vh(this.rgba,t))},e.prototype.desaturate=function(t){return t===void 0&&(t=.1),it(Vh(this.rgba,-t))},e.prototype.grayscale=function(){return it(Vh(this.rgba,-1))},e.prototype.lighten=function(t){return t===void 0&&(t=.1),it(z0(this.rgba,t))},e.prototype.darken=function(t){return t===void 0&&(t=.1),it(z0(this.rgba,-t))},e.prototype.rotate=function(t){return t===void 0&&(t=15),this.hue(this.hue()+t)},e.prototype.alpha=function(t){return typeof t=="number"?it({r:(n=this.rgba).r,g:n.g,b:n.b,a:t}):Ft(this.rgba.a,3);var n},e.prototype.hue=function(t){var n=Yl(this.rgba);return typeof t=="number"?it({h:t,s:n.s,l:n.l,a:n.a}):Ft(n.h)},e.prototype.isEqual=function(t){return this.toHex()===it(t).toHex()},e}(),it=function(e){return e instanceof B0?e:new B0(e)};const Yr=Rr()(e=>({undoStack:[],redoStack:[],push:t=>e(n=>({undoStack:[...n.undoStack,t],redoStack:[]})),clear:()=>e({undoStack:[],redoStack:[]})})),Mn=Rr()(e=>({selected:[],origin:new Ae,origins:[],highlighted:void 0,isMoving:!1,outlines:{origin:new Ae},originTranslations:{shape:new Ae,border:new Ae},setIsMoving:t=>e(n=>({...n,isMoving:t})),setOrigins:t=>e(n=>({...n,origins:t})),setHighlight:(t,n)=>e(i=>NE(i,t,n)),clearHighlight:()=>e(t=>IE(t)),clearSelected:()=>e(t=>zE(t)),addHighlightToSelection:t=>e(n=>jE(n,t))}));function NE(e,t,n){const i=e.outlines;return e.highlighted=t,i.highlight||(i.highlight=Kv(0,0,0,0)),i.highlight.translation.x=n.x,i.highlight.translation.y=n.y,i.highlight.width=n.width,i.highlight.height=n.height,i.highlight.visible=!0,e}function IE(e){const t=e.outlines;return e.highlighted=void 0,t.highlight&&(t.highlight.remove(),t.highlight=void 0),e}function jE(e,t){const n=e.outlines,i=e.highlighted;if(n.selected||(n.selected=Kv(0,0,0,0)),!i)return t?{...e}:(n.selected.remove(),n.selected=void 0,{...e,selected:[]});let o=[...e.selected];const l=e.selected.find(a=>a.id===(i==null?void 0:i.id));return t&&l?o=o.filter(a=>a.id!==i.id):t&&!l?o.push(i):!t&&!l&&(o=[i]),DE(o,n.selected),{...e,selected:o}}function DE(e,t){const n=$e(),i=e.map(m=>m.getBoundingClientRect()),o=Math.min(...i.map(m=>m.left)),l=Math.min(...i.map(m=>m.top)),a=Math.max(...i.map(m=>m.right)),c=Math.max(...i.map(m=>m.bottom)),f=a-o,d=c-l,g=n.zui.clientToSurface({x:o+f/2,y:l+d/2});t.translation.x=g.x,t.translation.y=g.y,t.width=f/n.zui.scale,t.height=d/n.zui.scale,t.visible=!0}function zE(e){return e.outlines.selected&&(e.outlines.selected.remove(),e.outlines.selected=void 0),{...e,selected:[]}}function $0(){const{setToolOption:e}=Ke.getState(),{setIsMoving:t,setOrigins:n,outlines:i}=Mn.getState(),o=Mn.getState().selected;t(!0),e("moving");const l=o.map(a=>a.translation.clone());i.selected&&i.origin.set(i.selected.translation.x,i.selected.translation.y),i.highlight&&(i.highlight.remove(),i.highlight=void 0),n(l)}function BE(e){const t=$e(),{origin:n,addHighlightToSelection:i,clearSelected:o,outlines:l}=Mn.getState(),a=Vo(e),c=qr(e);n.set(a.x,a.y);let f=!1;if(l.highlight&&l.highlight.visible){const g=l.highlight.getBoundingClientRect();f=C0(c,g)}if(f&&(i(e.shiftKey),Mn.getState().selected.length)){$0(),t.throttledTwoUpdate();return}let d=!1;if(l.selected&&l.selected.visible){const g=l.selected.getBoundingClientRect();d=C0(c,g)}if(d){$0(),t.throttledTwoUpdate();return}e.shiftKey||o(),t.throttledTwoUpdate()}function $E(e){const{isMoving:t}=Mn.getState();t?VE(e):qv(e)}function UE(e){const{isMoving:t,setIsMoving:n,selected:i,origins:o}=Mn.getState(),{setToolOption:l}=Ke.getState(),a=$e();if(t&&i.length&&o.length===i.length)for(let c=0;c<i.length;c++){const f=i[c],d=o[c];Mc({type:"update",label:"Move shape",shapeId:f.id,changes:[{field:"translation.x",oldValue:d.x,newValue:f.translation.x},{field:"translation.y",oldValue:d.y,newValue:f.translation.y}]})}n(!1),l(""),a.throttledTwoUpdate()}function Kv(e,t,n,i){const o=$e(),l=o.two.makeRectangle(e,t,n,i);return l.stroke="#0ea5cf",l.noFill(),l.linewidth=1.5/o.zui.scale,l.scale=1.01,l.isHighlight=!0,o.canvas.add(l),l}function VE(e){const t=$e(),{outlines:n,origins:i,origin:o,selected:l}=Mn.getState(),a=Vo(e);if(l.length===i.length){var c=a.x-o.x,f=a.y-o.y;for(let d=0;d<l.length;++d){const g=l[d],m=i[d];g.translation.x=m.x+c,g.translation.y=m.y+f}n.selected&&(n.selected.translation.x=n.origin.x+c,n.selected.translation.y=n.origin.y+f),t.throttledTwoUpdate()}}function qv(e){const t=$e(),{doodles:n}=tn.getState(),{highlighted:i,setHighlight:o,clearHighlight:l}=Mn.getState(),a=qr(e);for(const c of n){const f=c.shape;if(!f.getBoundingClientRect)continue;const d=f.getBoundingClientRect(!1);if(!Zd(a.x,a.y,d.left,d.top,d.right,d.bottom)||f.isHighlight)continue;if(i===f)return;const m=t.zui.clientToSurface({x:d.left+d.width/2,y:d.top+d.height/2}),_={x:m.x,y:m.y,width:d.width/t.zui.scale,height:d.height/t.zui.scale};o(f,_),t.throttledTwoUpdate();return}l(),t.throttledTwoUpdate()}function ep(e){const{doodles:t}=tn.getState();return t.find(n=>n.shape.id===e)}function Gv(){const{clearSelected:e,clearHighlight:t}=Mn.getState();e(),t()}function Qv(e,t,n){const i=t.split(".");i.length===2?e[i[0]][i[1]]=n:e[t]=n}function Zv(e){const t=$e(),{doodles:n,setDoodles:i}=tn.getState();i([...n,e]),t.canvas.add(e.shape)}function Jv(e){const t=$e(),n=ep(e);if(!n)return;const{doodles:i,setDoodles:o}=tn.getState();o(i.filter(l=>l.shape.id!==e)),t.canvas.remove(n.shape)}function HE(e){switch(e.type){case"create":{const t=Qd(e.doodle);Zv(t);break}case"remove":{Jv(e.doodle.id);break}case"update":{const t=ep(e.shapeId);if(!t)return;for(const n of e.changes)Qv(t.shape,n.field,n.newValue);break}}}function WE(e){switch(e.type){case"create":{Jv(e.doodle.id);break}case"remove":{const t=Qd(e.doodle);Zv(t);break}case"update":{const t=ep(e.shapeId);if(!t)return;for(const n of e.changes)Qv(t.shape,n.field,n.oldValue);break}}}function Mc(e){Yr.getState().push(e)}function tp(){const{undoStack:e}=Yr.getState();if(e.length===0)return;const t=e[e.length-1];Yr.setState(n=>({undoStack:n.undoStack.slice(0,-1),redoStack:[...n.redoStack,t]})),Gv(),WE(t),$e().throttledTwoUpdate()}function np(){const{redoStack:e}=Yr.getState();if(e.length===0)return;const t=e[e.length-1];Yr.setState(n=>({redoStack:n.redoStack.slice(0,-1),undoStack:[...n.undoStack,t]})),Gv(),HE(t),$e().throttledTwoUpdate()}function Fs(e,t){Mc({type:"create",label:e,doodle:Gd(t)})}function YE(e,t){Mc({type:"remove",label:e,doodle:Gd(t)})}const gi=Rr()(uc(e=>({strokeWidth:5,tolerance:30,stabilizer:1,strokeColor:{r:33,g:33,b:33,a:1},simplifyAlgo:"triangle",setStrokeColor:t=>e(()=>({strokeColor:t})),setStrokeWidth:t=>e(()=>({strokeWidth:t})),setTolerance:t=>e(()=>({tolerance:t})),setStabilizer:t=>e(()=>({stabilizer:t})),setSimplifyAlgo:t=>e(()=>({simplifyAlgo:t}))}),{name:"brush-tool",version:1}));let kd=new Ae,As,ut;function XE(e){const t=$e(),{strokeWidth:n,strokeColor:i}=gi.getState(),o=it(i).toRgbString(),l=t.zui.clientToSurface(qr(e));kd.set(l.x,l.y),ut=void 0,(i==null?void 0:i.a)===1&&(As=t.two.makeCircle(l.x,l.y,n/2),As.fill=o,As.noStroke(),t.canvas.add(As)),t.throttledTwoUpdate()}function KE(e){const t=$e(),{strokeColor:n,strokeWidth:i,stabilizer:o}=gi.getState(),l=it(n).toRgbString(),a=Vo(e,t.zui);if(ut){let c=!1;if(ut.vertices.length){const f=ut.vertices[ut.vertices.length-1];xe.Vector.distanceBetween(f,a)<o&&(c=!0)}c||ut.vertices.push(Bu(a))}else{ut=t.two.makeCurve([Bu(kd),Bu(a)],!0),ut.cap="round",ut.noFill().stroke=l,ut.linewidth=i;for(const c of ut.vertices)c.addSelf(ut.position);ut.position.clear(),t.addDoodle({shape:ut,type:"brush"})}kd.set(a.x,a.y),t.throttledTwoUpdate()}function qE(e){const t=$e(),{tolerance:n,simplifyAlgo:i}=gi.getState();if(!ut)return;As&&(t.canvas.remove(As),As=void 0);const o=t.zui.clientToSurface(qr(e));if(ut.vertices.push(Bu(o)),GE(ut),n!==0)if(i==="douglas"){const l=n/100,a=RE(ut.vertices,l);ut.vertices=a}else{const l=Math.floor((100-n)*ut.vertices.length/100),a=bE(SE(i),ut.vertices,l);ut.vertices=a}t.throttledTwoUpdate(),Fs("Draw brush stroke",{shape:ut,type:"brush"})}function GE(e){const t=e.vertices[0].clone();e.translation.add(t);for(const n of e.vertices)n.subSelf(t)}function Bu({x:e,y:t}){var n=new xe.Anchor(e,t);return n}const Nu="http://www.w3.org/2000/svg";let Hn=null,kr=null,ar=null,Ki=null,rp=20;function QE(e,t){rp=t,Ki=document.createElementNS(Nu,"defs"),Hn=document.createElementNS(Nu,"pattern"),Hn.setAttribute("id","dot-grid-pattern"),Hn.setAttribute("patternUnits","userSpaceOnUse"),Hn.setAttribute("width",String(t)),Hn.setAttribute("height",String(t)),kr=document.createElementNS(Nu,"circle"),kr.setAttribute("cx",String(t/2)),kr.setAttribute("cy",String(t/2)),kr.setAttribute("r","1"),kr.setAttribute("fill","rgba(0,0,0,0.15)"),Hn.appendChild(kr),Ki.appendChild(Hn),ar=document.createElementNS(Nu,"rect"),ar.setAttribute("id","dot-grid-rect"),ar.setAttribute("width","100%"),ar.setAttribute("height","100%"),ar.setAttribute("fill","url(#dot-grid-pattern)"),e.insertBefore(Ki,e.firstChild),e.insertBefore(ar,Ki.nextSibling)}function ip(e){if(!Hn||!kr)return;const t=e.elements[0],n=e.elements[2],i=e.elements[5],o=rp*t;Hn.setAttribute("x",String(n%o)),Hn.setAttribute("y",String(i%o)),Hn.setAttribute("width",String(o)),Hn.setAttribute("height",String(o)),kr.setAttribute("cx",String(o/2)),kr.setAttribute("cy",String(o/2)),kr.setAttribute("r",String(Math.min(Math.max(t,.5),2)))}function e1(e){ar&&ar.setAttribute("display",e?"block":"none")}function ZE(e){rp=e}function JE(){Ki==null||Ki.remove(),ar==null||ar.remove(),Hn=null,kr=null,ar=null,Ki=null}let $u=new xe.Vector;function U0(e){$u.set(e.clientX,e.clientY)}function e3(e){var t=e.clientX-$u.x,n=e.clientY-$u.y;$u.set(e.clientX,e.clientY),t1(t,n)}function t1(e,t){const n=$e();n.zui.translateSurface(e,t),ip(n.zui.surfaceMatrix),n.throttledTwoUpdate()}function n1(e){const t=$e(),{doodles:n}=tn.getState(),{clearHighlight:i}=Mn.getState(),o=qr(e);for(const l of n){const a=l.shape.getBoundingClientRect(!1);if(Zd(o.x,o.y,a.left,a.top,a.right,a.bottom)){YE("Delete shape",l),t.removeDoodle(l),i(),t.throttledTwoUpdate();return}}}const Xi=Rr()(e=>({shape:void 0,origin:new Ae,strokeWidth:2,radius:0,strokeColor:{r:0,g:0,b:0,a:1},fillColor:{r:255,g:255,b:255,a:1},setShape:t=>e(()=>({shape:t})),setStrokeColor:t=>e(()=>({strokeColor:t})),setFillColor:t=>e(()=>({fillColor:t})),setStrokeWidth:t=>e(()=>({strokeWidth:t})),setRadius:t=>e(()=>({radius:t}))}));function t3(e){const t=$e(),{setShape:n,origin:i,fillColor:o,strokeColor:l,strokeWidth:a,radius:c}=Xi.getState(),f=t.zui.clientToSurface(qr(e));i.set(f.x,f.y);const d=t.two.makeRoundedRectangle(f.x,f.y,1,1,c);d.stroke=it(l).toRgbString(),d.fill=it(o).toRgbString(),a?d.linewidth=a:d.noStroke(),t.addDoodle({shape:d,type:"rect"}),n(d),t.throttledTwoUpdate()}function n3(e){const t=$e(),{shape:n,origin:i}=Xi.getState(),o=Vo(e,t.zui);if(n){const l=n.width,a=n.height;n.width=o.x-i.x,n.height=o.y-i.y;const c={x:(n.width-l)/2,y:(n.height-a)/2};n.position.x+=c.x,n.position.y+=c.y,t.throttledTwoUpdate()}}function r3(){const{shape:e,setShape:t}=Xi.getState();e&&Fs("Draw rectangle",{shape:e,type:"rect"}),t(void 0)}const qi=Rr()(uc(e=>({line:void 0,arrowHead:void 0,arrowTail:void 0,origin:new Ae,strokeWidth:3,strokeColor:{r:33,g:33,b:33,a:1},hasArrow:!1,doubleArrow:!1,setLine:t=>e(()=>({line:t})),setArrowHead:t=>e(()=>({arrowHead:t})),setArrowTail:t=>e(()=>({arrowTail:t})),setStrokeWidth:t=>e(()=>({strokeWidth:t})),setStrokeColor:t=>e(()=>({strokeColor:t})),setHasArrow:t=>e(()=>({hasArrow:t})),setDoubleArrow:t=>e(()=>({doubleArrow:t}))}),{name:"line-tool",version:1,partialize:e=>({strokeWidth:e.strokeWidth,strokeColor:e.strokeColor})}));function i3(e){const t=$e(),{setLine:n,setArrowHead:i,setArrowTail:o,origin:l,strokeColor:a,strokeWidth:c,hasArrow:f,doubleArrow:d}=qi.getState(),g=t.zui.clientToSurface(qr(e));l.set(g.x,g.y);const m=it(a).toRgbString(),_=new xe.Anchor(g.x,g.y),y=new xe.Anchor(g.x,g.y),x=new nn([_,y],!1,!1);x.cap="round",x.noFill().stroke=m,x.linewidth=c;const k=f?"arrow":"line";if(t.addDoodle({shape:x,type:k}),n(x),f){const S=V0(g,g,c,m);if(t.addDoodle({shape:S,type:"arrow"}),i(S),d){const b=V0(g,g,c,m);t.addDoodle({shape:b,type:"arrow"}),o(b)}}t.throttledTwoUpdate()}function s3(e){const t=$e(),{line:n,arrowHead:i,arrowTail:o,hasArrow:l,strokeWidth:a}=qi.getState();if(!n)return;const c=Vo(e,t.zui),f=n.vertices[0],d=n.vertices[1];d.x=c.x,d.y=c.y,l&&i&&H0(i,f,c,a),l&&o&&H0(o,c,f,a),t.throttledTwoUpdate()}function o3(){const{line:e,arrowHead:t,arrowTail:n,hasArrow:i,setLine:o,setArrowHead:l,setArrowTail:a}=qi.getState();e&&Fs(i?"Draw arrow":"Draw line",{shape:e,type:i?"arrow":"line"}),i&&t&&Fs("Draw arrowhead",{shape:t,type:"arrow"}),i&&n&&Fs("Draw arrowhead",{shape:n,type:"arrow"}),o(void 0),l(void 0),a(void 0)}function V0(e,t,n,i){const o=Math.max(n*3,10),l=Math.atan2(t.y-e.y,t.x-e.x),a=new xe.Anchor(t.x,t.y),c=new xe.Anchor(t.x-o*Math.cos(l-Math.PI/6),t.y-o*Math.sin(l-Math.PI/6)),f=new xe.Anchor(t.x-o*Math.cos(l+Math.PI/6),t.y-o*Math.sin(l+Math.PI/6)),d=new nn([a,c,f],!1,!1);return d.closed=!0,d.fill=i,d.noStroke(),d}function H0(e,t,n,i){const o=Math.max(i*3,10),l=Math.atan2(n.y-t.y,n.x-t.x),a=e.vertices[0],c=e.vertices[1],f=e.vertices[2];a.x=n.x,a.y=n.y,c.x=n.x-o*Math.cos(l-Math.PI/6),c.y=n.y-o*Math.sin(l-Math.PI/6),f.x=n.x-o*Math.cos(l+Math.PI/6),f.y=n.y-o*Math.sin(l+Math.PI/6)}const Ul=Rr()(uc(e=>({fontSize:24,fontFamily:"sans-serif",fillColor:{r:33,g:33,b:33,a:1},alignment:"left",setFontSize:t=>e(()=>({fontSize:t})),setFontFamily:t=>e(()=>({fontFamily:t})),setFillColor:t=>e(()=>({fillColor:t})),setAlignment:t=>e(()=>({alignment:t}))}),{name:"text-tool",version:1}));let Wh;function l3(e){if(Wh)return;e.preventDefault();const t=$e(),{fontSize:n,fontFamily:i,fillColor:o,alignment:l}=Ul.getState(),a=t.zui.clientToSurface(qr(e)),c=t.zui.scale,f=it(o).toRgbString(),d=document.createElement("div");d.contentEditable="true",d.style.position="fixed",d.style.left=`${e.clientX}px`,d.style.top=`${e.clientY}px`,d.style.fontSize=`${n*c}px`,d.style.fontFamily=i,d.style.color=f,d.style.textAlign=l,d.style.background="transparent",d.style.border="1px dashed #0ea5cf",d.style.outline="none",d.style.minWidth="60px",d.style.minHeight=`${n*c+8}px`,d.style.lineHeight="1.2",d.style.zIndex="10000",d.style.whiteSpace="pre-wrap",d.style.cursor="text",Wh=d,document.body.appendChild(d),d.addEventListener("mousedown",_=>_.stopPropagation()),requestAnimationFrame(()=>d.focus());function g(){const _=(d.innerText||"").trim();if(_){const y=new oc(_,a.x,a.y+n/2);y.fill=f,y.noStroke(),y.family=i,y.size=n,y.alignment=l,t.addDoodle({shape:y,type:"text"}),Fs("Add text",{shape:y,type:"text"}),t.throttledTwoUpdate()}m()}function m(){d.parentNode&&d.parentNode.removeChild(d),Wh=void 0}d.addEventListener("blur",()=>{g()}),d.addEventListener("keydown",_=>{_.key==="Enter"&&!_.shiftKey&&(_.preventDefault(),d.blur()),_.key==="Escape"&&(_.preventDefault(),m()),_.stopPropagation()})}const Ac=Rr()(e=>({zoom:100,setZoom:t=>e(n=>({...n,zoom:t})),initialDistance:void 0,setInitialDistance:t=>e(n=>({...n,initialDistance:t}))}));function bd(e,t){const n=$e(),{setZoom:i}=Ac.getState();var o=t/100;n.zui.zoomBy(o,e.clientX,e.clientY),i(Math.floor(n.zui.scale*100));const{outlines:l}=Mn.getState();for(const a of Object.values(l))a&&(a.linewidth=1.5/n.zui.scale);ip(n.zui.surfaceMatrix),n.throttledTwoUpdate()}function a3(){const e=$e(),{setZoom:t}=Ac.getState();e.zui.reset(),e.zui.translateSurface(0,0),t(100),ip(e.zui.surfaceMatrix),e.two.update(),e.throttledTwoUpdate()}const Yh=Math.cos,Xh=Math.sin,di=class di extends nn{constructor(n,i,o,l){const a=l?Math.max(l,2):4,c=[];for(let f=0;f<a;f++)c.push(new cn(0,0,0,0,0,0));super(c,!0,!0,!0);B(this,"_flagRadius",!1);B(this,"_radius",0);this._renderer.type="circle";for(let f in W0)Object.defineProperty(this,f,W0[f]);typeof o=="number"&&(this.radius=o),this._update(),typeof n=="number"&&(this.translation.x=n),typeof i=="number"&&(this.translation.y=i)}static fromObject(n){const i=new di().copy(n);return"id"in n&&(i.id=n.id),i}copy(n){super.copy.call(this,n);for(let i=0;i<di.Properties.length;i++){const o=di.Properties[i];o in n&&typeof n[o]=="number"&&(this[o]=n[o])}return this}_update(){if(this._flagVertices||this._flagRadius){let n=this.vertices.length;!this._closed&&n>2&&(n-=1);const i=4/3*Math.tan(Math.PI/(n*2)),o=this._radius,l=o*i;for(let a=0;a<this.vertices.length;a++){const f=a/n*SS,d=o*Yh(f),g=o*Xh(f),m=l*Yh(f-Oo),_=l*Xh(f-Oo),y=l*Yh(f+Oo),x=l*Xh(f+Oo),k=this.vertices[a];k.command=a===0?Ge.move:Ge.curve,k.set(d,g),k.controls.left.set(m,_),k.controls.right.set(y,x)}}return super._update.call(this),this}flagReset(){return this._flagRadius=!1,super.flagReset.call(this),this}clone(n){const i=new di(0,0,this.radius,this.vertices.length);i.translation.copy(this.translation),i.rotation=this.rotation,i.scale=this.scale,i.skewX=this.skewX,i.skewY=this.skewY,this.matrix.manual&&i.matrix.copy(this.matrix);for(let o=0;o<nn.Properties.length;o++){const l=nn.Properties[o];i[l]=this[l]}return n&&n.add(i),i}toObject(){const n=super.toObject.call(this);n.renderer.type="circle";for(let i=0;i<di.Properties.length;i++){const o=di.Properties[i];n[o]=this[o]}return n}};B(di,"Properties",["radius"]);let Sd=di;const W0={radius:{enumerable:!0,get:function(){return this._radius},set:function(e){this._radius=e,this._flagRadius=!0}}},Rn=Rr()(e=>({path:void 0,preview:void 0,handleLine:void 0,anchorDots:[],currentAnchor:void 0,isDragging:!1,fillColor:{r:255,g:255,b:255,a:1},strokeWidth:3,strokeColor:{r:33,g:33,b:33,a:1},setPath:t=>e(()=>({path:t})),setFillColor:t=>e(()=>({fillColor:t})),setStrokeWidth:t=>e(()=>({strokeWidth:t})),setStrokeColor:t=>e(()=>({strokeColor:t}))}));let Y0=!1;function u3(){Y0||(Y0=!0,Ke.subscribe((e,t)=>{t.selectedTool==="bezier"&&e.selectedTool!=="bezier"&&sp()}))}const c3=15,f3=4;function X0(e,t){const n=new Sd(e,t,f3);return n.fill=xd,n.noStroke(),n}function h3(e,t){const n=e.x-t.x,i=e.y-t.y;return Math.sqrt(n*n+i*i)}function d3(e){u3();const t=$e(),n=Rn.getState(),i=t.zui.clientToSurface(qr(e));if(n.path&&n.path.vertices.length>=3){const c=n.path.vertices[0];if(h3(i,c)<c3){n.path.closed=!0,sp();return}}const{strokeColor:o,strokeWidth:l}=n,a=it(o).toRgbString();if(n.path){const c=new xe.Anchor(i.x,i.y,0,0,0,0,"C");n.path.vertices.push(c);const f=X0(i.x,i.y);t.canvas.add(f),Rn.setState({anchorDots:[...n.anchorDots,f],currentAnchor:c,isDragging:!0})}else{const c=new xe.Anchor(i.x,i.y,0,0,0,0,"M"),f=new nn([c],!1,!1,!0);f.cap="round",f.join="round",f.noFill().stroke=a,f.linewidth=l,t.canvas.add(f);const d=new nn([new xe.Anchor(i.x,i.y),new xe.Anchor(i.x,i.y)],!1,!1);d.noFill().stroke=xd,d.linewidth=1,t.canvas.add(d);const g=new nn([new xe.Anchor(i.x,i.y),new xe.Anchor(i.x,i.y),new xe.Anchor(i.x,i.y)],!1,!1);g.noFill().stroke=xd,g.linewidth=1,t.canvas.add(g);const m=X0(i.x,i.y);t.canvas.add(m),Rn.setState({path:f,preview:d,handleLine:g,anchorDots:[m],currentAnchor:c,isDragging:!0})}t.throttledTwoUpdate()}function p3(e){const t=Rn.getState();if(!t.path)return;const n=$e(),i=n.zui.clientToSurface(qr(e));if(t.isDragging&&t.currentAnchor){const o=t.currentAnchor.x,l=t.currentAnchor.y,a=i.x-o,c=i.y-l;if(t.currentAnchor.controls.right.x=a,t.currentAnchor.controls.right.y=c,t.currentAnchor.controls.left.x=-a,t.currentAnchor.controls.left.y=-c,t.handleLine){const f=t.handleLine.vertices;f[0].x=o-a,f[0].y=l-c,f[1].x=o,f[1].y=l,f[2].x=i.x,f[2].y=i.y}}else{const o=t.path.vertices[t.path.vertices.length-1];t.preview&&o&&(t.preview.vertices[0].x=o.x,t.preview.vertices[0].y=o.y,t.preview.vertices[1].x=i.x,t.preview.vertices[1].y=i.y)}n.throttledTwoUpdate()}function g3(){const e=Rn.getState();if(!e.path)return;if(e.handleLine&&e.currentAnchor){const n=e.currentAnchor.x,i=e.currentAnchor.y,o=e.handleLine.vertices;o[0].x=n,o[0].y=i,o[1].x=n,o[1].y=i,o[2].x=n,o[2].y=i}Rn.setState({isDragging:!1}),$e().throttledTwoUpdate()}function sp(){const e=Rn.getState(),t=$e();e.path&&e.path.vertices.length>=2?(e.path.closed&&(e.path.fill=it(e.fillColor).toRgbString()),t.canvas.remove(e.path),t.addDoodle({shape:e.path,type:"bezier"}),Fs("Draw bezier curve",{shape:e.path,type:"bezier"})):e.path&&t.canvas.remove(e.path),e.preview&&t.canvas.remove(e.preview),e.handleLine&&t.canvas.remove(e.handleLine);for(const n of e.anchorDots)t.canvas.remove(n);Rn.setState({path:void 0,preview:void 0,handleLine:void 0,anchorDots:[],currentAnchor:void 0,isDragging:!1}),t.throttledTwoUpdate()}function m3(){const e=Rn.getState(),t=$e();e.path&&t.canvas.remove(e.path),e.preview&&t.canvas.remove(e.preview),e.handleLine&&t.canvas.remove(e.handleLine);for(const n of e.anchorDots)t.canvas.remove(n);Rn.setState({path:void 0,preview:void 0,handleLine:void 0,anchorDots:[],currentAnchor:void 0,isDragging:!1}),t.throttledTwoUpdate()}function r1(e){const{selectedTool:t,setActiveTool:n,setRestoreTool:i,setSelectedTool:o}=Ke.getState();if(e.button===Vv.Middle){i(t),n("hand"),o("hand"),U0(e);return}if(n(t||"hand"),t==="hand"){U0(e);return}if(t==="pointer"){BE(e);return}if(t==="eraser"){n1(e);return}if(t==="brush"){XE(e);return}if(t==="bezier"){d3(e);return}if(t==="square"){t3(e);return}if(t==="line"||t==="arrow"){qi.getState().setHasArrow(t==="arrow"),i3(e);return}if(t==="text"){l3(e);return}if(t==="zoom"){e.shiftKey?bd(e,-30):bd(e,30);return}}const y3=uv(e=>{var o;if(!((o=tn.getState().doodler)!=null&&o.two)||!e.currentTarget)return;const t=$e(),n=Vo(e,t==null?void 0:t.zui),{setCursor:i}=tn.getState();i(n)},16);function i1(e){const{activeTool:t,selectedTool:n}=Ke.getState();if(y3(e),n==="eraser"&&t!=="eraser"&&qv(e),n==="pointer"){$E(e);return}if(n==="bezier"){p3(e);return}if(t==="hand"){e3(e);return}if(t==="eraser"){n1(e);return}if(t==="brush"){KE(e);return}if(t==="square"){n3(e);return}if(t==="line"||t==="arrow"){s3(e);return}}function s1(e){const{activeTool:t,setActiveTool:n,restoreTool:i,setRestoreTool:o,setSelectedTool:l}=Ke.getState();if(t){if(i&&(l(i),o(void 0)),(t==="hand"||t==="eraser")&&n(void 0),t==="pointer"){UE(),n(void 0);return}if(t==="brush"){qE(e),n(void 0);return}if(t==="bezier"){g3(),n(void 0);return}if(t==="square"){r3(),n(void 0);return}if(t==="line"||t==="arrow"){o3(),n(void 0);return}}}function _3(e){const{setCursor:t}=tn.getState();Ke.getState(),t(void 0)}function v3(e){}function x3(e){e.preventDefault(),e.ctrlKey||e.metaKey||e.altKey?bd(e,-e.deltaY):t1(-e.deltaX,-e.deltaY)}function w3(e){e.touches.length===1&&r1(Jd(e))}function k3(e){e.touches.length===1&&i1(Jd(e))}function b3(e){s1(Jd(e))}function S3(){const{container:e}=tn.getState(),t=$e();!t.two||!e||((e.clientWidth!==t.two.width||e.clientHeight!==t.two.height)&&(t.two.width=e.clientWidth,t.two.height=e.clientHeight),t==null||t.throttledTwoUpdate())}function E3(e){const t=e.target;if(t.tagName==="INPUT"||t.tagName==="TEXTAREA")return;const{selectedTool:n}=Ke.getState();if(n==="bezier"){if(e.key==="Enter"){e.preventDefault(),sp();return}if(e.key==="Escape"){e.preventDefault(),m3();return}}if((e.ctrlKey||e.metaKey)&&e.shiftKey&&(e.key==="Z"||e.key==="z")){e.preventDefault(),np();return}if((e.ctrlKey||e.metaKey)&&e.key==="z"){e.preventDefault(),tp();return}}function C3(){}const Vn={doMouseWheel:x3,doMouseDown:r1,doMouseMove:i1,doMouseUp:s1,doMouseOut:_3,doMouseOver:v3,doTouchStart:w3,doTouchMove:k3,doTouchEnd:b3,doWindowResize:S3,doUpdate:C3,doKeyDown:E3};class K0{constructor(t){this.object=t}limits(t,n){const i=typeof t<"u",o=typeof n<"u";return!o&&!i?{min:this.min,max:this.max}:(this.min=i?t:this.min,this.max=o?n:this.max,this)}apply(t,n,i){return this.object.translation.set(t,n),this.object.scale=i,this}}const wr=class wr{constructor(t,n){this.limits={scale:wr.Limit.clone(),x:wr.Limit.clone(),y:wr.Limit.clone()},this.viewport=n||document.body,this.viewportOffset={top:0,left:0,matrix:new Bs},this.surfaceMatrix=new Bs,this.surfaces=[],this.reset(),this.updateSurface(),this.add(new K0(t))}static Clamp(t,n,i){return Math.min(Math.max(t,n),i)}static TranslateMatrix(t,n,i){return t.elements[2]+=n,t.elements[5]+=i,t}static PositionToScale(t){return Math.exp(t)}static ScaleToPosition(t){return Math.log(t)}add(t){this.surfaces.push(t);const n=t.limits();return this.addLimits(n.min,n.max),this}addLimits(t,n){return typeof t<"u"&&(this.limits.scale.min?this.limits.scale.min=Math.max(t,this.limits.scale.min):this.limits.scale.min=t),typeof n>"u"?this:(this.limits.scale.max?this.limits.scale.max=Math.min(n,this.limits.scale.max):this.limits.scale.max=n,this)}clientToSurface(t,n,i){this.updateOffset();const o=this.surfaceMatrix.inverse();let l,a,c;if(arguments.length===1){const g=t;l=typeof g.x=="number"?g.x:0,a=typeof g.y=="number"?g.y:0,c=typeof g.z=="number"?g.z:1}else l=typeof t=="number"?t:0,a=typeof n=="number"?n:0,c=typeof i=="number"?i:1;const f=this.viewportOffset.matrix.inverse().multiply(l,a,c),d=o.multiply(f[0],f[1],f[2]);return{x:d[0],y:d[1],z:d[2]}}surfaceToClient(t,n,i){this.updateOffset();const o=this.viewportOffset.matrix.clone();let l,a,c;if(arguments.length===1){const g=t;l=typeof g.x=="number"?g.x:0,a=typeof g.y=="number"?g.y:0,c=typeof g.z=="number"?g.z:1}else l=typeof t=="number"?t:0,a=typeof n=="number"?n:0,c=typeof i=="number"?i:1;const f=this.surfaceMatrix.multiply(l,a,c),d=o.multiply(f[0],f[1],f[2]);return{x:d[0],y:d[1],z:d[2]}}zoomBy(t,n,i){const o=wr.PositionToScale(this.zoom+t);return this.zoomSet(o,n,i),this}zoomSet(t,n,i){const o=this.fitToLimits(t);if(this.zoom=wr.ScaleToPosition(o),o===this.scale)return this;const l=this.clientToSurface(n,i),a=o/this.scale;this.surfaceMatrix.scale(a),this.scale=o;const c=this.surfaceToClient(l),f=n-c.x,d=i-c.y;return this.translateSurface(f,d),this}translateSurface(t,n){return wr.TranslateMatrix(this.surfaceMatrix,t,n),this.updateSurface(),this}updateOffset(){const t=this.viewport.getBoundingClientRect();return this.viewportOffset.left=t.left-document.body.scrollLeft,this.viewportOffset.top=t.top-document.body.scrollTop,this.viewportOffset.matrix.identity().translate(this.viewportOffset.left,this.viewportOffset.top),this}updateSurface(){const t=this.surfaceMatrix.elements;for(let n=0;n<this.surfaces.length;n++)this.surfaces[n].apply(t[2],t[5],t[0]);return this}reset(){return this.zoom=0,this.scale=1,this.surfaceMatrix.identity(),this}fitToLimits(t){return wr.Clamp(t,this.limits.scale.min,this.limits.scale.max)}};B(wr,"Surface",K0),B(wr,"Limit",{min:-1/0,max:1/0,clone:function(){const t={};for(let n in this)t[n]=this[n];return t}});let Ed=wr;const R3=(e,t,n)=>{E.useEffect(()=>{const{setContainer:i,setDoodler:o}=tn.getState();if(!e.current)return;const l=T3(e.current),a=M3(l),c=A3(a),f=new lE({two:l,canvas:a,zui:c,sketchId:t,container:e.current});o(f),i(e.current),aE(f);const{showGrid:d,gridSize:g}=Ke.getState(),m=l.renderer.domElement;QE(m,g),e1(d),f.loadDoodles().finally(()=>n==null?void 0:n());const _=e.current;_.addEventListener("wheel",Vn.doMouseWheel,{passive:!1});const y=uE(Vn.doWindowResize,250);return window.addEventListener("resize",y),window.addEventListener("keydown",Vn.doKeyDown),()=>{window.removeEventListener("resize",y),window.removeEventListener("keydown",Vn.doKeyDown),_.removeEventListener("wheel",Vn.doMouseWheel),JE(),_.firstChild&&_.removeChild(_.firstChild),l.remove();const{setDoodles:x}=tn.getState();x([]),Yr.getState().clear()}},[e,n,t])},T3=e=>new xe({autostart:!1,fitted:!0,width:e.clientWidth,height:e.clientHeight,type:xe.Types.svg}).appendTo(e),M3=e=>{const t=new xe.Group;return e.add(t),t},A3=e=>{const t=new Ed(e);return t.addLimits(.05,100),t},P3=({sketchId:e,onReady:t})=>{const n=E.useRef(null),i=Ke(f=>f.selectedTool),o=Ke(f=>f.activeTool),l=Ke(f=>f.toolOption),a=Ke(f=>f.canvasColor),c=it(a).toHex();return R3(n,e,t),A.jsx("div",{style:{backgroundColor:c||"black"},className:"canvas-container flex-grow overflow-hidden",tabIndex:0,ref:n,"data-selected":i,"data-active":o,"data-option":l,onMouseDown:f=>Vn.doMouseDown(f),onMouseMove:f=>Vn.doMouseMove(f),onMouseUp:f=>Vn.doMouseUp(f),onMouseOut:f=>Vn.doMouseOut(f),onMouseOver:f=>Vn.doMouseOver(f),onTouchStart:f=>Vn.doTouchStart(f),onTouchMove:f=>Vn.doTouchMove(f),onTouchEnd:f=>Vn.doTouchEnd(f)})},O3=()=>{const e=tn(n=>n.cursor),t=Ac(n=>n.zoom);if(e){const n=Math.floor(e.x),i=Math.floor(e.y);return A.jsxs("div",{className:"flex justify-end py-1 px-4 text-xs gap-4",children:[A.jsxs("div",{children:[n,":",i]}),A.jsxs("div",{className:"w-24",children:[t,"%"]})]})}return null},L3=()=>{const e=tn(i=>i.doodles),t=Mn(i=>i.selected),n=E.useMemo(()=>t.map(i=>i.id),[t]);return A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"pb-1 pt-4",children:"Layers"}),A.jsx("div",{className:"h-64 overflow-y-auto scroll-smooth shadow rounded bg-default-3",children:A.jsx("div",{className:"flex flex-col  text-sm",children:e.map(i=>A.jsx(F3,{doodle:i,isSelected:n.includes(i.shape.id)},i.shape.id))})})]})},F3=({doodle:e,isSelected:t})=>A.jsxs("button",{type:"button",className:`flex items-center hover:bg-default-4 text-left ${t?"bg-secondary":""}`,children:[A.jsx("div",{className:"w-8 h-8 flex flex-center text-default-6",children:A.jsx(N3,{type:e.type})}),A.jsx("div",{className:"flex-grow",children:e.type})]}),N3=({type:e})=>{switch(e){case"brush":return A.jsx(b_,{stroke:1,size:16});case"circle":case"ellipse":return A.jsx(Uw,{stroke:1,size:16});case"rect":return A.jsx(h2,{stroke:1,size:16});case"line":return A.jsx(cc,{stroke:1,size:16});case"arrow":return A.jsx(v_,{stroke:1,size:16});case"text":return A.jsx(Dd,{stroke:1,size:16});default:return A.jsx(Gw,{stroke:1,size:16})}},Gi=E.forwardRef((e,t)=>{const{className:n,...i}=e;return A.jsx("button",{type:"button",className:`p-1 rounded hover:bg-default-3 ${n||""}`,ref:t,...i,children:e.children})});Gi.displayName="Button";const o1=({children:e})=>A.jsx("div",{className:"flex  border border-default-4 rounded overflow-hidden",children:e}),Vl=e=>{const{isSelected:t,children:n,...i}=e,o=!!t;return A.jsx("button",{type:"button",className:`p-1 hover:bg-default-4 ${o?"bg-default-3":""}`,"aria-pressed":o,...i,children:n})},I3=()=>{const e=Yr(o=>o.undoStack),t=Yr(o=>o.redoStack),n=e.length>0,i=t.length>0;return A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"pb-1 pt-4 flex items-center justify-between",children:[A.jsx("span",{children:"History"}),A.jsxs("div",{className:"flex gap-1",children:[A.jsx(Gi,{onClick:tp,disabled:!n,title:"Undo (Ctrl+Z)",children:A.jsx(y_,{size:16,stroke:1})}),A.jsx(Gi,{onClick:np,disabled:!i,title:"Redo (Ctrl+Shift+Z)",children:A.jsx(__,{size:16,stroke:1})})]})]}),A.jsx("div",{className:"h-40 overflow-y-auto scroll-smooth shadow rounded bg-default-3",children:A.jsxs("div",{className:"flex flex-col text-sm",children:[[...t].reverse().map((o,l)=>A.jsx(Kh,{command:o,variant:"future"},`redo-${l}`)),e.length>0&&A.jsx(Kh,{command:e[e.length-1],variant:"current"},"current"),[...e].slice(0,-1).reverse().map((o,l)=>A.jsx(Kh,{command:o,variant:"past"},`undo-${l}`))]})})]})},Kh=({command:e,variant:t})=>A.jsx("div",{className:`px-2 py-0.5 text-xs ${t==="current"?"bg-secondary":t==="future"?"opacity-40":"opacity-70"}`,children:e.label});function Pc(){return(Pc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function l1(e,t){if(e==null)return{};var n,i,o={},l=Object.keys(e);for(i=0;i<l.length;i++)t.indexOf(n=l[i])>=0||(o[n]=e[n]);return o}function Cd(e){var t=E.useRef(e),n=E.useRef(function(i){t.current&&t.current(i)});return t.current=e,n.current}var Bo=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=1),e>n?n:e<t?t:e},Xl=function(e){return"touches"in e},Rd=function(e){return e&&e.ownerDocument.defaultView||self},q0=function(e,t,n){var i=e.getBoundingClientRect(),o=Xl(t)?function(l,a){for(var c=0;c<l.length;c++)if(l[c].identifier===a)return l[c];return l[0]}(t.touches,n):t;return{left:Bo((o.pageX-(i.left+Rd(e).pageXOffset))/i.width),top:Bo((o.pageY-(i.top+Rd(e).pageYOffset))/i.height)}},G0=function(e){!Xl(e)&&e.preventDefault()},op=st.memo(function(e){var t=e.onMove,n=e.onKey,i=l1(e,["onMove","onKey"]),o=E.useRef(null),l=Cd(t),a=Cd(n),c=E.useRef(null),f=E.useRef(!1),d=E.useMemo(function(){var y=function(S){G0(S),(Xl(S)?S.touches.length>0:S.buttons>0)&&o.current?l(q0(o.current,S,c.current)):k(!1)},x=function(){return k(!1)};function k(S){var b=f.current,w=Rd(o.current),C=S?w.addEventListener:w.removeEventListener;C(b?"touchmove":"mousemove",y),C(b?"touchend":"mouseup",x)}return[function(S){var b=S.nativeEvent,w=o.current;if(w&&(G0(b),!function(M,P){return P&&!Xl(M)}(b,f.current)&&w)){if(Xl(b)){f.current=!0;var C=b.changedTouches||[];C.length&&(c.current=C[0].identifier)}w.focus(),l(q0(w,b,c.current)),k(!0)}},function(S){var b=S.which||S.keyCode;b<37||b>40||(S.preventDefault(),a({left:b===39?.05:b===37?-.05:0,top:b===40?.05:b===38?-.05:0}))},k]},[a,l]),g=d[0],m=d[1],_=d[2];return E.useEffect(function(){return _},[_]),st.createElement("div",Pc({},i,{onTouchStart:g,onMouseDown:g,className:"react-colorful__interactive",ref:o,onKeyDown:m,tabIndex:0,role:"slider"}))}),Oc=function(e){return e.filter(Boolean).join(" ")},lp=function(e){var t=e.color,n=e.left,i=e.top,o=i===void 0?.5:i,l=Oc(["react-colorful__pointer",e.className]);return st.createElement("div",{className:l,style:{top:100*o+"%",left:100*n+"%"}},st.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},hn=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=Math.pow(10,t)),Math.round(n*e)/n},a1=function(e){var t=e.s,n=e.v,i=e.a,o=(200-t)*n/100;return{h:hn(e.h),s:hn(o>0&&o<200?t*n/100/(o<=100?o:200-o)*100:0),l:hn(o/2),a:hn(i,2)}},Td=function(e){var t=a1(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},qh=function(e){var t=a1(e);return"hsla("+t.h+", "+t.s+"%, "+t.l+"%, "+t.a+")"},j3=function(e){var t=e.h,n=e.s,i=e.v,o=e.a;t=t/360*6,n/=100,i/=100;var l=Math.floor(t),a=i*(1-n),c=i*(1-(t-l)*n),f=i*(1-(1-t+l)*n),d=l%6;return{r:hn(255*[i,c,a,a,f,i][d]),g:hn(255*[f,i,i,c,a,a][d]),b:hn(255*[a,a,f,i,i,c][d]),a:hn(o,2)}},D3=function(e){var t=e.r,n=e.g,i=e.b,o=e.a,l=Math.max(t,n,i),a=l-Math.min(t,n,i),c=a?l===t?(n-i)/a:l===n?2+(i-t)/a:4+(t-n)/a:0;return{h:hn(60*(c<0?c+6:c)),s:hn(l?a/l*100:0),v:hn(l/255*100),a:o}},z3=st.memo(function(e){var t=e.hue,n=e.onChange,i=Oc(["react-colorful__hue",e.className]);return st.createElement("div",{className:i},st.createElement(op,{onMove:function(o){n({h:360*o.left})},onKey:function(o){n({h:Bo(t+360*o.left,0,360)})},"aria-label":"Hue","aria-valuenow":hn(t),"aria-valuemax":"360","aria-valuemin":"0"},st.createElement(lp,{className:"react-colorful__hue-pointer",left:t/360,color:Td({h:t,s:100,v:100,a:1})})))}),B3=st.memo(function(e){var t=e.hsva,n=e.onChange,i={backgroundColor:Td({h:t.h,s:100,v:100,a:1})};return st.createElement("div",{className:"react-colorful__saturation",style:i},st.createElement(op,{onMove:function(o){n({s:100*o.left,v:100-100*o.top})},onKey:function(o){n({s:Bo(t.s+100*o.left,0,100),v:Bo(t.v-100*o.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+hn(t.s)+"%, Brightness "+hn(t.v)+"%"},st.createElement(lp,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:Td(t)})))}),u1=function(e,t){if(e===t)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0};function $3(e,t,n){var i=Cd(n),o=E.useState(function(){return e.toHsva(t)}),l=o[0],a=o[1],c=E.useRef({color:t,hsva:l});E.useEffect(function(){if(!e.equal(t,c.current.color)){var d=e.toHsva(t);c.current={hsva:d,color:t},a(d)}},[t,e]),E.useEffect(function(){var d;u1(l,c.current.hsva)||e.equal(d=e.fromHsva(l),c.current.color)||(c.current={hsva:l,color:d},i(d))},[l,e,i]);var f=E.useCallback(function(d){a(function(g){return Object.assign({},g,d)})},[]);return[l,f]}var U3=typeof window<"u"?E.useLayoutEffect:E.useEffect,V3=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},Q0=new Map,H3=function(e){U3(function(){var t=e.current?e.current.ownerDocument:document;if(t!==void 0&&!Q0.has(t)){var n=t.createElement("style");n.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,Q0.set(t,n);var i=V3();i&&n.setAttribute("nonce",i),t.head.appendChild(n)}},[])},W3=function(e){var t=e.className,n=e.hsva,i=e.onChange,o={backgroundImage:"linear-gradient(90deg, "+qh(Object.assign({},n,{a:0}))+", "+qh(Object.assign({},n,{a:1}))+")"},l=Oc(["react-colorful__alpha",t]),a=hn(100*n.a);return st.createElement("div",{className:l},st.createElement("div",{className:"react-colorful__alpha-gradient",style:o}),st.createElement(op,{onMove:function(c){i({a:c.left})},onKey:function(c){i({a:Bo(n.a+c.left)})},"aria-label":"Alpha","aria-valuetext":a+"%","aria-valuenow":a,"aria-valuemin":"0","aria-valuemax":"100"},st.createElement(lp,{className:"react-colorful__alpha-pointer",left:n.a,color:qh(n)})))},Y3=function(e){var t=e.className,n=e.colorModel,i=e.color,o=i===void 0?n.defaultColor:i,l=e.onChange,a=l1(e,["className","colorModel","color","onChange"]),c=E.useRef(null);H3(c);var f=$3(n,o,l),d=f[0],g=f[1],m=Oc(["react-colorful",t]);return st.createElement("div",Pc({},a,{ref:c,className:m}),st.createElement(B3,{hsva:d,onChange:g}),st.createElement(z3,{hue:d.h,onChange:g}),st.createElement(W3,{hsva:d,onChange:g,className:"react-colorful__last-control"}))},X3={defaultColor:{r:0,g:0,b:0,a:1},toHsva:D3,fromHsva:j3,equal:u1},K3=function(e){return st.createElement(Y3,Pc({},e,{colorModel:X3}))};function q3({initialOpen:e=!1,placement:t="top",modal:n,open:i,onOpenChange:o,initialOffset:l=5}={}){const[a,c]=E.useState(e),[f,d]=E.useState(),[g,m]=E.useState(),_=i??a,y=o??c,x=iv({placement:t,open:_,onOpenChange:y,whileElementsMounted:H_,middleware:[Y_(l),K_({crossAxis:t.includes("-"),fallbackAxisSideDirection:"end",padding:5}),X_({padding:5})]}),k=x.context,S=ub(k,{enabled:i==null}),b=rv(k),w=ov(k),C=sv([S,b,w]);return E.useMemo(()=>({open:_,setOpen:y,...C,...x,modal:n,labelId:f,descriptionId:g,setLabelId:d,setDescriptionId:m}),[_,y,C,x,n,f,g])}const c1=E.createContext(null),oa=()=>{const e=E.useContext(c1);if(e==null)throw new Error("Popover components must be wrapped in <Popover />");return e};function ap({children:e,modal:t=!1,...n}){const i=q3({modal:t,...n});return A.jsx(c1.Provider,{value:i,children:e})}const up=E.forwardRef(function({children:t,asChild:n=!1,...i},o){const l=oa(),a=t.ref,c=_c([l.refs.setReference,o,a]);return n&&E.isValidElement(t)?E.cloneElement(t,l.getReferenceProps({ref:c,...i,...t.props,"data-state":l.open?"open":"closed"})):A.jsx("button",{ref:c,type:"button","data-state":l.open?"open":"closed",...l.getReferenceProps(i),children:t})}),cp=E.forwardRef(function({style:t,...n},i){const{context:o,...l}=oa(),a=_c([l.refs.setFloating,i]);return o.open?A.jsx(tv,{children:A.jsx(ab,{context:o,modal:l.modal,children:A.jsx("div",{ref:a,style:{...l.floatingStyles,...t},"aria-labelledby":l.labelId,"aria-describedby":l.descriptionId,...l.getFloatingProps(n),children:n.children})})}):null});E.forwardRef(function(t,n){const{setLabelId:i}=oa(),o=na();return E.useLayoutEffect(()=>(i(o),()=>i(void 0)),[o,i]),A.jsx("h2",{...t,ref:n,id:o,children:t.children})});E.forwardRef(function(t,n){const{setDescriptionId:i}=oa(),o=na();return E.useLayoutEffect(()=>(i(o),()=>i(void 0)),[o,i]),A.jsx("p",{...t,ref:n,id:o})});E.forwardRef(function(t,n){const{setOpen:i}=oa();return A.jsx("button",{type:"button",ref:n,...t,onClick:o=>{var l;(l=t.onClick)==null||l.call(t,o),i(!1)}})});const G3=({value:e,onChange:t})=>{const n={r:0,g:0,b:0,a:1},[i,o]=E.useState(e||n),[l,a]=E.useState(""),[c,f]=E.useState(""),d=Qh(c),g=Gh(i);E.useEffect(()=>{e&&(f(`${Math.round((e.a||0)*100)}`),a(Gh(e)),o(e))},[e]);const m=w=>{o(w),i.a&&f(`${Math.floor(i.a*100)}`),t==null||t(w)},_=w=>{w.a>.95&&(w.a=1),o(w),m(w),a(Gh(i))},y=w=>{a(w);const C=it(w);if(C.isValid()&&C.toHex()===w){const M=C.toRgb();isNaN(d)||(M.a=d),m(M)}},x=()=>{const w=it(i);w.isEqual(l)||m(w.toRgb())},k=w=>{f(w);const C=Qh(w);w&&!isNaN(C)&&C>=0&&C<=1&&S(C)},S=w=>{const C={...i};C.a=w,m(C)};return{rgbaValue:i,rgbValue:g,alphaValue:c,rgbStrValue:l,doChangePicker:_,doChangeRgbValue:y,doChangeAlpha:k,doChangeAlphaValue:S,doRgbBlur:x,doAlphaBlur:()=>{const w=i.a,C=Qh(c);w!=C&&m({...i})}}};function Gh(e){return it({r:e.r,g:e.g,b:e.b}).toHex()}function Qh(e){return Number(e||"1")/100}function es(e){"@babel/helpers - typeof";return es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},es(e)}function Q3(e,t){if(es(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(es(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Z3(e){var t=Q3(e,"string");return es(t)=="symbol"?t:t+""}function cr(e,t,n){return(t=Z3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function en(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Z0(Object(n),!0).forEach(function(i){cr(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z0(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Md(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function J3(e){if(Array.isArray(e))return Md(e)}function e4(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function f1(e,t){if(e){if(typeof e=="string")return Md(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Md(e,t):void 0}}function t4(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mi(e){return J3(e)||e4(e)||f1(e)||t4()}function n4(e){if(Array.isArray(e))return e}function r4(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,o,l,a,c=[],f=!0,d=!1;try{if(l=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(i=l.call(n)).done)&&(c.push(i.value),c.length!==t);f=!0);}catch(g){d=!0,o=g}finally{try{if(!f&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw o}}return c}}function i4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zt(e,t){return n4(e)||r4(e,t)||f1(e,t)||i4()}var Zh={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var J0;function s4(){return J0||(J0=1,function(e){(function(){var t={}.hasOwnProperty;function n(){for(var l="",a=0;a<arguments.length;a++){var c=arguments[a];c&&(l=o(l,i(c)))}return l}function i(l){if(typeof l=="string"||typeof l=="number")return l;if(typeof l!="object")return"";if(Array.isArray(l))return n.apply(null,l);if(l.toString!==Object.prototype.toString&&!l.toString.toString().includes("[native code]"))return l.toString();var a="";for(var c in l)t.call(l,c)&&l[c]&&(a=o(a,c));return a}function o(l,a){return a?l?l+" "+a:l+a:l}e.exports?(n.default=n,e.exports=n):window.classNames=n})()}(Zh)),Zh.exports}var o4=s4();const $s=p_(o4);function No(e){var t=E.useRef();t.current=e;var n=E.useCallback(function(){for(var i,o=arguments.length,l=new Array(o),a=0;a<o;a++)l[a]=arguments[a];return(i=t.current)===null||i===void 0?void 0:i.call.apply(i,[t].concat(l))},[]);return n}function l4(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var e_=l4()?E.useLayoutEffect:E.useEffect,h1=function(t,n){var i=E.useRef(!0);e_(function(){return t(i.current)},n),e_(function(){return i.current=!1,function(){i.current=!0}},[])},t_=function(t,n){h1(function(i){if(!i)return t()},n)};function n_(e){var t=E.useRef(!1),n=E.useState(e),i=zt(n,2),o=i[0],l=i[1];E.useEffect(function(){return t.current=!1,function(){t.current=!0}},[]);function a(c,f){f&&t.current||l(c)}return[o,a]}function Jh(e){return e!==void 0}function a4(e,t){var n=t,i=n.defaultValue,o=n.value,l=n.onChange,a=n.postState,c=n_(function(){return Jh(o)?o:Jh(i)?typeof i=="function"?i():i:typeof e=="function"?e():e}),f=zt(c,2),d=f[0],g=f[1],m=o!==void 0?o:d,_=a?a(m):m,y=No(l),x=n_([m]),k=zt(x,2),S=k[0],b=k[1];t_(function(){var C=S[0];d!==C&&y(d,C)},[S]),t_(function(){Jh(o)||g(o)},[o]);var w=No(function(C,M){g(C,M),b([m],M)});return[_,w]}var Ad={},u4=function(t){};function c4(e,t){}function f4(e,t){}function h4(){Ad={}}function d1(e,t,n){!t&&!Ad[n]&&(e(!1,n),Ad[n]=!0)}function $o(e,t){d1(c4,e,t)}function d4(e,t){d1(f4,e,t)}$o.preMessage=u4;$o.resetWarned=h4;$o.noteOnce=d4;function p4(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=new Set;function o(l,a){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,f=i.has(l);if($o(!f,"Warning: There may be circular references"),f)return!1;if(l===a)return!0;if(n&&c>1)return!1;i.add(l);var d=c+1;if(Array.isArray(l)){if(!Array.isArray(a)||l.length!==a.length)return!1;for(var g=0;g<l.length;g++)if(!o(l[g],a[g],d))return!1;return!0}if(l&&a&&es(l)==="object"&&es(a)==="object"){var m=Object.keys(l);return m.length!==Object.keys(a).length?!1:m.every(function(_){return o(l[_],a[_],d)})}return!1}return o(e,t)}function Jl(){return Jl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Jl.apply(null,arguments)}function g4(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.includes(i))continue;n[i]=e[i]}return n}function p1(e,t){if(e==null)return{};var n,i,o=g4(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)n=l[i],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Pd(e,t,n){return(e-t)/(n-t)}function fp(e,t,n,i){var o=Pd(t,n,i),l={};switch(e){case"rtl":l.right="".concat(o*100,"%"),l.transform="translateX(50%)";break;case"btt":l.bottom="".concat(o*100,"%"),l.transform="translateY(50%)";break;case"ttb":l.top="".concat(o*100,"%"),l.transform="translateY(-50%)";break;default:l.left="".concat(o*100,"%"),l.transform="translateX(-50%)";break}return l}function Ms(e,t){return Array.isArray(e)?e[t]:e}var _e={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(t){var n=t.keyCode;if(t.altKey&&!t.ctrlKey||t.metaKey||n>=_e.F1&&n<=_e.F12)return!1;switch(n){case _e.ALT:case _e.CAPS_LOCK:case _e.CONTEXT_MENU:case _e.CTRL:case _e.DOWN:case _e.END:case _e.ESC:case _e.HOME:case _e.INSERT:case _e.LEFT:case _e.MAC_FF_META:case _e.META:case _e.NUMLOCK:case _e.NUM_CENTER:case _e.PAGE_DOWN:case _e.PAGE_UP:case _e.PAUSE:case _e.PRINT_SCREEN:case _e.RIGHT:case _e.SHIFT:case _e.UP:case _e.WIN_KEY:case _e.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(t){if(t>=_e.ZERO&&t<=_e.NINE||t>=_e.NUM_ZERO&&t<=_e.NUM_MULTIPLY||t>=_e.A&&t<=_e.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&t===0)return!0;switch(t){case _e.SPACE:case _e.QUESTION_MARK:case _e.NUM_PLUS:case _e.NUM_MINUS:case _e.NUM_PERIOD:case _e.NUM_DIVISION:case _e.SEMICOLON:case _e.DASH:case _e.EQUALS:case _e.COMMA:case _e.PERIOD:case _e.SLASH:case _e.APOSTROPHE:case _e.SINGLE_QUOTE:case _e.OPEN_SQUARE_BRACKET:case _e.BACKSLASH:case _e.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},Us=E.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}}),m4=E.createContext({}),y4=["prefixCls","value","valueIndex","onStartMove","onDelete","style","render","dragging","draggingDelete","onOffsetChange","onChangeComplete","onFocus","onMouseEnter"],r_=E.forwardRef(function(e,t){var n=e.prefixCls,i=e.value,o=e.valueIndex,l=e.onStartMove,a=e.onDelete,c=e.style,f=e.render,d=e.dragging,g=e.draggingDelete,m=e.onOffsetChange,_=e.onChangeComplete,y=e.onFocus,x=e.onMouseEnter,k=p1(e,y4),S=E.useContext(Us),b=S.min,w=S.max,C=S.direction,M=S.disabled,P=S.keyboard,N=S.range,j=S.tabIndex,X=S.ariaLabelForHandle,z=S.ariaLabelledByForHandle,W=S.ariaRequired,K=S.ariaValueTextFormatterForHandle,q=S.styles,ae=S.classNames,te="".concat(n,"-handle"),re=function(oe){M||l(oe,o)},ue=function(oe){y==null||y(oe,o)},Z=function(oe){x(oe,o)},D=function(oe){if(!M&&P){var Q=null;switch(oe.which||oe.keyCode){case _e.LEFT:Q=C==="ltr"||C==="btt"?-1:1;break;case _e.RIGHT:Q=C==="ltr"||C==="btt"?1:-1;break;case _e.UP:Q=C!=="ttb"?1:-1;break;case _e.DOWN:Q=C!=="ttb"?-1:1;break;case _e.HOME:Q="min";break;case _e.END:Q="max";break;case _e.PAGE_UP:Q=2;break;case _e.PAGE_DOWN:Q=-2;break;case _e.BACKSPACE:case _e.DELETE:a(o);break}Q!==null&&(oe.preventDefault(),m(Q,o))}},$=function(oe){switch(oe.which||oe.keyCode){case _e.LEFT:case _e.RIGHT:case _e.UP:case _e.DOWN:case _e.HOME:case _e.END:case _e.PAGE_UP:case _e.PAGE_DOWN:_==null||_();break}},G=fp(C,i,b,w),L={};if(o!==null){var Y;L={tabIndex:M?null:Ms(j,o),role:"slider","aria-valuemin":b,"aria-valuemax":w,"aria-valuenow":i,"aria-disabled":M,"aria-label":Ms(X,o),"aria-labelledby":Ms(z,o),"aria-required":Ms(W,o),"aria-valuetext":(Y=Ms(K,o))===null||Y===void 0?void 0:Y(i),"aria-orientation":C==="ltr"||C==="rtl"?"horizontal":"vertical",onMouseDown:re,onTouchStart:re,onFocus:ue,onMouseEnter:Z,onKeyDown:D,onKeyUp:$}}var we=E.createElement("div",Jl({ref:t,className:$s(te,cr(cr(cr({},"".concat(te,"-").concat(o+1),o!==null&&N),"".concat(te,"-dragging"),d),"".concat(te,"-dragging-delete"),g),ae.handle),style:en(en(en({},G),c),q.handle)},L,k));return f&&(we=f(we,{index:o,prefixCls:n,value:i,dragging:d,draggingDelete:g})),we}),_4=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","activeHandleRender","draggingIndex","draggingDelete","onFocus"],v4=E.forwardRef(function(e,t){var n=e.prefixCls,i=e.style,o=e.onStartMove,l=e.onOffsetChange,a=e.values,c=e.handleRender,f=e.activeHandleRender,d=e.draggingIndex,g=e.draggingDelete,m=e.onFocus,_=p1(e,_4),y=E.useRef({}),x=E.useState(!1),k=zt(x,2),S=k[0],b=k[1],w=E.useState(-1),C=zt(w,2),M=C[0],P=C[1],N=function(K){P(K),b(!0)},j=function(K,q){N(q),m==null||m(K)},X=function(K,q){N(q)};E.useImperativeHandle(t,function(){return{focus:function(K){var q;(q=y.current[K])===null||q===void 0||q.focus()},hideHelp:function(){$d.flushSync(function(){b(!1)})}}});var z=en({prefixCls:n,onStartMove:o,onOffsetChange:l,render:c,onFocus:j,onMouseEnter:X},_);return E.createElement(E.Fragment,null,a.map(function(W,K){var q=d===K;return E.createElement(r_,Jl({ref:function(te){te?y.current[K]=te:delete y.current[K]},dragging:q,draggingDelete:q&&g,style:Ms(i,K),key:K,value:W,valueIndex:K},z))}),f&&S&&E.createElement(r_,Jl({key:"a11y"},z,{value:a[M],valueIndex:null,dragging:d!==-1,draggingDelete:g,render:f,style:{pointerEvents:"none"},tabIndex:null,"aria-hidden":!0})))}),x4=function(t){var n=t.prefixCls,i=t.style,o=t.children,l=t.value,a=t.onClick,c=E.useContext(Us),f=c.min,d=c.max,g=c.direction,m=c.includedStart,_=c.includedEnd,y=c.included,x="".concat(n,"-text"),k=fp(g,l,f,d);return E.createElement("span",{className:$s(x,cr({},"".concat(x,"-active"),y&&m<=l&&l<=_)),style:en(en({},k),i),onMouseDown:function(b){b.stopPropagation()},onClick:function(){a(l)}},o)},w4=function(t){var n=t.prefixCls,i=t.marks,o=t.onClick,l="".concat(n,"-mark");return i.length?E.createElement("div",{className:l},i.map(function(a){var c=a.value,f=a.style,d=a.label;return E.createElement(x4,{key:c,prefixCls:l,style:f,value:c,onClick:o},d)})):null},k4=function(t){var n=t.prefixCls,i=t.value,o=t.style,l=t.activeStyle,a=E.useContext(Us),c=a.min,f=a.max,d=a.direction,g=a.included,m=a.includedStart,_=a.includedEnd,y="".concat(n,"-dot"),x=g&&m<=i&&i<=_,k=en(en({},fp(d,i,c,f)),typeof o=="function"?o(i):o);return x&&(k=en(en({},k),typeof l=="function"?l(i):l)),E.createElement("span",{className:$s(y,cr({},"".concat(y,"-active"),x)),style:k})},b4=function(t){var n=t.prefixCls,i=t.marks,o=t.dots,l=t.style,a=t.activeStyle,c=E.useContext(Us),f=c.min,d=c.max,g=c.step,m=E.useMemo(function(){var _=new Set;if(i.forEach(function(x){_.add(x.value)}),o&&g!==null)for(var y=f;y<=d;)_.add(y),y+=g;return Array.from(_)},[f,d,g,o,i]);return E.createElement("div",{className:"".concat(n,"-step")},m.map(function(_){return E.createElement(k4,{prefixCls:n,key:_,value:_,style:l,activeStyle:a})}))},i_=function(t){var n=t.prefixCls,i=t.style,o=t.start,l=t.end,a=t.index,c=t.onStartMove,f=t.replaceCls,d=E.useContext(Us),g=d.direction,m=d.min,_=d.max,y=d.disabled,x=d.range,k=d.classNames,S="".concat(n,"-track"),b=Pd(o,m,_),w=Pd(l,m,_),C=function(j){!y&&c&&c(j,-1)},M={};switch(g){case"rtl":M.right="".concat(b*100,"%"),M.width="".concat(w*100-b*100,"%");break;case"btt":M.bottom="".concat(b*100,"%"),M.height="".concat(w*100-b*100,"%");break;case"ttb":M.top="".concat(b*100,"%"),M.height="".concat(w*100-b*100,"%");break;default:M.left="".concat(b*100,"%"),M.width="".concat(w*100-b*100,"%")}var P=f||$s(S,cr(cr({},"".concat(S,"-").concat(a+1),a!==null&&x),"".concat(n,"-track-draggable"),c),k.track);return E.createElement("div",{className:P,style:en(en({},M),i),onMouseDown:C,onTouchStart:C})},S4=function(t){var n=t.prefixCls,i=t.style,o=t.values,l=t.startPoint,a=t.onStartMove,c=E.useContext(Us),f=c.included,d=c.range,g=c.min,m=c.styles,_=c.classNames,y=E.useMemo(function(){if(!d){if(o.length===0)return[];var k=l??g,S=o[0];return[{start:Math.min(k,S),end:Math.max(k,S)}]}for(var b=[],w=0;w<o.length-1;w+=1)b.push({start:o[w],end:o[w+1]});return b},[o,d,l,g]);if(!f)return null;var x=y!=null&&y.length&&(_.tracks||m.tracks)?E.createElement(i_,{index:null,prefixCls:n,start:y[0].start,end:y[y.length-1].end,replaceCls:$s(_.tracks,"".concat(n,"-tracks")),style:m.tracks}):null;return E.createElement(E.Fragment,null,x,y.map(function(k,S){var b=k.start,w=k.end;return E.createElement(i_,{index:S,prefixCls:n,style:en(en({},Ms(i,S)),m.track),start:b,end:w,key:S,onStartMove:a})}))},E4=130;function s_(e){var t="targetTouches"in e?e.targetTouches[0]:e;return{pageX:t.pageX,pageY:t.pageY}}function C4(e,t,n,i,o,l,a,c,f,d,g){var m=E.useState(null),_=zt(m,2),y=_[0],x=_[1],k=E.useState(-1),S=zt(k,2),b=S[0],w=S[1],C=E.useState(!1),M=zt(C,2),P=M[0],N=M[1],j=E.useState(n),X=zt(j,2),z=X[0],W=X[1],K=E.useState(n),q=zt(K,2),ae=q[0],te=q[1],re=E.useRef(null),ue=E.useRef(null),Z=E.useRef(null),D=E.useContext(m4),$=D.onDragStart,G=D.onDragChange;h1(function(){b===-1&&W(n)},[n,b]),E.useEffect(function(){return function(){document.removeEventListener("mousemove",re.current),document.removeEventListener("mouseup",ue.current),Z.current&&(Z.current.removeEventListener("touchmove",re.current),Z.current.removeEventListener("touchend",ue.current))}},[]);var L=function(Q,se,ee){se!==void 0&&x(se),W(Q);var Ce=Q;ee&&(Ce=Q.filter(function(Me,He){return He!==b})),a(Ce),G&&G({rawValues:Q,deleteIndex:ee?b:-1,draggingIndex:b,draggingValue:se})},Y=No(function(oe,Q,se){if(oe===-1){var ee=ae[0],Ce=ae[ae.length-1],Me=i-ee,He=o-Ce,pt=Q*(o-i);pt=Math.max(pt,Me),pt=Math.min(pt,He);var $t=l(ee+pt);pt=$t-ee;var Mt=ae.map(function(Xn){return Xn+pt});L(Mt)}else{var gt=(o-i)*Q,Ut=mi(z);Ut[oe]=ae[oe];var rn=f(Ut,gt,oe,"dist");L(rn.values,rn.value,se)}}),we=function(Q,se,ee){Q.stopPropagation();var Ce=ee||n,Me=Ce[se];w(se),x(Me),te(Ce),W(Ce),N(!1);var He=s_(Q),pt=He.pageX,$t=He.pageY,Mt=!1;$&&$({rawValues:Ce,draggingIndex:se,draggingValue:Me});var gt=function(Xn){Xn.preventDefault();var Vt=s_(Xn),Kn=Vt.pageX,An=Vt.pageY,Tr=Kn-pt,Pn=An-$t,pn=e.current.getBoundingClientRect(),Mr=pn.width,Zr=pn.height,qn,On;switch(t){case"btt":qn=-Pn/Zr,On=Tr;break;case"ttb":qn=Pn/Zr,On=Tr;break;case"rtl":qn=-Tr/Mr,On=Pn;break;default:qn=Tr/Mr,On=Pn}Mt=d?Math.abs(On)>E4&&g<z.length:!1,N(Mt),Y(se,qn,Mt)},Ut=function rn(Xn){Xn.preventDefault(),document.removeEventListener("mouseup",rn),document.removeEventListener("mousemove",gt),Z.current&&(Z.current.removeEventListener("touchmove",re.current),Z.current.removeEventListener("touchend",ue.current)),re.current=null,ue.current=null,Z.current=null,c(Mt),w(-1),N(!1)};document.addEventListener("mouseup",Ut),document.addEventListener("mousemove",gt),Q.currentTarget.addEventListener("touchend",Ut),Q.currentTarget.addEventListener("touchmove",gt),re.current=gt,ue.current=Ut,Z.current=Q.currentTarget},fe=E.useMemo(function(){var oe=mi(n).sort(function(Me,He){return Me-He}),Q=mi(z).sort(function(Me,He){return Me-He}),se={};Q.forEach(function(Me){se[Me]=(se[Me]||0)+1}),oe.forEach(function(Me){se[Me]=(se[Me]||0)-1});var ee=d?1:0,Ce=Object.values(se).reduce(function(Me,He){return Me+Math.abs(He)},0);return Ce<=ee?z:n},[n,z,d]);return[b,y,P,fe,we]}function R4(e,t,n,i,o,l){var a=E.useCallback(function(y){return Math.max(e,Math.min(t,y))},[e,t]),c=E.useCallback(function(y){if(n!==null){var x=e+Math.round((a(y)-e)/n)*n,k=function(C){return(String(C).split(".")[1]||"").length},S=Math.max(k(n),k(t),k(e)),b=Number(x.toFixed(S));return e<=b&&b<=t?b:null}return null},[n,e,t,a]),f=E.useCallback(function(y){var x=a(y),k=i.map(function(w){return w.value});n!==null&&k.push(c(y)),k.push(e,t);var S=k[0],b=t-e;return k.forEach(function(w){var C=Math.abs(x-w);C<=b&&(S=w,b=C)}),S},[e,t,i,n,a,c]),d=function y(x,k,S){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof k=="number"){var w,C=x[S],M=C+k,P=[];i.forEach(function(W){P.push(W.value)}),P.push(e,t),P.push(c(C));var N=k>0?1:-1;b==="unit"?P.push(c(C+N*n)):P.push(c(M)),P=P.filter(function(W){return W!==null}).filter(function(W){return k<0?W<=C:W>=C}),b==="unit"&&(P=P.filter(function(W){return W!==C}));var j=b==="unit"?C:M;w=P[0];var X=Math.abs(w-j);if(P.forEach(function(W){var K=Math.abs(W-j);K<X&&(w=W,X=K)}),w===void 0)return k<0?e:t;if(b==="dist")return w;if(Math.abs(k)>1){var z=mi(x);return z[S]=w,y(z,k-N,S,b)}return w}else{if(k==="min")return e;if(k==="max")return t}},g=function(x,k,S){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",w=x[S],C=d(x,k,S,b);return{value:C,changed:C!==w}},m=function(x){return l===null&&x===0||typeof l=="number"&&x<l},_=function(x,k,S){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",w=x.map(f),C=w[S],M=d(w,k,S,b);if(w[S]=M,o===!1){var P=l||0;S>0&&w[S-1]!==C&&(w[S]=Math.max(w[S],w[S-1]+P)),S<w.length-1&&w[S+1]!==C&&(w[S]=Math.min(w[S],w[S+1]-P))}else if(typeof l=="number"||l===null){for(var N=S+1;N<w.length;N+=1)for(var j=!0;m(w[N]-w[N-1])&&j;){var X=g(w,1,N);w[N]=X.value,j=X.changed}for(var z=S;z>0;z-=1)for(var W=!0;m(w[z]-w[z-1])&&W;){var K=g(w,-1,z-1);w[z-1]=K.value,W=K.changed}for(var q=w.length-1;q>0;q-=1)for(var ae=!0;m(w[q]-w[q-1])&&ae;){var te=g(w,-1,q-1);w[q-1]=te.value,ae=te.changed}for(var re=0;re<w.length-1;re+=1)for(var ue=!0;m(w[re+1]-w[re])&&ue;){var Z=g(w,1,re+1);w[re+1]=Z.value,ue=Z.changed}}return{value:w[S],values:w}};return[f,_]}function T4(e){return E.useMemo(function(){if(e===!0||!e)return[!!e,!1,!1,0];var t=e.editable,n=e.draggableTrack,i=e.minCount,o=e.maxCount;return[!0,t,!t&&n,i||0,o]},[e])}var g1=E.forwardRef(function(e,t){var n=e.prefixCls,i=n===void 0?"rc-slider":n,o=e.className,l=e.style,a=e.classNames,c=e.styles,f=e.id,d=e.disabled,g=d===void 0?!1:d,m=e.keyboard,_=m===void 0?!0:m,y=e.autoFocus,x=e.onFocus,k=e.onBlur,S=e.min,b=S===void 0?0:S,w=e.max,C=w===void 0?100:w,M=e.step,P=M===void 0?1:M,N=e.value,j=e.defaultValue,X=e.range,z=e.count,W=e.onChange,K=e.onBeforeChange,q=e.onAfterChange,ae=e.onChangeComplete,te=e.allowCross,re=te===void 0?!0:te,ue=e.pushable,Z=ue===void 0?!1:ue,D=e.reverse,$=e.vertical,G=e.included,L=G===void 0?!0:G,Y=e.startPoint,we=e.trackStyle,fe=e.handleStyle,oe=e.railStyle,Q=e.dotStyle,se=e.activeDotStyle,ee=e.marks,Ce=e.dots,Me=e.handleRender,He=e.activeHandleRender,pt=e.track,$t=e.tabIndex,Mt=$t===void 0?0:$t,gt=e.ariaLabelForHandle,Ut=e.ariaLabelledByForHandle,rn=e.ariaRequired,Xn=e.ariaValueTextFormatterForHandle,Vt=E.useRef(null),Kn=E.useRef(null),An=E.useMemo(function(){return $?D?"ttb":"btt":D?"rtl":"ltr"},[D,$]),Tr=T4(X),Pn=zt(Tr,5),pn=Pn[0],Mr=Pn[1],Zr=Pn[2],qn=Pn[3],On=Pn[4],sn=E.useMemo(function(){return isFinite(b)?b:0},[b]),Gn=E.useMemo(function(){return isFinite(C)?C:100},[C]),Ln=E.useMemo(function(){return P!==null&&P<=0?1:P},[P]),Nc=E.useMemo(function(){return typeof Z=="boolean"?Z?Ln:!1:Z>=0?Z:!1},[Z,Ln]),is=E.useMemo(function(){return Object.keys(ee||{}).map(function(Ue){var ge=ee[Ue],We={value:Number(Ue)};return ge&&es(ge)==="object"&&!E.isValidElement(ge)&&("label"in ge||"style"in ge)?(We.style=ge.style,We.label=ge.label):We.label=ge,We}).filter(function(Ue){var ge=Ue.label;return ge||typeof ge=="number"}).sort(function(Ue,ge){return Ue.value-ge.value})},[ee]),ca=R4(sn,Gn,Ln,is,re,Nc),fa=zt(ca,2),vi=fa[0],Hs=fa[1],Yo=a4(j,{value:N}),Ws=zt(Yo,2),Qn=Ws[0],xi=Ws[1],ht=E.useMemo(function(){var Ue=Qn==null?[]:Array.isArray(Qn)?Qn:[Qn],ge=zt(Ue,1),We=ge[0],Xe=We===void 0?sn:We,mt=Qn===null?[]:[Xe];if(pn){if(mt=mi(Ue),z||Qn===void 0){var Fn=z>=0?z+1:2;for(mt=mt.slice(0,Fn);mt.length<Fn;){var hr;mt.push((hr=mt[mt.length-1])!==null&&hr!==void 0?hr:sn)}}mt.sort(function(Zn,gn){return Zn-gn})}return mt.forEach(function(Zn,gn){mt[gn]=vi(Zn)}),mt},[Qn,pn,sn,z,vi]),Jr=function(ge){return pn?ge:ge[0]},ss=No(function(Ue){var ge=mi(Ue).sort(function(We,Xe){return We-Xe});W&&!p4(ge,ht,!0)&&W(Jr(ge)),xi(ge)}),Xo=No(function(Ue){Ue&&Vt.current.hideHelp();var ge=Jr(ht);q==null||q(ge),$o(!q,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),ae==null||ae(ge)}),ha=function(ge){if(!(g||!Mr||ht.length<=qn)){var We=mi(ht);We.splice(ge,1),K==null||K(Jr(We)),ss(We);var Xe=Math.max(0,ge-1);Vt.current.hideHelp(),Vt.current.focus(Xe)}},da=C4(Kn,An,ht,sn,Gn,vi,ss,Xo,Hs,Mr,qn),ei=zt(da,5),Ko=ei[0],os=ei[1],qo=ei[2],ti=ei[3],pa=ei[4],wi=function(ge,We){if(!g){var Xe=mi(ht),mt=0,Fn=0,hr=Gn-sn;ht.forEach(function(vt,qs){var ya=Math.abs(ge-vt);ya<=hr&&(hr=ya,mt=qs),vt<ge&&(Fn=qs)});var Zn=mt;Mr&&hr!==0&&(!On||ht.length<On)?(Xe.splice(Fn+1,0,ge),Zn=Fn+1):Xe[mt]=ge,pn&&!ht.length&&z===void 0&&Xe.push(ge);var gn=Jr(Xe);if(K==null||K(gn),ss(Xe),We){var At,ki;(At=document.activeElement)===null||At===void 0||(ki=At.blur)===null||ki===void 0||ki.call(At),Vt.current.focus(Zn),pa(We,Zn,Xe)}else q==null||q(gn),$o(!q,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),ae==null||ae(gn)}},Ys=function(ge){ge.preventDefault();var We=Kn.current.getBoundingClientRect(),Xe=We.width,mt=We.height,Fn=We.left,hr=We.top,Zn=We.bottom,gn=We.right,At=ge.clientX,ki=ge.clientY,vt;switch(An){case"btt":vt=(Zn-ki)/mt;break;case"ttb":vt=(ki-hr)/mt;break;case"rtl":vt=(gn-At)/Xe;break;default:vt=(At-Fn)/Xe}var qs=sn+vt*(Gn-sn);wi(vi(qs),ge)},Xs=E.useState(null),Ks=zt(Xs,2),Go=Ks[0],ga=Ks[1],Ic=function(ge,We){if(!g){var Xe=Hs(ht,ge,We);K==null||K(Jr(ht)),ss(Xe.values),ga(Xe.value)}};E.useEffect(function(){if(Go!==null){var Ue=ht.indexOf(Go);Ue>=0&&Vt.current.focus(Ue)}ga(null)},[Go]);var ni=E.useMemo(function(){return Zr&&Ln===null?!1:Zr},[Zr,Ln]),Qo=No(function(Ue,ge){pa(Ue,ge),K==null||K(Jr(ht))}),Zo=Ko!==-1;E.useEffect(function(){if(!Zo){var Ue=ht.lastIndexOf(os);Vt.current.focus(Ue)}},[Zo]);var ls=E.useMemo(function(){return mi(ti).sort(function(Ue,ge){return Ue-ge})},[ti]),ma=E.useMemo(function(){return pn?[ls[0],ls[ls.length-1]]:[sn,ls[0]]},[ls,pn,sn]),Jo=zt(ma,2),el=Jo[0],tl=Jo[1];E.useImperativeHandle(t,function(){return{focus:function(){Vt.current.focus(0)},blur:function(){var ge,We=document,Xe=We.activeElement;(ge=Kn.current)!==null&&ge!==void 0&&ge.contains(Xe)&&(Xe==null||Xe.blur())}}}),E.useEffect(function(){y&&Vt.current.focus(0)},[]);var jc=E.useMemo(function(){return{min:sn,max:Gn,direction:An,disabled:g,keyboard:_,step:Ln,included:L,includedStart:el,includedEnd:tl,range:pn,tabIndex:Mt,ariaLabelForHandle:gt,ariaLabelledByForHandle:Ut,ariaRequired:rn,ariaValueTextFormatterForHandle:Xn,styles:c||{},classNames:a||{}}},[sn,Gn,An,g,_,Ln,L,el,tl,pn,Mt,gt,Ut,rn,Xn,c,a]);return E.createElement(Us.Provider,{value:jc},E.createElement("div",{ref:Kn,className:$s(i,o,cr(cr(cr(cr({},"".concat(i,"-disabled"),g),"".concat(i,"-vertical"),$),"".concat(i,"-horizontal"),!$),"".concat(i,"-with-marks"),is.length)),style:l,onMouseDown:Ys,id:f},E.createElement("div",{className:$s("".concat(i,"-rail"),a==null?void 0:a.rail),style:en(en({},oe),c==null?void 0:c.rail)}),pt!==!1&&E.createElement(S4,{prefixCls:i,style:we,values:ht,startPoint:Y,onStartMove:ni?Qo:void 0}),E.createElement(b4,{prefixCls:i,marks:is,dots:Ce,style:Q,activeStyle:se}),E.createElement(v4,{ref:Vt,prefixCls:i,style:fe,values:ti,draggingIndex:Ko,draggingDelete:qo,onStartMove:Qo,onOffsetChange:Ic,onFocus:x,onBlur:k,handleRender:Me,activeHandleRender:He,onChangeComplete:Xo,onDelete:Mr?ha:void 0}),E.createElement(w4,{prefixCls:i,marks:is,onClick:wi})))});const Hr=({value:e,onChange:t})=>{const[n,i]=E.useState(!1),{rgbValue:o,rgbaValue:l,alphaValue:a,rgbStrValue:c,doChangePicker:f,doChangeAlpha:d,doChangeRgbValue:g,doRgbBlur:m,doAlphaBlur:_,doChangeAlphaValue:y}=G3({value:e,onChange:t});return A.jsxs("div",{className:"relative max-w-40 ",children:[A.jsxs(ap,{open:n,onOpenChange:i,placement:"bottom-start",initialOffset:10,children:[A.jsx(up,{onClick:()=>i(x=>!x),className:`w-[18px] h-[18px] rounded absolute left-1 top-1 ${n?"border-2 border-highlight":""}`,style:{background:o},children:""}),A.jsx(cp,{className:"bg-default-2 border border-default-1 p-4 rounded-lg color-picker",children:A.jsx(K3,{color:l,onChange:x=>f(x)})})]}),A.jsx("input",{type:"text",autoComplete:"off",spellCheck:!1,className:"color-input",value:c,onChange:x=>g(x.currentTarget.value),onBlur:()=>m()}),A.jsx("input",{type:"text",autoComplete:"off",spellCheck:!1,className:"alpha-input",value:a,onChange:x=>d(x.currentTarget.value),onBlur:()=>_()}),A.jsx(M4,{value:l.a,setValue:x=>y(x)})]})},M4=({value:e,setValue:t})=>{const[n,i]=E.useState(!1);return A.jsxs(ap,{open:n,onOpenChange:i,placement:"bottom",initialOffset:10,children:[A.jsx(up,{onClick:()=>i(o=>!o),className:`absolute border right-px top-px w-6 h-6 cursor-pointer center rounded text-white/65" ${n?"border-highlight":"border-transparent"}`,children:A.jsx(a2,{size:18,stroke:1})}),A.jsx(cp,{className:"bg-default-2 px-4 py-2 rounded w-60 border border-white/10",children:A.jsx(g1,{min:0,max:1,step:.01,value:e,onChange:o=>t(o)})})]})},A4=({min:e=0,max:t=100,sensitivity:n=1,decimals:i=4,value:o,onChange:l,convertFrom:a,convertTo:c})=>{const[f,d]=E.useState(""),[g,m]=E.useState(0),[_,y]=E.useState(!1),x=E.useRef(0),k=E.useRef(0);E.useEffect(()=>{if(isNaN(o))return;let N=o;a&&(N=a(N)),d(N.toString()),m(o)},[o,a]);const S=N=>{x.current=N,window.addEventListener("mousemove",b),window.addEventListener("mouseup",w),y(!0)},b=N=>{requestAnimationFrame(()=>{let j=Number(f)+(N.screenX-x.current)*n;C(j)})},w=()=>{y(!1),window.removeEventListener("mousemove",b),window.removeEventListener("mouseup",w)},C=N=>{N=cE(N,e,t),N=fE(N,i),d(N.toString()),k.current=N,m(N),c&&(N=c(N)),l(N)};return{strValue:f,numValue:g,onMouseDown:S,updateInputValue:C,doChange:N=>{let j=Number(N);if(N===""||N.endsWith(".")||isNaN(j)){d(N);return}C(j)},doBlur:()=>{C(k.current)},isHoverSliding:_}},Et=({min:e=0,max:t=100,sensitivity:n=1,decimals:i=3,label:o,value:l,icon:a,onChange:c,convertTo:f,convertFrom:d,className:g=""})=>{const{strValue:m,numValue:_,onMouseDown:y,doChange:x,doBlur:k,updateInputValue:S,isHoverSliding:b}=A4({min:e,max:t,sensitivity:n,decimals:i,value:l,onChange:c,convertTo:f,convertFrom:d});return A.jsxs("div",{children:[o&&A.jsx("label",{className:"text-xs font-light opacity-65",children:o}),A.jsxs("div",{className:`relative ${g}`,children:[A.jsx("button",{className:`absolute left-px top-px w-6 h-6 cursor-ew-resize center rounded text-white/65 border ${b?"border-highlight":"border-transparent"}`,onMouseDown:w=>y(w.screenX),children:a&&A.jsx(a,{size:18,stroke:1})}),A.jsx("input",{type:"text",autoComplete:"off",spellCheck:!1,className:"slider-input",value:m,onChange:w=>x(w.target.value),onBlur:()=>k()}),A.jsx(P4,{min:e,max:t,value:_,setValue:S})]})]})},P4=({min:e,max:t,value:n,setValue:i})=>{const[o,l]=E.useState(!1);return A.jsxs(ap,{open:o,onOpenChange:l,placement:"bottom",initialOffset:10,children:[A.jsx(up,{onClick:()=>l(a=>!a),className:`absolute border right-px top-px w-6 h-6 cursor-pointer center rounded text-white/65" ${o?"border-highlight":"border-transparent"}`,children:A.jsx(_2,{size:18,stroke:1})}),A.jsx(cp,{className:"bg-default-2 px-4 py-2 rounded w-64 border border-white/10",children:A.jsx(g1,{min:e,max:t,value:n,onChange:a=>i(a)})})]})};var Il={},o_;function O4(){if(o_)return Il;o_=1,Object.defineProperty(Il,"__esModule",{value:!0}),Il.parse=a,Il.serialize=d;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function a(_,y){const x=new l,k=_.length;if(k<2)return x;const S=(y==null?void 0:y.decode)||g;let b=0;do{const w=_.indexOf("=",b);if(w===-1)break;const C=_.indexOf(";",b),M=C===-1?k:C;if(w>M){b=_.lastIndexOf(";",w-1)+1;continue}const P=c(_,b,w),N=f(_,w,P),j=_.slice(P,N);if(x[j]===void 0){let X=c(_,w+1,M),z=f(_,M,X);const W=S(_.slice(X,z));x[j]=W}b=M+1}while(b<k);return x}function c(_,y,x){do{const k=_.charCodeAt(y);if(k!==32&&k!==9)return y}while(++y<x);return x}function f(_,y,x){for(;y>x;){const k=_.charCodeAt(--y);if(k!==32&&k!==9)return y+1}return x}function d(_,y,x){const k=(x==null?void 0:x.encode)||encodeURIComponent;if(!e.test(_))throw new TypeError(`argument name is invalid: ${_}`);const S=k(y);if(!t.test(S))throw new TypeError(`argument val is invalid: ${y}`);let b=_+"="+S;if(!x)return b;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);b+="; Max-Age="+x.maxAge}if(x.domain){if(!n.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);b+="; Domain="+x.domain}if(x.path){if(!i.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);b+="; Path="+x.path}if(x.expires){if(!m(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);b+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(b+="; HttpOnly"),x.secure&&(b+="; Secure"),x.partitioned&&(b+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":b+="; Priority=Low";break;case"medium":b+="; Priority=Medium";break;case"high":b+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":b+="; SameSite=Strict";break;case"lax":b+="; SameSite=Lax";break;case"none":b+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return b}function g(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function m(_){return o.call(_)==="[object Date]"}return Il}O4();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var l_="popstate";function L4(e={}){function t(i,o){let{pathname:l,search:a,hash:c}=i.location;return Od("",{pathname:l,search:a,hash:c},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){return typeof o=="string"?o:ea(o)}return N4(t,n,null,e)}function ft(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Xr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function F4(){return Math.random().toString(36).substring(2,10)}function a_(e,t){return{usr:e.state,key:e.key,idx:t}}function Od(e,t,n=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ho(t):t,state:n,key:t&&t.key||i||F4()}}function ea({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ho(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function N4(e,t,n,i={}){let{window:o=document.defaultView,v5Compat:l=!1}=i,a=o.history,c="POP",f=null,d=g();d==null&&(d=0,a.replaceState({...a.state,idx:d},""));function g(){return(a.state||{idx:null}).idx}function m(){c="POP";let S=g(),b=S==null?null:S-d;d=S,f&&f({action:c,location:k.location,delta:b})}function _(S,b){c="PUSH";let w=Od(k.location,S,b);d=g()+1;let C=a_(w,d),M=k.createHref(w);try{a.pushState(C,"",M)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;o.location.assign(M)}l&&f&&f({action:c,location:k.location,delta:1})}function y(S,b){c="REPLACE";let w=Od(k.location,S,b);d=g();let C=a_(w,d),M=k.createHref(w);a.replaceState(C,"",M),l&&f&&f({action:c,location:k.location,delta:0})}function x(S){let b=o.location.origin!=="null"?o.location.origin:o.location.href,w=typeof S=="string"?S:ea(S);return w=w.replace(/ $/,"%20"),ft(b,`No window.location.(origin|href) available to create URL for href: ${w}`),new URL(w,b)}let k={get action(){return c},get location(){return e(o,a)},listen(S){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(l_,m),f=S,()=>{o.removeEventListener(l_,m),f=null}},createHref(S){return t(o,S)},createURL:x,encodeLocation(S){let b=x(S);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:_,replace:y,go(S){return a.go(S)}};return k}function m1(e,t,n="/"){return I4(e,t,n,!1)}function I4(e,t,n,i){let o=typeof t=="string"?Ho(t):t,l=ts(o.pathname||"/",n);if(l==null)return null;let a=y1(e);j4(a);let c=null;for(let f=0;c==null&&f<a.length;++f){let d=K4(l);c=Y4(a[f],d,i)}return c}function y1(e,t=[],n=[],i=""){let o=(l,a,c)=>{let f={relativePath:c===void 0?l.path||"":c,caseSensitive:l.caseSensitive===!0,childrenIndex:a,route:l};f.relativePath.startsWith("/")&&(ft(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length));let d=yi([i,f.relativePath]),g=n.concat(f);l.children&&l.children.length>0&&(ft(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),y1(l.children,t,g,d)),!(l.path==null&&!l.index)&&t.push({path:d,score:H4(d,l.index),routesMeta:g})};return e.forEach((l,a)=>{var c;if(l.path===""||!((c=l.path)!=null&&c.includes("?")))o(l,a);else for(let f of _1(l.path))o(l,a,f)}),t}function _1(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,o=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let a=_1(i.join("/")),c=[];return c.push(...a.map(f=>f===""?l:[l,f].join("/"))),o&&c.push(...a),c.map(f=>e.startsWith("/")&&f===""?"/":f)}function j4(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:W4(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var D4=/^:[\w-]+$/,z4=3,B4=2,$4=1,U4=10,V4=-2,u_=e=>e==="*";function H4(e,t){let n=e.split("/"),i=n.length;return n.some(u_)&&(i+=V4),t&&(i+=B4),n.filter(o=>!u_(o)).reduce((o,l)=>o+(D4.test(l)?z4:l===""?$4:U4),i)}function W4(e,t){return e.length===t.length&&e.slice(0,-1).every((i,o)=>i===t[o])?e[e.length-1]-t[t.length-1]:0}function Y4(e,t,n=!1){let{routesMeta:i}=e,o={},l="/",a=[];for(let c=0;c<i.length;++c){let f=i[c],d=c===i.length-1,g=l==="/"?t:t.slice(l.length)||"/",m=lc({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},g),_=f.route;if(!m&&d&&n&&!i[i.length-1].route.index&&(m=lc({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!m)return null;Object.assign(o,m.params),a.push({params:o,pathname:yi([l,m.pathname]),pathnameBase:Z4(yi([l,m.pathnameBase])),route:_}),m.pathnameBase!=="/"&&(l=yi([l,m.pathnameBase]))}return a}function lc(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=X4(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let l=o[0],a=l.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:i.reduce((d,{paramName:g,isOptional:m},_)=>{if(g==="*"){let x=c[_]||"";a=l.slice(0,l.length-x.length).replace(/(.)\/+$/,"$1")}const y=c[_];return m&&!y?d[g]=void 0:d[g]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:l,pathnameBase:a,pattern:e}}function X4(e,t=!1,n=!0){Xr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,c,f)=>(i.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),i]}function K4(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Xr(!1,`The URL path "${e}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ts(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function q4(e,t="/"){let{pathname:n,search:i="",hash:o=""}=typeof e=="string"?Ho(e):e;return{pathname:n?n.startsWith("/")?n:G4(n,t):t,search:J4(i),hash:eC(o)}}function G4(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function ed(e,t,n,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Q4(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function v1(e){let t=Q4(e);return t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase)}function x1(e,t,n,i=!1){let o;typeof e=="string"?o=Ho(e):(o={...e},ft(!o.pathname||!o.pathname.includes("?"),ed("?","pathname","search",o)),ft(!o.pathname||!o.pathname.includes("#"),ed("#","pathname","hash",o)),ft(!o.search||!o.search.includes("#"),ed("#","search","hash",o)));let l=e===""||o.pathname==="",a=l?"/":o.pathname,c;if(a==null)c=n;else{let m=t.length-1;if(!i&&a.startsWith("..")){let _=a.split("/");for(;_[0]==="..";)_.shift(),m-=1;o.pathname=_.join("/")}c=m>=0?t[m]:"/"}let f=q4(o,c),d=a&&a!=="/"&&a.endsWith("/"),g=(l||a===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(d||g)&&(f.pathname+="/"),f}var yi=e=>e.join("/").replace(/\/\/+/g,"/"),Z4=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),J4=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,eC=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function tC(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var w1=["POST","PUT","PATCH","DELETE"];new Set(w1);var nC=["GET",...w1];new Set(nC);var Wo=E.createContext(null);Wo.displayName="DataRouter";var Lc=E.createContext(null);Lc.displayName="DataRouterState";var k1=E.createContext({isTransitioning:!1});k1.displayName="ViewTransition";var rC=E.createContext(new Map);rC.displayName="Fetchers";var iC=E.createContext(null);iC.displayName="Await";var Gr=E.createContext(null);Gr.displayName="Navigation";var la=E.createContext(null);la.displayName="Location";var Qr=E.createContext({outlet:null,matches:[],isDataRoute:!1});Qr.displayName="Route";var hp=E.createContext(null);hp.displayName="RouteError";function sC(e,{relative:t}={}){ft(aa(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=E.useContext(Gr),{hash:o,pathname:l,search:a}=ua(e,{relative:t}),c=l;return n!=="/"&&(c=l==="/"?n:yi([n,l])),i.createHref({pathname:c,search:a,hash:o})}function aa(){return E.useContext(la)!=null}function Vs(){return ft(aa(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(la).location}var b1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function S1(e){E.useContext(Gr).static||E.useLayoutEffect(e)}function oC(){let{isDataRoute:e}=E.useContext(Qr);return e?xC():lC()}function lC(){ft(aa(),"useNavigate() may be used only in the context of a <Router> component.");let e=E.useContext(Wo),{basename:t,navigator:n}=E.useContext(Gr),{matches:i}=E.useContext(Qr),{pathname:o}=Vs(),l=JSON.stringify(v1(i)),a=E.useRef(!1);return S1(()=>{a.current=!0}),E.useCallback((f,d={})=>{if(Xr(a.current,b1),!a.current)return;if(typeof f=="number"){n.go(f);return}let g=x1(f,JSON.parse(l),o,d.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:yi([t,g.pathname])),(d.replace?n.replace:n.push)(g,d.state,d)},[t,n,l,o,e])}E.createContext(null);function aC(){let{matches:e}=E.useContext(Qr),t=e[e.length-1];return t?t.params:{}}function ua(e,{relative:t}={}){let{matches:n}=E.useContext(Qr),{pathname:i}=Vs(),o=JSON.stringify(v1(n));return E.useMemo(()=>x1(e,JSON.parse(o),i,t==="path"),[e,o,i,t])}function uC(e,t){return E1(e,t)}function E1(e,t,n,i){var b;ft(aa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=E.useContext(Gr),{matches:l}=E.useContext(Qr),a=l[l.length-1],c=a?a.params:{},f=a?a.pathname:"/",d=a?a.pathnameBase:"/",g=a&&a.route;{let w=g&&g.path||"";C1(f,!g||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let m=Vs(),_;if(t){let w=typeof t=="string"?Ho(t):t;ft(d==="/"||((b=w.pathname)==null?void 0:b.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${w.pathname}" was given in the \`location\` prop.`),_=w}else _=m;let y=_.pathname||"/",x=y;if(d!=="/"){let w=d.replace(/^\//,"").split("/");x="/"+y.replace(/^\//,"").split("/").slice(w.length).join("/")}let k=m1(e,{pathname:x});Xr(g||k!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Xr(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=pC(k&&k.map(w=>Object.assign({},w,{params:Object.assign({},c,w.params),pathname:yi([d,o.encodeLocation?o.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?d:yi([d,o.encodeLocation?o.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),l,n,i);return t&&S?E.createElement(la.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},S):S}function cC(){let e=vC(),t=tC(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=E.createElement(E.Fragment,null,E.createElement("p",null," Hey developer "),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:l},"ErrorBoundary")," or"," ",E.createElement("code",{style:l},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},t),n?E.createElement("pre",{style:o},n):null,a)}var fC=E.createElement(cC,null),hC=class extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?E.createElement(Qr.Provider,{value:this.props.routeContext},E.createElement(hp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function dC({routeContext:e,match:t,children:n}){let i=E.useContext(Wo);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),E.createElement(Qr.Provider,{value:e},n)}function pC(e,t=[],n=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=n==null?void 0:n.errors;if(l!=null){let f=o.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);ft(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,f+1))}let a=!1,c=-1;if(n)for(let f=0;f<o.length;f++){let d=o[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=f),d.route.id){let{loaderData:g,errors:m}=n,_=d.route.loader&&!g.hasOwnProperty(d.route.id)&&(!m||m[d.route.id]===void 0);if(d.route.lazy||_){a=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((f,d,g)=>{let m,_=!1,y=null,x=null;n&&(m=l&&d.route.id?l[d.route.id]:void 0,y=d.route.errorElement||fC,a&&(c<0&&g===0?(C1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,x=null):c===g&&(_=!0,x=d.route.hydrateFallbackElement||null)));let k=t.concat(o.slice(0,g+1)),S=()=>{let b;return m?b=y:_?b=x:d.route.Component?b=E.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=f,E.createElement(dC,{match:d,routeContext:{outlet:f,matches:k,isDataRoute:n!=null},children:b})};return n&&(d.route.ErrorBoundary||d.route.errorElement||g===0)?E.createElement(hC,{location:n.location,revalidation:n.revalidation,component:y,error:m,children:S(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):S()},null)}function dp(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gC(e){let t=E.useContext(Wo);return ft(t,dp(e)),t}function mC(e){let t=E.useContext(Lc);return ft(t,dp(e)),t}function yC(e){let t=E.useContext(Qr);return ft(t,dp(e)),t}function pp(e){let t=yC(e),n=t.matches[t.matches.length-1];return ft(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function _C(){return pp("useRouteId")}function vC(){var i;let e=E.useContext(hp),t=mC("useRouteError"),n=pp("useRouteError");return e!==void 0?e:(i=t.errors)==null?void 0:i[n]}function xC(){let{router:e}=gC("useNavigate"),t=pp("useNavigate"),n=E.useRef(!1);return S1(()=>{n.current=!0}),E.useCallback(async(o,l={})=>{Xr(n.current,b1),n.current&&(typeof o=="number"?e.navigate(o):await e.navigate(o,{fromRouteId:t,...l}))},[e,t])}var c_={};function C1(e,t,n){!t&&!c_[e]&&(c_[e]=!0,Xr(!1,n))}E.memo(wC);function wC({routes:e,future:t,state:n}){return E1(e,void 0,n,t)}function Ld(e){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function kC({basename:e="/",children:t=null,location:n,navigationType:i="POP",navigator:o,static:l=!1}){ft(!aa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=e.replace(/^\/*/,"/"),c=E.useMemo(()=>({basename:a,navigator:o,static:l,future:{}}),[a,o,l]);typeof n=="string"&&(n=Ho(n));let{pathname:f="/",search:d="",hash:g="",state:m=null,key:_="default"}=n,y=E.useMemo(()=>{let x=ts(f,a);return x==null?null:{location:{pathname:x,search:d,hash:g,state:m,key:_},navigationType:i}},[a,f,d,g,m,_,i]);return Xr(y!=null,`<Router basename="${a}"> is not able to match the URL "${f}${d}${g}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:E.createElement(Gr.Provider,{value:c},E.createElement(la.Provider,{children:t,value:y}))}function bC({children:e,location:t}){return uC(Fd(e),t)}function Fd(e,t=[]){let n=[];return E.Children.forEach(e,(i,o)=>{if(!E.isValidElement(i))return;let l=[...t,o];if(i.type===E.Fragment){n.push.apply(n,Fd(i.props.children,l));return}ft(i.type===Ld,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!i.props.index||!i.props.children,"An index route cannot have child routes.");let a={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=Fd(i.props.children,l)),n.push(a)}),n}var Uu="get",Vu="application/x-www-form-urlencoded";function Fc(e){return e!=null&&typeof e.tagName=="string"}function SC(e){return Fc(e)&&e.tagName.toLowerCase()==="button"}function EC(e){return Fc(e)&&e.tagName.toLowerCase()==="form"}function CC(e){return Fc(e)&&e.tagName.toLowerCase()==="input"}function RC(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function TC(e,t){return e.button===0&&(!t||t==="_self")&&!RC(e)}var Iu=null;function MC(){if(Iu===null)try{new FormData(document.createElement("form"),0),Iu=!1}catch{Iu=!0}return Iu}var AC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function td(e){return e!=null&&!AC.has(e)?(Xr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vu}"`),null):e}function PC(e,t){let n,i,o,l,a;if(EC(e)){let c=e.getAttribute("action");i=c?ts(c,t):null,n=e.getAttribute("method")||Uu,o=td(e.getAttribute("enctype"))||Vu,l=new FormData(e)}else if(SC(e)||CC(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||c.getAttribute("action");if(i=f?ts(f,t):null,n=e.getAttribute("formmethod")||c.getAttribute("method")||Uu,o=td(e.getAttribute("formenctype"))||td(c.getAttribute("enctype"))||Vu,l=new FormData(c,e),!MC()){let{name:d,type:g,value:m}=e;if(g==="image"){let _=d?`${d}.`:"";l.append(`${_}x`,"0"),l.append(`${_}y`,"0")}else d&&l.append(d,m)}}else{if(Fc(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Uu,i=null,o=Vu,a=e}return l&&o==="text/plain"&&(a=l,l=void 0),{action:i,method:n.toLowerCase(),encType:o,formData:l,body:a}}function gp(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function OC(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function LC(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function FC(e,t,n){let i=await Promise.all(e.map(async o=>{let l=t.routes[o.route.id];if(l){let a=await OC(l,n);return a.links?a.links():[]}return[]}));return DC(i.flat(1).filter(LC).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function f_(e,t,n,i,o,l){let a=(f,d)=>n[d]?f.route.id!==n[d].route.id:!0,c=(f,d)=>{var g;return n[d].pathname!==f.pathname||((g=n[d].route.path)==null?void 0:g.endsWith("*"))&&n[d].params["*"]!==f.params["*"]};return l==="assets"?t.filter((f,d)=>a(f,d)||c(f,d)):l==="data"?t.filter((f,d)=>{var m;let g=i.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(a(f,d)||c(f,d))return!0;if(f.route.shouldRevalidate){let _=f.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function NC(e,t){return IC(e.map(n=>{let i=t.routes[n.route.id];if(!i)return[];let o=[i.module];return i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function IC(e){return[...new Set(e)]}function jC(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}function DC(e,t){let n=new Set;return new Set(t),e.reduce((i,o)=>{let l=JSON.stringify(jC(o));return n.has(l)||(n.add(l),i.push({key:l,link:o})),i},[])}function zC(e){let t=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function BC(){let e=E.useContext(Wo);return gp(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function $C(){let e=E.useContext(Lc);return gp(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var mp=E.createContext(void 0);mp.displayName="FrameworkContext";function R1(){let e=E.useContext(mp);return gp(e,"You must render this element inside a <HydratedRouter> element"),e}function UC(e,t){let n=E.useContext(mp),[i,o]=E.useState(!1),[l,a]=E.useState(!1),{onFocus:c,onBlur:f,onMouseEnter:d,onMouseLeave:g,onTouchStart:m}=t,_=E.useRef(null);E.useEffect(()=>{if(e==="render"&&a(!0),e==="viewport"){let k=b=>{b.forEach(w=>{a(w.isIntersecting)})},S=new IntersectionObserver(k,{threshold:.5});return _.current&&S.observe(_.current),()=>{S.disconnect()}}},[e]),E.useEffect(()=>{if(i){let k=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(k)}}},[i]);let y=()=>{o(!0)},x=()=>{o(!1),a(!1)};return n?e!=="intent"?[l,_,{}]:[l,_,{onFocus:jl(c,y),onBlur:jl(f,x),onMouseEnter:jl(d,y),onMouseLeave:jl(g,x),onTouchStart:jl(m,y)}]:[!1,_,{}]}function jl(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function VC({page:e,...t}){let{router:n}=BC(),i=E.useMemo(()=>m1(n.routes,e,n.basename),[n.routes,e,n.basename]);return i?E.createElement(WC,{page:e,matches:i,...t}):null}function HC(e){let{manifest:t,routeModules:n}=R1(),[i,o]=E.useState([]);return E.useEffect(()=>{let l=!1;return FC(e,t,n).then(a=>{l||o(a)}),()=>{l=!0}},[e,t,n]),i}function WC({page:e,matches:t,...n}){let i=Vs(),{manifest:o,routeModules:l}=R1(),{loaderData:a,matches:c}=$C(),f=E.useMemo(()=>f_(e,t,c,o,i,"data"),[e,t,c,o,i]),d=E.useMemo(()=>f_(e,t,c,o,i,"assets"),[e,t,c,o,i]),g=E.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let y=new Set,x=!1;if(t.forEach(S=>{var w;let b=o.routes[S.route.id];!b||!b.hasLoader||(!f.some(C=>C.route.id===S.route.id)&&S.route.id in a&&((w=l[S.route.id])!=null&&w.shouldRevalidate)||b.hasClientLoader?x=!0:y.add(S.route.id))}),y.size===0)return[];let k=zC(e);return x&&y.size>0&&k.searchParams.set("_routes",t.filter(S=>y.has(S.route.id)).map(S=>S.route.id).join(",")),[k.pathname+k.search]},[a,i,o,f,t,e,l]),m=E.useMemo(()=>NC(d,o),[d,o]),_=HC(d);return E.createElement(E.Fragment,null,g.map(y=>E.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...n})),m.map(y=>E.createElement("link",{key:y,rel:"modulepreload",href:y,...n})),_.map(({key:y,link:x})=>E.createElement("link",{key:y,...x})))}function YC(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var T1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{T1&&(window.__reactRouterVersion="7.1.1")}catch{}function XC({basename:e,children:t,window:n}){let i=E.useRef();i.current==null&&(i.current=L4({window:n,v5Compat:!0}));let o=i.current,[l,a]=E.useState({action:o.action,location:o.location}),c=E.useCallback(f=>{E.startTransition(()=>a(f))},[a]);return E.useLayoutEffect(()=>o.listen(c),[o,c]),E.createElement(kC,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:o})}var M1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yp=E.forwardRef(function({onClick:t,discover:n="render",prefetch:i="none",relative:o,reloadDocument:l,replace:a,state:c,target:f,to:d,preventScrollReset:g,viewTransition:m,..._},y){let{basename:x}=E.useContext(Gr),k=typeof d=="string"&&M1.test(d),S,b=!1;if(typeof d=="string"&&k&&(S=d,T1))try{let z=new URL(window.location.href),W=d.startsWith("//")?new URL(z.protocol+d):new URL(d),K=ts(W.pathname,x);W.origin===z.origin&&K!=null?d=K+W.search+W.hash:b=!0}catch{Xr(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=sC(d,{relative:o}),[C,M,P]=UC(i,_),N=QC(d,{replace:a,state:c,target:f,preventScrollReset:g,relative:o,viewTransition:m});function j(z){t&&t(z),z.defaultPrevented||N(z)}let X=E.createElement("a",{..._,...P,href:S||w,onClick:b||l?t:j,ref:YC(y,M),target:f,"data-discover":!k&&n==="render"?"true":void 0});return C&&!k?E.createElement(E.Fragment,null,X,E.createElement(VC,{page:w})):X});yp.displayName="Link";var KC=E.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:i="",end:o=!1,style:l,to:a,viewTransition:c,children:f,...d},g){let m=ua(a,{relative:d.relative}),_=Vs(),y=E.useContext(Lc),{navigator:x,basename:k}=E.useContext(Gr),S=y!=null&&nR(m)&&c===!0,b=x.encodeLocation?x.encodeLocation(m).pathname:m.pathname,w=_.pathname,C=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(w=w.toLowerCase(),C=C?C.toLowerCase():null,b=b.toLowerCase()),C&&k&&(C=ts(C,k)||C);const M=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let P=w===b||!o&&w.startsWith(b)&&w.charAt(M)==="/",N=C!=null&&(C===b||!o&&C.startsWith(b)&&C.charAt(b.length)==="/"),j={isActive:P,isPending:N,isTransitioning:S},X=P?t:void 0,z;typeof i=="function"?z=i(j):z=[i,P?"active":null,N?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let W=typeof l=="function"?l(j):l;return E.createElement(yp,{...d,"aria-current":X,className:z,ref:g,style:W,to:a,viewTransition:c},typeof f=="function"?f(j):f)});KC.displayName="NavLink";var qC=E.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:i,replace:o,state:l,method:a=Uu,action:c,onSubmit:f,relative:d,preventScrollReset:g,viewTransition:m,..._},y)=>{let x=eR(),k=tR(c,{relative:d}),S=a.toLowerCase()==="get"?"get":"post",b=typeof c=="string"&&M1.test(c),w=C=>{if(f&&f(C),C.defaultPrevented)return;C.preventDefault();let M=C.nativeEvent.submitter,P=(M==null?void 0:M.getAttribute("formmethod"))||a;x(M||C.currentTarget,{fetcherKey:t,method:P,navigate:n,replace:o,state:l,relative:d,preventScrollReset:g,viewTransition:m})};return E.createElement("form",{ref:y,method:S,action:k,onSubmit:i?f:w,..._,"data-discover":!b&&e==="render"?"true":void 0})});qC.displayName="Form";function GC(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function A1(e){let t=E.useContext(Wo);return ft(t,GC(e)),t}function QC(e,{target:t,replace:n,state:i,preventScrollReset:o,relative:l,viewTransition:a}={}){let c=oC(),f=Vs(),d=ua(e,{relative:l});return E.useCallback(g=>{if(TC(g,t)){g.preventDefault();let m=n!==void 0?n:ea(f)===ea(d);c(e,{replace:m,state:i,preventScrollReset:o,relative:l,viewTransition:a})}},[f,c,d,n,i,t,e,o,l,a])}var ZC=0,JC=()=>`__${String(++ZC)}__`;function eR(){let{router:e}=A1("useSubmit"),{basename:t}=E.useContext(Gr),n=_C();return E.useCallback(async(i,o={})=>{let{action:l,method:a,encType:c,formData:f,body:d}=PC(i,t);if(o.navigate===!1){let g=o.fetcherKey||JC();await e.fetch(g,n,o.action||l,{preventScrollReset:o.preventScrollReset,formData:f,body:d,formMethod:o.method||a,formEncType:o.encType||c,flushSync:o.flushSync})}else await e.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:f,body:d,formMethod:o.method||a,formEncType:o.encType||c,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[e,t,n])}function tR(e,{relative:t}={}){let{basename:n}=E.useContext(Gr),i=E.useContext(Qr);ft(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),l={...ua(e||".",{relative:t})},a=Vs();if(e==null){l.search=a.search;let c=new URLSearchParams(l.search),f=c.getAll("index");if(f.some(g=>g==="")){c.delete("index"),f.filter(m=>m).forEach(m=>c.append("index",m));let g=c.toString();l.search=g?`?${g}`:""}}return(!e||e===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:yi([n,l.pathname])),ea(l)}function nR(e,t={}){let n=E.useContext(k1);ft(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=A1("useViewTransitionState"),o=ua(e,{relative:t.relative});if(!n.isTransitioning)return!1;let l=ts(n.currentLocation.pathname,i)||n.currentLocation.pathname,a=ts(n.nextLocation.pathname,i)||n.nextLocation.pathname;return lc(o.pathname,a)!=null||lc(o.pathname,l)!=null}new TextEncoder;const rR=()=>{const[e,t]=E.useState([]);async function n(){const i=await kb();t(i)}return E.useEffect(()=>{n()},[]),A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"pb-1 pt-4",children:"Sketches"}),A.jsx("div",{className:"h-64 overflow-y-auto scroll-smooth shadow rounded bg-default-3",children:A.jsx("div",{className:"flex flex-col text-sm gap-1",children:e.map(i=>A.jsx(yp,{className:"px-2 py-0.5 hover:bg-default-4",to:`/sketch/${i}`,children:i},i))})})]})};let ac=new Map,Nd;function iR(){for(const[,e]of ac)Mc({type:"update",label:"Edit properties",shapeId:e.shapeId,changes:Array.from(e.changes.values())});ac=new Map,Nd=void 0}function sR(e,t,n,i){let o=ac.get(e);o||(o={shapeId:e,changes:new Map},ac.set(e,o));const l=o.changes.get(t);o.changes.set(t,{field:t,oldValue:l?l.oldValue:n,newValue:i}),clearTimeout(Nd),Nd=setTimeout(iR,500)}function oR(e,t){const n=t.split(".");return n.length===2?e[n[0]][n[1]]:e[t]}const lR=()=>{const e=Mn(d=>d.selected),t=e==null?void 0:e[0],n=it(t==null?void 0:t.stroke).toRgb(),i=it(t==null?void 0:t.fill).toRgb(),o=Ke(d=>d.canvasColor),l=Ke.getState().setCanvasColor,a=Ke(d=>d.showGrid),c=Ke(d=>d.gridSize);function f(d,g){const m=$e();for(const _ of Mn.getState().selected){const y=oR(_,d),x=d.split(".");["stroke","fill"].includes(d)&&(g=it(g).toHex()),x.length==2?_[x[0]][x[1]]=g:_[d]=g,sR(_.id,d,y,g)}m.throttledTwoUpdate()}return A.jsxs("div",{className:"flex flex-col h-full",children:[A.jsxs("div",{className:"flex-grow",children:[!(e!=null&&e.length)&&A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"pt-4 pb-1 text-sm",children:"Page"}),A.jsx("div",{className:"flex flex-col gap-4",children:A.jsx(Hr,{value:o,onChange:d=>l(d)})}),A.jsx("div",{className:"pt-4 pb-1 text-sm",children:"Grid"}),A.jsxs("div",{className:"flex flex-col gap-2",children:[A.jsxs("label",{className:"flex items-center gap-2 text-xs cursor-pointer",children:[A.jsx("input",{type:"checkbox",checked:a,onChange:d=>{const g=d.target.checked;Ke.getState().setShowGrid(g),e1(g)}}),"Show grid"]}),A.jsx(Et,{icon:e2,min:5,max:100,value:c,onChange:d=>{Ke.getState().setGridSize(d),ZE(d)}})]}),A.jsx("div",{children:A.jsx(rR,{})})]}),!!(e!=null&&e.length)&&A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"pt-4 pb-1 text-sm",children:"Color"}),A.jsxs("div",{className:"flex flex-col gap-4",children:[n&&A.jsx(Hr,{value:n,onChange:d=>f("stroke",d)}),i&&A.jsx(Hr,{value:i,onChange:d=>f("fill",d)})]}),A.jsx("div",{className:"pt-4 pb-1 text-sm",children:"Stroke"}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsx(Et,{icon:jd,min:1,max:5e3,value:t==null?void 0:t.linewidth,onChange:d=>f("linewidth",d)}),A.jsx(Et,{icon:x_,min:-100,max:100,value:t==null?void 0:t.radius,onChange:d=>f("radius",d)})]}),A.jsx("div",{className:"pt-4 pb-1 text-sm",children:"Size"}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsx(Et,{icon:m2,min:1,max:5e3,value:t==null?void 0:t.width,onChange:d=>f("width",d)}),A.jsx(Et,{icon:p2,min:1,max:5e3,value:t==null?void 0:t.height,onChange:d=>f("height",d)})]}),A.jsx("div",{className:"pt-4 pb-1 text-sm",children:"Position"}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsx(Et,{icon:S2,min:-5e3,max:5e3,value:t==null?void 0:t.position.x,onChange:d=>f("position.x",d)}),A.jsx(Et,{icon:C2,min:-5e3,max:5e3,value:t==null?void 0:t.position.y,onChange:d=>f("position.y",d)})]}),A.jsx("div",{className:"pt-4 pb-1 text-sm",children:"Transform"}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsx(Et,{icon:m_,min:-360,max:360,sensitivity:1,value:t==null?void 0:t.rotation,onChange:d=>f("rotation",d),convertFrom:hE,convertTo:dE}),A.jsx(Et,{icon:Yw,min:-1/0,max:1/0,sensitivity:1,value:t==null?void 0:t.scale,onChange:d=>f("scale",d),convertFrom:d=>d*100,convertTo:d=>d/100}),A.jsx(Et,{icon:x2,min:-Math.PI,max:Math.PI,sensitivity:.01,value:t==null?void 0:t.skewX,onChange:d=>f("skewX",d)}),A.jsx(Et,{icon:k2,min:-Math.PI,max:Math.PI,sensitivity:.01,value:t==null?void 0:t.skewY,onChange:d=>f("skewY",d)})]})]})]}),A.jsx("div",{children:A.jsx(I3,{})}),A.jsx("div",{children:A.jsx(L3,{})}),A.jsx("div",{className:"pt-16"})]})},aR=()=>{const e=Ke(n=>n.isPanelOpen),t=Ke.getState().setIsPanelOpen;return A.jsx("div",{className:`transition-all duration-150 w-64 absolute right-0 top-0 overflow-hidden ${e?"h-[calc(100%-56px)] md:h-full":"h-11"}`,children:A.jsxs("div",{className:`bg-default-2 border-l border-default-1 px-4 h-full ${e?"":"rounded-bl-lg"}`,children:[A.jsxs("div",{className:"flex items-center w-full gap-4 py-1",children:[A.jsx(Gi,{onClick:()=>t(!e),children:A.jsx(o2,{stroke:1})}),A.jsx(uR,{})]}),A.jsx(lR,{})]})})},uR=()=>{const e=Ac(o=>o.zoom),t=Yr(o=>o.undoStack.length),n=Yr(o=>o.redoStack.length),i=()=>{$e().saveDoodles()};return A.jsxs("div",{className:"text-sm flex justify-end items-center w-full",children:[A.jsx(Ct,{tooltip:"Undo (Ctrl+Z)",children:A.jsx(Gi,{onClick:tp,disabled:t===0,children:A.jsx(y_,{stroke:1})})}),A.jsx(Ct,{tooltip:"Redo (Ctrl+Shift+Z)",children:A.jsx(Gi,{onClick:np,disabled:n===0,children:A.jsx(__,{stroke:1})})}),A.jsx(Ct,{tooltip:"Save to local storage",children:A.jsx(Gi,{onClick:()=>i(),children:A.jsx(Hw,{stroke:1})})}),A.jsx(Ct,{tooltip:"Reset zoom",children:A.jsx(Gi,{onClick:()=>a3(),children:A.jsx(Zw,{stroke:1})})}),A.jsxs("div",{className:"w-12 text-right",children:[e,"%"]})]})},cR=()=>{E.useEffect(()=>(window.addEventListener("wheel",h_,{passive:!1}),()=>{window.removeEventListener("wheel",h_)}),[])};function h_(e){var t;e.deltaX!==0&&((t=e==null?void 0:e.preventDefault)==null||t.call(e))}const fR=()=>{let e=Ke(n=>n.selectedTool);const t=Ke(n=>n.restoreTool);return t&&(e=t),e==="brush"?A.jsx(hR,{}):e==="square"?A.jsx(dR,{}):e==="bezier"?A.jsx(gR,{}):e==="line"||e==="arrow"?A.jsx(mR,{}):e==="text"?A.jsx(pR,{}):null},hR=()=>{const e=gi(g=>g.strokeWidth),t=gi(g=>g.tolerance),n=gi(g=>g.stabilizer),i=gi(g=>g.strokeColor),o=gi(g=>g.simplifyAlgo),{setStrokeColor:l,setStrokeWidth:a,setStabilizer:c,setTolerance:f,setSimplifyAlgo:d}=gi.getState();return A.jsxs("div",{className:"flex flex-row gap-2 text-xs items-center",children:[A.jsx("label",{children:"Color"}),A.jsx(Hr,{value:i,onChange:g=>l(g)}),A.jsx("label",{className:"pl-2",children:"Stroke"}),A.jsx(Et,{className:"max-w-20",value:e,min:1,max:256,onChange:g=>a(g),icon:jd}),A.jsx("label",{className:"pl-2",children:"Stabilizer"}),A.jsx(Et,{className:"max-w-20",value:n,min:0,max:10,onChange:g=>c(g),icon:Bw}),A.jsx("label",{className:"pl-2",children:"Smoothing"}),A.jsx(Et,{className:"max-w-20",value:t,min:0,max:100,onChange:g=>f(g),icon:b_}),A.jsxs(o1,{children:[A.jsx(Ct,{tooltip:"Douglas-Peucker: High-performance general-purpose simplification. Preserves the path's overall shape efficiently. The number represents the acceptable tolerance x 10 times",children:A.jsx(Vl,{isSelected:o==="douglas",onClick:()=>d("douglas"),children:A.jsx(A2,{size:20,stroke:1})})}),A.jsx(Ct,{tooltip:"Area of Triangle smoothing: General-purpose line simplification, especially for preserving visual shapes and smooth curves. The number represents the percentage of nodes to simplify. (Visvalingam-Whyatt algorithm)",children:A.jsx(Vl,{isSelected:o==="triangle",onClick:()=>d("triangle"),children:A.jsx(O2,{size:20,stroke:1})})}),A.jsx(Ct,{tooltip:"Angle smoothing: Best for straight-line approximations and paths where deviations from linearity are critical to detect. The number represents the percentage of nodes to simplify. (Visvalingam-Whyatt algorithm)",children:A.jsx(Vl,{isSelected:o==="angle",onClick:()=>d("angle"),children:A.jsx(m_,{size:20,stroke:1})})}),A.jsx(Ct,{tooltip:"Perpendicular Distance smoothing: Best for straight-line approximations and paths where deviations from linearity are critical to detect. The number the represents percentage of nodes to simplify. (Visvalingam-Whyatt algorithm)",children:A.jsx(Vl,{isSelected:o==="distance",onClick:()=>d("distance"),children:A.jsx(k_,{size:20,stroke:1})})})]})]})},dR=()=>{const e=Xi(f=>f.strokeWidth),t=Xi(f=>f.strokeColor),n=Xi(f=>f.fillColor),i=Xi(f=>f.radius),{setStrokeColor:o,setStrokeWidth:l,setFillColor:a,setRadius:c}=Xi.getState();return A.jsxs("div",{className:"flex flex-row gap-2 text-xs items-center",children:[A.jsx("label",{children:"Fill"}),A.jsx(Hr,{value:n,onChange:f=>a(f)}),A.jsx("label",{className:"pl-2",children:"Stroke"}),A.jsx(Hr,{value:t,onChange:f=>o(f)}),A.jsx("label",{className:"pl-2",children:"Width"}),A.jsx(Et,{className:"max-w-24",value:e,min:0,max:100,onChange:f=>l(f),icon:w_}),A.jsx("label",{className:"pl-2",children:"Radius"}),A.jsx(Et,{className:"max-w-24",value:i,min:0,max:100,onChange:f=>c(f),icon:x_})]})},pR=()=>{const e=Ul(a=>a.fontSize),t=Ul(a=>a.fillColor),n=Ul(a=>a.fontFamily),{setFillColor:i,setFontSize:o,setFontFamily:l}=Ul.getState();return A.jsxs("div",{className:"flex flex-row gap-2 text-xs items-center",children:[A.jsx("label",{children:"Color"}),A.jsx(Hr,{value:t,onChange:a=>i(a)}),A.jsx("label",{className:"pl-2",children:"Size"}),A.jsx(Et,{className:"max-w-24",value:e,min:8,max:256,onChange:a=>o(a),icon:Dd}),A.jsx("label",{className:"pl-2",children:"Font"}),A.jsxs("select",{className:"bg-default-3 border border-default-1 rounded px-2 py-1 text-xs",value:n,onChange:a=>l(a.target.value),children:[A.jsx("option",{value:"sans-serif",children:"Sans Serif"}),A.jsx("option",{value:"serif",children:"Serif"}),A.jsx("option",{value:"monospace",children:"Monospace"}),A.jsx("option",{value:"cursive",children:"Cursive"})]})]})},gR=()=>{const e=Rn(a=>a.strokeWidth),t=Rn(a=>a.strokeColor),n=Rn(a=>a.fillColor),{setStrokeColor:i,setStrokeWidth:o,setFillColor:l}=Rn.getState();return A.jsxs("div",{className:"flex flex-row gap-2 text-xs items-center",children:[A.jsx("label",{children:"Fill"}),A.jsx(Hr,{value:n,onChange:a=>l(a)}),A.jsx("label",{className:"pl-2",children:"Stroke"}),A.jsx(Hr,{value:t,onChange:a=>i(a)}),A.jsx("label",{className:"pl-2",children:"Width"}),A.jsx(Et,{className:"max-w-24",value:e,min:0,max:100,onChange:a=>o(a),icon:cc})]})},mR=()=>{const e=qi(c=>c.strokeWidth),t=qi(c=>c.strokeColor),n=qi(c=>c.doubleArrow),i=Ke(c=>c.selectedTool),{setStrokeColor:o,setStrokeWidth:l,setDoubleArrow:a}=qi.getState();return A.jsxs("div",{className:"flex flex-row gap-2 text-xs items-center",children:[A.jsx("label",{children:"Color"}),A.jsx(Hr,{value:t,onChange:c=>o(c)}),A.jsx("label",{className:"pl-2",children:"Width"}),A.jsx(Et,{className:"max-w-24",value:e,min:1,max:100,onChange:c=>l(c),icon:cc}),i==="arrow"&&A.jsxs(A.Fragment,{children:[A.jsx("label",{className:"pl-2",children:"Double"}),A.jsx(o1,{children:A.jsx(Ct,{tooltip:"Double-ended arrow",children:A.jsx(Vl,{isSelected:n,onClick:()=>a(!n),children:A.jsx(Iw,{size:20,stroke:1})})})})]})]})},yR=()=>A.jsx("div",{className:"absolute inset-0 bg-default-1 flex flex-center transition-opacity",children:A.jsx("div",{className:"w-64",children:A.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 700 311",version:"1.1",xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd",children:[A.jsx("path",{fill:"none",stroke:"#2b2b2b",strokeWidth:30,strokeLinecap:"round",d:"M187,274C187,274 170.378,268.864 228.974,285C292.703,302.549 303.927,266.646 338,265C374.056,263.258 399.792,287.297 431,286C454.178,285.037 488.914,274.714 493,275C520.055,276.893 531.314,284.145 556,288C578.43,291.503 591.566,293.837 607,294C626.331,294.205 671,282 671,282"}),A.jsx("path",{className:"animate-tail",fill:"none",stroke:"#6e6e6e",strokeWidth:30,strokeDasharray:500,strokeLinecap:"round",d:"M187,274C187,274 170.378,268.864 228.974,285C292.703,302.549 303.927,266.646 338,265C374.056,263.258 399.792,287.297 431,286C454.178,285.037 488.914,274.714 493,275C520.055,276.893 531.314,284.145 556,288C578.43,291.503 591.566,293.837 607,294C626.331,294.205 671,282 671,282"}),A.jsx("g",{transform:"matrix(1,0,0,1,-812.627,-384.976)",children:A.jsx("path",{fill:"#6e6e6e",d:"M867,654C867,654 852.472,690.859 850,692C847.528,693.141 836.252,694.04 832,692C827.748,689.96 827.491,691.692 823,680C818.774,668.997 828.585,670.176 832,667C833.65,665.465 833.381,633.906 828,602C822.619,570.094 818.937,566.178 814,529C809.063,491.822 818.383,449.085 827,438C835.617,426.915 847.48,414.625 847,415C846.52,415.375 863.327,383.996 867,385C870.673,386.004 878.926,404.441 884,406C885.134,406.348 897.779,406.147 905,408C914.601,410.463 921.008,418.516 924,420C926.992,421.484 949.052,408.87 955,412C960.948,415.13 957.273,443.171 954,448C953.51,448.724 959.617,477.941 961,484C962.383,490.059 963.043,498.797 971,518C978.609,536.363 1012.31,578.249 1016,586C1019.7,593.751 1037.3,629.813 1029,655C1018.99,685.409 992.067,694.274 980,695C948.988,696.865 870,694 870,694C870,694 861.378,693.918 862,683C862.33,677.209 879.324,673.309 883,675C886.676,676.691 867,654 867,654Z"})})]})})}),d_=()=>{cR();const{id:e}=aC(),t=e||"local",n=450,[i,o]=E.useState(!0),l=E.useCallback(()=>{setTimeout(()=>o(!1),n)},[o,n]);return A.jsxs("main",{className:"w-dvw h-dvh flex flex-col text-white relative",children:[A.jsx("div",{className:"bg-default-2 border-b border-default-1 min-h-12 h-12 flex items-center px-4",children:A.jsx(fR,{})}),A.jsxs("div",{className:"flex-grow flex relative overflow-hidden",children:[A.jsx(vb,{}),A.jsx(P3,{sketchId:t,onReady:l}),A.jsx(aR,{})]}),A.jsx("div",{className:"bg-default-2 border-t border-default-1 h-6 overflow-hidden",children:A.jsx(O3,{})}),i&&A.jsx(yR,{}),A.jsx(sE,{})]})};bw.createRoot(document.getElementById("root")).render(A.jsx(E.StrictMode,{children:A.jsx(XC,{children:A.jsxs(bC,{children:[A.jsx(Ld,{path:"/*",element:A.jsx(d_,{})}),A.jsx(Ld,{path:"/sketch/:id",element:A.jsx(d_,{})})]})})}));
