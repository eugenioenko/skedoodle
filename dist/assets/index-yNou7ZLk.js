var iw=Object.defineProperty;var Fm=e=>{throw TypeError(e)};var sw=(e,t,n)=>t in e?iw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var B=(e,t,n)=>sw(e,typeof t!="symbol"?t+"":t,n),Nm=(e,t,n)=>t.has(e)||Fm("Cannot "+n);var wn=(e,t,n)=>(Nm(e,t,"read from private field"),n?n.call(e):t.get(e)),Im=(e,t,n)=>t.has(e)?Fm("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),jm=(e,t,n,i)=>(Nm(e,t,"write to private field"),i?i.call(e,n):t.set(e,n),n);function ow(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in e)){const l=Object.getOwnPropertyDescriptor(i,o);l&&Object.defineProperty(e,o,l.get?l:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function l0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var dh={exports:{}},Al={},ph={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dm;function lw(){if(Dm)return Fe;Dm=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),m=Symbol.iterator;function v(L){return L===null||typeof L!="object"?null:(L=m&&L[m]||L["@@iterator"],typeof L=="function"?L:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,k={};function S(L,Y,we){this.props=L,this.context=Y,this.refs=k,this.updater=we||y}S.prototype.isReactComponent={},S.prototype.setState=function(L,Y){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,Y,"setState")},S.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function b(){}b.prototype=S.prototype;function x(L,Y,we){this.props=L,this.context=Y,this.refs=k,this.updater=we||y}var C=x.prototype=new b;C.constructor=x,w(C,S.prototype),C.isPureReactComponent=!0;var M=Array.isArray,A=Object.prototype.hasOwnProperty,N={current:null},j={key:!0,ref:!0,__self:!0,__source:!0};function X(L,Y,we){var fe,oe={},Q=null,se=null;if(Y!=null)for(fe in Y.ref!==void 0&&(se=Y.ref),Y.key!==void 0&&(Q=""+Y.key),Y)A.call(Y,fe)&&!j.hasOwnProperty(fe)&&(oe[fe]=Y[fe]);var ee=arguments.length-2;if(ee===1)oe.children=we;else if(1<ee){for(var Ce=Array(ee),Me=0;Me<ee;Me++)Ce[Me]=arguments[Me+2];oe.children=Ce}if(L&&L.defaultProps)for(fe in ee=L.defaultProps,ee)oe[fe]===void 0&&(oe[fe]=ee[fe]);return{$$typeof:e,type:L,key:Q,ref:se,props:oe,_owner:N.current}}function z(L,Y){return{$$typeof:e,type:L.type,key:Y,ref:L.ref,props:L.props,_owner:L._owner}}function W(L){return typeof L=="object"&&L!==null&&L.$$typeof===e}function K(L){var Y={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(we){return Y[we]})}var q=/\/+/g;function ae(L,Y){return typeof L=="object"&&L!==null&&L.key!=null?K(""+L.key):Y.toString(36)}function te(L,Y,we,fe,oe){var Q=typeof L;(Q==="undefined"||Q==="boolean")&&(L=null);var se=!1;if(L===null)se=!0;else switch(Q){case"string":case"number":se=!0;break;case"object":switch(L.$$typeof){case e:case t:se=!0}}if(se)return se=L,oe=oe(se),L=fe===""?"."+ae(se,0):fe,M(oe)?(we="",L!=null&&(we=L.replace(q,"$&/")+"/"),te(oe,Y,we,"",function(Me){return Me})):oe!=null&&(W(oe)&&(oe=z(oe,we+(!oe.key||se&&se.key===oe.key?"":(""+oe.key).replace(q,"$&/")+"/")+L)),Y.push(oe)),1;if(se=0,fe=fe===""?".":fe+":",M(L))for(var ee=0;ee<L.length;ee++){Q=L[ee];var Ce=fe+ae(Q,ee);se+=te(Q,Y,we,Ce,oe)}else if(Ce=v(L),typeof Ce=="function")for(L=Ce.call(L),ee=0;!(Q=L.next()).done;)Q=Q.value,Ce=fe+ae(Q,ee++),se+=te(Q,Y,we,Ce,oe);else if(Q==="object")throw Y=String(L),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return se}function re(L,Y,we){if(L==null)return L;var fe=[],oe=0;return te(L,fe,"","",function(Q){return Y.call(we,Q,oe++)}),fe}function ue(L){if(L._status===-1){var Y=L._result;Y=Y(),Y.then(function(we){(L._status===0||L._status===-1)&&(L._status=1,L._result=we)},function(we){(L._status===0||L._status===-1)&&(L._status=2,L._result=we)}),L._status===-1&&(L._status=0,L._result=Y)}if(L._status===1)return L._result.default;throw L._result}var Z={current:null},D={transition:null},$={ReactCurrentDispatcher:Z,ReactCurrentBatchConfig:D,ReactCurrentOwner:N};function G(){throw Error("act(...) is not supported in production builds of React.")}return Fe.Children={map:re,forEach:function(L,Y,we){re(L,function(){Y.apply(this,arguments)},we)},count:function(L){var Y=0;return re(L,function(){Y++}),Y},toArray:function(L){return re(L,function(Y){return Y})||[]},only:function(L){if(!W(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Fe.Component=S,Fe.Fragment=n,Fe.Profiler=o,Fe.PureComponent=x,Fe.StrictMode=i,Fe.Suspense=h,Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$,Fe.act=G,Fe.cloneElement=function(L,Y,we){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var fe=w({},L.props),oe=L.key,Q=L.ref,se=L._owner;if(Y!=null){if(Y.ref!==void 0&&(Q=Y.ref,se=N.current),Y.key!==void 0&&(oe=""+Y.key),L.type&&L.type.defaultProps)var ee=L.type.defaultProps;for(Ce in Y)A.call(Y,Ce)&&!j.hasOwnProperty(Ce)&&(fe[Ce]=Y[Ce]===void 0&&ee!==void 0?ee[Ce]:Y[Ce])}var Ce=arguments.length-2;if(Ce===1)fe.children=we;else if(1<Ce){ee=Array(Ce);for(var Me=0;Me<Ce;Me++)ee[Me]=arguments[Me+2];fe.children=ee}return{$$typeof:e,type:L.type,key:oe,ref:Q,props:fe,_owner:se}},Fe.createContext=function(L){return L={$$typeof:a,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:l,_context:L},L.Consumer=L},Fe.createElement=X,Fe.createFactory=function(L){var Y=X.bind(null,L);return Y.type=L,Y},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(L){return{$$typeof:c,render:L}},Fe.isValidElement=W,Fe.lazy=function(L){return{$$typeof:g,_payload:{_status:-1,_result:L},_init:ue}},Fe.memo=function(L,Y){return{$$typeof:d,type:L,compare:Y===void 0?null:Y}},Fe.startTransition=function(L){var Y=D.transition;D.transition={};try{L()}finally{D.transition=Y}},Fe.unstable_act=G,Fe.useCallback=function(L,Y){return Z.current.useCallback(L,Y)},Fe.useContext=function(L){return Z.current.useContext(L)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(L){return Z.current.useDeferredValue(L)},Fe.useEffect=function(L,Y){return Z.current.useEffect(L,Y)},Fe.useId=function(){return Z.current.useId()},Fe.useImperativeHandle=function(L,Y,we){return Z.current.useImperativeHandle(L,Y,we)},Fe.useInsertionEffect=function(L,Y){return Z.current.useInsertionEffect(L,Y)},Fe.useLayoutEffect=function(L,Y){return Z.current.useLayoutEffect(L,Y)},Fe.useMemo=function(L,Y){return Z.current.useMemo(L,Y)},Fe.useReducer=function(L,Y,we){return Z.current.useReducer(L,Y,we)},Fe.useRef=function(L){return Z.current.useRef(L)},Fe.useState=function(L){return Z.current.useState(L)},Fe.useSyncExternalStore=function(L,Y,we){return Z.current.useSyncExternalStore(L,Y,we)},Fe.useTransition=function(){return Z.current.useTransition()},Fe.version="18.3.1",Fe}var zm;function Ad(){return zm||(zm=1,ph.exports=lw()),ph.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bm;function aw(){if(Bm)return Al;Bm=1;var e=Ad(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function a(c,h,d){var g,m={},v=null,y=null;d!==void 0&&(v=""+d),h.key!==void 0&&(v=""+h.key),h.ref!==void 0&&(y=h.ref);for(g in h)i.call(h,g)&&!l.hasOwnProperty(g)&&(m[g]=h[g]);if(c&&c.defaultProps)for(g in h=c.defaultProps,h)m[g]===void 0&&(m[g]=h[g]);return{$$typeof:t,type:c,key:v,ref:y,props:m,_owner:o.current}}return Al.Fragment=n,Al.jsx=a,Al.jsxs=a,Al}var $m;function uw(){return $m||($m=1,dh.exports=aw()),dh.exports}var P=uw(),E=Ad();const it=l0(E),cw=ow({__proto__:null,default:it},[E]);var yu={},gh={exports:{}},kn={},mh={exports:{}},yh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Um;function fw(){return Um||(Um=1,function(e){function t(D,$){var G=D.length;D.push($);e:for(;0<G;){var L=G-1>>>1,Y=D[L];if(0<o(Y,$))D[L]=$,D[G]=Y,G=L;else break e}}function n(D){return D.length===0?null:D[0]}function i(D){if(D.length===0)return null;var $=D[0],G=D.pop();if(G!==$){D[0]=G;e:for(var L=0,Y=D.length,we=Y>>>1;L<we;){var fe=2*(L+1)-1,oe=D[fe],Q=fe+1,se=D[Q];if(0>o(oe,G))Q<Y&&0>o(se,oe)?(D[L]=se,D[Q]=G,L=Q):(D[L]=oe,D[fe]=G,L=fe);else if(Q<Y&&0>o(se,G))D[L]=se,D[Q]=G,L=Q;else break e}}return $}function o(D,$){var G=D.sortIndex-$.sortIndex;return G!==0?G:D.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var a=Date,c=a.now();e.unstable_now=function(){return a.now()-c}}var h=[],d=[],g=1,m=null,v=3,y=!1,w=!1,k=!1,S=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(D){for(var $=n(d);$!==null;){if($.callback===null)i(d);else if($.startTime<=D)i(d),$.sortIndex=$.expirationTime,t(h,$);else break;$=n(d)}}function M(D){if(k=!1,C(D),!w)if(n(h)!==null)w=!0,ue(A);else{var $=n(d);$!==null&&Z(M,$.startTime-D)}}function A(D,$){w=!1,k&&(k=!1,b(X),X=-1),y=!0;var G=v;try{for(C($),m=n(h);m!==null&&(!(m.expirationTime>$)||D&&!K());){var L=m.callback;if(typeof L=="function"){m.callback=null,v=m.priorityLevel;var Y=L(m.expirationTime<=$);$=e.unstable_now(),typeof Y=="function"?m.callback=Y:m===n(h)&&i(h),C($)}else i(h);m=n(h)}if(m!==null)var we=!0;else{var fe=n(d);fe!==null&&Z(M,fe.startTime-$),we=!1}return we}finally{m=null,v=G,y=!1}}var N=!1,j=null,X=-1,z=5,W=-1;function K(){return!(e.unstable_now()-W<z)}function q(){if(j!==null){var D=e.unstable_now();W=D;var $=!0;try{$=j(!0,D)}finally{$?ae():(N=!1,j=null)}}else N=!1}var ae;if(typeof x=="function")ae=function(){x(q)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,re=te.port2;te.port1.onmessage=q,ae=function(){re.postMessage(null)}}else ae=function(){S(q,0)};function ue(D){j=D,N||(N=!0,ae())}function Z(D,$){X=S(function(){D(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){w||y||(w=!0,ue(A))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(h)},e.unstable_next=function(D){switch(v){case 1:case 2:case 3:var $=3;break;default:$=v}var G=v;v=$;try{return D()}finally{v=G}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,$){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var G=v;v=D;try{return $()}finally{v=G}},e.unstable_scheduleCallback=function(D,$,G){var L=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?L+G:L):G=L,D){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=G+Y,D={id:g++,callback:$,priorityLevel:D,startTime:G,expirationTime:Y,sortIndex:-1},G>L?(D.sortIndex=G,t(d,D),n(h)===null&&D===n(d)&&(k?(b(X),X=-1):k=!0,Z(M,G-L))):(D.sortIndex=Y,t(h,D),w||y||(w=!0,ue(A))),D},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(D){var $=v;return function(){var G=v;v=$;try{return D.apply(this,arguments)}finally{v=G}}}}(yh)),yh}var Vm;function hw(){return Vm||(Vm=1,mh.exports=fw()),mh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hm;function dw(){if(Hm)return kn;Hm=1;var e=Ad(),t=hw();function n(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,u=1;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(r,s){a(r,s),a(r+"Capture",s)}function a(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},m={};function v(r){return h.call(m,r)?!0:h.call(g,r)?!1:d.test(r)?m[r]=!0:(g[r]=!0,!1)}function y(r,s,u,f){if(u!==null&&u.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return f?!1:u!==null?!u.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function w(r,s,u,f){if(s===null||typeof s>"u"||y(r,s,u,f))return!0;if(f)return!1;if(u!==null)switch(u.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function k(r,s,u,f,p,_,R){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=f,this.attributeNamespace=p,this.mustUseProperty=u,this.propertyName=r,this.type=s,this.sanitizeURL=_,this.removeEmptyString=R}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){S[r]=new k(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];S[s]=new k(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){S[r]=new k(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){S[r]=new k(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){S[r]=new k(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){S[r]=new k(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){S[r]=new k(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){S[r]=new k(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){S[r]=new k(r,5,!1,r.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function x(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(b,x);S[s]=new k(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(b,x);S[s]=new k(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(b,x);S[s]=new k(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){S[r]=new k(r,1,!1,r.toLowerCase(),null,!1,!1)}),S.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){S[r]=new k(r,1,!1,r.toLowerCase(),null,!0,!0)});function C(r,s,u,f){var p=S.hasOwnProperty(s)?S[s]:null;(p!==null?p.type!==0:f||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(w(s,u,p,f)&&(u=null),f||p===null?v(s)&&(u===null?r.removeAttribute(s):r.setAttribute(s,""+u)):p.mustUseProperty?r[p.propertyName]=u===null?p.type===3?!1:"":u:(s=p.attributeName,f=p.attributeNamespace,u===null?r.removeAttribute(s):(p=p.type,u=p===3||p===4&&u===!0?"":""+u,f?r.setAttributeNS(f,s,u):r.setAttribute(s,u))))}var M=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),N=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),X=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),K=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),re=Symbol.for("react.memo"),ue=Symbol.for("react.lazy"),Z=Symbol.for("react.offscreen"),D=Symbol.iterator;function $(r){return r===null||typeof r!="object"?null:(r=D&&r[D]||r["@@iterator"],typeof r=="function"?r:null)}var G=Object.assign,L;function Y(r){if(L===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);L=s&&s[1]||""}return`
`+L+r}var we=!1;function fe(r,s){if(!r||we)return"";we=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(H){var f=H}Reflect.construct(r,[],s)}else{try{s.call()}catch(H){f=H}r.call(s.prototype)}else{try{throw Error()}catch(H){f=H}r()}}catch(H){if(H&&f&&typeof H.stack=="string"){for(var p=H.stack.split(`
`),_=f.stack.split(`
`),R=p.length-1,O=_.length-1;1<=R&&0<=O&&p[R]!==_[O];)O--;for(;1<=R&&0<=O;R--,O--)if(p[R]!==_[O]){if(R!==1||O!==1)do if(R--,O--,0>O||p[R]!==_[O]){var F=`
`+p[R].replace(" at new "," at ");return r.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",r.displayName)),F}while(1<=R&&0<=O);break}}}finally{we=!1,Error.prepareStackTrace=u}return(r=r?r.displayName||r.name:"")?Y(r):""}function oe(r){switch(r.tag){case 5:return Y(r.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return r=fe(r.type,!1),r;case 11:return r=fe(r.type.render,!1),r;case 1:return r=fe(r.type,!0),r;default:return""}}function Q(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case j:return"Fragment";case N:return"Portal";case z:return"Profiler";case X:return"StrictMode";case ae:return"Suspense";case te:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case K:return(r.displayName||"Context")+".Consumer";case W:return(r._context.displayName||"Context")+".Provider";case q:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case re:return s=r.displayName||null,s!==null?s:Q(r.type)||"Memo";case ue:s=r._payload,r=r._init;try{return Q(r(s))}catch{}}return null}function se(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Q(s);case 8:return s===X?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function ee(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ce(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Me(r){var s=Ce(r)?"checked":"value",u=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),f=""+r[s];if(!r.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,_=u.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return p.call(this)},set:function(R){f=""+R,_.call(this,R)}}),Object.defineProperty(r,s,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(R){f=""+R},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function He(r){r._valueTracker||(r._valueTracker=Me(r))}function pt(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var u=s.getValue(),f="";return r&&(f=Ce(r)?r.checked?"true":"false":r.value),r=f,r!==u?(s.setValue(r),!0):!1}function $t(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Tt(r,s){var u=s.checked;return G({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??r._wrapperState.initialChecked})}function gt(r,s){var u=s.defaultValue==null?"":s.defaultValue,f=s.checked!=null?s.checked:s.defaultChecked;u=ee(s.value!=null?s.value:u),r._wrapperState={initialChecked:f,initialValue:u,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Ut(r,s){s=s.checked,s!=null&&C(r,"checked",s,!1)}function rn(r,s){Ut(r,s);var u=ee(s.value),f=s.type;if(u!=null)f==="number"?(u===0&&r.value===""||r.value!=u)&&(r.value=""+u):r.value!==""+u&&(r.value=""+u);else if(f==="submit"||f==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Vt(r,s.type,u):s.hasOwnProperty("defaultValue")&&Vt(r,s.type,ee(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Yn(r,s,u){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var f=s.type;if(!(f!=="submit"&&f!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,u||s===r.value||(r.value=s),r.defaultValue=s}u=r.name,u!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,u!==""&&(r.name=u)}function Vt(r,s,u){(s!=="number"||$t(r.ownerDocument)!==r)&&(u==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+u&&(r.defaultValue=""+u))}var Xn=Array.isArray;function Pn(r,s,u,f){if(r=r.options,s){s={};for(var p=0;p<u.length;p++)s["$"+u[p]]=!0;for(u=0;u<r.length;u++)p=s.hasOwnProperty("$"+r[u].value),r[u].selected!==p&&(r[u].selected=p),p&&f&&(r[u].defaultSelected=!0)}else{for(u=""+ee(u),s=null,p=0;p<r.length;p++){if(r[p].value===u){r[p].selected=!0,f&&(r[p].defaultSelected=!0);return}s!==null||r[p].disabled||(s=r[p])}s!==null&&(s.selected=!0)}}function Er(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return G({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function An(r,s){var u=s.value;if(u==null){if(u=s.children,s=s.defaultValue,u!=null){if(s!=null)throw Error(n(92));if(Xn(u)){if(1<u.length)throw Error(n(93));u=u[0]}s=u}s==null&&(s=""),u=s}r._wrapperState={initialValue:ee(u)}}function pn(r,s){var u=ee(s.value),f=ee(s.defaultValue);u!=null&&(u=""+u,u!==r.value&&(r.value=u),s.defaultValue==null&&r.defaultValue!==u&&(r.defaultValue=u)),f!=null&&(r.defaultValue=""+f)}function Cr(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function qr(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kn(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?qr(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var On,sn=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,u,f,p){MSApp.execUnsafeLocalFunction(function(){return r(s,u,f,p)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(On=On||document.createElement("div"),On.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=On.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function qn(r,s){if(s){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=s;return}}r.textContent=s}var Ln={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Pc=["Webkit","ms","Moz","O"];Object.keys(Ln).forEach(function(r){Pc.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Ln[s]=Ln[r]})});function es(r,s,u){return s==null||typeof s=="boolean"||s===""?"":u||typeof s!="number"||s===0||Ln.hasOwnProperty(r)&&Ln[r]?(""+s).trim():s+"px"}function oa(r,s){r=r.style;for(var u in s)if(s.hasOwnProperty(u)){var f=u.indexOf("--")===0,p=es(u,s[u],f);u==="float"&&(u="cssFloat"),f?r.setProperty(u,p):r[u]=p}}var la=G({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mi(r,s){if(s){if(la[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function Bs(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uo=null;function $s(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Gn=null,yi=null,ft=null;function Gr(r){if(r=ml(r)){if(typeof Gn!="function")throw Error(n(280));var s=r.stateNode;s&&(s=Oa(s),Gn(r.stateNode,r.type,s))}}function ts(r){yi?ft?ft.push(r):ft=[r]:yi=r}function Vo(){if(yi){var r=yi,s=ft;if(ft=yi=null,Gr(r),s)for(r=0;r<s.length;r++)Gr(s[r])}}function aa(r,s){return r(s)}function ua(){}var Qr=!1;function Ho(r,s,u){if(Qr)return r(s,u);Qr=!0;try{return aa(r,s,u)}finally{Qr=!1,(yi!==null||ft!==null)&&(ua(),Vo())}}function ns(r,s){var u=r.stateNode;if(u===null)return null;var f=Oa(u);if(f===null)return null;u=f[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(r=r.type,f=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!f;break e;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(n(231,s,typeof u));return u}var Wo=!1;if(c)try{var Zr={};Object.defineProperty(Zr,"passive",{get:function(){Wo=!0}}),window.addEventListener("test",Zr,Zr),window.removeEventListener("test",Zr,Zr)}catch{Wo=!1}function ca(r,s,u,f,p,_,R,O,F){var H=Array.prototype.slice.call(arguments,3);try{s.apply(u,H)}catch(ie){this.onError(ie)}}var _i=!1,Us=null,Vs=!1,Hs=null,Yo={onError:function(r){_i=!0,Us=r}};function fa(r,s,u,f,p,_,R,O,F){_i=!1,Us=null,ca.apply(Yo,arguments)}function Ac(r,s,u,f,p,_,R,O,F){if(fa.apply(this,arguments),_i){if(_i){var H=Us;_i=!1,Us=null}else throw Error(n(198));Vs||(Vs=!0,Hs=H)}}function Jr(r){var s=r,u=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(u=s.return),r=s.return;while(r)}return s.tag===3?u:null}function Xo(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Ko(r){if(Jr(r)!==r)throw Error(n(188))}function rs(r){var s=r.alternate;if(!s){if(s=Jr(r),s===null)throw Error(n(188));return s!==r?null:r}for(var u=r,f=s;;){var p=u.return;if(p===null)break;var _=p.alternate;if(_===null){if(f=p.return,f!==null){u=f;continue}break}if(p.child===_.child){for(_=p.child;_;){if(_===u)return Ko(p),r;if(_===f)return Ko(p),s;_=_.sibling}throw Error(n(188))}if(u.return!==f.return)u=p,f=_;else{for(var R=!1,O=p.child;O;){if(O===u){R=!0,u=p,f=_;break}if(O===f){R=!0,f=p,u=_;break}O=O.sibling}if(!R){for(O=_.child;O;){if(O===u){R=!0,u=_,f=p;break}if(O===f){R=!0,f=_,u=p;break}O=O.sibling}if(!R)throw Error(n(189))}}if(u.alternate!==f)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?r:s}function ha(r){return r=rs(r),r!==null?qo(r):null}function qo(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=qo(r);if(s!==null)return s;r=r.sibling}return null}var Go=t.unstable_scheduleCallback,Qo=t.unstable_cancelCallback,Oc=t.unstable_shouldYield,Ue=t.unstable_requestPaint,ge=t.unstable_now,We=t.unstable_getCurrentPriorityLevel,Xe=t.unstable_ImmediatePriority,mt=t.unstable_UserBlockingPriority,Fn=t.unstable_NormalPriority,cr=t.unstable_LowPriority,Qn=t.unstable_IdlePriority,gn=null,Mt=null;function vi(r){if(Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot(gn,r,void 0,(r.current.flags&128)===128)}catch{}}var vt=Math.clz32?Math.clz32:b1,Ws=Math.log,da=Math.LN2;function b1(r){return r>>>=0,r===0?32:31-(Ws(r)/da|0)|0}var pa=64,ga=4194304;function Zo(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function ma(r,s){var u=r.pendingLanes;if(u===0)return 0;var f=0,p=r.suspendedLanes,_=r.pingedLanes,R=u&268435455;if(R!==0){var O=R&~p;O!==0?f=Zo(O):(_&=R,_!==0&&(f=Zo(_)))}else R=u&~p,R!==0?f=Zo(R):_!==0&&(f=Zo(_));if(f===0)return 0;if(s!==0&&s!==f&&!(s&p)&&(p=f&-f,_=s&-s,p>=_||p===16&&(_&4194240)!==0))return s;if(f&4&&(f|=u&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=f;0<s;)u=31-vt(s),p=1<<u,f|=r[u],s&=~p;return f}function S1(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function E1(r,s){for(var u=r.suspendedLanes,f=r.pingedLanes,p=r.expirationTimes,_=r.pendingLanes;0<_;){var R=31-vt(_),O=1<<R,F=p[R];F===-1?(!(O&u)||O&f)&&(p[R]=S1(O,s)):F<=s&&(r.expiredLanes|=O),_&=~O}}function Lc(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function fp(){var r=pa;return pa<<=1,!(pa&4194240)&&(pa=64),r}function Fc(r){for(var s=[],u=0;31>u;u++)s.push(r);return s}function Jo(r,s,u){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-vt(s),r[s]=u}function C1(r,s){var u=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var f=r.eventTimes;for(r=r.expirationTimes;0<u;){var p=31-vt(u),_=1<<p;s[p]=0,f[p]=-1,r[p]=-1,u&=~_}}function Nc(r,s){var u=r.entangledLanes|=s;for(r=r.entanglements;u;){var f=31-vt(u),p=1<<f;p&s|r[f]&s&&(r[f]|=s),u&=~p}}var Ye=0;function hp(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var dp,Ic,pp,gp,mp,jc=!1,ya=[],xi=null,wi=null,ki=null,el=new Map,tl=new Map,bi=[],R1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yp(r,s){switch(r){case"focusin":case"focusout":xi=null;break;case"dragenter":case"dragleave":wi=null;break;case"mouseover":case"mouseout":ki=null;break;case"pointerover":case"pointerout":el.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":tl.delete(s.pointerId)}}function nl(r,s,u,f,p,_){return r===null||r.nativeEvent!==_?(r={blockedOn:s,domEventName:u,eventSystemFlags:f,nativeEvent:_,targetContainers:[p]},s!==null&&(s=ml(s),s!==null&&Ic(s)),r):(r.eventSystemFlags|=f,s=r.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),r)}function T1(r,s,u,f,p){switch(s){case"focusin":return xi=nl(xi,r,s,u,f,p),!0;case"dragenter":return wi=nl(wi,r,s,u,f,p),!0;case"mouseover":return ki=nl(ki,r,s,u,f,p),!0;case"pointerover":var _=p.pointerId;return el.set(_,nl(el.get(_)||null,r,s,u,f,p)),!0;case"gotpointercapture":return _=p.pointerId,tl.set(_,nl(tl.get(_)||null,r,s,u,f,p)),!0}return!1}function _p(r){var s=is(r.target);if(s!==null){var u=Jr(s);if(u!==null){if(s=u.tag,s===13){if(s=Xo(u),s!==null){r.blockedOn=s,mp(r.priority,function(){pp(u)});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function _a(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var u=zc(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(u===null){u=r.nativeEvent;var f=new u.constructor(u.type,u);Uo=f,u.target.dispatchEvent(f),Uo=null}else return s=ml(u),s!==null&&Ic(s),r.blockedOn=u,!1;s.shift()}return!0}function vp(r,s,u){_a(r)&&u.delete(s)}function M1(){jc=!1,xi!==null&&_a(xi)&&(xi=null),wi!==null&&_a(wi)&&(wi=null),ki!==null&&_a(ki)&&(ki=null),el.forEach(vp),tl.forEach(vp)}function rl(r,s){r.blockedOn===s&&(r.blockedOn=null,jc||(jc=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,M1)))}function il(r){function s(p){return rl(p,r)}if(0<ya.length){rl(ya[0],r);for(var u=1;u<ya.length;u++){var f=ya[u];f.blockedOn===r&&(f.blockedOn=null)}}for(xi!==null&&rl(xi,r),wi!==null&&rl(wi,r),ki!==null&&rl(ki,r),el.forEach(s),tl.forEach(s),u=0;u<bi.length;u++)f=bi[u],f.blockedOn===r&&(f.blockedOn=null);for(;0<bi.length&&(u=bi[0],u.blockedOn===null);)_p(u),u.blockedOn===null&&bi.shift()}var Ys=M.ReactCurrentBatchConfig,va=!0;function P1(r,s,u,f){var p=Ye,_=Ys.transition;Ys.transition=null;try{Ye=1,Dc(r,s,u,f)}finally{Ye=p,Ys.transition=_}}function A1(r,s,u,f){var p=Ye,_=Ys.transition;Ys.transition=null;try{Ye=4,Dc(r,s,u,f)}finally{Ye=p,Ys.transition=_}}function Dc(r,s,u,f){if(va){var p=zc(r,s,u,f);if(p===null)nf(r,s,f,xa,u),yp(r,f);else if(T1(p,r,s,u,f))f.stopPropagation();else if(yp(r,f),s&4&&-1<R1.indexOf(r)){for(;p!==null;){var _=ml(p);if(_!==null&&dp(_),_=zc(r,s,u,f),_===null&&nf(r,s,f,xa,u),_===p)break;p=_}p!==null&&f.stopPropagation()}else nf(r,s,f,null,u)}}var xa=null;function zc(r,s,u,f){if(xa=null,r=$s(f),r=is(r),r!==null)if(s=Jr(r),s===null)r=null;else if(u=s.tag,u===13){if(r=Xo(s),r!==null)return r;r=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return xa=r,null}function xp(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(We()){case Xe:return 1;case mt:return 4;case Fn:case cr:return 16;case Qn:return 536870912;default:return 16}default:return 16}}var Si=null,Bc=null,wa=null;function wp(){if(wa)return wa;var r,s=Bc,u=s.length,f,p="value"in Si?Si.value:Si.textContent,_=p.length;for(r=0;r<u&&s[r]===p[r];r++);var R=u-r;for(f=1;f<=R&&s[u-f]===p[_-f];f++);return wa=p.slice(r,1<f?1-f:void 0)}function ka(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function ba(){return!0}function kp(){return!1}function Nn(r){function s(u,f,p,_,R){this._reactName=u,this._targetInst=p,this.type=f,this.nativeEvent=_,this.target=R,this.currentTarget=null;for(var O in r)r.hasOwnProperty(O)&&(u=r[O],this[O]=u?u(_):_[O]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?ba:kp,this.isPropagationStopped=kp,this}return G(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=ba)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=ba)},persist:function(){},isPersistent:ba}),s}var Xs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$c=Nn(Xs),sl=G({},Xs,{view:0,detail:0}),O1=Nn(sl),Uc,Vc,ol,Sa=G({},sl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wc,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ol&&(ol&&r.type==="mousemove"?(Uc=r.screenX-ol.screenX,Vc=r.screenY-ol.screenY):Vc=Uc=0,ol=r),Uc)},movementY:function(r){return"movementY"in r?r.movementY:Vc}}),bp=Nn(Sa),L1=G({},Sa,{dataTransfer:0}),F1=Nn(L1),N1=G({},sl,{relatedTarget:0}),Hc=Nn(N1),I1=G({},Xs,{animationName:0,elapsedTime:0,pseudoElement:0}),j1=Nn(I1),D1=G({},Xs,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),z1=Nn(D1),B1=G({},Xs,{data:0}),Sp=Nn(B1),$1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},U1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},V1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function H1(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=V1[r])?!!s[r]:!1}function Wc(){return H1}var W1=G({},sl,{key:function(r){if(r.key){var s=$1[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=ka(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?U1[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wc,charCode:function(r){return r.type==="keypress"?ka(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ka(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Y1=Nn(W1),X1=G({},Sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ep=Nn(X1),K1=G({},sl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wc}),q1=Nn(K1),G1=G({},Xs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Q1=Nn(G1),Z1=G({},Sa,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),J1=Nn(Z1),ex=[9,13,27,32],Yc=c&&"CompositionEvent"in window,ll=null;c&&"documentMode"in document&&(ll=document.documentMode);var tx=c&&"TextEvent"in window&&!ll,Cp=c&&(!Yc||ll&&8<ll&&11>=ll),Rp=" ",Tp=!1;function Mp(r,s){switch(r){case"keyup":return ex.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pp(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ks=!1;function nx(r,s){switch(r){case"compositionend":return Pp(s);case"keypress":return s.which!==32?null:(Tp=!0,Rp);case"textInput":return r=s.data,r===Rp&&Tp?null:r;default:return null}}function rx(r,s){if(Ks)return r==="compositionend"||!Yc&&Mp(r,s)?(r=wp(),wa=Bc=Si=null,Ks=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Cp&&s.locale!=="ko"?null:s.data;default:return null}}var ix={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ap(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!ix[r.type]:s==="textarea"}function Op(r,s,u,f){ts(f),s=Ma(s,"onChange"),0<s.length&&(u=new $c("onChange","change",null,u,f),r.push({event:u,listeners:s}))}var al=null,ul=null;function sx(r){Gp(r,0)}function Ea(r){var s=Js(r);if(pt(s))return r}function ox(r,s){if(r==="change")return s}var Lp=!1;if(c){var Xc;if(c){var Kc="oninput"in document;if(!Kc){var Fp=document.createElement("div");Fp.setAttribute("oninput","return;"),Kc=typeof Fp.oninput=="function"}Xc=Kc}else Xc=!1;Lp=Xc&&(!document.documentMode||9<document.documentMode)}function Np(){al&&(al.detachEvent("onpropertychange",Ip),ul=al=null)}function Ip(r){if(r.propertyName==="value"&&Ea(ul)){var s=[];Op(s,ul,r,$s(r)),Ho(sx,s)}}function lx(r,s,u){r==="focusin"?(Np(),al=s,ul=u,al.attachEvent("onpropertychange",Ip)):r==="focusout"&&Np()}function ax(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Ea(ul)}function ux(r,s){if(r==="click")return Ea(s)}function cx(r,s){if(r==="input"||r==="change")return Ea(s)}function fx(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var fr=typeof Object.is=="function"?Object.is:fx;function cl(r,s){if(fr(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var u=Object.keys(r),f=Object.keys(s);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var p=u[f];if(!h.call(s,p)||!fr(r[p],s[p]))return!1}return!0}function jp(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Dp(r,s){var u=jp(r);r=0;for(var f;u;){if(u.nodeType===3){if(f=r+u.textContent.length,r<=s&&f>=s)return{node:u,offset:s-r};r=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=jp(u)}}function zp(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?zp(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Bp(){for(var r=window,s=$t();s instanceof r.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)r=s.contentWindow;else break;s=$t(r.document)}return s}function qc(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function hx(r){var s=Bp(),u=r.focusedElem,f=r.selectionRange;if(s!==u&&u&&u.ownerDocument&&zp(u.ownerDocument.documentElement,u)){if(f!==null&&qc(u)){if(s=f.start,r=f.end,r===void 0&&(r=s),"selectionStart"in u)u.selectionStart=s,u.selectionEnd=Math.min(r,u.value.length);else if(r=(s=u.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var p=u.textContent.length,_=Math.min(f.start,p);f=f.end===void 0?_:Math.min(f.end,p),!r.extend&&_>f&&(p=f,f=_,_=p),p=Dp(u,_);var R=Dp(u,f);p&&R&&(r.rangeCount!==1||r.anchorNode!==p.node||r.anchorOffset!==p.offset||r.focusNode!==R.node||r.focusOffset!==R.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),r.removeAllRanges(),_>f?(r.addRange(s),r.extend(R.node,R.offset)):(s.setEnd(R.node,R.offset),r.addRange(s)))}}for(s=[],r=u;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<s.length;u++)r=s[u],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var dx=c&&"documentMode"in document&&11>=document.documentMode,qs=null,Gc=null,fl=null,Qc=!1;function $p(r,s,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Qc||qs==null||qs!==$t(f)||(f=qs,"selectionStart"in f&&qc(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),fl&&cl(fl,f)||(fl=f,f=Ma(Gc,"onSelect"),0<f.length&&(s=new $c("onSelect","select",null,s,u),r.push({event:s,listeners:f}),s.target=qs)))}function Ca(r,s){var u={};return u[r.toLowerCase()]=s.toLowerCase(),u["Webkit"+r]="webkit"+s,u["Moz"+r]="moz"+s,u}var Gs={animationend:Ca("Animation","AnimationEnd"),animationiteration:Ca("Animation","AnimationIteration"),animationstart:Ca("Animation","AnimationStart"),transitionend:Ca("Transition","TransitionEnd")},Zc={},Up={};c&&(Up=document.createElement("div").style,"AnimationEvent"in window||(delete Gs.animationend.animation,delete Gs.animationiteration.animation,delete Gs.animationstart.animation),"TransitionEvent"in window||delete Gs.transitionend.transition);function Ra(r){if(Zc[r])return Zc[r];if(!Gs[r])return r;var s=Gs[r],u;for(u in s)if(s.hasOwnProperty(u)&&u in Up)return Zc[r]=s[u];return r}var Vp=Ra("animationend"),Hp=Ra("animationiteration"),Wp=Ra("animationstart"),Yp=Ra("transitionend"),Xp=new Map,Kp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ei(r,s){Xp.set(r,s),l(s,[r])}for(var Jc=0;Jc<Kp.length;Jc++){var ef=Kp[Jc],px=ef.toLowerCase(),gx=ef[0].toUpperCase()+ef.slice(1);Ei(px,"on"+gx)}Ei(Vp,"onAnimationEnd"),Ei(Hp,"onAnimationIteration"),Ei(Wp,"onAnimationStart"),Ei("dblclick","onDoubleClick"),Ei("focusin","onFocus"),Ei("focusout","onBlur"),Ei(Yp,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mx=new Set("cancel close invalid load scroll toggle".split(" ").concat(hl));function qp(r,s,u){var f=r.type||"unknown-event";r.currentTarget=u,Ac(f,s,void 0,r),r.currentTarget=null}function Gp(r,s){s=(s&4)!==0;for(var u=0;u<r.length;u++){var f=r[u],p=f.event;f=f.listeners;e:{var _=void 0;if(s)for(var R=f.length-1;0<=R;R--){var O=f[R],F=O.instance,H=O.currentTarget;if(O=O.listener,F!==_&&p.isPropagationStopped())break e;qp(p,O,H),_=F}else for(R=0;R<f.length;R++){if(O=f[R],F=O.instance,H=O.currentTarget,O=O.listener,F!==_&&p.isPropagationStopped())break e;qp(p,O,H),_=F}}}if(Vs)throw r=Hs,Vs=!1,Hs=null,r}function Qe(r,s){var u=s[uf];u===void 0&&(u=s[uf]=new Set);var f=r+"__bubble";u.has(f)||(Qp(s,r,2,!1),u.add(f))}function tf(r,s,u){var f=0;s&&(f|=4),Qp(u,r,f,s)}var Ta="_reactListening"+Math.random().toString(36).slice(2);function dl(r){if(!r[Ta]){r[Ta]=!0,i.forEach(function(u){u!=="selectionchange"&&(mx.has(u)||tf(u,!1,r),tf(u,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Ta]||(s[Ta]=!0,tf("selectionchange",!1,s))}}function Qp(r,s,u,f){switch(xp(s)){case 1:var p=P1;break;case 4:p=A1;break;default:p=Dc}u=p.bind(null,s,u,r),p=void 0,!Wo||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),f?p!==void 0?r.addEventListener(s,u,{capture:!0,passive:p}):r.addEventListener(s,u,!0):p!==void 0?r.addEventListener(s,u,{passive:p}):r.addEventListener(s,u,!1)}function nf(r,s,u,f,p){var _=f;if(!(s&1)&&!(s&2)&&f!==null)e:for(;;){if(f===null)return;var R=f.tag;if(R===3||R===4){var O=f.stateNode.containerInfo;if(O===p||O.nodeType===8&&O.parentNode===p)break;if(R===4)for(R=f.return;R!==null;){var F=R.tag;if((F===3||F===4)&&(F=R.stateNode.containerInfo,F===p||F.nodeType===8&&F.parentNode===p))return;R=R.return}for(;O!==null;){if(R=is(O),R===null)return;if(F=R.tag,F===5||F===6){f=_=R;continue e}O=O.parentNode}}f=f.return}Ho(function(){var H=_,ie=$s(u),le=[];e:{var ne=Xp.get(r);if(ne!==void 0){var me=$c,ve=r;switch(r){case"keypress":if(ka(u)===0)break e;case"keydown":case"keyup":me=Y1;break;case"focusin":ve="focus",me=Hc;break;case"focusout":ve="blur",me=Hc;break;case"beforeblur":case"afterblur":me=Hc;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=bp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=F1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=q1;break;case Vp:case Hp:case Wp:me=j1;break;case Yp:me=Q1;break;case"scroll":me=O1;break;case"wheel":me=J1;break;case"copy":case"cut":case"paste":me=z1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=Ep}var ke=(s&4)!==0,yt=!ke&&r==="scroll",U=ke?ne!==null?ne+"Capture":null:ne;ke=[];for(var I=H,V;I!==null;){V=I;var he=V.stateNode;if(V.tag===5&&he!==null&&(V=he,U!==null&&(he=ns(I,U),he!=null&&ke.push(pl(I,he,V)))),yt)break;I=I.return}0<ke.length&&(ne=new me(ne,ve,null,u,ie),le.push({event:ne,listeners:ke}))}}if(!(s&7)){e:{if(ne=r==="mouseover"||r==="pointerover",me=r==="mouseout"||r==="pointerout",ne&&u!==Uo&&(ve=u.relatedTarget||u.fromElement)&&(is(ve)||ve[ei]))break e;if((me||ne)&&(ne=ie.window===ie?ie:(ne=ie.ownerDocument)?ne.defaultView||ne.parentWindow:window,me?(ve=u.relatedTarget||u.toElement,me=H,ve=ve?is(ve):null,ve!==null&&(yt=Jr(ve),ve!==yt||ve.tag!==5&&ve.tag!==6)&&(ve=null)):(me=null,ve=H),me!==ve)){if(ke=bp,he="onMouseLeave",U="onMouseEnter",I="mouse",(r==="pointerout"||r==="pointerover")&&(ke=Ep,he="onPointerLeave",U="onPointerEnter",I="pointer"),yt=me==null?ne:Js(me),V=ve==null?ne:Js(ve),ne=new ke(he,I+"leave",me,u,ie),ne.target=yt,ne.relatedTarget=V,he=null,is(ie)===H&&(ke=new ke(U,I+"enter",ve,u,ie),ke.target=V,ke.relatedTarget=yt,he=ke),yt=he,me&&ve)t:{for(ke=me,U=ve,I=0,V=ke;V;V=Qs(V))I++;for(V=0,he=U;he;he=Qs(he))V++;for(;0<I-V;)ke=Qs(ke),I--;for(;0<V-I;)U=Qs(U),V--;for(;I--;){if(ke===U||U!==null&&ke===U.alternate)break t;ke=Qs(ke),U=Qs(U)}ke=null}else ke=null;me!==null&&Zp(le,ne,me,ke,!1),ve!==null&&yt!==null&&Zp(le,yt,ve,ke,!0)}}e:{if(ne=H?Js(H):window,me=ne.nodeName&&ne.nodeName.toLowerCase(),me==="select"||me==="input"&&ne.type==="file")var Ee=ox;else if(Ap(ne))if(Lp)Ee=cx;else{Ee=ax;var Re=lx}else(me=ne.nodeName)&&me.toLowerCase()==="input"&&(ne.type==="checkbox"||ne.type==="radio")&&(Ee=ux);if(Ee&&(Ee=Ee(r,H))){Op(le,Ee,u,ie);break e}Re&&Re(r,ne,H),r==="focusout"&&(Re=ne._wrapperState)&&Re.controlled&&ne.type==="number"&&Vt(ne,"number",ne.value)}switch(Re=H?Js(H):window,r){case"focusin":(Ap(Re)||Re.contentEditable==="true")&&(qs=Re,Gc=H,fl=null);break;case"focusout":fl=Gc=qs=null;break;case"mousedown":Qc=!0;break;case"contextmenu":case"mouseup":case"dragend":Qc=!1,$p(le,u,ie);break;case"selectionchange":if(dx)break;case"keydown":case"keyup":$p(le,u,ie)}var Te;if(Yc)e:{switch(r){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Ks?Mp(r,u)&&(Oe="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(Oe="onCompositionStart");Oe&&(Cp&&u.locale!=="ko"&&(Ks||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Ks&&(Te=wp()):(Si=ie,Bc="value"in Si?Si.value:Si.textContent,Ks=!0)),Re=Ma(H,Oe),0<Re.length&&(Oe=new Sp(Oe,r,null,u,ie),le.push({event:Oe,listeners:Re}),Te?Oe.data=Te:(Te=Pp(u),Te!==null&&(Oe.data=Te)))),(Te=tx?nx(r,u):rx(r,u))&&(H=Ma(H,"onBeforeInput"),0<H.length&&(ie=new Sp("onBeforeInput","beforeinput",null,u,ie),le.push({event:ie,listeners:H}),ie.data=Te))}Gp(le,s)})}function pl(r,s,u){return{instance:r,listener:s,currentTarget:u}}function Ma(r,s){for(var u=s+"Capture",f=[];r!==null;){var p=r,_=p.stateNode;p.tag===5&&_!==null&&(p=_,_=ns(r,u),_!=null&&f.unshift(pl(r,_,p)),_=ns(r,s),_!=null&&f.push(pl(r,_,p))),r=r.return}return f}function Qs(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Zp(r,s,u,f,p){for(var _=s._reactName,R=[];u!==null&&u!==f;){var O=u,F=O.alternate,H=O.stateNode;if(F!==null&&F===f)break;O.tag===5&&H!==null&&(O=H,p?(F=ns(u,_),F!=null&&R.unshift(pl(u,F,O))):p||(F=ns(u,_),F!=null&&R.push(pl(u,F,O)))),u=u.return}R.length!==0&&r.push({event:s,listeners:R})}var yx=/\r\n?/g,_x=/\u0000|\uFFFD/g;function Jp(r){return(typeof r=="string"?r:""+r).replace(yx,`
`).replace(_x,"")}function Pa(r,s,u){if(s=Jp(s),Jp(r)!==s&&u)throw Error(n(425))}function Aa(){}var rf=null,sf=null;function of(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var lf=typeof setTimeout=="function"?setTimeout:void 0,vx=typeof clearTimeout=="function"?clearTimeout:void 0,eg=typeof Promise=="function"?Promise:void 0,xx=typeof queueMicrotask=="function"?queueMicrotask:typeof eg<"u"?function(r){return eg.resolve(null).then(r).catch(wx)}:lf;function wx(r){setTimeout(function(){throw r})}function af(r,s){var u=s,f=0;do{var p=u.nextSibling;if(r.removeChild(u),p&&p.nodeType===8)if(u=p.data,u==="/$"){if(f===0){r.removeChild(p),il(s);return}f--}else u!=="$"&&u!=="$?"&&u!=="$!"||f++;u=p}while(u);il(s)}function Ci(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function tg(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"){if(s===0)return r;s--}else u==="/$"&&s++}r=r.previousSibling}return null}var Zs=Math.random().toString(36).slice(2),Rr="__reactFiber$"+Zs,gl="__reactProps$"+Zs,ei="__reactContainer$"+Zs,uf="__reactEvents$"+Zs,kx="__reactListeners$"+Zs,bx="__reactHandles$"+Zs;function is(r){var s=r[Rr];if(s)return s;for(var u=r.parentNode;u;){if(s=u[ei]||u[Rr]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(r=tg(r);r!==null;){if(u=r[Rr])return u;r=tg(r)}return s}r=u,u=r.parentNode}return null}function ml(r){return r=r[Rr]||r[ei],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Js(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function Oa(r){return r[gl]||null}var cf=[],eo=-1;function Ri(r){return{current:r}}function Ze(r){0>eo||(r.current=cf[eo],cf[eo]=null,eo--)}function Ke(r,s){eo++,cf[eo]=r.current,r.current=s}var Ti={},Ht=Ri(Ti),mn=Ri(!1),ss=Ti;function to(r,s){var u=r.type.contextTypes;if(!u)return Ti;var f=r.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===s)return f.__reactInternalMemoizedMaskedChildContext;var p={},_;for(_ in u)p[_]=s[_];return f&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=p),p}function yn(r){return r=r.childContextTypes,r!=null}function La(){Ze(mn),Ze(Ht)}function ng(r,s,u){if(Ht.current!==Ti)throw Error(n(168));Ke(Ht,s),Ke(mn,u)}function rg(r,s,u){var f=r.stateNode;if(s=s.childContextTypes,typeof f.getChildContext!="function")return u;f=f.getChildContext();for(var p in f)if(!(p in s))throw Error(n(108,se(r)||"Unknown",p));return G({},u,f)}function Fa(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Ti,ss=Ht.current,Ke(Ht,r),Ke(mn,mn.current),!0}function ig(r,s,u){var f=r.stateNode;if(!f)throw Error(n(169));u?(r=rg(r,s,ss),f.__reactInternalMemoizedMergedChildContext=r,Ze(mn),Ze(Ht),Ke(Ht,r)):Ze(mn),Ke(mn,u)}var ti=null,Na=!1,ff=!1;function sg(r){ti===null?ti=[r]:ti.push(r)}function Sx(r){Na=!0,sg(r)}function Mi(){if(!ff&&ti!==null){ff=!0;var r=0,s=Ye;try{var u=ti;for(Ye=1;r<u.length;r++){var f=u[r];do f=f(!0);while(f!==null)}ti=null,Na=!1}catch(p){throw ti!==null&&(ti=ti.slice(r+1)),Go(Xe,Mi),p}finally{Ye=s,ff=!1}}return null}var no=[],ro=0,Ia=null,ja=0,Zn=[],Jn=0,os=null,ni=1,ri="";function ls(r,s){no[ro++]=ja,no[ro++]=Ia,Ia=r,ja=s}function og(r,s,u){Zn[Jn++]=ni,Zn[Jn++]=ri,Zn[Jn++]=os,os=r;var f=ni;r=ri;var p=32-vt(f)-1;f&=~(1<<p),u+=1;var _=32-vt(s)+p;if(30<_){var R=p-p%5;_=(f&(1<<R)-1).toString(32),f>>=R,p-=R,ni=1<<32-vt(s)+p|u<<p|f,ri=_+r}else ni=1<<_|u<<p|f,ri=r}function hf(r){r.return!==null&&(ls(r,1),og(r,1,0))}function df(r){for(;r===Ia;)Ia=no[--ro],no[ro]=null,ja=no[--ro],no[ro]=null;for(;r===os;)os=Zn[--Jn],Zn[Jn]=null,ri=Zn[--Jn],Zn[Jn]=null,ni=Zn[--Jn],Zn[Jn]=null}var In=null,jn=null,tt=!1,hr=null;function lg(r,s){var u=rr(5,null,null,0);u.elementType="DELETED",u.stateNode=s,u.return=r,s=r.deletions,s===null?(r.deletions=[u],r.flags|=16):s.push(u)}function ag(r,s){switch(r.tag){case 5:var u=r.type;return s=s.nodeType!==1||u.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,In=r,jn=Ci(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,In=r,jn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(u=os!==null?{id:ni,overflow:ri}:null,r.memoizedState={dehydrated:s,treeContext:u,retryLane:1073741824},u=rr(18,null,null,0),u.stateNode=s,u.return=r,r.child=u,In=r,jn=null,!0):!1;default:return!1}}function pf(r){return(r.mode&1)!==0&&(r.flags&128)===0}function gf(r){if(tt){var s=jn;if(s){var u=s;if(!ag(r,s)){if(pf(r))throw Error(n(418));s=Ci(u.nextSibling);var f=In;s&&ag(r,s)?lg(f,u):(r.flags=r.flags&-4097|2,tt=!1,In=r)}}else{if(pf(r))throw Error(n(418));r.flags=r.flags&-4097|2,tt=!1,In=r}}}function ug(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;In=r}function Da(r){if(r!==In)return!1;if(!tt)return ug(r),tt=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!of(r.type,r.memoizedProps)),s&&(s=jn)){if(pf(r))throw cg(),Error(n(418));for(;s;)lg(r,s),s=Ci(s.nextSibling)}if(ug(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var u=r.data;if(u==="/$"){if(s===0){jn=Ci(r.nextSibling);break e}s--}else u!=="$"&&u!=="$!"&&u!=="$?"||s++}r=r.nextSibling}jn=null}}else jn=In?Ci(r.stateNode.nextSibling):null;return!0}function cg(){for(var r=jn;r;)r=Ci(r.nextSibling)}function io(){jn=In=null,tt=!1}function mf(r){hr===null?hr=[r]:hr.push(r)}var Ex=M.ReactCurrentBatchConfig;function yl(r,s,u){if(r=u.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var f=u.stateNode}if(!f)throw Error(n(147,r));var p=f,_=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===_?s.ref:(s=function(R){var O=p.refs;R===null?delete O[_]:O[_]=R},s._stringRef=_,s)}if(typeof r!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,r))}return r}function za(r,s){throw r=Object.prototype.toString.call(s),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function fg(r){var s=r._init;return s(r._payload)}function hg(r){function s(U,I){if(r){var V=U.deletions;V===null?(U.deletions=[I],U.flags|=16):V.push(I)}}function u(U,I){if(!r)return null;for(;I!==null;)s(U,I),I=I.sibling;return null}function f(U,I){for(U=new Map;I!==null;)I.key!==null?U.set(I.key,I):U.set(I.index,I),I=I.sibling;return U}function p(U,I){return U=ji(U,I),U.index=0,U.sibling=null,U}function _(U,I,V){return U.index=V,r?(V=U.alternate,V!==null?(V=V.index,V<I?(U.flags|=2,I):V):(U.flags|=2,I)):(U.flags|=1048576,I)}function R(U){return r&&U.alternate===null&&(U.flags|=2),U}function O(U,I,V,he){return I===null||I.tag!==6?(I=lh(V,U.mode,he),I.return=U,I):(I=p(I,V),I.return=U,I)}function F(U,I,V,he){var Ee=V.type;return Ee===j?ie(U,I,V.props.children,he,V.key):I!==null&&(I.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===ue&&fg(Ee)===I.type)?(he=p(I,V.props),he.ref=yl(U,I,V),he.return=U,he):(he=uu(V.type,V.key,V.props,null,U.mode,he),he.ref=yl(U,I,V),he.return=U,he)}function H(U,I,V,he){return I===null||I.tag!==4||I.stateNode.containerInfo!==V.containerInfo||I.stateNode.implementation!==V.implementation?(I=ah(V,U.mode,he),I.return=U,I):(I=p(I,V.children||[]),I.return=U,I)}function ie(U,I,V,he,Ee){return I===null||I.tag!==7?(I=gs(V,U.mode,he,Ee),I.return=U,I):(I=p(I,V),I.return=U,I)}function le(U,I,V){if(typeof I=="string"&&I!==""||typeof I=="number")return I=lh(""+I,U.mode,V),I.return=U,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case A:return V=uu(I.type,I.key,I.props,null,U.mode,V),V.ref=yl(U,null,I),V.return=U,V;case N:return I=ah(I,U.mode,V),I.return=U,I;case ue:var he=I._init;return le(U,he(I._payload),V)}if(Xn(I)||$(I))return I=gs(I,U.mode,V,null),I.return=U,I;za(U,I)}return null}function ne(U,I,V,he){var Ee=I!==null?I.key:null;if(typeof V=="string"&&V!==""||typeof V=="number")return Ee!==null?null:O(U,I,""+V,he);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case A:return V.key===Ee?F(U,I,V,he):null;case N:return V.key===Ee?H(U,I,V,he):null;case ue:return Ee=V._init,ne(U,I,Ee(V._payload),he)}if(Xn(V)||$(V))return Ee!==null?null:ie(U,I,V,he,null);za(U,V)}return null}function me(U,I,V,he,Ee){if(typeof he=="string"&&he!==""||typeof he=="number")return U=U.get(V)||null,O(I,U,""+he,Ee);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case A:return U=U.get(he.key===null?V:he.key)||null,F(I,U,he,Ee);case N:return U=U.get(he.key===null?V:he.key)||null,H(I,U,he,Ee);case ue:var Re=he._init;return me(U,I,V,Re(he._payload),Ee)}if(Xn(he)||$(he))return U=U.get(V)||null,ie(I,U,he,Ee,null);za(I,he)}return null}function ve(U,I,V,he){for(var Ee=null,Re=null,Te=I,Oe=I=0,Ot=null;Te!==null&&Oe<V.length;Oe++){Te.index>Oe?(Ot=Te,Te=null):Ot=Te.sibling;var Be=ne(U,Te,V[Oe],he);if(Be===null){Te===null&&(Te=Ot);break}r&&Te&&Be.alternate===null&&s(U,Te),I=_(Be,I,Oe),Re===null?Ee=Be:Re.sibling=Be,Re=Be,Te=Ot}if(Oe===V.length)return u(U,Te),tt&&ls(U,Oe),Ee;if(Te===null){for(;Oe<V.length;Oe++)Te=le(U,V[Oe],he),Te!==null&&(I=_(Te,I,Oe),Re===null?Ee=Te:Re.sibling=Te,Re=Te);return tt&&ls(U,Oe),Ee}for(Te=f(U,Te);Oe<V.length;Oe++)Ot=me(Te,U,Oe,V[Oe],he),Ot!==null&&(r&&Ot.alternate!==null&&Te.delete(Ot.key===null?Oe:Ot.key),I=_(Ot,I,Oe),Re===null?Ee=Ot:Re.sibling=Ot,Re=Ot);return r&&Te.forEach(function(Di){return s(U,Di)}),tt&&ls(U,Oe),Ee}function ke(U,I,V,he){var Ee=$(V);if(typeof Ee!="function")throw Error(n(150));if(V=Ee.call(V),V==null)throw Error(n(151));for(var Re=Ee=null,Te=I,Oe=I=0,Ot=null,Be=V.next();Te!==null&&!Be.done;Oe++,Be=V.next()){Te.index>Oe?(Ot=Te,Te=null):Ot=Te.sibling;var Di=ne(U,Te,Be.value,he);if(Di===null){Te===null&&(Te=Ot);break}r&&Te&&Di.alternate===null&&s(U,Te),I=_(Di,I,Oe),Re===null?Ee=Di:Re.sibling=Di,Re=Di,Te=Ot}if(Be.done)return u(U,Te),tt&&ls(U,Oe),Ee;if(Te===null){for(;!Be.done;Oe++,Be=V.next())Be=le(U,Be.value,he),Be!==null&&(I=_(Be,I,Oe),Re===null?Ee=Be:Re.sibling=Be,Re=Be);return tt&&ls(U,Oe),Ee}for(Te=f(U,Te);!Be.done;Oe++,Be=V.next())Be=me(Te,U,Oe,Be.value,he),Be!==null&&(r&&Be.alternate!==null&&Te.delete(Be.key===null?Oe:Be.key),I=_(Be,I,Oe),Re===null?Ee=Be:Re.sibling=Be,Re=Be);return r&&Te.forEach(function(rw){return s(U,rw)}),tt&&ls(U,Oe),Ee}function yt(U,I,V,he){if(typeof V=="object"&&V!==null&&V.type===j&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case A:e:{for(var Ee=V.key,Re=I;Re!==null;){if(Re.key===Ee){if(Ee=V.type,Ee===j){if(Re.tag===7){u(U,Re.sibling),I=p(Re,V.props.children),I.return=U,U=I;break e}}else if(Re.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===ue&&fg(Ee)===Re.type){u(U,Re.sibling),I=p(Re,V.props),I.ref=yl(U,Re,V),I.return=U,U=I;break e}u(U,Re);break}else s(U,Re);Re=Re.sibling}V.type===j?(I=gs(V.props.children,U.mode,he,V.key),I.return=U,U=I):(he=uu(V.type,V.key,V.props,null,U.mode,he),he.ref=yl(U,I,V),he.return=U,U=he)}return R(U);case N:e:{for(Re=V.key;I!==null;){if(I.key===Re)if(I.tag===4&&I.stateNode.containerInfo===V.containerInfo&&I.stateNode.implementation===V.implementation){u(U,I.sibling),I=p(I,V.children||[]),I.return=U,U=I;break e}else{u(U,I);break}else s(U,I);I=I.sibling}I=ah(V,U.mode,he),I.return=U,U=I}return R(U);case ue:return Re=V._init,yt(U,I,Re(V._payload),he)}if(Xn(V))return ve(U,I,V,he);if($(V))return ke(U,I,V,he);za(U,V)}return typeof V=="string"&&V!==""||typeof V=="number"?(V=""+V,I!==null&&I.tag===6?(u(U,I.sibling),I=p(I,V),I.return=U,U=I):(u(U,I),I=lh(V,U.mode,he),I.return=U,U=I),R(U)):u(U,I)}return yt}var so=hg(!0),dg=hg(!1),Ba=Ri(null),$a=null,oo=null,yf=null;function _f(){yf=oo=$a=null}function vf(r){var s=Ba.current;Ze(Ba),r._currentValue=s}function xf(r,s,u){for(;r!==null;){var f=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,f!==null&&(f.childLanes|=s)):f!==null&&(f.childLanes&s)!==s&&(f.childLanes|=s),r===u)break;r=r.return}}function lo(r,s){$a=r,yf=oo=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&s&&(_n=!0),r.firstContext=null)}function er(r){var s=r._currentValue;if(yf!==r)if(r={context:r,memoizedValue:s,next:null},oo===null){if($a===null)throw Error(n(308));oo=r,$a.dependencies={lanes:0,firstContext:r}}else oo=oo.next=r;return s}var as=null;function wf(r){as===null?as=[r]:as.push(r)}function pg(r,s,u,f){var p=s.interleaved;return p===null?(u.next=u,wf(s)):(u.next=p.next,p.next=u),s.interleaved=u,ii(r,f)}function ii(r,s){r.lanes|=s;var u=r.alternate;for(u!==null&&(u.lanes|=s),u=r,r=r.return;r!==null;)r.childLanes|=s,u=r.alternate,u!==null&&(u.childLanes|=s),u=r,r=r.return;return u.tag===3?u.stateNode:null}var Pi=!1;function kf(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gg(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function si(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function Ai(r,s,u){var f=r.updateQueue;if(f===null)return null;if(f=f.shared,De&2){var p=f.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),f.pending=s,ii(r,u)}return p=f.interleaved,p===null?(s.next=s,wf(f)):(s.next=p.next,p.next=s),f.interleaved=s,ii(r,u)}function Ua(r,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194240)!==0)){var f=s.lanes;f&=r.pendingLanes,u|=f,s.lanes=u,Nc(r,u)}}function mg(r,s){var u=r.updateQueue,f=r.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var p=null,_=null;if(u=u.firstBaseUpdate,u!==null){do{var R={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};_===null?p=_=R:_=_.next=R,u=u.next}while(u!==null);_===null?p=_=s:_=_.next=s}else p=_=s;u={baseState:f.baseState,firstBaseUpdate:p,lastBaseUpdate:_,shared:f.shared,effects:f.effects},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=s:r.next=s,u.lastBaseUpdate=s}function Va(r,s,u,f){var p=r.updateQueue;Pi=!1;var _=p.firstBaseUpdate,R=p.lastBaseUpdate,O=p.shared.pending;if(O!==null){p.shared.pending=null;var F=O,H=F.next;F.next=null,R===null?_=H:R.next=H,R=F;var ie=r.alternate;ie!==null&&(ie=ie.updateQueue,O=ie.lastBaseUpdate,O!==R&&(O===null?ie.firstBaseUpdate=H:O.next=H,ie.lastBaseUpdate=F))}if(_!==null){var le=p.baseState;R=0,ie=H=F=null,O=_;do{var ne=O.lane,me=O.eventTime;if((f&ne)===ne){ie!==null&&(ie=ie.next={eventTime:me,lane:0,tag:O.tag,payload:O.payload,callback:O.callback,next:null});e:{var ve=r,ke=O;switch(ne=s,me=u,ke.tag){case 1:if(ve=ke.payload,typeof ve=="function"){le=ve.call(me,le,ne);break e}le=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=ke.payload,ne=typeof ve=="function"?ve.call(me,le,ne):ve,ne==null)break e;le=G({},le,ne);break e;case 2:Pi=!0}}O.callback!==null&&O.lane!==0&&(r.flags|=64,ne=p.effects,ne===null?p.effects=[O]:ne.push(O))}else me={eventTime:me,lane:ne,tag:O.tag,payload:O.payload,callback:O.callback,next:null},ie===null?(H=ie=me,F=le):ie=ie.next=me,R|=ne;if(O=O.next,O===null){if(O=p.shared.pending,O===null)break;ne=O,O=ne.next,ne.next=null,p.lastBaseUpdate=ne,p.shared.pending=null}}while(!0);if(ie===null&&(F=le),p.baseState=F,p.firstBaseUpdate=H,p.lastBaseUpdate=ie,s=p.shared.interleaved,s!==null){p=s;do R|=p.lane,p=p.next;while(p!==s)}else _===null&&(p.shared.lanes=0);fs|=R,r.lanes=R,r.memoizedState=le}}function yg(r,s,u){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var f=r[s],p=f.callback;if(p!==null){if(f.callback=null,f=u,typeof p!="function")throw Error(n(191,p));p.call(f)}}}var _l={},Tr=Ri(_l),vl=Ri(_l),xl=Ri(_l);function us(r){if(r===_l)throw Error(n(174));return r}function bf(r,s){switch(Ke(xl,s),Ke(vl,r),Ke(Tr,_l),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Kn(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=Kn(s,r)}Ze(Tr),Ke(Tr,s)}function ao(){Ze(Tr),Ze(vl),Ze(xl)}function _g(r){us(xl.current);var s=us(Tr.current),u=Kn(s,r.type);s!==u&&(Ke(vl,r),Ke(Tr,u))}function Sf(r){vl.current===r&&(Ze(Tr),Ze(vl))}var st=Ri(0);function Ha(r){for(var s=r;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ef=[];function Cf(){for(var r=0;r<Ef.length;r++)Ef[r]._workInProgressVersionPrimary=null;Ef.length=0}var Wa=M.ReactCurrentDispatcher,Rf=M.ReactCurrentBatchConfig,cs=0,ot=null,kt=null,Pt=null,Ya=!1,wl=!1,kl=0,Cx=0;function Wt(){throw Error(n(321))}function Tf(r,s){if(s===null)return!1;for(var u=0;u<s.length&&u<r.length;u++)if(!fr(r[u],s[u]))return!1;return!0}function Mf(r,s,u,f,p,_){if(cs=_,ot=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Wa.current=r===null||r.memoizedState===null?Px:Ax,r=u(f,p),wl){_=0;do{if(wl=!1,kl=0,25<=_)throw Error(n(301));_+=1,Pt=kt=null,s.updateQueue=null,Wa.current=Ox,r=u(f,p)}while(wl)}if(Wa.current=qa,s=kt!==null&&kt.next!==null,cs=0,Pt=kt=ot=null,Ya=!1,s)throw Error(n(300));return r}function Pf(){var r=kl!==0;return kl=0,r}function Mr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?ot.memoizedState=Pt=r:Pt=Pt.next=r,Pt}function tr(){if(kt===null){var r=ot.alternate;r=r!==null?r.memoizedState:null}else r=kt.next;var s=Pt===null?ot.memoizedState:Pt.next;if(s!==null)Pt=s,kt=r;else{if(r===null)throw Error(n(310));kt=r,r={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},Pt===null?ot.memoizedState=Pt=r:Pt=Pt.next=r}return Pt}function bl(r,s){return typeof s=="function"?s(r):s}function Af(r){var s=tr(),u=s.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=r;var f=kt,p=f.baseQueue,_=u.pending;if(_!==null){if(p!==null){var R=p.next;p.next=_.next,_.next=R}f.baseQueue=p=_,u.pending=null}if(p!==null){_=p.next,f=f.baseState;var O=R=null,F=null,H=_;do{var ie=H.lane;if((cs&ie)===ie)F!==null&&(F=F.next={lane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),f=H.hasEagerState?H.eagerState:r(f,H.action);else{var le={lane:ie,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null};F===null?(O=F=le,R=f):F=F.next=le,ot.lanes|=ie,fs|=ie}H=H.next}while(H!==null&&H!==_);F===null?R=f:F.next=O,fr(f,s.memoizedState)||(_n=!0),s.memoizedState=f,s.baseState=R,s.baseQueue=F,u.lastRenderedState=f}if(r=u.interleaved,r!==null){p=r;do _=p.lane,ot.lanes|=_,fs|=_,p=p.next;while(p!==r)}else p===null&&(u.lanes=0);return[s.memoizedState,u.dispatch]}function Of(r){var s=tr(),u=s.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=r;var f=u.dispatch,p=u.pending,_=s.memoizedState;if(p!==null){u.pending=null;var R=p=p.next;do _=r(_,R.action),R=R.next;while(R!==p);fr(_,s.memoizedState)||(_n=!0),s.memoizedState=_,s.baseQueue===null&&(s.baseState=_),u.lastRenderedState=_}return[_,f]}function vg(){}function xg(r,s){var u=ot,f=tr(),p=s(),_=!fr(f.memoizedState,p);if(_&&(f.memoizedState=p,_n=!0),f=f.queue,Lf(bg.bind(null,u,f,r),[r]),f.getSnapshot!==s||_||Pt!==null&&Pt.memoizedState.tag&1){if(u.flags|=2048,Sl(9,kg.bind(null,u,f,p,s),void 0,null),At===null)throw Error(n(349));cs&30||wg(u,s,p)}return p}function wg(r,s,u){r.flags|=16384,r={getSnapshot:s,value:u},s=ot.updateQueue,s===null?(s={lastEffect:null,stores:null},ot.updateQueue=s,s.stores=[r]):(u=s.stores,u===null?s.stores=[r]:u.push(r))}function kg(r,s,u,f){s.value=u,s.getSnapshot=f,Sg(s)&&Eg(r)}function bg(r,s,u){return u(function(){Sg(s)&&Eg(r)})}function Sg(r){var s=r.getSnapshot;r=r.value;try{var u=s();return!fr(r,u)}catch{return!0}}function Eg(r){var s=ii(r,1);s!==null&&mr(s,r,1,-1)}function Cg(r){var s=Mr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bl,lastRenderedState:r},s.queue=r,r=r.dispatch=Mx.bind(null,ot,r),[s.memoizedState,r]}function Sl(r,s,u,f){return r={tag:r,create:s,destroy:u,deps:f,next:null},s=ot.updateQueue,s===null?(s={lastEffect:null,stores:null},ot.updateQueue=s,s.lastEffect=r.next=r):(u=s.lastEffect,u===null?s.lastEffect=r.next=r:(f=u.next,u.next=r,r.next=f,s.lastEffect=r)),r}function Rg(){return tr().memoizedState}function Xa(r,s,u,f){var p=Mr();ot.flags|=r,p.memoizedState=Sl(1|s,u,void 0,f===void 0?null:f)}function Ka(r,s,u,f){var p=tr();f=f===void 0?null:f;var _=void 0;if(kt!==null){var R=kt.memoizedState;if(_=R.destroy,f!==null&&Tf(f,R.deps)){p.memoizedState=Sl(s,u,_,f);return}}ot.flags|=r,p.memoizedState=Sl(1|s,u,_,f)}function Tg(r,s){return Xa(8390656,8,r,s)}function Lf(r,s){return Ka(2048,8,r,s)}function Mg(r,s){return Ka(4,2,r,s)}function Pg(r,s){return Ka(4,4,r,s)}function Ag(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Og(r,s,u){return u=u!=null?u.concat([r]):null,Ka(4,4,Ag.bind(null,s,r),u)}function Ff(){}function Lg(r,s){var u=tr();s=s===void 0?null:s;var f=u.memoizedState;return f!==null&&s!==null&&Tf(s,f[1])?f[0]:(u.memoizedState=[r,s],r)}function Fg(r,s){var u=tr();s=s===void 0?null:s;var f=u.memoizedState;return f!==null&&s!==null&&Tf(s,f[1])?f[0]:(r=r(),u.memoizedState=[r,s],r)}function Ng(r,s,u){return cs&21?(fr(u,s)||(u=fp(),ot.lanes|=u,fs|=u,r.baseState=!0),s):(r.baseState&&(r.baseState=!1,_n=!0),r.memoizedState=u)}function Rx(r,s){var u=Ye;Ye=u!==0&&4>u?u:4,r(!0);var f=Rf.transition;Rf.transition={};try{r(!1),s()}finally{Ye=u,Rf.transition=f}}function Ig(){return tr().memoizedState}function Tx(r,s,u){var f=Ni(r);if(u={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null},jg(r))Dg(s,u);else if(u=pg(r,s,u,f),u!==null){var p=ln();mr(u,r,f,p),zg(u,s,f)}}function Mx(r,s,u){var f=Ni(r),p={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null};if(jg(r))Dg(s,p);else{var _=r.alternate;if(r.lanes===0&&(_===null||_.lanes===0)&&(_=s.lastRenderedReducer,_!==null))try{var R=s.lastRenderedState,O=_(R,u);if(p.hasEagerState=!0,p.eagerState=O,fr(O,R)){var F=s.interleaved;F===null?(p.next=p,wf(s)):(p.next=F.next,F.next=p),s.interleaved=p;return}}catch{}finally{}u=pg(r,s,p,f),u!==null&&(p=ln(),mr(u,r,f,p),zg(u,s,f))}}function jg(r){var s=r.alternate;return r===ot||s!==null&&s===ot}function Dg(r,s){wl=Ya=!0;var u=r.pending;u===null?s.next=s:(s.next=u.next,u.next=s),r.pending=s}function zg(r,s,u){if(u&4194240){var f=s.lanes;f&=r.pendingLanes,u|=f,s.lanes=u,Nc(r,u)}}var qa={readContext:er,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useInsertionEffect:Wt,useLayoutEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useMutableSource:Wt,useSyncExternalStore:Wt,useId:Wt,unstable_isNewReconciler:!1},Px={readContext:er,useCallback:function(r,s){return Mr().memoizedState=[r,s===void 0?null:s],r},useContext:er,useEffect:Tg,useImperativeHandle:function(r,s,u){return u=u!=null?u.concat([r]):null,Xa(4194308,4,Ag.bind(null,s,r),u)},useLayoutEffect:function(r,s){return Xa(4194308,4,r,s)},useInsertionEffect:function(r,s){return Xa(4,2,r,s)},useMemo:function(r,s){var u=Mr();return s=s===void 0?null:s,r=r(),u.memoizedState=[r,s],r},useReducer:function(r,s,u){var f=Mr();return s=u!==void 0?u(s):s,f.memoizedState=f.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},f.queue=r,r=r.dispatch=Tx.bind(null,ot,r),[f.memoizedState,r]},useRef:function(r){var s=Mr();return r={current:r},s.memoizedState=r},useState:Cg,useDebugValue:Ff,useDeferredValue:function(r){return Mr().memoizedState=r},useTransition:function(){var r=Cg(!1),s=r[0];return r=Rx.bind(null,r[1]),Mr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,u){var f=ot,p=Mr();if(tt){if(u===void 0)throw Error(n(407));u=u()}else{if(u=s(),At===null)throw Error(n(349));cs&30||wg(f,s,u)}p.memoizedState=u;var _={value:u,getSnapshot:s};return p.queue=_,Tg(bg.bind(null,f,_,r),[r]),f.flags|=2048,Sl(9,kg.bind(null,f,_,u,s),void 0,null),u},useId:function(){var r=Mr(),s=At.identifierPrefix;if(tt){var u=ri,f=ni;u=(f&~(1<<32-vt(f)-1)).toString(32)+u,s=":"+s+"R"+u,u=kl++,0<u&&(s+="H"+u.toString(32)),s+=":"}else u=Cx++,s=":"+s+"r"+u.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},Ax={readContext:er,useCallback:Lg,useContext:er,useEffect:Lf,useImperativeHandle:Og,useInsertionEffect:Mg,useLayoutEffect:Pg,useMemo:Fg,useReducer:Af,useRef:Rg,useState:function(){return Af(bl)},useDebugValue:Ff,useDeferredValue:function(r){var s=tr();return Ng(s,kt.memoizedState,r)},useTransition:function(){var r=Af(bl)[0],s=tr().memoizedState;return[r,s]},useMutableSource:vg,useSyncExternalStore:xg,useId:Ig,unstable_isNewReconciler:!1},Ox={readContext:er,useCallback:Lg,useContext:er,useEffect:Lf,useImperativeHandle:Og,useInsertionEffect:Mg,useLayoutEffect:Pg,useMemo:Fg,useReducer:Of,useRef:Rg,useState:function(){return Of(bl)},useDebugValue:Ff,useDeferredValue:function(r){var s=tr();return kt===null?s.memoizedState=r:Ng(s,kt.memoizedState,r)},useTransition:function(){var r=Of(bl)[0],s=tr().memoizedState;return[r,s]},useMutableSource:vg,useSyncExternalStore:xg,useId:Ig,unstable_isNewReconciler:!1};function dr(r,s){if(r&&r.defaultProps){s=G({},s),r=r.defaultProps;for(var u in r)s[u]===void 0&&(s[u]=r[u]);return s}return s}function Nf(r,s,u,f){s=r.memoizedState,u=u(f,s),u=u==null?s:G({},s,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var Ga={isMounted:function(r){return(r=r._reactInternals)?Jr(r)===r:!1},enqueueSetState:function(r,s,u){r=r._reactInternals;var f=ln(),p=Ni(r),_=si(f,p);_.payload=s,u!=null&&(_.callback=u),s=Ai(r,_,p),s!==null&&(mr(s,r,p,f),Ua(s,r,p))},enqueueReplaceState:function(r,s,u){r=r._reactInternals;var f=ln(),p=Ni(r),_=si(f,p);_.tag=1,_.payload=s,u!=null&&(_.callback=u),s=Ai(r,_,p),s!==null&&(mr(s,r,p,f),Ua(s,r,p))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var u=ln(),f=Ni(r),p=si(u,f);p.tag=2,s!=null&&(p.callback=s),s=Ai(r,p,f),s!==null&&(mr(s,r,f,u),Ua(s,r,f))}};function Bg(r,s,u,f,p,_,R){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(f,_,R):s.prototype&&s.prototype.isPureReactComponent?!cl(u,f)||!cl(p,_):!0}function $g(r,s,u){var f=!1,p=Ti,_=s.contextType;return typeof _=="object"&&_!==null?_=er(_):(p=yn(s)?ss:Ht.current,f=s.contextTypes,_=(f=f!=null)?to(r,p):Ti),s=new s(u,_),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ga,r.stateNode=s,s._reactInternals=r,f&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=p,r.__reactInternalMemoizedMaskedChildContext=_),s}function Ug(r,s,u,f){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,f),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,f),s.state!==r&&Ga.enqueueReplaceState(s,s.state,null)}function If(r,s,u,f){var p=r.stateNode;p.props=u,p.state=r.memoizedState,p.refs={},kf(r);var _=s.contextType;typeof _=="object"&&_!==null?p.context=er(_):(_=yn(s)?ss:Ht.current,p.context=to(r,_)),p.state=r.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(Nf(r,s,_,u),p.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(s=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),s!==p.state&&Ga.enqueueReplaceState(p,p.state,null),Va(r,u,p,f),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308)}function uo(r,s){try{var u="",f=s;do u+=oe(f),f=f.return;while(f);var p=u}catch(_){p=`
Error generating stack: `+_.message+`
`+_.stack}return{value:r,source:s,stack:p,digest:null}}function jf(r,s,u){return{value:r,source:null,stack:u??null,digest:s??null}}function Df(r,s){try{console.error(s.value)}catch(u){setTimeout(function(){throw u})}}var Lx=typeof WeakMap=="function"?WeakMap:Map;function Vg(r,s,u){u=si(-1,u),u.tag=3,u.payload={element:null};var f=s.value;return u.callback=function(){ru||(ru=!0,Jf=f),Df(r,s)},u}function Hg(r,s,u){u=si(-1,u),u.tag=3;var f=r.type.getDerivedStateFromError;if(typeof f=="function"){var p=s.value;u.payload=function(){return f(p)},u.callback=function(){Df(r,s)}}var _=r.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(u.callback=function(){Df(r,s),typeof f!="function"&&(Li===null?Li=new Set([this]):Li.add(this));var R=s.stack;this.componentDidCatch(s.value,{componentStack:R!==null?R:""})}),u}function Wg(r,s,u){var f=r.pingCache;if(f===null){f=r.pingCache=new Lx;var p=new Set;f.set(s,p)}else p=f.get(s),p===void 0&&(p=new Set,f.set(s,p));p.has(u)||(p.add(u),r=Xx.bind(null,r,s,u),s.then(r,r))}function Yg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Xg(r,s,u,f,p){return r.mode&1?(r.flags|=65536,r.lanes=p,r):(r===s?r.flags|=65536:(r.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(s=si(-1,1),s.tag=2,Ai(u,s,1))),u.lanes|=1),r)}var Fx=M.ReactCurrentOwner,_n=!1;function on(r,s,u,f){s.child=r===null?dg(s,null,u,f):so(s,r.child,u,f)}function Kg(r,s,u,f,p){u=u.render;var _=s.ref;return lo(s,p),f=Mf(r,s,u,f,_,p),u=Pf(),r!==null&&!_n?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,oi(r,s,p)):(tt&&u&&hf(s),s.flags|=1,on(r,s,f,p),s.child)}function qg(r,s,u,f,p){if(r===null){var _=u.type;return typeof _=="function"&&!oh(_)&&_.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(s.tag=15,s.type=_,Gg(r,s,_,f,p)):(r=uu(u.type,null,f,s,s.mode,p),r.ref=s.ref,r.return=s,s.child=r)}if(_=r.child,!(r.lanes&p)){var R=_.memoizedProps;if(u=u.compare,u=u!==null?u:cl,u(R,f)&&r.ref===s.ref)return oi(r,s,p)}return s.flags|=1,r=ji(_,f),r.ref=s.ref,r.return=s,s.child=r}function Gg(r,s,u,f,p){if(r!==null){var _=r.memoizedProps;if(cl(_,f)&&r.ref===s.ref)if(_n=!1,s.pendingProps=f=_,(r.lanes&p)!==0)r.flags&131072&&(_n=!0);else return s.lanes=r.lanes,oi(r,s,p)}return zf(r,s,u,f,p)}function Qg(r,s,u){var f=s.pendingProps,p=f.children,_=r!==null?r.memoizedState:null;if(f.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(fo,Dn),Dn|=u;else{if(!(u&1073741824))return r=_!==null?_.baseLanes|u:u,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Ke(fo,Dn),Dn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=_!==null?_.baseLanes:u,Ke(fo,Dn),Dn|=f}else _!==null?(f=_.baseLanes|u,s.memoizedState=null):f=u,Ke(fo,Dn),Dn|=f;return on(r,s,p,u),s.child}function Zg(r,s){var u=s.ref;(r===null&&u!==null||r!==null&&r.ref!==u)&&(s.flags|=512,s.flags|=2097152)}function zf(r,s,u,f,p){var _=yn(u)?ss:Ht.current;return _=to(s,_),lo(s,p),u=Mf(r,s,u,f,_,p),f=Pf(),r!==null&&!_n?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,oi(r,s,p)):(tt&&f&&hf(s),s.flags|=1,on(r,s,u,p),s.child)}function Jg(r,s,u,f,p){if(yn(u)){var _=!0;Fa(s)}else _=!1;if(lo(s,p),s.stateNode===null)Za(r,s),$g(s,u,f),If(s,u,f,p),f=!0;else if(r===null){var R=s.stateNode,O=s.memoizedProps;R.props=O;var F=R.context,H=u.contextType;typeof H=="object"&&H!==null?H=er(H):(H=yn(u)?ss:Ht.current,H=to(s,H));var ie=u.getDerivedStateFromProps,le=typeof ie=="function"||typeof R.getSnapshotBeforeUpdate=="function";le||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(O!==f||F!==H)&&Ug(s,R,f,H),Pi=!1;var ne=s.memoizedState;R.state=ne,Va(s,f,R,p),F=s.memoizedState,O!==f||ne!==F||mn.current||Pi?(typeof ie=="function"&&(Nf(s,u,ie,f),F=s.memoizedState),(O=Pi||Bg(s,u,O,f,ne,F,H))?(le||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(s.flags|=4194308)):(typeof R.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=f,s.memoizedState=F),R.props=f,R.state=F,R.context=H,f=O):(typeof R.componentDidMount=="function"&&(s.flags|=4194308),f=!1)}else{R=s.stateNode,gg(r,s),O=s.memoizedProps,H=s.type===s.elementType?O:dr(s.type,O),R.props=H,le=s.pendingProps,ne=R.context,F=u.contextType,typeof F=="object"&&F!==null?F=er(F):(F=yn(u)?ss:Ht.current,F=to(s,F));var me=u.getDerivedStateFromProps;(ie=typeof me=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(O!==le||ne!==F)&&Ug(s,R,f,F),Pi=!1,ne=s.memoizedState,R.state=ne,Va(s,f,R,p);var ve=s.memoizedState;O!==le||ne!==ve||mn.current||Pi?(typeof me=="function"&&(Nf(s,u,me,f),ve=s.memoizedState),(H=Pi||Bg(s,u,H,f,ne,ve,F)||!1)?(ie||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(f,ve,F),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(f,ve,F)),typeof R.componentDidUpdate=="function"&&(s.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof R.componentDidUpdate!="function"||O===r.memoizedProps&&ne===r.memoizedState||(s.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||O===r.memoizedProps&&ne===r.memoizedState||(s.flags|=1024),s.memoizedProps=f,s.memoizedState=ve),R.props=f,R.state=ve,R.context=F,f=H):(typeof R.componentDidUpdate!="function"||O===r.memoizedProps&&ne===r.memoizedState||(s.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||O===r.memoizedProps&&ne===r.memoizedState||(s.flags|=1024),f=!1)}return Bf(r,s,u,f,_,p)}function Bf(r,s,u,f,p,_){Zg(r,s);var R=(s.flags&128)!==0;if(!f&&!R)return p&&ig(s,u,!1),oi(r,s,_);f=s.stateNode,Fx.current=s;var O=R&&typeof u.getDerivedStateFromError!="function"?null:f.render();return s.flags|=1,r!==null&&R?(s.child=so(s,r.child,null,_),s.child=so(s,null,O,_)):on(r,s,O,_),s.memoizedState=f.state,p&&ig(s,u,!0),s.child}function em(r){var s=r.stateNode;s.pendingContext?ng(r,s.pendingContext,s.pendingContext!==s.context):s.context&&ng(r,s.context,!1),bf(r,s.containerInfo)}function tm(r,s,u,f,p){return io(),mf(p),s.flags|=256,on(r,s,u,f),s.child}var $f={dehydrated:null,treeContext:null,retryLane:0};function Uf(r){return{baseLanes:r,cachePool:null,transitions:null}}function nm(r,s,u){var f=s.pendingProps,p=st.current,_=!1,R=(s.flags&128)!==0,O;if((O=R)||(O=r!==null&&r.memoizedState===null?!1:(p&2)!==0),O?(_=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(p|=1),Ke(st,p&1),r===null)return gf(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(s.mode&1?r.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(R=f.children,r=f.fallback,_?(f=s.mode,_=s.child,R={mode:"hidden",children:R},!(f&1)&&_!==null?(_.childLanes=0,_.pendingProps=R):_=cu(R,f,0,null),r=gs(r,f,u,null),_.return=s,r.return=s,_.sibling=r,s.child=_,s.child.memoizedState=Uf(u),s.memoizedState=$f,r):Vf(s,R));if(p=r.memoizedState,p!==null&&(O=p.dehydrated,O!==null))return Nx(r,s,R,f,O,p,u);if(_){_=f.fallback,R=s.mode,p=r.child,O=p.sibling;var F={mode:"hidden",children:f.children};return!(R&1)&&s.child!==p?(f=s.child,f.childLanes=0,f.pendingProps=F,s.deletions=null):(f=ji(p,F),f.subtreeFlags=p.subtreeFlags&14680064),O!==null?_=ji(O,_):(_=gs(_,R,u,null),_.flags|=2),_.return=s,f.return=s,f.sibling=_,s.child=f,f=_,_=s.child,R=r.child.memoizedState,R=R===null?Uf(u):{baseLanes:R.baseLanes|u,cachePool:null,transitions:R.transitions},_.memoizedState=R,_.childLanes=r.childLanes&~u,s.memoizedState=$f,f}return _=r.child,r=_.sibling,f=ji(_,{mode:"visible",children:f.children}),!(s.mode&1)&&(f.lanes=u),f.return=s,f.sibling=null,r!==null&&(u=s.deletions,u===null?(s.deletions=[r],s.flags|=16):u.push(r)),s.child=f,s.memoizedState=null,f}function Vf(r,s){return s=cu({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Qa(r,s,u,f){return f!==null&&mf(f),so(s,r.child,null,u),r=Vf(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function Nx(r,s,u,f,p,_,R){if(u)return s.flags&256?(s.flags&=-257,f=jf(Error(n(422))),Qa(r,s,R,f)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(_=f.fallback,p=s.mode,f=cu({mode:"visible",children:f.children},p,0,null),_=gs(_,p,R,null),_.flags|=2,f.return=s,_.return=s,f.sibling=_,s.child=f,s.mode&1&&so(s,r.child,null,R),s.child.memoizedState=Uf(R),s.memoizedState=$f,_);if(!(s.mode&1))return Qa(r,s,R,null);if(p.data==="$!"){if(f=p.nextSibling&&p.nextSibling.dataset,f)var O=f.dgst;return f=O,_=Error(n(419)),f=jf(_,f,void 0),Qa(r,s,R,f)}if(O=(R&r.childLanes)!==0,_n||O){if(f=At,f!==null){switch(R&-R){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=p&(f.suspendedLanes|R)?0:p,p!==0&&p!==_.retryLane&&(_.retryLane=p,ii(r,p),mr(f,r,p,-1))}return sh(),f=jf(Error(n(421))),Qa(r,s,R,f)}return p.data==="$?"?(s.flags|=128,s.child=r.child,s=Kx.bind(null,r),p._reactRetry=s,null):(r=_.treeContext,jn=Ci(p.nextSibling),In=s,tt=!0,hr=null,r!==null&&(Zn[Jn++]=ni,Zn[Jn++]=ri,Zn[Jn++]=os,ni=r.id,ri=r.overflow,os=s),s=Vf(s,f.children),s.flags|=4096,s)}function rm(r,s,u){r.lanes|=s;var f=r.alternate;f!==null&&(f.lanes|=s),xf(r.return,s,u)}function Hf(r,s,u,f,p){var _=r.memoizedState;_===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:p}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=f,_.tail=u,_.tailMode=p)}function im(r,s,u){var f=s.pendingProps,p=f.revealOrder,_=f.tail;if(on(r,s,f.children,u),f=st.current,f&2)f=f&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&rm(r,u,s);else if(r.tag===19)rm(r,u,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}f&=1}if(Ke(st,f),!(s.mode&1))s.memoizedState=null;else switch(p){case"forwards":for(u=s.child,p=null;u!==null;)r=u.alternate,r!==null&&Ha(r)===null&&(p=u),u=u.sibling;u=p,u===null?(p=s.child,s.child=null):(p=u.sibling,u.sibling=null),Hf(s,!1,p,u,_);break;case"backwards":for(u=null,p=s.child,s.child=null;p!==null;){if(r=p.alternate,r!==null&&Ha(r)===null){s.child=p;break}r=p.sibling,p.sibling=u,u=p,p=r}Hf(s,!0,u,null,_);break;case"together":Hf(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Za(r,s){!(s.mode&1)&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function oi(r,s,u){if(r!==null&&(s.dependencies=r.dependencies),fs|=s.lanes,!(u&s.childLanes))return null;if(r!==null&&s.child!==r.child)throw Error(n(153));if(s.child!==null){for(r=s.child,u=ji(r,r.pendingProps),s.child=u,u.return=s;r.sibling!==null;)r=r.sibling,u=u.sibling=ji(r,r.pendingProps),u.return=s;u.sibling=null}return s.child}function Ix(r,s,u){switch(s.tag){case 3:em(s),io();break;case 5:_g(s);break;case 1:yn(s.type)&&Fa(s);break;case 4:bf(s,s.stateNode.containerInfo);break;case 10:var f=s.type._context,p=s.memoizedProps.value;Ke(Ba,f._currentValue),f._currentValue=p;break;case 13:if(f=s.memoizedState,f!==null)return f.dehydrated!==null?(Ke(st,st.current&1),s.flags|=128,null):u&s.child.childLanes?nm(r,s,u):(Ke(st,st.current&1),r=oi(r,s,u),r!==null?r.sibling:null);Ke(st,st.current&1);break;case 19:if(f=(u&s.childLanes)!==0,r.flags&128){if(f)return im(r,s,u);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Ke(st,st.current),f)break;return null;case 22:case 23:return s.lanes=0,Qg(r,s,u)}return oi(r,s,u)}var sm,Wf,om,lm;sm=function(r,s){for(var u=s.child;u!==null;){if(u.tag===5||u.tag===6)r.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Wf=function(){},om=function(r,s,u,f){var p=r.memoizedProps;if(p!==f){r=s.stateNode,us(Tr.current);var _=null;switch(u){case"input":p=Tt(r,p),f=Tt(r,f),_=[];break;case"select":p=G({},p,{value:void 0}),f=G({},f,{value:void 0}),_=[];break;case"textarea":p=Er(r,p),f=Er(r,f),_=[];break;default:typeof p.onClick!="function"&&typeof f.onClick=="function"&&(r.onclick=Aa)}mi(u,f);var R;u=null;for(H in p)if(!f.hasOwnProperty(H)&&p.hasOwnProperty(H)&&p[H]!=null)if(H==="style"){var O=p[H];for(R in O)O.hasOwnProperty(R)&&(u||(u={}),u[R]="")}else H!=="dangerouslySetInnerHTML"&&H!=="children"&&H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(o.hasOwnProperty(H)?_||(_=[]):(_=_||[]).push(H,null));for(H in f){var F=f[H];if(O=p!=null?p[H]:void 0,f.hasOwnProperty(H)&&F!==O&&(F!=null||O!=null))if(H==="style")if(O){for(R in O)!O.hasOwnProperty(R)||F&&F.hasOwnProperty(R)||(u||(u={}),u[R]="");for(R in F)F.hasOwnProperty(R)&&O[R]!==F[R]&&(u||(u={}),u[R]=F[R])}else u||(_||(_=[]),_.push(H,u)),u=F;else H==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,O=O?O.__html:void 0,F!=null&&O!==F&&(_=_||[]).push(H,F)):H==="children"?typeof F!="string"&&typeof F!="number"||(_=_||[]).push(H,""+F):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&(o.hasOwnProperty(H)?(F!=null&&H==="onScroll"&&Qe("scroll",r),_||O===F||(_=[])):(_=_||[]).push(H,F))}u&&(_=_||[]).push("style",u);var H=_;(s.updateQueue=H)&&(s.flags|=4)}},lm=function(r,s,u,f){u!==f&&(s.flags|=4)};function El(r,s){if(!tt)switch(r.tailMode){case"hidden":s=r.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:f.sibling=null}}function Yt(r){var s=r.alternate!==null&&r.alternate.child===r.child,u=0,f=0;if(s)for(var p=r.child;p!==null;)u|=p.lanes|p.childLanes,f|=p.subtreeFlags&14680064,f|=p.flags&14680064,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)u|=p.lanes|p.childLanes,f|=p.subtreeFlags,f|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=f,r.childLanes=u,s}function jx(r,s,u){var f=s.pendingProps;switch(df(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(s),null;case 1:return yn(s.type)&&La(),Yt(s),null;case 3:return f=s.stateNode,ao(),Ze(mn),Ze(Ht),Cf(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(r===null||r.child===null)&&(Da(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,hr!==null&&(nh(hr),hr=null))),Wf(r,s),Yt(s),null;case 5:Sf(s);var p=us(xl.current);if(u=s.type,r!==null&&s.stateNode!=null)om(r,s,u,f,p),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!f){if(s.stateNode===null)throw Error(n(166));return Yt(s),null}if(r=us(Tr.current),Da(s)){f=s.stateNode,u=s.type;var _=s.memoizedProps;switch(f[Rr]=s,f[gl]=_,r=(s.mode&1)!==0,u){case"dialog":Qe("cancel",f),Qe("close",f);break;case"iframe":case"object":case"embed":Qe("load",f);break;case"video":case"audio":for(p=0;p<hl.length;p++)Qe(hl[p],f);break;case"source":Qe("error",f);break;case"img":case"image":case"link":Qe("error",f),Qe("load",f);break;case"details":Qe("toggle",f);break;case"input":gt(f,_),Qe("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!_.multiple},Qe("invalid",f);break;case"textarea":An(f,_),Qe("invalid",f)}mi(u,_),p=null;for(var R in _)if(_.hasOwnProperty(R)){var O=_[R];R==="children"?typeof O=="string"?f.textContent!==O&&(_.suppressHydrationWarning!==!0&&Pa(f.textContent,O,r),p=["children",O]):typeof O=="number"&&f.textContent!==""+O&&(_.suppressHydrationWarning!==!0&&Pa(f.textContent,O,r),p=["children",""+O]):o.hasOwnProperty(R)&&O!=null&&R==="onScroll"&&Qe("scroll",f)}switch(u){case"input":He(f),Yn(f,_,!0);break;case"textarea":He(f),Cr(f);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(f.onclick=Aa)}f=p,s.updateQueue=f,f!==null&&(s.flags|=4)}else{R=p.nodeType===9?p:p.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=qr(u)),r==="http://www.w3.org/1999/xhtml"?u==="script"?(r=R.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof f.is=="string"?r=R.createElement(u,{is:f.is}):(r=R.createElement(u),u==="select"&&(R=r,f.multiple?R.multiple=!0:f.size&&(R.size=f.size))):r=R.createElementNS(r,u),r[Rr]=s,r[gl]=f,sm(r,s,!1,!1),s.stateNode=r;e:{switch(R=Bs(u,f),u){case"dialog":Qe("cancel",r),Qe("close",r),p=f;break;case"iframe":case"object":case"embed":Qe("load",r),p=f;break;case"video":case"audio":for(p=0;p<hl.length;p++)Qe(hl[p],r);p=f;break;case"source":Qe("error",r),p=f;break;case"img":case"image":case"link":Qe("error",r),Qe("load",r),p=f;break;case"details":Qe("toggle",r),p=f;break;case"input":gt(r,f),p=Tt(r,f),Qe("invalid",r);break;case"option":p=f;break;case"select":r._wrapperState={wasMultiple:!!f.multiple},p=G({},f,{value:void 0}),Qe("invalid",r);break;case"textarea":An(r,f),p=Er(r,f),Qe("invalid",r);break;default:p=f}mi(u,p),O=p;for(_ in O)if(O.hasOwnProperty(_)){var F=O[_];_==="style"?oa(r,F):_==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,F!=null&&sn(r,F)):_==="children"?typeof F=="string"?(u!=="textarea"||F!=="")&&qn(r,F):typeof F=="number"&&qn(r,""+F):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(o.hasOwnProperty(_)?F!=null&&_==="onScroll"&&Qe("scroll",r):F!=null&&C(r,_,F,R))}switch(u){case"input":He(r),Yn(r,f,!1);break;case"textarea":He(r),Cr(r);break;case"option":f.value!=null&&r.setAttribute("value",""+ee(f.value));break;case"select":r.multiple=!!f.multiple,_=f.value,_!=null?Pn(r,!!f.multiple,_,!1):f.defaultValue!=null&&Pn(r,!!f.multiple,f.defaultValue,!0);break;default:typeof p.onClick=="function"&&(r.onclick=Aa)}switch(u){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Yt(s),null;case 6:if(r&&s.stateNode!=null)lm(r,s,r.memoizedProps,f);else{if(typeof f!="string"&&s.stateNode===null)throw Error(n(166));if(u=us(xl.current),us(Tr.current),Da(s)){if(f=s.stateNode,u=s.memoizedProps,f[Rr]=s,(_=f.nodeValue!==u)&&(r=In,r!==null))switch(r.tag){case 3:Pa(f.nodeValue,u,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Pa(f.nodeValue,u,(r.mode&1)!==0)}_&&(s.flags|=4)}else f=(u.nodeType===9?u:u.ownerDocument).createTextNode(f),f[Rr]=s,s.stateNode=f}return Yt(s),null;case 13:if(Ze(st),f=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(tt&&jn!==null&&s.mode&1&&!(s.flags&128))cg(),io(),s.flags|=98560,_=!1;else if(_=Da(s),f!==null&&f.dehydrated!==null){if(r===null){if(!_)throw Error(n(318));if(_=s.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(n(317));_[Rr]=s}else io(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Yt(s),_=!1}else hr!==null&&(nh(hr),hr=null),_=!0;if(!_)return s.flags&65536?s:null}return s.flags&128?(s.lanes=u,s):(f=f!==null,f!==(r!==null&&r.memoizedState!==null)&&f&&(s.child.flags|=8192,s.mode&1&&(r===null||st.current&1?bt===0&&(bt=3):sh())),s.updateQueue!==null&&(s.flags|=4),Yt(s),null);case 4:return ao(),Wf(r,s),r===null&&dl(s.stateNode.containerInfo),Yt(s),null;case 10:return vf(s.type._context),Yt(s),null;case 17:return yn(s.type)&&La(),Yt(s),null;case 19:if(Ze(st),_=s.memoizedState,_===null)return Yt(s),null;if(f=(s.flags&128)!==0,R=_.rendering,R===null)if(f)El(_,!1);else{if(bt!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(R=Ha(r),R!==null){for(s.flags|=128,El(_,!1),f=R.updateQueue,f!==null&&(s.updateQueue=f,s.flags|=4),s.subtreeFlags=0,f=u,u=s.child;u!==null;)_=u,r=f,_.flags&=14680066,R=_.alternate,R===null?(_.childLanes=0,_.lanes=r,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=R.childLanes,_.lanes=R.lanes,_.child=R.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=R.memoizedProps,_.memoizedState=R.memoizedState,_.updateQueue=R.updateQueue,_.type=R.type,r=R.dependencies,_.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),u=u.sibling;return Ke(st,st.current&1|2),s.child}r=r.sibling}_.tail!==null&&ge()>ho&&(s.flags|=128,f=!0,El(_,!1),s.lanes=4194304)}else{if(!f)if(r=Ha(R),r!==null){if(s.flags|=128,f=!0,u=r.updateQueue,u!==null&&(s.updateQueue=u,s.flags|=4),El(_,!0),_.tail===null&&_.tailMode==="hidden"&&!R.alternate&&!tt)return Yt(s),null}else 2*ge()-_.renderingStartTime>ho&&u!==1073741824&&(s.flags|=128,f=!0,El(_,!1),s.lanes=4194304);_.isBackwards?(R.sibling=s.child,s.child=R):(u=_.last,u!==null?u.sibling=R:s.child=R,_.last=R)}return _.tail!==null?(s=_.tail,_.rendering=s,_.tail=s.sibling,_.renderingStartTime=ge(),s.sibling=null,u=st.current,Ke(st,f?u&1|2:u&1),s):(Yt(s),null);case 22:case 23:return ih(),f=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==f&&(s.flags|=8192),f&&s.mode&1?Dn&1073741824&&(Yt(s),s.subtreeFlags&6&&(s.flags|=8192)):Yt(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function Dx(r,s){switch(df(s),s.tag){case 1:return yn(s.type)&&La(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return ao(),Ze(mn),Ze(Ht),Cf(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 5:return Sf(s),null;case 13:if(Ze(st),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(n(340));io()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Ze(st),null;case 4:return ao(),null;case 10:return vf(s.type._context),null;case 22:case 23:return ih(),null;case 24:return null;default:return null}}var Ja=!1,Xt=!1,zx=typeof WeakSet=="function"?WeakSet:Set,ye=null;function co(r,s){var u=r.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(f){ht(r,s,f)}else u.current=null}function Yf(r,s,u){try{u()}catch(f){ht(r,s,f)}}var am=!1;function Bx(r,s){if(rf=va,r=Bp(),qc(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else e:{u=(u=r.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var p=f.anchorOffset,_=f.focusNode;f=f.focusOffset;try{u.nodeType,_.nodeType}catch{u=null;break e}var R=0,O=-1,F=-1,H=0,ie=0,le=r,ne=null;t:for(;;){for(var me;le!==u||p!==0&&le.nodeType!==3||(O=R+p),le!==_||f!==0&&le.nodeType!==3||(F=R+f),le.nodeType===3&&(R+=le.nodeValue.length),(me=le.firstChild)!==null;)ne=le,le=me;for(;;){if(le===r)break t;if(ne===u&&++H===p&&(O=R),ne===_&&++ie===f&&(F=R),(me=le.nextSibling)!==null)break;le=ne,ne=le.parentNode}le=me}u=O===-1||F===-1?null:{start:O,end:F}}else u=null}u=u||{start:0,end:0}}else u=null;for(sf={focusedElem:r,selectionRange:u},va=!1,ye=s;ye!==null;)if(s=ye,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,ye=r;else for(;ye!==null;){s=ye;try{var ve=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ve!==null){var ke=ve.memoizedProps,yt=ve.memoizedState,U=s.stateNode,I=U.getSnapshotBeforeUpdate(s.elementType===s.type?ke:dr(s.type,ke),yt);U.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var V=s.stateNode.containerInfo;V.nodeType===1?V.textContent="":V.nodeType===9&&V.documentElement&&V.removeChild(V.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(he){ht(s,s.return,he)}if(r=s.sibling,r!==null){r.return=s.return,ye=r;break}ye=s.return}return ve=am,am=!1,ve}function Cl(r,s,u){var f=s.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var p=f=f.next;do{if((p.tag&r)===r){var _=p.destroy;p.destroy=void 0,_!==void 0&&Yf(s,u,_)}p=p.next}while(p!==f)}}function eu(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var u=s=s.next;do{if((u.tag&r)===r){var f=u.create;u.destroy=f()}u=u.next}while(u!==s)}}function Xf(r){var s=r.ref;if(s!==null){var u=r.stateNode;switch(r.tag){case 5:r=u;break;default:r=u}typeof s=="function"?s(r):s.current=r}}function um(r){var s=r.alternate;s!==null&&(r.alternate=null,um(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[Rr],delete s[gl],delete s[uf],delete s[kx],delete s[bx])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function cm(r){return r.tag===5||r.tag===3||r.tag===4}function fm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||cm(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Kf(r,s,u){var f=r.tag;if(f===5||f===6)r=r.stateNode,s?u.nodeType===8?u.parentNode.insertBefore(r,s):u.insertBefore(r,s):(u.nodeType===8?(s=u.parentNode,s.insertBefore(r,u)):(s=u,s.appendChild(r)),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=Aa));else if(f!==4&&(r=r.child,r!==null))for(Kf(r,s,u),r=r.sibling;r!==null;)Kf(r,s,u),r=r.sibling}function qf(r,s,u){var f=r.tag;if(f===5||f===6)r=r.stateNode,s?u.insertBefore(r,s):u.appendChild(r);else if(f!==4&&(r=r.child,r!==null))for(qf(r,s,u),r=r.sibling;r!==null;)qf(r,s,u),r=r.sibling}var Nt=null,pr=!1;function Oi(r,s,u){for(u=u.child;u!==null;)hm(r,s,u),u=u.sibling}function hm(r,s,u){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount(gn,u)}catch{}switch(u.tag){case 5:Xt||co(u,s);case 6:var f=Nt,p=pr;Nt=null,Oi(r,s,u),Nt=f,pr=p,Nt!==null&&(pr?(r=Nt,u=u.stateNode,r.nodeType===8?r.parentNode.removeChild(u):r.removeChild(u)):Nt.removeChild(u.stateNode));break;case 18:Nt!==null&&(pr?(r=Nt,u=u.stateNode,r.nodeType===8?af(r.parentNode,u):r.nodeType===1&&af(r,u),il(r)):af(Nt,u.stateNode));break;case 4:f=Nt,p=pr,Nt=u.stateNode.containerInfo,pr=!0,Oi(r,s,u),Nt=f,pr=p;break;case 0:case 11:case 14:case 15:if(!Xt&&(f=u.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){p=f=f.next;do{var _=p,R=_.destroy;_=_.tag,R!==void 0&&(_&2||_&4)&&Yf(u,s,R),p=p.next}while(p!==f)}Oi(r,s,u);break;case 1:if(!Xt&&(co(u,s),f=u.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=u.memoizedProps,f.state=u.memoizedState,f.componentWillUnmount()}catch(O){ht(u,s,O)}Oi(r,s,u);break;case 21:Oi(r,s,u);break;case 22:u.mode&1?(Xt=(f=Xt)||u.memoizedState!==null,Oi(r,s,u),Xt=f):Oi(r,s,u);break;default:Oi(r,s,u)}}function dm(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var u=r.stateNode;u===null&&(u=r.stateNode=new zx),s.forEach(function(f){var p=qx.bind(null,r,f);u.has(f)||(u.add(f),f.then(p,p))})}}function gr(r,s){var u=s.deletions;if(u!==null)for(var f=0;f<u.length;f++){var p=u[f];try{var _=r,R=s,O=R;e:for(;O!==null;){switch(O.tag){case 5:Nt=O.stateNode,pr=!1;break e;case 3:Nt=O.stateNode.containerInfo,pr=!0;break e;case 4:Nt=O.stateNode.containerInfo,pr=!0;break e}O=O.return}if(Nt===null)throw Error(n(160));hm(_,R,p),Nt=null,pr=!1;var F=p.alternate;F!==null&&(F.return=null),p.return=null}catch(H){ht(p,s,H)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)pm(s,r),s=s.sibling}function pm(r,s){var u=r.alternate,f=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(gr(s,r),Pr(r),f&4){try{Cl(3,r,r.return),eu(3,r)}catch(ke){ht(r,r.return,ke)}try{Cl(5,r,r.return)}catch(ke){ht(r,r.return,ke)}}break;case 1:gr(s,r),Pr(r),f&512&&u!==null&&co(u,u.return);break;case 5:if(gr(s,r),Pr(r),f&512&&u!==null&&co(u,u.return),r.flags&32){var p=r.stateNode;try{qn(p,"")}catch(ke){ht(r,r.return,ke)}}if(f&4&&(p=r.stateNode,p!=null)){var _=r.memoizedProps,R=u!==null?u.memoizedProps:_,O=r.type,F=r.updateQueue;if(r.updateQueue=null,F!==null)try{O==="input"&&_.type==="radio"&&_.name!=null&&Ut(p,_),Bs(O,R);var H=Bs(O,_);for(R=0;R<F.length;R+=2){var ie=F[R],le=F[R+1];ie==="style"?oa(p,le):ie==="dangerouslySetInnerHTML"?sn(p,le):ie==="children"?qn(p,le):C(p,ie,le,H)}switch(O){case"input":rn(p,_);break;case"textarea":pn(p,_);break;case"select":var ne=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!_.multiple;var me=_.value;me!=null?Pn(p,!!_.multiple,me,!1):ne!==!!_.multiple&&(_.defaultValue!=null?Pn(p,!!_.multiple,_.defaultValue,!0):Pn(p,!!_.multiple,_.multiple?[]:"",!1))}p[gl]=_}catch(ke){ht(r,r.return,ke)}}break;case 6:if(gr(s,r),Pr(r),f&4){if(r.stateNode===null)throw Error(n(162));p=r.stateNode,_=r.memoizedProps;try{p.nodeValue=_}catch(ke){ht(r,r.return,ke)}}break;case 3:if(gr(s,r),Pr(r),f&4&&u!==null&&u.memoizedState.isDehydrated)try{il(s.containerInfo)}catch(ke){ht(r,r.return,ke)}break;case 4:gr(s,r),Pr(r);break;case 13:gr(s,r),Pr(r),p=r.child,p.flags&8192&&(_=p.memoizedState!==null,p.stateNode.isHidden=_,!_||p.alternate!==null&&p.alternate.memoizedState!==null||(Zf=ge())),f&4&&dm(r);break;case 22:if(ie=u!==null&&u.memoizedState!==null,r.mode&1?(Xt=(H=Xt)||ie,gr(s,r),Xt=H):gr(s,r),Pr(r),f&8192){if(H=r.memoizedState!==null,(r.stateNode.isHidden=H)&&!ie&&r.mode&1)for(ye=r,ie=r.child;ie!==null;){for(le=ye=ie;ye!==null;){switch(ne=ye,me=ne.child,ne.tag){case 0:case 11:case 14:case 15:Cl(4,ne,ne.return);break;case 1:co(ne,ne.return);var ve=ne.stateNode;if(typeof ve.componentWillUnmount=="function"){f=ne,u=ne.return;try{s=f,ve.props=s.memoizedProps,ve.state=s.memoizedState,ve.componentWillUnmount()}catch(ke){ht(f,u,ke)}}break;case 5:co(ne,ne.return);break;case 22:if(ne.memoizedState!==null){ym(le);continue}}me!==null?(me.return=ne,ye=me):ym(le)}ie=ie.sibling}e:for(ie=null,le=r;;){if(le.tag===5){if(ie===null){ie=le;try{p=le.stateNode,H?(_=p.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(O=le.stateNode,F=le.memoizedProps.style,R=F!=null&&F.hasOwnProperty("display")?F.display:null,O.style.display=es("display",R))}catch(ke){ht(r,r.return,ke)}}}else if(le.tag===6){if(ie===null)try{le.stateNode.nodeValue=H?"":le.memoizedProps}catch(ke){ht(r,r.return,ke)}}else if((le.tag!==22&&le.tag!==23||le.memoizedState===null||le===r)&&le.child!==null){le.child.return=le,le=le.child;continue}if(le===r)break e;for(;le.sibling===null;){if(le.return===null||le.return===r)break e;ie===le&&(ie=null),le=le.return}ie===le&&(ie=null),le.sibling.return=le.return,le=le.sibling}}break;case 19:gr(s,r),Pr(r),f&4&&dm(r);break;case 21:break;default:gr(s,r),Pr(r)}}function Pr(r){var s=r.flags;if(s&2){try{e:{for(var u=r.return;u!==null;){if(cm(u)){var f=u;break e}u=u.return}throw Error(n(160))}switch(f.tag){case 5:var p=f.stateNode;f.flags&32&&(qn(p,""),f.flags&=-33);var _=fm(r);qf(r,_,p);break;case 3:case 4:var R=f.stateNode.containerInfo,O=fm(r);Kf(r,O,R);break;default:throw Error(n(161))}}catch(F){ht(r,r.return,F)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function $x(r,s,u){ye=r,gm(r)}function gm(r,s,u){for(var f=(r.mode&1)!==0;ye!==null;){var p=ye,_=p.child;if(p.tag===22&&f){var R=p.memoizedState!==null||Ja;if(!R){var O=p.alternate,F=O!==null&&O.memoizedState!==null||Xt;O=Ja;var H=Xt;if(Ja=R,(Xt=F)&&!H)for(ye=p;ye!==null;)R=ye,F=R.child,R.tag===22&&R.memoizedState!==null?_m(p):F!==null?(F.return=R,ye=F):_m(p);for(;_!==null;)ye=_,gm(_),_=_.sibling;ye=p,Ja=O,Xt=H}mm(r)}else p.subtreeFlags&8772&&_!==null?(_.return=p,ye=_):mm(r)}}function mm(r){for(;ye!==null;){var s=ye;if(s.flags&8772){var u=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Xt||eu(5,s);break;case 1:var f=s.stateNode;if(s.flags&4&&!Xt)if(u===null)f.componentDidMount();else{var p=s.elementType===s.type?u.memoizedProps:dr(s.type,u.memoizedProps);f.componentDidUpdate(p,u.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var _=s.updateQueue;_!==null&&yg(s,_,f);break;case 3:var R=s.updateQueue;if(R!==null){if(u=null,s.child!==null)switch(s.child.tag){case 5:u=s.child.stateNode;break;case 1:u=s.child.stateNode}yg(s,R,u)}break;case 5:var O=s.stateNode;if(u===null&&s.flags&4){u=O;var F=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":F.autoFocus&&u.focus();break;case"img":F.src&&(u.src=F.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var H=s.alternate;if(H!==null){var ie=H.memoizedState;if(ie!==null){var le=ie.dehydrated;le!==null&&il(le)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Xt||s.flags&512&&Xf(s)}catch(ne){ht(s,s.return,ne)}}if(s===r){ye=null;break}if(u=s.sibling,u!==null){u.return=s.return,ye=u;break}ye=s.return}}function ym(r){for(;ye!==null;){var s=ye;if(s===r){ye=null;break}var u=s.sibling;if(u!==null){u.return=s.return,ye=u;break}ye=s.return}}function _m(r){for(;ye!==null;){var s=ye;try{switch(s.tag){case 0:case 11:case 15:var u=s.return;try{eu(4,s)}catch(F){ht(s,u,F)}break;case 1:var f=s.stateNode;if(typeof f.componentDidMount=="function"){var p=s.return;try{f.componentDidMount()}catch(F){ht(s,p,F)}}var _=s.return;try{Xf(s)}catch(F){ht(s,_,F)}break;case 5:var R=s.return;try{Xf(s)}catch(F){ht(s,R,F)}}}catch(F){ht(s,s.return,F)}if(s===r){ye=null;break}var O=s.sibling;if(O!==null){O.return=s.return,ye=O;break}ye=s.return}}var Ux=Math.ceil,tu=M.ReactCurrentDispatcher,Gf=M.ReactCurrentOwner,nr=M.ReactCurrentBatchConfig,De=0,At=null,xt=null,It=0,Dn=0,fo=Ri(0),bt=0,Rl=null,fs=0,nu=0,Qf=0,Tl=null,vn=null,Zf=0,ho=1/0,li=null,ru=!1,Jf=null,Li=null,iu=!1,Fi=null,su=0,Ml=0,eh=null,ou=-1,lu=0;function ln(){return De&6?ge():ou!==-1?ou:ou=ge()}function Ni(r){return r.mode&1?De&2&&It!==0?It&-It:Ex.transition!==null?(lu===0&&(lu=fp()),lu):(r=Ye,r!==0||(r=window.event,r=r===void 0?16:xp(r.type)),r):1}function mr(r,s,u,f){if(50<Ml)throw Ml=0,eh=null,Error(n(185));Jo(r,u,f),(!(De&2)||r!==At)&&(r===At&&(!(De&2)&&(nu|=u),bt===4&&Ii(r,It)),xn(r,f),u===1&&De===0&&!(s.mode&1)&&(ho=ge()+500,Na&&Mi()))}function xn(r,s){var u=r.callbackNode;E1(r,s);var f=ma(r,r===At?It:0);if(f===0)u!==null&&Qo(u),r.callbackNode=null,r.callbackPriority=0;else if(s=f&-f,r.callbackPriority!==s){if(u!=null&&Qo(u),s===1)r.tag===0?Sx(xm.bind(null,r)):sg(xm.bind(null,r)),xx(function(){!(De&6)&&Mi()}),u=null;else{switch(hp(f)){case 1:u=Xe;break;case 4:u=mt;break;case 16:u=Fn;break;case 536870912:u=Qn;break;default:u=Fn}u=Tm(u,vm.bind(null,r))}r.callbackPriority=s,r.callbackNode=u}}function vm(r,s){if(ou=-1,lu=0,De&6)throw Error(n(327));var u=r.callbackNode;if(po()&&r.callbackNode!==u)return null;var f=ma(r,r===At?It:0);if(f===0)return null;if(f&30||f&r.expiredLanes||s)s=au(r,f);else{s=f;var p=De;De|=2;var _=km();(At!==r||It!==s)&&(li=null,ho=ge()+500,ds(r,s));do try{Wx();break}catch(O){wm(r,O)}while(!0);_f(),tu.current=_,De=p,xt!==null?s=0:(At=null,It=0,s=bt)}if(s!==0){if(s===2&&(p=Lc(r),p!==0&&(f=p,s=th(r,p))),s===1)throw u=Rl,ds(r,0),Ii(r,f),xn(r,ge()),u;if(s===6)Ii(r,f);else{if(p=r.current.alternate,!(f&30)&&!Vx(p)&&(s=au(r,f),s===2&&(_=Lc(r),_!==0&&(f=_,s=th(r,_))),s===1))throw u=Rl,ds(r,0),Ii(r,f),xn(r,ge()),u;switch(r.finishedWork=p,r.finishedLanes=f,s){case 0:case 1:throw Error(n(345));case 2:ps(r,vn,li);break;case 3:if(Ii(r,f),(f&130023424)===f&&(s=Zf+500-ge(),10<s)){if(ma(r,0)!==0)break;if(p=r.suspendedLanes,(p&f)!==f){ln(),r.pingedLanes|=r.suspendedLanes&p;break}r.timeoutHandle=lf(ps.bind(null,r,vn,li),s);break}ps(r,vn,li);break;case 4:if(Ii(r,f),(f&4194240)===f)break;for(s=r.eventTimes,p=-1;0<f;){var R=31-vt(f);_=1<<R,R=s[R],R>p&&(p=R),f&=~_}if(f=p,f=ge()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*Ux(f/1960))-f,10<f){r.timeoutHandle=lf(ps.bind(null,r,vn,li),f);break}ps(r,vn,li);break;case 5:ps(r,vn,li);break;default:throw Error(n(329))}}}return xn(r,ge()),r.callbackNode===u?vm.bind(null,r):null}function th(r,s){var u=Tl;return r.current.memoizedState.isDehydrated&&(ds(r,s).flags|=256),r=au(r,s),r!==2&&(s=vn,vn=u,s!==null&&nh(s)),r}function nh(r){vn===null?vn=r:vn.push.apply(vn,r)}function Vx(r){for(var s=r;;){if(s.flags&16384){var u=s.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var f=0;f<u.length;f++){var p=u[f],_=p.getSnapshot;p=p.value;try{if(!fr(_(),p))return!1}catch{return!1}}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ii(r,s){for(s&=~Qf,s&=~nu,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var u=31-vt(s),f=1<<u;r[u]=-1,s&=~f}}function xm(r){if(De&6)throw Error(n(327));po();var s=ma(r,0);if(!(s&1))return xn(r,ge()),null;var u=au(r,s);if(r.tag!==0&&u===2){var f=Lc(r);f!==0&&(s=f,u=th(r,f))}if(u===1)throw u=Rl,ds(r,0),Ii(r,s),xn(r,ge()),u;if(u===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,ps(r,vn,li),xn(r,ge()),null}function rh(r,s){var u=De;De|=1;try{return r(s)}finally{De=u,De===0&&(ho=ge()+500,Na&&Mi())}}function hs(r){Fi!==null&&Fi.tag===0&&!(De&6)&&po();var s=De;De|=1;var u=nr.transition,f=Ye;try{if(nr.transition=null,Ye=1,r)return r()}finally{Ye=f,nr.transition=u,De=s,!(De&6)&&Mi()}}function ih(){Dn=fo.current,Ze(fo)}function ds(r,s){r.finishedWork=null,r.finishedLanes=0;var u=r.timeoutHandle;if(u!==-1&&(r.timeoutHandle=-1,vx(u)),xt!==null)for(u=xt.return;u!==null;){var f=u;switch(df(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&La();break;case 3:ao(),Ze(mn),Ze(Ht),Cf();break;case 5:Sf(f);break;case 4:ao();break;case 13:Ze(st);break;case 19:Ze(st);break;case 10:vf(f.type._context);break;case 22:case 23:ih()}u=u.return}if(At=r,xt=r=ji(r.current,null),It=Dn=s,bt=0,Rl=null,Qf=nu=fs=0,vn=Tl=null,as!==null){for(s=0;s<as.length;s++)if(u=as[s],f=u.interleaved,f!==null){u.interleaved=null;var p=f.next,_=u.pending;if(_!==null){var R=_.next;_.next=p,f.next=R}u.pending=f}as=null}return r}function wm(r,s){do{var u=xt;try{if(_f(),Wa.current=qa,Ya){for(var f=ot.memoizedState;f!==null;){var p=f.queue;p!==null&&(p.pending=null),f=f.next}Ya=!1}if(cs=0,Pt=kt=ot=null,wl=!1,kl=0,Gf.current=null,u===null||u.return===null){bt=1,Rl=s,xt=null;break}e:{var _=r,R=u.return,O=u,F=s;if(s=It,O.flags|=32768,F!==null&&typeof F=="object"&&typeof F.then=="function"){var H=F,ie=O,le=ie.tag;if(!(ie.mode&1)&&(le===0||le===11||le===15)){var ne=ie.alternate;ne?(ie.updateQueue=ne.updateQueue,ie.memoizedState=ne.memoizedState,ie.lanes=ne.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var me=Yg(R);if(me!==null){me.flags&=-257,Xg(me,R,O,_,s),me.mode&1&&Wg(_,H,s),s=me,F=H;var ve=s.updateQueue;if(ve===null){var ke=new Set;ke.add(F),s.updateQueue=ke}else ve.add(F);break e}else{if(!(s&1)){Wg(_,H,s),sh();break e}F=Error(n(426))}}else if(tt&&O.mode&1){var yt=Yg(R);if(yt!==null){!(yt.flags&65536)&&(yt.flags|=256),Xg(yt,R,O,_,s),mf(uo(F,O));break e}}_=F=uo(F,O),bt!==4&&(bt=2),Tl===null?Tl=[_]:Tl.push(_),_=R;do{switch(_.tag){case 3:_.flags|=65536,s&=-s,_.lanes|=s;var U=Vg(_,F,s);mg(_,U);break e;case 1:O=F;var I=_.type,V=_.stateNode;if(!(_.flags&128)&&(typeof I.getDerivedStateFromError=="function"||V!==null&&typeof V.componentDidCatch=="function"&&(Li===null||!Li.has(V)))){_.flags|=65536,s&=-s,_.lanes|=s;var he=Hg(_,O,s);mg(_,he);break e}}_=_.return}while(_!==null)}Sm(u)}catch(Ee){s=Ee,xt===u&&u!==null&&(xt=u=u.return);continue}break}while(!0)}function km(){var r=tu.current;return tu.current=qa,r===null?qa:r}function sh(){(bt===0||bt===3||bt===2)&&(bt=4),At===null||!(fs&268435455)&&!(nu&268435455)||Ii(At,It)}function au(r,s){var u=De;De|=2;var f=km();(At!==r||It!==s)&&(li=null,ds(r,s));do try{Hx();break}catch(p){wm(r,p)}while(!0);if(_f(),De=u,tu.current=f,xt!==null)throw Error(n(261));return At=null,It=0,bt}function Hx(){for(;xt!==null;)bm(xt)}function Wx(){for(;xt!==null&&!Oc();)bm(xt)}function bm(r){var s=Rm(r.alternate,r,Dn);r.memoizedProps=r.pendingProps,s===null?Sm(r):xt=s,Gf.current=null}function Sm(r){var s=r;do{var u=s.alternate;if(r=s.return,s.flags&32768){if(u=Dx(u,s),u!==null){u.flags&=32767,xt=u;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{bt=6,xt=null;return}}else if(u=jx(u,s,Dn),u!==null){xt=u;return}if(s=s.sibling,s!==null){xt=s;return}xt=s=r}while(s!==null);bt===0&&(bt=5)}function ps(r,s,u){var f=Ye,p=nr.transition;try{nr.transition=null,Ye=1,Yx(r,s,u,f)}finally{nr.transition=p,Ye=f}return null}function Yx(r,s,u,f){do po();while(Fi!==null);if(De&6)throw Error(n(327));u=r.finishedWork;var p=r.finishedLanes;if(u===null)return null;if(r.finishedWork=null,r.finishedLanes=0,u===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var _=u.lanes|u.childLanes;if(C1(r,_),r===At&&(xt=At=null,It=0),!(u.subtreeFlags&2064)&&!(u.flags&2064)||iu||(iu=!0,Tm(Fn,function(){return po(),null})),_=(u.flags&15990)!==0,u.subtreeFlags&15990||_){_=nr.transition,nr.transition=null;var R=Ye;Ye=1;var O=De;De|=4,Gf.current=null,Bx(r,u),pm(u,r),hx(sf),va=!!rf,sf=rf=null,r.current=u,$x(u),Ue(),De=O,Ye=R,nr.transition=_}else r.current=u;if(iu&&(iu=!1,Fi=r,su=p),_=r.pendingLanes,_===0&&(Li=null),vi(u.stateNode),xn(r,ge()),s!==null)for(f=r.onRecoverableError,u=0;u<s.length;u++)p=s[u],f(p.value,{componentStack:p.stack,digest:p.digest});if(ru)throw ru=!1,r=Jf,Jf=null,r;return su&1&&r.tag!==0&&po(),_=r.pendingLanes,_&1?r===eh?Ml++:(Ml=0,eh=r):Ml=0,Mi(),null}function po(){if(Fi!==null){var r=hp(su),s=nr.transition,u=Ye;try{if(nr.transition=null,Ye=16>r?16:r,Fi===null)var f=!1;else{if(r=Fi,Fi=null,su=0,De&6)throw Error(n(331));var p=De;for(De|=4,ye=r.current;ye!==null;){var _=ye,R=_.child;if(ye.flags&16){var O=_.deletions;if(O!==null){for(var F=0;F<O.length;F++){var H=O[F];for(ye=H;ye!==null;){var ie=ye;switch(ie.tag){case 0:case 11:case 15:Cl(8,ie,_)}var le=ie.child;if(le!==null)le.return=ie,ye=le;else for(;ye!==null;){ie=ye;var ne=ie.sibling,me=ie.return;if(um(ie),ie===H){ye=null;break}if(ne!==null){ne.return=me,ye=ne;break}ye=me}}}var ve=_.alternate;if(ve!==null){var ke=ve.child;if(ke!==null){ve.child=null;do{var yt=ke.sibling;ke.sibling=null,ke=yt}while(ke!==null)}}ye=_}}if(_.subtreeFlags&2064&&R!==null)R.return=_,ye=R;else e:for(;ye!==null;){if(_=ye,_.flags&2048)switch(_.tag){case 0:case 11:case 15:Cl(9,_,_.return)}var U=_.sibling;if(U!==null){U.return=_.return,ye=U;break e}ye=_.return}}var I=r.current;for(ye=I;ye!==null;){R=ye;var V=R.child;if(R.subtreeFlags&2064&&V!==null)V.return=R,ye=V;else e:for(R=I;ye!==null;){if(O=ye,O.flags&2048)try{switch(O.tag){case 0:case 11:case 15:eu(9,O)}}catch(Ee){ht(O,O.return,Ee)}if(O===R){ye=null;break e}var he=O.sibling;if(he!==null){he.return=O.return,ye=he;break e}ye=O.return}}if(De=p,Mi(),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot(gn,r)}catch{}f=!0}return f}finally{Ye=u,nr.transition=s}}return!1}function Em(r,s,u){s=uo(u,s),s=Vg(r,s,1),r=Ai(r,s,1),s=ln(),r!==null&&(Jo(r,1,s),xn(r,s))}function ht(r,s,u){if(r.tag===3)Em(r,r,u);else for(;s!==null;){if(s.tag===3){Em(s,r,u);break}else if(s.tag===1){var f=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Li===null||!Li.has(f))){r=uo(u,r),r=Hg(s,r,1),s=Ai(s,r,1),r=ln(),s!==null&&(Jo(s,1,r),xn(s,r));break}}s=s.return}}function Xx(r,s,u){var f=r.pingCache;f!==null&&f.delete(s),s=ln(),r.pingedLanes|=r.suspendedLanes&u,At===r&&(It&u)===u&&(bt===4||bt===3&&(It&130023424)===It&&500>ge()-Zf?ds(r,0):Qf|=u),xn(r,s)}function Cm(r,s){s===0&&(r.mode&1?(s=ga,ga<<=1,!(ga&130023424)&&(ga=4194304)):s=1);var u=ln();r=ii(r,s),r!==null&&(Jo(r,s,u),xn(r,u))}function Kx(r){var s=r.memoizedState,u=0;s!==null&&(u=s.retryLane),Cm(r,u)}function qx(r,s){var u=0;switch(r.tag){case 13:var f=r.stateNode,p=r.memoizedState;p!==null&&(u=p.retryLane);break;case 19:f=r.stateNode;break;default:throw Error(n(314))}f!==null&&f.delete(s),Cm(r,u)}var Rm;Rm=function(r,s,u){if(r!==null)if(r.memoizedProps!==s.pendingProps||mn.current)_n=!0;else{if(!(r.lanes&u)&&!(s.flags&128))return _n=!1,Ix(r,s,u);_n=!!(r.flags&131072)}else _n=!1,tt&&s.flags&1048576&&og(s,ja,s.index);switch(s.lanes=0,s.tag){case 2:var f=s.type;Za(r,s),r=s.pendingProps;var p=to(s,Ht.current);lo(s,u),p=Mf(null,s,f,r,p,u);var _=Pf();return s.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,yn(f)?(_=!0,Fa(s)):_=!1,s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,kf(s),p.updater=Ga,s.stateNode=p,p._reactInternals=s,If(s,f,r,u),s=Bf(null,s,f,!0,_,u)):(s.tag=0,tt&&_&&hf(s),on(null,s,p,u),s=s.child),s;case 16:f=s.elementType;e:{switch(Za(r,s),r=s.pendingProps,p=f._init,f=p(f._payload),s.type=f,p=s.tag=Qx(f),r=dr(f,r),p){case 0:s=zf(null,s,f,r,u);break e;case 1:s=Jg(null,s,f,r,u);break e;case 11:s=Kg(null,s,f,r,u);break e;case 14:s=qg(null,s,f,dr(f.type,r),u);break e}throw Error(n(306,f,""))}return s;case 0:return f=s.type,p=s.pendingProps,p=s.elementType===f?p:dr(f,p),zf(r,s,f,p,u);case 1:return f=s.type,p=s.pendingProps,p=s.elementType===f?p:dr(f,p),Jg(r,s,f,p,u);case 3:e:{if(em(s),r===null)throw Error(n(387));f=s.pendingProps,_=s.memoizedState,p=_.element,gg(r,s),Va(s,f,null,u);var R=s.memoizedState;if(f=R.element,_.isDehydrated)if(_={element:f,isDehydrated:!1,cache:R.cache,pendingSuspenseBoundaries:R.pendingSuspenseBoundaries,transitions:R.transitions},s.updateQueue.baseState=_,s.memoizedState=_,s.flags&256){p=uo(Error(n(423)),s),s=tm(r,s,f,u,p);break e}else if(f!==p){p=uo(Error(n(424)),s),s=tm(r,s,f,u,p);break e}else for(jn=Ci(s.stateNode.containerInfo.firstChild),In=s,tt=!0,hr=null,u=dg(s,null,f,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(io(),f===p){s=oi(r,s,u);break e}on(r,s,f,u)}s=s.child}return s;case 5:return _g(s),r===null&&gf(s),f=s.type,p=s.pendingProps,_=r!==null?r.memoizedProps:null,R=p.children,of(f,p)?R=null:_!==null&&of(f,_)&&(s.flags|=32),Zg(r,s),on(r,s,R,u),s.child;case 6:return r===null&&gf(s),null;case 13:return nm(r,s,u);case 4:return bf(s,s.stateNode.containerInfo),f=s.pendingProps,r===null?s.child=so(s,null,f,u):on(r,s,f,u),s.child;case 11:return f=s.type,p=s.pendingProps,p=s.elementType===f?p:dr(f,p),Kg(r,s,f,p,u);case 7:return on(r,s,s.pendingProps,u),s.child;case 8:return on(r,s,s.pendingProps.children,u),s.child;case 12:return on(r,s,s.pendingProps.children,u),s.child;case 10:e:{if(f=s.type._context,p=s.pendingProps,_=s.memoizedProps,R=p.value,Ke(Ba,f._currentValue),f._currentValue=R,_!==null)if(fr(_.value,R)){if(_.children===p.children&&!mn.current){s=oi(r,s,u);break e}}else for(_=s.child,_!==null&&(_.return=s);_!==null;){var O=_.dependencies;if(O!==null){R=_.child;for(var F=O.firstContext;F!==null;){if(F.context===f){if(_.tag===1){F=si(-1,u&-u),F.tag=2;var H=_.updateQueue;if(H!==null){H=H.shared;var ie=H.pending;ie===null?F.next=F:(F.next=ie.next,ie.next=F),H.pending=F}}_.lanes|=u,F=_.alternate,F!==null&&(F.lanes|=u),xf(_.return,u,s),O.lanes|=u;break}F=F.next}}else if(_.tag===10)R=_.type===s.type?null:_.child;else if(_.tag===18){if(R=_.return,R===null)throw Error(n(341));R.lanes|=u,O=R.alternate,O!==null&&(O.lanes|=u),xf(R,u,s),R=_.sibling}else R=_.child;if(R!==null)R.return=_;else for(R=_;R!==null;){if(R===s){R=null;break}if(_=R.sibling,_!==null){_.return=R.return,R=_;break}R=R.return}_=R}on(r,s,p.children,u),s=s.child}return s;case 9:return p=s.type,f=s.pendingProps.children,lo(s,u),p=er(p),f=f(p),s.flags|=1,on(r,s,f,u),s.child;case 14:return f=s.type,p=dr(f,s.pendingProps),p=dr(f.type,p),qg(r,s,f,p,u);case 15:return Gg(r,s,s.type,s.pendingProps,u);case 17:return f=s.type,p=s.pendingProps,p=s.elementType===f?p:dr(f,p),Za(r,s),s.tag=1,yn(f)?(r=!0,Fa(s)):r=!1,lo(s,u),$g(s,f,p),If(s,f,p,u),Bf(null,s,f,!0,r,u);case 19:return im(r,s,u);case 22:return Qg(r,s,u)}throw Error(n(156,s.tag))};function Tm(r,s){return Go(r,s)}function Gx(r,s,u,f){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rr(r,s,u,f){return new Gx(r,s,u,f)}function oh(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Qx(r){if(typeof r=="function")return oh(r)?1:0;if(r!=null){if(r=r.$$typeof,r===q)return 11;if(r===re)return 14}return 2}function ji(r,s){var u=r.alternate;return u===null?(u=rr(r.tag,s,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=s,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&14680064,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,s=r.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u}function uu(r,s,u,f,p,_){var R=2;if(f=r,typeof r=="function")oh(r)&&(R=1);else if(typeof r=="string")R=5;else e:switch(r){case j:return gs(u.children,p,_,s);case X:R=8,p|=8;break;case z:return r=rr(12,u,s,p|2),r.elementType=z,r.lanes=_,r;case ae:return r=rr(13,u,s,p),r.elementType=ae,r.lanes=_,r;case te:return r=rr(19,u,s,p),r.elementType=te,r.lanes=_,r;case Z:return cu(u,p,_,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case W:R=10;break e;case K:R=9;break e;case q:R=11;break e;case re:R=14;break e;case ue:R=16,f=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return s=rr(R,u,s,p),s.elementType=r,s.type=f,s.lanes=_,s}function gs(r,s,u,f){return r=rr(7,r,f,s),r.lanes=u,r}function cu(r,s,u,f){return r=rr(22,r,f,s),r.elementType=Z,r.lanes=u,r.stateNode={isHidden:!1},r}function lh(r,s,u){return r=rr(6,r,null,s),r.lanes=u,r}function ah(r,s,u){return s=rr(4,r.children!==null?r.children:[],r.key,s),s.lanes=u,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function Zx(r,s,u,f,p){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fc(0),this.expirationTimes=Fc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fc(0),this.identifierPrefix=f,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function uh(r,s,u,f,p,_,R,O,F){return r=new Zx(r,s,u,O,F),s===1?(s=1,_===!0&&(s|=8)):s=0,_=rr(3,null,null,s),r.current=_,_.stateNode=r,_.memoizedState={element:f,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},kf(_),r}function Jx(r,s,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:N,key:f==null?null:""+f,children:r,containerInfo:s,implementation:u}}function Mm(r){if(!r)return Ti;r=r._reactInternals;e:{if(Jr(r)!==r||r.tag!==1)throw Error(n(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(yn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(r.tag===1){var u=r.type;if(yn(u))return rg(r,u,s)}return s}function Pm(r,s,u,f,p,_,R,O,F){return r=uh(u,f,!0,r,p,_,R,O,F),r.context=Mm(null),u=r.current,f=ln(),p=Ni(u),_=si(f,p),_.callback=s??null,Ai(u,_,p),r.current.lanes=p,Jo(r,p,f),xn(r,f),r}function fu(r,s,u,f){var p=s.current,_=ln(),R=Ni(p);return u=Mm(u),s.context===null?s.context=u:s.pendingContext=u,s=si(_,R),s.payload={element:r},f=f===void 0?null:f,f!==null&&(s.callback=f),r=Ai(p,s,R),r!==null&&(mr(r,p,R,_),Ua(r,p,R)),R}function hu(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Am(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<s?u:s}}function ch(r,s){Am(r,s),(r=r.alternate)&&Am(r,s)}var Om=typeof reportError=="function"?reportError:function(r){console.error(r)};function fh(r){this._internalRoot=r}du.prototype.render=fh.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(n(409));fu(r,s,null,null)},du.prototype.unmount=fh.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;hs(function(){fu(null,r,null,null)}),s[ei]=null}};function du(r){this._internalRoot=r}du.prototype.unstable_scheduleHydration=function(r){if(r){var s=gp();r={blockedOn:null,target:r,priority:s};for(var u=0;u<bi.length&&s!==0&&s<bi[u].priority;u++);bi.splice(u,0,r),u===0&&_p(r)}};function hh(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function pu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Lm(){}function ew(r,s,u,f,p){if(p){if(typeof f=="function"){var _=f;f=function(){var H=hu(R);_.call(H)}}var R=Pm(s,f,r,0,null,!1,!1,"",Lm);return r._reactRootContainer=R,r[ei]=R.current,dl(r.nodeType===8?r.parentNode:r),hs(),R}for(;p=r.lastChild;)r.removeChild(p);if(typeof f=="function"){var O=f;f=function(){var H=hu(F);O.call(H)}}var F=uh(r,0,!1,null,null,!1,!1,"",Lm);return r._reactRootContainer=F,r[ei]=F.current,dl(r.nodeType===8?r.parentNode:r),hs(function(){fu(s,F,u,f)}),F}function gu(r,s,u,f,p){var _=u._reactRootContainer;if(_){var R=_;if(typeof p=="function"){var O=p;p=function(){var F=hu(R);O.call(F)}}fu(s,R,r,p)}else R=ew(u,s,r,p,f);return hu(R)}dp=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var u=Zo(s.pendingLanes);u!==0&&(Nc(s,u|1),xn(s,ge()),!(De&6)&&(ho=ge()+500,Mi()))}break;case 13:hs(function(){var f=ii(r,1);if(f!==null){var p=ln();mr(f,r,1,p)}}),ch(r,1)}},Ic=function(r){if(r.tag===13){var s=ii(r,134217728);if(s!==null){var u=ln();mr(s,r,134217728,u)}ch(r,134217728)}},pp=function(r){if(r.tag===13){var s=Ni(r),u=ii(r,s);if(u!==null){var f=ln();mr(u,r,s,f)}ch(r,s)}},gp=function(){return Ye},mp=function(r,s){var u=Ye;try{return Ye=r,s()}finally{Ye=u}},Gn=function(r,s,u){switch(s){case"input":if(rn(r,u),s=u.name,u.type==="radio"&&s!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<u.length;s++){var f=u[s];if(f!==r&&f.form===r.form){var p=Oa(f);if(!p)throw Error(n(90));pt(f),rn(f,p)}}}break;case"textarea":pn(r,u);break;case"select":s=u.value,s!=null&&Pn(r,!!u.multiple,s,!1)}},aa=rh,ua=hs;var tw={usingClientEntryPoint:!1,Events:[ml,Js,Oa,ts,Vo,rh]},Pl={findFiberByHostInstance:is,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nw={bundleType:Pl.bundleType,version:Pl.version,rendererPackageName:Pl.rendererPackageName,rendererConfig:Pl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=ha(r),r===null?null:r.stateNode},findFiberByHostInstance:Pl.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mu.isDisabled&&mu.supportsFiber)try{gn=mu.inject(nw),Mt=mu}catch{}}return kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tw,kn.createPortal=function(r,s){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hh(s))throw Error(n(200));return Jx(r,s,null,u)},kn.createRoot=function(r,s){if(!hh(r))throw Error(n(299));var u=!1,f="",p=Om;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=uh(r,1,!1,null,null,u,!1,f,p),r[ei]=s.current,dl(r.nodeType===8?r.parentNode:r),new fh(s)},kn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=ha(s),r=r===null?null:r.stateNode,r},kn.flushSync=function(r){return hs(r)},kn.hydrate=function(r,s,u){if(!pu(s))throw Error(n(200));return gu(null,r,s,!0,u)},kn.hydrateRoot=function(r,s,u){if(!hh(r))throw Error(n(405));var f=u!=null&&u.hydratedSources||null,p=!1,_="",R=Om;if(u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(_=u.identifierPrefix),u.onRecoverableError!==void 0&&(R=u.onRecoverableError)),s=Pm(s,null,r,1,u??null,p,!1,_,R),r[ei]=s.current,dl(r),f)for(r=0;r<f.length;r++)u=f[r],p=u._getVersion,p=p(u._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[u,p]:s.mutableSourceEagerHydrationData.push(u,p);return new du(s)},kn.render=function(r,s,u){if(!pu(s))throw Error(n(200));return gu(null,r,s,!1,u)},kn.unmountComponentAtNode=function(r){if(!pu(r))throw Error(n(40));return r._reactRootContainer?(hs(function(){gu(null,null,r,!1,function(){r._reactRootContainer=null,r[ei]=null})}),!0):!1},kn.unstable_batchedUpdates=rh,kn.unstable_renderSubtreeIntoContainer=function(r,s,u,f){if(!pu(u))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return gu(r,s,u,!1,f)},kn.version="18.3.1-next-f1338f8080-20240426",kn}var Wm;function a0(){if(Wm)return gh.exports;Wm=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),gh.exports=dw(),gh.exports}var Ym;function pw(){if(Ym)return yu;Ym=1;var e=a0();return yu.createRoot=e.createRoot,yu.hydrateRoot=e.hydrateRoot,yu}var gw=pw();const Xm=e=>{let t;const n=new Set,i=(d,g)=>{const m=typeof d=="function"?d(t):d;if(!Object.is(m,t)){const v=t;t=g??(typeof m!="object"||m===null)?m:Object.assign({},t,m),n.forEach(y=>y(t,v))}},o=()=>t,c={setState:i,getState:o,getInitialState:()=>h,subscribe:d=>(n.add(d),()=>n.delete(d))},h=t=e(i,o,c);return c},mw=e=>e?Xm(e):Xm,yw=e=>e;function _w(e,t=yw){const n=it.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return it.useDebugValue(n),n}const vw=e=>{const t=mw(e),n=i=>_w(t,i);return Object.assign(n,t),n},Sr=e=>vw;function xw(e,t){let n;try{n=e()}catch{return}return{getItem:o=>{var l;const a=h=>h===null?null:JSON.parse(h,void 0),c=(l=n.getItem(o))!=null?l:null;return c instanceof Promise?c.then(a):a(c)},setItem:(o,l)=>n.setItem(o,JSON.stringify(l,void 0)),removeItem:o=>n.removeItem(o)}}const Qh=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(i){return Qh(i)(n)},catch(i){return this}}}catch(n){return{then(i){return this},catch(i){return Qh(i)(n)}}}},ww=(e,t)=>(n,i,o)=>{let l={storage:xw(()=>localStorage),partialize:k=>k,version:0,merge:(k,S)=>({...S,...k}),...t},a=!1;const c=new Set,h=new Set;let d=l.storage;if(!d)return e((...k)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),n(...k)},i,o);const g=()=>{const k=l.partialize({...i()});return d.setItem(l.name,{state:k,version:l.version})},m=o.setState;o.setState=(k,S)=>{m(k,S),g()};const v=e((...k)=>{n(...k),g()},i,o);o.getInitialState=()=>v;let y;const w=()=>{var k,S;if(!d)return;a=!1,c.forEach(x=>{var C;return x((C=i())!=null?C:v)});const b=((S=l.onRehydrateStorage)==null?void 0:S.call(l,(k=i())!=null?k:v))||void 0;return Qh(d.getItem.bind(d))(l.name).then(x=>{if(x)if(typeof x.version=="number"&&x.version!==l.version){if(l.migrate){const C=l.migrate(x.state,x.version);return C instanceof Promise?C.then(M=>[!0,M]):[!0,C]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,x.state];return[!1,void 0]}).then(x=>{var C;const[M,A]=x;if(y=l.merge(A,(C=i())!=null?C:v),n(y,!0),M)return g()}).then(()=>{b==null||b(y,void 0),y=i(),a=!0,h.forEach(x=>x(y))}).catch(x=>{b==null||b(void 0,x)})};return o.persist={setOptions:k=>{l={...l,...k},k.storage&&(d=k.storage)},clearStorage:()=>{d==null||d.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>w(),hasHydrated:()=>a,onHydrate:k=>(c.add(k),()=>{c.delete(k)}),onFinishHydration:k=>(h.add(k),()=>{h.delete(k)})},l.skipHydration||w(),y||v},ic=ww,tn=Sr()(e=>({doodler:void 0,cursor:void 0,doodles:[],setDoodler:t=>e(()=>({doodler:t})),setContainer:t=>e(()=>({container:t})),setCursor:t=>e(()=>({cursor:t})),setDoodles:t=>e(()=>({doodles:t}))})),dt=Sr()(ic(e=>({canvasColor:{r:249,g:250,b:251,a:1},throttleRate:1,selectedTool:"brush",activeTool:void 0,restoreTool:void 0,toolOption:"",isPanelOpen:!0,setSelectedTool:t=>e(()=>({selectedTool:t})),setActiveTool:t=>e(()=>({activeTool:t})),setRestoreTool:t=>e(()=>({restoreTool:t})),setToolOption:t=>e(()=>({toolOption:t})),setCanvasColor:t=>e(()=>({canvasColor:t})),setThrottleRate:t=>e(()=>({throttleRate:t})),setIsPanelOpen:t=>e(()=>({isPanelOpen:t}))}),{name:"options",version:1}));/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var kw={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=(e,t,n,i)=>{const o=E.forwardRef(({color:l="currentColor",size:a=24,stroke:c=2,title:h,className:d,children:g,...m},v)=>E.createElement("svg",{ref:v,...kw[e],width:a,height:a,className:["tabler-icon",`tabler-icon-${t}`,d].join(" "),strokeWidth:c,stroke:l,...m},[h&&E.createElement("title",{key:"svg-title"},h),...i.map(([y,w])=>E.createElement(y,w)),...Array.isArray(g)?g:[g]]));return o.displayName=`${n}`,o};/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const bw=[["path",{d:"M21 19h-18l9 -15",key:"svg-0"}],["path",{d:"M20.615 15.171h.015",key:"svg-1"}],["path",{d:"M19.515 11.771h.015",key:"svg-2"}],["path",{d:"M17.715 8.671h.015",key:"svg-3"}],["path",{d:"M15.415 5.971h.015",key:"svg-4"}]],u0=je("outline","angle","Angle",bw);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sw=[["path",{d:"M9 14l-4 -4l4 -4",key:"svg-0"}],["path",{d:"M5 10h11a4 4 0 1 1 0 8h-1",key:"svg-1"}]],c0=je("outline","arrow-back-up","ArrowBackUp",Sw);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ew=[["path",{d:"M15 14l4 -4l-4 -4",key:"svg-0"}],["path",{d:"M19 10h-11a4 4 0 1 0 0 8h1",key:"svg-1"}]],f0=je("outline","arrow-forward-up","ArrowForwardUp",Ew);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cw=[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M15 16l4 -4",key:"svg-1"}],["path",{d:"M15 8l4 4",key:"svg-2"}]],h0=je("outline","arrow-narrow-right","ArrowNarrowRight",Cw);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rw=[["path",{d:"M7 8l-4 4l4 4",key:"svg-0"}],["path",{d:"M17 8l4 4l-4 4",key:"svg-1"}],["path",{d:"M3 12l18 0",key:"svg-2"}]],Tw=je("outline","arrows-horizontal","ArrowsHorizontal",Rw);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mw=[["path",{d:"M4 20v-10a6 6 0 0 1 6 -6h10",key:"svg-0"}]],d0=je("outline","border-corner-rounded","BorderCornerRounded",Mw);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pw=[["path",{d:"M3 21v-4a4 4 0 1 1 4 4h-4",key:"svg-0"}],["path",{d:"M21 3a16 16 0 0 0 -12.8 10.2",key:"svg-1"}],["path",{d:"M21 3a16 16 0 0 1 -10.2 12.8",key:"svg-2"}],["path",{d:"M10.6 9a9 9 0 0 1 4.4 4.4",key:"svg-3"}]],Od=je("outline","brush","Brush",Pw);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aw=[["path",{d:"M3 20l9 -7",key:"svg-0"}],["path",{d:"M12 3v10l9 7",key:"svg-1"}],["path",{d:"M17 12v.015",key:"svg-2"}],["path",{d:"M17 4.015v.015",key:"svg-3"}],["path",{d:"M21 8.015v.015",key:"svg-4"}],["path",{d:"M12 19.015v.015",key:"svg-5"}],["path",{d:"M3 12.015v.015",key:"svg-6"}],["path",{d:"M7 8.015v.015",key:"svg-7"}],["path",{d:"M3 4.015v.015",key:"svg-8"}]],Ow=je("outline","chart-scatter-3d","ChartScatter3d",Aw);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lw=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}]],Fw=je("outline","circle","Circle",Lw);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nw=[["path",{d:"M6 4h10l4 4v10a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2",key:"svg-0"}],["path",{d:"M10 14a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M14 4l0 4l-6 0l0 -4",key:"svg-2"}]],Iw=je("outline","device-floppy","DeviceFloppy",Nw);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const jw=[["path",{d:"M3 5h11",key:"svg-0"}],["path",{d:"M12 7l2 -2l-2 -2",key:"svg-1"}],["path",{d:"M5 3l-2 2l2 2",key:"svg-2"}],["path",{d:"M19 10v11",key:"svg-3"}],["path",{d:"M17 19l2 2l2 -2",key:"svg-4"}],["path",{d:"M21 12l-2 -2l-2 2",key:"svg-5"}],["path",{d:"M3 12a2 2 0 0 1 2 -2h7a2 2 0 0 1 2 2v7a2 2 0 0 1 -2 2h-7a2 2 0 0 1 -2 -2l0 -7",key:"svg-6"}]],Dw=je("outline","dimensions","Dimensions",jw);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const zw=[["path",{d:"M19 20h-10.5l-4.21 -4.3a1 1 0 0 1 0 -1.41l10 -10a1 1 0 0 1 1.41 0l5 5a1 1 0 0 1 0 1.41l-9.2 9.3",key:"svg-0"}],["path",{d:"M18 13.3l-6.3 -6.3",key:"svg-1"}]],Bw=je("outline","eraser","Eraser",zw);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const $w=[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2",key:"svg-1"}],["path",{d:"M12 17v.01",key:"svg-2"}],["path",{d:"M12 14a1.5 1.5 0 1 0 -1.14 -2.474",key:"svg-3"}]],Uw=je("outline","file-unknown","FileUnknown",$w);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vw=[["path",{d:"M11.5 12a.5 .5 0 1 0 1 0a.5 .5 0 1 0 -1 0",fill:"currentColor",key:"svg-0"}],["path",{d:"M5 12a7 7 0 1 0 14 0a7 7 0 1 0 -14 0",key:"svg-1"}],["path",{d:"M12 3l0 2",key:"svg-2"}],["path",{d:"M3 12l2 0",key:"svg-3"}],["path",{d:"M12 19l0 2",key:"svg-4"}],["path",{d:"M19 12l2 0",key:"svg-5"}]],Hw=je("outline","focus-2","Focus2",Vw);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ww=[["path",{d:"M8 13v-7.5a1.5 1.5 0 0 1 3 0v6.5",key:"svg-0"}],["path",{d:"M11 5.5v-2a1.5 1.5 0 1 1 3 0v8.5",key:"svg-1"}],["path",{d:"M14 5.5a1.5 1.5 0 0 1 3 0v6.5",key:"svg-2"}],["path",{d:"M17 7.5a1.5 1.5 0 0 1 3 0v8.5a6 6 0 0 1 -6 6h-2h.208a6 6 0 0 1 -5.012 -2.7a69.74 69.74 0 0 1 -.196 -.3c-.312 -.479 -1.407 -2.388 -3.286 -5.728a1.5 1.5 0 0 1 .536 -2.022a1.867 1.867 0 0 1 2.28 .28l1.47 1.47",key:"svg-3"}]],Yw=je("outline","hand-stop","HandStop",Ww);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xw=[["path",{d:"M6 4l12 0",key:"svg-0"}],["path",{d:"M12 4l0 16",key:"svg-1"}]],Ld=je("outline","letter-t","LetterT",Xw);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kw=[["path",{d:"M4 18a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-0"}],["path",{d:"M16 6a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M7.5 16.5l9 -9",key:"svg-2"}]],sc=je("outline","line","Line",Kw);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const qw=[["path",{d:"M4 6l16 0",key:"svg-0"}],["path",{d:"M4 12l16 0",key:"svg-1"}],["path",{d:"M4 18l16 0",key:"svg-2"}]],Gw=je("outline","menu-2","Menu2",qw);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qw=[["path",{d:"M16 17a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M6 7a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M6 18l12 -12",key:"svg-2"}]],Zw=je("outline","percentage","Percentage",Qw);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jw=[["path",{d:"M7.904 17.563a1.2 1.2 0 0 0 2.228 .308l2.09 -3.093l4.907 4.907a1.067 1.067 0 0 0 1.509 0l1.047 -1.047a1.067 1.067 0 0 0 0 -1.509l-4.907 -4.907l3.113 -2.09a1.2 1.2 0 0 0 -.309 -2.228l-13.582 -3.904l3.904 13.563",key:"svg-0"}]],e2=je("outline","pointer","Pointer",Jw);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=[["path",{d:"M3 7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-10",key:"svg-0"}]],n2=je("outline","rectangle","Rectangle",t2);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2=[["path",{d:"M12 19.875c0 .621 -.512 1.125 -1.143 1.125h-5.714a1.134 1.134 0 0 1 -1.143 -1.125v-15.875a1 1 0 0 1 1 -1h5.857c.631 0 1.143 .504 1.143 1.125l0 15.75",key:"svg-0"}],["path",{d:"M12 9h-2",key:"svg-1"}],["path",{d:"M12 6h-3",key:"svg-2"}],["path",{d:"M12 12h-3",key:"svg-3"}],["path",{d:"M12 18h-3",key:"svg-4"}],["path",{d:"M12 15h-2",key:"svg-5"}],["path",{d:"M21 3h-4",key:"svg-6"}],["path",{d:"M19 3v18",key:"svg-7"}],["path",{d:"M21 21h-4",key:"svg-8"}]],i2=je("outline","ruler-measure-2","RulerMeasure2",r2);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=[["path",{d:"M19.875 12c.621 0 1.125 .512 1.125 1.143v5.714c0 .631 -.504 1.143 -1.125 1.143h-15.875a1 1 0 0 1 -1 -1v-5.857c0 -.631 .504 -1.143 1.125 -1.143h15.75",key:"svg-0"}],["path",{d:"M9 12v2",key:"svg-1"}],["path",{d:"M6 12v3",key:"svg-2"}],["path",{d:"M12 12v3",key:"svg-3"}],["path",{d:"M18 12v3",key:"svg-4"}],["path",{d:"M15 12v2",key:"svg-5"}],["path",{d:"M3 3v4",key:"svg-6"}],["path",{d:"M3 5h18",key:"svg-7"}],["path",{d:"M21 3v4",key:"svg-8"}]],o2=je("outline","ruler-measure","RulerMeasure",s2);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=[["path",{d:"M8 9l4 -4l4 4",key:"svg-0"}],["path",{d:"M16 15l-4 4l-4 -4",key:"svg-1"}]],a2=je("outline","selector","Selector",l2);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=[["path",{d:"M4 5.205v13.59a1 1 0 0 0 1.184 .983l14 -2.625a1 1 0 0 0 .816 -.983v-8.34a1 1 0 0 0 -.816 -.983l-14 -2.625a1 1 0 0 0 -1.184 .983",key:"svg-0"}]],c2=je("outline","skew-x","SkewX",u2);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=[["path",{d:"M4.326 19h15.348a1 1 0 0 0 .962 -1.275l-3.429 -12a1 1 0 0 0 -.961 -.725h-8.492a1 1 0 0 0 -.961 .725l-3.429 12a1 1 0 0 0 .962 1.275",key:"svg-0"}]],h2=je("outline","skew-y","SkewY",f2);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=[["path",{d:"M3 5a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-14",key:"svg-0"}],["path",{d:"M10 8l4 8",key:"svg-1"}],["path",{d:"M10 16l4 -8",key:"svg-2"}]],p2=je("outline","square-letter-x","SquareLetterX",d2);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=[["path",{d:"M3 5a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-14",key:"svg-0"}],["path",{d:"M10 8l2 5l2 -5",key:"svg-1"}],["path",{d:"M12 16v-3",key:"svg-2"}]],m2=je("outline","square-letter-y","SquareLetterY",g2);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=[["path",{d:"M3 5a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-14",key:"svg-0"}]],p0=je("outline","square","Square",y2);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2=[["path",{d:"M3 15a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1l0 -2",key:"svg-0"}],["path",{d:"M17 15a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1l0 -2",key:"svg-1"}],["path",{d:"M10 7a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1l0 -2",key:"svg-2"}],["path",{d:"M10 8.5a6 6 0 0 0 -5 5.5",key:"svg-3"}],["path",{d:"M14 8.5a6 6 0 0 1 5 5.5",key:"svg-4"}],["path",{d:"M10 8l-6 0",key:"svg-5"}],["path",{d:"M20 8l-6 0",key:"svg-6"}],["path",{d:"M2 8a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-7"}],["path",{d:"M20 8a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-8"}]],g0=je("outline","vector-bezier","VectorBezier",_2);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2=[["path",{d:"M17 4a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1l0 -2",key:"svg-0"}],["path",{d:"M3 18a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1l0 -2",key:"svg-1"}],["path",{d:"M17 5c-6.627 0 -12 5.373 -12 12",key:"svg-2"}]],x2=je("outline","vector-spline","VectorSpline",v2);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2=[["path",{d:"M10 5a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1l0 -2",key:"svg-0"}],["path",{d:"M3 18a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1l0 -2",key:"svg-1"}],["path",{d:"M17 18a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1l0 -2",key:"svg-2"}],["path",{d:"M6.5 17.1l5 -9.1",key:"svg-3"}],["path",{d:"M17.5 17.1l-5 -9.1",key:"svg-4"}],["path",{d:"M7 19l10 0",key:"svg-5"}]],k2=je("outline","vector-triangle","VectorTriangle",w2);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const b2=[["path",{d:"M21 12h-2c-.894 0 -1.662 -.857 -1.761 -2c-.296 -3.45 -.749 -6 -2.749 -6s-2.5 3.582 -2.5 8s-.5 8 -2.5 8s-2.452 -2.547 -2.749 -6c-.1 -1.147 -.867 -2 -1.763 -2h-2",key:"svg-0"}]],m0=je("outline","wave-sine","WaveSine",b2);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2=[["path",{d:"M3 10a7 7 0 1 0 14 0a7 7 0 1 0 -14 0",key:"svg-0"}],["path",{d:"M21 21l-6 -6",key:"svg-1"}]],E2=je("outline","zoom","Zoom",S2);function oc(){return typeof window<"u"}function Zi(e){return y0(e)?(e.nodeName||"").toLowerCase():"#document"}function Tn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Wr(e){var t;return(t=(y0(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function y0(e){return oc()?e instanceof Node||e instanceof Tn(e).Node:!1}function Ge(e){return oc()?e instanceof Element||e instanceof Tn(e).Element:!1}function Rt(e){return oc()?e instanceof HTMLElement||e instanceof Tn(e).HTMLElement:!1}function Zh(e){return!oc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Tn(e).ShadowRoot}function Ql(e){const{overflow:t,overflowX:n,overflowY:i,display:o}=ur(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+n)&&!["inline","contents"].includes(o)}function C2(e){return["table","td","th"].includes(Zi(e))}function lc(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Fd(e){const t=ac(),n=Ge(e)?ur(e):e;return["transform","translate","scale","rotate","perspective"].some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(i=>(n.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(n.contain||"").includes(i))}function R2(e){let t=gi(e);for(;Rt(t)&&!Ki(t);){if(Fd(t))return t;if(lc(t))return null;t=gi(t)}return null}function ac(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ki(e){return["html","body","#document"].includes(Zi(e))}function ur(e){return Tn(e).getComputedStyle(e)}function uc(e){return Ge(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function gi(e){if(Zi(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Zh(e)&&e.host||Wr(e);return Zh(t)?t.host:t}function _0(e){const t=gi(e);return Ki(t)?e.ownerDocument?e.ownerDocument.body:e.body:Rt(t)&&Ql(t)?t:_0(t)}function Xi(e,t,n){var i;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=_0(e),l=o===((i=e.ownerDocument)==null?void 0:i.body),a=Tn(o);if(l){const c=Jh(a);return t.concat(a,a.visualViewport||[],Ql(o)?o:[],c&&n?Xi(c):[])}return t.concat(o,Xi(o,[],n))}function Jh(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function fi(e){let t=e.activeElement;for(;((n=t)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;t=t.shadowRoot.activeElement}return t}function Qt(e,t){if(!e||!t)return!1;const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&Zh(n)){let i=t;for(;i;){if(e===i)return!0;i=i.parentNode||i.host}}return!1}function v0(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function x0(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:i}=t;return n+"/"+i}).join(" "):navigator.userAgent}function T2(e){return e.mozInputSource===0&&e.isTrusted?!0:ed()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function w0(e){return P2()?!1:!ed()&&e.width===0&&e.height===0||ed()&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType==="touch"}function k0(){return/apple/i.test(navigator.vendor)}function ed(){const e=/android/i;return e.test(v0())||e.test(x0())}function M2(){return v0().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function P2(){return x0().includes("jsdom/")}function Hl(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function A2(e){return"nativeEvent"in e}function O2(e){return e.matches("html,body")}function Zt(e){return(e==null?void 0:e.ownerDocument)||document}function _h(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function Vi(e){return"composedPath"in e?e.composedPath()[0]:e.target}const L2="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function Nd(e){return Rt(e)&&e.matches(L2)}function vh(e){e.preventDefault(),e.stopPropagation()}function F2(e){return e?e.getAttribute("role")==="combobox"&&Nd(e):!1}const zu=Math.min,Rs=Math.max,Bu=Math.round,_u=Math.floor,Dr=e=>({x:e,y:e}),N2={left:"right",right:"left",bottom:"top",top:"bottom"},I2={start:"end",end:"start"};function Km(e,t,n){return Rs(e,zu(t,n))}function cc(e,t){return typeof e=="function"?e(t):e}function As(e){return e.split("-")[0]}function fc(e){return e.split("-")[1]}function b0(e){return e==="x"?"y":"x"}function S0(e){return e==="y"?"height":"width"}function Oo(e){return["top","bottom"].includes(As(e))?"y":"x"}function E0(e){return b0(Oo(e))}function j2(e,t,n){n===void 0&&(n=!1);const i=fc(e),o=E0(e),l=S0(o);let a=o==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[l]>t.floating[l]&&(a=$u(a)),[a,$u(a)]}function D2(e){const t=$u(e);return[td(e),t,td(t)]}function td(e){return e.replace(/start|end/g,t=>I2[t])}function z2(e,t,n){const i=["left","right"],o=["right","left"],l=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:i:t?i:o;case"left":case"right":return t?l:a;default:return[]}}function B2(e,t,n,i){const o=fc(e);let l=z2(As(e),n==="start",i);return o&&(l=l.map(a=>a+"-"+o),t&&(l=l.concat(l.map(td)))),l}function $u(e){return e.replace(/left|right|bottom|top/g,t=>N2[t])}function $2(e){return{top:0,right:0,bottom:0,left:0,...e}}function U2(e){return typeof e!="number"?$2(e):{top:e,right:e,bottom:e,left:e}}function Uu(e){const{x:t,y:n,width:i,height:o}=e;return{width:i,height:o,top:n,left:t,right:t+i,bottom:n+o,x:t,y:n}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var V2=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Vu=V2.join(","),C0=typeof Element>"u",Lo=C0?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Hu=!C0&&Element.prototype.getRootNode?function(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}:function(e){return e==null?void 0:e.ownerDocument},Wu=function e(t,n){var i;n===void 0&&(n=!0);var o=t==null||(i=t.getAttribute)===null||i===void 0?void 0:i.call(t,"inert"),l=o===""||o==="true",a=l||n&&t&&e(t.parentNode);return a},H2=function(t){var n,i=t==null||(n=t.getAttribute)===null||n===void 0?void 0:n.call(t,"contenteditable");return i===""||i==="true"},W2=function(t,n,i){if(Wu(t))return[];var o=Array.prototype.slice.apply(t.querySelectorAll(Vu));return n&&Lo.call(t,Vu)&&o.unshift(t),o=o.filter(i),o},Y2=function e(t,n,i){for(var o=[],l=Array.from(t);l.length;){var a=l.shift();if(!Wu(a,!1))if(a.tagName==="SLOT"){var c=a.assignedElements(),h=c.length?c:a.children,d=e(h,!0,i);i.flatten?o.push.apply(o,d):o.push({scopeParent:a,candidates:d})}else{var g=Lo.call(a,Vu);g&&i.filter(a)&&(n||!t.includes(a))&&o.push(a);var m=a.shadowRoot||typeof i.getShadowRoot=="function"&&i.getShadowRoot(a),v=!Wu(m,!1)&&(!i.shadowRootFilter||i.shadowRootFilter(a));if(m&&v){var y=e(m===!0?a.children:m.children,!0,i);i.flatten?o.push.apply(o,y):o.push({scopeParent:a,candidates:y})}else l.unshift.apply(l,a.children)}}return o},R0=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},T0=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||H2(t))&&!R0(t)?0:t.tabIndex},X2=function(t,n){var i=T0(t);return i<0&&n&&!R0(t)?0:i},K2=function(t,n){return t.tabIndex===n.tabIndex?t.documentOrder-n.documentOrder:t.tabIndex-n.tabIndex},M0=function(t){return t.tagName==="INPUT"},q2=function(t){return M0(t)&&t.type==="hidden"},G2=function(t){var n=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(i){return i.tagName==="SUMMARY"});return n},Q2=function(t,n){for(var i=0;i<t.length;i++)if(t[i].checked&&t[i].form===n)return t[i]},Z2=function(t){if(!t.name)return!0;var n=t.form||Hu(t),i=function(c){return n.querySelectorAll('input[type="radio"][name="'+c+'"]')},o;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")o=i(window.CSS.escape(t.name));else try{o=i(t.name)}catch(a){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",a.message),!1}var l=Q2(o,t.form);return!l||l===t},J2=function(t){return M0(t)&&t.type==="radio"},ek=function(t){return J2(t)&&!Z2(t)},tk=function(t){var n,i=t&&Hu(t),o=(n=i)===null||n===void 0?void 0:n.host,l=!1;if(i&&i!==t){var a,c,h;for(l=!!((a=o)!==null&&a!==void 0&&(c=a.ownerDocument)!==null&&c!==void 0&&c.contains(o)||t!=null&&(h=t.ownerDocument)!==null&&h!==void 0&&h.contains(t));!l&&o;){var d,g,m;i=Hu(o),o=(d=i)===null||d===void 0?void 0:d.host,l=!!((g=o)!==null&&g!==void 0&&(m=g.ownerDocument)!==null&&m!==void 0&&m.contains(o))}}return l},qm=function(t){var n=t.getBoundingClientRect(),i=n.width,o=n.height;return i===0&&o===0},nk=function(t,n){var i=n.displayCheck,o=n.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var l=Lo.call(t,"details>summary:first-of-type"),a=l?t.parentElement:t;if(Lo.call(a,"details:not([open]) *"))return!0;if(!i||i==="full"||i==="legacy-full"){if(typeof o=="function"){for(var c=t;t;){var h=t.parentElement,d=Hu(t);if(h&&!h.shadowRoot&&o(h)===!0)return qm(t);t.assignedSlot?t=t.assignedSlot:!h&&d!==t.ownerDocument?t=d.host:t=h}t=c}if(tk(t))return!t.getClientRects().length;if(i!=="legacy-full")return!0}else if(i==="non-zero-area")return qm(t);return!1},rk=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var n=t.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var i=0;i<n.children.length;i++){var o=n.children.item(i);if(o.tagName==="LEGEND")return Lo.call(n,"fieldset[disabled] *")?!0:!o.contains(t)}return!0}n=n.parentElement}return!1},ik=function(t,n){return!(n.disabled||Wu(n)||q2(n)||nk(n,t)||G2(n)||rk(n))},nd=function(t,n){return!(ek(n)||T0(n)<0||!ik(t,n))},sk=function(t){var n=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},ok=function e(t){var n=[],i=[];return t.forEach(function(o,l){var a=!!o.scopeParent,c=a?o.scopeParent:o,h=X2(c,a),d=a?e(o.candidates):c;h===0?a?n.push.apply(n,d):n.push(c):i.push({documentOrder:l,tabIndex:h,item:o,isScope:a,content:d})}),i.sort(K2).reduce(function(o,l){return l.isScope?o.push.apply(o,l.content):o.push(l.content),o},[]).concat(n)},hc=function(t,n){n=n||{};var i;return n.getShadowRoot?i=Y2([t],n.includeContainer,{filter:nd.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:sk}):i=W2(t,n.includeContainer,nd.bind(null,n)),ok(i)},lk=function(t,n){if(n=n||{},!t)throw new Error("No node provided");return Lo.call(t,Vu)===!1?!1:nd(n,t)},Id=a0();function Gm(e,t,n){let{reference:i,floating:o}=e;const l=Oo(t),a=E0(t),c=S0(a),h=As(t),d=l==="y",g=i.x+i.width/2-o.width/2,m=i.y+i.height/2-o.height/2,v=i[c]/2-o[c]/2;let y;switch(h){case"top":y={x:g,y:i.y-o.height};break;case"bottom":y={x:g,y:i.y+i.height};break;case"right":y={x:i.x+i.width,y:m};break;case"left":y={x:i.x-o.width,y:m};break;default:y={x:i.x,y:i.y}}switch(fc(t)){case"start":y[a]-=v*(n&&d?-1:1);break;case"end":y[a]+=v*(n&&d?-1:1);break}return y}const ak=async(e,t,n)=>{const{placement:i="bottom",strategy:o="absolute",middleware:l=[],platform:a}=n,c=l.filter(Boolean),h=await(a.isRTL==null?void 0:a.isRTL(t));let d=await a.getElementRects({reference:e,floating:t,strategy:o}),{x:g,y:m}=Gm(d,i,h),v=i,y={},w=0;for(let k=0;k<c.length;k++){const{name:S,fn:b}=c[k],{x,y:C,data:M,reset:A}=await b({x:g,y:m,initialPlacement:i,placement:v,strategy:o,middlewareData:y,rects:d,platform:a,elements:{reference:e,floating:t}});g=x??g,m=C??m,y={...y,[S]:{...y[S],...M}},A&&w<=50&&(w++,typeof A=="object"&&(A.placement&&(v=A.placement),A.rects&&(d=A.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:o}):A.rects),{x:g,y:m}=Gm(d,v,h)),k=-1)}return{x:g,y:m,placement:v,strategy:o,middlewareData:y}};async function P0(e,t){var n;t===void 0&&(t={});const{x:i,y:o,platform:l,rects:a,elements:c,strategy:h}=e,{boundary:d="clippingAncestors",rootBoundary:g="viewport",elementContext:m="floating",altBoundary:v=!1,padding:y=0}=cc(t,e),w=U2(y),S=c[v?m==="floating"?"reference":"floating":m],b=Uu(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(S)))==null||n?S:S.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(c.floating)),boundary:d,rootBoundary:g,strategy:h})),x=m==="floating"?{x:i,y:o,width:a.floating.width,height:a.floating.height}:a.reference,C=await(l.getOffsetParent==null?void 0:l.getOffsetParent(c.floating)),M=await(l.isElement==null?void 0:l.isElement(C))?await(l.getScale==null?void 0:l.getScale(C))||{x:1,y:1}:{x:1,y:1},A=Uu(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:x,offsetParent:C,strategy:h}):x);return{top:(b.top-A.top+w.top)/M.y,bottom:(A.bottom-b.bottom+w.bottom)/M.y,left:(b.left-A.left+w.left)/M.x,right:(A.right-b.right+w.right)/M.x}}const uk=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,i;const{placement:o,middlewareData:l,rects:a,initialPlacement:c,platform:h,elements:d}=t,{mainAxis:g=!0,crossAxis:m=!0,fallbackPlacements:v,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:k=!0,...S}=cc(e,t);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const b=As(o),x=Oo(c),C=As(c)===c,M=await(h.isRTL==null?void 0:h.isRTL(d.floating)),A=v||(C||!k?[$u(c)]:D2(c)),N=w!=="none";!v&&N&&A.push(...B2(c,k,w,M));const j=[c,...A],X=await P0(t,S),z=[];let W=((i=l.flip)==null?void 0:i.overflows)||[];if(g&&z.push(X[b]),m){const te=j2(o,a,M);z.push(X[te[0]],X[te[1]])}if(W=[...W,{placement:o,overflows:z}],!z.every(te=>te<=0)){var K,q;const te=(((K=l.flip)==null?void 0:K.index)||0)+1,re=j[te];if(re)return{data:{index:te,overflows:W},reset:{placement:re}};let ue=(q=W.filter(Z=>Z.overflows[0]<=0).sort((Z,D)=>Z.overflows[1]-D.overflows[1])[0])==null?void 0:q.placement;if(!ue)switch(y){case"bestFit":{var ae;const Z=(ae=W.filter(D=>{if(N){const $=Oo(D.placement);return $===x||$==="y"}return!0}).map(D=>[D.placement,D.overflows.filter($=>$>0).reduce(($,G)=>$+G,0)]).sort((D,$)=>D[1]-$[1])[0])==null?void 0:ae[0];Z&&(ue=Z);break}case"initialPlacement":ue=c;break}if(o!==ue)return{reset:{placement:ue}}}return{}}}};async function ck(e,t){const{placement:n,platform:i,elements:o}=e,l=await(i.isRTL==null?void 0:i.isRTL(o.floating)),a=As(n),c=fc(n),h=Oo(n)==="y",d=["left","top"].includes(a)?-1:1,g=l&&h?-1:1,m=cc(t,e);let{mainAxis:v,crossAxis:y,alignmentAxis:w}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return c&&typeof w=="number"&&(y=c==="end"?w*-1:w),h?{x:y*g,y:v*d}:{x:v*d,y:y*g}}const fk=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,i;const{x:o,y:l,placement:a,middlewareData:c}=t,h=await ck(t,e);return a===((n=c.offset)==null?void 0:n.placement)&&(i=c.arrow)!=null&&i.alignmentOffset?{}:{x:o+h.x,y:l+h.y,data:{...h,placement:a}}}}},hk=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:i,placement:o}=t,{mainAxis:l=!0,crossAxis:a=!1,limiter:c={fn:S=>{let{x:b,y:x}=S;return{x:b,y:x}}},...h}=cc(e,t),d={x:n,y:i},g=await P0(t,h),m=Oo(As(o)),v=b0(m);let y=d[v],w=d[m];if(l){const S=v==="y"?"top":"left",b=v==="y"?"bottom":"right",x=y+g[S],C=y-g[b];y=Km(x,y,C)}if(a){const S=m==="y"?"top":"left",b=m==="y"?"bottom":"right",x=w+g[S],C=w-g[b];w=Km(x,w,C)}const k=c.fn({...t,[v]:y,[m]:w});return{...k,data:{x:k.x-n,y:k.y-i,enabled:{[v]:l,[m]:a}}}}}};function A0(e){const t=ur(e);let n=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const o=Rt(e),l=o?e.offsetWidth:n,a=o?e.offsetHeight:i,c=Bu(n)!==l||Bu(i)!==a;return c&&(n=l,i=a),{width:n,height:i,$:c}}function jd(e){return Ge(e)?e:e.contextElement}function Mo(e){const t=jd(e);if(!Rt(t))return Dr(1);const n=t.getBoundingClientRect(),{width:i,height:o,$:l}=A0(t);let a=(l?Bu(n.width):n.width)/i,c=(l?Bu(n.height):n.height)/o;return(!a||!Number.isFinite(a))&&(a=1),(!c||!Number.isFinite(c))&&(c=1),{x:a,y:c}}const dk=Dr(0);function O0(e){const t=Tn(e);return!ac()||!t.visualViewport?dk:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function pk(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Tn(e)?!1:t}function Os(e,t,n,i){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),l=jd(e);let a=Dr(1);t&&(i?Ge(i)&&(a=Mo(i)):a=Mo(e));const c=pk(l,n,i)?O0(l):Dr(0);let h=(o.left+c.x)/a.x,d=(o.top+c.y)/a.y,g=o.width/a.x,m=o.height/a.y;if(l){const v=Tn(l),y=i&&Ge(i)?Tn(i):i;let w=v,k=Jh(w);for(;k&&i&&y!==w;){const S=Mo(k),b=k.getBoundingClientRect(),x=ur(k),C=b.left+(k.clientLeft+parseFloat(x.paddingLeft))*S.x,M=b.top+(k.clientTop+parseFloat(x.paddingTop))*S.y;h*=S.x,d*=S.y,g*=S.x,m*=S.y,h+=C,d+=M,w=Tn(k),k=Jh(w)}}return Uu({width:g,height:m,x:h,y:d})}function Dd(e,t){const n=uc(e).scrollLeft;return t?t.left+n:Os(Wr(e)).left+n}function L0(e,t,n){n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=i.left+t.scrollLeft-(n?0:Dd(e,i)),l=i.top+t.scrollTop;return{x:o,y:l}}function gk(e){let{elements:t,rect:n,offsetParent:i,strategy:o}=e;const l=o==="fixed",a=Wr(i),c=t?lc(t.floating):!1;if(i===a||c&&l)return n;let h={scrollLeft:0,scrollTop:0},d=Dr(1);const g=Dr(0),m=Rt(i);if((m||!m&&!l)&&((Zi(i)!=="body"||Ql(a))&&(h=uc(i)),Rt(i))){const y=Os(i);d=Mo(i),g.x=y.x+i.clientLeft,g.y=y.y+i.clientTop}const v=a&&!m&&!l?L0(a,h,!0):Dr(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-h.scrollLeft*d.x+g.x+v.x,y:n.y*d.y-h.scrollTop*d.y+g.y+v.y}}function mk(e){return Array.from(e.getClientRects())}function yk(e){const t=Wr(e),n=uc(e),i=e.ownerDocument.body,o=Rs(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),l=Rs(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let a=-n.scrollLeft+Dd(e);const c=-n.scrollTop;return ur(i).direction==="rtl"&&(a+=Rs(t.clientWidth,i.clientWidth)-o),{width:o,height:l,x:a,y:c}}function _k(e,t){const n=Tn(e),i=Wr(e),o=n.visualViewport;let l=i.clientWidth,a=i.clientHeight,c=0,h=0;if(o){l=o.width,a=o.height;const d=ac();(!d||d&&t==="fixed")&&(c=o.offsetLeft,h=o.offsetTop)}return{width:l,height:a,x:c,y:h}}function vk(e,t){const n=Os(e,!0,t==="fixed"),i=n.top+e.clientTop,o=n.left+e.clientLeft,l=Rt(e)?Mo(e):Dr(1),a=e.clientWidth*l.x,c=e.clientHeight*l.y,h=o*l.x,d=i*l.y;return{width:a,height:c,x:h,y:d}}function Qm(e,t,n){let i;if(t==="viewport")i=_k(e,n);else if(t==="document")i=yk(Wr(e));else if(Ge(t))i=vk(t,n);else{const o=O0(e);i={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Uu(i)}function F0(e,t){const n=gi(e);return n===t||!Ge(n)||Ki(n)?!1:ur(n).position==="fixed"||F0(n,t)}function xk(e,t){const n=t.get(e);if(n)return n;let i=Xi(e,[],!1).filter(c=>Ge(c)&&Zi(c)!=="body"),o=null;const l=ur(e).position==="fixed";let a=l?gi(e):e;for(;Ge(a)&&!Ki(a);){const c=ur(a),h=Fd(a);!h&&c.position==="fixed"&&(o=null),(l?!h&&!o:!h&&c.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||Ql(a)&&!h&&F0(e,a))?i=i.filter(g=>g!==a):o=c,a=gi(a)}return t.set(e,i),i}function wk(e){let{element:t,boundary:n,rootBoundary:i,strategy:o}=e;const a=[...n==="clippingAncestors"?lc(t)?[]:xk(t,this._c):[].concat(n),i],c=a[0],h=a.reduce((d,g)=>{const m=Qm(t,g,o);return d.top=Rs(m.top,d.top),d.right=zu(m.right,d.right),d.bottom=zu(m.bottom,d.bottom),d.left=Rs(m.left,d.left),d},Qm(t,c,o));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function kk(e){const{width:t,height:n}=A0(e);return{width:t,height:n}}function bk(e,t,n){const i=Rt(t),o=Wr(t),l=n==="fixed",a=Os(e,!0,l,t);let c={scrollLeft:0,scrollTop:0};const h=Dr(0);if(i||!i&&!l)if((Zi(t)!=="body"||Ql(o))&&(c=uc(t)),i){const v=Os(t,!0,l,t);h.x=v.x+t.clientLeft,h.y=v.y+t.clientTop}else o&&(h.x=Dd(o));const d=o&&!i&&!l?L0(o,c):Dr(0),g=a.left+c.scrollLeft-h.x-d.x,m=a.top+c.scrollTop-h.y-d.y;return{x:g,y:m,width:a.width,height:a.height}}function xh(e){return ur(e).position==="static"}function Zm(e,t){if(!Rt(e)||ur(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Wr(e)===n&&(n=n.ownerDocument.body),n}function N0(e,t){const n=Tn(e);if(lc(e))return n;if(!Rt(e)){let o=gi(e);for(;o&&!Ki(o);){if(Ge(o)&&!xh(o))return o;o=gi(o)}return n}let i=Zm(e,t);for(;i&&C2(i)&&xh(i);)i=Zm(i,t);return i&&Ki(i)&&xh(i)&&!Fd(i)?n:i||R2(e)||n}const Sk=async function(e){const t=this.getOffsetParent||N0,n=this.getDimensions,i=await n(e.floating);return{reference:bk(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function Ek(e){return ur(e).direction==="rtl"}const Ck={convertOffsetParentRelativeRectToViewportRelativeRect:gk,getDocumentElement:Wr,getClippingRect:wk,getOffsetParent:N0,getElementRects:Sk,getClientRects:mk,getDimensions:kk,getScale:Mo,isElement:Ge,isRTL:Ek};function I0(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Rk(e,t){let n=null,i;const o=Wr(e);function l(){var c;clearTimeout(i),(c=n)==null||c.disconnect(),n=null}function a(c,h){c===void 0&&(c=!1),h===void 0&&(h=1),l();const d=e.getBoundingClientRect(),{left:g,top:m,width:v,height:y}=d;if(c||t(),!v||!y)return;const w=_u(m),k=_u(o.clientWidth-(g+v)),S=_u(o.clientHeight-(m+y)),b=_u(g),C={rootMargin:-w+"px "+-k+"px "+-S+"px "+-b+"px",threshold:Rs(0,zu(1,h))||1};let M=!0;function A(N){const j=N[0].intersectionRatio;if(j!==h){if(!M)return a();j?a(!1,j):i=setTimeout(()=>{a(!1,1e-7)},1e3)}j===1&&!I0(d,e.getBoundingClientRect())&&a(),M=!1}try{n=new IntersectionObserver(A,{...C,root:o.ownerDocument})}catch{n=new IntersectionObserver(A,C)}n.observe(e)}return a(!0),l}function j0(e,t,n,i){i===void 0&&(i={});const{ancestorScroll:o=!0,ancestorResize:l=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:h=!1}=i,d=jd(e),g=o||l?[...d?Xi(d):[],...Xi(t)]:[];g.forEach(b=>{o&&b.addEventListener("scroll",n,{passive:!0}),l&&b.addEventListener("resize",n)});const m=d&&c?Rk(d,n):null;let v=-1,y=null;a&&(y=new ResizeObserver(b=>{let[x]=b;x&&x.target===d&&y&&(y.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var C;(C=y)==null||C.observe(t)})),n()}),d&&!h&&y.observe(d),y.observe(t));let w,k=h?Os(e):null;h&&S();function S(){const b=Os(e);k&&!I0(k,b)&&n(),k=b,w=requestAnimationFrame(S)}return n(),()=>{var b;g.forEach(x=>{o&&x.removeEventListener("scroll",n),l&&x.removeEventListener("resize",n)}),m==null||m(),(b=y)==null||b.disconnect(),y=null,h&&cancelAnimationFrame(w)}}const Tk=fk,Mk=hk,Pk=uk,Ak=(e,t,n)=>{const i=new Map,o={platform:Ck,...n},l={...o.platform,_c:i};return ak(e,t,{...o,platform:l})};var Ou=typeof document<"u"?E.useLayoutEffect:E.useEffect;function Yu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,i,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(i=n;i--!==0;)if(!Yu(e[i],t[i]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(i=n;i--!==0;)if(!{}.hasOwnProperty.call(t,o[i]))return!1;for(i=n;i--!==0;){const l=o[i];if(!(l==="_owner"&&e.$$typeof)&&!Yu(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}function D0(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Jm(e,t){const n=D0(e);return Math.round(t*n)/n}function wh(e){const t=E.useRef(e);return Ou(()=>{t.current=e}),t}function Ok(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:i=[],platform:o,elements:{reference:l,floating:a}={},transform:c=!0,whileElementsMounted:h,open:d}=e,[g,m]=E.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[v,y]=E.useState(i);Yu(v,i)||y(i);const[w,k]=E.useState(null),[S,b]=E.useState(null),x=E.useCallback(D=>{D!==N.current&&(N.current=D,k(D))},[]),C=E.useCallback(D=>{D!==j.current&&(j.current=D,b(D))},[]),M=l||w,A=a||S,N=E.useRef(null),j=E.useRef(null),X=E.useRef(g),z=h!=null,W=wh(h),K=wh(o),q=wh(d),ae=E.useCallback(()=>{if(!N.current||!j.current)return;const D={placement:t,strategy:n,middleware:v};K.current&&(D.platform=K.current),Ak(N.current,j.current,D).then($=>{const G={...$,isPositioned:q.current!==!1};te.current&&!Yu(X.current,G)&&(X.current=G,Id.flushSync(()=>{m(G)}))})},[v,t,n,K,q]);Ou(()=>{d===!1&&X.current.isPositioned&&(X.current.isPositioned=!1,m(D=>({...D,isPositioned:!1})))},[d]);const te=E.useRef(!1);Ou(()=>(te.current=!0,()=>{te.current=!1}),[]),Ou(()=>{if(M&&(N.current=M),A&&(j.current=A),M&&A){if(W.current)return W.current(M,A,ae);ae()}},[M,A,ae,W,z]);const re=E.useMemo(()=>({reference:N,floating:j,setReference:x,setFloating:C}),[x,C]),ue=E.useMemo(()=>({reference:M,floating:A}),[M,A]),Z=E.useMemo(()=>{const D={position:n,left:0,top:0};if(!ue.floating)return D;const $=Jm(ue.floating,g.x),G=Jm(ue.floating,g.y);return c?{...D,transform:"translate("+$+"px, "+G+"px)",...D0(ue.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:$,top:G}},[n,c,ue.floating,g.x,g.y]);return E.useMemo(()=>({...g,update:ae,refs:re,elements:ue,floatingStyles:Z}),[g,ae,re,ue,Z])}const z0=(e,t)=>({...Tk(e),options:[e,t]}),B0=(e,t)=>({...Mk(e),options:[e,t]}),$0=(e,t)=>({...Pk(e),options:[e,t]});function dc(e){return E.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})},e)}const U0={...cw},Lk=U0.useInsertionEffect,Fk=Lk||(e=>e());function xr(e){const t=E.useRef(()=>{});return Fk(()=>{t.current=e}),E.useCallback(function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t.current==null?void 0:t.current(...i)},[])}var En=typeof document<"u"?E.useLayoutEffect:E.useEffect;function Xu(){return Xu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Xu.apply(this,arguments)}let ey=!1,Nk=0;const ty=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Nk++;function Ik(){const[e,t]=E.useState(()=>ey?ty():void 0);return En(()=>{e==null&&t(ty())},[]),E.useEffect(()=>{ey=!0},[]),e}const jk=U0.useId,Zl=jk||Ik;function Dk(){const e=new Map;return{emit(t,n){var i;(i=e.get(t))==null||i.forEach(o=>o(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var i;e.set(t,((i=e.get(t))==null?void 0:i.filter(o=>o!==n))||[])}}}const zk=E.createContext(null),Bk=E.createContext(null),zd=()=>{var e;return((e=E.useContext(zk))==null?void 0:e.id)||null},pc=()=>E.useContext(Bk);function Ls(e){return"data-floating-ui-"+e}function Po(e){const t=E.useRef(e);return En(()=>{t.current=e}),t}const ny=Ls("safe-polygon");function kh(e,t,n){return n&&!Hl(n)?0:typeof e=="number"?e:e==null?void 0:e[t]}function $k(e,t){t===void 0&&(t={});const{open:n,onOpenChange:i,dataRef:o,events:l,elements:a}=e,{enabled:c=!0,delay:h=0,handleClose:d=null,mouseOnly:g=!1,restMs:m=0,move:v=!0}=t,y=pc(),w=zd(),k=Po(d),S=Po(h),b=Po(n),x=E.useRef(),C=E.useRef(-1),M=E.useRef(),A=E.useRef(-1),N=E.useRef(!0),j=E.useRef(!1),X=E.useRef(()=>{}),z=E.useRef(!1),W=E.useCallback(()=>{var Z;const D=(Z=o.current.openEvent)==null?void 0:Z.type;return(D==null?void 0:D.includes("mouse"))&&D!=="mousedown"},[o]);E.useEffect(()=>{if(!c)return;function Z(D){let{open:$}=D;$||(clearTimeout(C.current),clearTimeout(A.current),N.current=!0,z.current=!1)}return l.on("openchange",Z),()=>{l.off("openchange",Z)}},[c,l]),E.useEffect(()=>{if(!c||!k.current||!n)return;function Z($){W()&&i(!1,$,"hover")}const D=Zt(a.floating).documentElement;return D.addEventListener("mouseleave",Z),()=>{D.removeEventListener("mouseleave",Z)}},[a.floating,n,i,c,k,W]);const K=E.useCallback(function(Z,D,$){D===void 0&&(D=!0),$===void 0&&($="hover");const G=kh(S.current,"close",x.current);G&&!M.current?(clearTimeout(C.current),C.current=window.setTimeout(()=>i(!1,Z,$),G)):D&&(clearTimeout(C.current),i(!1,Z,$))},[S,i]),q=xr(()=>{X.current(),M.current=void 0}),ae=xr(()=>{if(j.current){const Z=Zt(a.floating).body;Z.style.pointerEvents="",Z.removeAttribute(ny),j.current=!1}}),te=xr(()=>o.current.openEvent?["click","mousedown"].includes(o.current.openEvent.type):!1);E.useEffect(()=>{if(!c)return;function Z(L){if(clearTimeout(C.current),N.current=!1,g&&!Hl(x.current)||m>0&&!kh(S.current,"open"))return;const Y=kh(S.current,"open",x.current);Y?C.current=window.setTimeout(()=>{b.current||i(!0,L,"hover")},Y):n||i(!0,L,"hover")}function D(L){if(te())return;X.current();const Y=Zt(a.floating);if(clearTimeout(A.current),z.current=!1,k.current&&o.current.floatingContext){n||clearTimeout(C.current),M.current=k.current({...o.current.floatingContext,tree:y,x:L.clientX,y:L.clientY,onClose(){ae(),q(),te()||K(L,!0,"safe-polygon")}});const fe=M.current;Y.addEventListener("mousemove",fe),X.current=()=>{Y.removeEventListener("mousemove",fe)};return}(x.current==="touch"?!Qt(a.floating,L.relatedTarget):!0)&&K(L)}function $(L){te()||o.current.floatingContext&&(k.current==null||k.current({...o.current.floatingContext,tree:y,x:L.clientX,y:L.clientY,onClose(){ae(),q(),te()||K(L)}})(L))}if(Ge(a.domReference)){var G;const L=a.domReference;return n&&L.addEventListener("mouseleave",$),(G=a.floating)==null||G.addEventListener("mouseleave",$),v&&L.addEventListener("mousemove",Z,{once:!0}),L.addEventListener("mouseenter",Z),L.addEventListener("mouseleave",D),()=>{var Y;n&&L.removeEventListener("mouseleave",$),(Y=a.floating)==null||Y.removeEventListener("mouseleave",$),v&&L.removeEventListener("mousemove",Z),L.removeEventListener("mouseenter",Z),L.removeEventListener("mouseleave",D)}}},[a,c,e,g,m,v,K,q,ae,i,n,b,y,S,k,o,te]),En(()=>{var Z;if(c&&n&&(Z=k.current)!=null&&Z.__options.blockPointerEvents&&W()){j.current=!0;const $=a.floating;if(Ge(a.domReference)&&$){var D;const G=Zt(a.floating).body;G.setAttribute(ny,"");const L=a.domReference,Y=y==null||(D=y.nodesRef.current.find(we=>we.id===w))==null||(D=D.context)==null?void 0:D.elements.floating;return Y&&(Y.style.pointerEvents=""),G.style.pointerEvents="none",L.style.pointerEvents="auto",$.style.pointerEvents="auto",()=>{G.style.pointerEvents="",L.style.pointerEvents="",$.style.pointerEvents=""}}}},[c,n,w,a,y,k,W]),En(()=>{n||(x.current=void 0,z.current=!1,q(),ae())},[n,q,ae]),E.useEffect(()=>()=>{q(),clearTimeout(C.current),clearTimeout(A.current),ae()},[c,a.domReference,q,ae]);const re=E.useMemo(()=>{function Z(D){x.current=D.pointerType}return{onPointerDown:Z,onPointerEnter:Z,onMouseMove(D){const{nativeEvent:$}=D;function G(){!N.current&&!b.current&&i(!0,$,"hover")}g&&!Hl(x.current)||n||m===0||z.current&&D.movementX**2+D.movementY**2<2||(clearTimeout(A.current),x.current==="touch"?G():(z.current=!0,A.current=window.setTimeout(G,m)))}}},[g,i,n,b,m]),ue=E.useMemo(()=>({onMouseEnter(){clearTimeout(C.current)},onMouseLeave(Z){te()||K(Z.nativeEvent,!1)}}),[K,te]);return E.useMemo(()=>c?{reference:re,floating:ue}:{},[c,re,ue])}let ry=0;function go(e,t){t===void 0&&(t={});const{preventScroll:n=!1,cancelPrevious:i=!0,sync:o=!1}=t;i&&cancelAnimationFrame(ry);const l=()=>e==null?void 0:e.focus({preventScroll:n});o?l():ry=requestAnimationFrame(l)}function Uk(e,t){var n;let i=[],o=(n=e.find(l=>l.id===t))==null?void 0:n.parentId;for(;o;){const l=e.find(a=>a.id===o);o=l==null?void 0:l.parentId,l&&(i=i.concat(l))}return i}function Bl(e,t){let n=e.filter(o=>{var l;return o.parentId===t&&((l=o.context)==null?void 0:l.open)}),i=n;for(;i.length;)i=e.filter(o=>{var l;return(l=i)==null?void 0:l.some(a=>{var c;return o.parentId===a.id&&((c=o.context)==null?void 0:c.open)})}),n=n.concat(i);return n}let mo=new WeakMap,vu=new WeakSet,xu={},bh=0;const Vk=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,V0=e=>e&&(e.host||V0(e.parentNode)),Hk=(e,t)=>t.map(n=>{if(e.contains(n))return n;const i=V0(n);return e.contains(i)?i:null}).filter(n=>n!=null);function Wk(e,t,n,i){const o="data-floating-ui-inert",l=i?"inert":n?"aria-hidden":null,a=Hk(t,e),c=new Set,h=new Set(a),d=[];xu[o]||(xu[o]=new WeakMap);const g=xu[o];a.forEach(m),v(t),c.clear();function m(y){!y||c.has(y)||(c.add(y),y.parentNode&&m(y.parentNode))}function v(y){!y||h.has(y)||[].forEach.call(y.children,w=>{if(Zi(w)!=="script")if(c.has(w))v(w);else{const k=l?w.getAttribute(l):null,S=k!==null&&k!=="false",b=(mo.get(w)||0)+1,x=(g.get(w)||0)+1;mo.set(w,b),g.set(w,x),d.push(w),b===1&&S&&vu.add(w),x===1&&w.setAttribute(o,""),!S&&l&&w.setAttribute(l,"true")}})}return bh++,()=>{d.forEach(y=>{const w=(mo.get(y)||0)-1,k=(g.get(y)||0)-1;mo.set(y,w),g.set(y,k),w||(!vu.has(y)&&l&&y.removeAttribute(l),vu.delete(y)),k||y.removeAttribute(o)}),bh--,bh||(mo=new WeakMap,mo=new WeakMap,vu=new WeakSet,xu={})}}function iy(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=Zt(e[0]).body;return Wk(e.concat(Array.from(i.querySelectorAll("[aria-live]"))),i,t,n)}const Wl=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function H0(e,t){const n=hc(e,Wl());t==="prev"&&n.reverse();const i=n.indexOf(fi(Zt(e)));return n.slice(i+1)[0]}function W0(){return H0(document.body,"next")}function Y0(){return H0(document.body,"prev")}function $l(e,t){const n=t||e.currentTarget,i=e.relatedTarget;return!i||!Qt(n,i)}function Yk(e){hc(e,Wl()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function sy(e){e.querySelectorAll("[data-tabindex]").forEach(n=>{const i=n.dataset.tabindex;delete n.dataset.tabindex,i?n.setAttribute("tabindex",i):n.removeAttribute("tabindex")})}const gc={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let Xk;function oy(e){e.key==="Tab"&&(e.target,clearTimeout(Xk))}const Ku=E.forwardRef(function(t,n){const[i,o]=E.useState();En(()=>(k0()&&o("button"),document.addEventListener("keydown",oy),()=>{document.removeEventListener("keydown",oy)}),[]);const l={ref:n,tabIndex:0,role:i,"aria-hidden":i?void 0:!0,[Ls("focus-guard")]:"",style:gc};return E.createElement("span",Xu({},t,l))}),X0=E.createContext(null),ly=Ls("portal");function Kk(e){e===void 0&&(e={});const{id:t,root:n}=e,i=Zl(),o=q0(),[l,a]=E.useState(null),c=E.useRef(null);return En(()=>()=>{l==null||l.remove(),queueMicrotask(()=>{c.current=null})},[l]),En(()=>{if(!i||c.current)return;const h=t?document.getElementById(t):null;if(!h)return;const d=document.createElement("div");d.id=i,d.setAttribute(ly,""),h.appendChild(d),c.current=d,a(d)},[t,i]),En(()=>{if(n===null||!i||c.current)return;let h=n||(o==null?void 0:o.portalNode);h&&!Ge(h)&&(h=h.current),h=h||document.body;let d=null;t&&(d=document.createElement("div"),d.id=t,h.appendChild(d));const g=document.createElement("div");g.id=i,g.setAttribute(ly,""),h=d||h,h.appendChild(g),c.current=g,a(g)},[t,n,i,o]),l}function K0(e){const{children:t,id:n,root:i,preserveTabOrder:o=!0}=e,l=Kk({id:n,root:i}),[a,c]=E.useState(null),h=E.useRef(null),d=E.useRef(null),g=E.useRef(null),m=E.useRef(null),v=a==null?void 0:a.modal,y=a==null?void 0:a.open,w=!!a&&!a.modal&&a.open&&o&&!!(i||l);return E.useEffect(()=>{if(!l||!o||v)return;function k(S){l&&$l(S)&&(S.type==="focusin"?sy:Yk)(l)}return l.addEventListener("focusin",k,!0),l.addEventListener("focusout",k,!0),()=>{l.removeEventListener("focusin",k,!0),l.removeEventListener("focusout",k,!0)}},[l,o,v]),E.useEffect(()=>{l&&(y||sy(l))},[y,l]),E.createElement(X0.Provider,{value:E.useMemo(()=>({preserveTabOrder:o,beforeOutsideRef:h,afterOutsideRef:d,beforeInsideRef:g,afterInsideRef:m,portalNode:l,setFocusManagerState:c}),[o,l])},w&&l&&E.createElement(Ku,{"data-type":"outside",ref:h,onFocus:k=>{if($l(k,l)){var S;(S=g.current)==null||S.focus()}else{const b=Y0()||(a==null?void 0:a.refs.domReference.current);b==null||b.focus()}}}),w&&l&&E.createElement("span",{"aria-owns":l.id,style:gc}),l&&Id.createPortal(t,l),w&&l&&E.createElement(Ku,{"data-type":"outside",ref:d,onFocus:k=>{if($l(k,l)){var S;(S=m.current)==null||S.focus()}else{const b=W0()||(a==null?void 0:a.refs.domReference.current);b==null||b.focus(),a!=null&&a.closeOnFocusOut&&(a==null||a.onOpenChange(!1,k.nativeEvent,"focus-out"))}}}))}const q0=()=>E.useContext(X0),rd="data-floating-ui-focusable";function qk(e){return e?e.hasAttribute(rd)?e:e.querySelector("["+rd+"]")||e:null}const Gk=20;let ms=[];function Sh(e){ms=ms.filter(n=>n.isConnected);let t=e;if(!(!t||Zi(t)==="body")){if(!lk(t,Wl())){const n=hc(t,Wl())[0];n&&(t=n)}ms.push(t),ms.length>Gk&&(ms=ms.slice(-20))}}function ay(){return ms.slice().reverse().find(e=>e.isConnected)}const Qk=E.forwardRef(function(t,n){return E.createElement("button",Xu({},t,{type:"button",ref:n,tabIndex:-1,style:gc}))});function Zk(e){const{context:t,children:n,disabled:i=!1,order:o=["content"],guards:l=!0,initialFocus:a=0,returnFocus:c=!0,restoreFocus:h=!1,modal:d=!0,visuallyHiddenDismiss:g=!1,closeOnFocusOut:m=!0}=e,{open:v,refs:y,nodeId:w,onOpenChange:k,events:S,dataRef:b,floatingId:x,elements:{domReference:C,floating:M}}=t,A=typeof a=="number"&&a<0,N=F2(C)&&A,j=Vk()?l:!0,X=Po(o),z=Po(a),W=Po(c),K=pc(),q=q0(),ae=E.useRef(null),te=E.useRef(null),re=E.useRef(!1),ue=E.useRef(!1),Z=E.useRef(-1),D=q!=null,$=qk(M),G=xr(function(fe){return fe===void 0&&(fe=$),fe?hc(fe,Wl()):[]}),L=xr(fe=>{const oe=G(fe);return X.current.map(Q=>C&&Q==="reference"?C:$&&Q==="floating"?$:oe).filter(Boolean).flat()});E.useEffect(()=>{if(i||!d)return;function fe(Q){if(Q.key==="Tab"){Qt($,fi(Zt($)))&&G().length===0&&!N&&vh(Q);const se=L(),ee=Vi(Q);X.current[0]==="reference"&&ee===C&&(vh(Q),Q.shiftKey?go(se[se.length-1]):go(se[1])),X.current[1]==="floating"&&ee===$&&Q.shiftKey&&(vh(Q),go(se[0]))}}const oe=Zt($);return oe.addEventListener("keydown",fe),()=>{oe.removeEventListener("keydown",fe)}},[i,C,$,d,X,N,G,L]),E.useEffect(()=>{if(i||!M)return;function fe(oe){const Q=Vi(oe),ee=G().indexOf(Q);ee!==-1&&(Z.current=ee)}return M.addEventListener("focusin",fe),()=>{M.removeEventListener("focusin",fe)}},[i,M,G]),E.useEffect(()=>{if(i||!m)return;function fe(){ue.current=!0,setTimeout(()=>{ue.current=!1})}function oe(Q){const se=Q.relatedTarget;queueMicrotask(()=>{const ee=!(Qt(C,se)||Qt(M,se)||Qt(se,M)||Qt(q==null?void 0:q.portalNode,se)||se!=null&&se.hasAttribute(Ls("focus-guard"))||K&&(Bl(K.nodesRef.current,w).find(Ce=>{var Me,He;return Qt((Me=Ce.context)==null?void 0:Me.elements.floating,se)||Qt((He=Ce.context)==null?void 0:He.elements.domReference,se)})||Uk(K.nodesRef.current,w).find(Ce=>{var Me,He;return((Me=Ce.context)==null?void 0:Me.elements.floating)===se||((He=Ce.context)==null?void 0:He.elements.domReference)===se})));if(h&&ee&&fi(Zt($))===Zt($).body){Rt($)&&$.focus();const Ce=Z.current,Me=G(),He=Me[Ce]||Me[Me.length-1]||$;Rt(He)&&He.focus()}(N||!d)&&se&&ee&&!ue.current&&se!==ay()&&(re.current=!0,k(!1,Q,"focus-out"))})}if(M&&Rt(C))return C.addEventListener("focusout",oe),C.addEventListener("pointerdown",fe),M.addEventListener("focusout",oe),()=>{C.removeEventListener("focusout",oe),C.removeEventListener("pointerdown",fe),M.removeEventListener("focusout",oe)}},[i,C,M,$,d,w,K,q,k,m,h,G,N]),E.useEffect(()=>{var fe;if(i)return;const oe=Array.from((q==null||(fe=q.portalNode)==null?void 0:fe.querySelectorAll("["+Ls("portal")+"]"))||[]);if(M){const Q=[M,...oe,ae.current,te.current,X.current.includes("reference")||N?C:null].filter(ee=>ee!=null),se=d||N?iy(Q,j,!j):iy(Q);return()=>{se()}}},[i,C,M,d,X,q,N,j]),En(()=>{if(i||!Rt($))return;const fe=Zt($),oe=fi(fe);queueMicrotask(()=>{const Q=L($),se=z.current,ee=(typeof se=="number"?Q[se]:se.current)||$,Ce=Qt($,oe);!A&&!Ce&&v&&go(ee,{preventScroll:ee===$})})},[i,v,$,A,L,z]),En(()=>{if(i||!$)return;let fe=!1;const oe=Zt($),Q=fi(oe);let ee=b.current.openEvent;Sh(Q);function Ce(pt){let{open:$t,reason:Tt,event:gt,nested:Ut}=pt;$t&&(ee=gt),Tt==="escape-key"&&y.domReference.current&&Sh(y.domReference.current),Tt==="hover"&&gt.type==="mouseleave"&&(re.current=!0),Tt==="outside-press"&&(Ut?(re.current=!1,fe=!0):re.current=!(T2(gt)||w0(gt)))}S.on("openchange",Ce);const Me=oe.createElement("span");Me.setAttribute("tabindex","-1"),Me.setAttribute("aria-hidden","true"),Object.assign(Me.style,gc),D&&C&&C.insertAdjacentElement("afterend",Me);function He(){return typeof W.current=="boolean"?ay()||Me:W.current.current||Me}return()=>{S.off("openchange",Ce);const pt=fi(oe),$t=Qt(M,pt)||K&&Bl(K.nodesRef.current,w).some(Ut=>{var rn;return Qt((rn=Ut.context)==null?void 0:rn.elements.floating,pt)});($t||ee&&["click","mousedown"].includes(ee.type))&&y.domReference.current&&Sh(y.domReference.current);const gt=He();queueMicrotask(()=>{W.current&&!re.current&&Rt(gt)&&(!(gt!==pt&&pt!==oe.body)||$t)&&gt.focus({preventScroll:fe}),Me.remove()})}},[i,M,$,W,b,y,S,K,w,D,C]),E.useEffect(()=>{queueMicrotask(()=>{re.current=!1})},[i]),En(()=>{if(!i&&q)return q.setFocusManagerState({modal:d,closeOnFocusOut:m,open:v,onOpenChange:k,refs:y}),()=>{q.setFocusManagerState(null)}},[i,q,d,v,k,y,m]),En(()=>{if(i||!$||typeof MutationObserver!="function"||A)return;const fe=()=>{const Q=$.getAttribute("tabindex"),se=G(),ee=fi(Zt(M)),Ce=se.indexOf(ee);Ce!==-1&&(Z.current=Ce),X.current.includes("floating")||ee!==y.domReference.current&&se.length===0?Q!=="0"&&$.setAttribute("tabindex","0"):Q!=="-1"&&$.setAttribute("tabindex","-1")};fe();const oe=new MutationObserver(fe);return oe.observe($,{childList:!0,subtree:!0,attributes:!0}),()=>{oe.disconnect()}},[i,M,$,y,X,G,A]);function Y(fe){return i||!g||!d?null:E.createElement(Qk,{ref:fe==="start"?ae:te,onClick:oe=>k(!1,oe.nativeEvent)},typeof g=="string"?g:"Dismiss")}const we=!i&&j&&(d?!N:!0)&&(D||d);return E.createElement(E.Fragment,null,we&&E.createElement(Ku,{"data-type":"inside",ref:q==null?void 0:q.beforeInsideRef,onFocus:fe=>{if(d){const Q=L();go(o[0]==="reference"?Q[0]:Q[Q.length-1])}else if(q!=null&&q.preserveTabOrder&&q.portalNode)if(re.current=!1,$l(fe,q.portalNode)){const Q=W0()||C;Q==null||Q.focus()}else{var oe;(oe=q.beforeOutsideRef.current)==null||oe.focus()}}}),!N&&Y("start"),n,Y("end"),we&&E.createElement(Ku,{"data-type":"inside",ref:q==null?void 0:q.afterInsideRef,onFocus:fe=>{if(d)go(L()[0]);else if(q!=null&&q.preserveTabOrder&&q.portalNode)if(m&&(re.current=!0),$l(fe,q.portalNode)){const Q=Y0()||C;Q==null||Q.focus()}else{var oe;(oe=q.afterOutsideRef.current)==null||oe.focus()}}}))}function uy(e){return Rt(e.target)&&e.target.tagName==="BUTTON"}function cy(e){return Nd(e)}function Jk(e,t){t===void 0&&(t={});const{open:n,onOpenChange:i,dataRef:o,elements:{domReference:l}}=e,{enabled:a=!0,event:c="click",toggle:h=!0,ignoreMouse:d=!1,keyboardHandlers:g=!0,stickIfOpen:m=!0}=t,v=E.useRef(),y=E.useRef(!1),w=E.useMemo(()=>({onPointerDown(k){v.current=k.pointerType},onMouseDown(k){const S=v.current;k.button===0&&c!=="click"&&(Hl(S,!0)&&d||(n&&h&&(!(o.current.openEvent&&m)||o.current.openEvent.type==="mousedown")?i(!1,k.nativeEvent,"click"):(k.preventDefault(),i(!0,k.nativeEvent,"click"))))},onClick(k){const S=v.current;if(c==="mousedown"&&v.current){v.current=void 0;return}Hl(S,!0)&&d||(n&&h&&(!(o.current.openEvent&&m)||o.current.openEvent.type==="click")?i(!1,k.nativeEvent,"click"):i(!0,k.nativeEvent,"click"))},onKeyDown(k){v.current=void 0,!(k.defaultPrevented||!g||uy(k))&&(k.key===" "&&!cy(l)&&(k.preventDefault(),y.current=!0),k.key==="Enter"&&i(!(n&&h),k.nativeEvent,"click"))},onKeyUp(k){k.defaultPrevented||!g||uy(k)||cy(l)||k.key===" "&&y.current&&(y.current=!1,i(!(n&&h),k.nativeEvent,"click"))}}),[o,l,c,d,g,i,n,m,h]);return E.useMemo(()=>a?{reference:w}:{},[a,w])}const eb={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},tb={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},fy=e=>{var t,n;return{escapeKey:typeof e=="boolean"?e:(t=e==null?void 0:e.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(n=e==null?void 0:e.outsidePress)!=null?n:!0}};function G0(e,t){t===void 0&&(t={});const{open:n,onOpenChange:i,elements:o,dataRef:l}=e,{enabled:a=!0,escapeKey:c=!0,outsidePress:h=!0,outsidePressEvent:d="pointerdown",referencePress:g=!1,referencePressEvent:m="pointerdown",ancestorScroll:v=!1,bubbles:y,capture:w}=t,k=pc(),S=xr(typeof h=="function"?h:()=>!1),b=typeof h=="function"?S:h,x=E.useRef(!1),C=E.useRef(!1),{escapeKey:M,outsidePress:A}=fy(y),{escapeKey:N,outsidePress:j}=fy(w),X=E.useRef(!1),z=xr(re=>{var ue;if(!n||!a||!c||re.key!=="Escape"||X.current)return;const Z=(ue=l.current.floatingContext)==null?void 0:ue.nodeId,D=k?Bl(k.nodesRef.current,Z):[];if(!M&&(re.stopPropagation(),D.length>0)){let $=!0;if(D.forEach(G=>{var L;if((L=G.context)!=null&&L.open&&!G.context.dataRef.current.__escapeKeyBubbles){$=!1;return}}),!$)return}i(!1,A2(re)?re.nativeEvent:re,"escape-key")}),W=xr(re=>{var ue;const Z=()=>{var D;z(re),(D=Vi(re))==null||D.removeEventListener("keydown",Z)};(ue=Vi(re))==null||ue.addEventListener("keydown",Z)}),K=xr(re=>{var ue;const Z=x.current;x.current=!1;const D=C.current;if(C.current=!1,d==="click"&&D||Z||typeof b=="function"&&!b(re))return;const $=Vi(re),G="["+Ls("inert")+"]",L=Zt(o.floating).querySelectorAll(G);let Y=Ge($)?$:null;for(;Y&&!Ki(Y);){const Q=gi(Y);if(Ki(Q)||!Ge(Q))break;Y=Q}if(L.length&&Ge($)&&!O2($)&&!Qt($,o.floating)&&Array.from(L).every(Q=>!Qt(Y,Q)))return;if(Rt($)&&te){const Q=$.clientWidth>0&&$.scrollWidth>$.clientWidth,se=$.clientHeight>0&&$.scrollHeight>$.clientHeight;let ee=se&&re.offsetX>$.clientWidth;if(se&&ur($).direction==="rtl"&&(ee=re.offsetX<=$.offsetWidth-$.clientWidth),ee||Q&&re.offsetY>$.clientHeight)return}const we=(ue=l.current.floatingContext)==null?void 0:ue.nodeId,fe=k&&Bl(k.nodesRef.current,we).some(Q=>{var se;return _h(re,(se=Q.context)==null?void 0:se.elements.floating)});if(_h(re,o.floating)||_h(re,o.domReference)||fe)return;const oe=k?Bl(k.nodesRef.current,we):[];if(oe.length>0){let Q=!0;if(oe.forEach(se=>{var ee;if((ee=se.context)!=null&&ee.open&&!se.context.dataRef.current.__outsidePressBubbles){Q=!1;return}}),!Q)return}i(!1,re,"outside-press")}),q=xr(re=>{var ue;const Z=()=>{var D;K(re),(D=Vi(re))==null||D.removeEventListener(d,Z)};(ue=Vi(re))==null||ue.addEventListener(d,Z)});E.useEffect(()=>{if(!n||!a)return;l.current.__escapeKeyBubbles=M,l.current.__outsidePressBubbles=A;let re=-1;function ue(L){i(!1,L,"ancestor-scroll")}function Z(){window.clearTimeout(re),X.current=!0}function D(){re=window.setTimeout(()=>{X.current=!1},ac()?5:0)}const $=Zt(o.floating);c&&($.addEventListener("keydown",N?W:z,N),$.addEventListener("compositionstart",Z),$.addEventListener("compositionend",D)),b&&$.addEventListener(d,j?q:K,j);let G=[];return v&&(Ge(o.domReference)&&(G=Xi(o.domReference)),Ge(o.floating)&&(G=G.concat(Xi(o.floating))),!Ge(o.reference)&&o.reference&&o.reference.contextElement&&(G=G.concat(Xi(o.reference.contextElement)))),G=G.filter(L=>{var Y;return L!==((Y=$.defaultView)==null?void 0:Y.visualViewport)}),G.forEach(L=>{L.addEventListener("scroll",ue,{passive:!0})}),()=>{c&&($.removeEventListener("keydown",N?W:z,N),$.removeEventListener("compositionstart",Z),$.removeEventListener("compositionend",D)),b&&$.removeEventListener(d,j?q:K,j),G.forEach(L=>{L.removeEventListener("scroll",ue)}),window.clearTimeout(re)}},[l,o,c,b,d,n,i,v,a,M,A,z,N,W,K,j,q]),E.useEffect(()=>{x.current=!1},[b,d]);const ae=E.useMemo(()=>({onKeyDown:z,[eb[m]]:re=>{g&&i(!1,re.nativeEvent,"reference-press")}}),[z,i,g,m]),te=E.useMemo(()=>({onKeyDown:z,onMouseDown(){C.current=!0},onMouseUp(){C.current=!0},[tb[d]]:()=>{x.current=!0}}),[z,d]);return E.useMemo(()=>a?{reference:ae,floating:te}:{},[a,ae,te])}function nb(e){const{open:t=!1,onOpenChange:n,elements:i}=e,o=Zl(),l=E.useRef({}),[a]=E.useState(()=>Dk()),c=zd()!=null,[h,d]=E.useState(i.reference),g=xr((y,w,k)=>{l.current.openEvent=y?w:void 0,a.emit("openchange",{open:y,event:w,reason:k,nested:c}),n==null||n(y,w,k)}),m=E.useMemo(()=>({setPositionReference:d}),[]),v=E.useMemo(()=>({reference:h||i.reference||null,floating:i.floating||null,domReference:i.reference}),[h,i.reference,i.floating]);return E.useMemo(()=>({dataRef:l,open:t,onOpenChange:g,elements:v,events:a,floatingId:o,refs:m}),[t,g,v,a,o,m])}function Q0(e){e===void 0&&(e={});const{nodeId:t}=e,n=nb({...e,elements:{reference:null,floating:null,...e.elements}}),i=e.rootContext||n,o=i.elements,[l,a]=E.useState(null),[c,h]=E.useState(null),g=(o==null?void 0:o.domReference)||l,m=E.useRef(null),v=pc();En(()=>{g&&(m.current=g)},[g]);const y=Ok({...e,elements:{...o,...c&&{reference:c}}}),w=E.useCallback(C=>{const M=Ge(C)?{getBoundingClientRect:()=>C.getBoundingClientRect(),contextElement:C}:C;h(M),y.refs.setReference(M)},[y.refs]),k=E.useCallback(C=>{(Ge(C)||C===null)&&(m.current=C,a(C)),(Ge(y.refs.reference.current)||y.refs.reference.current===null||C!==null&&!Ge(C))&&y.refs.setReference(C)},[y.refs]),S=E.useMemo(()=>({...y.refs,setReference:k,setPositionReference:w,domReference:m}),[y.refs,k,w]),b=E.useMemo(()=>({...y.elements,domReference:g}),[y.elements,g]),x=E.useMemo(()=>({...y,...i,refs:S,elements:b,nodeId:t}),[y,S,b,t,i]);return En(()=>{i.dataRef.current.floatingContext=x;const C=v==null?void 0:v.nodesRef.current.find(M=>M.id===t);C&&(C.context=x)}),E.useMemo(()=>({...y,context:x,refs:S,elements:b}),[y,S,b,x])}function rb(e,t){t===void 0&&(t={});const{open:n,onOpenChange:i,events:o,dataRef:l,elements:a}=e,{enabled:c=!0,visibleOnly:h=!0}=t,d=E.useRef(!1),g=E.useRef(),m=E.useRef(!0);E.useEffect(()=>{if(!c)return;const y=Tn(a.domReference);function w(){!n&&Rt(a.domReference)&&a.domReference===fi(Zt(a.domReference))&&(d.current=!0)}function k(){m.current=!0}return y.addEventListener("blur",w),y.addEventListener("keydown",k,!0),()=>{y.removeEventListener("blur",w),y.removeEventListener("keydown",k,!0)}},[a.domReference,n,c]),E.useEffect(()=>{if(!c)return;function y(w){let{reason:k}=w;(k==="reference-press"||k==="escape-key")&&(d.current=!0)}return o.on("openchange",y),()=>{o.off("openchange",y)}},[o,c]),E.useEffect(()=>()=>{clearTimeout(g.current)},[]);const v=E.useMemo(()=>({onPointerDown(y){w0(y.nativeEvent)||(m.current=!1)},onMouseLeave(){d.current=!1},onFocus(y){if(d.current)return;const w=Vi(y.nativeEvent);if(h&&Ge(w))try{if(k0()&&M2())throw Error();if(!w.matches(":focus-visible"))return}catch{if(!m.current&&!Nd(w))return}i(!0,y.nativeEvent,"focus")},onBlur(y){d.current=!1;const w=y.relatedTarget,k=y.nativeEvent,S=Ge(w)&&w.hasAttribute(Ls("focus-guard"))&&w.getAttribute("data-type")==="outside";g.current=window.setTimeout(()=>{var b;const x=fi(a.domReference?a.domReference.ownerDocument:document);!w&&x===a.domReference||Qt((b=l.current.floatingContext)==null?void 0:b.refs.floating.current,x)||Qt(a.domReference,x)||S||i(!1,k,"focus")})}}),[l,a.domReference,i,h]);return E.useMemo(()=>c?{reference:v}:{},[c,v])}const hy="active",dy="selected";function Eh(e,t,n){const i=new Map,o=n==="item";let l=e;if(o&&e){const{[hy]:a,[dy]:c,...h}=e;l=h}return{...n==="floating"&&{tabIndex:-1,[rd]:""},...l,...t.map(a=>{const c=a?a[n]:null;return typeof c=="function"?e?c(e):null:c}).concat(e).reduce((a,c)=>(c&&Object.entries(c).forEach(h=>{let[d,g]=h;if(!(o&&[hy,dy].includes(d)))if(d.indexOf("on")===0){if(i.has(d)||i.set(d,[]),typeof g=="function"){var m;(m=i.get(d))==null||m.push(g),a[d]=function(){for(var v,y=arguments.length,w=new Array(y),k=0;k<y;k++)w[k]=arguments[k];return(v=i.get(d))==null?void 0:v.map(S=>S(...w)).find(S=>S!==void 0)}}}else a[d]=g}),a),{})}}function Z0(e){e===void 0&&(e=[]);const t=e.map(c=>c==null?void 0:c.reference),n=e.map(c=>c==null?void 0:c.floating),i=e.map(c=>c==null?void 0:c.item),o=E.useCallback(c=>Eh(c,e,"reference"),t),l=E.useCallback(c=>Eh(c,e,"floating"),n),a=E.useCallback(c=>Eh(c,e,"item"),i);return E.useMemo(()=>({getReferenceProps:o,getFloatingProps:l,getItemProps:a}),[o,l,a])}const ib=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function J0(e,t){var n;t===void 0&&(t={});const{open:i,floatingId:o}=e,{enabled:l=!0,role:a="dialog"}=t,c=(n=ib.get(a))!=null?n:a,h=Zl(),g=zd()!=null,m=E.useMemo(()=>c==="tooltip"||a==="label"?{["aria-"+(a==="label"?"labelledby":"describedby")]:i?o:void 0}:{"aria-expanded":i?"true":"false","aria-haspopup":c==="alertdialog"?"dialog":c,"aria-controls":i?o:void 0,...c==="listbox"&&{role:"combobox"},...c==="menu"&&{id:h},...c==="menu"&&g&&{role:"menuitem"},...a==="select"&&{"aria-autocomplete":"none"},...a==="combobox"&&{"aria-autocomplete":"list"}},[c,o,g,i,h,a]),v=E.useMemo(()=>{const w={id:o,...c&&{role:c}};return c==="tooltip"||a==="label"?w:{...w,...c==="menu"&&{"aria-labelledby":h}}},[c,o,h,a]),y=E.useCallback(w=>{let{active:k,selected:S}=w;const b={role:"option",...k&&{id:o+"-option"}};switch(a){case"select":return{...b,"aria-selected":k&&S};case"combobox":return{...b,...k&&{"aria-selected":!0}}}return{}},[o,a]);return E.useMemo(()=>l?{reference:m,floating:v,item:y}:{},[l,m,v,y])}function sb({initialOpen:e=!1,placement:t="top",open:n,onOpenChange:i}={}){const[o,l]=E.useState(e),a=n??o,c=i??l,h=Q0({placement:t,open:a,onOpenChange:c,whileElementsMounted:j0,middleware:[z0(5),$0({crossAxis:t.includes("-"),fallbackAxisSideDirection:"start",padding:5}),B0({padding:5})]}),d=h.context,g=$k(d,{move:!1,enabled:n==null,delay:{open:1e3,close:0}}),m=rb(d,{enabled:n==null}),v=G0(d),y=J0(d,{role:"tooltip"}),w=Z0([g,m,v,y]);return E.useMemo(()=>({open:a,setOpen:c,...w,...h}),[a,c,w,h])}const ev=E.createContext(null),tv=()=>{const e=E.useContext(ev);if(e==null)throw new Error("Tooltip components must be wrapped in <Tooltip />");return e};function ob({children:e,...t}){const n=sb(t);return P.jsx(ev.Provider,{value:n,children:e})}const lb=E.forwardRef(function({children:t,asChild:n=!1,...i},o){const l=tv(),a=t.ref,c=dc([l.refs.setReference,o,a]);return n&&E.isValidElement(t)?E.cloneElement(t,l.getReferenceProps({ref:c,...i,...t.props,"data-state":l.open?"open":"closed"})):P.jsx("div",{ref:c,"data-state":l.open?"open":"closed",...l.getReferenceProps(i),children:t})}),ab=E.forwardRef(function({style:t,...n},i){const o=tv(),l=dc([o.refs.setFloating,i]);return o.open?P.jsx(K0,{children:P.jsx("div",{ref:l,style:{...o.floatingStyles,...t},...o.getFloatingProps(n)})}):null}),Et=({children:e,tooltip:t,...n})=>E.isValidElement(e)?P.jsxs(ob,{children:[P.jsx(lb,{children:E.cloneElement(e,n)}),P.jsx(ab,{className:"py-1 px-2 bg-default-2 border border-default-1 text-white rounded text-xs font-normal max-w-sm",children:t})]}):(console.error("WithTooltip expects a single element as a child."),null),ub=()=>P.jsx("div",{className:"absolute bottom-0 left-0 h-14 min-h-14 right-0 md:right-auto md:top-0  md:h-auto md:w-14",children:P.jsxs("div",{className:"h-full bg-default-2 border-t md:border-r md:border-t-0 border-default-1 flex md:flex-col justify-center md:justify-start items-center gap-4 py-2 md:pt-4",children:[P.jsx(Et,{tooltip:"Hand tool [H]",children:P.jsx(Ar,{value:"hand",children:P.jsx(Yw,{stroke:1})})}),P.jsx(Et,{tooltip:"Pointer tool [P]",children:P.jsx(Ar,{value:"pointer",children:P.jsx(e2,{stroke:1})})}),P.jsx(Et,{tooltip:"Eraser tool [E]",children:P.jsx(Ar,{value:"eraser",children:P.jsx(Bw,{stroke:1})})}),P.jsx(Et,{tooltip:"Brush tool [B]",children:P.jsx(Ar,{value:"brush",children:P.jsx(Od,{stroke:1})})}),P.jsx(Et,{tooltip:"Rectangle tool [R]",children:P.jsx(Ar,{value:"square",children:P.jsx(p0,{stroke:1})})}),P.jsx(Et,{tooltip:"Line tool [L]",children:P.jsx(Ar,{value:"line",children:P.jsx(sc,{stroke:1})})}),P.jsx(Et,{tooltip:"Arrow tool [A]",children:P.jsx(Ar,{value:"arrow",children:P.jsx(h0,{stroke:1})})}),P.jsx(Et,{tooltip:"Pen tool [C]",children:P.jsx(Ar,{value:"bezier",children:P.jsx(g0,{stroke:1})})}),P.jsx(Et,{tooltip:"Text tool [T]",children:P.jsx(Ar,{value:"text",children:P.jsx(Ld,{stroke:1})})}),P.jsx(Et,{tooltip:"Zoom tool [Z]",children:P.jsx(Ar,{value:"zoom",children:P.jsx(E2,{stroke:1})})})]})}),Ar=({value:e,children:t})=>{let n=dt(a=>a.selectedTool);const i=dt(a=>a.restoreTool);i&&(n=i);const o=dt(a=>a.setSelectedTool),l=n===e;return P.jsx("button",{type:"button",className:`p-1 rounded  ${l?"bg-primary":"hover:bg-default-3"}`,onClick:()=>o(e),children:t})};function nv(e,t){let n=0,i=null;return function(...o){const l=Date.now();l-n>=t?(n=l,e.apply(this,o)):(i&&clearTimeout(i),i=setTimeout(()=>{n=Date.now(),e.apply(this,o)},t-(l-n)))}}const id="Sketch: ",rv=e=>`${id}${e}`;function cb(e){const t=localStorage.getItem(rv(e));if(t)try{return JSON.parse(t)}catch(n){return console.error("Failed to parse localStorage item",n),null}return null}function fb(e,t){try{const n=JSON.stringify(t);localStorage.setItem(rv(e),n)}catch(n){console.error("Failed to stringify or set localStorage item",n)}}function hb(){const e=[];for(let t=0;t<localStorage.length;t++){const n=localStorage.key(t);n&&n.startsWith(id)&&e.push(n.substring(id.length))}return e}var iv=Object.defineProperty,db=Object.defineProperties,pb=Object.getOwnPropertyDescriptors,py=Object.getOwnPropertySymbols,gb=Object.prototype.hasOwnProperty,mb=Object.prototype.propertyIsEnumerable,sd=(e,t,n)=>t in e?iv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Bd=(e,t)=>{for(var n in t||(t={}))gb.call(t,n)&&sd(e,n,t[n]);if(py)for(var n of py(t))mb.call(t,n)&&sd(e,n,t[n]);return e},$d=(e,t)=>db(e,pb(t)),sv=(e,t)=>{for(var n in t)iv(e,n,{get:t[n],enumerable:!0})},T=(e,t,n)=>(sd(e,typeof t!="symbol"?t+"":t,n),n),ov=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},bn=(e,t,n)=>(ov(e,t,"read from private field"),n?n.call(e):t.get(e)),lv=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},yb=(e,t,n,i)=>(ov(e,t,"write to private field"),t.set(e,n),n),un={Image:null,isHeadless:!1,shim:function(e,t){return e.tagName=e.nodeName=t||"canvas",e.nodeType=1,e.getAttribute=function(n){return this[n]},e.setAttribute=function(n,i){return this[n]=i,this},e},polyfill:function(e,t){return un.shim(e),typeof t<"u"&&(un.Image=t),un.isHeadless=!0,e}},av={};sv(av,{Curve:()=>No,getAnchorsFromArcData:()=>xb,getComponentOnCubicBezier:()=>Yl,getControlPoints:()=>_v,getCurveBoundingBox:()=>gv,getCurveFromPoints:()=>yv,getCurveLength:()=>pv,getReflection:()=>od,integrate:()=>mv,subdivide:()=>Ud});var uv={};sv(uv,{HALF_PI:()=>Ct,NumArray:()=>jr,TWO_PI:()=>Jt,decomposeMatrix:()=>Fo,getComputedMatrix:()=>hv,getPoT:()=>dv,lerp:()=>$n,mod:()=>Wn,setMatrix:()=>fv,toFixed:()=>Ve});var ut;typeof window<"u"?ut=window:typeof global<"u"?ut=global:typeof self<"u"&&(ut=self);var cv,Jt=Math.PI*2,Ct=Math.PI*.5;function Fo(e,t,n,i,o,l){let a;return arguments.length<=1?(a=e.a,t=e.b,n=e.c,i=e.d,o=e.e,l=e.f):a=e,{translateX:o,translateY:l,scaleX:Math.sqrt(a*a+t*t),scaleY:Math.sqrt(n*n+i*i),rotation:180*Math.atan2(t,a)/Math.PI}}function fv(e){cv=e}function hv(e,t){t=t&&t.identity()||new cv;let n=e;const i=[];for(;n&&n._matrix;)i.push(n._matrix),n=n.parent;i.reverse();for(let o=0;o<i.length;o++){const a=i[o].elements;t.multiply(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9])}return t}function $n(e,t,n){return n*(t-e)+e}var Ch=[2,4,8,16,32,64,128,256,512,1024,2048,4096];function dv(e){let t=0;for(;Ch[t]&&Ch[t]<e;)t++;return Ch[t]}function Wn(e,t){for(;e<0;)e+=t;return e%t}var jr=ut.Float32Array||Array,_b=Math.floor;function Ve(e){return _b(e*1e6)/1e6}var de={move:"M",line:"L",curve:"C",arc:"A",close:"Z"},J=class{constructor(){T(this,"_events",{}),T(this,"_bound",!1)}addEventListener(t,n){return(this._events[t]||(this._events[t]=[])).push(n),this._bound=!0,this}on(){return this.addEventListener.apply(this,arguments)}bind(){return this.addEventListener.apply(this,arguments)}removeEventListener(t,n){if(!this._events)return this;if(!t&&!n)return this._events={},this._bound=!1,this;const i=t?[t]:Object.keys(this._events);for(let o=0,l=i.length;o<l;o++){t=i[o];let a=this._events[t];if(a){let c=[];if(n)for(let h=0,d=a.length;h<d;h++){let g=a[h];g=g.handler?g.handler:g,n!==g&&c.push(g)}this._events[t]=c}}return this}off(){return this.removeEventListener.apply(this,arguments)}unbind(){return this.removeEventListener.apply(this,arguments)}dispatchEvent(t){if(!this._events)return this;const n=Array.prototype.slice.call(arguments,1),i=this._events[t];if(i)for(let o=0;o<i.length;o++)i[o].call(this,...n);return this}trigger(){return this.dispatchEvent.apply(this,arguments)}listen(t,n,i){const o=this;t&&(l.obj=t,l.name=n,l.handler=i,t.on(n,l));function l(){i.apply(o,arguments)}return o}ignore(t,n,i){return t.off(n,i),this}};T(J,"Types",{play:"play",pause:"pause",update:"update",render:"render",resize:"resize",change:"change",remove:"remove",insert:"insert",order:"order",load:"load"});T(J,"Methods",["addEventListener","on","removeEventListener","off","unbind","dispatchEvent","trigger","listen","ignore"]);var gy={x:{enumerable:!0,get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this._bound&&this.dispatchEvent(J.Types.change))}},y:{enumerable:!0,get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this._bound&&this.dispatchEvent(J.Types.change))}}},wr=class extends J{constructor(e=0,t=0){super(),T(this,"_x",0),T(this,"_y",0);for(let n in gy)Object.defineProperty(this,n,gy[n]);this.x=e,this.y=t}static add(e,t){return new wr(e.x+t.x,e.y+t.y)}static sub(e,t){return new wr(e.x-t.x,e.y-t.y)}static subtract(e,t){return wr.sub(e,t)}static ratioBetween(e,t){return(e.x*t.x+e.y*t.y)/(e.length()*t.length())}static angleBetween(e,t){if(arguments.length>=4){const o=arguments[0]-arguments[2],l=arguments[1]-arguments[3];return Math.atan2(l,o)}const n=e.x-t.x,i=e.y-t.y;return Math.atan2(i,n)}static distanceBetween(e,t){return Math.sqrt(wr.distanceBetweenSquared(e,t))}static distanceBetweenSquared(e,t){const n=e.x-t.x,i=e.y-t.y;return n*n+i*i}set(e,t){return this.x=e,this.y=t,this}copy(e){return this.x=e.x,this.y=e.y,this}clear(){return this.x=0,this.y=0,this}clone(){return new wr(this.x,this.y)}add(e,t){return arguments.length<=0?this:(arguments.length<=1?typeof e=="number"?(this.x+=e,this.y+=e):e&&typeof e.x=="number"&&typeof e.y=="number"&&(this.x+=e.x,this.y+=e.y):(this.x+=e,this.y+=t),this)}addSelf(e){return this.add.apply(this,arguments)}sub(e,t){return arguments.length<=0?this:(arguments.length<=1?typeof e=="number"?(this.x-=e,this.y-=e):e&&typeof e.x=="number"&&typeof e.y=="number"&&(this.x-=e.x,this.y-=e.y):(this.x-=e,this.y-=t),this)}subtract(){return this.sub.apply(this,arguments)}subSelf(e){return this.sub.apply(this,arguments)}subtractSelf(e){return this.sub.apply(this,arguments)}multiply(e,t){return arguments.length<=0?this:(arguments.length<=1?typeof e=="number"?(this.x*=e,this.y*=e):e&&typeof e.x=="number"&&typeof e.y=="number"&&(this.x*=e.x,this.y*=e.y):(this.x*=e,this.y*=t),this)}multiplySelf(e){return this.multiply.apply(this,arguments)}multiplyScalar(e){return this.multiply(e)}divide(e,t){return arguments.length<=0?this:(arguments.length<=1?typeof e=="number"?(this.x/=e,this.y/=e):e&&typeof e.x=="number"&&typeof e.y=="number"&&(this.x/=e.x,this.y/=e.y):(this.x/=e,this.y/=t),isNaN(this.x)&&(this.x=0),isNaN(this.y)&&(this.y=0),this)}divideSelf(e){return this.divide.apply(this,arguments)}divideScalar(e){return this.divide(e)}negate(){return this.multiply(-1)}dot(e){return this.x*e.x+this.y*e.y}length(){return Math.sqrt(this.lengthSquared())}lengthSquared(){return this.x*this.x+this.y*this.y}normalize(){return this.divideScalar(this.length())}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}setLength(e){return this.normalize().multiplyScalar(e)}equals(e,t){return t=typeof t>"u"?1e-4:t,this.distanceTo(e)<t}lerp(e,t){const n=(e.x-this.x)*t+this.x,i=(e.y-this.y)*t+this.y;return this.set(n,i)}isZero(e){return e=typeof e>"u"?1e-4:e,this.length()<e}toString(){return this.x+", "+this.y}toObject(){return{x:Ve(this.x),y:Ve(this.y)}}rotate(e){const t=this.x,n=this.y,i=Math.cos(e),o=Math.sin(e);return this.x=t*i-n*o,this.y=t*o+n*i,this}},ce=wr;T(ce,"zero",new wr);T(ce,"left",new wr(-1,0));T(ce,"right",new wr(1,0));T(ce,"up",new wr(0,-1));T(ce,"down",new wr(0,1));var Le=class extends ce{constructor(t=0,n=0,i=0,o=0,l=0,a=0,c=de.move){super(t,n),T(this,"controls",{left:new ce,right:new ce}),T(this,"_command",de.move),T(this,"_relative",!0),T(this,"_rx",0),T(this,"_ry",0),T(this,"_xAxisRotation",0),T(this,"_largeArcFlag",0),T(this,"_sweepFlag",1);for(let d in my)Object.defineProperty(this,d,my[d]);this.command=c,this.relative=!0;const h=Le.makeBroadcast(this);this.controls.left.set(i,o).addEventListener(J.Types.change,h),this.controls.right.set(l,a).addEventListener(J.Types.change,h)}static makeBroadcast(t){return n;function n(){t._bound&&t.dispatchEvent(J.Types.change)}}static fromObject(t){return new Le().copy(t)}copy(t){return this.x=t.x,this.y=t.y,typeof t.command=="string"&&(this.command=t.command),t.controls&&(t.controls.left&&this.controls.left.copy(t.controls.left),t.controls.right&&this.controls.right.copy(t.controls.right)),typeof t.relative=="boolean"&&(this.relative=t.relative),typeof t.rx=="number"&&(this.rx=t.rx),typeof t.ry=="number"&&(this.ry=t.ry),typeof t.xAxisRotation=="number"&&(this.xAxisRotation=t.xAxisRotation),typeof t.largeArcFlag=="number"&&(this.largeArcFlag=t.largeArcFlag),typeof t.sweepFlag=="number"&&(this.sweepFlag=t.sweepFlag),this}clone(){return new Le().copy(this)}toObject(){return{x:Ve(this.x),y:Ve(this.y),command:this.command,relative:this.relative,controls:{left:this.controls.left.toObject(),right:this.controls.right.toObject()},rx:Ve(this.rx),ry:Ve(this.ry),xAxisRotation:Ve(this.xAxisRotation),largeArcFlag:Ve(this.largeArcFlag),sweepFlag:Ve(this.sweepFlag)}}toString(){return JSON.stringify(this.toObject())}},my={command:{enumerable:!0,get:function(){return this._command},set:function(e){this._command!==e&&(this._command=e,this._bound&&this.dispatchEvent(J.Types.change))}},relative:{enumerable:!0,get:function(){return this._relative},set:function(e){this._relative!==!!e&&(this._relative=!!e,this._bound&&this.dispatchEvent(J.Types.change))}},rx:{enumerable:!0,get:function(){return this._rx},set:function(e){this._rx!==e&&(this._rx=e,this._bound&&this.dispatchEvent(J.Types.change))}},ry:{enumerable:!0,get:function(){return this._ry},set:function(e){this._ry!==e&&(this._ry=e,this._bound&&this.dispatchEvent(J.Types.change))}},xAxisRotation:{enumerable:!0,get:function(){return this._xAxisRotation},set:function(e){this._xAxisRotation!==e&&(this._xAxisRotation=e,this._bound&&this.dispatchEvent(J.Types.change))}},largeArcFlag:{enumerable:!0,get:function(){return this._largeArcFlag},set:function(e){this._largeArcFlag!==e&&(this._largeArcFlag=e,this._bound&&this.dispatchEvent(J.Types.change))}},sweepFlag:{get:function(){return this._sweepFlag},set:function(e){this._sweepFlag!==e&&(this._sweepFlag=e,this._bound&&this.dispatchEvent(J.Types.change))}}},vb=0,dn={nextFrameID:null,Types:{webgl:"WebGLRenderer",svg:"SVGRenderer",canvas:"CanvasRenderer"},Version:"v0.8.15",PublishDate:"2025-01-01T01:30:08.872Z",Identifier:"two-",Resolution:12,AutoCalculateImportedMatrices:!0,Instances:[],uniqueId:function(){return vb++}},No={CollinearityEpsilon:Math.pow(10,-30),RecursionLimit:16,CuspLimit:0,Tolerance:{distance:.25,angle:0,epsilon:Number.EPSILON},abscissas:[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],weights:[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]]};function Yl(e,t,n,i,o){const l=1-e;return l*l*l*t+3*l*l*e*n+3*l*e*e*i+e*e*e*o}function Ud(e,t,n,i,o,l,a,c,h){h=h||No.RecursionLimit;const d=h+1;if(Math.abs(e-a)<.001&&Math.abs(t-c)<.001)return[new Le(a,c)];const g=[];for(let m=0;m<d;m++){const v=m/d,y=Yl(v,e,n,o,a),w=Yl(v,t,i,l,c);g.push(new Le(y,w))}return g}function pv(e,t,n,i,o,l,a,c,h){if(e===n&&t===i&&o===a&&l===c){const S=a-e,b=c-t;return Math.sqrt(S*S+b*b)}const d=9*(n-o)+3*(a-e),g=6*(e+o)-12*n,m=3*(n-e),v=9*(i-l)+3*(c-t),y=6*(t+l)-12*i,w=3*(i-t);function k(S){const b=(d*S+g)*S+m,x=(v*S+y)*S+w;return Math.sqrt(b*b+x*x)}return mv(k,0,1,h||No.RecursionLimit)}function gv(e,t,n,i,o,l,a,c){const h=[],d=[[],[]];let g,m,v,y,w,k,S,b;for(let A=0;A<2;++A){if(A==0?(m=6*e-12*n+6*o,g=-3*e+9*n-9*o+3*a,v=3*n-3*e):(m=6*t-12*i+6*l,g=-3*t+9*i-9*l+3*c,v=3*i-3*t),Math.abs(g)<1e-12){if(Math.abs(m)<1e-12)continue;y=-v/m,0<y&&y<1&&h.push(y);continue}S=m*m-4*v*g,b=Math.sqrt(S),!(S<0)&&(w=(-m+b)/(2*g),0<w&&w<1&&h.push(w),k=(-m-b)/(2*g),0<k&&k<1&&h.push(k))}let x=h.length,C=x,M;for(;x--;)y=h[x],M=1-y,d[0][x]=M*M*M*e+3*M*M*y*n+3*M*y*y*o+y*y*y*a,d[1][x]=M*M*M*t+3*M*M*y*i+3*M*y*y*l+y*y*y*c;return d[0][C]=e,d[1][C]=t,d[0][C+1]=a,d[1][C+1]=c,d[0].length=d[1].length=C+2,{min:{x:Math.min.apply(0,d[0]),y:Math.min.apply(0,d[1])},max:{x:Math.max.apply(0,d[0]),y:Math.max.apply(0,d[1])}}}function mv(e,t,n,i){let o=No.abscissas[i-2],l=No.weights[i-2],a=.5*(n-t),c=a+t,h=0,d=i+1>>1,g=i&1?l[h++]*e(c):0;for(;h<d;){const m=a*o[h];g+=l[h++]*(e(c+m)+e(c-m))}return a*g}function yv(e,t){const n=e.length,i=n-1;for(let o=0;o<n;o++){const l=e[o],a=t?Wn(o-1,n):Math.max(o-1,0),c=t?Wn(o+1,n):Math.min(o+1,i),h=e[a],d=l,g=e[c];_v(h,d,g),d.command=o===0?de.move:de.curve}}function _v(e,t,n){const i=ce.angleBetween(e,t),o=ce.angleBetween(n,t);let l=ce.distanceBetween(e,t),a=ce.distanceBetween(n,t),c=(i+o)/2;return l<1e-4||a<1e-4?(typeof t.relative=="boolean"&&!t.relative&&(t.controls.left.copy(t),t.controls.right.copy(t)),t):(l*=.33,a*=.33,o<i?c+=Ct:c-=Ct,t.controls.left.x=Math.cos(c)*l,t.controls.left.y=Math.sin(c)*l,c-=Math.PI,t.controls.right.x=Math.cos(c)*a,t.controls.right.y=Math.sin(c)*a,typeof t.relative=="boolean"&&!t.relative&&(t.controls.left.x+=t.x,t.controls.left.y+=t.y,t.controls.right.x+=t.x,t.controls.right.y+=t.y),t)}function od(e,t,n){return new ce(2*e.x-(t.x+e.x)-(n?e.x:0),2*e.y-(t.y+e.y)-(n?e.y:0))}function xb(e,t,n,i,o,l,a){const c=dn.Resolution;for(let h=0;h<c;h++){let d=(h+1)/c;a&&(d=1-d);const g=d*l+o,m=n*Math.cos(g),v=i*Math.sin(g),y=new Le(m,v);y.command=de.line}}var yy=Array.prototype.slice;function wb(e){if(e==null)return!1;const t=e.length;return typeof t=="number"&&t>=0&&t<4294967296}var Se={isNaN:function(e){return typeof e=="number"&&e!==+e},isElement:function(e){return!!(e&&e.nodeType===1)},isObject:function(e){const t=typeof e;return t==="function"||t==="object"&&!!e},extend:function(e){const t=yy.call(arguments,1);for(let n=0;n<t.length;n++){const i=t[n];for(let o in i)e[o]=i[o]}return e},defaults:function(e){const t=yy.call(arguments,1);for(let n=0;n<t.length;n++){const i=t[n];for(let o in i)e[o]===void 0&&(e[o]=i[o])}return e},each:function(e,t,n){const i=n||this,o=!wb(e)&&Object.keys(e),l=(o||e).length;for(let a=0;a<l;a++){const c=o?o[a]:a;t.call(i,e[c],c,e)}return e},performance:ut.performance&&ut.performance.now?ut.performance:Date},Un={hasEventListeners:typeof ut.addEventListener=="function",bind:function(e,t,n,i){return this.hasEventListeners?e.addEventListener(t,n,!!i):e.attachEvent("on"+t,n),Un},unbind:function(e,t,n,i){return Un.hasEventListeners?e.removeEventListeners(t,n,!!i):e.detachEvent("on"+t,n),Un},getRequestAnimationFrame:function(){const e=["ms","moz","webkit","o"];let t=0,n=ut.requestAnimationFrame;if(!n){for(let o=0;o<e.length;o++)n=ut[e[o]+"RequestAnimationFrame"]||n;n=n||i}function i(o,l){const a=new Date().getTime(),c=Math.max(0,16-(a-t)),h=ut.setTimeout(d,c);t=a+c;function d(){o(a+c)}return h}return n}},Eo=ut.document?ut.document.createElement("div"):{};Eo.id="help-two-load";Object.defineProperty(Un,"temp",{enumerable:!0,get:function(){return Se.isElement(Eo)&&!ut.document.head.contains(Eo)&&(Eo.style.display="none",ut.document.head.appendChild(Eo)),Eo}});var Hn=class extends Error{constructor(t){super(),T(this,"name","Two.js"),T(this,"message"),this.message=t}},kb=ut.devicePixelRatio||1;function bb(e){return e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1}function Vd(e){return kb/bb(e)}var mc=class{constructor(){T(this,"map",{})}add(t,n){return this.map[t]=n,this}remove(t){return delete this.map[t],this}get(t){return this.map[t]}contains(t){return t in this.map}},Kt,qi=class extends Array{constructor(){super(),lv(this,Kt,new J),arguments[0]&&Array.isArray(arguments[0])?arguments[0].length>0&&this.push.apply(this,arguments[0]):arguments.length>0&&this.push.apply(this,arguments)}get _events(){return bn(this,Kt)}set _events(t){yb(this,Kt,t)}get _bound(){return bn(this,Kt)._bound}set _bound(t){bn(this,Kt)._bound=t}addEventListener(){return bn(this,Kt).addEventListener.apply(this,arguments)}on(){return bn(this,Kt).on.apply(this,arguments)}bind(){return bn(this,Kt).bind.apply(this,arguments)}removeEventListener(){return bn(this,Kt).removeEventListener.apply(this,arguments)}off(){return bn(this,Kt).off.apply(this,arguments)}unbind(){return bn(this,Kt).unbind.apply(this,arguments)}dispatchEvent(){return bn(this,Kt).dispatchEvent.apply(this,arguments)}trigger(){return bn(this,Kt).trigger.apply(this,arguments)}listen(){return bn(this,Kt).listen.apply(this,arguments)}ignore(){return bn(this,Kt).ignore.apply(this,arguments)}pop(){const t=super.pop.apply(this,arguments);return this.trigger(J.Types.remove,[t]),t}shift(){const t=super.shift.apply(this,arguments);return this.trigger(J.Types.remove,[t]),t}push(){const t=super.push.apply(this,arguments);return this.trigger(J.Types.insert,arguments),t}unshift(){const t=super.unshift.apply(this,arguments);return this.trigger(J.Types.insert,arguments),t}splice(){const t=super.splice.apply(this,arguments);if(this.trigger(J.Types.remove,t),arguments.length>2){const n=this.slice(arguments[0],arguments[0]+arguments.length-2);this.trigger(J.Types.insert,n),this.trigger(J.Types.order)}return t}sort(){return super.sort.apply(this,arguments),this.trigger(J.Types.order),this}reverse(){return super.reverse.apply(this,arguments),this.trigger(J.Types.order),this}indexOf(){return super.indexOf.apply(this,arguments)}map(t,n){const i=[];for(let o=0;o<this.length;o++){const l=this[o];let a;n?a=t.call(n,l,o):a=t(l,o),i.push(a)}return i}};Kt=new WeakMap;var Do=class extends J{constructor(){super(),T(this,"_flagId",!1),T(this,"_flagClassName",!1),T(this,"_renderer",{}),T(this,"_id",dn.Identifier+dn.uniqueId()),T(this,"_className",""),T(this,"classList",[]);for(let t in _y)Object.defineProperty(this,t,_y[t])}static fromObject(t){const n=new Do().copy(t);return"id"in t&&(n.id=t.id),n}flagReset(){this._flagId=this._flagClassName=!1}copy(t){return this.renderer.type=t.renderer.type,this.className=t.className,this}toObject(){return{renderer:{type:this.renderer.type},id:this.id,className:this.className}}},_y={renderer:{enumerable:!1,get:function(){return this._renderer}},id:{enumerable:!0,get:function(){return this._id},set:function(e){const t=this._id;e!==this._id&&(this._id=e,this._flagId=!0,this.parent&&(delete this.parent.children.ids[t],this.parent.children.ids[this._id]=this))}},className:{enumerable:!0,get:function(){return this._className},set:function(e){this._className!==e&&(this._flagClassName=!0,this.classList=e.split(/\s+?/),this._className=e)}}},Lu,vv={video:/\.(mp4|webm|ogg)$/i,image:/\.(jpe?g|png|gif|tiff|webp)$/i,effect:/texture|gradient/i};ut.document&&(Lu=document.createElement("a"));var St=class extends Do{constructor(e,t){super(),T(this,"_flagSrc",!1),T(this,"_flagImage",!1),T(this,"_flagVideo",!1),T(this,"_flagLoaded",!1),T(this,"_flagRepeat",!1),T(this,"_flagOffset",!1),T(this,"_flagScale",!1),T(this,"_src",""),T(this,"_image",null),T(this,"_loaded",!1),T(this,"_repeat","no-repeat"),T(this,"_scale",1),T(this,"_offset",null);for(let n in vy)Object.defineProperty(this,n,vy[n]);if(this._renderer.type="texture",this._renderer.flagOffset=Sb.bind(this),this._renderer.flagScale=Eb.bind(this),this.loaded=!1,this.repeat="no-repeat",this.offset=new ce,typeof t=="function"){const n=(function(){this.unbind(J.Types.load,n),typeof t=="function"&&t()}).bind(this);this.bind(J.Types.load,n)}if(typeof e=="string")this.src=e;else if(typeof e=="object"){const n=Object.prototype.toString.call(e);(n==="[object HTMLImageElement]"||n==="[object HTMLCanvasElement]"||n==="[object HTMLVideoElement]"||n==="[object Image]")&&(this.image=e)}this._update()}fromObject(e){const t=new St().copy(e);return"id"in e&&(t.id=e.id),t}static getAbsoluteURL(e){return Lu?(Lu.href=e,Lu.href):e}static loadHeadlessBuffer(e,t){e.image.onload=t,e.image.src=e.src}static getTag(e){return e&&e.nodeName&&e.nodeName.toLowerCase()||"img"}static getImage(e){const t=St.getAbsoluteURL(e);if(St.ImageRegistry.contains(t))return St.ImageRegistry.get(t);let n;return un.Image?(n=new un.Image,un.shim(n,"img")):ut.document?vv.video.test(t)?n=document.createElement("video"):n=document.createElement("img"):console.warn("Two.js: no prototypical image defined for Two.Texture"),n.crossOrigin="anonymous",n.referrerPolicy="no-referrer",n}static load(e,t){let n=e.image,i=St.getTag(n);e._flagImage&&(/canvas/i.test(i)?St.Register.canvas(e,t):(e._src=!un.isHeadless&&n.getAttribute("two-src")||n.src,St.Register[i](e,t))),e._flagSrc&&(n||(n=St.getImage(e.src),e.image=n),i=St.getTag(n),St.Register[i](e,t))}clone(){const e=new St(this.src);return e.repeat=this.repeat,e.offset.copy(this.offset),e.scale=this.scale,e}copy(e){return this.src=e.src,this.repeat=e.repeat,this.offset=typeof e.offset=="number"||e.offset instanceof ce?e.offset:new ce().copy(e.offset),this.scale=typeof e.scale=="number"||e.scale instanceof ce?e.scale:new ce().copy(e.scale),this}toObject(){const e=super.toObject.call(this);return e.renderer.type="texture",e.src=this.src,e.repeat=this.repeat,e.offset=this.offset.toObject(),e.scale=typeof this.scale=="number"?this.scale:this.scale.toObject(),e}_update(){return(this._flagSrc||this._flagImage)&&(this.trigger(J.Types.change),(this._flagSrc||this._flagImage)&&(this.loaded=!1,St.load(this,(function(){this.loaded=!0,this.trigger(J.Types.change).trigger(J.Types.load)}).bind(this)))),this._image&&this._image.readyState>=4&&(this._flagVideo=!0),this}flagReset(){return this._flagSrc=this._flagImage=this._flagLoaded=this._flagRepeat=this._flagVideo=this._flagScale=this._flagOffset=!1,super.flagReset.call(this),this}},ze=St;T(ze,"Properties",["src","loaded","repeat","scale","offset","image"]);T(ze,"RegularExpressions",vv);T(ze,"ImageRegistry",new mc);T(ze,"Register",{canvas:function(e,t){e._src="#"+e.id,St.ImageRegistry.add(e.src,e.image),typeof t=="function"&&t()},img:function(e,t){const n=e.image,i=function(l){!un.isHeadless&&n.removeEventListener&&typeof n.removeEventListener=="function"&&(n.removeEventListener("load",i,!1),n.removeEventListener("error",o,!1)),typeof t=="function"&&t()},o=function(l){throw!un.isHeadless&&typeof n.removeEventListener=="function"&&(n.removeEventListener("load",i,!1),n.removeEventListener("error",o,!1)),new Hn("unable to load "+e.src)};typeof n.width=="number"&&n.width>0&&typeof n.height=="number"&&n.height>0?i():!un.isHeadless&&typeof n.addEventListener=="function"&&(n.addEventListener("load",i,!1),n.addEventListener("error",o,!1)),e._src=St.getAbsoluteURL(e._src),!(!un.isHeadless&&n&&n.getAttribute("two-src"))&&(un.isHeadless||n.setAttribute("two-src",e.src),St.ImageRegistry.add(e.src,n),un.isHeadless?St.loadHeadlessBuffer(e,i):e.image.src=e.src)},video:function(e,t){if(un.isHeadless)throw new Hn("video textures are not implemented in headless environments.");const n=function(o){e.image.removeEventListener("canplaythrough",n,!1),e.image.removeEventListener("error",i,!1),e.image.width=e.image.videoWidth,e.image.height=e.image.videoHeight,typeof t=="function"&&t()},i=function(o){throw e.image.removeEventListener("canplaythrough",n,!1),e.image.removeEventListener("error",i,!1),new Hn("unable to load "+e.src)};e._src=St.getAbsoluteURL(e._src),e.image.getAttribute("two-src")||(e.image.setAttribute("two-src",e.src),St.ImageRegistry.add(e.src,e.image)),e.image.readyState>=4?n():(e.image.addEventListener("canplaythrough",n,!1),e.image.addEventListener("error",i,!1),e.image.src=e.src,e.image.load())}});var vy={src:{enumerable:!0,get:function(){return this._src},set:function(e){this._src=e,this._flagSrc=!0}},loaded:{enumerable:!0,get:function(){return this._loaded},set:function(e){this._loaded=e,this._flagLoaded=!0}},repeat:{enumerable:!0,get:function(){return this._repeat},set:function(e){this._repeat=e,this._flagRepeat=!0}},image:{enumerable:!0,get:function(){return this._image},set:function(e){const t=ze.getTag(e);let n;switch(t){case"canvas":n="#"+e.id;break;default:n=e.src}ze.ImageRegistry.contains(n)?this._image=ze.ImageRegistry.get(e.src):this._image=e,this._flagImage=!0}},offset:{enumerable:!0,get:function(){return this._offset},set:function(e){this._offset&&this._offset.unbind(J.Types.change,this._renderer.flagOffset),this._offset=e,this._offset.bind(J.Types.change,this._renderer.flagOffset),this._flagOffset=!0}},scale:{enumerable:!0,get:function(){return this._scale},set:function(e){this._scale instanceof ce&&this._scale.unbind(J.Types.change,this._renderer.flagScale),this._scale=e,this._scale instanceof ce&&this._scale.bind(J.Types.change,this._renderer.flagScale),this._flagScale=!0}}};function Sb(){this._flagOffset=!0}function Eb(){this._flagScale=!0}var yr=class extends Do{constructor(e,t,n){super(),T(this,"_flagOffset",!0),T(this,"_flagOpacity",!0),T(this,"_flagColor",!0),T(this,"_offset",0),T(this,"_opacity",1),T(this,"_color","#fff");for(let i in xy)Object.defineProperty(this,i,xy[i]);this._renderer.type="stop",this.offset=typeof e=="number"?e:yr.Index<=0?0:1,this.opacity=typeof n=="number"?n:1,this.color=typeof t=="string"?t:yr.Index<=0?"#fff":"#000",yr.Index=(yr.Index+1)%2}static fromObject(e){const t=new yr().copy(e);return"id"in e&&(t.id=e.id),t}copy(e){super.copy.call(this,e);for(let t=0;t<yr.Properties.length;t++){const n=yr.Properties[t];n in e&&(this[n]=e[n])}return this}clone(e){const t=new yr;return Se.each(yr.Properties,function(n){t[n]=this[n]},this),e&&e.stops&&e.stops.push(t),t}toObject(){const e=super.toObject.call(this);return e.renderer.type="stop",Se.each(yr.Properties,t=>{e[t]=this[t]},this),e}flagReset(){return this._flagOffset=this._flagColor=this._flagOpacity=!1,super.flagReset.call(this),this}},Ur=yr;T(Ur,"Index",0);T(Ur,"Properties",["offset","opacity","color"]);var xy={offset:{enumerable:!0,get:function(){return this._offset},set:function(e){this._offset=e,this._flagOffset=!0,this.parent&&(this.parent._flagStops=!0)}},opacity:{enumerable:!0,get:function(){return this._opacity},set:function(e){this._opacity=e,this._flagOpacity=!0,this.parent&&(this.parent._flagStops=!0)}},color:{enumerable:!0,get:function(){return this._color},set:function(e){this._color=e,this._flagColor=!0,this.parent&&(this.parent._flagStops=!0)}}},ys=class extends Do{constructor(e){super(),T(this,"_flagStops",!1),T(this,"_flagSpread",!1),T(this,"_flagUnits",!1),T(this,"_spread",""),T(this,"_units","");for(let t in wy)Object.defineProperty(this,t,wy[t]);this._renderer.type="gradient",this._renderer.flagStops=Cb.bind(this),this._renderer.bindStops=Rb.bind(this),this._renderer.unbindStops=Tb.bind(this),this.spread="pad",this.units="objectBoundingBox",e&&(this.stops=e)}static fromObject(e){let t=e.stops;t&&t.length>0&&(t=t.map(i=>i instanceof Ur?i:new Ur().copy(i)));const n=new ys().copy(e);return"id"in e&&(n.id=e.id),n}clone(e){const t=this.stops.map(i=>i.clone()),n=new ys(t);return Se.each(ys.Properties,i=>{n[i]=this[i]},this),e&&e.add(n),n}copy(e){super.copy.call(this,e);for(let t=0;t<ys.Properties.length;t++){const n=ys.Properties[t];n in e&&(this[n]=e[n])}return this}toObject(){const e={stops:this.stops.map(t=>t.toObject())};return Se.each(ys.Properties,t=>{e[t]=this[t]},this),e}_update(){return(this._flagSpread||this._flagStops)&&this.trigger(J.Types.change),this}flagReset(){return this._flagSpread=this._flagUnits=this._flagStops=!1,super.flagReset.call(this),this}},_t=ys;T(_t,"Stop",Ur);T(_t,"Properties",["spread","stops","units"]);var wy={spread:{enumerable:!0,get:function(){return this._spread},set:function(e){this._spread=e,this._flagSpread=!0}},units:{enumerable:!0,get:function(){return this._units},set:function(e){this._units=e,this._flagUnits=!0}},stops:{enumerable:!0,get:function(){return this._stops},set:function(e){const t=this._renderer.bindStops,n=this._renderer.unbindStops;this._stops&&this._stops.unbind(J.Types.insert,t).unbind(J.Types.remove,n),this._stops=new qi((e||[]).slice(0)),this._stops.bind(J.Types.insert,t).bind(J.Types.remove,n),t(this._stops)}}};function Cb(){this._flagStops=!0}function Rb(e){let t=e.length;for(;t--;)e[t].bind(J.Types.change,this._renderer.flagStops),e[t].parent=this;this._renderer.flagStops()}function Tb(e){let t=e.length;for(;t--;)e[t].unbind(J.Types.change,this._renderer.flagStops),delete e[t].parent;this._renderer.flagStops()}var Fl=class extends _t{constructor(e,t,n,i,o){super(o),T(this,"_flagEndPoints",!1),T(this,"_left",null),T(this,"_right",null);for(let l in ky)Object.defineProperty(this,l,ky[l]);this._renderer.type="linear-gradient",this._renderer.flagEndPoints=Mb.bind(this),this.left=new ce,this.right=new ce,typeof e=="number"&&(this.left.x=e),typeof t=="number"&&(this.left.y=t),typeof n=="number"&&(this.right.x=n),typeof i=="number"&&(this.right.y=i)}static fromObject(e){const t=new Fl().copy(e);return"id"in e&&(t.id=e.id),t}copy(e){super.copy.call(this,e);for(let t=0;t<Fl.Properties.length;t++){const n=Fl.Properties[t];n in e&&(this[n]=e[n]instanceof ce?e[n]:new ce().copy(e[n]))}return this}clone(e){const t=this.stops.map(function(i){return i.clone()}),n=new Fl(this.left._x,this.left._y,this.right._x,this.right._y,t);return Se.each(_t.Properties,function(i){n[i]=this[i]},this),e&&e.add(n),n}toObject(){const e=super.toObject.call(this);return e.left=this.left.toObject(),e.right=this.right.toObject(),e}_update(){return(this._flagEndPoints||this._flagSpread||this._flagStops)&&this.trigger(J.Types.change),this}flagReset(){return this._flagEndPoints=!1,super.flagReset.call(this),this}},Je=Fl;T(Je,"Stop",Ur);T(Je,"Properties",["left","right"]);var ky={left:{enumerable:!0,get:function(){return this._left},set:function(e){this._left instanceof ce&&this._left.unbind(J.Types.change,this._renderer.flagEndPoints),this._left=e,this._left.bind(J.Types.change,this._renderer.flagEndPoints),this._flagEndPoints=!0}},right:{enumerable:!0,get:function(){return this._right},set:function(e){this._right instanceof ce&&this._right.unbind(J.Types.change,this._renderer.flagEndPoints),this._right=e,this._right.bind(J.Types.change,this._renderer.flagEndPoints),this._flagEndPoints=!0}}};function Mb(){this._flagEndPoints=!0}var _s=class extends _t{constructor(e,t,n,i,o,l){super(i),T(this,"_flagRadius",!1),T(this,"_flagCenter",!1),T(this,"_flagFocal",!1),T(this,"_radius",0),T(this,"_center",null),T(this,"_focal",null);for(let a in by)Object.defineProperty(this,a,by[a]);this._renderer.type="radial-gradient",this._renderer.flagCenter=Pb.bind(this),this._renderer.flagFocal=Ab.bind(this),this.center=new ce,this.radius=typeof n=="number"?n:1,this.focal=new ce,typeof e=="number"&&(this.center.x=e),typeof t=="number"&&(this.center.y=t),this.focal.copy(this.center),typeof o=="number"&&(this.focal.x=o),typeof l=="number"&&(this.focal.y=l)}static fromObject(e){const t=new _s().copy(e);return"id"in e&&(t.id=e.id),t}copy(e){super.copy.call(this,e);for(let t=0;t<_s.Properties.length;t++){const n=_s.Properties[t];n in e&&(/(center|focal)i/.test(n)?this[n]=e[n]instanceof ce?e[n]:new ce().copy(e[n]):typeof e[n]=="number"&&(this[n]=e[MediaKeySystemAccess]))}return this}clone(e){const t=this.stops.map(function(i){return i.clone()}),n=new _s(this.center._x,this.center._y,this._radius,t,this.focal._x,this.focal._y);return Se.each(_t.Properties.concat(_s.Properties),function(i){n[i]=this[i]},this),e&&e.add(n),n}toObject(){const e=super.toObject.call(this);return Se.each(_s.Properties,function(t){e[t]=this[t]},this),e.center=this.center.toObject(),e.focal=this.focal.toObject(),e}_update(){return(this._flagRadius||this._flatCenter||this._flagFocal||this._flagSpread||this._flagStops)&&this.trigger(J.Types.change),this}flagReset(){return this._flagRadius=this._flagCenter=this._flagFocal=!1,super.flagReset.call(this),this}},et=_s;T(et,"Stop",Ur);T(et,"Properties",["center","radius","focal"]);var by={radius:{enumerable:!0,get:function(){return this._radius},set:function(e){this._radius=e,this._flagRadius=!0}},center:{enumerable:!0,get:function(){return this._center},set:function(e){this._center&&this._center.unbind(J.Types.change,this._renderer.flagCenter),this._center=e,this._center.bind(J.Types.change,this._renderer.flagCenter),this._flagCenter=!0}},focal:{enumerable:!0,get:function(){return this._focal},set:function(e){this._focal&&this._focal.unbind(J.Types.change,this._renderer.flagFocal),this._focal=e,this._focal.bind(J.Types.change,this._renderer.flagFocal),this._flagFocal=!0}}};function Pb(){this._flagCenter=!0}function Ab(){this._flagFocal=!0}function Sy(e,t){if(t===0||t===1)return!0;const i=e._length*t;let o=0;for(let l=0;l<e._lengths.length;l++){const a=e._lengths[l];if(o>=i)return i-o>=0;o+=a}return!1}function qu(e,t){const n=e._length;if(t<=0)return 0;if(t>=n)return e._lengths.length-1;for(let i=0,o=0;i<e._lengths.length;i++){if(o+e._lengths[i]>=t)return t-=o,Math.max(i-1,0)+t/e._lengths[i];o+=e._lengths[i]}return-1}function xv(e,t,n){let i,o,l,a,c,h,d,g;const m=t.controls&&t.controls.right,v=e.controls&&e.controls.left;return i=t.x,c=t.y,o=(m||t).x,h=(m||t).y,l=(v||e).x,d=(v||e).y,a=e.x,g=e.y,m&&t._relative&&(o+=t.x,h+=t.y),v&&e._relative&&(l+=e.x,d+=e.y),pv(i,c,o,h,l,d,a,g,n)}function Ey(e,t,n){let i,o,l,a,c,h,d,g;const m=t.controls&&t.controls.right,v=e.controls&&e.controls.left;return i=t.x,c=t.y,o=(m||t).x,h=(m||t).y,l=(v||e).x,d=(v||e).y,a=e.x,g=e.y,m&&t._relative&&(o+=t.x,h+=t.y),v&&e._relative&&(l+=e.x,d+=e.y),Ud(i,c,o,h,l,d,a,g,n)}function Fs(e){switch(e.renderer.type){case"texture":return ze.fromObject(e);case"gradient":return _t.fromObject(e);case"linear-gradient":return Je.fromObject(e);case"radial-gradient":return et.fromObject(e)}return e}var Ob=Math.cos,Lb=Math.sin,Cy=Math.tan,Rh=[],zn=class extends J{constructor(e,t,n,i,o,l){super(),T(this,"elements",new jr(9)),T(this,"manual",!1);let a=e;Array.isArray(a)||(a=Array.prototype.slice.call(arguments)),this.identity(),a.length>0&&this.set(a)}static Multiply(e,t,n){if(t.length<=3){const A=e;let N,j,X;const z=t[0]||0,W=t[1]||0,K=t[2]||0;return N=A[0]*z+A[1]*W+A[2]*K,j=A[3]*z+A[4]*W+A[5]*K,X=A[6]*z+A[7]*W+A[8]*K,[N,j,X]}const i=e[0],o=e[1],l=e[2],a=e[3],c=e[4],h=e[5],d=e[6],g=e[7],m=e[8],v=t[0],y=t[1],w=t[2],k=t[3],S=t[4],b=t[5],x=t[6],C=t[7],M=t[8];return n=n||new jr(9),n[0]=i*v+o*k+l*x,n[1]=i*y+o*S+l*C,n[2]=i*w+o*b+l*M,n[3]=a*v+c*k+h*x,n[4]=a*y+c*S+h*C,n[5]=a*w+c*b+h*M,n[6]=d*v+g*k+m*x,n[7]=d*y+g*S+m*C,n[8]=d*w+g*b+m*M,n}static fromObject(e){return new zn().copy(e)}set(e,t,n,i,o,l,a,c,h){if(typeof t>"u"){const d=e;e=d[0],t=d[1],n=d[2],i=d[3],o=d[4],l=d[5],a=d[6],c=d[7],h=d[8]}return this.elements[0]=e,this.elements[1]=t,this.elements[2]=n,this.elements[3]=i,this.elements[4]=o,this.elements[5]=l,this.elements[6]=a,this.elements[7]=c,this.elements[8]=h,this.trigger(J.Types.change)}copy(e){return this.elements[0]=e.elements[0],this.elements[1]=e.elements[1],this.elements[2]=e.elements[2],this.elements[3]=e.elements[3],this.elements[4]=e.elements[4],this.elements[5]=e.elements[5],this.elements[6]=e.elements[6],this.elements[7]=e.elements[7],this.elements[8]=e.elements[8],this.manual=e.manual,this.trigger(J.Types.change)}identity(){return this.elements[0]=zn.Identity[0],this.elements[1]=zn.Identity[1],this.elements[2]=zn.Identity[2],this.elements[3]=zn.Identity[3],this.elements[4]=zn.Identity[4],this.elements[5]=zn.Identity[5],this.elements[6]=zn.Identity[6],this.elements[7]=zn.Identity[7],this.elements[8]=zn.Identity[8],this.trigger(J.Types.change)}multiply(e,t,n,i,o,l,a,c,h){if(typeof t>"u")return this.elements[0]*=e,this.elements[1]*=e,this.elements[2]*=e,this.elements[3]*=e,this.elements[4]*=e,this.elements[5]*=e,this.elements[6]*=e,this.elements[7]*=e,this.elements[8]*=e,this.trigger(J.Types.change);if(typeof n>"u"&&(n=1),typeof i>"u"){e=e||0,t=t||0,n=n||0,o=this.elements;const ae=o[0]*e+o[1]*t+o[2]*n,te=o[3]*e+o[4]*t+o[5]*n,re=o[6]*e+o[7]*t+o[8]*n;return[ae,te,re]}const d=this.elements,g=[e,t,n,i,o,l,a,c,h],m=d[0],v=d[1],y=d[2],w=d[3],k=d[4],S=d[5],b=d[6],x=d[7],C=d[8],M=g[0],A=g[1],N=g[2],j=g[3],X=g[4],z=g[5],W=g[6],K=g[7],q=g[8];return this.elements[0]=m*M+v*j+y*W,this.elements[1]=m*A+v*X+y*K,this.elements[2]=m*N+v*z+y*q,this.elements[3]=w*M+k*j+S*W,this.elements[4]=w*A+k*X+S*K,this.elements[5]=w*N+k*z+S*q,this.elements[6]=b*M+x*j+C*W,this.elements[7]=b*A+x*X+C*K,this.elements[8]=b*N+x*z+C*q,this.trigger(J.Types.change)}inverse(e){const t=this.elements;e=e||new zn;const n=t[0],i=t[1],o=t[2],l=t[3],a=t[4],c=t[5],h=t[6],d=t[7],g=t[8],m=g*a-c*d,v=-g*l+c*h,y=d*l-a*h;let w=n*m+i*v+o*y;return w?(w=1/w,e.elements[0]=m*w,e.elements[1]=(-g*i+o*d)*w,e.elements[2]=(c*i-o*a)*w,e.elements[3]=v*w,e.elements[4]=(g*n-o*h)*w,e.elements[5]=(-c*n+o*l)*w,e.elements[6]=y*w,e.elements[7]=(-d*n+i*h)*w,e.elements[8]=(a*n-i*l)*w,e):null}scale(e,t){return arguments.length<=1&&(t=e),this.multiply(e,0,0,0,t,0,0,0,1)}rotate(e){const t=Ob(e),n=Lb(e);return this.multiply(t,-n,0,n,t,0,0,0,1)}translate(e,t){return this.multiply(1,0,e,0,1,t,0,0,1)}skewX(e){const t=Cy(e);return this.multiply(1,t,0,0,1,0,0,0,1)}skewY(e){const t=Cy(e);return this.multiply(1,0,0,t,1,0,0,0,1)}toString(e){return Rh.length=0,this.toTransformArray(e,Rh),Rh.map(Ve).join(" ")}toTransformArray(e,t){const n=this.elements,i=!!t,o=n[0],l=n[1],a=n[2],c=n[3],h=n[4],d=n[5];if(e){const g=n[6],m=n[7],v=n[8];if(i){t[0]=o,t[1]=c,t[2]=g,t[3]=l,t[4]=h,t[5]=m,t[6]=a,t[7]=d,t[8]=v;return}return[o,c,g,l,h,m,a,d,v]}if(i){t[0]=o,t[1]=c,t[2]=l,t[3]=h,t[4]=a,t[5]=d;return}return[o,c,l,h,a,d]}toArray(e,t){const n=this.elements,i=!!t,o=n[0],l=n[1],a=n[2],c=n[3],h=n[4],d=n[5];if(e){const g=n[6],m=n[7],v=n[8];if(i){t[0]=o,t[1]=l,t[2]=a,t[3]=c,t[4]=h,t[5]=d,t[6]=g,t[7]=m,t[8]=v;return}return[o,l,a,c,h,d,g,m,v]}if(i){t[0]=o,t[1]=l,t[2]=a,t[3]=c,t[4]=h,t[5]=d;return}return[o,l,a,c,h,d]}toObject(){return{renderer:{type:"matrix"},elements:this.toArray(!0),manual:!!this.manual}}clone(){return new zn().copy(this)}},Ns=zn;T(Ns,"Identity",[1,0,0,0,1,0,0,0,1]);fv(Ns);var zr=class extends Do{constructor(){super(),T(this,"_flagMatrix",!0),T(this,"_flagScale",!1),T(this,"_matrix",null),T(this,"_worldMatrix",null),T(this,"_position",null),T(this,"_rotation",0),T(this,"_scale",1),T(this,"_skewX",0),T(this,"_skewY",0);for(let t in wu)Object.defineProperty(this,t,wu[t]);this._renderer.flagMatrix=wv.bind(this),this.isShape=!0,this.matrix=new Ns,this.worldMatrix=new Ns,this.position=new ce,this.rotation=0,this.scale=1,this.skewX=0,this.skewY=0}static fromObject(t){const n=new zr().copy(t);return"id"in t&&(n.id=t.id),n}get renderer(){return this._renderer}set renderer(t){this._renderer=t}get translation(){return wu.position.get.apply(this,arguments)}set translation(t){wu.position.set.apply(this,arguments)}addTo(t){return t.add(this),this}remove(){return this.parent?(this.parent.remove(this),this):this}copy(t){return super.copy.call(this,t),"position"in t&&(t.position instanceof ce?this.position=t.position:this.position.copy(t.position)),"rotation"in t&&(this.rotation=t.rotation),"scale"in t&&(this.scale=typeof t.scale=="number"||t.scale instanceof ce?t.scale:new ce(t.scale.x,t.scale.y)),"skewX"in t&&(this.skewX=t.skewX),"skewY"in t&&(this.skewY=t.skewY),"matrix"in t&&t.matrix.manual&&(this.matrix.copy(t.matrix),this.matrix.manual=!0),this}clone(t){const n=new zr;return n.position.copy(this.position),n.rotation=this.rotation,n.scale=this.scale,n.skewX=this.skewX,n.skewY=this.skewY,this.matrix.manual&&n.matrix.copy(this.matrix),t&&t.add(n),n._update()}toObject(){const t=super.toObject.call(this);return t.renderer={type:"shape"},t.isShape=!0,t.translation=this.translation.toObject(),t.rotation=this.translation.rotation,t.scale=this.scale instanceof ce?this.scale.toObject():this.scale,t.skewX=this.skewX,t.skewY=this.skewY,t.matrix=this.matrix.toObject(),t}_update(t){return!this._matrix.manual&&this._flagMatrix&&(this._matrix.identity().translate(this.position.x,this.position.y),this._scale instanceof ce?this._matrix.scale(this._scale.x,this._scale.y):this._matrix.scale(this._scale),this._matrix.rotate(this.rotation),this._matrix.skewX(this.skewX),this._matrix.skewY(this.skewY)),t&&this.parent&&this.parent._update&&this.parent._update(),this}flagReset(){return this._flagMatrix=this._flagScale=!1,super.flagReset.call(this),this}},wu={position:{enumerable:!0,get:function(){return this._position},set:function(e){this._position&&this._position.unbind(J.Types.change,this._renderer.flagMatrix),this._position=e,this._position.bind(J.Types.change,this._renderer.flagMatrix),wv.call(this)}},rotation:{enumerable:!0,get:function(){return this._rotation},set:function(e){this._rotation=e,this._flagMatrix=!0}},scale:{enumerable:!0,get:function(){return this._scale},set:function(e){this._scale instanceof ce&&this._scale.unbind(J.Types.change,this._renderer.flagMatrix),this._scale=e,this._scale instanceof ce&&this._scale.bind(J.Types.change,this._renderer.flagMatrix),this._flagMatrix=!0,this._flagScale=!0}},skewX:{enumerable:!0,get:function(){return this._skewX},set:function(e){this._skewX=e,this._flagMatrix=!0}},skewY:{enumerable:!0,get:function(){return this._skewY},set:function(e){this._skewY=e,this._flagMatrix=!0}},matrix:{enumerable:!0,get:function(){return this._matrix},set:function(e){this._matrix=e,this._flagMatrix=!0}},worldMatrix:{enumerable:!0,get:function(){return hv(this,this._worldMatrix),this._worldMatrix},set:function(e){this._worldMatrix=e}}};function wv(){this._flagMatrix=!0}var yo=Math.min,_o=Math.max,Fb=Math.ceil,Nb=Math.floor,Ib=new ce,Bi=class extends zr{constructor(e,t,n,i){super(),T(this,"_flagVertices",!0),T(this,"_flagLength",!0),T(this,"_flagFill",!0),T(this,"_flagStroke",!0),T(this,"_flagLinewidth",!0),T(this,"_flagOpacity",!0),T(this,"_flagVisible",!0),T(this,"_flagCap",!0),T(this,"_flagJoin",!0),T(this,"_flagMiter",!0),T(this,"_flagMask",!1),T(this,"_flagClip",!1),T(this,"_length",0),T(this,"_fill","#fff"),T(this,"_stroke","#000"),T(this,"_linewidth",1),T(this,"_opacity",1),T(this,"_visible",!0),T(this,"_cap","round"),T(this,"_join","round"),T(this,"_miter",4),T(this,"_closed",!0),T(this,"_curved",!1),T(this,"_automatic",!0),T(this,"_beginning",0),T(this,"_ending",1),T(this,"_mask",null),T(this,"_clip",!1),T(this,"_dashes",null);for(let o in Ry)Object.defineProperty(this,o,Ry[o]);this._renderer.type="path",this._renderer.flagVertices=kv.bind(this),this._renderer.bindVertices=bv.bind(this),this._renderer.unbindVertices=Sv.bind(this),this._renderer.flagFill=Ev.bind(this),this._renderer.flagStroke=Cv.bind(this),this._renderer.vertices=[],this._renderer.collection=[],this.closed=!!t,this.curved=!!n,this.beginning=0,this.ending=1,this.fill="#fff",this.stroke="#000",this.linewidth=1,this.opacity=1,this.className="",this.visible=!0,this.cap="butt",this.join="miter",this.miter=4,this.vertices=e,this.automatic=!i,this.dashes=[],this.dashes.offset=0}static fromObject(e){const t=typeof e.fill=="string"?e.fill:Fs(e.fill),n=typeof e.stroke=="string"?e.stroke:Fs(e.stroke),i=new Bi().copy($d(Bd({},e),{fill:t,stroke:n}));return"id"in e&&(i.id=e.id),i}copy(e){super.copy.call(this,e),this.vertices=[];for(let t=0;t<e.vertices.length;t++){const n=e.vertices[t];n instanceof Le?this.vertices.push(e.vertices[t].clone()):this.vertices.push(new Le().copy(n))}for(let t=0;t<Bi.Properties.length;t++){const n=Bi.Properties[t];n in e&&(this[n]=e[n])}return this}clone(e){const t=new Bi;for(let n=0;n<this.vertices.length;n++)t.vertices.push(this.vertices[n].clone());for(let n=0;n<Bi.Properties.length;n++){const i=Bi.Properties[n];t[i]=this[i]}return t.className=this.className,t.translation.copy(this.translation),t.rotation=this.rotation,t.scale=this.scale,t.skewX=this.skewX,t.skewY=this.skewY,this.matrix.manual&&t.matrix.copy(this.matrix),e&&e.add(t),t._update()}toObject(){const e=super.toObject.call(this);return e.renderer.type="path",e.vertices=this.vertices.map(t=>t.toObject()),Se.each(Bi.Properties,t=>{typeof this[t]<"u"&&(this[t].toObject?e[t]=this[t].toObject():e[t]=this[t])},this),e}noFill(){return this.fill="none",this}noStroke(){return this.stroke="none",this.linewidth=0,this}corner(){const e=this.getBoundingClientRect(!0),t=e.width/2,n=e.height/2,i=e.left+e.width/2,o=e.top+e.height/2;for(let l=0;l<this.vertices.length;l++){const a=this.vertices[l];a.x-=i,a.y-=o,a.x+=t,a.y+=n}return this.mask&&(this.mask.translation.x-=i,this.mask.translation.x+=t,this.mask.translation.y-=o,this.mask.translation.y+=n),this}center(){const e=this.getBoundingClientRect(!0),t=e.left+e.width/2-this.translation.x,n=e.top+e.height/2-this.translation.y;for(let i=0;i<this.vertices.length;i++){const o=this.vertices[i];o.x-=t,o.y-=n}return this.mask&&(this.mask.translation.x-=t,this.mask.translation.y-=n),this}getBoundingClientRect(e){let t,n,i,o,l,a,c=1/0,h=-1/0,d=1/0,g=-1/0;if(this._update(!0),t=e?this.matrix:this.worldMatrix,n=(this.linewidth||0)/2,i=this._renderer.vertices.length,this.linewidth>0||this.stroke&&!/(transparent|none)/i.test(this.stroke))if(this.matrix.manual){const{scaleX:m,scaleY:v}=Fo(t.elements[0],t.elements[3],t.elements[1],t.elements[4],t.elements[2],t.elements[5]);typeof m=="number"&&typeof v=="number"&&(n=Math.max(m,v)*(this.linewidth||0)/2)}else n*=typeof this.scale=="number"?this.scale:Math.max(this.scale.x,this.scale.y);if(i<=0)return{width:0,height:0};for(o=0;o<i;o++){a=this._renderer.vertices[o],l=this._renderer.vertices[(o+i-1)%i];const[m,v]=t.multiply(l.x,l.y),[y,w]=t.multiply(a.x,a.y);if(l.controls&&a.controls){let k=l.controls.right.x,S=l.controls.right.y;l.relative&&(k+=l.x,S+=l.y);let[b,x]=t.multiply(k,S),C=a.controls.left.x,M=a.controls.left.y;a.relative&&(C+=a.x,M+=a.y);let[A,N]=t.multiply(C,M);const j=gv(m,v,b,x,A,N,y,w);d=yo(j.min.y-n,d),c=yo(j.min.x-n,c),h=_o(j.max.x+n,h),g=_o(j.max.y+n,g)}else o<=1&&(d=yo(v-n,d),c=yo(m-n,c),h=_o(m+n,h),g=_o(v+n,g)),d=yo(w-n,d),c=yo(y-n,c),h=_o(y+n,h),g=_o(w+n,g)}return{top:d,left:c,right:h,bottom:g,width:h-c,height:g-d}}getPointAt(e,t){let n,i,o,l,a,c,h,d,g,m,v,y,w,k,S,b=this.length*Math.min(Math.max(e,0),1);const x=this.vertices.length,C=x-1;let M=null,A=null;for(let ue=0,Z=this._lengths.length,D=0;ue<Z;ue++){if(D+this._lengths[ue]>=b){this._closed?(n=Wn(ue,x),i=Wn(ue-1,x),ue===0&&(n=i,i=ue)):(n=ue,i=Math.min(Math.max(ue-1,0),C)),M=this.vertices[n],A=this.vertices[i],b-=D,this._lengths[ue]!==0?e=b/this._lengths[ue]:e=0;break}D+=this._lengths[ue]}if(M===null||A===null)return null;if(M){if(!A)return M}else return A;S=A.controls&&A.controls.right,k=M.controls&&M.controls.left,a=A.x,m=A.y,c=(S||A).x,v=(S||A).y,h=(k||M).x,y=(k||M).y,d=M.x,w=M.y,S&&A.relative&&(c+=A.x,v+=A.y),k&&M.relative&&(h+=M.x,y+=M.y),l=Yl(e,a,c,h,d),g=Yl(e,m,v,y,w);const N=$n(a,c,e),j=$n(m,v,e),X=$n(c,h,e),z=$n(v,y,e),W=$n(h,d,e),K=$n(y,w,e),q=$n(N,X,e),ae=$n(j,z,e),te=$n(X,W,e),re=$n(z,K,e);return Se.isObject(t)?(t.x=l,t.y=g,t instanceof Le&&(t.controls.left.x=q,t.controls.left.y=ae,t.controls.right.x=te,t.controls.right.y=re,(typeof t.relative!="boolean"||t.relative)&&(t.controls.left.x-=l,t.controls.left.y-=g,t.controls.right.x-=l,t.controls.right.y-=g)),t.t=e,t):(o=new Le(l,g,q-l,ae-g,te-l,re-g,this._curved?de.curve:de.line),o.t=e,o)}plot(){if(this.curved)return yv(this._collection,this.closed),this;for(let e=0;e<this._collection.length;e++)this._collection[e].command=e===0?de.move:de.line;return this}subdivide(e){this._update();const t=this.vertices.length-1,n=this._closed||this.vertices[t]._command===de.close;let i=this.vertices[t],o=[],l;return Se.each(this.vertices,function(a,c){if(c<=0&&!n){i=a;return}if(a.command===de.move){o.push(new Le(i.x,i.y)),c>0&&(o[o.length-1].command=de.line),i=a;return}l=Ey(a,i,e),o=o.concat(l),Se.each(l,function(h,d){d<=0&&i.command===de.move?h.command=de.move:h.command=de.line}),c>=t&&(this._closed&&this._automatic?(i=a,l=Ey(a,i,e),o=o.concat(l),Se.each(l,function(h,d){d<=0&&i.command===de.move?h.command=de.move:h.command=de.line})):n&&o.push(new Le(a.x,a.y)),o[o.length-1].command=n?de.close:de.line),i=a},this),this._automatic=!1,this._curved=!1,this.vertices=o,this}_updateLength(e,t){t||this._update();const i=this.vertices.length-1;let o=this.vertices[i],l=0;return typeof this._lengths>"u"&&(this._lengths=[]),Se.each(this.vertices,function(a,c){if(c<=0||a.command===de.move){o=a,this._lengths[c]=0;return}this._lengths[c]=xv(a,o,e),l+=this._lengths[c],o=a},this),this._length=l,this._flagLength=!1,this}_update(){if(this._flagVertices){this._automatic&&this.plot(),this._flagLength&&this._updateLength(void 0,!0);const e=this._collection.length,t=this._closed,n=Math.min(this._beginning,this._ending),i=Math.max(this._beginning,this._ending),o=qu(this,n*this._length),l=qu(this,i*this._length),a=Fb(o),c=Nb(l);let h,d,g,m,v,y;for(this._renderer.vertices.length=0,y=0;y<e;y++)this._renderer.collection.length<=y&&this._renderer.collection.push(new Le),y>c&&!d?(v=this._renderer.collection[y].copy(this._collection[y]),this.getPointAt(i,v),v.command=this._renderer.collection[y].command,this._renderer.vertices.push(v),d=v,g=this._collection[y-1],g&&g.controls&&(v.relative?v.controls.right.clear():v.controls.right.copy(v),g.relative?this._renderer.collection[y-1].controls.right.copy(g.controls.right).lerp(ce.zero,1-v.t):this._renderer.collection[y-1].controls.right.copy(g.controls.right).lerp(g,1-v.t))):y>=a&&y<=c&&(v=this._renderer.collection[y].copy(this._collection[y]),this._renderer.vertices.push(v),y===c&&Sy(this,i)?(d=v,!t&&d.controls&&(d.relative?d.controls.right.clear():d.controls.right.copy(d))):y===a&&Sy(this,n)&&(h=v,h.command=de.move,!t&&h.controls&&(h.relative?h.controls.left.clear():h.controls.left.copy(h))));a>0&&!h&&(y=a-1,v=this._renderer.collection[y].copy(this._collection[y]),this.getPointAt(n,v),v.command=de.move,this._renderer.vertices.unshift(v),m=this._collection[y+1],m&&m.controls&&(v.controls.left.clear(),m.relative?this._renderer.collection[y+1].controls.left.copy(m.controls.left).lerp(ce.zero,v.t):(Ib.copy(m),this._renderer.collection[y+1].controls.left.copy(m.controls.left).lerp(m,v.t))))}return zr.prototype._update.apply(this,arguments),this}flagReset(){return this._flagVertices=this._flagLength=this._flagFill=this._flagStroke=this._flagLinewidth=this._flagOpacity=this._flagVisible=this._flagCap=this._flagJoin=this._flagMiter=this._flagClip=!1,zr.prototype.flagReset.call(this),this}},Ne=Bi;T(Ne,"Properties",["fill","stroke","linewidth","opacity","visible","cap","join","miter","closed","curved","automatic","beginning","ending","dashes"]);T(Ne,"Utils",{getCurveLength:xv});var Ry={linewidth:{enumerable:!0,get:function(){return this._linewidth},set:function(e){this._linewidth=e,this._flagLinewidth=!0}},opacity:{enumerable:!0,get:function(){return this._opacity},set:function(e){this._opacity=e,this._flagOpacity=!0}},visible:{enumerable:!0,get:function(){return this._visible},set:function(e){this._visible=e,this._flagVisible=!0}},cap:{enumerable:!0,get:function(){return this._cap},set:function(e){this._cap=e,this._flagCap=!0}},join:{enumerable:!0,get:function(){return this._join},set:function(e){this._join=e,this._flagJoin=!0}},miter:{enumerable:!0,get:function(){return this._miter},set:function(e){this._miter=e,this._flagMiter=!0}},fill:{enumerable:!0,get:function(){return this._fill},set:function(e){(this._fill instanceof _t||this._fill instanceof Je||this._fill instanceof et||this._fill instanceof ze)&&this._fill.unbind(J.Types.change,this._renderer.flagFill),this._fill=e,this._flagFill=!0,(this._fill instanceof _t||this._fill instanceof Je||this._fill instanceof et||this._fill instanceof ze)&&this._fill.bind(J.Types.change,this._renderer.flagFill)}},stroke:{enumerable:!0,get:function(){return this._stroke},set:function(e){(this._stroke instanceof _t||this._stroke instanceof Je||this._stroke instanceof et||this._stroke instanceof ze)&&this._stroke.unbind(J.Types.change,this._renderer.flagStroke),this._stroke=e,this._flagStroke=!0,(this._stroke instanceof _t||this._stroke instanceof Je||this._stroke instanceof et||this._stroke instanceof ze)&&this._stroke.bind(J.Types.change,this._renderer.flagStroke)}},length:{get:function(){return this._flagLength&&this._updateLength(),this._length}},closed:{enumerable:!0,get:function(){return this._closed},set:function(e){this._closed=!!e,this._flagVertices=!0}},curved:{enumerable:!0,get:function(){return this._curved},set:function(e){this._curved=!!e,this._flagVertices=!0}},automatic:{enumerable:!0,get:function(){return this._automatic},set:function(e){if(e===this._automatic)return;this._automatic=!!e;const t=this._automatic?"ignore":"listen";Se.each(this.vertices,function(n){n[t]()})}},beginning:{enumerable:!0,get:function(){return this._beginning},set:function(e){this._beginning=e,this._flagVertices=!0}},ending:{enumerable:!0,get:function(){return this._ending},set:function(e){this._ending=e,this._flagVertices=!0}},vertices:{enumerable:!0,get:function(){return this._collection},set:function(e){const t=this._renderer.bindVertices,n=this._renderer.unbindVertices;this._collection&&this._collection.unbind(J.Types.insert,t).unbind(J.Types.remove,n),e instanceof qi?this._collection=e:this._collection=new qi(e||[]),this._collection.bind(J.Types.insert,t).bind(J.Types.remove,n),t(this._collection)}},mask:{enumerable:!0,get:function(){return this._mask},set:function(e){this._mask=e,this._flagMask=!0,Se.isObject(e)&&!e.clip&&(e.clip=!0)}},clip:{enumerable:!0,get:function(){return this._clip},set:function(e){this._clip=e,this._flagClip=!0}},dashes:{enumerable:!0,get:function(){return this._dashes},set:function(e){typeof e.offset!="number"&&(e.offset=this.dashes&&this._dashes.offset||0),this._dashes=e}}};function kv(){this._flagVertices=!0,this._flagLength=!0,this.parent&&(this.parent._flagLength=!0)}function bv(e){let t=e.length;for(;t--;)e[t].bind(J.Types.change,this._renderer.flagVertices);this._renderer.flagVertices()}function Sv(e){let t=e.length;for(;t--;)e[t].unbind(J.Types.change,this._renderer.flagVertices);this._renderer.flagVertices()}function Ev(){this._flagFill=!0}function Cv(){this._flagStroke=!0}var Nl=class extends Ne{constructor(e,t,n,i){const o=[new Le,new Le,new Le,new Le];super(o,!0,!1,!0),T(this,"_flagWidth",0),T(this,"_flagHeight",0),T(this,"_width",0),T(this,"_height",0),T(this,"_origin",null),this._renderer.type="rectangle";for(let l in Ty)Object.defineProperty(this,l,Ty[l]);this.width=typeof n=="number"?n:1,this.height=typeof i=="number"?i:1,this.origin=new ce,typeof e=="number"&&(this.translation.x=e),typeof t=="number"&&(this.translation.y=t),this._update()}static fromObject(e){const t=new Nl().copy(e);return"id"in e&&(t.id=e.id),t}copy(e){super.copy.call(this,e);for(let t=0;t<Nl.Properties.length;t++){const n=Nl.Properties[t];n in e&&typeof e[n]=="number"&&(this[n]=e[n])}return this}_update(){if(this._flagVertices||this._flagWidth||this._flagHeight){const e=this._width/2,t=this._height/2;!this._closed&&this.vertices.length===4&&this.vertices.push(new Le),this.vertices[0].set(-e,-t).sub(this._origin).command=de.move,this.vertices[1].set(e,-t).sub(this._origin).command=de.line,this.vertices[2].set(e,t).sub(this._origin).command=de.line,this.vertices[3].set(-e,t).sub(this._origin).command=de.line,this.vertices[4]&&(this.vertices[4].set(-e,-t).sub(this._origin).command=de.line)}return super._update.call(this),this}flagReset(){return this._flagWidth=this._flagHeight=!1,super.flagReset.call(this),this}clone(e){const t=new Nl(0,0,this.width,this.height);t.translation.copy(this.translation),t.rotation=this.rotation,t.scale=this.scale,t.skewX=this.skewX,t.skewY=this.skewY,this.matrix.manual&&t.matrix.copy(this.matrix);for(let n=0;n<Ne.Properties.length;n++){const i=Ne.Properties[n];t[i]=this[i]}return e&&e.add(t),t}toObject(){const e=super.toObject.call(this);return e.renderer.type="rectangle",e.width=this.width,e.height=this.height,e.origin=this.origin.toObject(),e}},Ji=Nl;T(Ji,"Properties",["width","height"]);var Ty={width:{enumerable:!0,get:function(){return this._width},set:function(e){this._width=e,this._flagWidth=!0}},height:{enumerable:!0,get:function(){return this._height},set:function(e){this._height=e,this._flagHeight=!0}},origin:{enumerable:!0,get:function(){return this._origin},set:function(e){this._origin&&this._origin.unbind(J.Types.change,this._renderer.flagVertices),this._origin=e,this._origin.bind(J.Types.change,this._renderer.flagVertices),this._renderer.flagVertices()}}},Il=class extends Ji{constructor(e,t,n,i,o,l){super(t,n,0,0),T(this,"_flagTexture",!1),T(this,"_flagColumns",!1),T(this,"_flagRows",!1),T(this,"_flagFrameRate",!1),T(this,"_flagIndex",!1),T(this,"_amount",1),T(this,"_duration",0),T(this,"_startTime",0),T(this,"_playing",!1),T(this,"_firstFrame",0),T(this,"_lastFrame",0),T(this,"_loop",!0),T(this,"_texture",null),T(this,"_columns",1),T(this,"_rows",1),T(this,"_frameRate",0),T(this,"_index",0),T(this,"_origin",null);for(let a in My)Object.defineProperty(this,a,My[a]);this.noStroke(),this.noFill(),e instanceof ze?this.texture=e:typeof e=="string"&&(this.texture=new ze(e)),this.origin=new ce,this._update(),typeof i=="number"&&(this.columns=i),typeof o=="number"&&(this.rows=o),typeof l=="number"&&(this.frameRate=l),this.index=0}static fromObject(e){const t=new Il().copy(e);return"id"in e&&(t.id=e.id),t}copy(e){super.copy.call(this,e);for(let t=0;t<Il.Properties.length;t++){const n=Il.Properties[t];n in e&&(this[n]=e[n])}return this}play(e,t,n){return this._playing=!0,this._firstFrame=0,this._lastFrame=this.amount-1,this._startTime=Se.performance.now(),typeof e=="number"&&(this._firstFrame=e),typeof t=="number"&&(this._lastFrame=t),typeof n=="function"?this._onLastFrame=n:delete this._onLastFrame,this._index!==this._firstFrame&&(this._startTime-=1e3*Math.abs(this._index-this._firstFrame)/this._frameRate),this}pause(){return this._playing=!1,this}stop(){return this._playing=!1,this._index=0,this}clone(e){const t=new Il(this.texture,this.translation.x,this.translation.y,this.columns,this.rows,this.frameRate);return this.playing&&t.play(this._firstFrame,this._lastFrame),t.loop=this.loop,t.firstFrame=this.firstFrame,t.lastFrame=this.lastFrame,e&&e.add(t),t}toObject(){const e=super.toObject.call(this);return e.texture=this.texture.toObject(),e.columns=this.columns,e.rows=this.rows,e.frameRate=this.frameRate,e.index=this.index,e.firstFrame=this.firstFrame,e.lastFrame=this.lastFrame,e.loop=this.loop,e}_update(){const e=this._texture,t=this._columns,n=this._rows;let i,o,l,a,c,h,d,g,m;if(e&&((this._flagColumns||this._flagRows)&&(this._amount=this._columns*this._rows),this._flagFrameRate&&(this._duration=1e3*this._amount/this._frameRate),this._flagTexture&&(this.fill=e),e.loaded)){d=e.image.width,g=e.image.height,i=d/t,o=g/n,a=this._amount,this.width!==i&&(this.width=i),this.height!==o&&(this.height=o),this._playing&&this._frameRate>0&&(Se.isNaN(this._lastFrame)&&(this._lastFrame=a-1),l=Se.performance.now()-this._startTime,m=this._lastFrame+1,c=1e3*(m-this._firstFrame)/this._frameRate,this._loop?l=l%c:l=Math.min(l,c),h=$n(this._firstFrame,m,l/c),h=Math.floor(h),h!==this._index&&(this._index=h,h>=this._lastFrame-1&&this._onLastFrame&&this._onLastFrame()));const v=this._index%t,y=Math.floor(this._index/t),w=-i*v+(d-i)/2,k=-o*y+(g-o)/2;w!==e.offset.x&&(e.offset.x=w),k!==e.offset.y&&(e.offset.y=k)}return super._update.call(this),this}flagReset(){return this._flagTexture=this._flagColumns=this._flagRows=this._flagFrameRate=!1,super.flagReset.call(this),this}},yc=Il;T(yc,"Properties",["texture","columns","rows","frameRate","index","firstFrame","lastFrame","loop"]);var My={texture:{enumerable:!0,get:function(){return this._texture},set:function(e){this._texture=e,this._flagTexture=!0}},columns:{enumerable:!0,get:function(){return this._columns},set:function(e){this._columns=e,this._flagColumns=!0}},rows:{enumerable:!0,get:function(){return this._rows},set:function(e){this._rows=e,this._flagRows=!0}},frameRate:{enumerable:!0,get:function(){return this._frameRate},set:function(e){this._frameRate=e,this._flagFrameRate=!0}},index:{enumerable:!0,get:function(){return this._index},set:function(e){this._index=e,this._flagIndex=!0}},firstFrame:{enumerable:!0,get:function(){return this._firstFrame},set:function(e){this._firstFrame=e}},lastFrame:{enumerable:!0,get:function(){return this._lastFrame},set:function(e){this._lastFrame=e}},loop:{enumerable:!0,get:function(){return this._loop},set:function(e){this._loop=!!e}}},ld,Rv=class extends qi{constructor(e){e=Array.isArray(e)?e:Array.prototype.slice.call(arguments),super(e),lv(this,ld,{}),this.attach(e),this.on(J.Types.insert,this.attach),this.on(J.Types.remove,this.detach)}get ids(){return bn(this,ld)}attach(e){for(let t=0;t<e.length;t++){const n=e[t];n&&n.id&&(this.ids[n.id]=n)}return this}detach(e){for(let t=0;t<e.length;t++)delete this.ids[e[t].id];return this}};ld=new WeakMap;var vs=class extends Ne{constructor(e,t,n,i,o,l,a){const c=a||dn.Resolution*3,h=[];for(let d=0;d<c;d++)h.push(new Le);super(h,!0,!1,!0),T(this,"_flagStartAngle",!1),T(this,"_flagEndAngle",!1),T(this,"_flagInnerRadius",!1),T(this,"_flagOuterRadius",!1),T(this,"_startAngle",0),T(this,"_endAngle",Jt),T(this,"_innerRadius",0),T(this,"_outerRadius",0),this._renderer.type="arc-segment";for(let d in Py)Object.defineProperty(this,d,Py[d]);typeof n=="number"&&(this.innerRadius=n),typeof i=="number"&&(this.outerRadius=i),typeof o=="number"&&(this.startAngle=o),typeof l=="number"&&(this.endAngle=l),this._update(),typeof e=="number"&&(this.translation.x=e),typeof t=="number"&&(this.translation.y=t)}static fromObject(e){const t=new vs().copy(e);return"id"in e&&(t.id=e.id),t}copy(e){super.copy.call(this,e);for(let t=0;t<vs.Properties.length;t++){const n=vs.Properties[t];n in e&&typeof e[n]=="number"&&(this[n]=e[n])}return this}_update(){if(this._flagVertices||this._flagStartAngle||this._flagEndAngle||this._flagInnerRadius||this._flagOuterRadius){const e=this._startAngle,t=this._endAngle,n=this._innerRadius,i=this._outerRadius,o=Wn(e,Jt)===Wn(t,Jt),l=n>0,a=this.vertices;let c=l?a.length/2:a.length,h,d=0,g,m,v,y,w,k,S,b,x;for(o?c--:l||(c-=2),g=0,m=c-1;g<c;g++){switch(v=g/m,y=a[d],w=v*(t-e)+e,k=(t-e)/c,S=i*Math.cos(w),b=i*Math.sin(w),g){case 0:h=de.move;break;default:h=de.curve}y.command=h,y.x=S,y.y=b,y.controls.left.clear(),y.controls.right.clear(),y.command===de.curve&&(x=i*k/Math.PI,y.controls.left.x=x*Math.cos(w-Ct),y.controls.left.y=x*Math.sin(w-Ct),y.controls.right.x=x*Math.cos(w+Ct),y.controls.right.y=x*Math.sin(w+Ct),g===1&&y.controls.left.multiplyScalar(2),g===m&&y.controls.right.multiplyScalar(2)),d++}if(l){for(o?(a[d].command=de.close,d++):(c--,m=c-1),g=0;g<c;g++)v=g/m,y=a[d],w=(1-v)*(t-e)+e,k=(t-e)/c,S=n*Math.cos(w),b=n*Math.sin(w),h=de.curve,g<=0&&(h=o?de.move:de.line),y.command=h,y.x=S,y.y=b,y.controls.left.clear(),y.controls.right.clear(),y.command===de.curve&&(x=n*k/Math.PI,y.controls.left.x=x*Math.cos(w+Ct),y.controls.left.y=x*Math.sin(w+Ct),y.controls.right.x=x*Math.cos(w-Ct),y.controls.right.y=x*Math.sin(w-Ct),g===1&&y.controls.left.multiplyScalar(2),g===m&&y.controls.right.multiplyScalar(2)),d++;a[d].copy(a[0]),a[d].command=de.line}else o||(a[d].command=de.line,a[d].x=0,a[d].y=0,d++,a[d].copy(a[0]),a[d].command=de.line)}return super._update.call(this),this}flagReset(){return super.flagReset.call(this),this._flagStartAngle=this._flagEndAngle=this._flagInnerRadius=this._flagOuterRadius=!1,this}clone(e){const t=this.innerRadius,n=this.outerRadius,i=this.startAngle,o=this.endAngle,l=this.vertices.length,a=new vs(0,0,t,n,i,o,l);a.translation.copy(this.translation),a.rotation=this.rotation,a.scale=this.scale,a.skewX=this.skewX,a.skewY=this.skewY,this.matrix.manual&&a.matrix.copy(this.matrix);for(let c=0;c<Ne.Properties.length;c++){const h=Ne.Properties[c];a[h]=this[h]}return e&&e.add(a),a}toObject(){const e=super.toObject.call(this);e.renderer.type="arc-segment";for(let t=0;t<vs.Properties.length;t++){const n=vs.Properties[t];e[n]=this[n]}return e}},_c=vs;T(_c,"Properties",["startAngle","endAngle","innerRadius","outerRadius"]);var Py={startAngle:{enumerable:!0,get:function(){return this._startAngle},set:function(e){this._startAngle=e,this._flagStartAngle=!0}},endAngle:{enumerable:!0,get:function(){return this._endAngle},set:function(e){this._endAngle=e,this._flagEndAngle=!0}},innerRadius:{enumerable:!0,get:function(){return this._innerRadius},set:function(e){this._innerRadius=e,this._flagInnerRadius=!0}},outerRadius:{enumerable:!0,get:function(){return this._outerRadius},set:function(e){this._outerRadius=e,this._flagOuterRadius=!0}}},Th=Math.cos,Mh=Math.sin,xs=class extends Ne{constructor(e,t,n,i){const o=i?Math.max(i,2):4,l=[];for(let a=0;a<o;a++)l.push(new Le(0,0,0,0,0,0));super(l,!0,!0,!0),T(this,"_flagRadius",!1),T(this,"_radius",0),this._renderer.type="circle";for(let a in Ay)Object.defineProperty(this,a,Ay[a]);typeof n=="number"&&(this.radius=n),this._update(),typeof e=="number"&&(this.translation.x=e),typeof t=="number"&&(this.translation.y=t)}static fromObject(e){const t=new xs().copy(e);return"id"in e&&(t.id=e.id),t}copy(e){super.copy.call(this,e);for(let t=0;t<xs.Properties.length;t++){const n=xs.Properties[t];n in e&&typeof e[n]=="number"&&(this[n]=e[n])}return this}_update(){if(this._flagVertices||this._flagRadius){let e=this.vertices.length;!this._closed&&e>2&&(e-=1);const t=4/3*Math.tan(Math.PI/(e*2)),n=this._radius,i=n*t;for(let o=0;o<this.vertices.length;o++){const a=o/e*Jt,c=n*Th(a),h=n*Mh(a),d=i*Th(a-Ct),g=i*Mh(a-Ct),m=i*Th(a+Ct),v=i*Mh(a+Ct),y=this.vertices[o];y.command=o===0?de.move:de.curve,y.set(c,h),y.controls.left.set(d,g),y.controls.right.set(m,v)}}return super._update.call(this),this}flagReset(){return this._flagRadius=!1,super.flagReset.call(this),this}clone(e){const t=new xs(0,0,this.radius,this.vertices.length);t.translation.copy(this.translation),t.rotation=this.rotation,t.scale=this.scale,t.skewX=this.skewX,t.skewY=this.skewY,this.matrix.manual&&t.matrix.copy(this.matrix);for(let n=0;n<Ne.Properties.length;n++){const i=Ne.Properties[n];t[i]=this[i]}return e&&e.add(t),t}toObject(){const e=super.toObject.call(this);e.renderer.type="circle";for(let t=0;t<xs.Properties.length;t++){const n=xs.Properties[t];e[n]=this[n]}return e}},Jl=xs;T(Jl,"Properties",["radius"]);var Ay={radius:{enumerable:!0,get:function(){return this._radius},set:function(e){this._radius=e,this._flagRadius=!0}}},Ph=Math.cos,Ah=Math.sin,ws=class extends Ne{constructor(e,t,n,i,o){typeof i!="number"&&typeof n=="number"&&(i=n);const l=o?Math.max(o,2):4,a=[];for(let c=0;c<l;c++)a.push(new Le);super(a,!0,!0,!0),T(this,"_flagWidth",!1),T(this,"_flagHeight",!1),T(this,"_width",0),T(this,"_height",0),this._renderer.type="ellipse";for(let c in Oy)Object.defineProperty(this,c,Oy[c]);typeof n=="number"&&(this.width=n*2),typeof i=="number"&&(this.height=i*2),this._update(),typeof e=="number"&&(this.translation.x=e),typeof t=="number"&&(this.translation.y=t)}static fromObject(e){const t=new ws().copy(e);return"id"in e&&(t.id=e.id),t}copy(e){super.copy.call(this,e);for(let t=0;t<ws.Properties.length;t++){const n=ws.Properties[t];n in e&&typeof e[n]=="number"&&(this[n]=e[n])}return this}_update(){if(this._flagVertices||this._flagWidth||this._flagHeight){let e=this.vertices.length;!this._closed&&e>2&&(e-=1);const t=4/3*Math.tan(Math.PI/(this.vertices.length*2)),n=this._width/2,i=this._height/2;for(let o=0;o<this.vertices.length;o++){const a=o/e*Jt,c=n*Ph(a),h=i*Ah(a),d=n*t*Ph(a-Ct),g=i*t*Ah(a-Ct),m=n*t*Ph(a+Ct),v=i*t*Ah(a+Ct),y=this.vertices[o];y.command=o===0?de.move:de.curve,y.set(c,h),y.controls.left.set(d,g),y.controls.right.set(m,v)}}return super._update.call(this),this}flagReset(){return this._flagWidth=this._flagHeight=!1,super.flagReset.call(this),this}clone(e){const t=this.width/2,n=this.height/2,i=this.vertices.length,o=new ws(0,0,t,n,i);o.translation.copy(this.translation),o.rotation=this.rotation,o.scale=this.scale,o.skewX=this.skewX,o.skewY=this.skewY,this.matrix.manual&&o.matrix.copy(this.matrix);for(let l=0;l<Ne.Properties.length;l++){const a=Ne.Properties[l];o[a]=this[a]}return e&&e.add(o),o}toObject(){const e=super.toObject.call(this);e.renderer.type="ellipse";for(let t=0;t<ws.Properties.length;t++){const n=ws.Properties[t];e[n]=this[n]}return e}},ea=ws;T(ea,"Properties",["width","height"]);var Oy={width:{enumerable:!0,get:function(){return this._width},set:function(e){this._width=e,this._flagWidth=!0}},height:{enumerable:!0,get:function(){return this._height},set:function(e){this._height=e,this._flagHeight=!0}}},jb=Math.ceil,Db=Math.floor,$i=class extends zr{constructor(e){super(),T(this,"_flagVertices",!0),T(this,"_flagLength",!0),T(this,"_flagFill",!0),T(this,"_flagStroke",!0),T(this,"_flagLinewidth",!0),T(this,"_flagOpacity",!0),T(this,"_flagVisible",!0),T(this,"_flagSize",!0),T(this,"_flagSizeAttenuation",!0),T(this,"_length",0),T(this,"_fill","#fff"),T(this,"_stroke","#000"),T(this,"_linewidth",1),T(this,"_opacity",1),T(this,"_visible",!0),T(this,"_size",1),T(this,"_sizeAttenuation",!1),T(this,"_beginning",0),T(this,"_ending",1),T(this,"_dashes",null),T(this,"noFill",Ne.prototype.noFill),T(this,"noStroke",Ne.prototype.noStroke),T(this,"corner",Ne.prototype.corner),T(this,"center",Ne.prototype.center),T(this,"getBoundingClientRect",Ne.prototype.getBoundingClientRect),T(this,"_updateLength",Ne.prototype._updateLength);for(let t in Ly)Object.defineProperty(this,t,Ly[t]);this._renderer.type="points",this._renderer.flagVertices=kv.bind(this),this._renderer.bindVertices=bv.bind(this),this._renderer.unbindVertices=Sv.bind(this),this._renderer.flagFill=Ev.bind(this),this._renderer.flagStroke=Cv.bind(this),this._renderer.vertices=null,this._renderer.collection=null,this.sizeAttenuation=!1,this.beginning=0,this.ending=1,this.fill="#fff",this.stroke="#000",this.className="",this.visible=!0,this.vertices=e,this.dashes=[],this.dashes.offset=0}static fromObject(e){const t=typeof e.fill=="string"?e.fill:Fs(e.fill),n=typeof e.stroke=="string"?e.stroke:Fs(e.stroke),i=new $i().copy($d(Bd({},e),{fill:t,stroke:n}));return"id"in e&&(i.id=e.id),i}copy(e){super.copy.call(this,e);for(let t=0;t<e.vertices.length;t++){const n=e.vertices[t];n instanceof Le?this.vertices.push(e.vertices[t].clone()):this.vertices.push(new Le().copy(n))}for(let t=0;t<$i.Properties.length;t++){const n=$i.Properties[t];n in e&&(this[n]=e[n])}return this}clone(e){const t=new $i;for(let n=0;n<this.vertices.length;n++)t.vertices.push(this.vertices[n].clone());for(let n=0;n<$i.Properties.length;n++){const i=$i.Properties[n];t[i]=this[i]}return t.className=this.className,t.translation.copy(this.translation),t.rotation=this.rotation,t.scale=this.scale,t.skewX=this.skewX,t.skewY=this.skewY,this.matrix.manual&&t.matrix.copy(this.matrix),e&&e.add(t),t._update()}toObject(){const e=super.toObject.call(this);return e.renderer.type="points",e.vertices=this.vertices.map(t=>t.toObject()),Se.each($i.Properties,function(t){typeof this[t]<"u"&&(this[t].toObject?e[t]=this[t].toObject():e[t]=this[t])},this),e}subdivide(e){this._update();let t=[];for(let n=0;n<this.vertices.length;n++){const i=this.vertices[n],o=this.vertices[n-1];if(!o)continue;const l=i.x,a=i.y,c=o.x,h=o.y,d=Ud(l,a,l,a,c,h,c,h,e);t=t.concat(d)}return this.vertices=t,this}_update(){if(this._flagVertices){this._flagLength&&this._updateLength(void 0,!0);const e=Math.min(this._beginning,this._ending),t=Math.max(this._beginning,this._ending),n=qu(this,e*this._length),i=qu(this,t*this._length),o=jb(n),l=Db(i);let a=0,c;this._renderer.vertices=[],this._renderer.collection=[];for(let h=0;h<this._collection.length;h++)h>=o&&h<=l&&(c=this._collection[h],this._renderer.collection.push(c),this._renderer.vertices[a*2+0]=c.x,this._renderer.vertices[a*2+1]=c.y,a++)}return super._update.apply(this,arguments),this}flagReset(){return this._flagVertices=this._flagLength=this._flagFill=this._flagStroke=this._flagLinewidth=this._flagOpacity=this._flagVisible=this._flagSize=this._flagSizeAttenuation=!1,super.flagReset.call(this),this}},vc=$i;T(vc,"Properties",["fill","stroke","linewidth","opacity","visible","size","sizeAttenuation","beginning","ending","dashes"]);var Ly={linewidth:{enumerable:!0,get:function(){return this._linewidth},set:function(e){this._linewidth=e,this._flagLinewidth=!0}},opacity:{enumerable:!0,get:function(){return this._opacity},set:function(e){this._opacity=e,this._flagOpacity=!0}},visible:{enumerable:!0,get:function(){return this._visible},set:function(e){this._visible=e,this._flagVisible=!0}},size:{enumerable:!0,get:function(){return this._size},set:function(e){this._size=e,this._flagSize=!0}},sizeAttenuation:{enumerable:!0,get:function(){return this._sizeAttenuation},set:function(e){this._sizeAttenuation=e,this._flagSizeAttenuation=!0}},fill:{enumerable:!0,get:function(){return this._fill},set:function(e){(this._fill instanceof _t||this._fill instanceof Je||this._fill instanceof et||this._fill instanceof ze)&&this._fill.unbind(J.Types.change,this._renderer.flagFill),this._fill=e,this._flagFill=!0,(this._fill instanceof _t||this._fill instanceof Je||this._fill instanceof et||this._fill instanceof ze)&&this._fill.bind(J.Types.change,this._renderer.flagFill)}},stroke:{enumerable:!0,get:function(){return this._stroke},set:function(e){(this._stroke instanceof _t||this._stroke instanceof Je||this._stroke instanceof et||this._stroke instanceof ze)&&this._stroke.unbind(J.Types.change,this._renderer.flagStroke),this._stroke=e,this._flagStroke=!0,(this._stroke instanceof _t||this._stroke instanceof Je||this._stroke instanceof et||this._stroke instanceof ze)&&this._stroke.bind(J.Types.change,this._renderer.flagStroke)}},length:{get:function(){return this._flagLength&&this._updateLength(),this._length}},beginning:{enumerable:!0,get:function(){return this._beginning},set:function(e){this._beginning=e,this._flagVertices=!0}},ending:{enumerable:!0,get:function(){return this._ending},set:function(e){this._ending=e,this._flagVertices=!0}},vertices:{enumerable:!0,get:function(){return this._collection},set:function(e){const t=this._renderer.bindVertices,n=this._renderer.unbindVertices;this._collection&&this._collection.unbind(J.Types.insert,t).unbind(J.Types.remove,n),e instanceof qi?this._collection=e:this._collection=new qi(e||[]),this._collection.bind(J.Types.insert,t).bind(J.Types.remove,n),t(this._collection)}},dashes:{enumerable:!0,get:function(){return this._dashes},set:function(e){typeof e.offset!="number"&&(e.offset=this.dashes&&this._dashes.offset||0),this._dashes=e}}},zb=Math.cos,Bb=Math.sin,ks=class extends Ne{constructor(e,t,n,i){i=Math.max(i||0,3),super(),T(this,"_flagWidth",!1),T(this,"_flagHeight",!1),T(this,"_flagSides",!1),T(this,"_radius",0),T(this,"_width",0),T(this,"_height",0),T(this,"_sides",0),this._renderer.type="polygon";for(let o in Fy)Object.defineProperty(this,o,Fy[o]);this.closed=!0,this.automatic=!1,typeof n=="number"&&(this.radius=n),typeof i=="number"&&(this.sides=i),this._update(),typeof e=="number"&&(this.translation.x=e),typeof t=="number"&&(this.translation.y=t)}static fromObject(e){const t=new ks().copy(e);return"id"in e&&(t.id=e.id),t}copy(e){super.copy.call(this,e);for(let t=0;t<ks.Properties.length;t++){const n=ks.Properties[t];n in e&&typeof e[n]=="number"&&(this[n]=e[n])}return this}_update(){if(this._flagVertices||this._flagWidth||this._flagHeight||this._flagSides){const e=this._sides,t=e+1;let n=this.vertices.length;n>e&&(this.vertices.splice(e-1,n-e),n=e);for(let i=0;i<t;i++){const o=(i+.5)/e,l=Jt*o+Math.PI/2,a=this._width*zb(l)/2,c=this._height*Bb(l)/2;i>=n?this.vertices.push(new Le(a,c)):this.vertices[i].set(a,c),this.vertices[i].command=i===0?de.move:de.line}}return super._update.call(this),this}flagReset(){return this._flagWidth=this._flagHeight=this._flagSides=!1,super.flagReset.call(this),this}clone(e){const t=new ks(0,0,0,this.sides);t.translation.copy(this.translation),t.rotation=this.rotation,t.scale=this.scale,t.skewX=this.skewX,t.skewY=this.skewY,t.width=this.width,t.height=this.height,this.matrix.manual&&t.matrix.copy(this.matrix);for(let n=0;n<Ne.Properties.length;n++){const i=Ne.Properties[n];t[i]=this[i]}return e&&e.add(t),t}toObject(){const e=super.toObject.call(this);e.renderer.type="polygon";for(let t=0;t<ks.Properties.length;t++){const n=ks.Properties[t];e[n]=this[n]}return e}},xc=ks;T(xc,"Properties",["width","height","sides"]);var Fy={radius:{enumerable:!0,get:function(){return this._radius},set:function(e){this._radius=e,this.width=e*2,this.height=e*2}},width:{enumerable:!0,get:function(){return this._width},set:function(e){this._width=e,this._flagWidth=!0,this._radius=Math.max(this.width,this.height)/2}},height:{enumerable:!0,get:function(){return this._height},set:function(e){this._height=e,this._flagHeight=!0,this._radius=Math.max(this.width,this.height)/2}},sides:{enumerable:!0,get:function(){return this._sides},set:function(e){this._sides=e,this._flagSides=!0}}},bs=class extends Ne{constructor(e,t,n,i,o){typeof o>"u"&&typeof n=="number"&&typeof i=="number"&&(o=Math.floor(Math.min(n,i)/12));const l=[];for(let a=0;a<10;a++)l.push(new Le(0,0,0,0,0,0,a===0?de.move:de.curve));super(l),T(this,"_flagWidth",!1),T(this,"_flagHeight",!1),T(this,"_flagRadius",!1),T(this,"_width",0),T(this,"_height",0),T(this,"_radius",12),this._renderer.type="rounded-rectangle";for(let a in Ny)Object.defineProperty(this,a,Ny[a]);this.closed=!0,this.automatic=!1,this._renderer.flagRadius=$b.bind(this),typeof n=="number"&&(this.width=n),typeof i=="number"&&(this.height=i),typeof o=="number"&&(this.radius=o),this._update(),typeof e=="number"&&(this.translation.x=e),typeof t=="number"&&(this.translation.y=t)}static fromObject(e){const t=new bs().copy(e);return"id"in e&&(t.id=e.id),t}copy(e){super.copy.call(this,e);for(let t=0;t<bs.Properties.length;t++){const n=bs.Properties[t];if(n in e){const i=e[n];/radius/i.test(n)?this[n]=typeof i=="number"||i instanceof ce?i:new ce().copy(i):typeof i=="number"&&(this[n]=i)}}return this}_update(){if(this._flagVertices||this._flagWidth||this._flagHeight||this._flagRadius){const e=this._width,t=this._height;let n,i;this._radius instanceof ce?(n=this._radius.x,i=this._radius.y):(n=this._radius,i=this._radius);let o,l=e/2,a=t/2;o=this.vertices[0],o.x=-(l-n),o.y=-a,o=this.vertices[1],o.x=l-n,o.y=-a,o.controls.left.clear(),o.controls.right.x=n,o.controls.right.y=0,o=this.vertices[2],o.x=l,o.y=-(a-i),o.controls.right.clear(),o.controls.left.clear(),o=this.vertices[3],o.x=l,o.y=a-i,o.controls.left.clear(),o.controls.right.x=0,o.controls.right.y=i,o=this.vertices[4],o.x=l-n,o.y=a,o.controls.right.clear(),o.controls.left.clear(),o=this.vertices[5],o.x=-(l-n),o.y=a,o.controls.left.clear(),o.controls.right.x=-n,o.controls.right.y=0,o=this.vertices[6],o.x=-l,o.y=a-i,o.controls.left.clear(),o.controls.right.clear(),o=this.vertices[7],o.x=-l,o.y=-(a-i),o.controls.left.clear(),o.controls.right.x=0,o.controls.right.y=-i,o=this.vertices[8],o.x=-(l-n),o.y=-a,o.controls.left.clear(),o.controls.right.clear(),o=this.vertices[9],o.copy(this.vertices[8])}return super._update.call(this),this}flagReset(){return this._flagWidth=this._flagHeight=this._flagRadius=!1,super.flagReset.call(this),this}clone(e){const t=this.width,n=this.height,i=this.radius,o=new bs(0,0,t,n,i);o.translation.copy(this.translation),o.rotation=this.rotation,o.scale=this.scale,o.skewX=this.skewX,o.skewY=this.skewY,this.matrix.manual&&o.matrix.copy(this.matrix);for(let l=0;l<Ne.Properties.length;l++){const a=Ne.Properties[l];o[a]=this[a]}return e&&e.add(o),o}toObject(){const e=super.toObject.call(this);e.renderer.type="rounded-rectangle";for(let t=0;t<bs.Properties.length;t++){const n=bs.Properties[t];e[n]=this[n]}return e.radius=typeof this.radius=="number"?this.radius:this.radius.toObject(),e}},ta=bs;T(ta,"Properties",["width","height","radius"]);var Ny={width:{enumerable:!0,get:function(){return this._width},set:function(e){this._width=e,this._flagWidth=!0}},height:{enumerable:!0,get:function(){return this._height},set:function(e){this._height=e,this._flagHeight=!0}},radius:{enumerable:!0,get:function(){return this._radius},set:function(e){this._radius instanceof ce&&this._radius.unbind(J.Types.change,this._renderer.flagRadius),this._radius=e,this._radius instanceof ce&&this._radius.bind(J.Types.change,this._renderer.flagRadius),this._flagRadius=!0}}};function $b(){this._flagRadius=!0}var Ub=Math.cos,Vb=Math.sin,Ss=class extends Ne{constructor(e,t,n,i,o){arguments.length<=3&&(i=n,n=i/2),(typeof o!="number"||o<=0)&&(o=5),super(),T(this,"_flagInnerRadius",!1),T(this,"_flagOuterRadius",!1),T(this,"_flagSides",!1),T(this,"_innerRadius",0),T(this,"_outerRadius",0),T(this,"_sides",0),this._renderer.type="star";for(let l in Iy)Object.defineProperty(this,l,Iy[l]);this.closed=!0,this.automatic=!1,typeof n=="number"&&(this.innerRadius=n),typeof i=="number"&&(this.outerRadius=i),typeof o=="number"&&(this.sides=o),this._update(),typeof e=="number"&&(this.translation.x=e),typeof t=="number"&&(this.translation.y=t)}static fromObject(e){const t=new Ss().copy(e);return"id"in e&&(t.id=e.id),t}copy(e){super.copy.call(this,e);for(let t=0;t<Ss.Properties.length;t++){const n=Ss.Properties[t];n in e&&typeof e[n]=="number"&&(this[n]=e[n])}return this}_update(){if(this._flagVertices||this._flagInnerRadius||this._flagOuterRadius||this._flagSides){const e=this._sides*2,t=e+1;let n=this.vertices.length;n>e&&(this.vertices.splice(e-1,n-e),n=e);for(let i=0;i<t;i++){const o=(i+.5)/e,l=Jt*o,a=(i%2?this._outerRadius:this._innerRadius)/2,c=a*Ub(l),h=a*Vb(l);i>=n?this.vertices.push(new Le(c,h)):this.vertices[i].set(c,h),this.vertices[i].command=i===0?de.move:de.line}}return super._update.call(this),this}flagReset(){return this._flagInnerRadius=this._flagOuterRadius=this._flagSides=!1,super.flagReset.call(this),this}clone(e){const t=this.innerRadius,n=this.outerRadius,i=this.sides,o=new Ss(0,0,t,n,i);o.translation.copy(this.translation),o.rotation=this.rotation,o.scale=this.scale,o.skewX=this.skewX,o.skewY=this.skewY,this.matrix.manual&&o.matrix.copy(this.matrix);for(let l=0;l<Ne.Properties.length;l++){const a=Ne.Properties[l];o[a]=this[a]}return e&&e.add(o),o}toObject(){const e=super.toObject.call(this);e.renderer.type="star";for(let t=0;t<Ss.Properties.length;t++){const n=Ss.Properties[t];e[n]=this[n]}return e}},wc=Ss;T(wc,"Properties",["innerRadius","outerRadius","sides"]);var Iy={innerRadius:{enumerable:!0,get:function(){return this._innerRadius},set:function(e){this._innerRadius=e,this._flagInnerRadius=!0}},outerRadius:{enumerable:!0,get:function(){return this._outerRadius},set:function(e){this._outerRadius=e,this._flagOuterRadius=!0}},sides:{enumerable:!0,get:function(){return this._sides},set:function(e){this._sides=e,this._flagSides=!0}}},ad,jy=Math.min,Dy=Math.max;ut.document&&(ad=document.createElement("canvas"));var Bn=class extends zr{constructor(e,t,n,i){super(),T(this,"_flagValue",!0),T(this,"_flagFamily",!0),T(this,"_flagSize",!0),T(this,"_flagLeading",!0),T(this,"_flagAlignment",!0),T(this,"_flagBaseline",!0),T(this,"_flagStyle",!0),T(this,"_flagWeight",!0),T(this,"_flagDecoration",!0),T(this,"_flagFill",!0),T(this,"_flagStroke",!0),T(this,"_flagLinewidth",!0),T(this,"_flagOpacity",!0),T(this,"_flagVisible",!0),T(this,"_flagMask",!1),T(this,"_flagClip",!1),T(this,"_flagDirection",!0),T(this,"_value",""),T(this,"_family","sans-serif"),T(this,"_size",13),T(this,"_leading",17),T(this,"_alignment","center"),T(this,"_baseline","middle"),T(this,"_style","normal"),T(this,"_weight",500),T(this,"_decoration","none"),T(this,"_direction","ltr"),T(this,"_fill","#000"),T(this,"_stroke","none"),T(this,"_linewidth",1),T(this,"_opacity",1),T(this,"_visible",!0),T(this,"_mask",null),T(this,"_clip",!1),T(this,"_dashes",null);for(let o in zy)Object.defineProperty(this,o,zy[o]);if(this._renderer.type="text",this._renderer.flagFill=Hb.bind(this),this._renderer.flagStroke=Wb.bind(this),this.value=e,typeof t=="number"&&(this.translation.x=t),typeof n=="number"&&(this.translation.y=n),this.dashes=[],this.dashes.offset=0,!Se.isObject(i))return this;for(let o=0;o<Bn.Properties.length;o++){const l=Bn.Properties[o];l in i&&(this[l]=i[l])}}static Measure(e){if(ad){const t=ad.getContext("2d");t.font=[e._style,e._weight,`${e._size}px/${e._leading}px`,e._family].join(" ");const n=t.measureText(e.value,0,0),i=n.actualBoundingBoxDescent+n.actualBoundingBoxAscent;return{width:n.width,height:i}}else{const t=this.value.length*this.size*Bn.Ratio,n=this.leading;return console.warn("Two.Text: unable to accurately measure text, so using an approximation."),{width:t,height:n}}}static fromObject(e){const t=typeof e.fill=="string"?e.fill:Fs(e.fill),n=typeof e.stroke=="string"?e.stroke:Fs(e.stroke),i=new Bn().copy($d(Bd({},e),{fill:t,stroke:n}));return"id"in e&&(i.id=e.id),i}copy(e){super.copy.call(this,e);for(let t=0;t<Bn.Properties.length;t++){const n=Bn.Properties[t];n in e&&(this[n]=e[n])}return this}clone(e){const t=new Bn(this.value);t.translation.copy(this.translation),t.rotation=this.rotation,t.scale=this.scale;for(let n=0;n<Bn.Properties.length;n++){const i=Bn.Properties[n];t[i]=this[i]}return this.matrix.manual&&t.matrix.copy(this.matrix),e&&e.add(t),t._update()}toObject(){const e=super.toObject.call(this);e.renderer.type="text";for(let t=0;t<Bn.Properties.length;t++){const n=Bn.Properties[t];e[n]=this[n]}return e}noFill(){return this.fill="none",this}noStroke(){return this.stroke="none",this.linewidth=0,this}getBoundingClientRect(e){let t,n,i,o,l;this._update(!0),t=e?this.matrix:this.worldMatrix;const{width:a,height:c}=Bn.Measure(this),h=(this._linewidth||0)/2;switch(this.alignment){case"left":n=-h,i=a+h;break;case"right":n=-(a+h),i=h;break;default:n=-(a/2+h),i=a/2+h}switch(this.baseline){case"middle":o=-(c/2+h),l=c/2+h;break;default:o=-(c+h),l=h}const[d,g]=t.multiply(n,o),[m,v]=t.multiply(n,l),[y,w]=t.multiply(i,o),[k,S]=t.multiply(i,l);return o=jy(g,v,w,S),n=jy(d,m,y,k),i=Dy(d,m,y,k),l=Dy(g,v,w,S),{top:o,left:n,right:i,bottom:l,width:i-n,height:l-o}}flagReset(){return super.flagReset.call(this),this._flagValue=this._flagFamily=this._flagSize=this._flagLeading=this._flagAlignment=this._flagFill=this._flagStroke=this._flagLinewidth=this._flagOpacity=this._flagVisible=this._flagClip=this._flagDecoration=this._flagClassName=this._flagBaseline=this._flagWeight=this._flagStyle=this._flagDirection=!1,this}},or=Bn;T(or,"Ratio",.6);T(or,"Properties",["value","family","size","leading","alignment","linewidth","style","weight","decoration","direction","baseline","opacity","visible","fill","stroke","dashes"]);var zy={value:{enumerable:!0,get:function(){return this._value},set:function(e){this._value=e,this._flagValue=!0}},family:{enumerable:!0,get:function(){return this._family},set:function(e){this._family=e,this._flagFamily=!0}},size:{enumerable:!0,get:function(){return this._size},set:function(e){this._size=e,this._flagSize=!0}},leading:{enumerable:!0,get:function(){return this._leading},set:function(e){this._leading=e,this._flagLeading=!0}},alignment:{enumerable:!0,get:function(){return this._alignment},set:function(e){this._alignment=e,this._flagAlignment=!0}},linewidth:{enumerable:!0,get:function(){return this._linewidth},set:function(e){this._linewidth=e,this._flagLinewidth=!0}},style:{enumerable:!0,get:function(){return this._style},set:function(e){this._style=e,this._flagStyle=!0}},weight:{enumerable:!0,get:function(){return this._weight},set:function(e){this._weight=e,this._flagWeight=!0}},decoration:{enumerable:!0,get:function(){return this._decoration},set:function(e){this._decoration=e,this._flagDecoration=!0}},direction:{enumerable:!0,get:function(){return this._direction},set:function(e){this._direction=e,this._flagDirection=!0}},baseline:{enumerable:!0,get:function(){return this._baseline},set:function(e){this._baseline=e,this._flagBaseline=!0}},opacity:{enumerable:!0,get:function(){return this._opacity},set:function(e){this._opacity=e,this._flagOpacity=!0}},visible:{enumerable:!0,get:function(){return this._visible},set:function(e){this._visible=e,this._flagVisible=!0}},fill:{enumerable:!0,get:function(){return this._fill},set:function(e){(this._fill instanceof _t||this._fill instanceof Je||this._fill instanceof et||this._fill instanceof ze)&&this._fill.unbind(J.Types.change,this._renderer.flagFill),this._fill=e,this._flagFill=!0,(this._fill instanceof _t||this._fill instanceof Je||this._fill instanceof et||this._fill instanceof ze)&&this._fill.bind(J.Types.change,this._renderer.flagFill)}},stroke:{enumerable:!0,get:function(){return this._stroke},set:function(e){(this._stroke instanceof _t||this._stroke instanceof Je||this._stroke instanceof et||this._stroke instanceof ze)&&this._stroke.unbind(J.Types.change,this._renderer.flagStroke),this._stroke=e,this._flagStroke=!0,(this._stroke instanceof _t||this._stroke instanceof Je||this._stroke instanceof et||this._stroke instanceof ze)&&this._stroke.bind(J.Types.change,this._renderer.flagStroke)}},mask:{enumerable:!0,get:function(){return this._mask},set:function(e){this._mask=e,this._flagMask=!0,Se.isObject(e)&&!e.clip&&(e.clip=!0)}},clip:{enumerable:!0,get:function(){return this._clip},set:function(e){this._clip=e,this._flagClip=!0}},dashes:{enumerable:!0,get:function(){return this._dashes},set:function(e){typeof e.offset!="number"&&(e.offset=this.dashes&&this._dashes.offset||0),this._dashes=e}}};function Hb(){this._flagFill=!0}function Wb(){this._flagStroke=!0}var ku=Math.min,bu=Math.max,Co=class extends zr{constructor(e){super(),T(this,"_flagAdditions",!1),T(this,"_flagSubtractions",!1),T(this,"_flagOrder",!1),T(this,"_flagOpacity",!0),T(this,"_flagBeginning",!1),T(this,"_flagEnding",!1),T(this,"_flagLength",!1),T(this,"_flagMask",!1),T(this,"_fill","#fff"),T(this,"_stroke","#000"),T(this,"_linewidth",1),T(this,"_opacity",1),T(this,"_visible",!0),T(this,"_cap","round"),T(this,"_join","round"),T(this,"_miter",4),T(this,"_closed",!0),T(this,"_curved",!1),T(this,"_automatic",!0),T(this,"_beginning",0),T(this,"_ending",1),T(this,"_length",0),T(this,"_mask",null);for(let t in By)Object.defineProperty(this,t,By[t]);this._renderer.type="group",this.additions=[],this.subtractions=[],this.children=Array.isArray(e)?e:Array.prototype.slice.call(arguments)}static InsertChildren(e){for(let t=0;t<e.length;t++)$y.call(this,e[t],this)}static RemoveChildren(e){for(let t=0;t<e.length;t++)$y.call(this,e[t])}static OrderChildren(e){this._flagOrder=!0}static fromObject(e){const t=new Co;for(let i=0;i<Co.Properties.length;i++){const o=Co.Properties[i];o in e&&(/(fill|stroke)/i.test(o)?t[o]=typeof e[o]=="string"?e[o]:Fs(e[o]):t[o]=e[o])}return"mask"in e&&(t.mask=n(e.mask)),"id"in e&&(t.id=e.id),t.children=e.children.map(n),t;function n(i){if(i&&i.renderer)switch(i.renderer.type){case"arc-segment":return _c.fromObject(i);case"circle":return Jl.fromObject(i);case"ellipse":return ea.fromObject(i);case"points":return vc.fromObject(i);case"polygon":return xc.fromObject(i);case"rectangle":return Ji.fromObject(i);case"rounded-rectangle":return ta.fromObject(i);case"star":return wc.fromObject(i);case"path":return Ne.fromObject(i);case"text":return or.fromObject(i);case"group":return Co.fromObject(i);case"shape":return zr.fromObject(i);case"element":return Do.fromObject(i)}return i}}copy(e){return super.copy.call(this,e),console.warn("Two.Group.copy is not supported yet."),this}clone(e){const t=new Co,n=this.children.map(function(i){return i.clone()});return t.add(n),t.opacity=this.opacity,this.mask&&(t.mask=this.mask),t.translation.copy(this.translation),t.rotation=this.rotation,t.scale=this.scale,t.className=this.className,this.matrix.manual&&t.matrix.copy(this.matrix),e&&e.add(t),t._update()}toObject(){const e=super.toObject.call(this);return e.renderer.type="group",e.children=[],e.opacity=this.opacity,e.className=this.className,e.mask=this.mask?this.mask.toObject():null,Se.each(this.children,(t,n)=>{e.children[n]=t.toObject()},this),e}corner(){const e=this.getBoundingClientRect(!0);for(let t=0;t<this.children.length;t++){const n=this.children[t];n.translation.x-=e.left,n.translation.y-=e.top}return this.mask&&(this.mask.translation.x-=e.left,this.mask.translation.y-=e.top),this}center(){const e=this.getBoundingClientRect(!0),t=e.left+e.width/2-this.translation.x,n=e.top+e.height/2-this.translation.y;for(let i=0;i<this.children.length;i++){const o=this.children[i];o.isShape&&(o.translation.x-=t,o.translation.y-=n)}return this.mask&&(this.mask.translation.x-=t,this.mask.translation.y-=n),this}getById(e){let t=null;function n(i){if(i.id===e)return i;if(i.children){for(let o=0;o<i.children.length;o++)if(t=n(i.children[o]),t)return t}return null}return n(this)}getByClassName(e){const t=[];function n(i){if(Array.prototype.indexOf.call(i.classList,e)>=0&&t.push(i),i.children)for(let o=0;o<i.children.length;o++){const l=i.children[o];n(l)}return t}return n(this)}getByType(e){const t=[];function n(i){if(i instanceof e&&t.push(i),i.children)for(let o=0;o<i.children.length;o++){const l=i.children[o];n(l)}return t}return n(this)}add(e){e instanceof Array?e=e.slice():e=Array.prototype.slice.call(arguments);for(let t=0;t<e.length;t++){const n=e[t];if(!(n&&n.id))continue;const i=Array.prototype.indexOf.call(this.children,n);i>=0&&this.children.splice(i,1),this.children.push(n)}return this}remove(e){const t=arguments.length,n=this.parent;if(t<=0&&n)return n.remove(this),this;e instanceof Array?e=e.slice():e=Array.prototype.slice.call(arguments);for(let i=0;i<e.length;i++){const o=e[i];if(!o||!this.children.ids[o.id])continue;const l=this.children.indexOf(o);l>=0&&this.children.splice(l,1)}return this}getBoundingClientRect(e){let t,n,i,o,l,a;this._update(!0);let c=1/0,h=-1/0,d=1/0,g=-1/0;const m=/texture|gradient/i;n=e?this.matrix:this.worldMatrix;for(let v=0;v<this.children.length;v++){const y=this.children[v];if(!(!y.visible||m.test(y._renderer.type))&&(t=y.getBoundingClientRect(e),i=typeof t.top!="number"||Se.isNaN(t.top)||!isFinite(t.top),o=typeof t.left!="number"||Se.isNaN(t.left)||!isFinite(t.left),l=typeof t.right!="number"||Se.isNaN(t.right)||!isFinite(t.right),a=typeof t.bottom!="number"||Se.isNaN(t.bottom)||!isFinite(t.bottom),!(i||o||l||a)))if(e){const[w,k]=n.multiply(t.left,t.top),[S,b]=n.multiply(t.right,t.top),[x,C]=n.multiply(t.left,t.bottom),[M,A]=n.multiply(t.right,t.bottom);d=ku(k,b,C,A),c=ku(w,S,x,M),h=bu(w,S,x,M),g=bu(k,b,C,A)}else d=ku(t.top,d),c=ku(t.left,c),h=bu(t.right,h),g=bu(t.bottom,g)}return{top:d,left:c,right:h,bottom:g,width:h-c,height:g-d}}noFill(){return this.children.forEach(function(e){e.noFill()}),this}noStroke(){return this.children.forEach(function(e){e.noStroke()}),this}subdivide(){const e=arguments;return this.children.forEach(function(t){t.subdivide.apply(t,e)}),this}_update(){let e,t,n;if(this._flagBeginning||this._flagEnding){const i=Math.min(this._beginning,this._ending),o=Math.max(this._beginning,this._ending),l=this.length;let a=0;const c=i*l,h=o*l;for(e=0;e<this.children.length;e++)n=this.children[e],t=n.length,c>a+t?(n.beginning=1,n.ending=1):h<a?(n.beginning=0,n.ending=0):c>a&&c<a+t?(n.beginning=(c-a)/t,n.ending=1):h>a&&h<a+t?(n.beginning=0,n.ending=(h-a)/t):(n.beginning=0,n.ending=1),a+=t}return super._update.apply(this,arguments)}flagReset(){return this._flagAdditions&&(this.additions.length=0,this._flagAdditions=!1),this._flagSubtractions&&(this.subtractions.length=0,this._flagSubtractions=!1),this._flagOrder=this._flagMask=this._flagOpacity=this._flagBeginning=this._flagEnding=!1,super.flagReset.call(this),this}},wt=Co;T(wt,"Children",Rv);T(wt,"Properties",["fill","stroke","linewidth","cap","join","miter","closed","curved","automatic"]);var By={visible:{enumerable:!0,get:function(){return this._visible},set:function(e){this._flagVisible=this._visible!==e||this._flagVisible,this._visible=e}},opacity:{enumerable:!0,get:function(){return this._opacity},set:function(e){this._flagOpacity=this._opacity!==e||this._flagOpacity,this._opacity=e}},beginning:{enumerable:!0,get:function(){return this._beginning},set:function(e){this._flagBeginning=this._beginning!==e||this._flagBeginning,this._beginning=e}},ending:{enumerable:!0,get:function(){return this._ending},set:function(e){this._flagEnding=this._ending!==e||this._flagEnding,this._ending=e}},length:{enumerable:!0,get:function(){if(this._flagLength||this._length<=0){if(this._length=0,!this.children)return this._length;for(let e=0;e<this.children.length;e++){const t=this.children[e];this._length+=t.length}}return this._length}},fill:{enumerable:!0,get:function(){return this._fill},set:function(e){this._fill=e;for(let t=0;t<this.children.length;t++){const n=this.children[t];n.fill=e}}},stroke:{enumerable:!0,get:function(){return this._stroke},set:function(e){this._stroke=e;for(let t=0;t<this.children.length;t++){const n=this.children[t];n.stroke=e}}},linewidth:{enumerable:!0,get:function(){return this._linewidth},set:function(e){this._linewidth=e;for(let t=0;t<this.children.length;t++){const n=this.children[t];n.linewidth=e}}},join:{enumerable:!0,get:function(){return this._join},set:function(e){this._join=e;for(let t=0;t<this.children.length;t++){const n=this.children[t];n.join=e}}},miter:{enumerable:!0,get:function(){return this._miter},set:function(e){this._miter=e;for(let t=0;t<this.children.length;t++){const n=this.children[t];n.miter=e}}},cap:{enumerable:!0,get:function(){return this._cap},set:function(e){this._cap=e;for(let t=0;t<this.children.length;t++){const n=this.children[t];n.cap=e}}},closed:{enumerable:!0,get:function(){return this._closed},set:function(e){this._closed=e;for(let t=0;t<this.children.length;t++){const n=this.children[t];n.closed=e}}},curved:{enumerable:!0,get:function(){return this._curved},set:function(e){this._curved=e;for(let t=0;t<this.children.length;t++){const n=this.children[t];n.curved=e}}},automatic:{enumerable:!0,get:function(){return this._automatic},set:function(e){this._automatic=e;for(let t=0;t<this.children.length;t++){const n=this.children[t];n.automatic=e}}},children:{enumerable:!0,get:function(){return this._children},set:function(e){const t=wt.InsertChildren.bind(this),n=wt.RemoveChildren.bind(this),i=wt.OrderChildren.bind(this);this._children&&(this._children.unbind(),this._children.length>0&&n(this._children)),this._children=new Rv(e),this._children.bind(J.Types.insert,t),this._children.bind(J.Types.remove,n),this._children.bind(J.Types.order,i),e.length>0&&t(e)}},mask:{enumerable:!0,get:function(){return this._mask},set:function(e){this._mask=e,this._flagMask=!0,Se.isObject(e)&&!e.clip&&(e.clip=!0)}}};function $y(e,t){const n=e.parent;let i;if(n===t){o();return}if(n&&n.children.ids[e.id]&&(i=Array.prototype.indexOf.call(n.children,e),n.children.splice(i,1),l()),t){o();return}l(),n._flagAdditions&&n.additions.length===0&&(n._flagAdditions=!1),n._flagSubtractions&&n.subtractions.length===0&&(n._flagSubtractions=!1),delete e.parent;function o(){t.subtractions.length>0&&(i=Array.prototype.indexOf.call(t.subtractions,e),i>=0&&t.subtractions.splice(i,1)),t.additions.length>0&&(i=Array.prototype.indexOf.call(t.additions,e),i>=0&&t.additions.splice(i,1)),e.parent=t,t.additions.push(e),t._flagAdditions=!0}function l(){i=Array.prototype.indexOf.call(n.additions,e),i>=0&&n.additions.splice(i,1),i=Array.prototype.indexOf.call(n.subtractions,e),i<0&&(n.subtractions.push(e),n._flagSubtractions=!0)}}var Hd=class extends Ne{constructor(e,t,n,i){const o=[new Le(e,t),new Le(n,i)];super(o);for(let l in Uy)Object.defineProperty(this,l,Uy[l]);this.vertices[0].command=de.move,this.vertices[1].command=de.line,this.automatic=!1}},Uy={left:{enumerable:!0,get:function(){return this.vertices[0]},set:function(e){if(Se.isObject(e))this.vertices.splice(0,1,e);else{const t=new Hn("Two.Line.x argument is not an object.");console.warn(t.name,t.message)}}},right:{enumerable:!0,get:function(){return this.vertices[1]},set:function(e){if(Se.isObject(e))this.vertices.splice(1,1,e);else{const t=new Hn("Two.Line.y argument is not an object.");console.warn(t.name,t.message)}}}},Ir={path:/[+-]?(?:\d*\.\d+|\d+)(?:[eE][+-]\d+)?/g,cssBackgroundImage:/url\(['"]?#([\w\d-_]*)['"]?\)/i,unitSuffix:/[a-zA-Z%]*/i},Yb={start:"left",middle:"center",end:"right"},Vy=["id","class","transform","xmlns","viewBox"],Xb=["x","y","width","height","href","xlink:href"];function Kb(e){return Yb[e]}function qb(e){const t=e.getAttribute("dominant-baseline"),n=e.getAttribute("alignment-baseline");return t||n}function Xl(e){return e.replace(/svg:/gi,"").toLowerCase()}function Hy(e,t){if(t.x+=e.translateX,t.y+=e.translateY,t.x*=e.scaleX,t.y*=e.scaleY,e.rotation!==0){const n=t.length();t.x=n*Math.cos(e.rotation),t.y=n*Math.sin(e.rotation)}}function Gb(e,t){t||(t={});const n=e.split(";");for(let i=0;i<n.length;i++){const o=n[i].split(":"),l=o[0],a=o[1];typeof l>"u"||typeof a>"u"||(t[l]=a.replace(/\s/,""))}return t}function Qb(e){const t={},n=Zb(e),i=Math.max(n.length,e.style.length);for(let o=0;o<i;o++){const l=e.style[o],a=n[o];l&&(t[l]=e.style[l]),a&&(t[a]=e.getAttribute(a))}return t}function Zb(e){const t=e.getAttributeNames();for(let n=0;n<Vy.length;n++){const i=Vy[n],o=Array.prototype.indexOf.call(t,i);o>=0&&t.splice(o,1)}return t}function Jb(e,t){const n=t.split(/[\s,]/),i=-parseFloat(n[0]),o=-parseFloat(n[1]),l=parseFloat(n[2]),a=parseFloat(n[3]);if(i&&o)for(let m=0;m<e.children.length;m++){const v=e.children[m];"translation"in v?v.translation.add(i,o):"x"in v?v.x=i:"y"in v&&(v.y=o)}const c=typeof e.x=="number",h=typeof e.y=="number",d=typeof e.width=="number",g=typeof e.height=="number";return c&&(e.translation.x+=e.x),h&&(e.translation.y+=e.y),(d||g)&&(e.scale=new ce(1,1)),d&&(e.scale.x=e.width/l),g&&(e.scale.y=e.height/a),e.mask=new Ji(0,0,l,a),e.mask.origin.set(-l/2,-a/2),e}function ir(e,t,n){const i={},o={},l={};let a,c,h,d,g,m,v,y,w,k,S,b,x,C,M,A,N;if(e===null)return i;if(ut.getComputedStyle){const j=ut.getComputedStyle(e);for(a=j.length;a--;)h=j[a],d=j[h],typeof d<"u"&&(i[h]=d)}for(a=0;a<e.attributes.length;a++)m=e.attributes[a],/style/i.test(m.nodeName)?Gb(m.value,l):o[m.nodeName]=m.value;typeof i.opacity<"u"&&(i["stroke-opacity"]=i.opacity,i["fill-opacity"]=i.opacity,delete i.opacity),n&&Se.defaults(i,n),Se.extend(i,l,o),i.visible=!(typeof i.display>"u"&&/none/i.test(i.display))||typeof i.visibility>"u"&&/hidden/i.test(i.visibility);for(h in i)switch(d=i[h],h){case"gradientTransform":if(/none/i.test(d)||(c=e.gradientTransform&&e.gradientTransform.baseVal&&e.gradientTransform.baseVal.length>0?e.gradientTransform.baseVal[0].matrix:e.getCTM?e.getCTM():null,c===null))break;switch(v=Fo(c),t._renderer.type){case"linear-gradient":Hy(v,t.left),Hy(v,t.right);break;case"radial-gradient":t.center.x+=v.translateX,t.center.y+=v.translateY,t.focal.x+=v.translateX,t.focal.y+=v.translateY,t.radius*=Math.max(v.scaleX,v.scaleY);break}break;case"transform":if(/none/i.test(d)||(c=e.transform&&e.transform.baseVal&&e.transform.baseVal.length>0?e.transform.baseVal[0].matrix:e.getCTM?e.getCTM():null,c===null))break;v=Fo(c),t.translation.set(v.translateX,v.translateY),t.rotation=Math.PI*(v.rotation/180),t.scale=new ce(v.scaleX,v.scaleY),y=parseFloat((i.x+"").replace("px")),w=parseFloat((i.y+"").replace("px")),y&&(t.translation.x=y),w&&(t.translation.y=w);break;case"visible":if(t instanceof wt){t._visible=d;break}t.visible=d;break;case"stroke-linecap":if(t instanceof wt){t._cap=d;break}t.cap=d;break;case"stroke-linejoin":if(t instanceof wt){t._join=d;break}t.join=d;break;case"stroke-miterlimit":if(t instanceof wt){t._miter=d;break}t.miter=d;break;case"stroke-width":if(t instanceof wt){t._linewidth=parseFloat(d);break}t.linewidth=parseFloat(d);break;case"opacity":case"stroke-opacity":case"fill-opacity":if(t instanceof wt){t._opacity=parseFloat(d);break}t.opacity=parseFloat(d);break;case"clip-path":if(Ir.cssBackgroundImage.test(d)&&(k=d.replace(Ir.cssBackgroundImage,"$1"),nt.defs.current&&nt.defs.current.contains(k)&&(b=nt.defs.current.get(k),b&&b.childNodes.length>0)))switch(b=b.childNodes[0],x=Xl(b.nodeName),t.mask=nt[x].call(this,b,{}),t._renderer.type){case"text":case"path":t.position.add(t.mask.position),t.mask.position.clear();break}break;case"fill":case"stroke":g=(t instanceof wt?"_":"")+h,Ir.cssBackgroundImage.test(d)?(k=d.replace(Ir.cssBackgroundImage,"$1"),nt.defs.current&&nt.defs.current.contains(k)?(b=nt.defs.current.get(k),b.object||(x=Xl(b.nodeName),b.object=nt[x].call(this,b,{})),b=b.object):(S=tS(this),b=S.getById(k)),t[g]=b):t[g]=d;break;case"id":t.id=d;break;case"class":case"className":t.classList=d.split(" "),t._flagClassName=!0;break;case"x":case"y":if(C=t instanceof _t,M=t instanceof Je,A=t instanceof et,C||M||A)break;d.match("[a-z%]$")&&!d.endsWith("px")&&(N=new Hn("only pixel values are supported with the "+h+" attribute."),console.warn(N.name,N.message)),t.translation[h]=parseFloat(d);break;case"font-family":t instanceof or&&(t.family=d);break;case"font-size":t instanceof or&&(t.size=d);break;case"font-weight":t instanceof or&&(t.weight=d);break;case"font-style":t instanceof or&&(t.style=d);break;case"text-decoration":t instanceof or&&(t.decoration=d);break;case"line-height":t instanceof or&&(t.leading=d);break}return Object.keys(e.dataset).length&&(t.dataset=e.dataset),i}function eS(e,t){for(let n=0,i=e.childNodes.length;n<i;n++){const o=e.childNodes[n];!o.id||Xl(e.nodeName)==="#text"||t.add(o.id,o)}}function tS(e){for(;e.parent;)e=e.parent;return e.scene}var nt={svg:function(e){const t=nt.defs.current=new mc,n=e.getElementsByTagName("defs");for(let w=0;w<n.length;w++)eS(n[w],t);const i=nt.g.call(this,e),o=e.getAttribute("viewBox"),l=e.getAttribute("x"),a=e.getAttribute("y"),c=e.getAttribute("width"),h=e.getAttribute("height");i.defs=t;const d=o!==null,g=l!==null,m=a!==null,v=c!==null,y=h!==null;return g&&(i.x=parseFloat(l.replace(Ir.unitSuffix,""))),m&&(i.y=parseFloat(a.replace(Ir.unitSuffix,""))),v&&(i.width=parseFloat(c.replace(Ir.unitSuffix,""))),y&&(i.height=parseFloat(h.replace(Ir.unitSuffix,""))),d&&Jb(i,o),delete nt.defs.current,i},defs:function(e){return null},use:function(e,t){let n;const i=e.getAttribute("href")||e.getAttribute("xlink:href");if(!i)return n=new Hn("encountered <use /> with no href."),console.warn(n.name,n.message),null;const o=i.slice(1);if(!nt.defs.current.contains(o))return n=new Hn("unable to find element for reference "+i+"."),console.warn(n.name,n.message),null;const a=nt.defs.current.get(o).cloneNode(!0);for(let h=0;h<e.attributes.length;h++){const d=e.attributes[h],g=Xb.includes(d.nodeName),m=!a.hasAttribute(d.nodeName);(g||m)&&a.setAttribute(d.nodeName,d.value)}const c=Xl(a.nodeName);return nt[c].call(this,a,t)},g:function(e,t){const n=new wt;ir.call(this,e,n,t),this.add(n);const i=Qb.call(this,e);for(let o=0,l=e.childNodes.length;o<l;o++){const a=e.childNodes[o],c=a.nodeName;if(!c)return;const h=Xl(c);if(h in nt){const d=nt[h].call(n,a,i);d&&!d.parent&&n.add(d)}}return n},polygon:function(e,t){let n;typeof e=="string"?n=e:n=e.getAttribute("points");const i=[];n.replace(/(-?[\d.eE-]+)[,|\s](-?[\d.eE-]+)/g,function(l,a,c){i.push(new Le(parseFloat(a),parseFloat(c)))});const o=new Ne(i,!0);return o.stroke="none",o.fill="black",ir.call(this,e,o,t),o},polyline:function(e,t){const n=nt.polygon.call(this,e,t);return n.closed=!1,n},path:function(e,t){let n;typeof e=="string"?(n=e,e=null):n=e.getAttribute("d");let i=[],o=!1,l=!1;if(n){let c=new Le,h,d,g=n.match(/[a-df-z][^a-df-z]*/gi);const m=g.length-1;Se.each(g.slice(0),function(v,y){const w=v.slice(1).trim().match(Ir.path),k=v[0],S=k.toLowerCase();let b,x,C,M,A;const N=[];switch(y===0&&(g=[]),S){case"h":case"v":w.length>1&&(b=1);break;case"m":case"l":case"t":w.length>2&&(b=2);break;case"s":case"q":w.length>4&&(b=4);break;case"c":w.length>6&&(b=6);break;case"a":w.length>7&&(b=7);break}if(b){for(x=0,C=w.length,A=0;x<C;x+=b){if(M=k,A>0)switch(k){case"m":M="l";break;case"M":M="L";break}N.push(M+w.slice(x,x+b).join(" ")),A++}g=Array.prototype.concat.apply(g,N)}else g.push(v)}),Se.each(g,function(v,y){let w,k,S;const b=v[0],x=b.toLowerCase();d=v.slice(1).trim().match(Ir.path),l=b===x;let C,M,A,N,j,X,z,W,K,q,ae,te,re,ue,Z,D,$;switch(x){case"z":if(y>=m)o=!0;else{k=c.x,S=c.y,w=new Le(k,S,void 0,void 0,void 0,void 0,de.close);for(let G=i.length-1;G>=0;G--){const L=i[G];if(/m/i.test(L.command)){c=L;break}}}break;case"m":case"l":h=void 0,k=parseFloat(d[0]),S=parseFloat(d[1]),w=new Le(k,S,void 0,void 0,void 0,void 0,/m/i.test(x)?de.move:de.line),l&&w.addSelf(c),c=w;break;case"h":case"v":q=/h/i.test(x)?"x":"y",ae=/x/i.test(q)?"y":"x",w=new Le(void 0,void 0,void 0,void 0,void 0,void 0,de.line),w[q]=parseFloat(d[0]),w[ae]=c[ae],l&&(w[q]+=c[q]),c=w;break;case"c":case"s":C=c.x,M=c.y,h||(h=new ce),/c/i.test(x)?(A=parseFloat(d[0]),N=parseFloat(d[1]),j=parseFloat(d[2]),X=parseFloat(d[3]),z=parseFloat(d[4]),W=parseFloat(d[5])):(K=od(c,h,l),A=K.x,N=K.y,j=parseFloat(d[0]),X=parseFloat(d[1]),z=parseFloat(d[2]),W=parseFloat(d[3])),l&&(A+=C,N+=M,j+=C,X+=M,z+=C,W+=M),c.controls.right.set(A-c.x,N-c.y),w=new Le(z,W,j-z,X-W,void 0,void 0,de.curve),c=w,h=w.controls.left;break;case"t":case"q":C=c.x,M=c.y,h||(h=new ce),/q/i.test(x)?(A=parseFloat(d[0]),N=parseFloat(d[1]),j=parseFloat(d[0]),X=parseFloat(d[1]),z=parseFloat(d[2]),W=parseFloat(d[3])):(K=od(c,h,l),A=K.x,N=K.y,j=K.x,X=K.y,z=parseFloat(d[0]),W=parseFloat(d[1])),l&&(A+=C,N+=M,j+=C,X+=M,z+=C,W+=M),c.controls.right.set((A-c.x)*.33,(N-c.y)*.33),w=new Le(z,W,j-z,X-W,void 0,void 0,de.curve),c=w,h=w.controls.left;break;case"a":C=c.x,M=c.y,re=parseFloat(d[0]),ue=parseFloat(d[1]),Z=parseFloat(d[2]),D=parseFloat(d[3]),$=parseFloat(d[4]),z=parseFloat(d[5]),W=parseFloat(d[6]),l&&(z+=C,W+=M),te=new Le(z,W),te.command=de.arc,te.rx=re,te.ry=ue,te.xAxisRotation=Z,te.largeArcFlag=D,te.sweepFlag=$,w=te,c=te,h=void 0;break}w&&(Array.isArray(w)?i=i.concat(w):i.push(w))})}n=new Ne(i,o,void 0,!0),n.stroke="none",n.fill="black";const a=n.getBoundingClientRect(!0);return a.centroid={x:a.left+a.width/2,y:a.top+a.height/2},Se.each(n.vertices,function(c){c.subSelf(a.centroid)}),ir.call(this,e,n,t),n.translation.addSelf(a.centroid),n},circle:function(e,t){const n=parseFloat(e.getAttribute("cx")),i=parseFloat(e.getAttribute("cy")),o=parseFloat(e.getAttribute("r")),l=new Jl(0,0,o);return l.stroke="none",l.fill="black",ir.call(this,e,l,t),l.translation.x=n,l.translation.y=i,l},ellipse:function(e,t){const n=parseFloat(e.getAttribute("cx")),i=parseFloat(e.getAttribute("cy")),o=parseFloat(e.getAttribute("rx")),l=parseFloat(e.getAttribute("ry")),a=new ea(0,0,o,l);return a.stroke="none",a.fill="black",ir.call(this,e,a,t),a.translation.x=n,a.translation.y=i,a},rect:function(e,t){const n=parseFloat(e.getAttribute("rx")),i=parseFloat(e.getAttribute("ry"));if(!Se.isNaN(n)||!Se.isNaN(i))return nt["rounded-rect"](e);const o=parseFloat(e.getAttribute("width")),l=parseFloat(e.getAttribute("height")),a=o/2,c=l/2,h=new Ji(0,0,o,l);return h.stroke="none",h.fill="black",ir.call(this,e,h,t),h.translation.x+=a,h.translation.y+=c,h},"rounded-rect":function(e,t){const n=parseFloat(e.getAttribute("rx"))||0,i=parseFloat(e.getAttribute("ry"))||0,o=parseFloat(e.getAttribute("width")),l=parseFloat(e.getAttribute("height")),a=o/2,c=l/2,h=new ce(n,i),d=new ta(0,0,o,l,h);return d.stroke="none",d.fill="black",ir.call(this,e,d,t),d.translation.x+=a,d.translation.y+=c,d},line:function(e,t){const n=parseFloat(e.getAttribute("x1")),i=parseFloat(e.getAttribute("y1")),o=parseFloat(e.getAttribute("x2")),l=parseFloat(e.getAttribute("y2")),a=new Hd(n,i,o,l).noFill();return ir.call(this,e,a,t),a},lineargradient:function(e,t){let n=e.getAttribute("gradientUnits"),i=e.getAttribute("spreadMethod");n||(n="objectBoundingBox"),i||(i="pad");let o=parseFloat(e.getAttribute("x1")||0),l=parseFloat(e.getAttribute("y1")||0),a=parseFloat(e.getAttribute("x2")||0),c=parseFloat(e.getAttribute("y2")||0);const h=(a+o)/2,d=(c+l)/2;/userSpaceOnUse/i.test(n)&&(o-=h,l-=d,a-=h,c-=d);const g=[];for(let v=0;v<e.children.length;v++){const y=e.children[v];let w=y.getAttribute("offset");/%/gi.test(w)&&(w=parseFloat(w.replace(/%/gi,""))/100),w=parseFloat(w);let k=y.getAttribute("stop-color"),S=y.getAttribute("stop-opacity"),b=y.getAttribute("style"),x;k===null&&(x=b?b.match(/stop-color:\s?([#a-fA-F0-9]*)/):!1,k=x&&x.length>1?x[1]:void 0),S===null?(x=b?b.match(/stop-opacity:\s?([0-9.-]*)/):!1,S=x&&x.length>1?parseFloat(x[1]):1):S=parseFloat(S),g.push(new Ur(w,k,S))}const m=new Je(o,l,a,c,g);return m.spread=i,m.units=n,ir.call(this,e,m,t),m},radialgradient:function(e,t){let n=e.getAttribute("gradientUnits"),i=e.getAttribute("spreadMethod");n||(n="objectBoundingBox"),i||(i="pad");let o=parseFloat(e.getAttribute("cx"))||0,l=parseFloat(e.getAttribute("cy"))||0,a=parseFloat(e.getAttribute("r")),c=parseFloat(e.getAttribute("fx")),h=parseFloat(e.getAttribute("fy"));Se.isNaN(c)&&(c=o),Se.isNaN(h)&&(h=l);const d=Math.abs(o+c)/2,g=Math.abs(l+h)/2;/userSpaceOnUse/i.test(n)&&(o-=d,l-=g,c-=d,h-=g);const m=[];for(let y=0;y<e.children.length;y++){const w=e.children[y];let k=w.getAttribute("offset");/%/gi.test(k)&&(k=parseFloat(k.replace(/%/gi,""))/100),k=parseFloat(k);let S=w.getAttribute("stop-color"),b=w.getAttribute("stop-opacity"),x=w.getAttribute("style"),C;S===null&&(C=x?x.match(/stop-color:\s?([#a-fA-F0-9]*)/):!1,S=C&&C.length>1?C[1]:void 0),b===null?(C=x?x.match(/stop-opacity:\s?([0-9.-]*)/):!1,b=C&&C.length>1?parseFloat(C[1]):1):b=parseFloat(b),m.push(new Ur(k,S,b))}const v=new et(o,l,a,m,c,h);return v.spread=i,v.units=n,ir.call(this,e,v,t),v},text:function(e,t){const n=Kb(e.getAttribute("text-anchor"))||"left",i=qb(e)||"baseline",o=e.textContent,l=new or(o);return ir.call(this,e,l,t),l.alignment=n,l.baseline=i,l},clippath:function(e,t){return nt.defs.current&&!nt.defs.current.contains(e.id)&&nt.defs.current.add(e.id,e),null},image:function(e,t){let n;const i=e.getAttribute("href")||e.getAttribute("xlink:href");if(!i)return n=new Hn("encountered <image /> with no href."),console.warn(n.name,n.message),null;const o=parseFloat(e.getAttribute("x"))||0,l=parseFloat(e.getAttribute("y"))||0,a=parseFloat(e.getAttribute("width")),c=parseFloat(e.getAttribute("height")),h=new yc(i,o,l);return Se.isNaN(a)||(h.width=a),Se.isNaN(c)||(h.height=c),ir.call(this,e,h,t),h}};function Tv(e,t){const n=new XMLHttpRequest;return n.open("GET",e),n.onreadystatechange=function(){n.readyState===4&&n.status===200&&t(n.responseText)},n.send(),n}var Ro=class extends Ji{constructor(e,t,n,i){super(t,n,0,0),T(this,"_flagTextures",!1),T(this,"_flagFrameRate",!1),T(this,"_flagIndex",!1),T(this,"_amount",1),T(this,"_duration",0),T(this,"_index",0),T(this,"_startTime",0),T(this,"_playing",!1),T(this,"_firstFrame",0),T(this,"_lastFrame",0),T(this,"_loop",!0),T(this,"_textures",null),T(this,"_frameRate",0),T(this,"_origin",null);for(let o in Wy)Object.defineProperty(this,o,Wy[o]);this._renderer.flagTextures=nS.bind(this),this._renderer.bindTextures=rS.bind(this),this._renderer.unbindTextures=iS.bind(this),this.noStroke(),this.noFill(),Array.isArray(e)?this.textures=e.map(Yy.bind(this)):this.textures=[Yy(e)],this.origin=new ce,this._update(),typeof i=="number"?this.frameRate=i:this.frameRate=Ro.DefaultFrameRate,this.index=0}static fromObject(e){const t=new Ro().copy(e);return"id"in e&&(t.id=e.id),t}copy(e){super.copy.call(this,e);for(let t=0;t<Ro.Properties.length;t++){const n=Ro.Properties[t];n in e&&(this[n]=e[n])}return this}play(e,t,n){return this._playing=!0,this._firstFrame=0,this._lastFrame=this.amount-1,this._startTime=Se.performance.now(),typeof e=="number"&&(this._firstFrame=e),typeof t=="number"&&(this._lastFrame=t),typeof n=="function"?this._onLastFrame=n:delete this._onLastFrame,this._index!==this._firstFrame&&(this._startTime-=1e3*Math.abs(this._index-this._firstFrame)/this._frameRate),this}pause(){return this._playing=!1,this}stop(){return this._playing=!1,this._index=this._firstFrame,this}clone(e){const t=new Ro(this.textures,this.translation.x,this.translation.y,this.frameRate);return t._loop=this._loop,this._playing&&t.play(),e&&e.add(t),t}toObject(){const e=super.toObject.call(this);return e.textures=this.textures.map(function(t){return t.toObject()}),e.frameRate=this.frameRate,e.index=this.index,e.firstFrame=this.firstFrame,e.lastFrame=this.lastFrame,e.loop=this.loop,e}_update(){const e=this._textures;let t,n,i,o,l,a,c,h;return e&&(this._flagTextures&&(this._amount=e.length),this._flagFrameRate&&(this._duration=1e3*this._amount/this._frameRate),this._playing&&this._frameRate>0?(o=this._amount,Se.isNaN(this._lastFrame)&&(this._lastFrame=o-1),i=Se.performance.now()-this._startTime,h=this._lastFrame+1,l=1e3*(h-this._firstFrame)/this._frameRate,this._loop?i=i%l:i=Math.min(i,l),c=$n(this._firstFrame,h,i/l),c=Math.floor(c),c!==this._index&&(this._index=c,a=e[this._index],a.loaded&&(t=a.image.width,n=a.image.height,this.width!==t&&(this.width=t),this.height!==n&&(this.height=n),this.fill=a,c>=this._lastFrame-1&&this._onLastFrame&&this._onLastFrame()))):(this._flagIndex||!(this.fill instanceof ze))&&(a=e[this._index],a.loaded&&(t=a.image.width,n=a.image.height,this.width!==t&&(this.width=t),this.height!==n&&(this.height=n)),this.fill=a)),super._update.call(this),this}flagReset(){return this._flagTextures=this._flagFrameRate=!1,super.flagReset.call(this),this}},kc=Ro;T(kc,"Properties",["textures","frameRate","index","firstFrame","lastFrame","loop"]);T(kc,"DefaultFrameRate",30);var Wy={frameRate:{enumerable:!0,get:function(){return this._frameRate},set:function(e){this._frameRate=e,this._flagFrameRate=!0}},index:{enumerable:!0,get:function(){return this._index},set:function(e){this._index=e,this._flagIndex=!0}},textures:{enumerable:!0,get:function(){return this._textures},set:function(e){const t=this._renderer.bindTextures,n=this._renderer.unbindTextures;this._textures&&this._textures.unbind(J.Types.insert,t).unbind(J.Types.remove,n),this._textures=new qi((e||[]).slice(0)),this._textures.bind(J.Types.insert,t).bind(J.Types.remove,n),t(this._textures)}},firstFrame:{enumerable:!0,get:function(){return this._firstFrame},set:function(e){this._firstFrame=e}},lastFrame:{enumerable:!0,get:function(){return this._lastFrame},set:function(e){this._lastFrame=e}},loop:{enumerable:!0,get:function(){return this._loop},set:function(e){this._loop=!!e}}};function nS(){this._flagTextures=!0}function rS(e){let t=e.length;for(;t--;)e[t].bind(J.Types.change,this._renderer.flagTextures);this._renderer.flagTextures()}function iS(e){let t=e.length;for(;t--;)e[t].unbind(J.Types.change,this._renderer.flagTextures);this._renderer.flagTextures()}function Yy(e){if(e instanceof ze)return e;if(typeof e=="string")return new ze(e)}var Oh=[],ud=Math.max,sS=Math.min,Xy=Math.abs,Su=Math.sin,Eu=Math.cos,oS=Math.acos,Gu=Math.sqrt,Ie={isHidden:/(undefined|none|transparent)/i,alignments:{left:"start",middle:"center",right:"end"},baselines:{top:"top",middle:"middle",bottom:"bottom",baseline:"alphabetic"},getRendererType:function(e){return e in Ie?e:"path"},group:{renderChild:function(e){const t=Ie.getRendererType(e._renderer.type);Ie[t].render.call(e,this.ctx,!0,this.clip)},render:function(e){if(!this._visible)return this;this._update();const t=this._matrix.elements,n=this.parent;this._renderer.opacity=this._opacity*(n&&n._renderer?n._renderer.opacity:1);const i=this._mask,o=Cu(t),l=!o||!!i;if(this._renderer.context||(this._renderer.context={}),this._renderer.context.ctx=e,l&&(e.save(),o||e.transform(t[0],t[3],t[1],t[4],t[2],t[5])),i){const a=Ie.getRendererType(i._renderer.type);Ie[a].render.call(i,e,!0)}if(this._opacity>0&&this._scale!==0)for(let a=0;a<this.children.length;a++){const c=this.children[a],h=Ie.getRendererType(c._renderer.type);Ie[h].render.call(c,e)}return l&&e.restore(),this.flagReset()}},path:{render:function(e,t,n){let i,o,l,a,c,h,d,g,m,v,y,w,k,S,b,x,C,M,A,N,j,X,z,W,K,q,ae,te,re,ue,Z,D,$,G;if(G=this.parent&&this.parent._renderer?this.parent._renderer.opacity:1,re=this._mask,ue=this._clip,c=this._opacity*(G||1),h=this._visible,!t&&(!h||ue||c===0))return this;if(this._update(),i=this._matrix.elements,o=this._stroke,l=this._linewidth,a=this._fill,d=this._cap,g=this._join,m=this._miter,v=this._closed,y=this._renderer.vertices,w=y.length,k=w-1,Z=Cu(i),$=this.dashes,Z||(e.save(),e.transform(i[0],i[3],i[1],i[4],i[2],i[5])),re){const ee=Ie.getRendererType(re._renderer.type);Ie[ee].render.call(re,e,!0)}if(a)if(typeof a=="string")e.fillStyle=a;else{const ee=Ie.getRendererType(a._renderer.type);Ie[ee].render.call(a,e,this),e.fillStyle=a._renderer.effect}if(o){if(typeof o=="string")e.strokeStyle=o;else{const ee=Ie.getRendererType(o._renderer.type);Ie[ee].render.call(o,e,this),e.strokeStyle=o._renderer.effect}l&&(e.lineWidth=l),m&&(e.miterLimit=m),g&&(e.lineJoin=g),!v&&d&&(e.lineCap=d)}typeof c=="number"&&(e.globalAlpha=c),$&&$.length>0&&(e.lineDashOffset=$.offset||0,e.setLineDash($)),e.beginPath();let L,Y,we,fe,oe,Q,se;for(let ee=0;ee<w;ee++)switch(x=y[ee],ae=x.x,te=x.y,x.command){case de.close:e.closePath();break;case de.arc:L=x.rx,Y=x.ry,we=x.xAxisRotation,fe=x.largeArcFlag,oe=x.sweepFlag,S=v?Wn(ee-1,w):ud(ee-1,0),b=y[S],Q=b.x,se=b.y,Ie.renderSvgArcCommand(e,Q,se,L,Y,fe,oe,we,ae,te);break;case de.curve:S=v?Wn(ee-1,w):Math.max(ee-1,0),b=y[S],z=b.controls&&b.controls.right||ce.zero,W=x.controls&&x.controls.left||ce.zero,b._relative?(j=z.x+b.x,X=z.y+b.y):(j=z.x,X=z.y),x._relative?(A=W.x+x.x,N=W.y+x.y):(A=W.x,N=W.y),e.bezierCurveTo(j,X,A,N,ae,te),ee>=k&&v&&(C=M,K=x.controls&&x.controls.right||ce.zero,q=C.controls&&C.controls.left||ce.zero,x._relative?(j=K.x+x.x,X=K.y+x.y):(j=K.x,X=K.y),C._relative?(A=q.x+C.x,N=q.y+C.y):(A=q.x,N=q.y),ae=C.x,te=C.y,e.bezierCurveTo(j,X,A,N,ae,te));break;case de.line:e.lineTo(ae,te);break;case de.move:M=x,e.moveTo(ae,te);break}return v&&e.closePath(),!ue&&!n&&(Ie.isHidden.test(a)||(D=a._renderer&&a._renderer.offset,D&&(e.save(),e.translate(-a._renderer.offset.x,-a._renderer.offset.y),e.scale(a._renderer.scale.x,a._renderer.scale.y)),e.fill(),D&&e.restore()),Ie.isHidden.test(o)||(D=o._renderer&&o._renderer.offset,D&&(e.save(),e.translate(-o._renderer.offset.x,-o._renderer.offset.y),e.scale(o._renderer.scale.x,o._renderer.scale.y),e.lineWidth=l/o._renderer.scale.x),e.stroke(),D&&e.restore())),Z||e.restore(),ue&&!n&&e.clip(),$&&$.length>0&&e.setLineDash(Oh),this.flagReset()}},points:{render:function(e,t,n){let i,o,l,a,c,h,d,g,m,v,y,w,k,S,b,x;if(x=this.parent&&this.parent._renderer?this.parent._renderer.opacity:1,c=this._opacity*(x||1),h=this._visible,!t&&(!h||c===0))return this;if(this._update(),i=this._matrix.elements,o=this._stroke,l=this._linewidth,a=this._fill,g=this._renderer.collection,m=g.length,k=Cu(i),b=this.dashes,d=this._size,k||(e.save(),e.transform(i[0],i[3],i[1],i[4],i[2],i[5])),a)if(typeof a=="string")e.fillStyle=a;else{const A=Ie.getRendererType(a._renderer.type);Ie[A].render.call(a,e,this),e.fillStyle=a._renderer.effect}if(o){if(typeof o=="string")e.strokeStyle=o;else{const A=Ie.getRendererType(o._renderer.type);Ie[A].render.call(o,e,this),e.strokeStyle=o._renderer.effect}l&&(e.lineWidth=l)}typeof c=="number"&&(e.globalAlpha=c),b&&b.length>0&&(e.lineDashOffset=b.offset||0,e.setLineDash(b)),e.beginPath();let C=d*.5,M;this._sizeAttenuation||(M=this.worldMatrix.elements,M=Fo(M[0],M[3],M[1],M[4],M[2],M[5]),C/=Math.max(M.scaleX,M.scaleY));for(let A=0;A<m;A++)v=g[A],y=v.x,w=v.y,e.moveTo(y+C,w),e.arc(y,w,C,0,Jt);return n||(Ie.isHidden.test(a)||(S=a._renderer&&a._renderer.offset,S&&(e.save(),e.translate(-a._renderer.offset.x,-a._renderer.offset.y),e.scale(a._renderer.scale.x,a._renderer.scale.y)),e.fill(),S&&e.restore()),Ie.isHidden.test(o)||(S=o._renderer&&o._renderer.offset,S&&(e.save(),e.translate(-o._renderer.offset.x,-o._renderer.offset.y),e.scale(o._renderer.scale.x,o._renderer.scale.y),e.lineWidth=l/o._renderer.scale.x),e.stroke(),S&&e.restore())),k||e.restore(),b&&b.length>0&&e.setLineDash(Oh),this.flagReset()}},text:{render:function(e,t,n){const i=this.parent&&this.parent._renderer?this.parent._renderer.opacity:1,o=this._opacity*i,l=this._visible,a=this._mask,c=this._clip;if(!t&&(!l||c||o===0))return this;this._update();const h=this._matrix.elements,d=this._stroke,g=this._linewidth,m=this._fill,v=this._decoration,y=this._direction,w=Cu(h),k=m._renderer&&m._renderer.offset&&d._renderer&&d._renderer.offset,S=this.dashes,b=Ie.alignments[this._alignment]||this._alignment,x=Ie.baselines[this._baseline]||this._baseline;let C,M,A,N,j,X,z,W,K,q,ae;if(w||(e.save(),e.transform(h[0],h[3],h[1],h[4],h[2],h[5])),a){const te=Ie.getRendererType(a._renderer.type);Ie[te].render.call(a,e,!0)}if(k||(e.font=[this._style,this._weight,this._size+"px/"+this._leading+"px",this._family].join(" ")),e.textAlign=b,e.textBaseline=x,e.direction=y,m)if(typeof m=="string")e.fillStyle=m;else{const te=Ie.getRendererType(m._renderer.type);Ie[te].render.call(m,e,this),e.fillStyle=m._renderer.effect}if(d){if(typeof d=="string")e.strokeStyle=d;else{const te=Ie.getRendererType(d._renderer.type);Ie[te].render.call(d,e,this),e.strokeStyle=d._renderer.effect}g&&(e.lineWidth=g)}if(typeof o=="number"&&(e.globalAlpha=o),S&&S.length>0&&(e.lineDashOffset=S.offset||0,e.setLineDash(S)),!c&&!n&&(Ie.isHidden.test(m)||(m._renderer&&m._renderer.offset?(X=m._renderer.scale.x,z=m._renderer.scale.y,e.save(),e.translate(-m._renderer.offset.x,-m._renderer.offset.y),e.scale(X,z),C=this._size/m._renderer.scale.y,M=this._leading/m._renderer.scale.y,e.font=[this._style,this._weight,C+"px/",M+"px",this._family].join(" "),A=m._renderer.offset.x/m._renderer.scale.x,N=m._renderer.offset.y/m._renderer.scale.y,e.fillText(this.value,A,N),e.restore()):e.fillText(this.value,0,0)),Ie.isHidden.test(d)||(d._renderer&&d._renderer.offset?(X=d._renderer.scale.x,z=d._renderer.scale.y,e.save(),e.translate(-d._renderer.offset.x,-d._renderer.offset.y),e.scale(X,z),C=this._size/d._renderer.scale.y,M=this._leading/d._renderer.scale.y,e.font=[this._style,this._weight,C+"px/",M+"px",this._family].join(" "),A=d._renderer.offset.x/d._renderer.scale.x,N=d._renderer.offset.y/d._renderer.scale.y,j=g/d._renderer.scale.x,e.lineWidth=j,e.strokeText(this.value,A,N),e.restore()):e.strokeText(this.value,0,0))),/(underline|strikethrough)/i.test(v)){const te=e.measureText(this.value);let re=1;switch(v){case"underline":K=te.actualBoundingBoxDescent,ae=te.actualBoundingBoxDescent;break;case"strikethrough":K=0,ae=0,re=.5;break}switch(x){case"top":K+=this._size*re,ae+=this._size*re;break;case"baseline":case"bottom":K-=this._size*re,ae-=this._size*re;break}switch(b){case"left":case"start":W=0,q=te.width;break;case"right":case"end":W=-te.width,q=0;break;default:W=-te.width/2,q=te.width/2}e.lineWidth=Math.max(Math.floor(this._size/15),1),e.strokeStyle=e.fillStyle,e.beginPath(),e.moveTo(W,K),e.lineTo(q,ae),e.stroke()}return w||e.restore(),c&&!n&&e.clip(),S&&S.length>0&&e.setLineDash(Oh),this.flagReset()}},"linear-gradient":{render:function(e,t){if(t){if(this._update(),!this._renderer.effect||this._flagEndPoints||this._flagStops||this._flagUnits){let n,i=this.left._x,o=this.left._y,l=this.right._x,a=this.right._y;/objectBoundingBox/i.test(this._units)&&(n=t.getBoundingClientRect(!0),i=(i-.5)*n.width,o=(o-.5)*n.height,l=(l-.5)*n.width,a=(a-.5)*n.height),this._renderer.effect=e.createLinearGradient(i,o,l,a);for(let c=0;c<this.stops.length;c++){const h=this.stops[c];this._renderer.effect.addColorStop(h._offset,h._color)}}return this.flagReset()}}},"radial-gradient":{render:function(e,t){if(t){if(this._update(),!this._renderer.effect||this._flagCenter||this._flagFocal||this._flagRadius||this._flagStops||this._flagUnits){let n,i=this.center._x,o=this.center._y,l=this.focal._x,a=this.focal._y,c=this._radius;/objectBoundingBox/i.test(this._units)&&(n=t.getBoundingClientRect(!0),i=(i-.5)*n.width*.5,o=(o-.5)*n.height*.5,l=(l-.5)*n.width*.5,a=(a-.5)*n.height*.5,c*=Math.min(n.width,n.height)),this._renderer.effect=e.createRadialGradient(i,o,0,l,a,c);for(let h=0;h<this.stops.length;h++){const d=this.stops[h];this._renderer.effect.addColorStop(d._offset,d._color)}}return this.flagReset()}}},texture:{render:function(e){this._update();const t=this.image;return(!this._renderer.effect||(this._flagLoaded||this._flagImage||this._flagVideo||this._flagRepeat)&&this.loaded)&&(this._renderer.effect=e.createPattern(this.image,this._repeat)),(this._flagOffset||this._flagLoaded||this._flagScale)&&(this._renderer.offset instanceof ce||(this._renderer.offset=new ce),this._renderer.offset.x=-this._offset.x,this._renderer.offset.y=-this._offset.y,t&&(this._renderer.offset.x+=t.width/2,this._renderer.offset.y+=t.height/2,this._scale instanceof ce?(this._renderer.offset.x*=this._scale.x,this._renderer.offset.y*=this._scale.y):(this._renderer.offset.x*=this._scale,this._renderer.offset.y*=this._scale))),(this._flagScale||this._flagLoaded)&&(this._renderer.scale instanceof ce||(this._renderer.scale=new ce),this._scale instanceof ce?this._renderer.scale.copy(this._scale):this._renderer.scale.set(this._scale,this._scale)),this.flagReset()}},renderSvgArcCommand:function(e,t,n,i,o,l,a,c,h,d){c=c*Math.PI/180,i=Xy(i),o=Xy(o);const g=(t-h)/2,m=(n-d)/2,v=Eu(c)*g+Su(c)*m,y=-Su(c)*g+Eu(c)*m,w=v*v,k=y*y;let S=i*i,b=o*o;const x=w/S+k/b;if(x>1){const te=Gu(x);i=te*i,o=te*o,S=i*i,b=o*o}const C=S*k+b*w,M=(S*b-C)/C;let A=Gu(ud(0,M));l===a&&(A=-A);const N=A*i*y/o,j=-A*o*v/i,X=Eu(c)*N-Su(c)*j+(t+h)/2,z=Su(c)*N+Eu(c)*j+(n+d)/2,W=Ky(1,0,(v-N)/i,(y-j)/o),K=Ky((v-N)/i,(y-j)/o,(-v-N)/i,(-y-j)/o)%Jt,q=W+K;lS(e,X,z,i,o,W,q,a===0,c)}},Gt=class extends J{constructor(e){super();const t=e.smoothing!==!1;this.domElement=e.domElement||document.createElement("canvas"),this.ctx=this.domElement.getContext("2d"),this.overdraw=e.overdraw||!1,typeof this.ctx.imageSmoothingEnabled<"u"&&(this.ctx.imageSmoothingEnabled=t),this.scene=new wt,this.scene.parent=this}setSize(e,t,n){return this.width=e,this.height=t,this.ratio=typeof n>"u"?Vd(this.ctx):n,this.domElement.width=e*this.ratio,this.domElement.height=t*this.ratio,this.domElement.style&&Se.extend(this.domElement.style,{width:e+"px",height:t+"px"}),this.trigger(J.Types.resize,e,t,n)}render(){const e=this.ratio===1;return e||(this.ctx.save(),this.ctx.scale(this.ratio,this.ratio)),this.overdraw||this.ctx.clearRect(0,0,this.width,this.height),Ie.group.render.call(this.scene,this.ctx),e||this.ctx.restore(),this}};T(Gt,"Utils",Ie);function lS(e,t,n,i,o,l,a,c,h){const d=a-l,g=No.Tolerance.epsilon,m=Math.abs(d)<g;let v=Wn(d,Jt);v<g&&(m?v=0:v=Jt),c===!0&&!m&&(v===Jt?v=-Jt:v=v-Jt);for(let y=0;y<dn.Resolution;y++){const w=y/(dn.Resolution-1),k=l+w*v;let S=t+i*Math.cos(k),b=n+o*Math.sin(k);if(h!==0){const x=Math.cos(h),C=Math.sin(h),M=S-t,A=b-n;S=M*x-A*C+t,b=M*C+A*x+n}e.lineTo(S,b)}}function Ky(e,t,n,i){const o=e*n+t*i,l=Gu(e*e+t*t)*Gu(n*n+i*i);let a=oS(ud(-1,sS(1,o/l)));return e*i-t*n<0&&(a=-a),a}function Cu(e){return e[0]==1&&e[3]==0&&e[1]==0&&e[4]==1&&e[2]==0&&e[5]==0}var be={version:1.1,ns:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",alignments:{left:"start",center:"middle",right:"end"},baselines:{top:"hanging",middle:"middle",bottom:"ideographic",baseline:"alphabetic"},createElement:function(e,t){const n=e,i=document.createElementNS(be.ns,n);return n==="svg"&&(t=Se.defaults(t||{},{version:be.version})),t&&Object.keys(t).length>0&&be.setAttributes(i,t),i},setAttributes:function(e,t){const n=Object.keys(t);for(let i=0;i<n.length;i++)/href/.test(n[i])?e.setAttributeNS(be.xlink,n[i],t[n[i]]):e.setAttribute(n[i],t[n[i]]);return this},removeAttributes:function(e,t){for(let n in t)e.removeAttribute(n);return this},toString:function(e,t){let n=e.length,i=n-1,o,l="";for(let a=0;a<n;a++){const c=e[a],h=t?Wn(a-1,n):Math.max(a-1,0),d=e[h];let g,m,v,y,w,k,S,b,x,C,M,A,N,j,X,z=Ve(c.x),W=Ve(c.y);switch(c.command){case de.close:g=de.close;break;case de.arc:M=c.rx,A=c.ry,N=c.xAxisRotation,j=c.largeArcFlag,X=c.sweepFlag,g=de.arc+" "+M+" "+A+" "+N+" "+j+" "+X+" "+z+" "+W;break;case de.curve:S=d.controls&&d.controls.right||ce.zero,b=c.controls&&c.controls.left||ce.zero,d.relative?(v=Ve(S.x+d.x),y=Ve(S.y+d.y)):(v=Ve(S.x),y=Ve(S.y)),c.relative?(w=Ve(b.x+c.x),k=Ve(b.y+c.y)):(w=Ve(b.x),k=Ve(b.y)),g=(a===0?de.move:de.curve)+" "+v+" "+y+" "+w+" "+k+" "+z+" "+W;break;case de.move:o=c,g=de.move+" "+z+" "+W;break;default:g=c.command+" "+z+" "+W}a>=i&&t&&(c.command===de.curve&&(m=o,x=c.controls&&c.controls.right||c,C=m.controls&&m.controls.left||m,c.relative?(v=Ve(x.x+c.x),y=Ve(x.y+c.y)):(v=Ve(x.x),y=Ve(x.y)),m.relative?(w=Ve(C.x+m.x),k=Ve(C.y+m.y)):(w=Ve(C.x),k=Ve(C.y)),z=Ve(m.x),W=Ve(m.y),g+=" C "+v+" "+y+" "+w+" "+k+" "+z+" "+W),c.command!==de.close&&(g+=" Z")),l+=g+" "}return l},pointsToString:function(e,t){let n="";const i=t*.5;for(let o=0;o<e.length;o++){const l=e[o].x,a=e[o].y-i;n+=de.move+" "+l+" "+a+" ",n+="a "+i+" "+i+" 0 1 0 0.001 0 Z"}return n},getClip:function(e,t){let n=e._renderer.clip;return n||(n=e._renderer.clip=be.createElement("clipPath",{"clip-rule":"nonzero"})),n.parentNode===null&&t.defs.appendChild(n),n},getRendererType:function(e){return e in be?e:"path"},defs:{update:function(e){const{defs:t}=e;if(t._flagUpdate){const n=Array.prototype.slice.call(t.children,0);for(let i=0;i<n.length;i++){const o=n[i],l=o.id,a=`[fill="url(#${l})"],[stroke="url(#${l})"],[clip-path="url(#${l})"]`;e.querySelector(a)||t.removeChild(o)}t._flagUpdate=!1}}},group:{appendChild:function(e){const t=e._renderer.elem;if(!t)return;const n=t.nodeName;!n||/(radial|linear)gradient/i.test(n)||e._clip||this.elem.appendChild(t)},removeChild:function(e){const t=e._renderer.elem;!t||t.parentNode!=this.elem||!t.nodeName||e._clip||this.elem.removeChild(t)},orderChild:function(e){this.elem.appendChild(e._renderer.elem)},renderChild:function(e){const t=be.getRendererType(e._renderer.type);be[t].render.call(e,this)},render:function(e){if(!this._visible&&!this._flagVisible||this._opacity===0&&!this._flagOpacity)return this;this._update(),this._renderer.elem||(this._renderer.elem=be.createElement("g",{id:this.id}),e.appendChild(this._renderer.elem));const t=this._matrix.manual||this._flagMatrix,n={domElement:e,elem:this._renderer.elem};t&&this._renderer.elem.setAttribute("transform","matrix("+this._matrix.toString()+")");for(let i=0;i<this.children.length;i++){const o=this.children[i],l=be.getRendererType(o._renderer.type);be[l].render.call(o,e)}if(this._flagId&&this._renderer.elem.setAttribute("id",this._id),this._flagOpacity&&this._renderer.elem.setAttribute("opacity",this._opacity),this._flagVisible&&this._renderer.elem.setAttribute("display",this._visible?"inline":"none"),this._flagClassName&&this._renderer.elem.setAttribute("class",this.classList.join(" ")),this._flagAdditions&&this.additions.forEach(be.group.appendChild,n),this._flagSubtractions&&this.subtractions.forEach(be.group.removeChild,n),this._flagOrder&&this.children.forEach(be.group.orderChild,n),this._flagMask)if(this._mask){const i=be.getRendererType(this._mask._renderer.type);be[i].render.call(this._mask,e),this._renderer.elem.setAttribute("clip-path","url(#"+this._mask.id+")")}else this._renderer.elem.removeAttribute("clip-path");return this.dataset&&Object.assign(this._renderer.elem.dataset,this.dataset),this.flagReset()}},path:{render:function(e){if(this._opacity===0&&!this._flagOpacity)return this;this._update();const t={};if((this._matrix.manual||this._flagMatrix)&&(t.transform="matrix("+this._matrix.toString()+")"),this._flagId&&(t.id=this._id),this._flagVertices){const i=be.toString(this._renderer.vertices,this._closed);t.d=i}if(this._fill&&this._fill._renderer){this._renderer.hasFillEffect=!0,this._fill._update();const i=be.getRendererType(this._fill._renderer.type);be[i].render.call(this._fill,e,!0)}if(this._flagFill&&(t.fill=this._fill&&this._fill.id?"url(#"+this._fill.id+")":this._fill,this._renderer.hasFillEffect&&typeof this._fill.id>"u"&&(e.defs._flagUpdate=!0,delete this._renderer.hasFillEffect)),this._stroke&&this._stroke._renderer){this._renderer.hasStrokeEffect=!0,this._stroke._update();const i=be.getRendererType(this._stroke._renderer.type);be[i].render.call(this._stroke,e,!0)}if(this._flagStroke&&(t.stroke=this._stroke&&this._stroke.id?"url(#"+this._stroke.id+")":this._stroke,this._renderer.hasStrokeEffect&&typeof this._stroke.id>"u"&&(e.defs._flagUpdate=!0,delete this._renderer.hasStrokeEffect)),this._flagLinewidth&&(t["stroke-width"]=this._linewidth),this._flagOpacity&&(t["stroke-opacity"]=this._opacity,t["fill-opacity"]=this._opacity),this._flagClassName&&(t.class=this.classList.join(" ")),this._flagVisible&&(t.visibility=this._visible?"visible":"hidden"),this._flagCap&&(t["stroke-linecap"]=this._cap),this._flagJoin&&(t["stroke-linejoin"]=this._join),this._flagMiter&&(t["stroke-miterlimit"]=this._miter),this.dashes&&this.dashes.length>0&&(t["stroke-dasharray"]=this.dashes.join(" "),t["stroke-dashoffset"]=this.dashes.offset||0),this._renderer.elem?be.setAttributes(this._renderer.elem,t):(t.id=this._id,this._renderer.elem=be.createElement("path",t),e.appendChild(this._renderer.elem)),this._flagClip){const i=be.getClip(this,e),o=this._renderer.elem;this._clip?(o.removeAttribute("id"),i.setAttribute("id",this.id),i.appendChild(o)):(i.removeAttribute("id"),o.setAttribute("id",this.id),this.parent._renderer.elem.appendChild(o))}if(this._flagMask)if(this._mask){const i=be.getRendererType(this._mask._renderer.type);be[i].render.call(this._mask,e),this._renderer.elem.setAttribute("clip-path","url(#"+this._mask.id+")")}else this._renderer.elem.removeAttribute("clip-path");return this.flagReset()}},points:{render:function(e){if(this._opacity===0&&!this._flagOpacity)return this;this._update();const t={};if((this._matrix.manual||this._flagMatrix)&&(t.transform="matrix("+this._matrix.toString()+")"),this._flagId&&(t.id=this._id),this._flagVertices||this._flagSize||this._flagSizeAttenuation){let i=this._size;if(!this._sizeAttenuation){const l=this.worldMatrix.elements,a=Fo(l[0],l[3],l[1],l[4],l[2],l[5]);i/=Math.max(a.scaleX,a.scaleY)}const o=be.pointsToString(this._renderer.collection,i);t.d=o}if(this._fill&&this._fill._renderer){this._renderer.hasFillEffect=!0,this._fill._update();const i=be.getRendererType(this._fill._renderer.type);be[i].render.call(this._fill,e,!0)}if(this._flagFill&&(t.fill=this._fill&&this._fill.id?"url(#"+this._fill.id+")":this._fill,this._renderer.hasFillEffect&&typeof this._fill.id>"u"&&(e.defs._flagUpdate=!0,delete this._renderer.hasFillEffect)),this._stroke&&this._stroke._renderer){this._renderer.hasStrokeEffect=!0,this._stroke._update();const i=be.getRendererType(this._stroke._renderer.type);be[i].render.call(this._stroke,e,!0)}return this._flagStroke&&(t.stroke=this._stroke&&this._stroke.id?"url(#"+this._stroke.id+")":this._stroke,this._renderer.hasStrokeEffect&&typeof this._stroke.id>"u"&&(e.defs._flagUpdate=!0,delete this._renderer.hasStrokeEffect)),this._flagLinewidth&&(t["stroke-width"]=this._linewidth),this._flagOpacity&&(t["stroke-opacity"]=this._opacity,t["fill-opacity"]=this._opacity),this._flagClassName&&(t.class=this.classList.join(" ")),this._flagVisible&&(t.visibility=this._visible?"visible":"hidden"),this.dashes&&this.dashes.length>0&&(t["stroke-dasharray"]=this.dashes.join(" "),t["stroke-dashoffset"]=this.dashes.offset||0),this._renderer.elem?be.setAttributes(this._renderer.elem,t):(t.id=this._id,this._renderer.elem=be.createElement("path",t),e.appendChild(this._renderer.elem)),this.flagReset()}},text:{render:function(e){this._update();const t={};if((this._matrix.manual||this._flagMatrix)&&(t.transform="matrix("+this._matrix.toString()+")"),this._flagId&&(t.id=this._id),this._flagFamily&&(t["font-family"]=this._family),this._flagSize&&(t["font-size"]=this._size),this._flagLeading&&(t["line-height"]=this._leading),this._flagAlignment&&(t["text-anchor"]=be.alignments[this._alignment]||this._alignment),this._flagBaseline&&(t["dominant-baseline"]=be.baselines[this._baseline]||this._baseline),this._flagStyle&&(t["font-style"]=this._style),this._flagWeight&&(t["font-weight"]=this._weight),this._flagDecoration&&(t["text-decoration"]=this._decoration),this._flagDirection&&(t.direction=this._direction),this._fill&&this._fill._renderer){this._renderer.hasFillEffect=!0,this._fill._update();const i=be.getRendererType(this._fill._renderer.type);be[i].render.call(this._fill,e,!0)}if(this._flagFill&&(t.fill=this._fill&&this._fill.id?"url(#"+this._fill.id+")":this._fill,this._renderer.hasFillEffect&&typeof this._fill.id>"u"&&(e.defs._flagUpdate=!0,delete this._renderer.hasFillEffect)),this._stroke&&this._stroke._renderer){this._renderer.hasStrokeEffect=!0,this._stroke._update();const i=be.getRendererType(this._stroke._renderer.type);be[i].render.call(this._stroke,e,!0)}if(this._flagStroke&&(t.stroke=this._stroke&&this._stroke.id?"url(#"+this._stroke.id+")":this._stroke,this._renderer.hasStrokeEffect&&typeof this._stroke.id>"u"&&(e.defs._flagUpdate=!0,delete this._renderer.hasStrokeEffect)),this._flagLinewidth&&(t["stroke-width"]=this._linewidth),this._flagOpacity&&(t.opacity=this._opacity),this._flagClassName&&(t.class=this.classList.join(" ")),this._flagVisible&&(t.visibility=this._visible?"visible":"hidden"),this.dashes&&this.dashes.length>0&&(t["stroke-dasharray"]=this.dashes.join(" "),t["stroke-dashoffset"]=this.dashes.offset||0),this._renderer.elem?be.setAttributes(this._renderer.elem,t):(t.id=this._id,this._renderer.elem=be.createElement("text",t),e.appendChild(this._renderer.elem)),this._flagClip){const i=be.getClip(this,e),o=this._renderer.elem;this._clip?(o.removeAttribute("id"),i.setAttribute("id",this.id),i.appendChild(o)):(i.removeAttribute("id"),o.setAttribute("id",this.id),this.parent._renderer.elem.appendChild(o))}if(this._flagMask)if(this._mask){const i=be.getRendererType(this._mask._renderer.type);be[i].render.call(this._mask,e),this._renderer.elem.setAttribute("clip-path","url(#"+this._mask.id+")")}else this._renderer.elem.removeAttribute("clip-path");return this._flagValue&&(this._renderer.elem.textContent=this._value),this.flagReset()}},"linear-gradient":{render:function(e,t){t||this._update();const n={};if(this._flagId&&(n.id=this._id),this._flagEndPoints&&(n.x1=this.left._x,n.y1=this.left._y,n.x2=this.right._x,n.y2=this.right._y),this._flagSpread&&(n.spreadMethod=this._spread),this._flagUnits&&(n.gradientUnits=this._units),this._renderer.elem?be.setAttributes(this._renderer.elem,n):(n.id=this._id,this._renderer.elem=be.createElement("linearGradient",n)),this._renderer.elem.parentNode===null&&e.defs.appendChild(this._renderer.elem),this._flagStops){const i=this._renderer.elem.childNodes.length!==this.stops.length;if(i)for(;this._renderer.elem.lastChild;)this._renderer.elem.removeChild(this._renderer.elem.lastChild);for(let o=0;o<this.stops.length;o++){const l=this.stops[o],a={};l._flagOffset&&(a.offset=100*l._offset+"%"),l._flagColor&&(a["stop-color"]=l._color),l._flagOpacity&&(a["stop-opacity"]=l._opacity),l._renderer.elem?be.setAttributes(l._renderer.elem,a):l._renderer.elem=be.createElement("stop",a),i&&this._renderer.elem.appendChild(l._renderer.elem),l.flagReset()}}return this.flagReset()}},"radial-gradient":{render:function(e,t){t||this._update();const n={};if(this._flagId&&(n.id=this._id),this._flagCenter&&(n.cx=this.center._x,n.cy=this.center._y),this._flagFocal&&(n.fx=this.focal._x,n.fy=this.focal._y),this._flagRadius&&(n.r=this._radius),this._flagSpread&&(n.spreadMethod=this._spread),this._flagUnits&&(n.gradientUnits=this._units),this._renderer.elem?be.setAttributes(this._renderer.elem,n):(n.id=this._id,this._renderer.elem=be.createElement("radialGradient",n)),this._renderer.elem.parentNode===null&&e.defs.appendChild(this._renderer.elem),this._flagStops){const i=this._renderer.elem.childNodes.length!==this.stops.length;if(i)for(;this._renderer.elem.lastChild;)this._renderer.elem.removeChild(this._renderer.elem.lastChild);for(let o=0;o<this.stops.length;o++){const l=this.stops[o],a={};l._flagOffset&&(a.offset=100*l._offset+"%"),l._flagColor&&(a["stop-color"]=l._color),l._flagOpacity&&(a["stop-opacity"]=l._opacity),l._renderer.elem?be.setAttributes(l._renderer.elem,a):l._renderer.elem=be.createElement("stop",a),i&&this._renderer.elem.appendChild(l._renderer.elem),l.flagReset()}}return this.flagReset()}},texture:{render:function(e,t){t||this._update();const n={},i={x:0,y:0},o=this.image;if(this._flagId&&(n.id=this._id),this._flagLoaded&&this.loaded)switch(o.nodeName.toLowerCase()){case"canvas":i.href=i["xlink:href"]=o.toDataURL("image/png");break;case"img":case"image":i.href=i["xlink:href"]=this.src;break}if((this._flagOffset||this._flagLoaded||this._flagScale)&&(n.x=this._offset.x,n.y=this._offset.y,o&&(n.x-=o.width/2,n.y-=o.height/2,this._scale instanceof ce?(n.x*=this._scale.x,n.y*=this._scale.y):(n.x*=this._scale,n.y*=this._scale)),n.x>0&&(n.x*=-1),n.y>0&&(n.y*=-1)),(this._flagScale||this._flagLoaded||this._flagRepeat)&&(n.width=0,n.height=0,o)){switch(n.width=o.width,n.height=o.height,this._repeat){case"no-repeat":n.width+=1,n.height+=1;break}this._scale instanceof ce?(n.width*=this._scale.x,n.height*=this._scale.y):(n.width*=this._scale,n.height*=this._scale),i.width=n.width,i.height=n.height}return(this._flagScale||this._flagLoaded)&&(this._renderer.image?be.setAttributes(this._renderer.image,i):this._renderer.image=be.createElement("image",i)),this._renderer.elem?Object.keys(n).length!==0&&be.setAttributes(this._renderer.elem,n):(n.id=this._id,n.patternUnits="userSpaceOnUse",this._renderer.elem=be.createElement("pattern",n)),this._renderer.elem.parentNode===null&&e.defs.appendChild(this._renderer.elem),this._renderer.elem&&this._renderer.image&&!this._renderer.appended&&(this._renderer.elem.appendChild(this._renderer.image),this._renderer.appended=!0),this.flagReset()}}},Mv=class extends J{constructor(e){super(),this.domElement=e.domElement||be.createElement("svg"),this.scene=new wt,this.scene.parent=this,this.defs=be.createElement("defs"),this.defs._flagUpdate=!1,this.domElement.appendChild(this.defs),this.domElement.defs=this.defs,this.domElement.style.overflow="hidden"}setSize(e,t){return this.width=e,this.height=t,be.setAttributes(this.domElement,{width:e,height:t}),this.trigger(J.Types.resize,e,t)}render(){return be.group.render.call(this.scene,this.domElement),be.defs.update(this.domElement),this}};T(Mv,"Utils",be);var sr={create:function(e,t,n){const i=e.createShader(e[n]);if(e.shaderSource(i,t),e.compileShader(i),!e.getShaderParameter(i,e.COMPILE_STATUS)){const l=e.getShaderInfoLog(i);throw e.deleteShader(i),new Hn("unable to compile shader "+i+": "+l)}return i},types:{vertex:"VERTEX_SHADER",fragment:"FRAGMENT_SHADER"},path:{vertex:`
      precision mediump float;
      attribute vec2 a_position;

      uniform mat3 u_matrix;
      uniform vec2 u_resolution;
      uniform vec4 u_rect;

      varying vec2 v_textureCoords;

      void main() {
        vec2 rectCoords = (a_position * (u_rect.zw - u_rect.xy)) + u_rect.xy;
        vec2 projected = (u_matrix * vec3(rectCoords, 1.0)).xy;
        vec2 normal = projected / u_resolution;
        vec2 clipspace = (normal * 2.0) - 1.0;

        gl_Position = vec4(clipspace * vec2(1.0, -1.0), 0.0, 1.0);
        v_textureCoords = a_position;
      }
    `,fragment:`
      precision mediump float;

      uniform sampler2D u_image;
      varying vec2 v_textureCoords;

      void main() {
        vec4 texel = texture2D(u_image, v_textureCoords);
        if (texel.a == 0.0) {
          discard;
        }
        gl_FragColor = texel;
      }
    `},points:{vertex:`
      precision mediump float;
      attribute vec2 a_position;

      uniform float u_size;
      uniform mat3 u_matrix;
      uniform vec2 u_resolution;

      varying vec2 v_textureCoords;

      void main() {
        vec2 projected = (u_matrix * vec3(a_position, 1.0)).xy;
        vec2 normal = projected / u_resolution;
        vec2 clipspace = (normal * 2.0) - 1.0;

        gl_PointSize = u_size;
        gl_Position = vec4(clipspace * vec2(1.0, -1.0), 0.0, 1.0);
        v_textureCoords = a_position;
      }
    `,fragment:`
      precision mediump float;

      uniform sampler2D u_image;

      void main() {
        vec4 texel = texture2D(u_image, gl_PointCoord);
        if (texel.a == 0.0) {
          discard;
        }
        gl_FragColor = texel;
      }
    `}},Ru=Ns.Multiply,aS=[1,0,0,0,1,0,0,0,1],zi=new jr(9),uS=Gt.Utils,qy=new ce,cd=new jr([0,0,1,0,0,1,0,1,1,0,1,1]),Ae={precision:.9,isHidden:/(undefined|none|transparent)/i,canvas:ut.document?ut.document.createElement("canvas"):{getContext:function(){}},alignments:{left:"start",middle:"center",right:"end"},matrix:new Ns,group:{removeChild:function(e,t){if(e.children)for(let n=0;n<e.children.length;n++)Ae.group.removeChild(e.children[n],t);e._renderer.texture&&(t.deleteTexture(e._renderer.texture),delete e._renderer.texture),e._renderer.positionBuffer&&(t.deleteBuffer(e._renderer.positionBuffer),delete e._renderer.positionBuffer)},render:function(e,t){if(!this._visible)return;this._update();const n=this.parent,i=n._matrix&&n._matrix.manual||n._flagMatrix,o=this._matrix.manual||this._flagMatrix;if((i||o)&&(this._renderer.matrix||(this._renderer.matrix=new jr(9)),this._matrix.toTransformArray(!0,zi),Ru(zi,n._renderer.matrix,this._renderer.matrix),this._renderer.scale instanceof ce||(this._renderer.scale=new ce),this._scale instanceof ce?(this._renderer.scale.x=this._scale.x,this._renderer.scale.y=this._scale.y):(this._renderer.scale.x=this._scale,this._renderer.scale.y=this._scale),/renderer/i.test(n._renderer.type)||(this._renderer.scale.x*=n._renderer.scale.x,this._renderer.scale.y*=n._renderer.scale.y),i&&(this._flagMatrix=!0)),this._mask){e.clear(e.STENCIL_BUFFER_BIT),e.enable(e.STENCIL_TEST),e.stencilFunc(e.ALWAYS,1,0),e.stencilOp(e.KEEP,e.KEEP,e.REPLACE),e.colorMask(!1,!1,!1,!1);const a=Gt.Utils.getRendererType(this._mask._renderer.type);Ae[a].render.call(this._mask,e,t,this),e.stencilFunc(e.EQUAL,1,255),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.colorMask(!0,!0,!0,!0)}this._flagOpacity=n._flagOpacity||this._flagOpacity,this._renderer.opacity=this._opacity*(n&&n._renderer?n._renderer.opacity:1);let l;if(this._flagSubtractions)for(l=0;l<this.subtractions.length;l++)Ae.group.removeChild(this.subtractions[l],e);for(l=0;l<this.children.length;l++){const a=this.children[l],c=Gt.Utils.getRendererType(a._renderer.type);Ae[c].render.call(a,e,t)}return this._mask&&e.disable(e.STENCIL_TEST),this.flagReset()}},path:{updateCanvas:function(e,t){let n,i,o,l,a,c,h,d,g,m,v,y,w,k;const S=t._renderer.vertices,b=this.canvas,x=this.ctx,C=e.renderer.ratio,M=qy.copy(t._renderer.scale).multiply(C),A=t._stroke,N=t._linewidth,j=t._fill,X=t._renderer.opacity||t._opacity,z=t._cap,W=t._join,K=t._miter,q=t._closed,ae=t.dashes,te=S.length,re=te-1;b.width=Math.max(Math.ceil(t._renderer.rect.width*M.x),1),b.height=Math.max(Math.ceil(t._renderer.rect.height*M.y),1);const ue=t._renderer.rect.centroid,Z=ue.x,D=ue.y;if(x.clearRect(0,0,b.width,b.height),j)if(typeof j=="string")x.fillStyle=j;else{const se=Gt.Utils.getRendererType(j._renderer.type);Ae[se].render.call(j,x,t),x.fillStyle=j._renderer.effect}if(A){if(typeof A=="string")x.strokeStyle=A;else{const se=Gt.Utils.getRendererType(A._renderer.type);Ae[se].render.call(A,x,t),x.strokeStyle=A._renderer.effect}N&&(x.lineWidth=N),K&&(x.miterLimit=K),W&&(x.lineJoin=W),!q&&z&&(x.lineCap=z)}typeof X=="number"&&(x.globalAlpha=X),ae&&ae.length>0&&(x.lineDashOffset=ae.offset||0,x.setLineDash(ae));let $,G,L,Y,we,fe,oe,Q;x.save(),x.scale(M.x,M.y),x.translate(Z,D),x.beginPath();for(let se=0;se<S.length;se++){const ee=S[se];switch(y=ee.x,w=ee.y,ee.command){case de.close:x.closePath();break;case de.arc:G=ee.rx,L=ee.ry,Y=ee.xAxisRotation,we=ee.largeArcFlag,fe=ee.sweepFlag,n=q?Wn(se-1,te):Math.max(se-1,0),i=S[n],oe=i.x,Q=i.y,uS.renderSvgArcCommand(x,oe,Q,G,L,we,fe,Y,y,w);break;case de.curve:n=q?Wn(se-1,te):Math.max(se-1,0),i=S[n],d=i.controls&&i.controls.right||ce.zero,g=ee.controls&&ee.controls.left||ce.zero,i._relative?(c=d.x+i.x,h=d.y+i.y):(c=d.x,h=d.y),ee._relative?(l=g.x+ee.x,a=g.y+ee.y):(l=g.x,a=g.y),x.bezierCurveTo(c,h,l,a,y,w),se>=re&&q&&(o=$,m=ee.controls&&ee.controls.right||ce.zero,v=o.controls&&o.controls.left||ce.zero,ee._relative?(c=m.x+ee.x,h=m.y+ee.y):(c=m.x,h=m.y),o._relative?(l=v.x+o.x,a=v.y+o.y):(l=v.x,a=v.y),y=o.x,w=o.y,x.bezierCurveTo(c,h,l,a,y,w));break;case de.line:x.lineTo(y,w);break;case de.move:$=ee,x.moveTo(y,w);break}}q&&x.closePath(),Ae.isHidden.test(j)||(k=j._renderer&&j._renderer.offset,k&&(x.save(),x.translate(-j._renderer.offset.x,-j._renderer.offset.y),x.scale(j._renderer.scale.x,j._renderer.scale.y)),x.fill(),k&&x.restore()),Ae.isHidden.test(A)||(k=A._renderer&&A._renderer.offset,k&&(x.save(),x.translate(-A._renderer.offset.x,-A._renderer.offset.y),x.scale(A._renderer.scale.x,A._renderer.scale.y),x.lineWidth=N/A._renderer.scale.x),x.stroke(),k&&x.restore()),x.restore()},getBoundingClientRect:function(e,t,n){let i=1/0,o=-1/0,l=1/0,a=-1/0,c,h;e.forEach(function(d){const g=d.x,m=d.y,v=d.controls;let y,w,k,S,b,x;l=Math.min(m,l),i=Math.min(g,i),o=Math.max(g,o),a=Math.max(m,a),d.controls&&(b=v.left,x=v.right,!(!b||!x)&&(y=d._relative?b.x+g:b.x,w=d._relative?b.y+m:b.y,k=d._relative?x.x+g:x.x,S=d._relative?x.y+m:x.y,!(!y||!w||!k||!S)&&(l=Math.min(w,S,l),i=Math.min(y,k,i),o=Math.max(y,k,o),a=Math.max(w,S,a))))}),typeof t=="number"&&(l-=t,i-=t,o+=t,a+=t),c=o-i,h=a-l,n.top=l,n.left=i,n.right=o,n.bottom=a,n.width=c,n.height=h,n.centroid||(n.centroid={}),n.centroid.x=-i,n.centroid.y=-l},render:function(e,t,n){if(!this._visible||!this._opacity)return this;this._update();const i=n||this.parent,o=Gt.Utils.getRendererType(this._renderer.type),l=t[o],a=i._matrix.manual||i._flagMatrix,c=this._matrix.manual||this._flagMatrix,h=this._renderer.parent!==i,d=this._flagVertices||this._flagFill||this._fill instanceof Je&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagEndPoints)||this._fill instanceof et&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagRadius||this._fill._flagCenter||this._fill._flagFocal)||this._fill instanceof ze&&(this._fill._flagLoaded&&this._fill.loaded||this._fill._flagImage||this._fill._flagVideo||this._fill._flagRepeat||this._fill._flagOffset||this._fill._flagScale)||this._stroke instanceof Je&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagEndPoints)||this._stroke instanceof et&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagRadius||this._stroke._flagCenter||this._stroke._flagFocal)||this._stroke instanceof ze&&(this._stroke._flagLoaded&&this._stroke.loaded||this._stroke._flagImage||this._stroke._flagVideo||this._stroke._flagRepeat||this._stroke._flagOffset||this._fill._flagScale)||this._flagStroke||this._flagLinewidth||this._flagOpacity||i._flagOpacity||this._flagVisible||this._flagCap||this._flagJoin||this._flagMiter||this._flagScale||this.dashes&&this.dashes.length>0||!this._renderer.texture;if(a||c||h){this._renderer.matrix||(this._renderer.matrix=new jr(9)),this._matrix.toTransformArray(!0,zi),Ru(zi,i._renderer.matrix,this._renderer.matrix),this._renderer.scale instanceof ce||(this._renderer.scale=new ce);let m,v;this._scale instanceof ce?(m=this._scale.x*i._renderer.scale.x,v=this._scale.y*i._renderer.scale.y):(m=this._scale*i._renderer.scale.x,v=this._scale*i._renderer.scale.y),this._renderer.scale.x=m<0?-m:m,this._renderer.scale.y=v<0?-v:v,h&&(this._renderer.parent=i)}if(this._mask){e.clear(e.STENCIL_BUFFER_BIT),e.enable(e.STENCIL_TEST),e.stencilFunc(e.ALWAYS,1,0),e.stencilOp(e.KEEP,e.KEEP,e.REPLACE),e.colorMask(!1,!1,!1,!1);const m=Gt.Utils.getRendererType(this._mask._renderer.type);Ae[m].render.call(this._mask,e,t,this),e.stencilFunc(e.EQUAL,1,255),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.colorMask(!0,!0,!0,!0)}if(d?(this._renderer.rect||(this._renderer.rect={}),this._renderer.opacity=this._opacity*i._renderer.opacity,Ae.path.getBoundingClientRect(this._renderer.vertices,this._linewidth,this._renderer.rect),Ae.updateTexture.call(Ae,e,this)):(this._fill&&this._fill._update&&this._fill._update(),this._stroke&&this._stroke._update&&this._stroke._update()),this._clip&&!n||!this._renderer.texture)return this;t.current!==l&&(e.useProgram(l),e.bindBuffer(e.ARRAY_BUFFER,t.buffers.position),e.vertexAttribPointer(l.position,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(l.position),e.bufferData(e.ARRAY_BUFFER,cd,e.STATIC_DRAW),t.resolution.flagged||e.uniform2f(e.getUniformLocation(l,"u_resolution"),t.resolution.width,t.resolution.height),t.current=l),t.resolution.flagged&&e.uniform2f(e.getUniformLocation(l,"u_resolution"),t.resolution.width,t.resolution.height),e.bindTexture(e.TEXTURE_2D,this._renderer.texture);const g=this._renderer.rect;return e.uniformMatrix3fv(l.matrix,!1,this._renderer.matrix),e.uniform4f(l.rect,g.left,g.top,g.right,g.bottom),e.drawArrays(e.TRIANGLES,0,6),this._mask&&e.disable(e.STENCIL_TEST),this.flagReset()}},points:{updateCanvas:function(e,t){let n;const i=this.canvas,o=this.ctx,l=e.renderer.ratio,a=t._stroke,c=t._linewidth,h=t._fill,d=t._renderer.opacity||t._opacity,g=t.dashes,m=t._size*l;let v=m;Ae.isHidden.test(a)||(v+=c),i.width=dv(v),i.height=i.width;const y=v/i.width,w=i.width/2,k=i.height/2;if(o.clearRect(0,0,i.width,i.height),h)if(typeof h=="string")o.fillStyle=h;else{const S=Gt.Utils.getRendererType(h._renderer.type);Ae[S].render.call(h,o,t),o.fillStyle=h._renderer.effect}if(a){if(typeof a=="string")o.strokeStyle=a;else{const S=Gt.Utils.getRendererType(a._renderer.type);Ae[S].render.call(a,o,t),o.strokeStyle=a._renderer.effect}c&&(o.lineWidth=c/y)}typeof d=="number"&&(o.globalAlpha=d),g&&g.length>0&&(o.lineDashOffset=g.offset||0,o.setLineDash(g)),o.save(),o.translate(w,k),o.scale(Ae.precision,Ae.precision),o.beginPath(),o.arc(0,0,m/y*.5,0,Jt),o.restore(),closed&&o.closePath(),Ae.isHidden.test(h)||(n=h._renderer&&h._renderer.offset,n&&(o.save(),o.translate(-h._renderer.offset.x,-h._renderer.offset.y),o.scale(h._renderer.scale.x,h._renderer.scale.y)),o.fill(),n&&o.restore()),Ae.isHidden.test(a)||(n=a._renderer&&a._renderer.offset,n&&(o.save(),o.translate(-a._renderer.offset.x,-a._renderer.offset.y),o.scale(a._renderer.scale.x,a._renderer.scale.y),o.lineWidth=c/a._renderer.scale.x),o.stroke(),n&&o.restore())},render:function(e,t,n){if(!this._visible||!this._opacity)return this;this._update();let i=this._size;const o=n||this.parent,l=t[this._renderer.type],a=this._sizeAttenuation,c=this._stroke,h=this._linewidth,d=o._matrix.manual||o._flagMatrix,g=this._matrix.manual||this._flagMatrix,m=this._renderer.parent!==o,v=this._renderer.vertices,y=this._renderer.collection.length,w=this._flagVertices,k=this._flagFill||this._fill instanceof Je&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagEndPoints)||this._fill instanceof et&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagRadius||this._fill._flagCenter||this._fill._flagFocal)||this._fill instanceof ze&&(this._fill._flagLoaded&&this._fill.loaded||this._fill._flagImage||this._fill._flagVideo||this._fill._flagRepeat||this._fill._flagOffset||this._fill._flagScale)||this._stroke instanceof Je&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagEndPoints)||this._stroke instanceof et&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagRadius||this._stroke._flagCenter||this._stroke._flagFocal)||this._stroke instanceof ze&&(this._stroke._flagLoaded&&this._stroke.loaded||this._stroke._flagImage||this._stroke._flagVideo||this._stroke._flagRepeat||this._stroke._flagOffset||this._fill._flagScale)||this._flagStroke||this._flagLinewidth||this._flagOpacity||o._flagOpacity||this._flagVisible||this._flagScale||this.dashes&&this.dashes.length>0||!this._renderer.texture;if(d||g||m){this._renderer.matrix||(this._renderer.matrix=new jr(9)),this._matrix.toTransformArray(!0,zi),Ru(zi,o._renderer.matrix,this._renderer.matrix),this._renderer.scale instanceof ce||(this._renderer.scale=new ce);let S,b;this._scale instanceof ce?(S=this._scale.x*o._renderer.scale.x,b=this._scale.y*o._renderer.scale.y):(S=this._scale*o._renderer.scale.x,b=this._scale*o._renderer.scale.y),this._renderer.scale.x=S<0?-S:S,this._renderer.scale.y=b<0?-b:b,m&&(this._renderer.parent=o)}if(w){const S=this._renderer.positionBuffer;S&&e.deleteBuffer(S),this._renderer.positionBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this._renderer.positionBuffer),e.vertexAttribPointer(l.position,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(l.position),e.bufferData(e.ARRAY_BUFFER,v,e.STATIC_DRAW)}return k?(this._renderer.opacity=this._opacity*o._renderer.opacity,Ae.updateTexture.call(Ae,e,this)):(this._fill&&this._fill._update&&this._fill._update(),this._stroke&&this._stroke._update&&this._stroke._update()),this._clip&&!n||!this._renderer.texture?this:(Ae.isHidden.test(c)||(i+=h),i/=Ae.precision,a&&(i*=Math.max(this._renderer.scale.x,this._renderer.scale.y)),t.current!==l&&(e.useProgram(l),t.resolution.flagged||e.uniform2f(e.getUniformLocation(l,"u_resolution"),t.resolution.width,t.resolution.height),t.current=l),t.resolution.flagged&&e.uniform2f(e.getUniformLocation(l,"u_resolution"),t.resolution.width,t.resolution.height),e.bindTexture(e.TEXTURE_2D,this._renderer.texture),e.uniformMatrix3fv(l.matrix,!1,this._renderer.matrix),e.uniform1f(l.size,i*t.resolution.ratio),e.drawArrays(e.POINTS,0,y),this.flagReset())}},text:{updateCanvas:function(e,t){const n=this.canvas,i=this.ctx,o=e.renderer.ratio,l=qy.copy(t._renderer.scale).multiply(o),a=t._stroke,c=t._linewidth,h=t._fill,d=t._renderer.opacity||t._opacity,g=t.dashes,m=t._decoration,v=t._direction;n.width=Math.max(Math.ceil(t._renderer.rect.width*l.x),1),n.height=Math.max(Math.ceil(t._renderer.rect.height*l.y),1);const y=t._renderer.rect.centroid,w=y.x,k=y.y;let S,b,x,C,M,A,N,j,X,z,W;const K=h._renderer&&h._renderer.offset&&a._renderer&&a._renderer.offset;if(i.clearRect(0,0,n.width,n.height),K||(i.font=[t._style,t._weight,t._size+"px/"+t._leading+"px",t._family].join(" ")),i.textAlign="center",i.textBaseline="middle",i.textDirection=v,h)if(typeof h=="string")i.fillStyle=h;else{const q=Gt.Utils.getRendererType(h._renderer.type);Ae[q].render.call(h,i,t),i.fillStyle=h._renderer.effect}if(a){if(typeof a=="string")i.strokeStyle=a;else{const q=Gt.Utils.getRendererType(a._renderer.type);Ae[q].render.call(a,i,t),i.strokeStyle=a._renderer.effect}c&&(i.lineWidth=c)}if(typeof d=="number"&&(i.globalAlpha=d),g&&g.length>0&&(i.lineDashOffset=g.offset||0,i.setLineDash(g)),i.save(),i.scale(l.x,l.y),i.translate(w,k),Ae.isHidden.test(h)||(h._renderer&&h._renderer.offset?(A=h._renderer.scale.x,N=h._renderer.scale.y,i.save(),i.translate(-h._renderer.offset.x,-h._renderer.offset.y),i.scale(A,N),S=t._size/h._renderer.scale.y,b=t._leading/h._renderer.scale.y,i.font=[t._style,t._weight,S+"px/",b+"px",t._family].join(" "),x=h._renderer.offset.x/h._renderer.scale.x,C=h._renderer.offset.y/h._renderer.scale.y,i.fillText(t.value,x,C),i.restore()):i.fillText(t.value,0,0)),Ae.isHidden.test(a)||(a._renderer&&a._renderer.offset?(A=a._renderer.scale.x,N=a._renderer.scale.y,i.save(),i.translate(-a._renderer.offset.x,-a._renderer.offset.y),i.scale(A,N),S=t._size/a._renderer.scale.y,b=t._leading/a._renderer.scale.y,i.font=[t._style,t._weight,S+"px/",b+"px",t._family].join(" "),x=a._renderer.offset.x/a._renderer.scale.x,C=a._renderer.offset.y/a._renderer.scale.y,M=c/a._renderer.scale.x,i.lineWidth=M,i.strokeText(t.value,x,C),i.restore()):i.strokeText(t.value,0,0)),/(underline|strikethrough)/i.test(m)){const q=i.measureText(t.value);switch(m){case"underline":X=q.actualBoundingBoxDescent,W=q.actualBoundingBoxDescent;break;case"strikethrough":X=0,W=0;break}j=-q.width/2,z=q.width/2,i.lineWidth=Math.max(Math.floor(t._size/15),1),i.strokeStyle=i.fillStyle,i.beginPath(),i.moveTo(j,X),i.lineTo(z,W),i.stroke()}i.restore()},getBoundingClientRect:function(e,t){const n=Ae.ctx;n.font=[e._style,e._weight,e._size+"px/"+e._leading+"px",e._family].join(" "),n.textAlign="center",n.textBaseline=Gt.Utils.baselines[e._baseline]||e._baseline;const i=n.measureText(e._value);let o=i.width,l=1.15*(i.actualBoundingBoxAscent+i.actualBoundingBoxDescent);this._linewidth&&!Ae.isHidden.test(this._stroke)&&(o+=this._linewidth*2,l+=this._linewidth*2);const a=o/2,c=l/2;switch(Ae.alignments[e._alignment]||e._alignment){case Ae.alignments.left:e.direction==="ltr"?(t.left=0,t.right=o):(t.left=-o,t.right=0);break;case Ae.alignments.right:e.direction==="ltr"?(t.left=-o,t.right=0):(t.left=0,t.right=o);break;default:t.left=-a,t.right=a}switch(e._baseline){case"bottom":t.top=-l,t.bottom=0;break;case"top":t.top=0,t.bottom=l;break;case"baseline":t.top=-c*1.5,t.bottom=c*.5;break;default:t.top=-c,t.bottom=c}t.width=o,t.height=l,t.centroid||(t.centroid={}),t.centroid.x=a,t.centroid.y=c},render:function(e,t,n){if(!this._visible||!this._opacity)return this;this._update();const i=n||this.parent,o=t[this._renderer.type],l=i._matrix.manual||i._flagMatrix,a=this._matrix.manual||this._flagMatrix,c=this._renderer.parent!==i,h=this._flagVertices||this._flagFill||this._fill instanceof Je&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagEndPoints)||this._fill instanceof et&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagRadius||this._fill._flagCenter||this._fill._flagFocal)||this._fill instanceof ze&&(this._fill._flagLoaded&&this._fill.loaded||this._fill._flagImage||this._fill._flagVideo||this._fill._flagRepeat||this._fill._flagOffset||this._fill._flagScale)||this._stroke instanceof Je&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagEndPoints)||this._stroke instanceof et&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagRadius||this._stroke._flagCenter||this._stroke._flagFocal)||this._stroke instanceof ze&&(this._stroke._flagLoaded&&this._stroke.loaded||this._stroke._flagImage||this._stroke._flagVideo||this._stroke._flagRepeat||this._stroke._flagOffset||this._fill._flagScale)||this._flagStroke||this._flagLinewidth||this._flagOpacity||i._flagOpacity||this._flagVisible||this._flagScale||this._flagValue||this._flagFamily||this._flagSize||this._flagLeading||this._flagAlignment||this._flagBaseline||this._flagStyle||this._flagWeight||this._flagDecoration||this.dashes&&this.dashes.length>0||!this._renderer.texture;if(l||a||c){this._renderer.matrix||(this._renderer.matrix=new jr(9)),this._matrix.toTransformArray(!0,zi),Ru(zi,i._renderer.matrix,this._renderer.matrix),this._renderer.scale instanceof ce||(this._renderer.scale=new ce);let g,m;this._scale instanceof ce?(g=this._scale.x*i._renderer.scale.x,m=this._scale.y*i._renderer.scale.y):(g=this._scale*i._renderer.scale.x,m=this._scale*i._renderer.scale.y),this._renderer.scale.x=g<0?-g:g,this._renderer.scale.y=m<0?-m:m,c&&(this._renderer.parent=i)}if(this._mask){e.clear(e.STENCIL_BUFFER_BIT),e.enable(e.STENCIL_TEST),e.stencilFunc(e.ALWAYS,1,0),e.stencilOp(e.KEEP,e.KEEP,e.REPLACE),e.colorMask(!1,!1,!1,!1);const g=Gt.Utils.getRendererType(this._mask._renderer.type);Ae[g].render.call(this._mask,e,t,this),e.stencilFunc(e.EQUAL,1,255),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.colorMask(!0,!0,!0,!0)}if(h?(this._renderer.rect||(this._renderer.rect={}),this._renderer.opacity=this._opacity*i._renderer.opacity,Ae.text.getBoundingClientRect(this,this._renderer.rect),Ae.updateTexture.call(Ae,e,this)):(this._fill&&this._fill._update&&this._fill._update(),this._stroke&&this._stroke._update&&this._stroke._update()),this._clip&&!n||!this._renderer.texture)return this;t.current!==o&&(e.useProgram(o),e.bindBuffer(e.ARRAY_BUFFER,t.buffers.position),e.vertexAttribPointer(o.position,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(o.position),e.bufferData(e.ARRAY_BUFFER,cd,e.STATIC_DRAW),t.resolution.flagged||e.uniform2f(e.getUniformLocation(o,"u_resolution"),t.resolution.width,t.resolution.height),t.current=o),t.resolution.flagged&&e.uniform2f(e.getUniformLocation(o,"u_resolution"),t.resolution.width,t.resolution.height),e.bindTexture(e.TEXTURE_2D,this._renderer.texture);const d=this._renderer.rect;return e.uniformMatrix3fv(o.matrix,!1,this._renderer.matrix),e.uniform4f(o.rect,d.left,d.top,d.right,d.bottom),e.drawArrays(e.TRIANGLES,0,6),this._mask&&e.disable(e.STENCIL_TEST),this.flagReset()}},"linear-gradient":{render:function(e,t){if(!(!e.canvas.getContext("2d")||!t)){if(this._update(),!this._renderer.effect||this._flagEndPoints||this._flagStops||this._flagUnits){let n,i=this.left._x,o=this.left._y,l=this.right._x,a=this.right._y;/objectBoundingBox/i.test(this._units)&&(n=t.getBoundingClientRect(!0),i=(i-.5)*n.width,o=(o-.5)*n.height,l=(l-.5)*n.width,a=(a-.5)*n.height),this._renderer.effect=e.createLinearGradient(i,o,l,a);for(let c=0;c<this.stops.length;c++){const h=this.stops[c];this._renderer.effect.addColorStop(h._offset,h._color)}}return this.flagReset()}}},"radial-gradient":{render:function(e,t){if(!(!e.canvas.getContext("2d")||!t)){if(this._update(),!this._renderer.effect||this._flagCenter||this._flagFocal||this._flagRadius||this._flagStops||this._flagUnits){let n,i=this.center._x,o=this.center._y,l=this.focal._x,a=this.focal._y,c=this._radius;/objectBoundingBox/i.test(this._units)&&(n=t.getBoundingClientRect(!0),i=(i-.5)*n.width*.5,o=(o-.5)*n.height*.5,l=(l-.5)*n.width*.5,a=(a-.5)*n.height*.5,c*=Math.min(n.width,n.height)),this._renderer.effect=e.createRadialGradient(i,o,0,l,a,c);for(let h=0;h<this.stops.length;h++){const d=this.stops[h];this._renderer.effect.addColorStop(d._offset,d._color)}}return this.flagReset()}}},texture:{render:function(e,t){if(!e.canvas.getContext("2d"))return;this._update();const n=this.image;if((this._flagLoaded||this._flagImage||this._flagVideo||this._flagRepeat)&&this.loaded)this._renderer.effect=e.createPattern(n,this._repeat);else if(!this._renderer.effect)return this.flagReset();if((this._flagOffset||this._flagLoaded||this._flagScale)&&(this._renderer.offset instanceof ce||(this._renderer.offset=new ce),this._renderer.offset.x=-this._offset.x,this._renderer.offset.y=-this._offset.y,n&&(this._renderer.offset.x+=n.width/2,this._renderer.offset.y+=n.height/2,this._scale instanceof ce?(this._renderer.offset.x*=this._scale.x,this._renderer.offset.y*=this._scale.y):(this._renderer.offset.x*=this._scale,this._renderer.offset.y*=this._scale))),this._flagScale||this._flagLoaded){this._renderer.scale instanceof ce||(this._renderer.scale=new ce);let i,o;this._scale instanceof ce?(i=this._scale.x,o=this._scale.y):(i=this._scale,o=this._scale),this._renderer.scale.x=i<0?-i:i,this._renderer.scale.y=o<0?-o:o}return this.flagReset()}},updateTexture:function(e,t){const n=Gt.Utils.getRendererType(t._renderer.type);if(this[n].updateCanvas.call(Ae,e,t),this.canvas.width<=0||this.canvas.height<=0){t._renderer.texture&&e.deleteTexture(t._renderer.texture),delete t._renderer.texture;return}t._renderer.texture||(t._renderer.texture=e.createTexture()),e.bindTexture(e.TEXTURE_2D,t._renderer.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,this.canvas),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR)},program:{create:function(e,t){let n,i,o;if(n=e.createProgram(),Se.each(t,function(l){e.attachShader(n,l)}),e.linkProgram(n),i=e.getProgramParameter(n,e.LINK_STATUS),!i)throw o=e.getProgramInfoLog(n),e.deleteProgram(n),new Hn("unable to link program: "+o);return n}},extensions:{init:function(e){const t={},n=["EXT_texture_filter_anisotropic","WEBGL_compressed_texture_s3tc","OES_texture_float_linear","WEBGL_multisampled_render_to_texture"];for(let i=0;i<n.length;i++){const o=n[i];t[o]=Ae.extensions.get(e,o)}return t},get:function(e,t){return e.getExtension(t)||e.getExtension(`MOZ_${t}`)||e.getExtension(`WEBKIT_${t}`)}},TextureRegistry:new mc};Ae.ctx=Ae.canvas.getContext("2d");var Pv=class extends J{constructor(e){super();let t,n,i,o;if(this.domElement=e.domElement||document.createElement("canvas"),typeof e.offscreenElement<"u"&&(Ae.canvas=e.offscreenElement,Ae.ctx=Ae.canvas.getContext("2d")),this.scene=new wt,this.scene.parent=this,this._renderer={type:"renderer",matrix:new jr(aS),scale:1,opacity:1},this._flagMatrix=!0,e=Se.defaults(e||{},{antialias:!1,alpha:!0,premultipliedAlpha:!0,stencil:!0,preserveDrawingBuffer:!0,overdraw:!1}),this.overdraw=e.overdraw,t=this.ctx=this.domElement.getContext("webgl",e)||this.domElement.getContext("experimental-webgl",e),!this.ctx)throw new Hn("unable to create a webgl context. Try using another renderer.");i=sr.create(t,sr.path.vertex,sr.types.vertex),o=sr.create(t,sr.path.fragment,sr.types.fragment),this.programs={current:null,buffers:{position:t.createBuffer()},resolution:{width:0,height:0,ratio:1,flagged:!1}},n=this.programs.path=Ae.program.create(t,[i,o]),this.programs.text=this.programs.path,t.extensions=Ae.extensions.init(t),t.renderer=this,n.position=t.getAttribLocation(n,"a_position"),n.matrix=t.getUniformLocation(n,"u_matrix"),n.rect=t.getUniformLocation(n,"u_rect");const l=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,l),t.vertexAttribPointer(n.position,2,t.FLOAT,!1,0,0),t.enableVertexAttribArray(n.position),t.bufferData(t.ARRAY_BUFFER,cd,t.STATIC_DRAW),i=sr.create(t,sr.points.vertex,sr.types.vertex),o=sr.create(t,sr.points.fragment,sr.types.fragment),n=this.programs.points=Ae.program.create(t,[i,o]),n.position=t.getAttribLocation(n,"a_position"),n.matrix=t.getUniformLocation(n,"u_matrix"),n.size=t.getUniformLocation(n,"u_size"),t.enable(t.BLEND),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA)}setSize(e,t,n){let i,o;const l=this.ctx;return this.width=e,this.height=t,this.ratio=typeof n>"u"?Vd(l):n,this.domElement.width=e*this.ratio,this.domElement.height=t*this.ratio,Se.isObject(this.domElement.style)&&Se.extend(this.domElement.style,{width:e+"px",height:t+"px"}),this._renderer.matrix[0]=this._renderer.matrix[4]=this._renderer.scale=this.ratio,this._flagMatrix=!0,i=e*this.ratio,o=t*this.ratio,l.viewport(0,0,i,o),this.programs.resolution.width=i,this.programs.resolution.height=o,this.programs.resolution.ratio=this.ratio,this.programs.resolution.flagged=!0,this.trigger(J.Types.resize,e,t,n)}render(){const e=this.ctx;return this.overdraw||e.clear(e.COLOR_BUFFER_BIT),Ae.group.render.call(this.scene,e,this.programs),this._flagMatrix=!1,this.programs.resolution.flagged=!0,this}};T(Pv,"Utils",Ae);var cS=Se.extend({Error:Hn,getRatio:Vd,read:nt,xhr:Tv},Se,un,av,uv),jl=class{constructor(e){T(this,"_events",new J),T(this,"type",""),T(this,"renderer",null),T(this,"scene",null),T(this,"width",0),T(this,"height",0),T(this,"frameCount",0),T(this,"timeDelta",0),T(this,"playing",!1);const t=Se.defaults(e||{},{fullscreen:!1,fitted:!1,width:640,height:480,type:jl.Types.svg,autostart:!1});if(Se.each(t,function(n,i){/fullscreen/i.test(i)||/autostart/i.test(i)||(this[i]=n)},this),Se.isElement(t.domElement)){const n=t.domElement.tagName.toLowerCase();/^(CanvasRenderer-canvas|WebGLRenderer-canvas|SVGRenderer-svg)$/.test(this.type+"-"+n)||(this.type=jl.Types[n])}this.renderer=new jl[this.type](this),this.setPlaying(t.autostart),this.frameCount=0,t.fullscreen?(this.fit=fS.bind(this),this.fit.domElement=window,this.fit.attached=!0,Se.extend(document.body.style,{overflow:"hidden",margin:0,padding:0,top:0,left:0,right:0,bottom:0,position:"fixed"}),Se.extend(this.renderer.domElement.style,{display:"block",top:0,left:0,right:0,bottom:0,position:"fixed"}),Un.bind(this.fit.domElement,"resize",this.fit),this.fit()):t.fitted?(this.fit=hS.bind(this),Se.extend(this.renderer.domElement.style,{display:"block"})):Se.isElement(t.domElement)||(this.renderer.setSize(t.width,t.height,this.ratio),this.width=t.width,this.height=t.height),this.renderer.bind(J.Types.resize,dS.bind(this)),this.scene=this.renderer.scene,jl.Instances.push(this),t.autostart&&Kl.init()}get _bound(){return this._events._bound}set _bound(e){this._events._bound=e}addEventListener(){return this._events.addEventListener.apply(this,arguments)}on(){return this._events.addEventListener.apply(this,arguments)}bind(){return this._events.addEventListener.apply(this,arguments)}removeEventListener(){return this._events.removeEventListener.apply(this,arguments)}off(){return this._events.removeEventListener.apply(this,arguments)}unbind(){return this._events.removeEventListener.apply(this,arguments)}dispatchEvent(){return this._events.dispatchEvent.apply(this,arguments)}trigger(){return this._events.dispatchEvent.apply(this,arguments)}listen(){return this._events.listen.apply(this,arguments)}ignore(){return this._events.ignore.apply(this,arguments)}appendTo(e){return e.appendChild(this.renderer.domElement),this.fit&&(this.fit.domElement!==window&&(this.fit.domElement=e,this.fit.attached=!1),this.update()),this}play(){return this.playing=!0,Kl.init(),this.trigger(J.Types.play)}pause(){return this.playing=!1,this.trigger(J.Types.pause)}setPlaying(e){this.playing=e}release(e){let t,n,i;if(!Se.isObject(e))return this.release(this.scene);if(typeof e.unbind=="function"&&e.unbind(),e.vertices)for(typeof e.vertices.unbind=="function"&&e.vertices.unbind(),t=0;t<e.vertices.length;t++)n=e.vertices[t],typeof n.unbind=="function"&&n.unbind(),n.controls&&(n.controls.left&&typeof n.controls.left.unbind=="function"&&n.controls.left.unbind(),n.controls.right&&typeof n.controls.right.unbind=="function"&&n.controls.right.unbind());if(e.children){for(t=0;t<e.children.length;t++)i=e.children[t],this.release(i);typeof e.children.unbind=="function"&&e.children.unbind()}return e}update(){const e=!!this._lastFrame,t=Se.performance.now();e&&(this.timeDelta=parseFloat((t-this._lastFrame).toFixed(3))),this._lastFrame=t,this.fit&&this.fit.domElement&&!this.fit.attached&&(Un.bind(this.fit.domElement,"resize",this.fit),this.fit.attached=!0,this.fit());const n=this.width,i=this.height,o=this.renderer;return(n!==o.width||i!==o.height)&&o.setSize(n,i,this.ratio),this.trigger(J.Types.update,this.frameCount,this.timeDelta),this.render()}render(){return this.renderer.render(),this.trigger(J.Types.render,this.frameCount++)}add(e){return e instanceof Array||(e=Array.prototype.slice.call(arguments)),this.scene.add(e),this}remove(e){return e instanceof Array||(e=Array.prototype.slice.call(arguments)),this.scene.remove(e),this}clear(){return this.scene.remove(this.scene.children),this}makeLine(e,t,n,i){const o=new Hd(e,t,n,i);return this.scene.add(o),o}makeArrow(e,t,n,i,o){const l=typeof o=="number"?o:10,a=Math.atan2(i-t,n-e),c=[new Le(e,t,void 0,void 0,void 0,void 0,de.move),new Le(n,i,void 0,void 0,void 0,void 0,de.line),new Le(n-l*Math.cos(a-Math.PI/4),i-l*Math.sin(a-Math.PI/4),void 0,void 0,void 0,void 0,de.line),new Le(n,i,void 0,void 0,void 0,void 0,de.move),new Le(n-l*Math.cos(a+Math.PI/4),i-l*Math.sin(a+Math.PI/4),void 0,void 0,void 0,void 0,de.line)],h=new Ne(c,!1,!1,!0);return h.noFill(),h.cap="round",h.join="round",this.scene.add(h),h}makeRectangle(e,t,n,i){const o=new Ji(e,t,n,i);return this.scene.add(o),o}makeRoundedRectangle(e,t,n,i,o){const l=new ta(e,t,n,i,o);return this.scene.add(l),l}makeCircle(e,t,n,i){const o=new Jl(e,t,n,i);return this.scene.add(o),o}makeEllipse(e,t,n,i,o){const l=new ea(e,t,n,i,o);return this.scene.add(l),l}makeStar(e,t,n,i,o){const l=new wc(e,t,n,i,o);return this.scene.add(l),l}makeCurve(e){const t=arguments.length;if(!Array.isArray(e)){e=[];for(let l=0;l<t;l+=2){const a=arguments[l];if(typeof a!="number")break;const c=arguments[l+1];e.push(new Le(a,c))}}const n=arguments[t-1],i=new Ne(e,!(typeof n=="boolean"&&n),!0),o=i.getBoundingClientRect();return i.center().translation.set(o.left+o.width/2,o.top+o.height/2),this.scene.add(i),i}makePolygon(e,t,n,i){const o=new xc(e,t,n,i);return this.scene.add(o),o}makeArcSegment(e,t,n,i,o,l,a){const c=new _c(e,t,n,i,o,l,a);return this.scene.add(c),c}makePoints(e){const t=arguments.length;let n=e;if(!Array.isArray(e)){n=[];for(let o=0;o<t;o+=2){const l=arguments[o];if(typeof l!="number")break;const a=arguments[o+1];n.push(new ce(l,a))}}const i=new vc(n);return this.scene.add(i),i}makePath(e){const t=arguments.length;let n=e;if(!Array.isArray(e)){n=[];for(let a=0;a<t;a+=2){const c=arguments[a];if(typeof c!="number")break;const h=arguments[a+1];n.push(new Le(c,h))}}const i=arguments[t-1],o=new Ne(n,!(typeof i=="boolean"&&i)),l=o.getBoundingClientRect();return typeof l.top=="number"&&typeof l.left=="number"&&typeof l.right=="number"&&typeof l.bottom=="number"&&o.center().translation.set(l.left+l.width/2,l.top+l.height/2),this.scene.add(o),o}makeText(e,t,n,i){const o=new or(e,t,n,i);return this.add(o),o}makeLinearGradient(e,t,n,i){const o=Array.prototype.slice.call(arguments,4),l=new Je(e,t,n,i,o);return this.add(l),l}makeRadialGradient(e,t,n){const i=Array.prototype.slice.call(arguments,3),o=new et(e,t,n,i);return this.add(o),o}makeSprite(e,t,n,i,o,l,a){const c=new yc(e,t,n,i,o,l);return a&&c.play(),this.add(c),c}makeImageSequence(e,t,n,i,o){const l=new kc(e,t,n,i);return o&&l.play(),this.add(l),l}makeTexture(e,t){return new ze(e,t)}makeGroup(e){e instanceof Array||(e=Array.prototype.slice.call(arguments));const t=new wt;return this.scene.add(t),t.add(e),t}interpret(e,t,n){const i=e.tagName.toLowerCase();if(n=typeof n<"u"?n:!0,!(i in nt))return null;const o=nt[i].call(this,e);return n?this.add(t&&o instanceof wt?o.children:o):o.parent&&o.remove(),o}load(e,t){const n=new wt;let i,o,l;const a=(function(c){for(Un.temp.innerHTML=c,o=0;o<Un.temp.children.length;o++)i=Un.temp.children[o],l=this.interpret(i,!1,!1),l!==null&&n.add(l);if(typeof t=="function"){const h=Un.temp.children.length<=1?Un.temp.children[0]:Un.temp.children;t(n,h)}}).bind(this);return/\.svg$/i.test(e)?(Tv(e,a),n):(a(e),n)}},xe=jl;T(xe,"nextFrameID",dn.nextFrameID);T(xe,"Types",dn.Types);T(xe,"Version",dn.Version);T(xe,"PublishDate",dn.PublishDate);T(xe,"Identifier",dn.Identifier);T(xe,"Resolution",dn.Resolution);T(xe,"AutoCalculateImportedMatrices",dn.AutoCalculateImportedMatrices);T(xe,"Instances",dn.Instances);T(xe,"uniqueId",dn.uniqueId);T(xe,"Anchor",Le);T(xe,"Collection",qi);T(xe,"Events",J);T(xe,"Group",wt);T(xe,"Matrix",Ns);T(xe,"Path",Ne);T(xe,"Registry",mc);T(xe,"Shape",zr);T(xe,"Text",or);T(xe,"Vector",ce);T(xe,"Gradient",_t);T(xe,"ImageSequence",kc);T(xe,"LinearGradient",Je);T(xe,"RadialGradient",et);T(xe,"Sprite",yc);T(xe,"Stop",Ur);T(xe,"Texture",ze);T(xe,"ArcSegment",_c);T(xe,"Circle",Jl);T(xe,"Ellipse",ea);T(xe,"Line",Hd);T(xe,"Points",vc);T(xe,"Polygon",xc);T(xe,"Rectangle",Ji);T(xe,"RoundedRectangle",ta);T(xe,"Star",wc);T(xe,"CanvasRenderer",Gt);T(xe,"SVGRenderer",Mv);T(xe,"WebGLRenderer",Pv);T(xe,"Commands",de);T(xe,"Utils",cS);function fS(){const e=document.body.getBoundingClientRect(),t=this.width=e.width,n=this.height=e.height;this.renderer.setSize(t,n,this.ratio)}function hS(){const e=this.renderer.domElement.parentElement;if(!e){console.warn("Two.js: Attempting to fit to parent, but no parent found.");return}const t=e.getBoundingClientRect(),n=this.width=t.width,i=this.height=t.height;this.renderer.setSize(n,i,this.ratio)}function dS(e,t){this.width=e,this.height=t,this.trigger(J.Types.resize,e,t)}var Kl=Un.getRequestAnimationFrame();function Av(){for(let e=0;e<xe.Instances.length;e++){const t=xe.Instances[e];t.playing&&t.update()}xe.nextFrameID=Kl(Av)}Kl.init=function(){Av(),Kl.init=function(){}};const qe={move:"M",line:"L",curve:"C",arc:"A",close:"Z"};class pe{constructor(){B(this,"_events",{});B(this,"_bound",!1)}addEventListener(t,n){return(this._events[t]||(this._events[t]=[])).push(n),this._bound=!0,this}on(){return this.addEventListener.apply(this,arguments)}bind(){return this.addEventListener.apply(this,arguments)}removeEventListener(t,n){if(!this._events)return this;if(!t&&!n)return this._events={},this._bound=!1,this;const i=t?[t]:Object.keys(this._events);for(let o=0,l=i.length;o<l;o++){t=i[o];let a=this._events[t];if(a){let c=[];if(n)for(let h=0,d=a.length;h<d;h++){let g=a[h];g=g.handler?g.handler:g,n!==g&&c.push(g)}this._events[t]=c}}return this}off(){return this.removeEventListener.apply(this,arguments)}unbind(){return this.removeEventListener.apply(this,arguments)}dispatchEvent(t){if(!this._events)return this;const n=Array.prototype.slice.call(arguments,1),i=this._events[t];if(i)for(let o=0;o<i.length;o++)i[o].call(this,...n);return this}trigger(){return this.dispatchEvent.apply(this,arguments)}listen(t,n,i){const o=this;t&&(l.obj=t,l.name=n,l.handler=i,t.on(n,l));function l(){i.apply(o,arguments)}return o}ignore(t,n,i){return t.off(n,i),this}}B(pe,"Types",{play:"play",pause:"pause",update:"update",render:"render",resize:"resize",change:"change",remove:"remove",insert:"insert",order:"order",load:"load"}),B(pe,"Methods",["addEventListener","on","removeEventListener","off","unbind","dispatchEvent","trigger","listen","ignore"]);var Dt;class fd extends Array{constructor(){super();Im(this,Dt,new pe);arguments[0]&&Array.isArray(arguments[0])?arguments[0].length>0&&this.push.apply(this,arguments[0]):arguments.length>0&&this.push.apply(this,arguments)}get _events(){return wn(this,Dt)}set _events(n){jm(this,Dt,n)}get _bound(){return wn(this,Dt)._bound}set _bound(n){wn(this,Dt)._bound=n}addEventListener(){return wn(this,Dt).addEventListener.apply(this,arguments)}on(){return wn(this,Dt).on.apply(this,arguments)}bind(){return wn(this,Dt).bind.apply(this,arguments)}removeEventListener(){return wn(this,Dt).removeEventListener.apply(this,arguments)}off(){return wn(this,Dt).off.apply(this,arguments)}unbind(){return wn(this,Dt).unbind.apply(this,arguments)}dispatchEvent(){return wn(this,Dt).dispatchEvent.apply(this,arguments)}trigger(){return wn(this,Dt).trigger.apply(this,arguments)}listen(){return wn(this,Dt).listen.apply(this,arguments)}ignore(){return wn(this,Dt).ignore.apply(this,arguments)}pop(){const n=super.pop.apply(this,arguments);return this.trigger(pe.Types.remove,[n]),n}shift(){const n=super.shift.apply(this,arguments);return this.trigger(pe.Types.remove,[n]),n}push(){const n=super.push.apply(this,arguments);return this.trigger(pe.Types.insert,arguments),n}unshift(){const n=super.unshift.apply(this,arguments);return this.trigger(pe.Types.insert,arguments),n}splice(){const n=super.splice.apply(this,arguments);if(this.trigger(pe.Types.remove,n),arguments.length>2){const i=this.slice(arguments[0],arguments[0]+arguments.length-2);this.trigger(pe.Types.insert,i),this.trigger(pe.Types.order)}return n}sort(){return super.sort.apply(this,arguments),this.trigger(pe.Types.order),this}reverse(){return super.reverse.apply(this,arguments),this.trigger(pe.Types.order),this}indexOf(){return super.indexOf.apply(this,arguments)}map(n,i){const o=[];for(let l=0;l<this.length;l++){const a=this[l];let c;i?c=n.call(i,a,l):c=n(a,l),o.push(c)}return o}}Dt=new WeakMap;let Br;typeof window<"u"?Br=window:typeof global<"u"?Br=global:typeof self<"u"&&(Br=self);let Ov;const pS=Math.PI*2,To=Math.PI*.5;function gS(e,t,n,i,o,l){let a;return arguments.length<=1?(a=e.a,t=e.b,n=e.c,i=e.d,o=e.e,l=e.f):a=e,{translateX:o,translateY:l,scaleX:Math.sqrt(a*a+t*t),scaleY:Math.sqrt(n*n+i*i),rotation:180*Math.atan2(t,a)/Math.PI}}function mS(e){Ov=e}function yS(e,t){t=t&&t.identity()||new Ov;let n=e;const i=[];for(;n&&n._matrix;)i.push(n._matrix),n=n.parent;i.reverse();for(let o=0;o<i.length;o++){const a=i[o].elements;t.multiply(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9])}return t}function Or(e,t,n){return n*(t-e)+e}function Qu(e,t){for(;e<0;)e+=t;return e%t}const Gy=Br.Float32Array||Array,_S=Math.floor;function Nr(e){return _S(e*1e6)/1e6}const Qy={x:{enumerable:!0,get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this._bound&&this.dispatchEvent(pe.Types.change))}},y:{enumerable:!0,get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this._bound&&this.dispatchEvent(pe.Types.change))}}},jt=class jt extends pe{constructor(n=0,i=0){super();B(this,"_x",0);B(this,"_y",0);for(let o in Qy)Object.defineProperty(this,o,Qy[o]);this.x=n,this.y=i}static add(n,i){return new jt(n.x+i.x,n.y+i.y)}static sub(n,i){return new jt(n.x-i.x,n.y-i.y)}static subtract(n,i){return jt.sub(n,i)}static ratioBetween(n,i){return(n.x*i.x+n.y*i.y)/(n.length()*i.length())}static angleBetween(n,i){if(arguments.length>=4){const a=arguments[0]-arguments[2],c=arguments[1]-arguments[3];return Math.atan2(c,a)}const o=n.x-i.x,l=n.y-i.y;return Math.atan2(l,o)}static distanceBetween(n,i){return Math.sqrt(jt.distanceBetweenSquared(n,i))}static distanceBetweenSquared(n,i){const o=n.x-i.x,l=n.y-i.y;return o*o+l*l}set(n,i){return this.x=n,this.y=i,this}copy(n){return this.x=n.x,this.y=n.y,this}clear(){return this.x=0,this.y=0,this}clone(){return new jt(this.x,this.y)}add(n,i){return arguments.length<=0?this:(arguments.length<=1?typeof n=="number"?(this.x+=n,this.y+=n):n&&typeof n.x=="number"&&typeof n.y=="number"&&(this.x+=n.x,this.y+=n.y):(this.x+=n,this.y+=i),this)}addSelf(n){return this.add.apply(this,arguments)}sub(n,i){return arguments.length<=0?this:(arguments.length<=1?typeof n=="number"?(this.x-=n,this.y-=n):n&&typeof n.x=="number"&&typeof n.y=="number"&&(this.x-=n.x,this.y-=n.y):(this.x-=n,this.y-=i),this)}subtract(){return this.sub.apply(this,arguments)}subSelf(n){return this.sub.apply(this,arguments)}subtractSelf(n){return this.sub.apply(this,arguments)}multiply(n,i){return arguments.length<=0?this:(arguments.length<=1?typeof n=="number"?(this.x*=n,this.y*=n):n&&typeof n.x=="number"&&typeof n.y=="number"&&(this.x*=n.x,this.y*=n.y):(this.x*=n,this.y*=i),this)}multiplySelf(n){return this.multiply.apply(this,arguments)}multiplyScalar(n){return this.multiply(n)}divide(n,i){return arguments.length<=0?this:(arguments.length<=1?typeof n=="number"?(this.x/=n,this.y/=n):n&&typeof n.x=="number"&&typeof n.y=="number"&&(this.x/=n.x,this.y/=n.y):(this.x/=n,this.y/=i),isNaN(this.x)&&(this.x=0),isNaN(this.y)&&(this.y=0),this)}divideSelf(n){return this.divide.apply(this,arguments)}divideScalar(n){return this.divide(n)}negate(){return this.multiply(-1)}dot(n){return this.x*n.x+this.y*n.y}length(){return Math.sqrt(this.lengthSquared())}lengthSquared(){return this.x*this.x+this.y*this.y}normalize(){return this.divideScalar(this.length())}distanceTo(n){return Math.sqrt(this.distanceToSquared(n))}distanceToSquared(n){const i=this.x-n.x,o=this.y-n.y;return i*i+o*o}setLength(n){return this.normalize().multiplyScalar(n)}equals(n,i){return i=typeof i>"u"?1e-4:i,this.distanceTo(n)<i}lerp(n,i){const o=(n.x-this.x)*i+this.x,l=(n.y-this.y)*i+this.y;return this.set(o,l)}isZero(n){return n=typeof n>"u"?1e-4:n,this.length()<n}toString(){return this.x+", "+this.y}toObject(){return{x:Nr(this.x),y:Nr(this.y)}}rotate(n){const i=this.x,o=this.y,l=Math.cos(n),a=Math.sin(n);return this.x=i*l-o*a,this.y=i*a+o*l,this}};B(jt,"zero",new jt),B(jt,"left",new jt(-1,0)),B(jt,"right",new jt(1,0)),B(jt,"up",new jt(0,-1)),B(jt,"down",new jt(0,1));let Pe=jt;class cn extends Pe{constructor(n=0,i=0,o=0,l=0,a=0,c=0,h=qe.move){super(n,i);B(this,"controls",{left:new Pe,right:new Pe});B(this,"_command",qe.move);B(this,"_relative",!0);B(this,"_rx",0);B(this,"_ry",0);B(this,"_xAxisRotation",0);B(this,"_largeArcFlag",0);B(this,"_sweepFlag",1);for(let g in Zy)Object.defineProperty(this,g,Zy[g]);this.command=h,this.relative=!0;const d=cn.makeBroadcast(this);this.controls.left.set(o,l).addEventListener(pe.Types.change,d),this.controls.right.set(a,c).addEventListener(pe.Types.change,d)}static makeBroadcast(n){return i;function i(){n._bound&&n.dispatchEvent(pe.Types.change)}}static fromObject(n){return new cn().copy(n)}copy(n){return this.x=n.x,this.y=n.y,typeof n.command=="string"&&(this.command=n.command),n.controls&&(n.controls.left&&this.controls.left.copy(n.controls.left),n.controls.right&&this.controls.right.copy(n.controls.right)),typeof n.relative=="boolean"&&(this.relative=n.relative),typeof n.rx=="number"&&(this.rx=n.rx),typeof n.ry=="number"&&(this.ry=n.ry),typeof n.xAxisRotation=="number"&&(this.xAxisRotation=n.xAxisRotation),typeof n.largeArcFlag=="number"&&(this.largeArcFlag=n.largeArcFlag),typeof n.sweepFlag=="number"&&(this.sweepFlag=n.sweepFlag),this}clone(){return new cn().copy(this)}toObject(){return{x:Nr(this.x),y:Nr(this.y),command:this.command,relative:this.relative,controls:{left:this.controls.left.toObject(),right:this.controls.right.toObject()},rx:Nr(this.rx),ry:Nr(this.ry),xAxisRotation:Nr(this.xAxisRotation),largeArcFlag:Nr(this.largeArcFlag),sweepFlag:Nr(this.sweepFlag)}}toString(){return JSON.stringify(this.toObject())}}const Zy={command:{enumerable:!0,get:function(){return this._command},set:function(e){this._command!==e&&(this._command=e,this._bound&&this.dispatchEvent(pe.Types.change))}},relative:{enumerable:!0,get:function(){return this._relative},set:function(e){this._relative!==!!e&&(this._relative=!!e,this._bound&&this.dispatchEvent(pe.Types.change))}},rx:{enumerable:!0,get:function(){return this._rx},set:function(e){this._rx!==e&&(this._rx=e,this._bound&&this.dispatchEvent(pe.Types.change))}},ry:{enumerable:!0,get:function(){return this._ry},set:function(e){this._ry!==e&&(this._ry=e,this._bound&&this.dispatchEvent(pe.Types.change))}},xAxisRotation:{enumerable:!0,get:function(){return this._xAxisRotation},set:function(e){this._xAxisRotation!==e&&(this._xAxisRotation=e,this._bound&&this.dispatchEvent(pe.Types.change))}},largeArcFlag:{enumerable:!0,get:function(){return this._largeArcFlag},set:function(e){this._largeArcFlag!==e&&(this._largeArcFlag=e,this._bound&&this.dispatchEvent(pe.Types.change))}},sweepFlag:{get:function(){return this._sweepFlag},set:function(e){this._sweepFlag!==e&&(this._sweepFlag=e,this._bound&&this.dispatchEvent(pe.Types.change))}}};let vS=0;const Jy={nextFrameID:null,Types:{webgl:"WebGLRenderer",svg:"SVGRenderer",canvas:"CanvasRenderer"},Version:"<%= version %>",PublishDate:"<%= publishDate %>",Identifier:"two-",Resolution:12,AutoCalculateImportedMatrices:!0,Instances:[],uniqueId:function(){return vS++}},Zu={CollinearityEpsilon:Math.pow(10,-30),RecursionLimit:16,CuspLimit:0,Tolerance:{distance:.25,angle:0,epsilon:Number.EPSILON},abscissas:[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],weights:[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]]};function Ju(e,t,n,i,o){const l=1-e;return l*l*l*t+3*l*l*e*n+3*l*e*e*i+e*e*e*o}function xS(e,t,n,i,o,l,a,c,h){h=h||Zu.RecursionLimit;const d=h+1;if(Math.abs(e-a)<.001&&Math.abs(t-c)<.001)return[new cn(a,c)];const g=[];for(let m=0;m<d;m++){const v=m/d,y=Ju(v,e,n,o,a),w=Ju(v,t,i,l,c);g.push(new cn(y,w))}return g}function wS(e,t,n,i,o,l,a,c,h){if(e===n&&t===i&&o===a&&l===c){const S=a-e,b=c-t;return Math.sqrt(S*S+b*b)}const d=9*(n-o)+3*(a-e),g=6*(e+o)-12*n,m=3*(n-e),v=9*(i-l)+3*(c-t),y=6*(t+l)-12*i,w=3*(i-t);function k(S){const b=(d*S+g)*S+m,x=(v*S+y)*S+w;return Math.sqrt(b*b+x*x)}return bS(k,0,1,h||Zu.RecursionLimit)}function kS(e,t,n,i,o,l,a,c){const h=[],d=[[],[]];let g,m,v,y,w,k,S,b;for(let A=0;A<2;++A){if(A==0?(m=6*e-12*n+6*o,g=-3*e+9*n-9*o+3*a,v=3*n-3*e):(m=6*t-12*i+6*l,g=-3*t+9*i-9*l+3*c,v=3*i-3*t),Math.abs(g)<1e-12){if(Math.abs(m)<1e-12)continue;y=-v/m,0<y&&y<1&&h.push(y);continue}S=m*m-4*v*g,b=Math.sqrt(S),!(S<0)&&(w=(-m+b)/(2*g),0<w&&w<1&&h.push(w),k=(-m-b)/(2*g),0<k&&k<1&&h.push(k))}let x=h.length,C=x,M;for(;x--;)y=h[x],M=1-y,d[0][x]=M*M*M*e+3*M*M*y*n+3*M*y*y*o+y*y*y*a,d[1][x]=M*M*M*t+3*M*M*y*i+3*M*y*y*l+y*y*y*c;return d[0][C]=e,d[1][C]=t,d[0][C+1]=a,d[1][C+1]=c,d[0].length=d[1].length=C+2,{min:{x:Math.min.apply(0,d[0]),y:Math.min.apply(0,d[1])},max:{x:Math.max.apply(0,d[0]),y:Math.max.apply(0,d[1])}}}function bS(e,t,n,i){let o=Zu.abscissas[i-2],l=Zu.weights[i-2],a=.5*(n-t),c=a+t,h=0,d=i+1>>1,g=i&1?l[h++]*e(c):0;for(;h<d;){const m=a*o[h];g+=l[h++]*(e(c+m)+e(c-m))}return a*g}function SS(e,t){const n=e.length,i=n-1;for(let o=0;o<n;o++){const l=e[o],a=t?Qu(o-1,n):Math.max(o-1,0),c=t?Qu(o+1,n):Math.min(o+1,i),h=e[a],d=l,g=e[c];ES(h,d,g),d.command=o===0?qe.move:qe.curve}}function ES(e,t,n){const i=Pe.angleBetween(e,t),o=Pe.angleBetween(n,t);let l=Pe.distanceBetween(e,t),a=Pe.distanceBetween(n,t),c=(i+o)/2;return l<1e-4||a<1e-4?(typeof t.relative=="boolean"&&!t.relative&&(t.controls.left.copy(t),t.controls.right.copy(t)),t):(l*=.33,a*=.33,o<i?c+=To:c-=To,t.controls.left.x=Math.cos(c)*l,t.controls.left.y=Math.sin(c)*l,c-=Math.PI,t.controls.right.x=Math.cos(c)*a,t.controls.right.y=Math.sin(c)*a,typeof t.relative=="boolean"&&!t.relative&&(t.controls.left.x+=t.x,t.controls.left.y+=t.y,t.controls.right.x+=t.x,t.controls.right.y+=t.y),t)}let bc=class Lv extends pe{constructor(){super();B(this,"_flagId",!1);B(this,"_flagClassName",!1);B(this,"_renderer",{});B(this,"_id",Jy.Identifier+Jy.uniqueId());B(this,"_className","");B(this,"classList",[]);for(let n in e_)Object.defineProperty(this,n,e_[n])}static fromObject(n){const i=new Lv().copy(n);return"id"in n&&(i.id=n.id),i}flagReset(){this._flagId=this._flagClassName=!1}copy(n){return this.renderer.type=n.renderer.type,this.className=n.className,this}toObject(){return{renderer:{type:this.renderer.type},id:this.id,className:this.className}}};const e_={renderer:{enumerable:!1,get:function(){return this._renderer}},id:{enumerable:!0,get:function(){return this._id},set:function(e){const t=this._id;e!==this._id&&(this._id=e,this._flagId=!0,this.parent&&(delete this.parent.children.ids[t],this.parent.children.ids[this._id]=this))}},className:{enumerable:!0,get:function(){return this._className},set:function(e){this._className!==e&&(this._flagClassName=!0,this.classList=e.split(/\s+?/),this._className=e)}}};class t_ extends Error{constructor(n){super();B(this,"name","Two.js");B(this,"message");this.message=n}}class CS{constructor(){B(this,"map",{})}add(t,n){return this.map[t]=n,this}remove(t){return delete this.map[t],this}get(t){return this.map[t]}contains(t){return t in this.map}}let Fu;const n_={video:/\.(mp4|webm|ogg)$/i,image:/\.(jpe?g|png|gif|tiff|webp)$/i,effect:/texture|gradient/i};Br.document&&(Fu=document.createElement("a"));const lt=class lt extends bc{constructor(n,i){super();B(this,"_flagSrc",!1);B(this,"_flagImage",!1);B(this,"_flagVideo",!1);B(this,"_flagLoaded",!1);B(this,"_flagRepeat",!1);B(this,"_flagOffset",!1);B(this,"_flagScale",!1);B(this,"_src","");B(this,"_image",null);B(this,"_loaded",!1);B(this,"_repeat","no-repeat");B(this,"_scale",1);B(this,"_offset",null);for(let o in r_)Object.defineProperty(this,o,r_[o]);if(this._renderer.type="texture",this._renderer.flagOffset=RS.bind(this),this._renderer.flagScale=TS.bind(this),this.loaded=!1,this.repeat="no-repeat",this.offset=new Pe,typeof i=="function"){const o=(function(){this.unbind(pe.Types.load,o),typeof i=="function"&&i()}).bind(this);this.bind(pe.Types.load,o)}if(typeof n=="string")this.src=n;else if(typeof n=="object"){const o=Object.prototype.toString.call(n);(o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]"||o==="[object HTMLVideoElement]"||o==="[object Image]")&&(this.image=n)}this._update()}fromObject(n){const i=new lt().copy(n);return"id"in n&&(i.id=n.id),i}static getAbsoluteURL(n){return Fu?(Fu.href=n,Fu.href):n}static loadHeadlessBuffer(n,i){n.image.onload=i,n.image.src=n.src}static getTag(n){return n&&n.nodeName&&n.nodeName.toLowerCase()||"img"}static getImage(n){const i=lt.getAbsoluteURL(n);if(lt.ImageRegistry.contains(i))return lt.ImageRegistry.get(i);let o;return Br.document?n_.video.test(i)?o=document.createElement("video"):o=document.createElement("img"):console.warn("Two.js: no prototypical image defined for Two.Texture"),o.crossOrigin="anonymous",o.referrerPolicy="no-referrer",o}static load(n,i){let o=n.image,l=lt.getTag(o);n._flagImage&&(/canvas/i.test(l)?lt.Register.canvas(n,i):(n._src=o.getAttribute("two-src")||o.src,lt.Register[l](n,i))),n._flagSrc&&(o||(o=lt.getImage(n.src),n.image=o),l=lt.getTag(o),lt.Register[l](n,i))}clone(){const n=new lt(this.src);return n.repeat=this.repeat,n.offset.copy(this.offset),n.scale=this.scale,n}copy(n){return this.src=n.src,this.repeat=n.repeat,this.offset=typeof n.offset=="number"||n.offset instanceof Pe?n.offset:new Pe().copy(n.offset),this.scale=typeof n.scale=="number"||n.scale instanceof Pe?n.scale:new Pe().copy(n.scale),this}toObject(){const n=super.toObject.call(this);return n.renderer.type="texture",n.src=this.src,n.repeat=this.repeat,n.offset=this.offset.toObject(),n.scale=typeof this.scale=="number"?this.scale:this.scale.toObject(),n}_update(){return(this._flagSrc||this._flagImage)&&(this.trigger(pe.Types.change),(this._flagSrc||this._flagImage)&&(this.loaded=!1,lt.load(this,(function(){this.loaded=!0,this.trigger(pe.Types.change).trigger(pe.Types.load)}).bind(this)))),this._image&&this._image.readyState>=4&&(this._flagVideo=!0),this}flagReset(){return this._flagSrc=this._flagImage=this._flagLoaded=this._flagRepeat=this._flagVideo=this._flagScale=this._flagOffset=!1,super.flagReset.call(this),this}};B(lt,"Properties",["src","loaded","repeat","scale","offset","image"]),B(lt,"RegularExpressions",n_),B(lt,"ImageRegistry",new CS),B(lt,"Register",{canvas:function(n,i){n._src="#"+n.id,lt.ImageRegistry.add(n.src,n.image),typeof i=="function"&&i()},img:function(n,i){const o=n.image,l=function(c){o.removeEventListener&&typeof o.removeEventListener=="function"&&(o.removeEventListener("load",l,!1),o.removeEventListener("error",a,!1)),typeof i=="function"&&i()},a=function(c){throw typeof o.removeEventListener=="function"&&(o.removeEventListener("load",l,!1),o.removeEventListener("error",a,!1)),new t_("unable to load "+n.src)};typeof o.width=="number"&&o.width>0&&typeof o.height=="number"&&o.height>0?l():typeof o.addEventListener=="function"&&(o.addEventListener("load",l,!1),o.addEventListener("error",a,!1)),n._src=lt.getAbsoluteURL(n._src),!(o&&o.getAttribute("two-src"))&&(o.setAttribute("two-src",n.src),lt.ImageRegistry.add(n.src,o),n.image.src=n.src)},video:function(n,i){const o=function(a){n.image.removeEventListener("canplaythrough",o,!1),n.image.removeEventListener("error",l,!1),n.image.width=n.image.videoWidth,n.image.height=n.image.videoHeight,typeof i=="function"&&i()},l=function(a){throw n.image.removeEventListener("canplaythrough",o,!1),n.image.removeEventListener("error",l,!1),new t_("unable to load "+n.src)};n._src=lt.getAbsoluteURL(n._src),n.image.getAttribute("two-src")||(n.image.setAttribute("two-src",n.src),lt.ImageRegistry.add(n.src,n.image)),n.image.readyState>=4?o():(n.image.addEventListener("canplaythrough",o,!1),n.image.addEventListener("error",l,!1),n.image.src=n.src,n.image.load())}});let Cn=lt;const r_={src:{enumerable:!0,get:function(){return this._src},set:function(e){this._src=e,this._flagSrc=!0}},loaded:{enumerable:!0,get:function(){return this._loaded},set:function(e){this._loaded=e,this._flagLoaded=!0}},repeat:{enumerable:!0,get:function(){return this._repeat},set:function(e){this._repeat=e,this._flagRepeat=!0}},image:{enumerable:!0,get:function(){return this._image},set:function(e){const t=Cn.getTag(e);let n;switch(t){case"canvas":n="#"+e.id;break;default:n=e.src}Cn.ImageRegistry.contains(n)?this._image=Cn.ImageRegistry.get(e.src):this._image=e,this._flagImage=!0}},offset:{enumerable:!0,get:function(){return this._offset},set:function(e){this._offset&&this._offset.unbind(pe.Types.change,this._renderer.flagOffset),this._offset=e,this._offset.bind(pe.Types.change,this._renderer.flagOffset),this._flagOffset=!0}},scale:{enumerable:!0,get:function(){return this._scale},set:function(e){this._scale instanceof Pe&&this._scale.unbind(pe.Types.change,this._renderer.flagScale),this._scale=e,this._scale instanceof Pe&&this._scale.bind(pe.Types.change,this._renderer.flagScale),this._flagScale=!0}}};function RS(){this._flagOffset=!0}function TS(){this._flagScale=!0}const i_=Array.prototype.slice;function MS(e){if(e==null)return!1;const t=e.length;return typeof t=="number"&&t>=0&&t<4294967296}const Bt={isNaN:function(e){return typeof e=="number"&&e!==+e},isElement:function(e){return!!(e&&e.nodeType===1)},isObject:function(e){const t=typeof e;return t==="function"||t==="object"&&!!e},extend:function(e){const t=i_.call(arguments,1);for(let n=0;n<t.length;n++){const i=t[n];for(let o in i)e[o]=i[o]}return e},defaults:function(e){const t=i_.call(arguments,1);for(let n=0;n<t.length;n++){const i=t[n];for(let o in i)e[o]===void 0&&(e[o]=i[o])}return e},each:function(e,t,n){const i=n||this,o=!MS(e)&&Object.keys(e),l=(o||e).length;for(let a=0;a<l;a++){const c=o?o[a]:a;t.call(i,e[c],c,e)}return e},performance:Br.performance&&Br.performance.now?Br.performance:Date},Sn=class Sn extends bc{constructor(n,i,o){super();B(this,"_flagOffset",!0);B(this,"_flagOpacity",!0);B(this,"_flagColor",!0);B(this,"_offset",0);B(this,"_opacity",1);B(this,"_color","#fff");for(let l in s_)Object.defineProperty(this,l,s_[l]);this._renderer.type="stop",this.offset=typeof n=="number"?n:Sn.Index<=0?0:1,this.opacity=typeof o=="number"?o:1,this.color=typeof i=="string"?i:Sn.Index<=0?"#fff":"#000",Sn.Index=(Sn.Index+1)%2}static fromObject(n){const i=new Sn().copy(n);return"id"in n&&(i.id=n.id),i}copy(n){super.copy.call(this,n);for(let i=0;i<Sn.Properties.length;i++){const o=Sn.Properties[i];o in n&&(this[o]=n[o])}return this}clone(n){const i=new Sn;return Bt.each(Sn.Properties,function(o){i[o]=this[o]},this),n&&n.stops&&n.stops.push(i),i}toObject(){const n=super.toObject.call(this);return n.renderer.type="stop",Bt.each(Sn.Properties,i=>{n[i]=this[i]},this),n}flagReset(){return this._flagOffset=this._flagColor=this._flagOpacity=!1,super.flagReset.call(this),this}};B(Sn,"Index",0),B(Sn,"Properties",["offset","opacity","color"]);let Ts=Sn;const s_={offset:{enumerable:!0,get:function(){return this._offset},set:function(e){this._offset=e,this._flagOffset=!0,this.parent&&(this.parent._flagStops=!0)}},opacity:{enumerable:!0,get:function(){return this._opacity},set:function(e){this._opacity=e,this._flagOpacity=!0,this.parent&&(this.parent._flagStops=!0)}},color:{enumerable:!0,get:function(){return this._color},set:function(e){this._color=e,this._flagColor=!0,this.parent&&(this.parent._flagStops=!0)}}},Lr=class Lr extends bc{constructor(n){super();B(this,"_flagStops",!1);B(this,"_flagSpread",!1);B(this,"_flagUnits",!1);B(this,"_spread","");B(this,"_units","");for(let i in o_)Object.defineProperty(this,i,o_[i]);this._renderer.type="gradient",this._renderer.flagStops=PS.bind(this),this._renderer.bindStops=AS.bind(this),this._renderer.unbindStops=OS.bind(this),this.spread="pad",this.units="objectBoundingBox",n&&(this.stops=n)}static fromObject(n){let i=n.stops;i&&i.length>0&&(i=i.map(l=>l instanceof Ts?l:new Ts().copy(l)));const o=new Lr().copy(n);return"id"in n&&(o.id=n.id),o}clone(n){const i=this.stops.map(l=>l.clone()),o=new Lr(i);return Bt.each(Lr.Properties,l=>{o[l]=this[l]},this),n&&n.add(o),o}copy(n){super.copy.call(this,n);for(let i=0;i<Lr.Properties.length;i++){const o=Lr.Properties[i];o in n&&(this[o]=n[o])}return this}toObject(){const n={stops:this.stops.map(i=>i.toObject())};return Bt.each(Lr.Properties,i=>{n[i]=this[i]},this),n}_update(){return(this._flagSpread||this._flagStops)&&this.trigger(pe.Types.change),this}flagReset(){return this._flagSpread=this._flagUnits=this._flagStops=!1,super.flagReset.call(this),this}};B(Lr,"Stop",Ts),B(Lr,"Properties",["spread","stops","units"]);let fn=Lr;const o_={spread:{enumerable:!0,get:function(){return this._spread},set:function(e){this._spread=e,this._flagSpread=!0}},units:{enumerable:!0,get:function(){return this._units},set:function(e){this._units=e,this._flagUnits=!0}},stops:{enumerable:!0,get:function(){return this._stops},set:function(e){const t=this._renderer.bindStops,n=this._renderer.unbindStops;this._stops&&this._stops.unbind(pe.Types.insert,t).unbind(pe.Types.remove,n),this._stops=new fd((e||[]).slice(0)),this._stops.bind(pe.Types.insert,t).bind(pe.Types.remove,n),t(this._stops)}}};function PS(){this._flagStops=!0}function AS(e){let t=e.length;for(;t--;)e[t].bind(pe.Types.change,this._renderer.flagStops),e[t].parent=this;this._renderer.flagStops()}function OS(e){let t=e.length;for(;t--;)e[t].unbind(pe.Types.change,this._renderer.flagStops),delete e[t].parent;this._renderer.flagStops()}const Ui=class Ui extends fn{constructor(n,i,o,l,a){super(a);B(this,"_flagEndPoints",!1);B(this,"_left",null);B(this,"_right",null);for(let c in l_)Object.defineProperty(this,c,l_[c]);this._renderer.type="linear-gradient",this._renderer.flagEndPoints=LS.bind(this),this.left=new Pe,this.right=new Pe,typeof n=="number"&&(this.left.x=n),typeof i=="number"&&(this.left.y=i),typeof o=="number"&&(this.right.x=o),typeof l=="number"&&(this.right.y=l)}static fromObject(n){const i=new Ui().copy(n);return"id"in n&&(i.id=n.id),i}copy(n){super.copy.call(this,n);for(let i=0;i<Ui.Properties.length;i++){const o=Ui.Properties[i];o in n&&(this[o]=n[o]instanceof Pe?n[o]:new Pe().copy(n[o]))}return this}clone(n){const i=this.stops.map(function(l){return l.clone()}),o=new Ui(this.left._x,this.left._y,this.right._x,this.right._y,i);return Bt.each(fn.Properties,function(l){o[l]=this[l]},this),n&&n.add(o),o}toObject(){const n=super.toObject.call(this);return n.left=this.left.toObject(),n.right=this.right.toObject(),n}_update(){return(this._flagEndPoints||this._flagSpread||this._flagStops)&&this.trigger(pe.Types.change),this}flagReset(){return this._flagEndPoints=!1,super.flagReset.call(this),this}};B(Ui,"Stop",Ts),B(Ui,"Properties",["left","right"]);let kr=Ui;const l_={left:{enumerable:!0,get:function(){return this._left},set:function(e){this._left instanceof Pe&&this._left.unbind(pe.Types.change,this._renderer.flagEndPoints),this._left=e,this._left.bind(pe.Types.change,this._renderer.flagEndPoints),this._flagEndPoints=!0}},right:{enumerable:!0,get:function(){return this._right},set:function(e){this._right instanceof Pe&&this._right.unbind(pe.Types.change,this._renderer.flagEndPoints),this._right=e,this._right.bind(pe.Types.change,this._renderer.flagEndPoints),this._flagEndPoints=!0}}};function LS(){this._flagEndPoints=!0}const Fr=class Fr extends fn{constructor(n,i,o,l,a,c){super(l);B(this,"_flagRadius",!1);B(this,"_flagCenter",!1);B(this,"_flagFocal",!1);B(this,"_radius",0);B(this,"_center",null);B(this,"_focal",null);for(let h in a_)Object.defineProperty(this,h,a_[h]);this._renderer.type="radial-gradient",this._renderer.flagCenter=FS.bind(this),this._renderer.flagFocal=NS.bind(this),this.center=new Pe,this.radius=typeof o=="number"?o:1,this.focal=new Pe,typeof n=="number"&&(this.center.x=n),typeof i=="number"&&(this.center.y=i),this.focal.copy(this.center),typeof a=="number"&&(this.focal.x=a),typeof c=="number"&&(this.focal.y=c)}static fromObject(n){const i=new Fr().copy(n);return"id"in n&&(i.id=n.id),i}copy(n){super.copy.call(this,n);for(let i=0;i<Fr.Properties.length;i++){const o=Fr.Properties[i];o in n&&(/(center|focal)i/.test(o)?this[o]=n[o]instanceof Pe?n[o]:new Pe().copy(n[o]):typeof n[o]=="number"&&(this[o]=n[MediaKeySystemAccess]))}return this}clone(n){const i=this.stops.map(function(l){return l.clone()}),o=new Fr(this.center._x,this.center._y,this._radius,i,this.focal._x,this.focal._y);return Bt.each(fn.Properties.concat(Fr.Properties),function(l){o[l]=this[l]},this),n&&n.add(o),o}toObject(){const n=super.toObject.call(this);return Bt.each(Fr.Properties,function(i){n[i]=this[i]},this),n.center=this.center.toObject(),n.focal=this.focal.toObject(),n}_update(){return(this._flagRadius||this._flatCenter||this._flagFocal||this._flagSpread||this._flagStops)&&this.trigger(pe.Types.change),this}flagReset(){return this._flagRadius=this._flagCenter=this._flagFocal=!1,super.flagReset.call(this),this}};B(Fr,"Stop",Ts),B(Fr,"Properties",["center","radius","focal"]);let br=Fr;const a_={radius:{enumerable:!0,get:function(){return this._radius},set:function(e){this._radius=e,this._flagRadius=!0}},center:{enumerable:!0,get:function(){return this._center},set:function(e){this._center&&this._center.unbind(pe.Types.change,this._renderer.flagCenter),this._center=e,this._center.bind(pe.Types.change,this._renderer.flagCenter),this._flagCenter=!0}},focal:{enumerable:!0,get:function(){return this._focal},set:function(e){this._focal&&this._focal.unbind(pe.Types.change,this._renderer.flagFocal),this._focal=e,this._focal.bind(pe.Types.change,this._renderer.flagFocal),this._flagFocal=!0}}};function FS(){this._flagCenter=!0}function NS(){this._flagFocal=!0}function u_(e,t){if(t===0||t===1)return!0;const i=e._length*t;let o=0;for(let l=0;l<e._lengths.length;l++){const a=e._lengths[l];if(o>=i)return i-o>=0;o+=a}return!1}function c_(e,t){const n=e._length;if(t<=0)return 0;if(t>=n)return e._lengths.length-1;for(let i=0,o=0;i<e._lengths.length;i++){if(o+e._lengths[i]>=t)return t-=o,Math.max(i-1,0)+t/e._lengths[i];o+=e._lengths[i]}return-1}function f_(e,t,n){let i,o,l,a,c,h,d,g;const m=t.controls&&t.controls.right,v=e.controls&&e.controls.left;return i=t.x,c=t.y,o=(m||t).x,h=(m||t).y,l=(v||e).x,d=(v||e).y,a=e.x,g=e.y,m&&t._relative&&(o+=t.x,h+=t.y),v&&e._relative&&(l+=e.x,d+=e.y),wS(i,c,o,h,l,d,a,g,n)}function h_(e,t,n){let i,o,l,a,c,h,d,g;const m=t.controls&&t.controls.right,v=e.controls&&e.controls.left;return i=t.x,c=t.y,o=(m||t).x,h=(m||t).y,l=(v||e).x,d=(v||e).y,a=e.x,g=e.y,m&&t._relative&&(o+=t.x,h+=t.y),v&&e._relative&&(l+=e.x,d+=e.y),xS(i,c,o,h,l,d,a,g,n)}function ec(e){switch(e.renderer.type){case"texture":return Cn.fromObject(e);case"gradient":return fn.fromObject(e);case"linear-gradient":return kr.fromObject(e);case"radial-gradient":return br.fromObject(e)}return e}const IS=Math.cos,jS=Math.sin,d_=Math.tan,Lh=[],an=class an extends pe{constructor(n,i,o,l,a,c){super();B(this,"elements",new Gy(9));B(this,"manual",!1);let h=n;Array.isArray(h)||(h=Array.prototype.slice.call(arguments)),this.identity(),h.length>0&&this.set(h)}static Multiply(n,i,o){if(i.length<=3){const j=n;let X,z,W;const K=i[0]||0,q=i[1]||0,ae=i[2]||0;return X=j[0]*K+j[1]*q+j[2]*ae,z=j[3]*K+j[4]*q+j[5]*ae,W=j[6]*K+j[7]*q+j[8]*ae,[X,z,W]}const l=n[0],a=n[1],c=n[2],h=n[3],d=n[4],g=n[5],m=n[6],v=n[7],y=n[8],w=i[0],k=i[1],S=i[2],b=i[3],x=i[4],C=i[5],M=i[6],A=i[7],N=i[8];return o=o||new Gy(9),o[0]=l*w+a*b+c*M,o[1]=l*k+a*x+c*A,o[2]=l*S+a*C+c*N,o[3]=h*w+d*b+g*M,o[4]=h*k+d*x+g*A,o[5]=h*S+d*C+g*N,o[6]=m*w+v*b+y*M,o[7]=m*k+v*x+y*A,o[8]=m*S+v*C+y*N,o}static fromObject(n){return new an().copy(n)}set(n,i,o,l,a,c,h,d,g){if(typeof i>"u"){const m=n;n=m[0],i=m[1],o=m[2],l=m[3],a=m[4],c=m[5],h=m[6],d=m[7],g=m[8]}return this.elements[0]=n,this.elements[1]=i,this.elements[2]=o,this.elements[3]=l,this.elements[4]=a,this.elements[5]=c,this.elements[6]=h,this.elements[7]=d,this.elements[8]=g,this.trigger(pe.Types.change)}copy(n){return this.elements[0]=n.elements[0],this.elements[1]=n.elements[1],this.elements[2]=n.elements[2],this.elements[3]=n.elements[3],this.elements[4]=n.elements[4],this.elements[5]=n.elements[5],this.elements[6]=n.elements[6],this.elements[7]=n.elements[7],this.elements[8]=n.elements[8],this.manual=n.manual,this.trigger(pe.Types.change)}identity(){return this.elements[0]=an.Identity[0],this.elements[1]=an.Identity[1],this.elements[2]=an.Identity[2],this.elements[3]=an.Identity[3],this.elements[4]=an.Identity[4],this.elements[5]=an.Identity[5],this.elements[6]=an.Identity[6],this.elements[7]=an.Identity[7],this.elements[8]=an.Identity[8],this.trigger(pe.Types.change)}multiply(n,i,o,l,a,c,h,d,g){if(typeof i>"u")return this.elements[0]*=n,this.elements[1]*=n,this.elements[2]*=n,this.elements[3]*=n,this.elements[4]*=n,this.elements[5]*=n,this.elements[6]*=n,this.elements[7]*=n,this.elements[8]*=n,this.trigger(pe.Types.change);if(typeof o>"u"&&(o=1),typeof l>"u"){n=n||0,i=i||0,o=o||0,a=this.elements;const re=a[0]*n+a[1]*i+a[2]*o,ue=a[3]*n+a[4]*i+a[5]*o,Z=a[6]*n+a[7]*i+a[8]*o;return[re,ue,Z]}const m=this.elements,v=[n,i,o,l,a,c,h,d,g],y=m[0],w=m[1],k=m[2],S=m[3],b=m[4],x=m[5],C=m[6],M=m[7],A=m[8],N=v[0],j=v[1],X=v[2],z=v[3],W=v[4],K=v[5],q=v[6],ae=v[7],te=v[8];return this.elements[0]=y*N+w*z+k*q,this.elements[1]=y*j+w*W+k*ae,this.elements[2]=y*X+w*K+k*te,this.elements[3]=S*N+b*z+x*q,this.elements[4]=S*j+b*W+x*ae,this.elements[5]=S*X+b*K+x*te,this.elements[6]=C*N+M*z+A*q,this.elements[7]=C*j+M*W+A*ae,this.elements[8]=C*X+M*K+A*te,this.trigger(pe.Types.change)}inverse(n){const i=this.elements;n=n||new an;const o=i[0],l=i[1],a=i[2],c=i[3],h=i[4],d=i[5],g=i[6],m=i[7],v=i[8],y=v*h-d*m,w=-v*c+d*g,k=m*c-h*g;let S=o*y+l*w+a*k;return S?(S=1/S,n.elements[0]=y*S,n.elements[1]=(-v*l+a*m)*S,n.elements[2]=(d*l-a*h)*S,n.elements[3]=w*S,n.elements[4]=(v*o-a*g)*S,n.elements[5]=(-d*o+a*c)*S,n.elements[6]=k*S,n.elements[7]=(-m*o+l*g)*S,n.elements[8]=(h*o-l*c)*S,n):null}scale(n,i){return arguments.length<=1&&(i=n),this.multiply(n,0,0,0,i,0,0,0,1)}rotate(n){const i=IS(n),o=jS(n);return this.multiply(i,-o,0,o,i,0,0,0,1)}translate(n,i){return this.multiply(1,0,n,0,1,i,0,0,1)}skewX(n){const i=d_(n);return this.multiply(1,i,0,0,1,0,0,0,1)}skewY(n){const i=d_(n);return this.multiply(1,0,0,i,1,0,0,0,1)}toString(n){return Lh.length=0,this.toTransformArray(n,Lh),Lh.map(Nr).join(" ")}toTransformArray(n,i){const o=this.elements,l=!!i,a=o[0],c=o[1],h=o[2],d=o[3],g=o[4],m=o[5];if(n){const v=o[6],y=o[7],w=o[8];if(l){i[0]=a,i[1]=d,i[2]=v,i[3]=c,i[4]=g,i[5]=y,i[6]=h,i[7]=m,i[8]=w;return}return[a,d,v,c,g,y,h,m,w]}if(l){i[0]=a,i[1]=d,i[2]=c,i[3]=g,i[4]=h,i[5]=m;return}return[a,d,c,g,h,m]}toArray(n,i){const o=this.elements,l=!!i,a=o[0],c=o[1],h=o[2],d=o[3],g=o[4],m=o[5];if(n){const v=o[6],y=o[7],w=o[8];if(l){i[0]=a,i[1]=c,i[2]=h,i[3]=d,i[4]=g,i[5]=m,i[6]=v,i[7]=y,i[8]=w;return}return[a,c,h,d,g,m,v,y,w]}if(l){i[0]=a,i[1]=c,i[2]=h,i[3]=d,i[4]=g,i[5]=m;return}return[a,c,h,d,g,m]}toObject(){return{renderer:{type:"matrix"},elements:this.toArray(!0),manual:!!this.manual}}clone(){return new an().copy(this)}};B(an,"Identity",[1,0,0,0,1,0,0,0,1]);let Is=an;mS(Is);class Ms extends bc{constructor(){super();B(this,"_flagMatrix",!0);B(this,"_flagScale",!1);B(this,"_matrix",null);B(this,"_worldMatrix",null);B(this,"_position",null);B(this,"_rotation",0);B(this,"_scale",1);B(this,"_skewX",0);B(this,"_skewY",0);for(let n in Tu)Object.defineProperty(this,n,Tu[n]);this._renderer.flagMatrix=Fv.bind(this),this.isShape=!0,this.matrix=new Is,this.worldMatrix=new Is,this.position=new Pe,this.rotation=0,this.scale=1,this.skewX=0,this.skewY=0}static fromObject(n){const i=new Ms().copy(n);return"id"in n&&(i.id=n.id),i}get renderer(){return this._renderer}set renderer(n){this._renderer=n}get translation(){return Tu.position.get.apply(this,arguments)}set translation(n){Tu.position.set.apply(this,arguments)}addTo(n){return n.add(this),this}remove(){return this.parent?(this.parent.remove(this),this):this}copy(n){return super.copy.call(this,n),"position"in n&&(n.position instanceof Pe?this.position=n.position:this.position.copy(n.position)),"rotation"in n&&(this.rotation=n.rotation),"scale"in n&&(this.scale=typeof n.scale=="number"||n.scale instanceof Pe?n.scale:new Pe(n.scale.x,n.scale.y)),"skewX"in n&&(this.skewX=n.skewX),"skewY"in n&&(this.skewY=n.skewY),"matrix"in n&&n.matrix.manual&&(this.matrix.copy(n.matrix),this.matrix.manual=!0),this}clone(n){const i=new Ms;return i.position.copy(this.position),i.rotation=this.rotation,i.scale=this.scale,i.skewX=this.skewX,i.skewY=this.skewY,this.matrix.manual&&i.matrix.copy(this.matrix),n&&n.add(i),i._update()}toObject(){const n=super.toObject.call(this);return n.renderer={type:"shape"},n.isShape=!0,n.translation=this.translation.toObject(),n.rotation=this.translation.rotation,n.scale=this.scale instanceof Pe?this.scale.toObject():this.scale,n.skewX=this.skewX,n.skewY=this.skewY,n.matrix=this.matrix.toObject(),n}_update(n){return!this._matrix.manual&&this._flagMatrix&&(this._matrix.identity().translate(this.position.x,this.position.y),this._scale instanceof Pe?this._matrix.scale(this._scale.x,this._scale.y):this._matrix.scale(this._scale),this._matrix.rotate(this.rotation),this._matrix.skewX(this.skewX),this._matrix.skewY(this.skewY)),n&&this.parent&&this.parent._update&&this.parent._update(),this}flagReset(){return this._flagMatrix=this._flagScale=!1,super.flagReset.call(this),this}}const Tu={position:{enumerable:!0,get:function(){return this._position},set:function(e){this._position&&this._position.unbind(pe.Types.change,this._renderer.flagMatrix),this._position=e,this._position.bind(pe.Types.change,this._renderer.flagMatrix),Fv.call(this)}},rotation:{enumerable:!0,get:function(){return this._rotation},set:function(e){this._rotation=e,this._flagMatrix=!0}},scale:{enumerable:!0,get:function(){return this._scale},set:function(e){this._scale instanceof Pe&&this._scale.unbind(pe.Types.change,this._renderer.flagMatrix),this._scale=e,this._scale instanceof Pe&&this._scale.bind(pe.Types.change,this._renderer.flagMatrix),this._flagMatrix=!0,this._flagScale=!0}},skewX:{enumerable:!0,get:function(){return this._skewX},set:function(e){this._skewX=e,this._flagMatrix=!0}},skewY:{enumerable:!0,get:function(){return this._skewY},set:function(e){this._skewY=e,this._flagMatrix=!0}},matrix:{enumerable:!0,get:function(){return this._matrix},set:function(e){this._matrix=e,this._flagMatrix=!0}},worldMatrix:{enumerable:!0,get:function(){return yS(this,this._worldMatrix),this._worldMatrix},set:function(e){this._worldMatrix=e}}};function Fv(){this._flagMatrix=!0}const vo=Math.min,xo=Math.max,DS=Math.ceil,zS=Math.floor,BS=new Pe,_r=class _r extends Ms{constructor(n,i,o,l){super();B(this,"_flagVertices",!0);B(this,"_flagLength",!0);B(this,"_flagFill",!0);B(this,"_flagStroke",!0);B(this,"_flagLinewidth",!0);B(this,"_flagOpacity",!0);B(this,"_flagVisible",!0);B(this,"_flagCap",!0);B(this,"_flagJoin",!0);B(this,"_flagMiter",!0);B(this,"_flagMask",!1);B(this,"_flagClip",!1);B(this,"_length",0);B(this,"_fill","#fff");B(this,"_stroke","#000");B(this,"_linewidth",1);B(this,"_opacity",1);B(this,"_visible",!0);B(this,"_cap","round");B(this,"_join","round");B(this,"_miter",4);B(this,"_closed",!0);B(this,"_curved",!1);B(this,"_automatic",!0);B(this,"_beginning",0);B(this,"_ending",1);B(this,"_mask",null);B(this,"_clip",!1);B(this,"_dashes",null);for(let a in p_)Object.defineProperty(this,a,p_[a]);this._renderer.type="path",this._renderer.flagVertices=$S.bind(this),this._renderer.bindVertices=US.bind(this),this._renderer.unbindVertices=VS.bind(this),this._renderer.flagFill=HS.bind(this),this._renderer.flagStroke=WS.bind(this),this._renderer.vertices=[],this._renderer.collection=[],this.closed=!!i,this.curved=!!o,this.beginning=0,this.ending=1,this.fill="#fff",this.stroke="#000",this.linewidth=1,this.opacity=1,this.className="",this.visible=!0,this.cap="butt",this.join="miter",this.miter=4,this.vertices=n,this.automatic=!l,this.dashes=[],this.dashes.offset=0}static fromObject(n){const i=typeof n.fill=="string"?n.fill:ec(n.fill),o=typeof n.stroke=="string"?n.stroke:ec(n.stroke),l=new _r().copy({...n,fill:i,stroke:o});return"id"in n&&(l.id=n.id),l}copy(n){super.copy.call(this,n),this.vertices=[];for(let i=0;i<n.vertices.length;i++){const o=n.vertices[i];o instanceof cn?this.vertices.push(n.vertices[i].clone()):this.vertices.push(new cn().copy(o))}for(let i=0;i<_r.Properties.length;i++){const o=_r.Properties[i];o in n&&(this[o]=n[o])}return this}clone(n){const i=new _r;for(let o=0;o<this.vertices.length;o++)i.vertices.push(this.vertices[o].clone());for(let o=0;o<_r.Properties.length;o++){const l=_r.Properties[o];i[l]=this[l]}return i.className=this.className,i.translation.copy(this.translation),i.rotation=this.rotation,i.scale=this.scale,i.skewX=this.skewX,i.skewY=this.skewY,this.matrix.manual&&i.matrix.copy(this.matrix),n&&n.add(i),i._update()}toObject(){const n=super.toObject.call(this);return n.renderer.type="path",n.vertices=this.vertices.map(i=>i.toObject()),Bt.each(_r.Properties,i=>{typeof this[i]<"u"&&(this[i].toObject?n[i]=this[i].toObject():n[i]=this[i])},this),n}noFill(){return this.fill="none",this}noStroke(){return this.stroke="none",this.linewidth=0,this}corner(){const n=this.getBoundingClientRect(!0),i=n.width/2,o=n.height/2,l=n.left+n.width/2,a=n.top+n.height/2;for(let c=0;c<this.vertices.length;c++){const h=this.vertices[c];h.x-=l,h.y-=a,h.x+=i,h.y+=o}return this.mask&&(this.mask.translation.x-=l,this.mask.translation.x+=i,this.mask.translation.y-=a,this.mask.translation.y+=o),this}center(){const n=this.getBoundingClientRect(!0),i=n.left+n.width/2-this.translation.x,o=n.top+n.height/2-this.translation.y;for(let l=0;l<this.vertices.length;l++){const a=this.vertices[l];a.x-=i,a.y-=o}return this.mask&&(this.mask.translation.x-=i,this.mask.translation.y-=o),this}getBoundingClientRect(n){let i,o,l,a,c,h,d=1/0,g=-1/0,m=1/0,v=-1/0;if(this._update(!0),i=n?this.matrix:this.worldMatrix,o=(this.linewidth||0)/2,l=this._renderer.vertices.length,this.linewidth>0||this.stroke&&!/(transparent|none)/i.test(this.stroke))if(this.matrix.manual){const{scaleX:y,scaleY:w}=gS(i.elements[0],i.elements[3],i.elements[1],i.elements[4],i.elements[2],i.elements[5]);typeof y=="number"&&typeof w=="number"&&(o=Math.max(y,w)*(this.linewidth||0)/2)}else o*=typeof this.scale=="number"?this.scale:Math.max(this.scale.x,this.scale.y);if(l<=0)return{width:0,height:0};for(a=0;a<l;a++){h=this._renderer.vertices[a],c=this._renderer.vertices[(a+l-1)%l];const[y,w]=i.multiply(c.x,c.y),[k,S]=i.multiply(h.x,h.y);if(c.controls&&h.controls){let b=c.controls.right.x,x=c.controls.right.y;c.relative&&(b+=c.x,x+=c.y);let[C,M]=i.multiply(b,x),A=h.controls.left.x,N=h.controls.left.y;h.relative&&(A+=h.x,N+=h.y);let[j,X]=i.multiply(A,N);const z=kS(y,w,C,M,j,X,k,S);m=vo(z.min.y-o,m),d=vo(z.min.x-o,d),g=xo(z.max.x+o,g),v=xo(z.max.y+o,v)}else a<=1&&(m=vo(w-o,m),d=vo(y-o,d),g=xo(y+o,g),v=xo(w+o,v)),m=vo(S-o,m),d=vo(k-o,d),g=xo(k+o,g),v=xo(S+o,v)}return{top:m,left:d,right:g,bottom:v,width:g-d,height:v-m}}getPointAt(n,i){let o,l,a,c,h,d,g,m,v,y,w,k,S,b,x,C=this.length*Math.min(Math.max(n,0),1);const M=this.vertices.length,A=M-1;let N=null,j=null;for(let D=0,$=this._lengths.length,G=0;D<$;D++){if(G+this._lengths[D]>=C){this._closed?(o=Qu(D,M),l=Qu(D-1,M),D===0&&(o=l,l=D)):(o=D,l=Math.min(Math.max(D-1,0),A)),N=this.vertices[o],j=this.vertices[l],C-=G,this._lengths[D]!==0?n=C/this._lengths[D]:n=0;break}G+=this._lengths[D]}if(N===null||j===null)return null;if(N){if(!j)return N}else return j;x=j.controls&&j.controls.right,b=N.controls&&N.controls.left,h=j.x,y=j.y,d=(x||j).x,w=(x||j).y,g=(b||N).x,k=(b||N).y,m=N.x,S=N.y,x&&j.relative&&(d+=j.x,w+=j.y),b&&N.relative&&(g+=N.x,k+=N.y),c=Ju(n,h,d,g,m),v=Ju(n,y,w,k,S);const X=Or(h,d,n),z=Or(y,w,n),W=Or(d,g,n),K=Or(w,k,n),q=Or(g,m,n),ae=Or(k,S,n),te=Or(X,W,n),re=Or(z,K,n),ue=Or(W,q,n),Z=Or(K,ae,n);return Bt.isObject(i)?(i.x=c,i.y=v,i instanceof cn&&(i.controls.left.x=te,i.controls.left.y=re,i.controls.right.x=ue,i.controls.right.y=Z,(typeof i.relative!="boolean"||i.relative)&&(i.controls.left.x-=c,i.controls.left.y-=v,i.controls.right.x-=c,i.controls.right.y-=v)),i.t=n,i):(a=new cn(c,v,te-c,re-v,ue-c,Z-v,this._curved?qe.curve:qe.line),a.t=n,a)}plot(){if(this.curved)return SS(this._collection,this.closed),this;for(let n=0;n<this._collection.length;n++)this._collection[n].command=n===0?qe.move:qe.line;return this}subdivide(n){this._update();const i=this.vertices.length-1,o=this._closed||this.vertices[i]._command===qe.close;let l=this.vertices[i],a=[],c;return Bt.each(this.vertices,function(h,d){if(d<=0&&!o){l=h;return}if(h.command===qe.move){a.push(new cn(l.x,l.y)),d>0&&(a[a.length-1].command=qe.line),l=h;return}c=h_(h,l,n),a=a.concat(c),Bt.each(c,function(g,m){m<=0&&l.command===qe.move?g.command=qe.move:g.command=qe.line}),d>=i&&(this._closed&&this._automatic?(l=h,c=h_(h,l,n),a=a.concat(c),Bt.each(c,function(g,m){m<=0&&l.command===qe.move?g.command=qe.move:g.command=qe.line})):o&&a.push(new cn(h.x,h.y)),a[a.length-1].command=o?qe.close:qe.line),l=h},this),this._automatic=!1,this._curved=!1,this.vertices=a,this}_updateLength(n,i){i||this._update();const l=this.vertices.length-1;let a=this.vertices[l],c=0;return typeof this._lengths>"u"&&(this._lengths=[]),Bt.each(this.vertices,function(h,d){if(d<=0||h.command===qe.move){a=h,this._lengths[d]=0;return}this._lengths[d]=f_(h,a,n),c+=this._lengths[d],a=h},this),this._length=c,this._flagLength=!1,this}_update(){if(this._flagVertices){this._automatic&&this.plot(),this._flagLength&&this._updateLength(void 0,!0);const n=this._collection.length,i=this._closed,o=Math.min(this._beginning,this._ending),l=Math.max(this._beginning,this._ending),a=c_(this,o*this._length),c=c_(this,l*this._length),h=DS(a),d=zS(c);let g,m,v,y,w,k;for(this._renderer.vertices.length=0,k=0;k<n;k++)this._renderer.collection.length<=k&&this._renderer.collection.push(new cn),k>d&&!m?(w=this._renderer.collection[k].copy(this._collection[k]),this.getPointAt(l,w),w.command=this._renderer.collection[k].command,this._renderer.vertices.push(w),m=w,v=this._collection[k-1],v&&v.controls&&(w.relative?w.controls.right.clear():w.controls.right.copy(w),v.relative?this._renderer.collection[k-1].controls.right.copy(v.controls.right).lerp(Pe.zero,1-w.t):this._renderer.collection[k-1].controls.right.copy(v.controls.right).lerp(v,1-w.t))):k>=h&&k<=d&&(w=this._renderer.collection[k].copy(this._collection[k]),this._renderer.vertices.push(w),k===d&&u_(this,l)?(m=w,!i&&m.controls&&(m.relative?m.controls.right.clear():m.controls.right.copy(m))):k===h&&u_(this,o)&&(g=w,g.command=qe.move,!i&&g.controls&&(g.relative?g.controls.left.clear():g.controls.left.copy(g))));h>0&&!g&&(k=h-1,w=this._renderer.collection[k].copy(this._collection[k]),this.getPointAt(o,w),w.command=qe.move,this._renderer.vertices.unshift(w),y=this._collection[k+1],y&&y.controls&&(w.controls.left.clear(),y.relative?this._renderer.collection[k+1].controls.left.copy(y.controls.left).lerp(Pe.zero,w.t):(BS.copy(y),this._renderer.collection[k+1].controls.left.copy(y.controls.left).lerp(y,w.t))))}return Ms.prototype._update.apply(this,arguments),this}flagReset(){return this._flagVertices=this._flagLength=this._flagFill=this._flagStroke=this._flagLinewidth=this._flagOpacity=this._flagVisible=this._flagCap=this._flagJoin=this._flagMiter=this._flagClip=!1,Ms.prototype.flagReset.call(this),this}};B(_r,"Properties",["fill","stroke","linewidth","opacity","visible","cap","join","miter","closed","curved","automatic","beginning","ending","dashes"]),B(_r,"Utils",{getCurveLength:f_});let nn=_r;const p_={linewidth:{enumerable:!0,get:function(){return this._linewidth},set:function(e){this._linewidth=e,this._flagLinewidth=!0}},opacity:{enumerable:!0,get:function(){return this._opacity},set:function(e){this._opacity=e,this._flagOpacity=!0}},visible:{enumerable:!0,get:function(){return this._visible},set:function(e){this._visible=e,this._flagVisible=!0}},cap:{enumerable:!0,get:function(){return this._cap},set:function(e){this._cap=e,this._flagCap=!0}},join:{enumerable:!0,get:function(){return this._join},set:function(e){this._join=e,this._flagJoin=!0}},miter:{enumerable:!0,get:function(){return this._miter},set:function(e){this._miter=e,this._flagMiter=!0}},fill:{enumerable:!0,get:function(){return this._fill},set:function(e){(this._fill instanceof fn||this._fill instanceof kr||this._fill instanceof br||this._fill instanceof Cn)&&this._fill.unbind(pe.Types.change,this._renderer.flagFill),this._fill=e,this._flagFill=!0,(this._fill instanceof fn||this._fill instanceof kr||this._fill instanceof br||this._fill instanceof Cn)&&this._fill.bind(pe.Types.change,this._renderer.flagFill)}},stroke:{enumerable:!0,get:function(){return this._stroke},set:function(e){(this._stroke instanceof fn||this._stroke instanceof kr||this._stroke instanceof br||this._stroke instanceof Cn)&&this._stroke.unbind(pe.Types.change,this._renderer.flagStroke),this._stroke=e,this._flagStroke=!0,(this._stroke instanceof fn||this._stroke instanceof kr||this._stroke instanceof br||this._stroke instanceof Cn)&&this._stroke.bind(pe.Types.change,this._renderer.flagStroke)}},length:{get:function(){return this._flagLength&&this._updateLength(),this._length}},closed:{enumerable:!0,get:function(){return this._closed},set:function(e){this._closed=!!e,this._flagVertices=!0}},curved:{enumerable:!0,get:function(){return this._curved},set:function(e){this._curved=!!e,this._flagVertices=!0}},automatic:{enumerable:!0,get:function(){return this._automatic},set:function(e){if(e===this._automatic)return;this._automatic=!!e;const t=this._automatic?"ignore":"listen";Bt.each(this.vertices,function(n){n[t]()})}},beginning:{enumerable:!0,get:function(){return this._beginning},set:function(e){this._beginning=e,this._flagVertices=!0}},ending:{enumerable:!0,get:function(){return this._ending},set:function(e){this._ending=e,this._flagVertices=!0}},vertices:{enumerable:!0,get:function(){return this._collection},set:function(e){const t=this._renderer.bindVertices,n=this._renderer.unbindVertices;this._collection&&this._collection.unbind(pe.Types.insert,t).unbind(pe.Types.remove,n),e instanceof fd?this._collection=e:this._collection=new fd(e||[]),this._collection.bind(pe.Types.insert,t).bind(pe.Types.remove,n),t(this._collection)}},mask:{enumerable:!0,get:function(){return this._mask},set:function(e){this._mask=e,this._flagMask=!0,Bt.isObject(e)&&!e.clip&&(e.clip=!0)}},clip:{enumerable:!0,get:function(){return this._clip},set:function(e){this._clip=e,this._flagClip=!0}},dashes:{enumerable:!0,get:function(){return this._dashes},set:function(e){typeof e.offset!="number"&&(e.offset=this.dashes&&this._dashes.offset||0),this._dashes=e}}};function $S(){this._flagVertices=!0,this._flagLength=!0,this.parent&&(this.parent._flagLength=!0)}function US(e){let t=e.length;for(;t--;)e[t].bind(pe.Types.change,this._renderer.flagVertices);this._renderer.flagVertices()}function VS(e){let t=e.length;for(;t--;)e[t].unbind(pe.Types.change,this._renderer.flagVertices);this._renderer.flagVertices()}function HS(){this._flagFill=!0}function WS(){this._flagStroke=!0}const ui=class ui extends nn{constructor(n,i,o,l,a){typeof a>"u"&&typeof o=="number"&&typeof l=="number"&&(a=Math.floor(Math.min(o,l)/12));const c=[];for(let h=0;h<10;h++)c.push(new cn(0,0,0,0,0,0,h===0?qe.move:qe.curve));super(c);B(this,"_flagWidth",!1);B(this,"_flagHeight",!1);B(this,"_flagRadius",!1);B(this,"_width",0);B(this,"_height",0);B(this,"_radius",12);this._renderer.type="rounded-rectangle";for(let h in g_)Object.defineProperty(this,h,g_[h]);this.closed=!0,this.automatic=!1,this._renderer.flagRadius=YS.bind(this),typeof o=="number"&&(this.width=o),typeof l=="number"&&(this.height=l),typeof a=="number"&&(this.radius=a),this._update(),typeof n=="number"&&(this.translation.x=n),typeof i=="number"&&(this.translation.y=i)}static fromObject(n){const i=new ui().copy(n);return"id"in n&&(i.id=n.id),i}copy(n){super.copy.call(this,n);for(let i=0;i<ui.Properties.length;i++){const o=ui.Properties[i];if(o in n){const l=n[o];/radius/i.test(o)?this[o]=typeof l=="number"||l instanceof Pe?l:new Pe().copy(l):typeof l=="number"&&(this[o]=l)}}return this}_update(){if(this._flagVertices||this._flagWidth||this._flagHeight||this._flagRadius){const n=this._width,i=this._height;let o,l;this._radius instanceof Pe?(o=this._radius.x,l=this._radius.y):(o=this._radius,l=this._radius);let a,c=n/2,h=i/2;a=this.vertices[0],a.x=-(c-o),a.y=-h,a=this.vertices[1],a.x=c-o,a.y=-h,a.controls.left.clear(),a.controls.right.x=o,a.controls.right.y=0,a=this.vertices[2],a.x=c,a.y=-(h-l),a.controls.right.clear(),a.controls.left.clear(),a=this.vertices[3],a.x=c,a.y=h-l,a.controls.left.clear(),a.controls.right.x=0,a.controls.right.y=l,a=this.vertices[4],a.x=c-o,a.y=h,a.controls.right.clear(),a.controls.left.clear(),a=this.vertices[5],a.x=-(c-o),a.y=h,a.controls.left.clear(),a.controls.right.x=-o,a.controls.right.y=0,a=this.vertices[6],a.x=-c,a.y=h-l,a.controls.left.clear(),a.controls.right.clear(),a=this.vertices[7],a.x=-c,a.y=-(h-l),a.controls.left.clear(),a.controls.right.x=0,a.controls.right.y=-l,a=this.vertices[8],a.x=-(c-o),a.y=-h,a.controls.left.clear(),a.controls.right.clear(),a=this.vertices[9],a.copy(this.vertices[8])}return super._update.call(this),this}flagReset(){return this._flagWidth=this._flagHeight=this._flagRadius=!1,super.flagReset.call(this),this}clone(n){const i=this.width,o=this.height,l=this.radius,a=new ui(0,0,i,o,l);a.translation.copy(this.translation),a.rotation=this.rotation,a.scale=this.scale,a.skewX=this.skewX,a.skewY=this.skewY,this.matrix.manual&&a.matrix.copy(this.matrix);for(let c=0;c<nn.Properties.length;c++){const h=nn.Properties[c];a[h]=this[h]}return n&&n.add(a),a}toObject(){const n=super.toObject.call(this);n.renderer.type="rounded-rectangle";for(let i=0;i<ui.Properties.length;i++){const o=ui.Properties[i];n[o]=this[o]}return n.radius=typeof this.radius=="number"?this.radius:this.radius.toObject(),n}};B(ui,"Properties",["width","height","radius"]);let hd=ui;const g_={width:{enumerable:!0,get:function(){return this._width},set:function(e){this._width=e,this._flagWidth=!0}},height:{enumerable:!0,get:function(){return this._height},set:function(e){this._height=e,this._flagHeight=!0}},radius:{enumerable:!0,get:function(){return this._radius},set:function(e){this._radius instanceof Pe&&this._radius.unbind(pe.Types.change,this._renderer.flagRadius),this._radius=e,this._radius instanceof Pe&&this._radius.bind(pe.Types.change,this._renderer.flagRadius),this._flagRadius=!0}}};function YS(){this._flagRadius=!0}let dd;const m_=Math.min,y_=Math.max;Br.document&&(dd=document.createElement("canvas"));const qt=class qt extends Ms{constructor(n,i,o,l){super();B(this,"_flagValue",!0);B(this,"_flagFamily",!0);B(this,"_flagSize",!0);B(this,"_flagLeading",!0);B(this,"_flagAlignment",!0);B(this,"_flagBaseline",!0);B(this,"_flagStyle",!0);B(this,"_flagWeight",!0);B(this,"_flagDecoration",!0);B(this,"_flagFill",!0);B(this,"_flagStroke",!0);B(this,"_flagLinewidth",!0);B(this,"_flagOpacity",!0);B(this,"_flagVisible",!0);B(this,"_flagMask",!1);B(this,"_flagClip",!1);B(this,"_flagDirection",!0);B(this,"_value","");B(this,"_family","sans-serif");B(this,"_size",13);B(this,"_leading",17);B(this,"_alignment","center");B(this,"_baseline","middle");B(this,"_style","normal");B(this,"_weight",500);B(this,"_decoration","none");B(this,"_direction","ltr");B(this,"_fill","#000");B(this,"_stroke","none");B(this,"_linewidth",1);B(this,"_opacity",1);B(this,"_visible",!0);B(this,"_mask",null);B(this,"_clip",!1);B(this,"_dashes",null);for(let a in __)Object.defineProperty(this,a,__[a]);if(this._renderer.type="text",this._renderer.flagFill=XS.bind(this),this._renderer.flagStroke=KS.bind(this),this.value=n,typeof i=="number"&&(this.translation.x=i),typeof o=="number"&&(this.translation.y=o),this.dashes=[],this.dashes.offset=0,!Bt.isObject(l))return this;for(let a=0;a<qt.Properties.length;a++){const c=qt.Properties[a];c in l&&(this[c]=l[c])}}static Measure(n){if(dd){const i=dd.getContext("2d");i.font=[n._style,n._weight,`${n._size}px/${n._leading}px`,n._family].join(" ");const o=i.measureText(n.value,0,0),l=o.actualBoundingBoxDescent+o.actualBoundingBoxAscent;return{width:o.width,height:l}}else{const i=this.value.length*this.size*qt.Ratio,o=this.leading;return console.warn("Two.Text: unable to accurately measure text, so using an approximation."),{width:i,height:o}}}static fromObject(n){const i=typeof n.fill=="string"?n.fill:ec(n.fill),o=typeof n.stroke=="string"?n.stroke:ec(n.stroke),l=new qt().copy({...n,fill:i,stroke:o});return"id"in n&&(l.id=n.id),l}copy(n){super.copy.call(this,n);for(let i=0;i<qt.Properties.length;i++){const o=qt.Properties[i];o in n&&(this[o]=n[o])}return this}clone(n){const i=new qt(this.value);i.translation.copy(this.translation),i.rotation=this.rotation,i.scale=this.scale;for(let o=0;o<qt.Properties.length;o++){const l=qt.Properties[o];i[l]=this[l]}return this.matrix.manual&&i.matrix.copy(this.matrix),n&&n.add(i),i._update()}toObject(){const n=super.toObject.call(this);n.renderer.type="text";for(let i=0;i<qt.Properties.length;i++){const o=qt.Properties[i];n[o]=this[o]}return n}noFill(){return this.fill="none",this}noStroke(){return this.stroke="none",this.linewidth=0,this}getBoundingClientRect(n){let i,o,l,a,c;this._update(!0),i=n?this.matrix:this.worldMatrix;const{width:h,height:d}=qt.Measure(this),g=(this._linewidth||0)/2;switch(this.alignment){case"left":o=-g,l=h+g;break;case"right":o=-(h+g),l=g;break;default:o=-(h/2+g),l=h/2+g}switch(this.baseline){case"middle":a=-(d/2+g),c=d/2+g;break;default:a=-(d+g),c=g}const[m,v]=i.multiply(o,a),[y,w]=i.multiply(o,c),[k,S]=i.multiply(l,a),[b,x]=i.multiply(l,c);return a=m_(v,w,S,x),o=m_(m,y,k,b),l=y_(m,y,k,b),c=y_(v,w,S,x),{top:a,left:o,right:l,bottom:c,width:l-o,height:c-a}}flagReset(){return super.flagReset.call(this),this._flagValue=this._flagFamily=this._flagSize=this._flagLeading=this._flagAlignment=this._flagFill=this._flagStroke=this._flagLinewidth=this._flagOpacity=this._flagVisible=this._flagClip=this._flagDecoration=this._flagClassName=this._flagBaseline=this._flagWeight=this._flagStyle=this._flagDirection=!1,this}};B(qt,"Ratio",.6),B(qt,"Properties",["value","family","size","leading","alignment","linewidth","style","weight","decoration","direction","baseline","opacity","visible","fill","stroke","dashes"]);let tc=qt;const __={value:{enumerable:!0,get:function(){return this._value},set:function(e){this._value=e,this._flagValue=!0}},family:{enumerable:!0,get:function(){return this._family},set:function(e){this._family=e,this._flagFamily=!0}},size:{enumerable:!0,get:function(){return this._size},set:function(e){this._size=e,this._flagSize=!0}},leading:{enumerable:!0,get:function(){return this._leading},set:function(e){this._leading=e,this._flagLeading=!0}},alignment:{enumerable:!0,get:function(){return this._alignment},set:function(e){this._alignment=e,this._flagAlignment=!0}},linewidth:{enumerable:!0,get:function(){return this._linewidth},set:function(e){this._linewidth=e,this._flagLinewidth=!0}},style:{enumerable:!0,get:function(){return this._style},set:function(e){this._style=e,this._flagStyle=!0}},weight:{enumerable:!0,get:function(){return this._weight},set:function(e){this._weight=e,this._flagWeight=!0}},decoration:{enumerable:!0,get:function(){return this._decoration},set:function(e){this._decoration=e,this._flagDecoration=!0}},direction:{enumerable:!0,get:function(){return this._direction},set:function(e){this._direction=e,this._flagDirection=!0}},baseline:{enumerable:!0,get:function(){return this._baseline},set:function(e){this._baseline=e,this._flagBaseline=!0}},opacity:{enumerable:!0,get:function(){return this._opacity},set:function(e){this._opacity=e,this._flagOpacity=!0}},visible:{enumerable:!0,get:function(){return this._visible},set:function(e){this._visible=e,this._flagVisible=!0}},fill:{enumerable:!0,get:function(){return this._fill},set:function(e){(this._fill instanceof fn||this._fill instanceof kr||this._fill instanceof br||this._fill instanceof Cn)&&this._fill.unbind(pe.Types.change,this._renderer.flagFill),this._fill=e,this._flagFill=!0,(this._fill instanceof fn||this._fill instanceof kr||this._fill instanceof br||this._fill instanceof Cn)&&this._fill.bind(pe.Types.change,this._renderer.flagFill)}},stroke:{enumerable:!0,get:function(){return this._stroke},set:function(e){(this._stroke instanceof fn||this._stroke instanceof kr||this._stroke instanceof br||this._stroke instanceof Cn)&&this._stroke.unbind(pe.Types.change,this._renderer.flagStroke),this._stroke=e,this._flagStroke=!0,(this._stroke instanceof fn||this._stroke instanceof kr||this._stroke instanceof br||this._stroke instanceof Cn)&&this._stroke.bind(pe.Types.change,this._renderer.flagStroke)}},mask:{enumerable:!0,get:function(){return this._mask},set:function(e){this._mask=e,this._flagMask=!0,Bt.isObject(e)&&!e.clip&&(e.clip=!0)}},clip:{enumerable:!0,get:function(){return this._clip},set:function(e){this._clip=e,this._flagClip=!0}},dashes:{enumerable:!0,get:function(){return this._dashes},set:function(e){typeof e.offset!="number"&&(e.offset=this.dashes&&this._dashes.offset||0),this._dashes=e}}};function XS(){this._flagFill=!0}function KS(){this._flagStroke=!0}function Wd(e){const{shape:t,type:n}=e,{translation:i,id:o}=t,l=t.stroke,a=t.fill,c=t.linewidth,h=t.vertices,d=t.width||0,g=t.height||0,m=t.radius||0,v={id:o,t:n,x:i.x,y:i.y,w:d,h:g,r:m,sc:l||"none",fc:a||"none",lw:c||1,v:(h||[]).map(y=>[y.x,y.y])};if(n==="text"){const y=t;v.txt=y.value,v.ff=y.family,v.fs=y.size,v.fa=y.alignment,v.fw=y.weight}return n==="bezier"&&(v.bv=(h||[]).map(y=>{var w,k,S,b,x,C,M,A;return[y.x,y.y,((k=(w=y.controls)==null?void 0:w.left)==null?void 0:k.x)??0,((b=(S=y.controls)==null?void 0:S.left)==null?void 0:b.y)??0,((C=(x=y.controls)==null?void 0:x.right)==null?void 0:C.x)??0,((A=(M=y.controls)==null?void 0:M.right)==null?void 0:A.y)??0,y.command||"C"]}),v.cl=t.closed),v}function Yd(e){const{t,x:n,y:i,sc:o,fc:l,lw:a,v:c,w:h,h:d,r:g,id:m}=e;if(t==="brush"){const v=c.map(w=>new xe.Anchor(w[0],w[1])),y=new nn(v,!1,!0);return y.id=m,y.cap="round",y.closed=!1,y.noFill().stroke=o,y.linewidth=a,y.translation.x=n,y.translation.y=i,{type:t,shape:y}}else if(t==="line"||t==="arrow"){const v=c.map(w=>new xe.Anchor(w[0],w[1])),y=new nn(v,!1,!1);return y.id=m,y.cap="round",y.closed=!1,y.noFill().stroke=o,y.linewidth=a,y.translation.x=n,y.translation.y=i,{type:t,shape:y}}else if(t==="rect"){const v=new hd(n,i,h,d);return v.radius=g,v.id=m,v.stroke=o,v.fill=l,v.linewidth=a,{shape:v,type:"rect"}}else if(t==="text"){const v=new tc(e.txt||"",n,i);return v.id=m,v.fill=l,v.stroke=o,v.linewidth=a,v.family=e.ff||"sans-serif",v.size=e.fs||24,v.alignment=e.fa||"left",v.weight=e.fw||400,{shape:v,type:"text"}}else if(t==="bezier"){const v=(e.bv||[]).map(w=>new xe.Anchor(w[0],w[1],w[2],w[3],w[4],w[5],w[6])),y=new nn(v,!1,!1,!0);return y.id=m,y.cap="round",y.join="round",y.closed=!!e.cl,y.noFill().stroke=o,y.linewidth=a,y.translation.x=n,y.translation.y=i,{type:t,shape:y}}else throw new Error(`Unknown doodle unserialization of type "${t}"`)}const Nv=Sr()(e=>({toasts:[],addToast:(t,n)=>{const i=Math.random().toString(36).replace("0.","");e(o=>{const l={id:i,message:t,type:n};return{toasts:[...o.toasts,l]}}),setTimeout(()=>{e(o=>({toasts:o.toasts.filter(a=>a.id!==i)}))},2500)}})),qS=()=>{const e=Nv().toasts;return P.jsx("div",{className:"fixed top-0 left-0 right-0 h-0 flex justify-center",children:P.jsx("div",{className:"flex flex-col md:items-center gap-2 relative top-14",children:e.map(t=>P.jsx(GS,{message:t.message},t.id))})})},GS=({message:e})=>P.jsx("div",{className:"text-inverse bg-secondary py-2 px-4 flex items-center rounded gap-2 animate-fade-in-down min-w-72",children:P.jsx("div",{className:"flex-grow text-center",children:e})});class QS{constructor(t){B(this,"two");B(this,"zui");B(this,"canvas");B(this,"sketchId");B(this,"container");B(this,"throttledTwoUpdate",nv(()=>{var t,n,i;typeof((t=this.two)==null?void 0:t.update)=="function"&&((i=(n=this.two)==null?void 0:n.update)==null||i.call(n))},1));this.two=t.two,this.canvas=t.canvas,this.zui=t.zui,this.sketchId=t.sketchId||"default",this.container=t.container,typeof window<"u"&&(window.doodler=this)}doCenterCanvas(){this.canvas.position.x=0,this.canvas.position.y=0,this.throttledTwoUpdate()}addDoodle(t){t.shape.id=crypto.randomUUID();const{doodles:n,setDoodles:i}=tn.getState(),o=[...n,t];i(o),this.canvas.add(t.shape)}removeDoodle(t){const{doodles:n,setDoodles:i}=tn.getState(),o=n.filter(l=>l!==t);i(o),this.canvas.remove(t.shape)}async saveDoodles(){const{doodles:t}=tn.getState(),n=t.map(o=>Wd(o));fb(this.sketchId,n);const i=Nv.getState().addToast;i("Sketch saved successfully")}async loadDoodles(){if(!this.sketchId)return;const t=cb(this.sketchId);if(!(!t||!(t!=null&&t.length))){for(const n of t)try{const i=Yd(n);this.addDoodle(i)}catch(i){console.warn(i);continue}this.throttledTwoUpdate()}}}let pd;function ZS(e){pd=e}function $e(){if(!pd)throw new Error("Doodler instance is not set yet.");return pd}const gd="#0ea5cf";var Iv=(e=>(e[e.Left=0]="Left",e[e.Middle=1]="Middle",e[e.Right=2]="Right",e))(Iv||{});function zo(e,t){t=t||$e().zui;const n=e.currentTarget.getBoundingClientRect(),i={x:e.clientX-n.left,y:e.clientY-n.top};return t.clientToSurface(i)}function Yr(e){const t=e.currentTarget.getBoundingClientRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}function JS(e,t){let n;return(...i)=>{clearTimeout(n),n=setTimeout(()=>e(...i),t)}}function v_(e,t){return Xd(e.x,e.y,t.left,t.top,t.right,t.bottom)}function Xd(e,t,n,i,o,l){return e>=n&&e<=o&&t>=i&&t<=l}function eE(e,t,n){return Math.max(t,Math.min(n,e))}function tE(e,t){const n=Math.pow(10,t);return Math.floor(e*n)/n}function nE(e){return e*(180/Math.PI)%360}function rE(e){return e*(Math.PI/180)}function Kd(e){var i,o;const t=e,n=((i=e.touches)==null?void 0:i[0])||((o=e.changedTouches)==null?void 0:o[0])||{clientX:0,clientY:0};return t.clientX=n.clientX,t.clientY=n.clientY,t}var Mu={},x_;function iE(){return x_||(x_=1,Mu.ARRAY_BUFFER_SUPPORT=typeof ArrayBuffer<"u",Mu.SYMBOL_SUPPORT=typeof Symbol<"u"),Mu}var Fh,w_;function jv(){if(w_)return Fh;w_=1;var e=iE(),t=e.ARRAY_BUFFER_SUPPORT,n=e.SYMBOL_SUPPORT;return Fh=function(o,l){var a,c,h,d,g;if(!o)throw new Error("obliterator/forEach: invalid iterable.");if(typeof l!="function")throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(o)||t&&ArrayBuffer.isView(o)||typeof o=="string"||o.toString()==="[object Arguments]"){for(h=0,d=o.length;h<d;h++)l(o[h],h);return}if(typeof o.forEach=="function"){o.forEach(l);return}if(n&&Symbol.iterator in o&&typeof o.next!="function"&&(o=o[Symbol.iterator]()),typeof o.next=="function"){for(a=o,h=0;g=a.next(),g.done!==!0;)l(g.value,h),h++;return}for(c in o)o.hasOwnProperty(c)&&l(o[c],c)},Fh}var wo={},k_;function sE(){if(k_)return wo;k_=1;var e=function(o,l){return o<l?-1:o>l?1:0},t=function(o,l){return o<l?1:o>l?-1:0};function n(o){return function(l,a){return o(a,l)}}function i(o){return o===2?function(l,a){return l[0]<a[0]?-1:l[0]>a[0]?1:l[1]<a[1]?-1:l[1]>a[1]?1:0}:function(l,a){for(var c=0;c<o;){if(l[c]<a[c])return-1;if(l[c]>a[c])return 1;c++}return 0}}return wo.DEFAULT_COMPARATOR=e,wo.DEFAULT_REVERSE_COMPARATOR=t,wo.reverseComparator=n,wo.createTupleComparator=i,wo}var ko={},Nh={},b_;function oE(){return b_||(b_=1,function(e){var t=Math.pow(2,8)-1,n=Math.pow(2,16)-1,i=Math.pow(2,32)-1,o=Math.pow(2,7)-1,l=Math.pow(2,15)-1,a=Math.pow(2,31)-1;e.getPointerArray=function(h){var d=h-1;if(d<=t)return Uint8Array;if(d<=n)return Uint16Array;if(d<=i)return Uint32Array;throw new Error("mnemonist: Pointer Array of size > 4294967295 is not supported.")},e.getSignedPointerArray=function(h){var d=h-1;return d<=o?Int8Array:d<=l?Int16Array:d<=a?Int32Array:Float64Array},e.getNumberType=function(h){return h===(h|0)?Math.sign(h)===-1?h<=127&&h>=-128?Int8Array:h<=32767&&h>=-32768?Int16Array:Int32Array:h<=255?Uint8Array:h<=65535?Uint16Array:Uint32Array:Float64Array};var c={Uint8Array:1,Int8Array:2,Uint16Array:3,Int16Array:4,Uint32Array:5,Int32Array:6,Float32Array:7,Float64Array:8};e.getMinimalRepresentation=function(h,d){var g=null,m=0,v,y,w,k,S;for(k=0,S=h.length;k<S;k++)w=d?d(h[k]):h[k],y=e.getNumberType(w),v=c[y.name],v>m&&(m=v,g=y);return g},e.isTypedArray=function(h){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView(h)},e.concat=function(){var h=0,d,g,m;for(d=0,m=arguments.length;d<m;d++)h+=arguments[d].length;var v=new arguments[0].constructor(h);for(d=0,g=0;d<m;d++)v.set(arguments[d],g),g+=arguments[d].length;return v},e.indices=function(h){for(var d=e.getPointerArray(h),g=new d(h),m=0;m<h;m++)g[m]=m;return g}}(Nh)),Nh}var S_;function lE(){if(S_)return ko;S_=1;var e=jv(),t=oE();function n(a){return Array.isArray(a)||t.isTypedArray(a)}function i(a){if(typeof a.length=="number")return a.length;if(typeof a.size=="number")return a.size}function o(a){var c=i(a),h=typeof c=="number"?new Array(c):[],d=0;return e(a,function(g){h[d++]=g}),h}function l(a){var c=i(a),h=typeof c=="number"?t.getPointerArray(c):Array,d=typeof c=="number"?new Array(c):[],g=typeof c=="number"?new h(c):[],m=0;return e(a,function(v){d[m]=v,g[m]=m++}),[d,g]}return ko.isArrayLike=n,ko.guessLength=i,ko.toArray=o,ko.toArrayWithIndices=l,ko}var Ih,E_;function aE(){if(E_)return Ih;E_=1;var e=jv(),t=sE(),n=lE(),i=t.DEFAULT_COMPARATOR,o=t.reverseComparator;function l(b,x,C,M){for(var A=x[M],N,j;M>C;){if(N=M-1>>1,j=x[N],b(A,j)<0){x[M]=j,M=N;continue}break}x[M]=A}function a(b,x,C){for(var M=x.length,A=C,N=x[C],j=2*C+1,X;j<M;)X=j+1,X<M&&b(x[j],x[X])>=0&&(j=X),x[C]=x[j],C=j,j=2*C+1;x[C]=N,l(b,x,A,C)}function c(b,x,C){x.push(C),l(b,x,0,x.length-1)}function h(b,x){var C=x.pop();if(x.length!==0){var M=x[0];return x[0]=C,a(b,x,0),M}return C}function d(b,x,C){if(x.length===0)throw new Error("mnemonist/heap.replace: cannot pop an empty heap.");var M=x[0];return x[0]=C,a(b,x,0),M}function g(b,x,C){var M;return x.length!==0&&b(x[0],C)<0&&(M=x[0],x[0]=C,C=M,a(b,x,0)),C}function m(b,x){for(var C=x.length,M=C>>1,A=M;--A>=0;)a(b,x,A)}function v(b,x){for(var C=x.length,M=0,A=new Array(C);M<C;)A[M++]=h(b,x);return A}function y(b,x,C){arguments.length===2&&(C=x,x=b,b=i);var M=o(b),A,N,j,X=1/0,z;if(x===1){if(n.isArrayLike(C)){for(A=0,N=C.length;A<N;A++)j=C[A],(X===1/0||b(j,X)<0)&&(X=j);return z=new C.constructor(1),z[0]=X,z}return e(C,function(K){(X===1/0||b(K,X)<0)&&(X=K)}),[X]}if(n.isArrayLike(C)){if(x>=C.length)return C.slice().sort(b);for(z=C.slice(0,x),m(M,z),A=x,N=C.length;A<N;A++)M(C[A],z[0])>0&&d(M,z,C[A]);return z.sort(b)}var W=n.guessLength(C);return W!==null&&W<x&&(x=W),z=new Array(x),A=0,e(C,function(K){A<x?z[A]=K:(A===x&&m(M,z),M(K,z[0])>0&&d(M,z,K)),A++}),z.length>A&&(z.length=A),z.sort(b)}function w(b,x,C){arguments.length===2&&(C=x,x=b,b=i);var M=o(b),A,N,j,X=-1/0,z;if(x===1){if(n.isArrayLike(C)){for(A=0,N=C.length;A<N;A++)j=C[A],(X===-1/0||b(j,X)>0)&&(X=j);return z=new C.constructor(1),z[0]=X,z}return e(C,function(K){(X===-1/0||b(K,X)>0)&&(X=K)}),[X]}if(n.isArrayLike(C)){if(x>=C.length)return C.slice().sort(M);for(z=C.slice(0,x),m(b,z),A=x,N=C.length;A<N;A++)b(C[A],z[0])>0&&d(b,z,C[A]);return z.sort(M)}var W=n.guessLength(C);return W!==null&&W<x&&(x=W),z=new Array(x),A=0,e(C,function(K){A<x?z[A]=K:(A===x&&m(b,z),b(K,z[0])>0&&d(b,z,K)),A++}),z.length>A&&(z.length=A),z.sort(M)}function k(b){if(this.clear(),this.comparator=b||i,typeof this.comparator!="function")throw new Error("mnemonist/Heap.constructor: given comparator should be a function.")}k.prototype.clear=function(){this.items=[],this.size=0},k.prototype.push=function(b){return c(this.comparator,this.items,b),++this.size},k.prototype.peek=function(){return this.items[0]},k.prototype.pop=function(){return this.size!==0&&this.size--,h(this.comparator,this.items)},k.prototype.replace=function(b){return d(this.comparator,this.items,b)},k.prototype.pushpop=function(b){return g(this.comparator,this.items,b)},k.prototype.consume=function(){return this.size=0,v(this.comparator,this.items)},k.prototype.toArray=function(){return v(this.comparator,this.items.slice())},k.prototype.inspect=function(){var b=this.toArray();return Object.defineProperty(b,"constructor",{value:k,enumerable:!1}),b},typeof Symbol<"u"&&(k.prototype[Symbol.for("nodejs.util.inspect.custom")]=k.prototype.inspect);function S(b){if(this.clear(),this.comparator=b||i,typeof this.comparator!="function")throw new Error("mnemonist/MaxHeap.constructor: given comparator should be a function.");this.comparator=o(this.comparator)}return S.prototype=k.prototype,k.from=function(b,x){var C=new k(x),M;return n.isArrayLike(b)?M=b.slice():M=n.toArray(b),m(C.comparator,M),C.items=M,C.size=M.length,C},S.from=function(b,x){var C=new S(x),M;return n.isArrayLike(b)?M=b.slice():M=n.toArray(b),m(C.comparator,M),C.items=M,C.size=M.length,C},k.siftUp=a,k.siftDown=l,k.push=c,k.pop=h,k.replace=d,k.pushpop=g,k.heapify=m,k.consume=v,k.nsmallest=y,k.nlargest=w,k.MinHeap=k,k.MaxHeap=S,Ih=k,Ih}var bo=aE();function uE([e,t,n]){return Math.abs((e.x-n.x)*(t.y-e.y)-(e.x-t.x)*(n.y-e.y))}function cE([e,t,n]){const i=Math.abs((n.y-t.y)*e.x-(n.x-t.x)*e.y+n.x*t.y-n.y*t.x),o=Math.sqrt(Math.pow(n.y-t.y,2)+Math.pow(n.x-t.x,2));return i/o}function fE([e,t,n]){const i={x:t.x-e.x,y:t.y-e.y},o={x:n.x-e.x,y:n.y-e.y},l=i.x*o.x+i.y*o.y,a=Math.sqrt(i.x**2+i.y**2),c=Math.sqrt(o.x**2+o.y**2);return Math.acos(l/(a*c))}function*hE(e){for(let t=1;t<e.length-1;t++)yield[e[t-1],e[t],e[t+1]]}const So=(e,t)=>e.weight-t.weight;function dE(e,t,n){const i=t.length;if(i<3||typeof n=="number"&&i<n)return t;if(typeof n=="number"&&n<3)return[t[0],t[i-1]];const o=typeof n=="number"?n:2,l=typeof n=="number"?null:n,a=[],c=new WeakMap,h=new WeakMap;{let m=null;for(const v of hE(t)){const y={t:v,weight:e(v),dead:!1};m&&(c.set(m,y),h.set(y,m)),m=y,bo.push(So,a,y)}}let d=i-o;const g=new WeakSet;for(;d>0;){const m=bo.pop(So,a);if(!m)throw new Error("unexpected heap exhaustion");if(m.dead)continue;if(!isFinite(m.weight)||l&&!l(m.weight))break;g.add(m.t[1]),d-=1;const v=h.get(m),y=c.get(m);let w=null,k=null;if(v){v.dead=!0;const[S,b]=v.t,[,,x]=m.t,C=[S,b,x];w={t:C,weight:e(C),dead:!1};const M=h.get(v);M&&(c.set(M,w),h.set(w,M)),a[0].dead?bo.replace(So,a,w):bo.push(So,a,w)}if(y){y.dead=!0;const[,S,b]=y.t,[x]=m.t,C=[x,S,b];k={t:C,weight:e(C),dead:!1};const M=c.get(y);M&&(h.set(M,k),c.set(k,M)),a[0].dead?bo.replace(So,a,k):bo.push(So,a,k)}k&&w&&(c.set(w,k),h.set(k,w))}return t.filter(m=>!g.has(m))}function pE(e){return e==="triangle"?uE:e==="distance"?cE:e==="angle"?fE:null}function gE(e,t,n){var i=t.x,o=t.y,l=n.x-i,a=n.y-o;if(l!==0||a!==0){var c=((e.x-i)*l+(e.y-o)*a)/(l*l+a*a);c>1?(i=n.x,o=n.y):c>0&&(i+=l*c,o+=a*c)}return l=e.x-i,a=e.y-o,l*l+a*a}function md(e,t,n,i,o){let l=i,a=1;for(var c=t+1;c<n;c++){var h=gE(e[c],e[t],e[n]);h>l&&(a=c,l=h)}l>i&&(a-t>1&&md(e,t,a,i,o),o.push(e[a]),n-a>1&&md(e,a,n,i,o))}function mE(e,t){var n=e.length-1,i=[e[0]];return md(e,0,n,t,i),i.push(e[n]),i}function yE(e,t){if(e.length<=2)return e;var n=t!==void 0?t*t:1;return e=mE(e,n),e}var _E={grad:.9,turn:360,rad:360/(2*Math.PI)},ai=function(e){return typeof e=="string"?e.length>0:typeof e=="number"},Ft=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=Math.pow(10,t)),Math.round(n*e)/n+0},lr=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=1),e>n?n:e>t?e:t},Dv=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},C_=function(e){return{r:lr(e.r,0,255),g:lr(e.g,0,255),b:lr(e.b,0,255),a:lr(e.a)}},jh=function(e){return{r:Ft(e.r),g:Ft(e.g),b:Ft(e.b),a:Ft(e.a,3)}},vE=/^#([0-9a-f]{3,8})$/i,Pu=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},zv=function(e){var t=e.r,n=e.g,i=e.b,o=e.a,l=Math.max(t,n,i),a=l-Math.min(t,n,i),c=a?l===t?(n-i)/a:l===n?2+(i-t)/a:4+(t-n)/a:0;return{h:60*(c<0?c+6:c),s:l?a/l*100:0,v:l/255*100,a:o}},Bv=function(e){var t=e.h,n=e.s,i=e.v,o=e.a;t=t/360*6,n/=100,i/=100;var l=Math.floor(t),a=i*(1-n),c=i*(1-(t-l)*n),h=i*(1-(1-t+l)*n),d=l%6;return{r:255*[i,c,a,a,h,i][d],g:255*[h,i,i,c,a,a][d],b:255*[a,a,h,i,i,c][d],a:o}},R_=function(e){return{h:Dv(e.h),s:lr(e.s,0,100),l:lr(e.l,0,100),a:lr(e.a)}},T_=function(e){return{h:Ft(e.h),s:Ft(e.s),l:Ft(e.l),a:Ft(e.a,3)}},M_=function(e){return Bv((n=(t=e).s,{h:t.h,s:(n*=((i=t.l)<50?i:100-i)/100)>0?2*n/(i+n)*100:0,v:i+n,a:t.a}));var t,n,i},Ul=function(e){return{h:(t=zv(e)).h,s:(o=(200-(n=t.s))*(i=t.v)/100)>0&&o<200?n*i/100/(o<=100?o:200-o)*100:0,l:o/2,a:t.a};var t,n,i,o},xE=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,wE=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,kE=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,bE=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,P_={string:[[function(e){var t=vE.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?Ft(parseInt(e[3]+e[3],16)/255,2):1}:e.length===6||e.length===8?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:e.length===8?Ft(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=kE.exec(e)||bE.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:C_({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t=xE.exec(e)||wE.exec(e);if(!t)return null;var n,i,o=R_({h:(n=t[1],i=t[2],i===void 0&&(i="deg"),Number(n)*(_E[i]||1)),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)});return M_(o)},"hsl"]],object:[[function(e){var t=e.r,n=e.g,i=e.b,o=e.a,l=o===void 0?1:o;return ai(t)&&ai(n)&&ai(i)?C_({r:Number(t),g:Number(n),b:Number(i),a:Number(l)}):null},"rgb"],[function(e){var t=e.h,n=e.s,i=e.l,o=e.a,l=o===void 0?1:o;if(!ai(t)||!ai(n)||!ai(i))return null;var a=R_({h:Number(t),s:Number(n),l:Number(i),a:Number(l)});return M_(a)},"hsl"],[function(e){var t=e.h,n=e.s,i=e.v,o=e.a,l=o===void 0?1:o;if(!ai(t)||!ai(n)||!ai(i))return null;var a=function(c){return{h:Dv(c.h),s:lr(c.s,0,100),v:lr(c.v,0,100),a:lr(c.a)}}({h:Number(t),s:Number(n),v:Number(i),a:Number(l)});return Bv(a)},"hsv"]]},A_=function(e,t){for(var n=0;n<t.length;n++){var i=t[n][0](e);if(i)return[i,t[n][1]]}return[null,void 0]},SE=function(e){return typeof e=="string"?A_(e.trim(),P_.string):typeof e=="object"&&e!==null?A_(e,P_.object):[null,void 0]},Dh=function(e,t){var n=Ul(e);return{h:n.h,s:lr(n.s+100*t,0,100),l:n.l,a:n.a}},zh=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},O_=function(e,t){var n=Ul(e);return{h:n.h,s:n.s,l:lr(n.l+100*t,0,100),a:n.a}},L_=function(){function e(t){this.parsed=SE(t)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return this.parsed!==null},e.prototype.brightness=function(){return Ft(zh(this.rgba),2)},e.prototype.isDark=function(){return zh(this.rgba)<.5},e.prototype.isLight=function(){return zh(this.rgba)>=.5},e.prototype.toHex=function(){return t=jh(this.rgba),n=t.r,i=t.g,o=t.b,a=(l=t.a)<1?Pu(Ft(255*l)):"","#"+Pu(n)+Pu(i)+Pu(o)+a;var t,n,i,o,l,a},e.prototype.toRgb=function(){return jh(this.rgba)},e.prototype.toRgbString=function(){return t=jh(this.rgba),n=t.r,i=t.g,o=t.b,(l=t.a)<1?"rgba("+n+", "+i+", "+o+", "+l+")":"rgb("+n+", "+i+", "+o+")";var t,n,i,o,l},e.prototype.toHsl=function(){return T_(Ul(this.rgba))},e.prototype.toHslString=function(){return t=T_(Ul(this.rgba)),n=t.h,i=t.s,o=t.l,(l=t.a)<1?"hsla("+n+", "+i+"%, "+o+"%, "+l+")":"hsl("+n+", "+i+"%, "+o+"%)";var t,n,i,o,l},e.prototype.toHsv=function(){return t=zv(this.rgba),{h:Ft(t.h),s:Ft(t.s),v:Ft(t.v),a:Ft(t.a,3)};var t},e.prototype.invert=function(){return rt({r:255-(t=this.rgba).r,g:255-t.g,b:255-t.b,a:t.a});var t},e.prototype.saturate=function(t){return t===void 0&&(t=.1),rt(Dh(this.rgba,t))},e.prototype.desaturate=function(t){return t===void 0&&(t=.1),rt(Dh(this.rgba,-t))},e.prototype.grayscale=function(){return rt(Dh(this.rgba,-1))},e.prototype.lighten=function(t){return t===void 0&&(t=.1),rt(O_(this.rgba,t))},e.prototype.darken=function(t){return t===void 0&&(t=.1),rt(O_(this.rgba,-t))},e.prototype.rotate=function(t){return t===void 0&&(t=15),this.hue(this.hue()+t)},e.prototype.alpha=function(t){return typeof t=="number"?rt({r:(n=this.rgba).r,g:n.g,b:n.b,a:t}):Ft(this.rgba.a,3);var n},e.prototype.hue=function(t){var n=Ul(this.rgba);return typeof t=="number"?rt({h:t,s:n.s,l:n.l,a:n.a}):Ft(n.h)},e.prototype.isEqual=function(t){return this.toHex()===rt(t).toHex()},e}(),rt=function(e){return e instanceof L_?e:new L_(e)};const Vr=Sr()(e=>({undoStack:[],redoStack:[],push:t=>e(n=>({undoStack:[...n.undoStack,t],redoStack:[]})),clear:()=>e({undoStack:[],redoStack:[]})})),Mn=Sr()(e=>({selected:[],origin:new Pe,origins:[],highlighted:void 0,isMoving:!1,outlines:{origin:new Pe},originTranslations:{shape:new Pe,border:new Pe},setIsMoving:t=>e(n=>({...n,isMoving:t})),setOrigins:t=>e(n=>({...n,origins:t})),setHighlight:(t,n)=>e(i=>EE(i,t,n)),clearHighlight:()=>e(t=>CE(t)),clearSelected:()=>e(t=>ME(t)),addHighlightToSelection:t=>e(n=>RE(n,t))}));function EE(e,t,n){const i=e.outlines;return e.highlighted=t,i.highlight||(i.highlight=$v(0,0,0,0)),i.highlight.translation.x=n.x,i.highlight.translation.y=n.y,i.highlight.width=n.width,i.highlight.height=n.height,i.highlight.visible=!0,e}function CE(e){const t=e.outlines;return e.highlighted=void 0,t.highlight&&(t.highlight.remove(),t.highlight=void 0),e}function RE(e,t){const n=e.outlines,i=e.highlighted;if(n.selected||(n.selected=$v(0,0,0,0)),!i)return t?{...e}:(n.selected.remove(),n.selected=void 0,{...e,selected:[]});let o=[...e.selected];const l=e.selected.find(a=>a.id===(i==null?void 0:i.id));return t&&l?o=o.filter(a=>a.id!==i.id):t&&!l?o.push(i):!t&&!l&&(o=[i]),TE(o,n.selected),{...e,selected:o}}function TE(e,t){const n=$e(),i=e.map(m=>m.getBoundingClientRect()),o=Math.min(...i.map(m=>m.left)),l=Math.min(...i.map(m=>m.top)),a=Math.max(...i.map(m=>m.right)),c=Math.max(...i.map(m=>m.bottom)),h=a-o,d=c-l,g=n.zui.clientToSurface({x:o+h/2,y:l+d/2});t.translation.x=g.x,t.translation.y=g.y,t.width=h/n.zui.scale,t.height=d/n.zui.scale,t.visible=!0}function ME(e){return e.outlines.selected&&(e.outlines.selected.remove(),e.outlines.selected=void 0),{...e,selected:[]}}function F_(){const{setToolOption:e}=dt.getState(),{setIsMoving:t,setOrigins:n,outlines:i}=Mn.getState(),o=Mn.getState().selected;t(!0),e("moving");const l=o.map(a=>a.translation.clone());i.selected&&i.origin.set(i.selected.translation.x,i.selected.translation.y),i.highlight&&(i.highlight.remove(),i.highlight=void 0),n(l)}function PE(e){const t=$e(),{origin:n,addHighlightToSelection:i,clearSelected:o,outlines:l}=Mn.getState(),a=zo(e),c=Yr(e);n.set(a.x,a.y);let h=!1;if(l.highlight&&l.highlight.visible){const g=l.highlight.getBoundingClientRect();h=v_(c,g)}if(h&&(i(e.shiftKey),Mn.getState().selected.length)){F_(),t.throttledTwoUpdate();return}let d=!1;if(l.selected&&l.selected.visible){const g=l.selected.getBoundingClientRect();d=v_(c,g)}if(d){F_(),t.throttledTwoUpdate();return}e.shiftKey||o(),t.throttledTwoUpdate()}function AE(e){const{isMoving:t}=Mn.getState();t?LE(e):Uv(e)}function OE(e){const{isMoving:t,setIsMoving:n,selected:i,origins:o}=Mn.getState(),{setToolOption:l}=dt.getState(),a=$e();if(t&&i.length&&o.length===i.length)for(let c=0;c<i.length;c++){const h=i[c],d=o[c];Sc({type:"update",label:"Move shape",shapeId:h.id,changes:[{field:"translation.x",oldValue:d.x,newValue:h.translation.x},{field:"translation.y",oldValue:d.y,newValue:h.translation.y}]})}n(!1),l(""),a.throttledTwoUpdate()}function $v(e,t,n,i){const o=$e(),l=o.two.makeRectangle(e,t,n,i);return l.stroke="#0ea5cf",l.noFill(),l.linewidth=1.5/o.zui.scale,l.scale=1.01,l.isHighlight=!0,o.canvas.add(l),l}function LE(e){const t=$e(),{outlines:n,origins:i,origin:o,selected:l}=Mn.getState(),a=zo(e);if(l.length===i.length){var c=a.x-o.x,h=a.y-o.y;for(let d=0;d<l.length;++d){const g=l[d],m=i[d];g.translation.x=m.x+c,g.translation.y=m.y+h}n.selected&&(n.selected.translation.x=n.origin.x+c,n.selected.translation.y=n.origin.y+h),t.throttledTwoUpdate()}}function Uv(e){const t=$e(),{doodles:n}=tn.getState(),{highlighted:i,setHighlight:o,clearHighlight:l}=Mn.getState(),a=Yr(e);for(const c of n){const h=c.shape;if(!h.getBoundingClientRect)continue;const d=h.getBoundingClientRect(!1);if(!Xd(a.x,a.y,d.left,d.top,d.right,d.bottom)||h.isHighlight)continue;if(i===h)return;const m=t.zui.clientToSurface({x:d.left+d.width/2,y:d.top+d.height/2}),v={x:m.x,y:m.y,width:d.width/t.zui.scale,height:d.height/t.zui.scale};o(h,v),t.throttledTwoUpdate();return}l(),t.throttledTwoUpdate()}function qd(e){const{doodles:t}=tn.getState();return t.find(n=>n.shape.id===e)}function Vv(){const{clearSelected:e,clearHighlight:t}=Mn.getState();e(),t()}function Hv(e,t,n){const i=t.split(".");i.length===2?e[i[0]][i[1]]=n:e[t]=n}function Wv(e){const t=$e(),{doodles:n,setDoodles:i}=tn.getState();i([...n,e]),t.canvas.add(e.shape)}function Yv(e){const t=$e(),n=qd(e);if(!n)return;const{doodles:i,setDoodles:o}=tn.getState();o(i.filter(l=>l.shape.id!==e)),t.canvas.remove(n.shape)}function FE(e){switch(e.type){case"create":{const t=Yd(e.doodle);Wv(t);break}case"remove":{Yv(e.doodle.id);break}case"update":{const t=qd(e.shapeId);if(!t)return;for(const n of e.changes)Hv(t.shape,n.field,n.newValue);break}}}function NE(e){switch(e.type){case"create":{Yv(e.doodle.id);break}case"remove":{const t=Yd(e.doodle);Wv(t);break}case"update":{const t=qd(e.shapeId);if(!t)return;for(const n of e.changes)Hv(t.shape,n.field,n.oldValue);break}}}function Sc(e){Vr.getState().push(e)}function Gd(){const{undoStack:e}=Vr.getState();if(e.length===0)return;const t=e[e.length-1];Vr.setState(n=>({undoStack:n.undoStack.slice(0,-1),redoStack:[...n.redoStack,t]})),Vv(),NE(t),$e().throttledTwoUpdate()}function Qd(){const{redoStack:e}=Vr.getState();if(e.length===0)return;const t=e[e.length-1];Vr.setState(n=>({redoStack:n.redoStack.slice(0,-1),undoStack:[...n.undoStack,t]})),Vv(),FE(t),$e().throttledTwoUpdate()}function Ps(e,t){Sc({type:"create",label:e,doodle:Wd(t)})}function IE(e,t){Sc({type:"remove",label:e,doodle:Wd(t)})}const hi=Sr()(ic(e=>({strokeWidth:5,tolerance:30,stabilizer:1,strokeColor:{r:33,g:33,b:33,a:1},simplifyAlgo:"triangle",setStrokeColor:t=>e(()=>({strokeColor:t})),setStrokeWidth:t=>e(()=>({strokeWidth:t})),setTolerance:t=>e(()=>({tolerance:t})),setStabilizer:t=>e(()=>({stabilizer:t})),setSimplifyAlgo:t=>e(()=>({simplifyAlgo:t}))}),{name:"brush-tool",version:1}));let yd=new Pe,Cs,at;function jE(e){const t=$e(),{strokeWidth:n,strokeColor:i}=hi.getState(),o=rt(i).toRgbString(),l=t.zui.clientToSurface(Yr(e));yd.set(l.x,l.y),at=void 0,(i==null?void 0:i.a)===1&&(Cs=t.two.makeCircle(l.x,l.y,n/2),Cs.fill=o,Cs.noStroke(),t.canvas.add(Cs)),t.throttledTwoUpdate()}function DE(e){const t=$e(),{strokeColor:n,strokeWidth:i,stabilizer:o}=hi.getState(),l=rt(n).toRgbString(),a=zo(e,t.zui);if(at){let c=!1;if(at.vertices.length){const h=at.vertices[at.vertices.length-1];xe.Vector.distanceBetween(h,a)<o&&(c=!0)}c||at.vertices.push(Nu(a))}else{at=t.two.makeCurve([Nu(yd),Nu(a)],!0),at.cap="round",at.noFill().stroke=l,at.linewidth=i;for(const c of at.vertices)c.addSelf(at.position);at.position.clear(),t.addDoodle({shape:at,type:"brush"})}yd.set(a.x,a.y),t.throttledTwoUpdate()}function zE(e){const t=$e(),{tolerance:n,simplifyAlgo:i}=hi.getState();if(!at)return;Cs&&(t.canvas.remove(Cs),Cs=void 0);const o=t.zui.clientToSurface(Yr(e));if(at.vertices.push(Nu(o)),BE(at),n!==0)if(i==="douglas"){const l=n/100,a=yE(at.vertices,l);at.vertices=a}else{const l=Math.floor((100-n)*at.vertices.length/100),a=dE(pE(i),at.vertices,l);at.vertices=a}t.throttledTwoUpdate(),Ps("Draw brush stroke",{shape:at,type:"brush"})}function BE(e){const t=e.vertices[0].clone();e.translation.add(t);for(const n of e.vertices)n.subSelf(t)}function Nu({x:e,y:t}){var n=new xe.Anchor(e,t);return n}let Iu=new xe.Vector;function N_(e){Iu.set(e.clientX,e.clientY)}function $E(e){var t=e.clientX-Iu.x,n=e.clientY-Iu.y;Iu.set(e.clientX,e.clientY),Xv(t,n)}function Xv(e,t){const n=$e();n.zui.translateSurface(e,t),n.throttledTwoUpdate()}function Kv(e){const t=$e(),{doodles:n}=tn.getState(),{clearHighlight:i}=Mn.getState(),o=Yr(e);for(const l of n){const a=l.shape.getBoundingClientRect(!1);if(Xd(o.x,o.y,a.left,a.top,a.right,a.bottom)){IE("Delete shape",l),t.removeDoodle(l),i(),t.throttledTwoUpdate();return}}}const Hi=Sr()(e=>({shape:void 0,origin:new Pe,strokeWidth:2,radius:0,strokeColor:{r:0,g:0,b:0,a:1},fillColor:{r:255,g:255,b:255,a:1},setShape:t=>e(()=>({shape:t})),setStrokeColor:t=>e(()=>({strokeColor:t})),setFillColor:t=>e(()=>({fillColor:t})),setStrokeWidth:t=>e(()=>({strokeWidth:t})),setRadius:t=>e(()=>({radius:t}))}));function UE(e){const t=$e(),{setShape:n,origin:i,fillColor:o,strokeColor:l,strokeWidth:a,radius:c}=Hi.getState(),h=t.zui.clientToSurface(Yr(e));i.set(h.x,h.y);const d=t.two.makeRoundedRectangle(h.x,h.y,1,1,c);d.stroke=rt(l).toRgbString(),d.fill=rt(o).toRgbString(),a?d.linewidth=a:d.noStroke(),t.addDoodle({shape:d,type:"rect"}),n(d),t.throttledTwoUpdate()}function VE(e){const t=$e(),{shape:n,origin:i}=Hi.getState(),o=zo(e,t.zui);if(n){const l=n.width,a=n.height;n.width=o.x-i.x,n.height=o.y-i.y;const c={x:(n.width-l)/2,y:(n.height-a)/2};n.position.x+=c.x,n.position.y+=c.y,t.throttledTwoUpdate()}}function HE(){const{shape:e,setShape:t}=Hi.getState();e&&Ps("Draw rectangle",{shape:e,type:"rect"}),t(void 0)}const Wi=Sr()(ic(e=>({line:void 0,arrowHead:void 0,arrowTail:void 0,origin:new Pe,strokeWidth:3,strokeColor:{r:33,g:33,b:33,a:1},hasArrow:!1,doubleArrow:!1,setLine:t=>e(()=>({line:t})),setArrowHead:t=>e(()=>({arrowHead:t})),setArrowTail:t=>e(()=>({arrowTail:t})),setStrokeWidth:t=>e(()=>({strokeWidth:t})),setStrokeColor:t=>e(()=>({strokeColor:t})),setHasArrow:t=>e(()=>({hasArrow:t})),setDoubleArrow:t=>e(()=>({doubleArrow:t}))}),{name:"line-tool",version:1,partialize:e=>({strokeWidth:e.strokeWidth,strokeColor:e.strokeColor})}));function WE(e){const t=$e(),{setLine:n,setArrowHead:i,setArrowTail:o,origin:l,strokeColor:a,strokeWidth:c,hasArrow:h,doubleArrow:d}=Wi.getState(),g=t.zui.clientToSurface(Yr(e));l.set(g.x,g.y);const m=rt(a).toRgbString(),v=new xe.Anchor(g.x,g.y),y=new xe.Anchor(g.x,g.y),w=new nn([v,y],!1,!1);w.cap="round",w.noFill().stroke=m,w.linewidth=c;const k=h?"arrow":"line";if(t.addDoodle({shape:w,type:k}),n(w),h){const S=I_(g,g,c,m);if(t.addDoodle({shape:S,type:"arrow"}),i(S),d){const b=I_(g,g,c,m);t.addDoodle({shape:b,type:"arrow"}),o(b)}}t.throttledTwoUpdate()}function YE(e){const t=$e(),{line:n,arrowHead:i,arrowTail:o,hasArrow:l,strokeWidth:a}=Wi.getState();if(!n)return;const c=zo(e,t.zui),h=n.vertices[0],d=n.vertices[1];d.x=c.x,d.y=c.y,l&&i&&j_(i,h,c,a),l&&o&&j_(o,c,h,a),t.throttledTwoUpdate()}function XE(){const{line:e,arrowHead:t,arrowTail:n,hasArrow:i,setLine:o,setArrowHead:l,setArrowTail:a}=Wi.getState();e&&Ps(i?"Draw arrow":"Draw line",{shape:e,type:i?"arrow":"line"}),i&&t&&Ps("Draw arrowhead",{shape:t,type:"arrow"}),i&&n&&Ps("Draw arrowhead",{shape:n,type:"arrow"}),o(void 0),l(void 0),a(void 0)}function I_(e,t,n,i){const o=Math.max(n*3,10),l=Math.atan2(t.y-e.y,t.x-e.x),a=new xe.Anchor(t.x,t.y),c=new xe.Anchor(t.x-o*Math.cos(l-Math.PI/6),t.y-o*Math.sin(l-Math.PI/6)),h=new xe.Anchor(t.x-o*Math.cos(l+Math.PI/6),t.y-o*Math.sin(l+Math.PI/6)),d=new nn([a,c,h],!1,!1);return d.closed=!0,d.fill=i,d.noStroke(),d}function j_(e,t,n,i){const o=Math.max(i*3,10),l=Math.atan2(n.y-t.y,n.x-t.x),a=e.vertices[0],c=e.vertices[1],h=e.vertices[2];a.x=n.x,a.y=n.y,c.x=n.x-o*Math.cos(l-Math.PI/6),c.y=n.y-o*Math.sin(l-Math.PI/6),h.x=n.x-o*Math.cos(l+Math.PI/6),h.y=n.y-o*Math.sin(l+Math.PI/6)}const Dl=Sr()(ic(e=>({fontSize:24,fontFamily:"sans-serif",fillColor:{r:33,g:33,b:33,a:1},alignment:"left",setFontSize:t=>e(()=>({fontSize:t})),setFontFamily:t=>e(()=>({fontFamily:t})),setFillColor:t=>e(()=>({fillColor:t})),setAlignment:t=>e(()=>({alignment:t}))}),{name:"text-tool",version:1}));let Bh;function KE(e){if(Bh)return;e.preventDefault();const t=$e(),{fontSize:n,fontFamily:i,fillColor:o,alignment:l}=Dl.getState(),a=t.zui.clientToSurface(Yr(e)),c=t.zui.scale,h=rt(o).toRgbString(),d=document.createElement("div");d.contentEditable="true",d.style.position="fixed",d.style.left=`${e.clientX}px`,d.style.top=`${e.clientY}px`,d.style.fontSize=`${n*c}px`,d.style.fontFamily=i,d.style.color=h,d.style.textAlign=l,d.style.background="transparent",d.style.border="1px dashed #0ea5cf",d.style.outline="none",d.style.minWidth="60px",d.style.minHeight=`${n*c+8}px`,d.style.lineHeight="1.2",d.style.zIndex="10000",d.style.whiteSpace="pre-wrap",d.style.cursor="text",Bh=d,document.body.appendChild(d),d.addEventListener("mousedown",v=>v.stopPropagation()),requestAnimationFrame(()=>d.focus());function g(){const v=(d.innerText||"").trim();if(v){const y=new tc(v,a.x,a.y+n/2);y.fill=h,y.noStroke(),y.family=i,y.size=n,y.alignment=l,t.addDoodle({shape:y,type:"text"}),Ps("Add text",{shape:y,type:"text"}),t.throttledTwoUpdate()}m()}function m(){d.parentNode&&d.parentNode.removeChild(d),Bh=void 0}d.addEventListener("blur",()=>{g()}),d.addEventListener("keydown",v=>{v.key==="Enter"&&!v.shiftKey&&(v.preventDefault(),d.blur()),v.key==="Escape"&&(v.preventDefault(),m()),v.stopPropagation()})}const Ec=Sr()(e=>({zoom:100,setZoom:t=>e(n=>({...n,zoom:t})),initialDistance:void 0,setInitialDistance:t=>e(n=>({...n,initialDistance:t}))}));function _d(e,t){const n=$e(),{setZoom:i}=Ec.getState();var o=t/100;n.zui.zoomBy(o,e.clientX,e.clientY),i(Math.floor(n.zui.scale*100));const{outlines:l}=Mn.getState();for(const a of Object.values(l))a&&(a.linewidth=1.5/n.zui.scale);n.throttledTwoUpdate()}function qE(){const e=$e(),{setZoom:t}=Ec.getState();e.zui.reset(),e.zui.translateSurface(0,0),t(100),e.two.update(),e.throttledTwoUpdate()}const $h=Math.cos,Uh=Math.sin,ci=class ci extends nn{constructor(n,i,o,l){const a=l?Math.max(l,2):4,c=[];for(let h=0;h<a;h++)c.push(new cn(0,0,0,0,0,0));super(c,!0,!0,!0);B(this,"_flagRadius",!1);B(this,"_radius",0);this._renderer.type="circle";for(let h in D_)Object.defineProperty(this,h,D_[h]);typeof o=="number"&&(this.radius=o),this._update(),typeof n=="number"&&(this.translation.x=n),typeof i=="number"&&(this.translation.y=i)}static fromObject(n){const i=new ci().copy(n);return"id"in n&&(i.id=n.id),i}copy(n){super.copy.call(this,n);for(let i=0;i<ci.Properties.length;i++){const o=ci.Properties[i];o in n&&typeof n[o]=="number"&&(this[o]=n[o])}return this}_update(){if(this._flagVertices||this._flagRadius){let n=this.vertices.length;!this._closed&&n>2&&(n-=1);const i=4/3*Math.tan(Math.PI/(n*2)),o=this._radius,l=o*i;for(let a=0;a<this.vertices.length;a++){const h=a/n*pS,d=o*$h(h),g=o*Uh(h),m=l*$h(h-To),v=l*Uh(h-To),y=l*$h(h+To),w=l*Uh(h+To),k=this.vertices[a];k.command=a===0?qe.move:qe.curve,k.set(d,g),k.controls.left.set(m,v),k.controls.right.set(y,w)}}return super._update.call(this),this}flagReset(){return this._flagRadius=!1,super.flagReset.call(this),this}clone(n){const i=new ci(0,0,this.radius,this.vertices.length);i.translation.copy(this.translation),i.rotation=this.rotation,i.scale=this.scale,i.skewX=this.skewX,i.skewY=this.skewY,this.matrix.manual&&i.matrix.copy(this.matrix);for(let o=0;o<nn.Properties.length;o++){const l=nn.Properties[o];i[l]=this[l]}return n&&n.add(i),i}toObject(){const n=super.toObject.call(this);n.renderer.type="circle";for(let i=0;i<ci.Properties.length;i++){const o=ci.Properties[i];n[o]=this[o]}return n}};B(ci,"Properties",["radius"]);let vd=ci;const D_={radius:{enumerable:!0,get:function(){return this._radius},set:function(e){this._radius=e,this._flagRadius=!0}}},Rn=Sr()(e=>({path:void 0,preview:void 0,handleLine:void 0,anchorDots:[],currentAnchor:void 0,isDragging:!1,fillColor:{r:255,g:255,b:255,a:1},strokeWidth:3,strokeColor:{r:33,g:33,b:33,a:1},setPath:t=>e(()=>({path:t})),setFillColor:t=>e(()=>({fillColor:t})),setStrokeWidth:t=>e(()=>({strokeWidth:t})),setStrokeColor:t=>e(()=>({strokeColor:t}))}));let z_=!1;function GE(){z_||(z_=!0,dt.subscribe((e,t)=>{t.selectedTool==="bezier"&&e.selectedTool!=="bezier"&&Zd()}))}const QE=15,ZE=4;function B_(e,t){const n=new vd(e,t,ZE);return n.fill=gd,n.noStroke(),n}function JE(e,t){const n=e.x-t.x,i=e.y-t.y;return Math.sqrt(n*n+i*i)}function e3(e){GE();const t=$e(),n=Rn.getState(),i=t.zui.clientToSurface(Yr(e));if(n.path&&n.path.vertices.length>=3){const c=n.path.vertices[0];if(JE(i,c)<QE){n.path.closed=!0,Zd();return}}const{strokeColor:o,strokeWidth:l}=n,a=rt(o).toRgbString();if(n.path){const c=new xe.Anchor(i.x,i.y,0,0,0,0,"C");n.path.vertices.push(c);const h=B_(i.x,i.y);t.canvas.add(h),Rn.setState({anchorDots:[...n.anchorDots,h],currentAnchor:c,isDragging:!0})}else{const c=new xe.Anchor(i.x,i.y,0,0,0,0,"M"),h=new nn([c],!1,!1,!0);h.cap="round",h.join="round",h.noFill().stroke=a,h.linewidth=l,t.canvas.add(h);const d=new nn([new xe.Anchor(i.x,i.y),new xe.Anchor(i.x,i.y)],!1,!1);d.noFill().stroke=gd,d.linewidth=1,t.canvas.add(d);const g=new nn([new xe.Anchor(i.x,i.y),new xe.Anchor(i.x,i.y),new xe.Anchor(i.x,i.y)],!1,!1);g.noFill().stroke=gd,g.linewidth=1,t.canvas.add(g);const m=B_(i.x,i.y);t.canvas.add(m),Rn.setState({path:h,preview:d,handleLine:g,anchorDots:[m],currentAnchor:c,isDragging:!0})}t.throttledTwoUpdate()}function t3(e){const t=Rn.getState();if(!t.path)return;const n=$e(),i=n.zui.clientToSurface(Yr(e));if(t.isDragging&&t.currentAnchor){const o=t.currentAnchor.x,l=t.currentAnchor.y,a=i.x-o,c=i.y-l;if(t.currentAnchor.controls.right.x=a,t.currentAnchor.controls.right.y=c,t.currentAnchor.controls.left.x=-a,t.currentAnchor.controls.left.y=-c,t.handleLine){const h=t.handleLine.vertices;h[0].x=o-a,h[0].y=l-c,h[1].x=o,h[1].y=l,h[2].x=i.x,h[2].y=i.y}}else{const o=t.path.vertices[t.path.vertices.length-1];t.preview&&o&&(t.preview.vertices[0].x=o.x,t.preview.vertices[0].y=o.y,t.preview.vertices[1].x=i.x,t.preview.vertices[1].y=i.y)}n.throttledTwoUpdate()}function n3(){const e=Rn.getState();if(!e.path)return;if(e.handleLine&&e.currentAnchor){const n=e.currentAnchor.x,i=e.currentAnchor.y,o=e.handleLine.vertices;o[0].x=n,o[0].y=i,o[1].x=n,o[1].y=i,o[2].x=n,o[2].y=i}Rn.setState({isDragging:!1}),$e().throttledTwoUpdate()}function Zd(){const e=Rn.getState(),t=$e();e.path&&e.path.vertices.length>=2?(e.path.closed&&(e.path.fill=rt(e.fillColor).toRgbString()),t.canvas.remove(e.path),t.addDoodle({shape:e.path,type:"bezier"}),Ps("Draw bezier curve",{shape:e.path,type:"bezier"})):e.path&&t.canvas.remove(e.path),e.preview&&t.canvas.remove(e.preview),e.handleLine&&t.canvas.remove(e.handleLine);for(const n of e.anchorDots)t.canvas.remove(n);Rn.setState({path:void 0,preview:void 0,handleLine:void 0,anchorDots:[],currentAnchor:void 0,isDragging:!1}),t.throttledTwoUpdate()}function r3(){const e=Rn.getState(),t=$e();e.path&&t.canvas.remove(e.path),e.preview&&t.canvas.remove(e.preview),e.handleLine&&t.canvas.remove(e.handleLine);for(const n of e.anchorDots)t.canvas.remove(n);Rn.setState({path:void 0,preview:void 0,handleLine:void 0,anchorDots:[],currentAnchor:void 0,isDragging:!1}),t.throttledTwoUpdate()}function qv(e){const{selectedTool:t,setActiveTool:n,setRestoreTool:i,setSelectedTool:o}=dt.getState();if(e.button===Iv.Middle){i(t),n("hand"),o("hand"),N_(e);return}if(n(t||"hand"),t==="hand"){N_(e);return}if(t==="pointer"){PE(e);return}if(t==="eraser"){Kv(e);return}if(t==="brush"){jE(e);return}if(t==="bezier"){e3(e);return}if(t==="square"){UE(e);return}if(t==="line"||t==="arrow"){Wi.getState().setHasArrow(t==="arrow"),WE(e);return}if(t==="text"){KE(e);return}if(t==="zoom"){e.shiftKey?_d(e,-30):_d(e,30);return}}const i3=nv(e=>{var o;if(!((o=tn.getState().doodler)!=null&&o.two)||!e.currentTarget)return;const t=$e(),n=zo(e,t==null?void 0:t.zui),{setCursor:i}=tn.getState();i(n)},16);function Gv(e){const{activeTool:t,selectedTool:n}=dt.getState();if(i3(e),n==="eraser"&&t!=="eraser"&&Uv(e),n==="pointer"){AE(e);return}if(n==="bezier"){t3(e);return}if(t==="hand"){$E(e);return}if(t==="eraser"){Kv(e);return}if(t==="brush"){DE(e);return}if(t==="square"){VE(e);return}if(t==="line"||t==="arrow"){YE(e);return}}function Qv(e){const{activeTool:t,setActiveTool:n,restoreTool:i,setRestoreTool:o,setSelectedTool:l}=dt.getState();if(t){if(i&&(l(i),o(void 0)),(t==="hand"||t==="eraser")&&n(void 0),t==="pointer"){OE(),n(void 0);return}if(t==="brush"){zE(e),n(void 0);return}if(t==="bezier"){n3(),n(void 0);return}if(t==="square"){HE(),n(void 0);return}if(t==="line"||t==="arrow"){XE(),n(void 0);return}}}function s3(e){const{setCursor:t}=tn.getState();dt.getState(),t(void 0)}function o3(e){}function l3(e){e.preventDefault(),e.ctrlKey||e.metaKey||e.altKey?_d(e,-e.deltaY):Xv(-e.deltaX,-e.deltaY)}function a3(e){e.touches.length===1&&qv(Kd(e))}function u3(e){e.touches.length===1&&Gv(Kd(e))}function c3(e){Qv(Kd(e))}function f3(){const{container:e}=tn.getState(),t=$e();!t.two||!e||((e.clientWidth!==t.two.width||e.clientHeight!==t.two.height)&&(t.two.width=e.clientWidth,t.two.height=e.clientHeight),t==null||t.throttledTwoUpdate())}function h3(e){const t=e.target;if(t.tagName==="INPUT"||t.tagName==="TEXTAREA")return;const{selectedTool:n}=dt.getState();if(n==="bezier"){if(e.key==="Enter"){e.preventDefault(),Zd();return}if(e.key==="Escape"){e.preventDefault(),r3();return}}if((e.ctrlKey||e.metaKey)&&e.shiftKey&&(e.key==="Z"||e.key==="z")){e.preventDefault(),Qd();return}if((e.ctrlKey||e.metaKey)&&e.key==="z"){e.preventDefault(),Gd();return}}function d3(){}const Vn={doMouseWheel:l3,doMouseDown:qv,doMouseMove:Gv,doMouseUp:Qv,doMouseOut:s3,doMouseOver:o3,doTouchStart:a3,doTouchMove:u3,doTouchEnd:c3,doWindowResize:f3,doUpdate:d3,doKeyDown:h3};class $_{constructor(t){this.object=t}limits(t,n){const i=typeof t<"u",o=typeof n<"u";return!o&&!i?{min:this.min,max:this.max}:(this.min=i?t:this.min,this.max=o?n:this.max,this)}apply(t,n,i){return this.object.translation.set(t,n),this.object.scale=i,this}}const vr=class vr{constructor(t,n){this.limits={scale:vr.Limit.clone(),x:vr.Limit.clone(),y:vr.Limit.clone()},this.viewport=n||document.body,this.viewportOffset={top:0,left:0,matrix:new Is},this.surfaceMatrix=new Is,this.surfaces=[],this.reset(),this.updateSurface(),this.add(new $_(t))}static Clamp(t,n,i){return Math.min(Math.max(t,n),i)}static TranslateMatrix(t,n,i){return t.elements[2]+=n,t.elements[5]+=i,t}static PositionToScale(t){return Math.exp(t)}static ScaleToPosition(t){return Math.log(t)}add(t){this.surfaces.push(t);const n=t.limits();return this.addLimits(n.min,n.max),this}addLimits(t,n){return typeof t<"u"&&(this.limits.scale.min?this.limits.scale.min=Math.max(t,this.limits.scale.min):this.limits.scale.min=t),typeof n>"u"?this:(this.limits.scale.max?this.limits.scale.max=Math.min(n,this.limits.scale.max):this.limits.scale.max=n,this)}clientToSurface(t,n,i){this.updateOffset();const o=this.surfaceMatrix.inverse();let l,a,c;if(arguments.length===1){const g=t;l=typeof g.x=="number"?g.x:0,a=typeof g.y=="number"?g.y:0,c=typeof g.z=="number"?g.z:1}else l=typeof t=="number"?t:0,a=typeof n=="number"?n:0,c=typeof i=="number"?i:1;const h=this.viewportOffset.matrix.inverse().multiply(l,a,c),d=o.multiply(h[0],h[1],h[2]);return{x:d[0],y:d[1],z:d[2]}}surfaceToClient(t,n,i){this.updateOffset();const o=this.viewportOffset.matrix.clone();let l,a,c;if(arguments.length===1){const g=t;l=typeof g.x=="number"?g.x:0,a=typeof g.y=="number"?g.y:0,c=typeof g.z=="number"?g.z:1}else l=typeof t=="number"?t:0,a=typeof n=="number"?n:0,c=typeof i=="number"?i:1;const h=this.surfaceMatrix.multiply(l,a,c),d=o.multiply(h[0],h[1],h[2]);return{x:d[0],y:d[1],z:d[2]}}zoomBy(t,n,i){const o=vr.PositionToScale(this.zoom+t);return this.zoomSet(o,n,i),this}zoomSet(t,n,i){const o=this.fitToLimits(t);if(this.zoom=vr.ScaleToPosition(o),o===this.scale)return this;const l=this.clientToSurface(n,i),a=o/this.scale;this.surfaceMatrix.scale(a),this.scale=o;const c=this.surfaceToClient(l),h=n-c.x,d=i-c.y;return this.translateSurface(h,d),this}translateSurface(t,n){return vr.TranslateMatrix(this.surfaceMatrix,t,n),this.updateSurface(),this}updateOffset(){const t=this.viewport.getBoundingClientRect();return this.viewportOffset.left=t.left-document.body.scrollLeft,this.viewportOffset.top=t.top-document.body.scrollTop,this.viewportOffset.matrix.identity().translate(this.viewportOffset.left,this.viewportOffset.top),this}updateSurface(){const t=this.surfaceMatrix.elements;for(let n=0;n<this.surfaces.length;n++)this.surfaces[n].apply(t[2],t[5],t[0]);return this}reset(){return this.zoom=0,this.scale=1,this.surfaceMatrix.identity(),this}fitToLimits(t){return vr.Clamp(t,this.limits.scale.min,this.limits.scale.max)}};B(vr,"Surface",$_),B(vr,"Limit",{min:-1/0,max:1/0,clone:function(){const t={};for(let n in this)t[n]=this[n];return t}});let xd=vr;const p3=(e,t,n)=>{E.useEffect(()=>{const{setContainer:i,setDoodler:o}=tn.getState();if(!e.current)return;const l=g3(e.current),a=m3(l),c=y3(a),h=new QS({two:l,canvas:a,zui:c,sketchId:t,container:e.current});o(h),i(e.current),ZS(h),h.loadDoodles().finally(()=>n==null?void 0:n());const d=e.current;d.addEventListener("wheel",Vn.doMouseWheel,{passive:!1});const g=JS(Vn.doWindowResize,250);return window.addEventListener("resize",g),window.addEventListener("keydown",Vn.doKeyDown),()=>{window.removeEventListener("resize",g),window.removeEventListener("keydown",Vn.doKeyDown),d.removeEventListener("wheel",Vn.doMouseWheel),d.firstChild&&d.removeChild(d.firstChild),l.remove();const{setDoodles:m}=tn.getState();m([]),Vr.getState().clear()}},[e,n,t])},g3=e=>new xe({autostart:!1,fitted:!0,width:e.clientWidth,height:e.clientHeight,type:xe.Types.svg}).appendTo(e),m3=e=>{const t=new xe.Group;return e.add(t),t},y3=e=>{const t=new xd(e);return t.addLimits(.05,100),t},_3=({sketchId:e,onReady:t})=>{const n=E.useRef(null),i=dt(h=>h.selectedTool),o=dt(h=>h.activeTool),l=dt(h=>h.toolOption),a=dt(h=>h.canvasColor),c=rt(a).toHex();return p3(n,e,t),P.jsx("div",{style:{backgroundColor:c||"black"},className:"canvas-container flex-grow overflow-hidden",tabIndex:0,ref:n,"data-selected":i,"data-active":o,"data-option":l,onMouseDown:h=>Vn.doMouseDown(h),onMouseMove:h=>Vn.doMouseMove(h),onMouseUp:h=>Vn.doMouseUp(h),onMouseOut:h=>Vn.doMouseOut(h),onMouseOver:h=>Vn.doMouseOver(h),onTouchStart:h=>Vn.doTouchStart(h),onTouchMove:h=>Vn.doTouchMove(h),onTouchEnd:h=>Vn.doTouchEnd(h)})},v3=()=>{const e=tn(n=>n.cursor),t=Ec(n=>n.zoom);if(e){const n=Math.floor(e.x),i=Math.floor(e.y);return P.jsxs("div",{className:"flex justify-end py-1 px-4 text-xs gap-4",children:[P.jsxs("div",{children:[n,":",i]}),P.jsxs("div",{className:"w-24",children:[t,"%"]})]})}return null},x3=()=>{const e=tn(i=>i.doodles),t=Mn(i=>i.selected),n=E.useMemo(()=>t.map(i=>i.id),[t]);return P.jsxs(P.Fragment,{children:[P.jsx("div",{className:"pb-1 pt-4",children:"Layers"}),P.jsx("div",{className:"h-64 overflow-y-auto scroll-smooth shadow rounded bg-default-3",children:P.jsx("div",{className:"flex flex-col  text-sm",children:e.map(i=>P.jsx(w3,{doodle:i,isSelected:n.includes(i.shape.id)},i.shape.id))})})]})},w3=({doodle:e,isSelected:t})=>P.jsxs("button",{type:"button",className:`flex items-center hover:bg-default-4 text-left ${t?"bg-secondary":""}`,children:[P.jsx("div",{className:"w-8 h-8 flex flex-center text-default-6",children:P.jsx(k3,{type:e.type})}),P.jsx("div",{className:"flex-grow",children:e.type})]}),k3=({type:e})=>{switch(e){case"brush":return P.jsx(m0,{stroke:1,size:16});case"circle":case"ellipse":return P.jsx(Fw,{stroke:1,size:16});case"rect":return P.jsx(n2,{stroke:1,size:16});case"line":return P.jsx(sc,{stroke:1,size:16});case"arrow":return P.jsx(h0,{stroke:1,size:16});case"text":return P.jsx(Ld,{stroke:1,size:16});default:return P.jsx(Uw,{stroke:1,size:16})}},Yi=E.forwardRef((e,t)=>{const{className:n,...i}=e;return P.jsx("button",{type:"button",className:`p-1 rounded hover:bg-default-3 ${n||""}`,ref:t,...i,children:e.children})});Yi.displayName="Button";const Zv=({children:e})=>P.jsx("div",{className:"flex  border border-default-4 rounded overflow-hidden",children:e}),zl=e=>{const{isSelected:t,children:n,...i}=e,o=!!t;return P.jsx("button",{type:"button",className:`p-1 hover:bg-default-4 ${o?"bg-default-3":""}`,"aria-pressed":o,...i,children:n})},b3=()=>{const e=Vr(o=>o.undoStack),t=Vr(o=>o.redoStack),n=e.length>0,i=t.length>0;return P.jsxs(P.Fragment,{children:[P.jsxs("div",{className:"pb-1 pt-4 flex items-center justify-between",children:[P.jsx("span",{children:"History"}),P.jsxs("div",{className:"flex gap-1",children:[P.jsx(Yi,{onClick:Gd,disabled:!n,title:"Undo (Ctrl+Z)",children:P.jsx(c0,{size:16,stroke:1})}),P.jsx(Yi,{onClick:Qd,disabled:!i,title:"Redo (Ctrl+Shift+Z)",children:P.jsx(f0,{size:16,stroke:1})})]})]}),P.jsx("div",{className:"h-40 overflow-y-auto scroll-smooth shadow rounded bg-default-3",children:P.jsxs("div",{className:"flex flex-col text-sm",children:[[...t].reverse().map((o,l)=>P.jsx(Vh,{command:o,variant:"future"},`redo-${l}`)),e.length>0&&P.jsx(Vh,{command:e[e.length-1],variant:"current"},"current"),[...e].slice(0,-1).reverse().map((o,l)=>P.jsx(Vh,{command:o,variant:"past"},`undo-${l}`))]})})]})},Vh=({command:e,variant:t})=>P.jsx("div",{className:`px-2 py-0.5 text-xs ${t==="current"?"bg-secondary":t==="future"?"opacity-40":"opacity-70"}`,children:e.label});function Cc(){return(Cc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function Jv(e,t){if(e==null)return{};var n,i,o={},l=Object.keys(e);for(i=0;i<l.length;i++)t.indexOf(n=l[i])>=0||(o[n]=e[n]);return o}function wd(e){var t=E.useRef(e),n=E.useRef(function(i){t.current&&t.current(i)});return t.current=e,n.current}var Io=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=1),e>n?n:e<t?t:e},Vl=function(e){return"touches"in e},kd=function(e){return e&&e.ownerDocument.defaultView||self},U_=function(e,t,n){var i=e.getBoundingClientRect(),o=Vl(t)?function(l,a){for(var c=0;c<l.length;c++)if(l[c].identifier===a)return l[c];return l[0]}(t.touches,n):t;return{left:Io((o.pageX-(i.left+kd(e).pageXOffset))/i.width),top:Io((o.pageY-(i.top+kd(e).pageYOffset))/i.height)}},V_=function(e){!Vl(e)&&e.preventDefault()},Jd=it.memo(function(e){var t=e.onMove,n=e.onKey,i=Jv(e,["onMove","onKey"]),o=E.useRef(null),l=wd(t),a=wd(n),c=E.useRef(null),h=E.useRef(!1),d=E.useMemo(function(){var y=function(S){V_(S),(Vl(S)?S.touches.length>0:S.buttons>0)&&o.current?l(U_(o.current,S,c.current)):k(!1)},w=function(){return k(!1)};function k(S){var b=h.current,x=kd(o.current),C=S?x.addEventListener:x.removeEventListener;C(b?"touchmove":"mousemove",y),C(b?"touchend":"mouseup",w)}return[function(S){var b=S.nativeEvent,x=o.current;if(x&&(V_(b),!function(M,A){return A&&!Vl(M)}(b,h.current)&&x)){if(Vl(b)){h.current=!0;var C=b.changedTouches||[];C.length&&(c.current=C[0].identifier)}x.focus(),l(U_(x,b,c.current)),k(!0)}},function(S){var b=S.which||S.keyCode;b<37||b>40||(S.preventDefault(),a({left:b===39?.05:b===37?-.05:0,top:b===40?.05:b===38?-.05:0}))},k]},[a,l]),g=d[0],m=d[1],v=d[2];return E.useEffect(function(){return v},[v]),it.createElement("div",Cc({},i,{onTouchStart:g,onMouseDown:g,className:"react-colorful__interactive",ref:o,onKeyDown:m,tabIndex:0,role:"slider"}))}),Rc=function(e){return e.filter(Boolean).join(" ")},ep=function(e){var t=e.color,n=e.left,i=e.top,o=i===void 0?.5:i,l=Rc(["react-colorful__pointer",e.className]);return it.createElement("div",{className:l,style:{top:100*o+"%",left:100*n+"%"}},it.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},hn=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=Math.pow(10,t)),Math.round(n*e)/n},e1=function(e){var t=e.s,n=e.v,i=e.a,o=(200-t)*n/100;return{h:hn(e.h),s:hn(o>0&&o<200?t*n/100/(o<=100?o:200-o)*100:0),l:hn(o/2),a:hn(i,2)}},bd=function(e){var t=e1(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},Hh=function(e){var t=e1(e);return"hsla("+t.h+", "+t.s+"%, "+t.l+"%, "+t.a+")"},S3=function(e){var t=e.h,n=e.s,i=e.v,o=e.a;t=t/360*6,n/=100,i/=100;var l=Math.floor(t),a=i*(1-n),c=i*(1-(t-l)*n),h=i*(1-(1-t+l)*n),d=l%6;return{r:hn(255*[i,c,a,a,h,i][d]),g:hn(255*[h,i,i,c,a,a][d]),b:hn(255*[a,a,h,i,i,c][d]),a:hn(o,2)}},E3=function(e){var t=e.r,n=e.g,i=e.b,o=e.a,l=Math.max(t,n,i),a=l-Math.min(t,n,i),c=a?l===t?(n-i)/a:l===n?2+(i-t)/a:4+(t-n)/a:0;return{h:hn(60*(c<0?c+6:c)),s:hn(l?a/l*100:0),v:hn(l/255*100),a:o}},C3=it.memo(function(e){var t=e.hue,n=e.onChange,i=Rc(["react-colorful__hue",e.className]);return it.createElement("div",{className:i},it.createElement(Jd,{onMove:function(o){n({h:360*o.left})},onKey:function(o){n({h:Io(t+360*o.left,0,360)})},"aria-label":"Hue","aria-valuenow":hn(t),"aria-valuemax":"360","aria-valuemin":"0"},it.createElement(ep,{className:"react-colorful__hue-pointer",left:t/360,color:bd({h:t,s:100,v:100,a:1})})))}),R3=it.memo(function(e){var t=e.hsva,n=e.onChange,i={backgroundColor:bd({h:t.h,s:100,v:100,a:1})};return it.createElement("div",{className:"react-colorful__saturation",style:i},it.createElement(Jd,{onMove:function(o){n({s:100*o.left,v:100-100*o.top})},onKey:function(o){n({s:Io(t.s+100*o.left,0,100),v:Io(t.v-100*o.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+hn(t.s)+"%, Brightness "+hn(t.v)+"%"},it.createElement(ep,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:bd(t)})))}),t1=function(e,t){if(e===t)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0};function T3(e,t,n){var i=wd(n),o=E.useState(function(){return e.toHsva(t)}),l=o[0],a=o[1],c=E.useRef({color:t,hsva:l});E.useEffect(function(){if(!e.equal(t,c.current.color)){var d=e.toHsva(t);c.current={hsva:d,color:t},a(d)}},[t,e]),E.useEffect(function(){var d;t1(l,c.current.hsva)||e.equal(d=e.fromHsva(l),c.current.color)||(c.current={hsva:l,color:d},i(d))},[l,e,i]);var h=E.useCallback(function(d){a(function(g){return Object.assign({},g,d)})},[]);return[l,h]}var M3=typeof window<"u"?E.useLayoutEffect:E.useEffect,P3=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},H_=new Map,A3=function(e){M3(function(){var t=e.current?e.current.ownerDocument:document;if(t!==void 0&&!H_.has(t)){var n=t.createElement("style");n.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,H_.set(t,n);var i=P3();i&&n.setAttribute("nonce",i),t.head.appendChild(n)}},[])},O3=function(e){var t=e.className,n=e.hsva,i=e.onChange,o={backgroundImage:"linear-gradient(90deg, "+Hh(Object.assign({},n,{a:0}))+", "+Hh(Object.assign({},n,{a:1}))+")"},l=Rc(["react-colorful__alpha",t]),a=hn(100*n.a);return it.createElement("div",{className:l},it.createElement("div",{className:"react-colorful__alpha-gradient",style:o}),it.createElement(Jd,{onMove:function(c){i({a:c.left})},onKey:function(c){i({a:Io(n.a+c.left)})},"aria-label":"Alpha","aria-valuetext":a+"%","aria-valuenow":a,"aria-valuemin":"0","aria-valuemax":"100"},it.createElement(ep,{className:"react-colorful__alpha-pointer",left:n.a,color:Hh(n)})))},L3=function(e){var t=e.className,n=e.colorModel,i=e.color,o=i===void 0?n.defaultColor:i,l=e.onChange,a=Jv(e,["className","colorModel","color","onChange"]),c=E.useRef(null);A3(c);var h=T3(n,o,l),d=h[0],g=h[1],m=Rc(["react-colorful",t]);return it.createElement("div",Cc({},a,{ref:c,className:m}),it.createElement(R3,{hsva:d,onChange:g}),it.createElement(C3,{hue:d.h,onChange:g}),it.createElement(O3,{hsva:d,onChange:g,className:"react-colorful__last-control"}))},F3={defaultColor:{r:0,g:0,b:0,a:1},toHsva:E3,fromHsva:S3,equal:t1},N3=function(e){return it.createElement(L3,Cc({},e,{colorModel:F3}))};function I3({initialOpen:e=!1,placement:t="top",modal:n,open:i,onOpenChange:o,initialOffset:l=5}={}){const[a,c]=E.useState(e),[h,d]=E.useState(),[g,m]=E.useState(),v=i??a,y=o??c,w=Q0({placement:t,open:v,onOpenChange:y,whileElementsMounted:j0,middleware:[z0(l),$0({crossAxis:t.includes("-"),fallbackAxisSideDirection:"end",padding:5}),B0({padding:5})]}),k=w.context,S=Jk(k,{enabled:i==null}),b=G0(k),x=J0(k),C=Z0([S,b,x]);return E.useMemo(()=>({open:v,setOpen:y,...C,...w,modal:n,labelId:h,descriptionId:g,setLabelId:d,setDescriptionId:m}),[v,y,C,w,n,h,g])}const n1=E.createContext(null),na=()=>{const e=E.useContext(n1);if(e==null)throw new Error("Popover components must be wrapped in <Popover />");return e};function tp({children:e,modal:t=!1,...n}){const i=I3({modal:t,...n});return P.jsx(n1.Provider,{value:i,children:e})}const np=E.forwardRef(function({children:t,asChild:n=!1,...i},o){const l=na(),a=t.ref,c=dc([l.refs.setReference,o,a]);return n&&E.isValidElement(t)?E.cloneElement(t,l.getReferenceProps({ref:c,...i,...t.props,"data-state":l.open?"open":"closed"})):P.jsx("button",{ref:c,type:"button","data-state":l.open?"open":"closed",...l.getReferenceProps(i),children:t})}),rp=E.forwardRef(function({style:t,...n},i){const{context:o,...l}=na(),a=dc([l.refs.setFloating,i]);return o.open?P.jsx(K0,{children:P.jsx(Zk,{context:o,modal:l.modal,children:P.jsx("div",{ref:a,style:{...l.floatingStyles,...t},"aria-labelledby":l.labelId,"aria-describedby":l.descriptionId,...l.getFloatingProps(n),children:n.children})})}):null});E.forwardRef(function(t,n){const{setLabelId:i}=na(),o=Zl();return E.useLayoutEffect(()=>(i(o),()=>i(void 0)),[o,i]),P.jsx("h2",{...t,ref:n,id:o,children:t.children})});E.forwardRef(function(t,n){const{setDescriptionId:i}=na(),o=Zl();return E.useLayoutEffect(()=>(i(o),()=>i(void 0)),[o,i]),P.jsx("p",{...t,ref:n,id:o})});E.forwardRef(function(t,n){const{setOpen:i}=na();return P.jsx("button",{type:"button",ref:n,...t,onClick:o=>{var l;(l=t.onClick)==null||l.call(t,o),i(!1)}})});const j3=({value:e,onChange:t})=>{const n={r:0,g:0,b:0,a:1},[i,o]=E.useState(e||n),[l,a]=E.useState(""),[c,h]=E.useState(""),d=Yh(c),g=Wh(i);E.useEffect(()=>{e&&(h(`${Math.round((e.a||0)*100)}`),a(Wh(e)),o(e))},[e]);const m=x=>{o(x),i.a&&h(`${Math.floor(i.a*100)}`),t==null||t(x)},v=x=>{x.a>.95&&(x.a=1),o(x),m(x),a(Wh(i))},y=x=>{a(x);const C=rt(x);if(C.isValid()&&C.toHex()===x){const M=C.toRgb();isNaN(d)||(M.a=d),m(M)}},w=()=>{const x=rt(i);x.isEqual(l)||m(x.toRgb())},k=x=>{h(x);const C=Yh(x);x&&!isNaN(C)&&C>=0&&C<=1&&S(C)},S=x=>{const C={...i};C.a=x,m(C)};return{rgbaValue:i,rgbValue:g,alphaValue:c,rgbStrValue:l,doChangePicker:v,doChangeRgbValue:y,doChangeAlpha:k,doChangeAlphaValue:S,doRgbBlur:w,doAlphaBlur:()=>{const x=i.a,C=Yh(c);x!=C&&m({...i})}}};function Wh(e){return rt({r:e.r,g:e.g,b:e.b}).toHex()}function Yh(e){return Number(e||"1")/100}function Gi(e){"@babel/helpers - typeof";return Gi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gi(e)}function D3(e,t){if(Gi(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(Gi(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function z3(e){var t=D3(e,"string");return Gi(t)=="symbol"?t:t+""}function ar(e,t,n){return(t=z3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function en(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?W_(Object(n),!0).forEach(function(i){ar(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W_(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Sd(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function B3(e){if(Array.isArray(e))return Sd(e)}function $3(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function r1(e,t){if(e){if(typeof e=="string")return Sd(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Sd(e,t):void 0}}function U3(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function di(e){return B3(e)||$3(e)||r1(e)||U3()}function V3(e){if(Array.isArray(e))return e}function H3(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,o,l,a,c=[],h=!0,d=!1;try{if(l=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;h=!1}else for(;!(h=(i=l.call(n)).done)&&(c.push(i.value),c.length!==t);h=!0);}catch(g){d=!0,o=g}finally{try{if(!h&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw o}}return c}}function W3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zt(e,t){return V3(e)||H3(e,t)||r1(e,t)||W3()}var Xh={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var Y_;function Y3(){return Y_||(Y_=1,function(e){(function(){var t={}.hasOwnProperty;function n(){for(var l="",a=0;a<arguments.length;a++){var c=arguments[a];c&&(l=o(l,i(c)))}return l}function i(l){if(typeof l=="string"||typeof l=="number")return l;if(typeof l!="object")return"";if(Array.isArray(l))return n.apply(null,l);if(l.toString!==Object.prototype.toString&&!l.toString.toString().includes("[native code]"))return l.toString();var a="";for(var c in l)t.call(l,c)&&l[c]&&(a=o(a,c));return a}function o(l,a){return a?l?l+" "+a:l+a:l}e.exports?(n.default=n,e.exports=n):window.classNames=n})()}(Xh)),Xh.exports}var X3=Y3();const js=l0(X3);function Ao(e){var t=E.useRef();t.current=e;var n=E.useCallback(function(){for(var i,o=arguments.length,l=new Array(o),a=0;a<o;a++)l[a]=arguments[a];return(i=t.current)===null||i===void 0?void 0:i.call.apply(i,[t].concat(l))},[]);return n}function K3(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var X_=K3()?E.useLayoutEffect:E.useEffect,i1=function(t,n){var i=E.useRef(!0);X_(function(){return t(i.current)},n),X_(function(){return i.current=!1,function(){i.current=!0}},[])},K_=function(t,n){i1(function(i){if(!i)return t()},n)};function q_(e){var t=E.useRef(!1),n=E.useState(e),i=zt(n,2),o=i[0],l=i[1];E.useEffect(function(){return t.current=!1,function(){t.current=!0}},[]);function a(c,h){h&&t.current||l(c)}return[o,a]}function Kh(e){return e!==void 0}function q3(e,t){var n=t,i=n.defaultValue,o=n.value,l=n.onChange,a=n.postState,c=q_(function(){return Kh(o)?o:Kh(i)?typeof i=="function"?i():i:typeof e=="function"?e():e}),h=zt(c,2),d=h[0],g=h[1],m=o!==void 0?o:d,v=a?a(m):m,y=Ao(l),w=q_([m]),k=zt(w,2),S=k[0],b=k[1];K_(function(){var C=S[0];d!==C&&y(d,C)},[S]),K_(function(){Kh(o)||g(o)},[o]);var x=Ao(function(C,M){g(C,M),b([m],M)});return[v,x]}var Ed={},G3=function(t){};function Q3(e,t){}function Z3(e,t){}function J3(){Ed={}}function s1(e,t,n){!t&&!Ed[n]&&(e(!1,n),Ed[n]=!0)}function jo(e,t){s1(Q3,e,t)}function e4(e,t){s1(Z3,e,t)}jo.preMessage=G3;jo.resetWarned=J3;jo.noteOnce=e4;function t4(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=new Set;function o(l,a){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,h=i.has(l);if(jo(!h,"Warning: There may be circular references"),h)return!1;if(l===a)return!0;if(n&&c>1)return!1;i.add(l);var d=c+1;if(Array.isArray(l)){if(!Array.isArray(a)||l.length!==a.length)return!1;for(var g=0;g<l.length;g++)if(!o(l[g],a[g],d))return!1;return!0}if(l&&a&&Gi(l)==="object"&&Gi(a)==="object"){var m=Object.keys(l);return m.length!==Object.keys(a).length?!1:m.every(function(v){return o(l[v],a[v],d)})}return!1}return o(e,t)}function ql(){return ql=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ql.apply(null,arguments)}function n4(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.includes(i))continue;n[i]=e[i]}return n}function o1(e,t){if(e==null)return{};var n,i,o=n4(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)n=l[i],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Cd(e,t,n){return(e-t)/(n-t)}function ip(e,t,n,i){var o=Cd(t,n,i),l={};switch(e){case"rtl":l.right="".concat(o*100,"%"),l.transform="translateX(50%)";break;case"btt":l.bottom="".concat(o*100,"%"),l.transform="translateY(50%)";break;case"ttb":l.top="".concat(o*100,"%"),l.transform="translateY(-50%)";break;default:l.left="".concat(o*100,"%"),l.transform="translateX(-50%)";break}return l}function Es(e,t){return Array.isArray(e)?e[t]:e}var _e={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(t){var n=t.keyCode;if(t.altKey&&!t.ctrlKey||t.metaKey||n>=_e.F1&&n<=_e.F12)return!1;switch(n){case _e.ALT:case _e.CAPS_LOCK:case _e.CONTEXT_MENU:case _e.CTRL:case _e.DOWN:case _e.END:case _e.ESC:case _e.HOME:case _e.INSERT:case _e.LEFT:case _e.MAC_FF_META:case _e.META:case _e.NUMLOCK:case _e.NUM_CENTER:case _e.PAGE_DOWN:case _e.PAGE_UP:case _e.PAUSE:case _e.PRINT_SCREEN:case _e.RIGHT:case _e.SHIFT:case _e.UP:case _e.WIN_KEY:case _e.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(t){if(t>=_e.ZERO&&t<=_e.NINE||t>=_e.NUM_ZERO&&t<=_e.NUM_MULTIPLY||t>=_e.A&&t<=_e.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&t===0)return!0;switch(t){case _e.SPACE:case _e.QUESTION_MARK:case _e.NUM_PLUS:case _e.NUM_MINUS:case _e.NUM_PERIOD:case _e.NUM_DIVISION:case _e.SEMICOLON:case _e.DASH:case _e.EQUALS:case _e.COMMA:case _e.PERIOD:case _e.SLASH:case _e.APOSTROPHE:case _e.SINGLE_QUOTE:case _e.OPEN_SQUARE_BRACKET:case _e.BACKSLASH:case _e.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},Ds=E.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}}),r4=E.createContext({}),i4=["prefixCls","value","valueIndex","onStartMove","onDelete","style","render","dragging","draggingDelete","onOffsetChange","onChangeComplete","onFocus","onMouseEnter"],G_=E.forwardRef(function(e,t){var n=e.prefixCls,i=e.value,o=e.valueIndex,l=e.onStartMove,a=e.onDelete,c=e.style,h=e.render,d=e.dragging,g=e.draggingDelete,m=e.onOffsetChange,v=e.onChangeComplete,y=e.onFocus,w=e.onMouseEnter,k=o1(e,i4),S=E.useContext(Ds),b=S.min,x=S.max,C=S.direction,M=S.disabled,A=S.keyboard,N=S.range,j=S.tabIndex,X=S.ariaLabelForHandle,z=S.ariaLabelledByForHandle,W=S.ariaRequired,K=S.ariaValueTextFormatterForHandle,q=S.styles,ae=S.classNames,te="".concat(n,"-handle"),re=function(oe){M||l(oe,o)},ue=function(oe){y==null||y(oe,o)},Z=function(oe){w(oe,o)},D=function(oe){if(!M&&A){var Q=null;switch(oe.which||oe.keyCode){case _e.LEFT:Q=C==="ltr"||C==="btt"?-1:1;break;case _e.RIGHT:Q=C==="ltr"||C==="btt"?1:-1;break;case _e.UP:Q=C!=="ttb"?1:-1;break;case _e.DOWN:Q=C!=="ttb"?-1:1;break;case _e.HOME:Q="min";break;case _e.END:Q="max";break;case _e.PAGE_UP:Q=2;break;case _e.PAGE_DOWN:Q=-2;break;case _e.BACKSPACE:case _e.DELETE:a(o);break}Q!==null&&(oe.preventDefault(),m(Q,o))}},$=function(oe){switch(oe.which||oe.keyCode){case _e.LEFT:case _e.RIGHT:case _e.UP:case _e.DOWN:case _e.HOME:case _e.END:case _e.PAGE_UP:case _e.PAGE_DOWN:v==null||v();break}},G=ip(C,i,b,x),L={};if(o!==null){var Y;L={tabIndex:M?null:Es(j,o),role:"slider","aria-valuemin":b,"aria-valuemax":x,"aria-valuenow":i,"aria-disabled":M,"aria-label":Es(X,o),"aria-labelledby":Es(z,o),"aria-required":Es(W,o),"aria-valuetext":(Y=Es(K,o))===null||Y===void 0?void 0:Y(i),"aria-orientation":C==="ltr"||C==="rtl"?"horizontal":"vertical",onMouseDown:re,onTouchStart:re,onFocus:ue,onMouseEnter:Z,onKeyDown:D,onKeyUp:$}}var we=E.createElement("div",ql({ref:t,className:js(te,ar(ar(ar({},"".concat(te,"-").concat(o+1),o!==null&&N),"".concat(te,"-dragging"),d),"".concat(te,"-dragging-delete"),g),ae.handle),style:en(en(en({},G),c),q.handle)},L,k));return h&&(we=h(we,{index:o,prefixCls:n,value:i,dragging:d,draggingDelete:g})),we}),s4=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","activeHandleRender","draggingIndex","draggingDelete","onFocus"],o4=E.forwardRef(function(e,t){var n=e.prefixCls,i=e.style,o=e.onStartMove,l=e.onOffsetChange,a=e.values,c=e.handleRender,h=e.activeHandleRender,d=e.draggingIndex,g=e.draggingDelete,m=e.onFocus,v=o1(e,s4),y=E.useRef({}),w=E.useState(!1),k=zt(w,2),S=k[0],b=k[1],x=E.useState(-1),C=zt(x,2),M=C[0],A=C[1],N=function(K){A(K),b(!0)},j=function(K,q){N(q),m==null||m(K)},X=function(K,q){N(q)};E.useImperativeHandle(t,function(){return{focus:function(K){var q;(q=y.current[K])===null||q===void 0||q.focus()},hideHelp:function(){Id.flushSync(function(){b(!1)})}}});var z=en({prefixCls:n,onStartMove:o,onOffsetChange:l,render:c,onFocus:j,onMouseEnter:X},v);return E.createElement(E.Fragment,null,a.map(function(W,K){var q=d===K;return E.createElement(G_,ql({ref:function(te){te?y.current[K]=te:delete y.current[K]},dragging:q,draggingDelete:q&&g,style:Es(i,K),key:K,value:W,valueIndex:K},z))}),h&&S&&E.createElement(G_,ql({key:"a11y"},z,{value:a[M],valueIndex:null,dragging:d!==-1,draggingDelete:g,render:h,style:{pointerEvents:"none"},tabIndex:null,"aria-hidden":!0})))}),l4=function(t){var n=t.prefixCls,i=t.style,o=t.children,l=t.value,a=t.onClick,c=E.useContext(Ds),h=c.min,d=c.max,g=c.direction,m=c.includedStart,v=c.includedEnd,y=c.included,w="".concat(n,"-text"),k=ip(g,l,h,d);return E.createElement("span",{className:js(w,ar({},"".concat(w,"-active"),y&&m<=l&&l<=v)),style:en(en({},k),i),onMouseDown:function(b){b.stopPropagation()},onClick:function(){a(l)}},o)},a4=function(t){var n=t.prefixCls,i=t.marks,o=t.onClick,l="".concat(n,"-mark");return i.length?E.createElement("div",{className:l},i.map(function(a){var c=a.value,h=a.style,d=a.label;return E.createElement(l4,{key:c,prefixCls:l,style:h,value:c,onClick:o},d)})):null},u4=function(t){var n=t.prefixCls,i=t.value,o=t.style,l=t.activeStyle,a=E.useContext(Ds),c=a.min,h=a.max,d=a.direction,g=a.included,m=a.includedStart,v=a.includedEnd,y="".concat(n,"-dot"),w=g&&m<=i&&i<=v,k=en(en({},ip(d,i,c,h)),typeof o=="function"?o(i):o);return w&&(k=en(en({},k),typeof l=="function"?l(i):l)),E.createElement("span",{className:js(y,ar({},"".concat(y,"-active"),w)),style:k})},c4=function(t){var n=t.prefixCls,i=t.marks,o=t.dots,l=t.style,a=t.activeStyle,c=E.useContext(Ds),h=c.min,d=c.max,g=c.step,m=E.useMemo(function(){var v=new Set;if(i.forEach(function(w){v.add(w.value)}),o&&g!==null)for(var y=h;y<=d;)v.add(y),y+=g;return Array.from(v)},[h,d,g,o,i]);return E.createElement("div",{className:"".concat(n,"-step")},m.map(function(v){return E.createElement(u4,{prefixCls:n,key:v,value:v,style:l,activeStyle:a})}))},Q_=function(t){var n=t.prefixCls,i=t.style,o=t.start,l=t.end,a=t.index,c=t.onStartMove,h=t.replaceCls,d=E.useContext(Ds),g=d.direction,m=d.min,v=d.max,y=d.disabled,w=d.range,k=d.classNames,S="".concat(n,"-track"),b=Cd(o,m,v),x=Cd(l,m,v),C=function(j){!y&&c&&c(j,-1)},M={};switch(g){case"rtl":M.right="".concat(b*100,"%"),M.width="".concat(x*100-b*100,"%");break;case"btt":M.bottom="".concat(b*100,"%"),M.height="".concat(x*100-b*100,"%");break;case"ttb":M.top="".concat(b*100,"%"),M.height="".concat(x*100-b*100,"%");break;default:M.left="".concat(b*100,"%"),M.width="".concat(x*100-b*100,"%")}var A=h||js(S,ar(ar({},"".concat(S,"-").concat(a+1),a!==null&&w),"".concat(n,"-track-draggable"),c),k.track);return E.createElement("div",{className:A,style:en(en({},M),i),onMouseDown:C,onTouchStart:C})},f4=function(t){var n=t.prefixCls,i=t.style,o=t.values,l=t.startPoint,a=t.onStartMove,c=E.useContext(Ds),h=c.included,d=c.range,g=c.min,m=c.styles,v=c.classNames,y=E.useMemo(function(){if(!d){if(o.length===0)return[];var k=l??g,S=o[0];return[{start:Math.min(k,S),end:Math.max(k,S)}]}for(var b=[],x=0;x<o.length-1;x+=1)b.push({start:o[x],end:o[x+1]});return b},[o,d,l,g]);if(!h)return null;var w=y!=null&&y.length&&(v.tracks||m.tracks)?E.createElement(Q_,{index:null,prefixCls:n,start:y[0].start,end:y[y.length-1].end,replaceCls:js(v.tracks,"".concat(n,"-tracks")),style:m.tracks}):null;return E.createElement(E.Fragment,null,w,y.map(function(k,S){var b=k.start,x=k.end;return E.createElement(Q_,{index:S,prefixCls:n,style:en(en({},Es(i,S)),m.track),start:b,end:x,key:S,onStartMove:a})}))},h4=130;function Z_(e){var t="targetTouches"in e?e.targetTouches[0]:e;return{pageX:t.pageX,pageY:t.pageY}}function d4(e,t,n,i,o,l,a,c,h,d,g){var m=E.useState(null),v=zt(m,2),y=v[0],w=v[1],k=E.useState(-1),S=zt(k,2),b=S[0],x=S[1],C=E.useState(!1),M=zt(C,2),A=M[0],N=M[1],j=E.useState(n),X=zt(j,2),z=X[0],W=X[1],K=E.useState(n),q=zt(K,2),ae=q[0],te=q[1],re=E.useRef(null),ue=E.useRef(null),Z=E.useRef(null),D=E.useContext(r4),$=D.onDragStart,G=D.onDragChange;i1(function(){b===-1&&W(n)},[n,b]),E.useEffect(function(){return function(){document.removeEventListener("mousemove",re.current),document.removeEventListener("mouseup",ue.current),Z.current&&(Z.current.removeEventListener("touchmove",re.current),Z.current.removeEventListener("touchend",ue.current))}},[]);var L=function(Q,se,ee){se!==void 0&&w(se),W(Q);var Ce=Q;ee&&(Ce=Q.filter(function(Me,He){return He!==b})),a(Ce),G&&G({rawValues:Q,deleteIndex:ee?b:-1,draggingIndex:b,draggingValue:se})},Y=Ao(function(oe,Q,se){if(oe===-1){var ee=ae[0],Ce=ae[ae.length-1],Me=i-ee,He=o-Ce,pt=Q*(o-i);pt=Math.max(pt,Me),pt=Math.min(pt,He);var $t=l(ee+pt);pt=$t-ee;var Tt=ae.map(function(Yn){return Yn+pt});L(Tt)}else{var gt=(o-i)*Q,Ut=di(z);Ut[oe]=ae[oe];var rn=h(Ut,gt,oe,"dist");L(rn.values,rn.value,se)}}),we=function(Q,se,ee){Q.stopPropagation();var Ce=ee||n,Me=Ce[se];x(se),w(Me),te(Ce),W(Ce),N(!1);var He=Z_(Q),pt=He.pageX,$t=He.pageY,Tt=!1;$&&$({rawValues:Ce,draggingIndex:se,draggingValue:Me});var gt=function(Yn){Yn.preventDefault();var Vt=Z_(Yn),Xn=Vt.pageX,Pn=Vt.pageY,Er=Xn-pt,An=Pn-$t,pn=e.current.getBoundingClientRect(),Cr=pn.width,qr=pn.height,Kn,On;switch(t){case"btt":Kn=-An/qr,On=Er;break;case"ttb":Kn=An/qr,On=Er;break;case"rtl":Kn=-Er/Cr,On=An;break;default:Kn=Er/Cr,On=An}Tt=d?Math.abs(On)>h4&&g<z.length:!1,N(Tt),Y(se,Kn,Tt)},Ut=function rn(Yn){Yn.preventDefault(),document.removeEventListener("mouseup",rn),document.removeEventListener("mousemove",gt),Z.current&&(Z.current.removeEventListener("touchmove",re.current),Z.current.removeEventListener("touchend",ue.current)),re.current=null,ue.current=null,Z.current=null,c(Tt),x(-1),N(!1)};document.addEventListener("mouseup",Ut),document.addEventListener("mousemove",gt),Q.currentTarget.addEventListener("touchend",Ut),Q.currentTarget.addEventListener("touchmove",gt),re.current=gt,ue.current=Ut,Z.current=Q.currentTarget},fe=E.useMemo(function(){var oe=di(n).sort(function(Me,He){return Me-He}),Q=di(z).sort(function(Me,He){return Me-He}),se={};Q.forEach(function(Me){se[Me]=(se[Me]||0)+1}),oe.forEach(function(Me){se[Me]=(se[Me]||0)-1});var ee=d?1:0,Ce=Object.values(se).reduce(function(Me,He){return Me+Math.abs(He)},0);return Ce<=ee?z:n},[n,z,d]);return[b,y,A,fe,we]}function p4(e,t,n,i,o,l){var a=E.useCallback(function(y){return Math.max(e,Math.min(t,y))},[e,t]),c=E.useCallback(function(y){if(n!==null){var w=e+Math.round((a(y)-e)/n)*n,k=function(C){return(String(C).split(".")[1]||"").length},S=Math.max(k(n),k(t),k(e)),b=Number(w.toFixed(S));return e<=b&&b<=t?b:null}return null},[n,e,t,a]),h=E.useCallback(function(y){var w=a(y),k=i.map(function(x){return x.value});n!==null&&k.push(c(y)),k.push(e,t);var S=k[0],b=t-e;return k.forEach(function(x){var C=Math.abs(w-x);C<=b&&(S=x,b=C)}),S},[e,t,i,n,a,c]),d=function y(w,k,S){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof k=="number"){var x,C=w[S],M=C+k,A=[];i.forEach(function(W){A.push(W.value)}),A.push(e,t),A.push(c(C));var N=k>0?1:-1;b==="unit"?A.push(c(C+N*n)):A.push(c(M)),A=A.filter(function(W){return W!==null}).filter(function(W){return k<0?W<=C:W>=C}),b==="unit"&&(A=A.filter(function(W){return W!==C}));var j=b==="unit"?C:M;x=A[0];var X=Math.abs(x-j);if(A.forEach(function(W){var K=Math.abs(W-j);K<X&&(x=W,X=K)}),x===void 0)return k<0?e:t;if(b==="dist")return x;if(Math.abs(k)>1){var z=di(w);return z[S]=x,y(z,k-N,S,b)}return x}else{if(k==="min")return e;if(k==="max")return t}},g=function(w,k,S){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",x=w[S],C=d(w,k,S,b);return{value:C,changed:C!==x}},m=function(w){return l===null&&w===0||typeof l=="number"&&w<l},v=function(w,k,S){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",x=w.map(h),C=x[S],M=d(x,k,S,b);if(x[S]=M,o===!1){var A=l||0;S>0&&x[S-1]!==C&&(x[S]=Math.max(x[S],x[S-1]+A)),S<x.length-1&&x[S+1]!==C&&(x[S]=Math.min(x[S],x[S+1]-A))}else if(typeof l=="number"||l===null){for(var N=S+1;N<x.length;N+=1)for(var j=!0;m(x[N]-x[N-1])&&j;){var X=g(x,1,N);x[N]=X.value,j=X.changed}for(var z=S;z>0;z-=1)for(var W=!0;m(x[z]-x[z-1])&&W;){var K=g(x,-1,z-1);x[z-1]=K.value,W=K.changed}for(var q=x.length-1;q>0;q-=1)for(var ae=!0;m(x[q]-x[q-1])&&ae;){var te=g(x,-1,q-1);x[q-1]=te.value,ae=te.changed}for(var re=0;re<x.length-1;re+=1)for(var ue=!0;m(x[re+1]-x[re])&&ue;){var Z=g(x,1,re+1);x[re+1]=Z.value,ue=Z.changed}}return{value:x[S],values:x}};return[h,v]}function g4(e){return E.useMemo(function(){if(e===!0||!e)return[!!e,!1,!1,0];var t=e.editable,n=e.draggableTrack,i=e.minCount,o=e.maxCount;return[!0,t,!t&&n,i||0,o]},[e])}var l1=E.forwardRef(function(e,t){var n=e.prefixCls,i=n===void 0?"rc-slider":n,o=e.className,l=e.style,a=e.classNames,c=e.styles,h=e.id,d=e.disabled,g=d===void 0?!1:d,m=e.keyboard,v=m===void 0?!0:m,y=e.autoFocus,w=e.onFocus,k=e.onBlur,S=e.min,b=S===void 0?0:S,x=e.max,C=x===void 0?100:x,M=e.step,A=M===void 0?1:M,N=e.value,j=e.defaultValue,X=e.range,z=e.count,W=e.onChange,K=e.onBeforeChange,q=e.onAfterChange,ae=e.onChangeComplete,te=e.allowCross,re=te===void 0?!0:te,ue=e.pushable,Z=ue===void 0?!1:ue,D=e.reverse,$=e.vertical,G=e.included,L=G===void 0?!0:G,Y=e.startPoint,we=e.trackStyle,fe=e.handleStyle,oe=e.railStyle,Q=e.dotStyle,se=e.activeDotStyle,ee=e.marks,Ce=e.dots,Me=e.handleRender,He=e.activeHandleRender,pt=e.track,$t=e.tabIndex,Tt=$t===void 0?0:$t,gt=e.ariaLabelForHandle,Ut=e.ariaLabelledByForHandle,rn=e.ariaRequired,Yn=e.ariaValueTextFormatterForHandle,Vt=E.useRef(null),Xn=E.useRef(null),Pn=E.useMemo(function(){return $?D?"ttb":"btt":D?"rtl":"ltr"},[D,$]),Er=g4(X),An=zt(Er,5),pn=An[0],Cr=An[1],qr=An[2],Kn=An[3],On=An[4],sn=E.useMemo(function(){return isFinite(b)?b:0},[b]),qn=E.useMemo(function(){return isFinite(C)?C:100},[C]),Ln=E.useMemo(function(){return A!==null&&A<=0?1:A},[A]),Pc=E.useMemo(function(){return typeof Z=="boolean"?Z?Ln:!1:Z>=0?Z:!1},[Z,Ln]),es=E.useMemo(function(){return Object.keys(ee||{}).map(function(Ue){var ge=ee[Ue],We={value:Number(Ue)};return ge&&Gi(ge)==="object"&&!E.isValidElement(ge)&&("label"in ge||"style"in ge)?(We.style=ge.style,We.label=ge.label):We.label=ge,We}).filter(function(Ue){var ge=Ue.label;return ge||typeof ge=="number"}).sort(function(Ue,ge){return Ue.value-ge.value})},[ee]),oa=p4(sn,qn,Ln,es,re,Pc),la=zt(oa,2),mi=la[0],Bs=la[1],Uo=q3(j,{value:N}),$s=zt(Uo,2),Gn=$s[0],yi=$s[1],ft=E.useMemo(function(){var Ue=Gn==null?[]:Array.isArray(Gn)?Gn:[Gn],ge=zt(Ue,1),We=ge[0],Xe=We===void 0?sn:We,mt=Gn===null?[]:[Xe];if(pn){if(mt=di(Ue),z||Gn===void 0){var Fn=z>=0?z+1:2;for(mt=mt.slice(0,Fn);mt.length<Fn;){var cr;mt.push((cr=mt[mt.length-1])!==null&&cr!==void 0?cr:sn)}}mt.sort(function(Qn,gn){return Qn-gn})}return mt.forEach(function(Qn,gn){mt[gn]=mi(Qn)}),mt},[Gn,pn,sn,z,mi]),Gr=function(ge){return pn?ge:ge[0]},ts=Ao(function(Ue){var ge=di(Ue).sort(function(We,Xe){return We-Xe});W&&!t4(ge,ft,!0)&&W(Gr(ge)),yi(ge)}),Vo=Ao(function(Ue){Ue&&Vt.current.hideHelp();var ge=Gr(ft);q==null||q(ge),jo(!q,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),ae==null||ae(ge)}),aa=function(ge){if(!(g||!Cr||ft.length<=Kn)){var We=di(ft);We.splice(ge,1),K==null||K(Gr(We)),ts(We);var Xe=Math.max(0,ge-1);Vt.current.hideHelp(),Vt.current.focus(Xe)}},ua=d4(Xn,Pn,ft,sn,qn,mi,ts,Vo,Bs,Cr,Kn),Qr=zt(ua,5),Ho=Qr[0],ns=Qr[1],Wo=Qr[2],Zr=Qr[3],ca=Qr[4],_i=function(ge,We){if(!g){var Xe=di(ft),mt=0,Fn=0,cr=qn-sn;ft.forEach(function(vt,Ws){var da=Math.abs(ge-vt);da<=cr&&(cr=da,mt=Ws),vt<ge&&(Fn=Ws)});var Qn=mt;Cr&&cr!==0&&(!On||ft.length<On)?(Xe.splice(Fn+1,0,ge),Qn=Fn+1):Xe[mt]=ge,pn&&!ft.length&&z===void 0&&Xe.push(ge);var gn=Gr(Xe);if(K==null||K(gn),ts(Xe),We){var Mt,vi;(Mt=document.activeElement)===null||Mt===void 0||(vi=Mt.blur)===null||vi===void 0||vi.call(Mt),Vt.current.focus(Qn),ca(We,Qn,Xe)}else q==null||q(gn),jo(!q,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),ae==null||ae(gn)}},Us=function(ge){ge.preventDefault();var We=Xn.current.getBoundingClientRect(),Xe=We.width,mt=We.height,Fn=We.left,cr=We.top,Qn=We.bottom,gn=We.right,Mt=ge.clientX,vi=ge.clientY,vt;switch(Pn){case"btt":vt=(Qn-vi)/mt;break;case"ttb":vt=(vi-cr)/mt;break;case"rtl":vt=(gn-Mt)/Xe;break;default:vt=(Mt-Fn)/Xe}var Ws=sn+vt*(qn-sn);_i(mi(Ws),ge)},Vs=E.useState(null),Hs=zt(Vs,2),Yo=Hs[0],fa=Hs[1],Ac=function(ge,We){if(!g){var Xe=Bs(ft,ge,We);K==null||K(Gr(ft)),ts(Xe.values),fa(Xe.value)}};E.useEffect(function(){if(Yo!==null){var Ue=ft.indexOf(Yo);Ue>=0&&Vt.current.focus(Ue)}fa(null)},[Yo]);var Jr=E.useMemo(function(){return qr&&Ln===null?!1:qr},[qr,Ln]),Xo=Ao(function(Ue,ge){ca(Ue,ge),K==null||K(Gr(ft))}),Ko=Ho!==-1;E.useEffect(function(){if(!Ko){var Ue=ft.lastIndexOf(ns);Vt.current.focus(Ue)}},[Ko]);var rs=E.useMemo(function(){return di(Zr).sort(function(Ue,ge){return Ue-ge})},[Zr]),ha=E.useMemo(function(){return pn?[rs[0],rs[rs.length-1]]:[sn,rs[0]]},[rs,pn,sn]),qo=zt(ha,2),Go=qo[0],Qo=qo[1];E.useImperativeHandle(t,function(){return{focus:function(){Vt.current.focus(0)},blur:function(){var ge,We=document,Xe=We.activeElement;(ge=Xn.current)!==null&&ge!==void 0&&ge.contains(Xe)&&(Xe==null||Xe.blur())}}}),E.useEffect(function(){y&&Vt.current.focus(0)},[]);var Oc=E.useMemo(function(){return{min:sn,max:qn,direction:Pn,disabled:g,keyboard:v,step:Ln,included:L,includedStart:Go,includedEnd:Qo,range:pn,tabIndex:Tt,ariaLabelForHandle:gt,ariaLabelledByForHandle:Ut,ariaRequired:rn,ariaValueTextFormatterForHandle:Yn,styles:c||{},classNames:a||{}}},[sn,qn,Pn,g,v,Ln,L,Go,Qo,pn,Tt,gt,Ut,rn,Yn,c,a]);return E.createElement(Ds.Provider,{value:Oc},E.createElement("div",{ref:Xn,className:js(i,o,ar(ar(ar(ar({},"".concat(i,"-disabled"),g),"".concat(i,"-vertical"),$),"".concat(i,"-horizontal"),!$),"".concat(i,"-with-marks"),es.length)),style:l,onMouseDown:Us,id:h},E.createElement("div",{className:js("".concat(i,"-rail"),a==null?void 0:a.rail),style:en(en({},oe),c==null?void 0:c.rail)}),pt!==!1&&E.createElement(f4,{prefixCls:i,style:we,values:ft,startPoint:Y,onStartMove:Jr?Xo:void 0}),E.createElement(c4,{prefixCls:i,marks:es,dots:Ce,style:Q,activeStyle:se}),E.createElement(o4,{ref:Vt,prefixCls:i,style:fe,values:Zr,draggingIndex:Ho,draggingDelete:Wo,onStartMove:Xo,onOffsetChange:Ac,onFocus:w,onBlur:k,handleRender:Me,activeHandleRender:He,onChangeComplete:Vo,onDelete:Cr?aa:void 0}),E.createElement(a4,{prefixCls:i,marks:es,onClick:_i})))});const $r=({value:e,onChange:t})=>{const[n,i]=E.useState(!1),{rgbValue:o,rgbaValue:l,alphaValue:a,rgbStrValue:c,doChangePicker:h,doChangeAlpha:d,doChangeRgbValue:g,doRgbBlur:m,doAlphaBlur:v,doChangeAlphaValue:y}=j3({value:e,onChange:t});return P.jsxs("div",{className:"relative max-w-40 ",children:[P.jsxs(tp,{open:n,onOpenChange:i,placement:"bottom-start",initialOffset:10,children:[P.jsx(np,{onClick:()=>i(w=>!w),className:`w-[18px] h-[18px] rounded absolute left-1 top-1 ${n?"border-2 border-highlight":""}`,style:{background:o},children:""}),P.jsx(rp,{className:"bg-default-2 border border-default-1 p-4 rounded-lg color-picker",children:P.jsx(N3,{color:l,onChange:w=>h(w)})})]}),P.jsx("input",{type:"text",autoComplete:"off",spellCheck:!1,className:"color-input",value:c,onChange:w=>g(w.currentTarget.value),onBlur:()=>m()}),P.jsx("input",{type:"text",autoComplete:"off",spellCheck:!1,className:"alpha-input",value:a,onChange:w=>d(w.currentTarget.value),onBlur:()=>v()}),P.jsx(m4,{value:l.a,setValue:w=>y(w)})]})},m4=({value:e,setValue:t})=>{const[n,i]=E.useState(!1);return P.jsxs(tp,{open:n,onOpenChange:i,placement:"bottom",initialOffset:10,children:[P.jsx(np,{onClick:()=>i(o=>!o),className:`absolute border right-px top-px w-6 h-6 cursor-pointer center rounded text-white/65" ${n?"border-highlight":"border-transparent"}`,children:P.jsx(Zw,{size:18,stroke:1})}),P.jsx(rp,{className:"bg-default-2 px-4 py-2 rounded w-60 border border-white/10",children:P.jsx(l1,{min:0,max:1,step:.01,value:e,onChange:o=>t(o)})})]})},y4=({min:e=0,max:t=100,sensitivity:n=1,decimals:i=4,value:o,onChange:l,convertFrom:a,convertTo:c})=>{const[h,d]=E.useState(""),[g,m]=E.useState(0),[v,y]=E.useState(!1),w=E.useRef(0),k=E.useRef(0);E.useEffect(()=>{if(isNaN(o))return;let N=o;a&&(N=a(N)),d(N.toString()),m(o)},[o,a]);const S=N=>{w.current=N,window.addEventListener("mousemove",b),window.addEventListener("mouseup",x),y(!0)},b=N=>{requestAnimationFrame(()=>{let j=Number(h)+(N.screenX-w.current)*n;C(j)})},x=()=>{y(!1),window.removeEventListener("mousemove",b),window.removeEventListener("mouseup",x)},C=N=>{N=eE(N,e,t),N=tE(N,i),d(N.toString()),k.current=N,m(N),c&&(N=c(N)),l(N)};return{strValue:h,numValue:g,onMouseDown:S,updateInputValue:C,doChange:N=>{let j=Number(N);if(N===""||N.endsWith(".")||isNaN(j)){d(N);return}C(j)},doBlur:()=>{C(k.current)},isHoverSliding:v}},Lt=({min:e=0,max:t=100,sensitivity:n=1,decimals:i=3,label:o,value:l,icon:a,onChange:c,convertTo:h,convertFrom:d,className:g=""})=>{const{strValue:m,numValue:v,onMouseDown:y,doChange:w,doBlur:k,updateInputValue:S,isHoverSliding:b}=y4({min:e,max:t,sensitivity:n,decimals:i,value:l,onChange:c,convertTo:h,convertFrom:d});return P.jsxs("div",{children:[o&&P.jsx("label",{className:"text-xs font-light opacity-65",children:o}),P.jsxs("div",{className:`relative ${g}`,children:[P.jsx("button",{className:`absolute left-px top-px w-6 h-6 cursor-ew-resize center rounded text-white/65 border ${b?"border-highlight":"border-transparent"}`,onMouseDown:x=>y(x.screenX),children:a&&P.jsx(a,{size:18,stroke:1})}),P.jsx("input",{type:"text",autoComplete:"off",spellCheck:!1,className:"slider-input",value:m,onChange:x=>w(x.target.value),onBlur:()=>k()}),P.jsx(_4,{min:e,max:t,value:v,setValue:S})]})]})},_4=({min:e,max:t,value:n,setValue:i})=>{const[o,l]=E.useState(!1);return P.jsxs(tp,{open:o,onOpenChange:l,placement:"bottom",initialOffset:10,children:[P.jsx(np,{onClick:()=>l(a=>!a),className:`absolute border right-px top-px w-6 h-6 cursor-pointer center rounded text-white/65" ${o?"border-highlight":"border-transparent"}`,children:P.jsx(a2,{size:18,stroke:1})}),P.jsx(rp,{className:"bg-default-2 px-4 py-2 rounded w-64 border border-white/10",children:P.jsx(l1,{min:e,max:t,value:n,onChange:a=>i(a)})})]})};var Ol={},J_;function v4(){if(J_)return Ol;J_=1,Object.defineProperty(Ol,"__esModule",{value:!0}),Ol.parse=a,Ol.serialize=d;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function a(v,y){const w=new l,k=v.length;if(k<2)return w;const S=(y==null?void 0:y.decode)||g;let b=0;do{const x=v.indexOf("=",b);if(x===-1)break;const C=v.indexOf(";",b),M=C===-1?k:C;if(x>M){b=v.lastIndexOf(";",x-1)+1;continue}const A=c(v,b,x),N=h(v,x,A),j=v.slice(A,N);if(w[j]===void 0){let X=c(v,x+1,M),z=h(v,M,X);const W=S(v.slice(X,z));w[j]=W}b=M+1}while(b<k);return w}function c(v,y,w){do{const k=v.charCodeAt(y);if(k!==32&&k!==9)return y}while(++y<w);return w}function h(v,y,w){for(;y>w;){const k=v.charCodeAt(--y);if(k!==32&&k!==9)return y+1}return w}function d(v,y,w){const k=(w==null?void 0:w.encode)||encodeURIComponent;if(!e.test(v))throw new TypeError(`argument name is invalid: ${v}`);const S=k(y);if(!t.test(S))throw new TypeError(`argument val is invalid: ${y}`);let b=v+"="+S;if(!w)return b;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);b+="; Max-Age="+w.maxAge}if(w.domain){if(!n.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);b+="; Domain="+w.domain}if(w.path){if(!i.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);b+="; Path="+w.path}if(w.expires){if(!m(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);b+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(b+="; HttpOnly"),w.secure&&(b+="; Secure"),w.partitioned&&(b+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":b+="; Priority=Low";break;case"medium":b+="; Priority=Medium";break;case"high":b+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":b+="; SameSite=Strict";break;case"lax":b+="; SameSite=Lax";break;case"none":b+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return b}function g(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function m(v){return o.call(v)==="[object Date]"}return Ol}v4();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var e0="popstate";function x4(e={}){function t(i,o){let{pathname:l,search:a,hash:c}=i.location;return Rd("",{pathname:l,search:a,hash:c},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){return typeof o=="string"?o:Gl(o)}return k4(t,n,null,e)}function ct(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Hr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function w4(){return Math.random().toString(36).substring(2,10)}function t0(e,t){return{usr:e.state,key:e.key,idx:t}}function Rd(e,t,n=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Bo(t):t,state:n,key:t&&t.key||i||w4()}}function Gl({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Bo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function k4(e,t,n,i={}){let{window:o=document.defaultView,v5Compat:l=!1}=i,a=o.history,c="POP",h=null,d=g();d==null&&(d=0,a.replaceState({...a.state,idx:d},""));function g(){return(a.state||{idx:null}).idx}function m(){c="POP";let S=g(),b=S==null?null:S-d;d=S,h&&h({action:c,location:k.location,delta:b})}function v(S,b){c="PUSH";let x=Rd(k.location,S,b);d=g()+1;let C=t0(x,d),M=k.createHref(x);try{a.pushState(C,"",M)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;o.location.assign(M)}l&&h&&h({action:c,location:k.location,delta:1})}function y(S,b){c="REPLACE";let x=Rd(k.location,S,b);d=g();let C=t0(x,d),M=k.createHref(x);a.replaceState(C,"",M),l&&h&&h({action:c,location:k.location,delta:0})}function w(S){let b=o.location.origin!=="null"?o.location.origin:o.location.href,x=typeof S=="string"?S:Gl(S);return x=x.replace(/ $/,"%20"),ct(b,`No window.location.(origin|href) available to create URL for href: ${x}`),new URL(x,b)}let k={get action(){return c},get location(){return e(o,a)},listen(S){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(e0,m),h=S,()=>{o.removeEventListener(e0,m),h=null}},createHref(S){return t(o,S)},createURL:w,encodeLocation(S){let b=w(S);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:v,replace:y,go(S){return a.go(S)}};return k}function a1(e,t,n="/"){return b4(e,t,n,!1)}function b4(e,t,n,i){let o=typeof t=="string"?Bo(t):t,l=Qi(o.pathname||"/",n);if(l==null)return null;let a=u1(e);S4(a);let c=null;for(let h=0;c==null&&h<a.length;++h){let d=N4(l);c=L4(a[h],d,i)}return c}function u1(e,t=[],n=[],i=""){let o=(l,a,c)=>{let h={relativePath:c===void 0?l.path||"":c,caseSensitive:l.caseSensitive===!0,childrenIndex:a,route:l};h.relativePath.startsWith("/")&&(ct(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length));let d=pi([i,h.relativePath]),g=n.concat(h);l.children&&l.children.length>0&&(ct(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),u1(l.children,t,g,d)),!(l.path==null&&!l.index)&&t.push({path:d,score:A4(d,l.index),routesMeta:g})};return e.forEach((l,a)=>{var c;if(l.path===""||!((c=l.path)!=null&&c.includes("?")))o(l,a);else for(let h of c1(l.path))o(l,a,h)}),t}function c1(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,o=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let a=c1(i.join("/")),c=[];return c.push(...a.map(h=>h===""?l:[l,h].join("/"))),o&&c.push(...a),c.map(h=>e.startsWith("/")&&h===""?"/":h)}function S4(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:O4(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var E4=/^:[\w-]+$/,C4=3,R4=2,T4=1,M4=10,P4=-2,n0=e=>e==="*";function A4(e,t){let n=e.split("/"),i=n.length;return n.some(n0)&&(i+=P4),t&&(i+=R4),n.filter(o=>!n0(o)).reduce((o,l)=>o+(E4.test(l)?C4:l===""?T4:M4),i)}function O4(e,t){return e.length===t.length&&e.slice(0,-1).every((i,o)=>i===t[o])?e[e.length-1]-t[t.length-1]:0}function L4(e,t,n=!1){let{routesMeta:i}=e,o={},l="/",a=[];for(let c=0;c<i.length;++c){let h=i[c],d=c===i.length-1,g=l==="/"?t:t.slice(l.length)||"/",m=nc({path:h.relativePath,caseSensitive:h.caseSensitive,end:d},g),v=h.route;if(!m&&d&&n&&!i[i.length-1].route.index&&(m=nc({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!m)return null;Object.assign(o,m.params),a.push({params:o,pathname:pi([l,m.pathname]),pathnameBase:z4(pi([l,m.pathnameBase])),route:v}),m.pathnameBase!=="/"&&(l=pi([l,m.pathnameBase]))}return a}function nc(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=F4(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let l=o[0],a=l.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:i.reduce((d,{paramName:g,isOptional:m},v)=>{if(g==="*"){let w=c[v]||"";a=l.slice(0,l.length-w.length).replace(/(.)\/+$/,"$1")}const y=c[v];return m&&!y?d[g]=void 0:d[g]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:l,pathnameBase:a,pattern:e}}function F4(e,t=!1,n=!0){Hr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,c,h)=>(i.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),i]}function N4(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Hr(!1,`The URL path "${e}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Qi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function I4(e,t="/"){let{pathname:n,search:i="",hash:o=""}=typeof e=="string"?Bo(e):e;return{pathname:n?n.startsWith("/")?n:j4(n,t):t,search:B4(i),hash:$4(o)}}function j4(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function qh(e,t,n,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function D4(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function f1(e){let t=D4(e);return t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase)}function h1(e,t,n,i=!1){let o;typeof e=="string"?o=Bo(e):(o={...e},ct(!o.pathname||!o.pathname.includes("?"),qh("?","pathname","search",o)),ct(!o.pathname||!o.pathname.includes("#"),qh("#","pathname","hash",o)),ct(!o.search||!o.search.includes("#"),qh("#","search","hash",o)));let l=e===""||o.pathname==="",a=l?"/":o.pathname,c;if(a==null)c=n;else{let m=t.length-1;if(!i&&a.startsWith("..")){let v=a.split("/");for(;v[0]==="..";)v.shift(),m-=1;o.pathname=v.join("/")}c=m>=0?t[m]:"/"}let h=I4(o,c),d=a&&a!=="/"&&a.endsWith("/"),g=(l||a===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(d||g)&&(h.pathname+="/"),h}var pi=e=>e.join("/").replace(/\/\/+/g,"/"),z4=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),B4=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,$4=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function U4(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var d1=["POST","PUT","PATCH","DELETE"];new Set(d1);var V4=["GET",...d1];new Set(V4);var $o=E.createContext(null);$o.displayName="DataRouter";var Tc=E.createContext(null);Tc.displayName="DataRouterState";var p1=E.createContext({isTransitioning:!1});p1.displayName="ViewTransition";var H4=E.createContext(new Map);H4.displayName="Fetchers";var W4=E.createContext(null);W4.displayName="Await";var Xr=E.createContext(null);Xr.displayName="Navigation";var ra=E.createContext(null);ra.displayName="Location";var Kr=E.createContext({outlet:null,matches:[],isDataRoute:!1});Kr.displayName="Route";var sp=E.createContext(null);sp.displayName="RouteError";function Y4(e,{relative:t}={}){ct(ia(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=E.useContext(Xr),{hash:o,pathname:l,search:a}=sa(e,{relative:t}),c=l;return n!=="/"&&(c=l==="/"?n:pi([n,l])),i.createHref({pathname:c,search:a,hash:o})}function ia(){return E.useContext(ra)!=null}function zs(){return ct(ia(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(ra).location}var g1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function m1(e){E.useContext(Xr).static||E.useLayoutEffect(e)}function X4(){let{isDataRoute:e}=E.useContext(Kr);return e?lC():K4()}function K4(){ct(ia(),"useNavigate() may be used only in the context of a <Router> component.");let e=E.useContext($o),{basename:t,navigator:n}=E.useContext(Xr),{matches:i}=E.useContext(Kr),{pathname:o}=zs(),l=JSON.stringify(f1(i)),a=E.useRef(!1);return m1(()=>{a.current=!0}),E.useCallback((h,d={})=>{if(Hr(a.current,g1),!a.current)return;if(typeof h=="number"){n.go(h);return}let g=h1(h,JSON.parse(l),o,d.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:pi([t,g.pathname])),(d.replace?n.replace:n.push)(g,d.state,d)},[t,n,l,o,e])}E.createContext(null);function q4(){let{matches:e}=E.useContext(Kr),t=e[e.length-1];return t?t.params:{}}function sa(e,{relative:t}={}){let{matches:n}=E.useContext(Kr),{pathname:i}=zs(),o=JSON.stringify(f1(n));return E.useMemo(()=>h1(e,JSON.parse(o),i,t==="path"),[e,o,i,t])}function G4(e,t){return y1(e,t)}function y1(e,t,n,i){var b;ct(ia(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=E.useContext(Xr),{matches:l}=E.useContext(Kr),a=l[l.length-1],c=a?a.params:{},h=a?a.pathname:"/",d=a?a.pathnameBase:"/",g=a&&a.route;{let x=g&&g.path||"";_1(h,!g||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let m=zs(),v;if(t){let x=typeof t=="string"?Bo(t):t;ct(d==="/"||((b=x.pathname)==null?void 0:b.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${x.pathname}" was given in the \`location\` prop.`),v=x}else v=m;let y=v.pathname||"/",w=y;if(d!=="/"){let x=d.replace(/^\//,"").split("/");w="/"+y.replace(/^\//,"").split("/").slice(x.length).join("/")}let k=a1(e,{pathname:w});Hr(g||k!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Hr(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=tC(k&&k.map(x=>Object.assign({},x,{params:Object.assign({},c,x.params),pathname:pi([d,o.encodeLocation?o.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?d:pi([d,o.encodeLocation?o.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),l,n,i);return t&&S?E.createElement(ra.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},S):S}function Q4(){let e=oC(),t=U4(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=E.createElement(E.Fragment,null,E.createElement("p",null," Hey developer "),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:l},"ErrorBoundary")," or"," ",E.createElement("code",{style:l},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},t),n?E.createElement("pre",{style:o},n):null,a)}var Z4=E.createElement(Q4,null),J4=class extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?E.createElement(Kr.Provider,{value:this.props.routeContext},E.createElement(sp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function eC({routeContext:e,match:t,children:n}){let i=E.useContext($o);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),E.createElement(Kr.Provider,{value:e},n)}function tC(e,t=[],n=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=n==null?void 0:n.errors;if(l!=null){let h=o.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);ct(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,h+1))}let a=!1,c=-1;if(n)for(let h=0;h<o.length;h++){let d=o[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=h),d.route.id){let{loaderData:g,errors:m}=n,v=d.route.loader&&!g.hasOwnProperty(d.route.id)&&(!m||m[d.route.id]===void 0);if(d.route.lazy||v){a=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,d,g)=>{let m,v=!1,y=null,w=null;n&&(m=l&&d.route.id?l[d.route.id]:void 0,y=d.route.errorElement||Z4,a&&(c<0&&g===0?(_1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,w=null):c===g&&(v=!0,w=d.route.hydrateFallbackElement||null)));let k=t.concat(o.slice(0,g+1)),S=()=>{let b;return m?b=y:v?b=w:d.route.Component?b=E.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=h,E.createElement(eC,{match:d,routeContext:{outlet:h,matches:k,isDataRoute:n!=null},children:b})};return n&&(d.route.ErrorBoundary||d.route.errorElement||g===0)?E.createElement(J4,{location:n.location,revalidation:n.revalidation,component:y,error:m,children:S(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):S()},null)}function op(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nC(e){let t=E.useContext($o);return ct(t,op(e)),t}function rC(e){let t=E.useContext(Tc);return ct(t,op(e)),t}function iC(e){let t=E.useContext(Kr);return ct(t,op(e)),t}function lp(e){let t=iC(e),n=t.matches[t.matches.length-1];return ct(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function sC(){return lp("useRouteId")}function oC(){var i;let e=E.useContext(sp),t=rC("useRouteError"),n=lp("useRouteError");return e!==void 0?e:(i=t.errors)==null?void 0:i[n]}function lC(){let{router:e}=nC("useNavigate"),t=lp("useNavigate"),n=E.useRef(!1);return m1(()=>{n.current=!0}),E.useCallback(async(o,l={})=>{Hr(n.current,g1),n.current&&(typeof o=="number"?e.navigate(o):await e.navigate(o,{fromRouteId:t,...l}))},[e,t])}var r0={};function _1(e,t,n){!t&&!r0[e]&&(r0[e]=!0,Hr(!1,n))}E.memo(aC);function aC({routes:e,future:t,state:n}){return y1(e,void 0,n,t)}function Td(e){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function uC({basename:e="/",children:t=null,location:n,navigationType:i="POP",navigator:o,static:l=!1}){ct(!ia(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=e.replace(/^\/*/,"/"),c=E.useMemo(()=>({basename:a,navigator:o,static:l,future:{}}),[a,o,l]);typeof n=="string"&&(n=Bo(n));let{pathname:h="/",search:d="",hash:g="",state:m=null,key:v="default"}=n,y=E.useMemo(()=>{let w=Qi(h,a);return w==null?null:{location:{pathname:w,search:d,hash:g,state:m,key:v},navigationType:i}},[a,h,d,g,m,v,i]);return Hr(y!=null,`<Router basename="${a}"> is not able to match the URL "${h}${d}${g}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:E.createElement(Xr.Provider,{value:c},E.createElement(ra.Provider,{children:t,value:y}))}function cC({children:e,location:t}){return G4(Md(e),t)}function Md(e,t=[]){let n=[];return E.Children.forEach(e,(i,o)=>{if(!E.isValidElement(i))return;let l=[...t,o];if(i.type===E.Fragment){n.push.apply(n,Md(i.props.children,l));return}ct(i.type===Td,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!i.props.index||!i.props.children,"An index route cannot have child routes.");let a={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=Md(i.props.children,l)),n.push(a)}),n}var ju="get",Du="application/x-www-form-urlencoded";function Mc(e){return e!=null&&typeof e.tagName=="string"}function fC(e){return Mc(e)&&e.tagName.toLowerCase()==="button"}function hC(e){return Mc(e)&&e.tagName.toLowerCase()==="form"}function dC(e){return Mc(e)&&e.tagName.toLowerCase()==="input"}function pC(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function gC(e,t){return e.button===0&&(!t||t==="_self")&&!pC(e)}var Au=null;function mC(){if(Au===null)try{new FormData(document.createElement("form"),0),Au=!1}catch{Au=!0}return Au}var yC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Gh(e){return e!=null&&!yC.has(e)?(Hr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Du}"`),null):e}function _C(e,t){let n,i,o,l,a;if(hC(e)){let c=e.getAttribute("action");i=c?Qi(c,t):null,n=e.getAttribute("method")||ju,o=Gh(e.getAttribute("enctype"))||Du,l=new FormData(e)}else if(fC(e)||dC(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||c.getAttribute("action");if(i=h?Qi(h,t):null,n=e.getAttribute("formmethod")||c.getAttribute("method")||ju,o=Gh(e.getAttribute("formenctype"))||Gh(c.getAttribute("enctype"))||Du,l=new FormData(c,e),!mC()){let{name:d,type:g,value:m}=e;if(g==="image"){let v=d?`${d}.`:"";l.append(`${v}x`,"0"),l.append(`${v}y`,"0")}else d&&l.append(d,m)}}else{if(Mc(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ju,i=null,o=Du,a=e}return l&&o==="text/plain"&&(a=l,l=void 0),{action:i,method:n.toLowerCase(),encType:o,formData:l,body:a}}function ap(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function vC(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function xC(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function wC(e,t,n){let i=await Promise.all(e.map(async o=>{let l=t.routes[o.route.id];if(l){let a=await vC(l,n);return a.links?a.links():[]}return[]}));return EC(i.flat(1).filter(xC).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function i0(e,t,n,i,o,l){let a=(h,d)=>n[d]?h.route.id!==n[d].route.id:!0,c=(h,d)=>{var g;return n[d].pathname!==h.pathname||((g=n[d].route.path)==null?void 0:g.endsWith("*"))&&n[d].params["*"]!==h.params["*"]};return l==="assets"?t.filter((h,d)=>a(h,d)||c(h,d)):l==="data"?t.filter((h,d)=>{var m;let g=i.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(a(h,d)||c(h,d))return!0;if(h.route.shouldRevalidate){let v=h.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function kC(e,t){return bC(e.map(n=>{let i=t.routes[n.route.id];if(!i)return[];let o=[i.module];return i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function bC(e){return[...new Set(e)]}function SC(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}function EC(e,t){let n=new Set;return new Set(t),e.reduce((i,o)=>{let l=JSON.stringify(SC(o));return n.has(l)||(n.add(l),i.push({key:l,link:o})),i},[])}function CC(e){let t=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function RC(){let e=E.useContext($o);return ap(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function TC(){let e=E.useContext(Tc);return ap(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var up=E.createContext(void 0);up.displayName="FrameworkContext";function v1(){let e=E.useContext(up);return ap(e,"You must render this element inside a <HydratedRouter> element"),e}function MC(e,t){let n=E.useContext(up),[i,o]=E.useState(!1),[l,a]=E.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:d,onMouseLeave:g,onTouchStart:m}=t,v=E.useRef(null);E.useEffect(()=>{if(e==="render"&&a(!0),e==="viewport"){let k=b=>{b.forEach(x=>{a(x.isIntersecting)})},S=new IntersectionObserver(k,{threshold:.5});return v.current&&S.observe(v.current),()=>{S.disconnect()}}},[e]),E.useEffect(()=>{if(i){let k=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(k)}}},[i]);let y=()=>{o(!0)},w=()=>{o(!1),a(!1)};return n?e!=="intent"?[l,v,{}]:[l,v,{onFocus:Ll(c,y),onBlur:Ll(h,w),onMouseEnter:Ll(d,y),onMouseLeave:Ll(g,w),onTouchStart:Ll(m,y)}]:[!1,v,{}]}function Ll(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function PC({page:e,...t}){let{router:n}=RC(),i=E.useMemo(()=>a1(n.routes,e,n.basename),[n.routes,e,n.basename]);return i?E.createElement(OC,{page:e,matches:i,...t}):null}function AC(e){let{manifest:t,routeModules:n}=v1(),[i,o]=E.useState([]);return E.useEffect(()=>{let l=!1;return wC(e,t,n).then(a=>{l||o(a)}),()=>{l=!0}},[e,t,n]),i}function OC({page:e,matches:t,...n}){let i=zs(),{manifest:o,routeModules:l}=v1(),{loaderData:a,matches:c}=TC(),h=E.useMemo(()=>i0(e,t,c,o,i,"data"),[e,t,c,o,i]),d=E.useMemo(()=>i0(e,t,c,o,i,"assets"),[e,t,c,o,i]),g=E.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let y=new Set,w=!1;if(t.forEach(S=>{var x;let b=o.routes[S.route.id];!b||!b.hasLoader||(!h.some(C=>C.route.id===S.route.id)&&S.route.id in a&&((x=l[S.route.id])!=null&&x.shouldRevalidate)||b.hasClientLoader?w=!0:y.add(S.route.id))}),y.size===0)return[];let k=CC(e);return w&&y.size>0&&k.searchParams.set("_routes",t.filter(S=>y.has(S.route.id)).map(S=>S.route.id).join(",")),[k.pathname+k.search]},[a,i,o,h,t,e,l]),m=E.useMemo(()=>kC(d,o),[d,o]),v=AC(d);return E.createElement(E.Fragment,null,g.map(y=>E.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...n})),m.map(y=>E.createElement("link",{key:y,rel:"modulepreload",href:y,...n})),v.map(({key:y,link:w})=>E.createElement("link",{key:y,...w})))}function LC(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var x1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{x1&&(window.__reactRouterVersion="7.1.1")}catch{}function FC({basename:e,children:t,window:n}){let i=E.useRef();i.current==null&&(i.current=x4({window:n,v5Compat:!0}));let o=i.current,[l,a]=E.useState({action:o.action,location:o.location}),c=E.useCallback(h=>{E.startTransition(()=>a(h))},[a]);return E.useLayoutEffect(()=>o.listen(c),[o,c]),E.createElement(uC,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:o})}var w1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cp=E.forwardRef(function({onClick:t,discover:n="render",prefetch:i="none",relative:o,reloadDocument:l,replace:a,state:c,target:h,to:d,preventScrollReset:g,viewTransition:m,...v},y){let{basename:w}=E.useContext(Xr),k=typeof d=="string"&&w1.test(d),S,b=!1;if(typeof d=="string"&&k&&(S=d,x1))try{let z=new URL(window.location.href),W=d.startsWith("//")?new URL(z.protocol+d):new URL(d),K=Qi(W.pathname,w);W.origin===z.origin&&K!=null?d=K+W.search+W.hash:b=!0}catch{Hr(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let x=Y4(d,{relative:o}),[C,M,A]=MC(i,v),N=DC(d,{replace:a,state:c,target:h,preventScrollReset:g,relative:o,viewTransition:m});function j(z){t&&t(z),z.defaultPrevented||N(z)}let X=E.createElement("a",{...v,...A,href:S||x,onClick:b||l?t:j,ref:LC(y,M),target:h,"data-discover":!k&&n==="render"?"true":void 0});return C&&!k?E.createElement(E.Fragment,null,X,E.createElement(PC,{page:x})):X});cp.displayName="Link";var NC=E.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:i="",end:o=!1,style:l,to:a,viewTransition:c,children:h,...d},g){let m=sa(a,{relative:d.relative}),v=zs(),y=E.useContext(Tc),{navigator:w,basename:k}=E.useContext(Xr),S=y!=null&&VC(m)&&c===!0,b=w.encodeLocation?w.encodeLocation(m).pathname:m.pathname,x=v.pathname,C=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(x=x.toLowerCase(),C=C?C.toLowerCase():null,b=b.toLowerCase()),C&&k&&(C=Qi(C,k)||C);const M=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let A=x===b||!o&&x.startsWith(b)&&x.charAt(M)==="/",N=C!=null&&(C===b||!o&&C.startsWith(b)&&C.charAt(b.length)==="/"),j={isActive:A,isPending:N,isTransitioning:S},X=A?t:void 0,z;typeof i=="function"?z=i(j):z=[i,A?"active":null,N?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let W=typeof l=="function"?l(j):l;return E.createElement(cp,{...d,"aria-current":X,className:z,ref:g,style:W,to:a,viewTransition:c},typeof h=="function"?h(j):h)});NC.displayName="NavLink";var IC=E.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:i,replace:o,state:l,method:a=ju,action:c,onSubmit:h,relative:d,preventScrollReset:g,viewTransition:m,...v},y)=>{let w=$C(),k=UC(c,{relative:d}),S=a.toLowerCase()==="get"?"get":"post",b=typeof c=="string"&&w1.test(c),x=C=>{if(h&&h(C),C.defaultPrevented)return;C.preventDefault();let M=C.nativeEvent.submitter,A=(M==null?void 0:M.getAttribute("formmethod"))||a;w(M||C.currentTarget,{fetcherKey:t,method:A,navigate:n,replace:o,state:l,relative:d,preventScrollReset:g,viewTransition:m})};return E.createElement("form",{ref:y,method:S,action:k,onSubmit:i?h:x,...v,"data-discover":!b&&e==="render"?"true":void 0})});IC.displayName="Form";function jC(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function k1(e){let t=E.useContext($o);return ct(t,jC(e)),t}function DC(e,{target:t,replace:n,state:i,preventScrollReset:o,relative:l,viewTransition:a}={}){let c=X4(),h=zs(),d=sa(e,{relative:l});return E.useCallback(g=>{if(gC(g,t)){g.preventDefault();let m=n!==void 0?n:Gl(h)===Gl(d);c(e,{replace:m,state:i,preventScrollReset:o,relative:l,viewTransition:a})}},[h,c,d,n,i,t,e,o,l,a])}var zC=0,BC=()=>`__${String(++zC)}__`;function $C(){let{router:e}=k1("useSubmit"),{basename:t}=E.useContext(Xr),n=sC();return E.useCallback(async(i,o={})=>{let{action:l,method:a,encType:c,formData:h,body:d}=_C(i,t);if(o.navigate===!1){let g=o.fetcherKey||BC();await e.fetch(g,n,o.action||l,{preventScrollReset:o.preventScrollReset,formData:h,body:d,formMethod:o.method||a,formEncType:o.encType||c,flushSync:o.flushSync})}else await e.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:h,body:d,formMethod:o.method||a,formEncType:o.encType||c,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[e,t,n])}function UC(e,{relative:t}={}){let{basename:n}=E.useContext(Xr),i=E.useContext(Kr);ct(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),l={...sa(e||".",{relative:t})},a=zs();if(e==null){l.search=a.search;let c=new URLSearchParams(l.search),h=c.getAll("index");if(h.some(g=>g==="")){c.delete("index"),h.filter(m=>m).forEach(m=>c.append("index",m));let g=c.toString();l.search=g?`?${g}`:""}}return(!e||e===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:pi([n,l.pathname])),Gl(l)}function VC(e,t={}){let n=E.useContext(p1);ct(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=k1("useViewTransitionState"),o=sa(e,{relative:t.relative});if(!n.isTransitioning)return!1;let l=Qi(n.currentLocation.pathname,i)||n.currentLocation.pathname,a=Qi(n.nextLocation.pathname,i)||n.nextLocation.pathname;return nc(o.pathname,a)!=null||nc(o.pathname,l)!=null}new TextEncoder;const HC=()=>{const[e,t]=E.useState([]);async function n(){const i=await hb();t(i)}return E.useEffect(()=>{n()},[]),P.jsxs(P.Fragment,{children:[P.jsx("div",{className:"pb-1 pt-4",children:"Sketches"}),P.jsx("div",{className:"h-64 overflow-y-auto scroll-smooth shadow rounded bg-default-3",children:P.jsx("div",{className:"flex flex-col text-sm gap-1",children:e.map(i=>P.jsx(cp,{className:"px-2 py-0.5 hover:bg-default-4",to:`/sketch/${i}`,children:i},i))})})]})};let rc=new Map,Pd;function WC(){for(const[,e]of rc)Sc({type:"update",label:"Edit properties",shapeId:e.shapeId,changes:Array.from(e.changes.values())});rc=new Map,Pd=void 0}function YC(e,t,n,i){let o=rc.get(e);o||(o={shapeId:e,changes:new Map},rc.set(e,o));const l=o.changes.get(t);o.changes.set(t,{field:t,oldValue:l?l.oldValue:n,newValue:i}),clearTimeout(Pd),Pd=setTimeout(WC,500)}function XC(e,t){const n=t.split(".");return n.length===2?e[n[0]][n[1]]:e[t]}const KC=()=>{const e=Mn(c=>c.selected),t=e==null?void 0:e[0],n=rt(t==null?void 0:t.stroke).toRgb(),i=rt(t==null?void 0:t.fill).toRgb(),o=dt(c=>c.canvasColor),l=dt.getState().setCanvasColor;function a(c,h){const d=$e();for(const g of Mn.getState().selected){const m=XC(g,c),v=c.split(".");["stroke","fill"].includes(c)&&(h=rt(h).toHex()),v.length==2?g[v[0]][v[1]]=h:g[c]=h,YC(g.id,c,m,h)}d.throttledTwoUpdate()}return P.jsxs("div",{className:"flex flex-col h-full",children:[P.jsxs("div",{className:"flex-grow",children:[!(e!=null&&e.length)&&P.jsxs(P.Fragment,{children:[P.jsx("div",{className:"pt-4 pb-1 text-sm",children:"Page"}),P.jsx("div",{className:"flex flex-col gap-4",children:P.jsx($r,{value:o,onChange:c=>l(c)})}),P.jsx("div",{children:P.jsx(HC,{})})]}),!!(e!=null&&e.length)&&P.jsxs(P.Fragment,{children:[P.jsx("div",{className:"pt-4 pb-1 text-sm",children:"Color"}),P.jsxs("div",{className:"flex flex-col gap-4",children:[n&&P.jsx($r,{value:n,onChange:c=>a("stroke",c)}),i&&P.jsx($r,{value:i,onChange:c=>a("fill",c)})]}),P.jsx("div",{className:"pt-4 pb-1 text-sm",children:"Stroke"}),P.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[P.jsx(Lt,{icon:Od,min:1,max:5e3,value:t==null?void 0:t.linewidth,onChange:c=>a("linewidth",c)}),P.jsx(Lt,{icon:d0,min:-100,max:100,value:t==null?void 0:t.radius,onChange:c=>a("radius",c)})]}),P.jsx("div",{className:"pt-4 pb-1 text-sm",children:"Size"}),P.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[P.jsx(Lt,{icon:o2,min:1,max:5e3,value:t==null?void 0:t.width,onChange:c=>a("width",c)}),P.jsx(Lt,{icon:i2,min:1,max:5e3,value:t==null?void 0:t.height,onChange:c=>a("height",c)})]}),P.jsx("div",{className:"pt-4 pb-1 text-sm",children:"Position"}),P.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[P.jsx(Lt,{icon:p2,min:-5e3,max:5e3,value:t==null?void 0:t.position.x,onChange:c=>a("position.x",c)}),P.jsx(Lt,{icon:m2,min:-5e3,max:5e3,value:t==null?void 0:t.position.y,onChange:c=>a("position.y",c)})]}),P.jsx("div",{className:"pt-4 pb-1 text-sm",children:"Transform"}),P.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[P.jsx(Lt,{icon:u0,min:-360,max:360,sensitivity:1,value:t==null?void 0:t.rotation,onChange:c=>a("rotation",c),convertFrom:nE,convertTo:rE}),P.jsx(Lt,{icon:Dw,min:-1/0,max:1/0,sensitivity:1,value:t==null?void 0:t.scale,onChange:c=>a("scale",c),convertFrom:c=>c*100,convertTo:c=>c/100}),P.jsx(Lt,{icon:c2,min:-Math.PI,max:Math.PI,sensitivity:.01,value:t==null?void 0:t.skewX,onChange:c=>a("skewX",c)}),P.jsx(Lt,{icon:h2,min:-Math.PI,max:Math.PI,sensitivity:.01,value:t==null?void 0:t.skewY,onChange:c=>a("skewY",c)})]})]})]}),P.jsx("div",{children:P.jsx(b3,{})}),P.jsx("div",{children:P.jsx(x3,{})}),P.jsx("div",{className:"pt-16"})]})},qC=()=>{const e=dt(n=>n.isPanelOpen),t=dt.getState().setIsPanelOpen;return P.jsx("div",{className:`transition-all duration-150 w-64 absolute right-0 top-0 overflow-hidden ${e?"h-[calc(100%-56px)] md:h-full":"h-11"}`,children:P.jsxs("div",{className:`bg-default-2 border-l border-default-1 px-4 h-full ${e?"":"rounded-bl-lg"}`,children:[P.jsxs("div",{className:"flex items-center w-full gap-4 py-1",children:[P.jsx(Yi,{onClick:()=>t(!e),children:P.jsx(Gw,{stroke:1})}),P.jsx(GC,{})]}),P.jsx(KC,{})]})})},GC=()=>{const e=Ec(o=>o.zoom),t=Vr(o=>o.undoStack.length),n=Vr(o=>o.redoStack.length),i=()=>{$e().saveDoodles()};return P.jsxs("div",{className:"text-sm flex justify-end items-center w-full",children:[P.jsx(Et,{tooltip:"Undo (Ctrl+Z)",children:P.jsx(Yi,{onClick:Gd,disabled:t===0,children:P.jsx(c0,{stroke:1})})}),P.jsx(Et,{tooltip:"Redo (Ctrl+Shift+Z)",children:P.jsx(Yi,{onClick:Qd,disabled:n===0,children:P.jsx(f0,{stroke:1})})}),P.jsx(Et,{tooltip:"Save to local storage",children:P.jsx(Yi,{onClick:()=>i(),children:P.jsx(Iw,{stroke:1})})}),P.jsx(Et,{tooltip:"Reset zoom",children:P.jsx(Yi,{onClick:()=>qE(),children:P.jsx(Hw,{stroke:1})})}),P.jsxs("div",{className:"w-12 text-right",children:[e,"%"]})]})},QC=()=>{E.useEffect(()=>(window.addEventListener("wheel",s0,{passive:!1}),()=>{window.removeEventListener("wheel",s0)}),[])};function s0(e){var t;e.deltaX!==0&&((t=e==null?void 0:e.preventDefault)==null||t.call(e))}const ZC=()=>{let e=dt(n=>n.selectedTool);const t=dt(n=>n.restoreTool);return t&&(e=t),e==="brush"?P.jsx(JC,{}):e==="square"?P.jsx(eR,{}):e==="bezier"?P.jsx(nR,{}):e==="line"||e==="arrow"?P.jsx(rR,{}):e==="text"?P.jsx(tR,{}):null},JC=()=>{const e=hi(g=>g.strokeWidth),t=hi(g=>g.tolerance),n=hi(g=>g.stabilizer),i=hi(g=>g.strokeColor),o=hi(g=>g.simplifyAlgo),{setStrokeColor:l,setStrokeWidth:a,setStabilizer:c,setTolerance:h,setSimplifyAlgo:d}=hi.getState();return P.jsxs("div",{className:"flex flex-row gap-2 text-xs items-center",children:[P.jsx("label",{children:"Color"}),P.jsx($r,{value:i,onChange:g=>l(g)}),P.jsx("label",{className:"pl-2",children:"Stroke"}),P.jsx(Lt,{className:"max-w-20",value:e,min:1,max:256,onChange:g=>a(g),icon:Od}),P.jsx("label",{className:"pl-2",children:"Stabilizer"}),P.jsx(Lt,{className:"max-w-20",value:n,min:0,max:10,onChange:g=>c(g),icon:Ow}),P.jsx("label",{className:"pl-2",children:"Smoothing"}),P.jsx(Lt,{className:"max-w-20",value:t,min:0,max:100,onChange:g=>h(g),icon:m0}),P.jsxs(Zv,{children:[P.jsx(Et,{tooltip:"Douglas-Peucker: High-performance general-purpose simplification. Preserves the path's overall shape efficiently. The number represents the acceptable tolerance x 10 times",children:P.jsx(zl,{isSelected:o==="douglas",onClick:()=>d("douglas"),children:P.jsx(x2,{size:20,stroke:1})})}),P.jsx(Et,{tooltip:"Area of Triangle smoothing: General-purpose line simplification, especially for preserving visual shapes and smooth curves. The number represents the percentage of nodes to simplify. (Visvalingam-Whyatt algorithm)",children:P.jsx(zl,{isSelected:o==="triangle",onClick:()=>d("triangle"),children:P.jsx(k2,{size:20,stroke:1})})}),P.jsx(Et,{tooltip:"Angle smoothing: Best for straight-line approximations and paths where deviations from linearity are critical to detect. The number represents the percentage of nodes to simplify. (Visvalingam-Whyatt algorithm)",children:P.jsx(zl,{isSelected:o==="angle",onClick:()=>d("angle"),children:P.jsx(u0,{size:20,stroke:1})})}),P.jsx(Et,{tooltip:"Perpendicular Distance smoothing: Best for straight-line approximations and paths where deviations from linearity are critical to detect. The number the represents percentage of nodes to simplify. (Visvalingam-Whyatt algorithm)",children:P.jsx(zl,{isSelected:o==="distance",onClick:()=>d("distance"),children:P.jsx(g0,{size:20,stroke:1})})})]})]})},eR=()=>{const e=Hi(h=>h.strokeWidth),t=Hi(h=>h.strokeColor),n=Hi(h=>h.fillColor),i=Hi(h=>h.radius),{setStrokeColor:o,setStrokeWidth:l,setFillColor:a,setRadius:c}=Hi.getState();return P.jsxs("div",{className:"flex flex-row gap-2 text-xs items-center",children:[P.jsx("label",{children:"Fill"}),P.jsx($r,{value:n,onChange:h=>a(h)}),P.jsx("label",{className:"pl-2",children:"Stroke"}),P.jsx($r,{value:t,onChange:h=>o(h)}),P.jsx("label",{className:"pl-2",children:"Width"}),P.jsx(Lt,{className:"max-w-24",value:e,min:0,max:100,onChange:h=>l(h),icon:p0}),P.jsx("label",{className:"pl-2",children:"Radius"}),P.jsx(Lt,{className:"max-w-24",value:i,min:0,max:100,onChange:h=>c(h),icon:d0})]})},tR=()=>{const e=Dl(a=>a.fontSize),t=Dl(a=>a.fillColor),n=Dl(a=>a.fontFamily),{setFillColor:i,setFontSize:o,setFontFamily:l}=Dl.getState();return P.jsxs("div",{className:"flex flex-row gap-2 text-xs items-center",children:[P.jsx("label",{children:"Color"}),P.jsx($r,{value:t,onChange:a=>i(a)}),P.jsx("label",{className:"pl-2",children:"Size"}),P.jsx(Lt,{className:"max-w-24",value:e,min:8,max:256,onChange:a=>o(a),icon:Ld}),P.jsx("label",{className:"pl-2",children:"Font"}),P.jsxs("select",{className:"bg-default-3 border border-default-1 rounded px-2 py-1 text-xs",value:n,onChange:a=>l(a.target.value),children:[P.jsx("option",{value:"sans-serif",children:"Sans Serif"}),P.jsx("option",{value:"serif",children:"Serif"}),P.jsx("option",{value:"monospace",children:"Monospace"}),P.jsx("option",{value:"cursive",children:"Cursive"})]})]})},nR=()=>{const e=Rn(a=>a.strokeWidth),t=Rn(a=>a.strokeColor),n=Rn(a=>a.fillColor),{setStrokeColor:i,setStrokeWidth:o,setFillColor:l}=Rn.getState();return P.jsxs("div",{className:"flex flex-row gap-2 text-xs items-center",children:[P.jsx("label",{children:"Fill"}),P.jsx($r,{value:n,onChange:a=>l(a)}),P.jsx("label",{className:"pl-2",children:"Stroke"}),P.jsx($r,{value:t,onChange:a=>i(a)}),P.jsx("label",{className:"pl-2",children:"Width"}),P.jsx(Lt,{className:"max-w-24",value:e,min:0,max:100,onChange:a=>o(a),icon:sc})]})},rR=()=>{const e=Wi(c=>c.strokeWidth),t=Wi(c=>c.strokeColor),n=Wi(c=>c.doubleArrow),i=dt(c=>c.selectedTool),{setStrokeColor:o,setStrokeWidth:l,setDoubleArrow:a}=Wi.getState();return P.jsxs("div",{className:"flex flex-row gap-2 text-xs items-center",children:[P.jsx("label",{children:"Color"}),P.jsx($r,{value:t,onChange:c=>o(c)}),P.jsx("label",{className:"pl-2",children:"Width"}),P.jsx(Lt,{className:"max-w-24",value:e,min:1,max:100,onChange:c=>l(c),icon:sc}),i==="arrow"&&P.jsxs(P.Fragment,{children:[P.jsx("label",{className:"pl-2",children:"Double"}),P.jsx(Zv,{children:P.jsx(Et,{tooltip:"Double-ended arrow",children:P.jsx(zl,{isSelected:n,onClick:()=>a(!n),children:P.jsx(Tw,{size:20,stroke:1})})})})]})]})},iR=()=>P.jsx("div",{className:"absolute inset-0 bg-default-1 flex flex-center transition-opacity",children:P.jsx("div",{className:"w-64",children:P.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 700 311",version:"1.1",xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd",children:[P.jsx("path",{fill:"none",stroke:"#2b2b2b",strokeWidth:30,strokeLinecap:"round",d:"M187,274C187,274 170.378,268.864 228.974,285C292.703,302.549 303.927,266.646 338,265C374.056,263.258 399.792,287.297 431,286C454.178,285.037 488.914,274.714 493,275C520.055,276.893 531.314,284.145 556,288C578.43,291.503 591.566,293.837 607,294C626.331,294.205 671,282 671,282"}),P.jsx("path",{className:"animate-tail",fill:"none",stroke:"#6e6e6e",strokeWidth:30,strokeDasharray:500,strokeLinecap:"round",d:"M187,274C187,274 170.378,268.864 228.974,285C292.703,302.549 303.927,266.646 338,265C374.056,263.258 399.792,287.297 431,286C454.178,285.037 488.914,274.714 493,275C520.055,276.893 531.314,284.145 556,288C578.43,291.503 591.566,293.837 607,294C626.331,294.205 671,282 671,282"}),P.jsx("g",{transform:"matrix(1,0,0,1,-812.627,-384.976)",children:P.jsx("path",{fill:"#6e6e6e",d:"M867,654C867,654 852.472,690.859 850,692C847.528,693.141 836.252,694.04 832,692C827.748,689.96 827.491,691.692 823,680C818.774,668.997 828.585,670.176 832,667C833.65,665.465 833.381,633.906 828,602C822.619,570.094 818.937,566.178 814,529C809.063,491.822 818.383,449.085 827,438C835.617,426.915 847.48,414.625 847,415C846.52,415.375 863.327,383.996 867,385C870.673,386.004 878.926,404.441 884,406C885.134,406.348 897.779,406.147 905,408C914.601,410.463 921.008,418.516 924,420C926.992,421.484 949.052,408.87 955,412C960.948,415.13 957.273,443.171 954,448C953.51,448.724 959.617,477.941 961,484C962.383,490.059 963.043,498.797 971,518C978.609,536.363 1012.31,578.249 1016,586C1019.7,593.751 1037.3,629.813 1029,655C1018.99,685.409 992.067,694.274 980,695C948.988,696.865 870,694 870,694C870,694 861.378,693.918 862,683C862.33,677.209 879.324,673.309 883,675C886.676,676.691 867,654 867,654Z"})})]})})}),o0=()=>{QC();const{id:e}=q4(),t=e||"local",n=450,[i,o]=E.useState(!0),l=E.useCallback(()=>{setTimeout(()=>o(!1),n)},[o,n]);return P.jsxs("main",{className:"w-dvw h-dvh flex flex-col text-white relative",children:[P.jsx("div",{className:"bg-default-2 border-b border-default-1 min-h-12 h-12 flex items-center px-4",children:P.jsx(ZC,{})}),P.jsxs("div",{className:"flex-grow flex relative overflow-hidden",children:[P.jsx(ub,{}),P.jsx(_3,{sketchId:t,onReady:l}),P.jsx(qC,{})]}),P.jsx("div",{className:"bg-default-2 border-t border-default-1 h-6 overflow-hidden",children:P.jsx(v3,{})}),i&&P.jsx(iR,{}),P.jsx(qS,{})]})};gw.createRoot(document.getElementById("root")).render(P.jsx(E.StrictMode,{children:P.jsx(FC,{children:P.jsxs(cC,{children:[P.jsx(Td,{path:"/*",element:P.jsx(o0,{})}),P.jsx(Td,{path:"/sketch/:id",element:P.jsx(o0,{})})]})})}));
